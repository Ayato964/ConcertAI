(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const h of l.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&r(h)}).observe(document,{childList:!0,subtree:!0});function s(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function r(o){if(o.ep)return;o.ep=!0;const l=s(o);fetch(o.href,l)}})();var Ml=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function tc(c){return c&&c.__esModule&&Object.prototype.hasOwnProperty.call(c,"default")?c.default:c}function $0(c){if(Object.prototype.hasOwnProperty.call(c,"__esModule"))return c;var n=c.default;if(typeof n=="function"){var s=function r(){var o=!1;try{o=this instanceof r}catch{}return o?Reflect.construct(n,arguments,this.constructor):n.apply(this,arguments)};s.prototype=n.prototype}else s={};return Object.defineProperty(s,"__esModule",{value:!0}),Object.keys(c).forEach(function(r){var o=Object.getOwnPropertyDescriptor(c,r);Object.defineProperty(s,r,o.get?o:{enumerable:!0,get:function(){return c[r]}})}),s}var Nh={exports:{}},Xa={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ig;function O1(){if(Ig)return Xa;Ig=1;var c=Symbol.for("react.transitional.element"),n=Symbol.for("react.fragment");function s(r,o,l){var h=null;if(l!==void 0&&(h=""+l),o.key!==void 0&&(h=""+o.key),"key"in o){l={};for(var u in o)u!=="key"&&(l[u]=o[u])}else l=o;return o=l.ref,{$$typeof:c,type:r,key:h,ref:o!==void 0?o:null,props:l}}return Xa.Fragment=n,Xa.jsx=s,Xa.jsxs=s,Xa}var qg;function M1(){return qg||(qg=1,Nh.exports=O1()),Nh.exports}var E=M1(),kh={exports:{}},Pt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vg;function D1(){if(Vg)return Pt;Vg=1;var c=Symbol.for("react.transitional.element"),n=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),h=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),_=Symbol.iterator;function b(U){return U===null||typeof U!="object"?null:(U=_&&U[_]||U["@@iterator"],typeof U=="function"?U:null)}var v={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},x=Object.assign,y={};function S(U,B,F){this.props=U,this.context=B,this.refs=y,this.updater=F||v}S.prototype.isReactComponent={},S.prototype.setState=function(U,B){if(typeof U!="object"&&typeof U!="function"&&U!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,U,B,"setState")},S.prototype.forceUpdate=function(U){this.updater.enqueueForceUpdate(this,U,"forceUpdate")};function w(){}w.prototype=S.prototype;function C(U,B,F){this.props=U,this.context=B,this.refs=y,this.updater=F||v}var M=C.prototype=new w;M.constructor=C,x(M,S.prototype),M.isPureReactComponent=!0;var O=Array.isArray,k={H:null,A:null,T:null,S:null,V:null},I=Object.prototype.hasOwnProperty;function z(U,B,F,lt,ot,tt){return F=tt.ref,{$$typeof:c,type:U,key:B,ref:F!==void 0?F:null,props:tt}}function D(U,B){return z(U.type,B,void 0,void 0,void 0,U.props)}function V(U){return typeof U=="object"&&U!==null&&U.$$typeof===c}function Z(U){var B={"=":"=0",":":"=2"};return"$"+U.replace(/[=:]/g,function(F){return B[F]})}var nt=/\/+/g;function R(U,B){return typeof U=="object"&&U!==null&&U.key!=null?Z(""+U.key):B.toString(36)}function W(){}function T(U){switch(U.status){case"fulfilled":return U.value;case"rejected":throw U.reason;default:switch(typeof U.status=="string"?U.then(W,W):(U.status="pending",U.then(function(B){U.status==="pending"&&(U.status="fulfilled",U.value=B)},function(B){U.status==="pending"&&(U.status="rejected",U.reason=B)})),U.status){case"fulfilled":return U.value;case"rejected":throw U.reason}}throw U}function K(U,B,F,lt,ot){var tt=typeof U;(tt==="undefined"||tt==="boolean")&&(U=null);var yt=!1;if(U===null)yt=!0;else switch(tt){case"bigint":case"string":case"number":yt=!0;break;case"object":switch(U.$$typeof){case c:case n:yt=!0;break;case m:return yt=U._init,K(yt(U._payload),B,F,lt,ot)}}if(yt)return ot=ot(U),yt=lt===""?"."+R(U,0):lt,O(ot)?(F="",yt!=null&&(F=yt.replace(nt,"$&/")+"/"),K(ot,B,F,"",function(bt){return bt})):ot!=null&&(V(ot)&&(ot=D(ot,F+(ot.key==null||U&&U.key===ot.key?"":(""+ot.key).replace(nt,"$&/")+"/")+yt)),B.push(ot)),1;yt=0;var Ot=lt===""?".":lt+":";if(O(U))for(var st=0;st<U.length;st++)lt=U[st],tt=Ot+R(lt,st),yt+=K(lt,B,F,tt,ot);else if(st=b(U),typeof st=="function")for(U=st.call(U),st=0;!(lt=U.next()).done;)lt=lt.value,tt=Ot+R(lt,st++),yt+=K(lt,B,F,tt,ot);else if(tt==="object"){if(typeof U.then=="function")return K(T(U),B,F,lt,ot);throw B=String(U),Error("Objects are not valid as a React child (found: "+(B==="[object Object]"?"object with keys {"+Object.keys(U).join(", ")+"}":B)+"). If you meant to render a collection of children, use an array instead.")}return yt}function H(U,B,F){if(U==null)return U;var lt=[],ot=0;return K(U,lt,"","",function(tt){return B.call(F,tt,ot++)}),lt}function G(U){if(U._status===-1){var B=U._result;B=B(),B.then(function(F){(U._status===0||U._status===-1)&&(U._status=1,U._result=F)},function(F){(U._status===0||U._status===-1)&&(U._status=2,U._result=F)}),U._status===-1&&(U._status=0,U._result=B)}if(U._status===1)return U._result.default;throw U._result}var ut=typeof reportError=="function"?reportError:function(U){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var B=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof U=="object"&&U!==null&&typeof U.message=="string"?String(U.message):String(U),error:U});if(!window.dispatchEvent(B))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",U);return}console.error(U)};function Y(){}return Pt.Children={map:H,forEach:function(U,B,F){H(U,function(){B.apply(this,arguments)},F)},count:function(U){var B=0;return H(U,function(){B++}),B},toArray:function(U){return H(U,function(B){return B})||[]},only:function(U){if(!V(U))throw Error("React.Children.only expected to receive a single React element child.");return U}},Pt.Component=S,Pt.Fragment=s,Pt.Profiler=o,Pt.PureComponent=C,Pt.StrictMode=r,Pt.Suspense=f,Pt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=k,Pt.__COMPILER_RUNTIME={__proto__:null,c:function(U){return k.H.useMemoCache(U)}},Pt.cache=function(U){return function(){return U.apply(null,arguments)}},Pt.cloneElement=function(U,B,F){if(U==null)throw Error("The argument must be a React element, but you passed "+U+".");var lt=x({},U.props),ot=U.key,tt=void 0;if(B!=null)for(yt in B.ref!==void 0&&(tt=void 0),B.key!==void 0&&(ot=""+B.key),B)!I.call(B,yt)||yt==="key"||yt==="__self"||yt==="__source"||yt==="ref"&&B.ref===void 0||(lt[yt]=B[yt]);var yt=arguments.length-2;if(yt===1)lt.children=F;else if(1<yt){for(var Ot=Array(yt),st=0;st<yt;st++)Ot[st]=arguments[st+2];lt.children=Ot}return z(U.type,ot,void 0,void 0,tt,lt)},Pt.createContext=function(U){return U={$$typeof:h,_currentValue:U,_currentValue2:U,_threadCount:0,Provider:null,Consumer:null},U.Provider=U,U.Consumer={$$typeof:l,_context:U},U},Pt.createElement=function(U,B,F){var lt,ot={},tt=null;if(B!=null)for(lt in B.key!==void 0&&(tt=""+B.key),B)I.call(B,lt)&&lt!=="key"&&lt!=="__self"&&lt!=="__source"&&(ot[lt]=B[lt]);var yt=arguments.length-2;if(yt===1)ot.children=F;else if(1<yt){for(var Ot=Array(yt),st=0;st<yt;st++)Ot[st]=arguments[st+2];ot.children=Ot}if(U&&U.defaultProps)for(lt in yt=U.defaultProps,yt)ot[lt]===void 0&&(ot[lt]=yt[lt]);return z(U,tt,void 0,void 0,null,ot)},Pt.createRef=function(){return{current:null}},Pt.forwardRef=function(U){return{$$typeof:u,render:U}},Pt.isValidElement=V,Pt.lazy=function(U){return{$$typeof:m,_payload:{_status:-1,_result:U},_init:G}},Pt.memo=function(U,B){return{$$typeof:p,type:U,compare:B===void 0?null:B}},Pt.startTransition=function(U){var B=k.T,F={};k.T=F;try{var lt=U(),ot=k.S;ot!==null&&ot(F,lt),typeof lt=="object"&&lt!==null&&typeof lt.then=="function"&&lt.then(Y,ut)}catch(tt){ut(tt)}finally{k.T=B}},Pt.unstable_useCacheRefresh=function(){return k.H.useCacheRefresh()},Pt.use=function(U){return k.H.use(U)},Pt.useActionState=function(U,B,F){return k.H.useActionState(U,B,F)},Pt.useCallback=function(U,B){return k.H.useCallback(U,B)},Pt.useContext=function(U){return k.H.useContext(U)},Pt.useDebugValue=function(){},Pt.useDeferredValue=function(U,B){return k.H.useDeferredValue(U,B)},Pt.useEffect=function(U,B,F){var lt=k.H;if(typeof F=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return lt.useEffect(U,B)},Pt.useId=function(){return k.H.useId()},Pt.useImperativeHandle=function(U,B,F){return k.H.useImperativeHandle(U,B,F)},Pt.useInsertionEffect=function(U,B){return k.H.useInsertionEffect(U,B)},Pt.useLayoutEffect=function(U,B){return k.H.useLayoutEffect(U,B)},Pt.useMemo=function(U,B){return k.H.useMemo(U,B)},Pt.useOptimistic=function(U,B){return k.H.useOptimistic(U,B)},Pt.useReducer=function(U,B,F){return k.H.useReducer(U,B,F)},Pt.useRef=function(U){return k.H.useRef(U)},Pt.useState=function(U){return k.H.useState(U)},Pt.useSyncExternalStore=function(U,B,F){return k.H.useSyncExternalStore(U,B,F)},Pt.useTransition=function(){return k.H.useTransition()},Pt.version="19.1.1",Pt}var Lg;function mf(){return Lg||(Lg=1,kh.exports=D1()),kh.exports}var _t=mf();const Bl=tc(_t);var Ch={exports:{}},Wa={},Eh={exports:{}},Oh={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fg;function R1(){return Fg||(Fg=1,(function(c){function n(H,G){var ut=H.length;H.push(G);t:for(;0<ut;){var Y=ut-1>>>1,U=H[Y];if(0<o(U,G))H[Y]=G,H[ut]=U,ut=Y;else break t}}function s(H){return H.length===0?null:H[0]}function r(H){if(H.length===0)return null;var G=H[0],ut=H.pop();if(ut!==G){H[0]=ut;t:for(var Y=0,U=H.length,B=U>>>1;Y<B;){var F=2*(Y+1)-1,lt=H[F],ot=F+1,tt=H[ot];if(0>o(lt,ut))ot<U&&0>o(tt,lt)?(H[Y]=tt,H[ot]=ut,Y=ot):(H[Y]=lt,H[F]=ut,Y=F);else if(ot<U&&0>o(tt,ut))H[Y]=tt,H[ot]=ut,Y=ot;else break t}}return G}function o(H,G){var ut=H.sortIndex-G.sortIndex;return ut!==0?ut:H.id-G.id}if(c.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;c.unstable_now=function(){return l.now()}}else{var h=Date,u=h.now();c.unstable_now=function(){return h.now()-u}}var f=[],p=[],m=1,_=null,b=3,v=!1,x=!1,y=!1,S=!1,w=typeof setTimeout=="function"?setTimeout:null,C=typeof clearTimeout=="function"?clearTimeout:null,M=typeof setImmediate<"u"?setImmediate:null;function O(H){for(var G=s(p);G!==null;){if(G.callback===null)r(p);else if(G.startTime<=H)r(p),G.sortIndex=G.expirationTime,n(f,G);else break;G=s(p)}}function k(H){if(y=!1,O(H),!x)if(s(f)!==null)x=!0,I||(I=!0,R());else{var G=s(p);G!==null&&K(k,G.startTime-H)}}var I=!1,z=-1,D=5,V=-1;function Z(){return S?!0:!(c.unstable_now()-V<D)}function nt(){if(S=!1,I){var H=c.unstable_now();V=H;var G=!0;try{t:{x=!1,y&&(y=!1,C(z),z=-1),v=!0;var ut=b;try{e:{for(O(H),_=s(f);_!==null&&!(_.expirationTime>H&&Z());){var Y=_.callback;if(typeof Y=="function"){_.callback=null,b=_.priorityLevel;var U=Y(_.expirationTime<=H);if(H=c.unstable_now(),typeof U=="function"){_.callback=U,O(H),G=!0;break e}_===s(f)&&r(f),O(H)}else r(f);_=s(f)}if(_!==null)G=!0;else{var B=s(p);B!==null&&K(k,B.startTime-H),G=!1}}break t}finally{_=null,b=ut,v=!1}G=void 0}}finally{G?R():I=!1}}}var R;if(typeof M=="function")R=function(){M(nt)};else if(typeof MessageChannel<"u"){var W=new MessageChannel,T=W.port2;W.port1.onmessage=nt,R=function(){T.postMessage(null)}}else R=function(){w(nt,0)};function K(H,G){z=w(function(){H(c.unstable_now())},G)}c.unstable_IdlePriority=5,c.unstable_ImmediatePriority=1,c.unstable_LowPriority=4,c.unstable_NormalPriority=3,c.unstable_Profiling=null,c.unstable_UserBlockingPriority=2,c.unstable_cancelCallback=function(H){H.callback=null},c.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<H?Math.floor(1e3/H):5},c.unstable_getCurrentPriorityLevel=function(){return b},c.unstable_next=function(H){switch(b){case 1:case 2:case 3:var G=3;break;default:G=b}var ut=b;b=G;try{return H()}finally{b=ut}},c.unstable_requestPaint=function(){S=!0},c.unstable_runWithPriority=function(H,G){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var ut=b;b=H;try{return G()}finally{b=ut}},c.unstable_scheduleCallback=function(H,G,ut){var Y=c.unstable_now();switch(typeof ut=="object"&&ut!==null?(ut=ut.delay,ut=typeof ut=="number"&&0<ut?Y+ut:Y):ut=Y,H){case 1:var U=-1;break;case 2:U=250;break;case 5:U=1073741823;break;case 4:U=1e4;break;default:U=5e3}return U=ut+U,H={id:m++,callback:G,priorityLevel:H,startTime:ut,expirationTime:U,sortIndex:-1},ut>Y?(H.sortIndex=ut,n(p,H),s(f)===null&&H===s(p)&&(y?(C(z),z=-1):y=!0,K(k,ut-Y))):(H.sortIndex=U,n(f,H),x||v||(x=!0,I||(I=!0,R()))),H},c.unstable_shouldYield=Z,c.unstable_wrapCallback=function(H){var G=b;return function(){var ut=b;b=G;try{return H.apply(this,arguments)}finally{b=ut}}}})(Oh)),Oh}var Hg;function j1(){return Hg||(Hg=1,Eh.exports=R1()),Eh.exports}var Mh={exports:{}},on={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gg;function z1(){if(Gg)return on;Gg=1;var c=mf();function n(f){var p="https://react.dev/errors/"+f;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var m=2;m<arguments.length;m++)p+="&args[]="+encodeURIComponent(arguments[m])}return"Minified React error #"+f+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(){}var r={d:{f:s,r:function(){throw Error(n(522))},D:s,C:s,L:s,m:s,X:s,S:s,M:s},p:0,findDOMNode:null},o=Symbol.for("react.portal");function l(f,p,m){var _=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:_==null?null:""+_,children:f,containerInfo:p,implementation:m}}var h=c.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function u(f,p){if(f==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return on.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,on.createPortal=function(f,p){var m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(n(299));return l(f,p,null,m)},on.flushSync=function(f){var p=h.T,m=r.p;try{if(h.T=null,r.p=2,f)return f()}finally{h.T=p,r.p=m,r.d.f()}},on.preconnect=function(f,p){typeof f=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,r.d.C(f,p))},on.prefetchDNS=function(f){typeof f=="string"&&r.d.D(f)},on.preinit=function(f,p){if(typeof f=="string"&&p&&typeof p.as=="string"){var m=p.as,_=u(m,p.crossOrigin),b=typeof p.integrity=="string"?p.integrity:void 0,v=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;m==="style"?r.d.S(f,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:_,integrity:b,fetchPriority:v}):m==="script"&&r.d.X(f,{crossOrigin:_,integrity:b,fetchPriority:v,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},on.preinitModule=function(f,p){if(typeof f=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var m=u(p.as,p.crossOrigin);r.d.M(f,{crossOrigin:m,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&r.d.M(f)},on.preload=function(f,p){if(typeof f=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var m=p.as,_=u(m,p.crossOrigin);r.d.L(f,m,{crossOrigin:_,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},on.preloadModule=function(f,p){if(typeof f=="string")if(p){var m=u(p.as,p.crossOrigin);r.d.m(f,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:m,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else r.d.m(f)},on.requestFormReset=function(f){r.d.r(f)},on.unstable_batchedUpdates=function(f,p){return f(p)},on.useFormState=function(f,p,m){return h.H.useFormState(f,p,m)},on.useFormStatus=function(){return h.H.useHostTransitionStatus()},on.version="19.1.1",on}var Pg;function U1(){if(Pg)return Mh.exports;Pg=1;function c(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(c)}catch(n){console.error(n)}}return c(),Mh.exports=z1(),Mh.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zg;function B1(){if(Zg)return Wa;Zg=1;var c=j1(),n=mf(),s=U1();function r(t){var e="https://react.dev/errors/"+t;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var i=2;i<arguments.length;i++)e+="&args[]="+encodeURIComponent(arguments[i])}return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function l(t){var e=t,i=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,(e.flags&4098)!==0&&(i=e.return),t=e.return;while(t)}return e.tag===3?i:null}function h(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function u(t){if(l(t)!==t)throw Error(r(188))}function f(t){var e=t.alternate;if(!e){if(e=l(t),e===null)throw Error(r(188));return e!==t?null:t}for(var i=t,a=e;;){var d=i.return;if(d===null)break;var g=d.alternate;if(g===null){if(a=d.return,a!==null){i=a;continue}break}if(d.child===g.child){for(g=d.child;g;){if(g===i)return u(d),t;if(g===a)return u(d),e;g=g.sibling}throw Error(r(188))}if(i.return!==a.return)i=d,a=g;else{for(var N=!1,j=d.child;j;){if(j===i){N=!0,i=d,a=g;break}if(j===a){N=!0,a=d,i=g;break}j=j.sibling}if(!N){for(j=g.child;j;){if(j===i){N=!0,i=g,a=d;break}if(j===a){N=!0,a=g,i=d;break}j=j.sibling}if(!N)throw Error(r(189))}}if(i.alternate!==a)throw Error(r(190))}if(i.tag!==3)throw Error(r(188));return i.stateNode.current===i?t:e}function p(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t;for(t=t.child;t!==null;){if(e=p(t),e!==null)return e;t=t.sibling}return null}var m=Object.assign,_=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),v=Symbol.for("react.portal"),x=Symbol.for("react.fragment"),y=Symbol.for("react.strict_mode"),S=Symbol.for("react.profiler"),w=Symbol.for("react.provider"),C=Symbol.for("react.consumer"),M=Symbol.for("react.context"),O=Symbol.for("react.forward_ref"),k=Symbol.for("react.suspense"),I=Symbol.for("react.suspense_list"),z=Symbol.for("react.memo"),D=Symbol.for("react.lazy"),V=Symbol.for("react.activity"),Z=Symbol.for("react.memo_cache_sentinel"),nt=Symbol.iterator;function R(t){return t===null||typeof t!="object"?null:(t=nt&&t[nt]||t["@@iterator"],typeof t=="function"?t:null)}var W=Symbol.for("react.client.reference");function T(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===W?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case x:return"Fragment";case S:return"Profiler";case y:return"StrictMode";case k:return"Suspense";case I:return"SuspenseList";case V:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case v:return"Portal";case M:return(t.displayName||"Context")+".Provider";case C:return(t._context.displayName||"Context")+".Consumer";case O:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case z:return e=t.displayName||null,e!==null?e:T(t.type)||"Memo";case D:e=t._payload,t=t._init;try{return T(t(e))}catch{}}return null}var K=Array.isArray,H=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,G=s.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ut={pending:!1,data:null,method:null,action:null},Y=[],U=-1;function B(t){return{current:t}}function F(t){0>U||(t.current=Y[U],Y[U]=null,U--)}function lt(t,e){U++,Y[U]=t.current,t.current=e}var ot=B(null),tt=B(null),yt=B(null),Ot=B(null);function st(t,e){switch(lt(yt,e),lt(tt,t),lt(ot,null),e.nodeType){case 9:case 11:t=(t=e.documentElement)&&(t=t.namespaceURI)?fg(t):0;break;default:if(t=e.tagName,e=e.namespaceURI)e=fg(e),t=dg(e,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}F(ot),lt(ot,t)}function bt(){F(ot),F(tt),F(yt)}function At(t){t.memoizedState!==null&&lt(Ot,t);var e=ot.current,i=dg(e,t.type);e!==i&&(lt(tt,t),lt(ot,i))}function kt(t){tt.current===t&&(F(ot),F(tt)),Ot.current===t&&(F(Ot),Ha._currentValue=ut)}var Xt=Object.prototype.hasOwnProperty,se=c.unstable_scheduleCallback,A=c.unstable_cancelCallback,$=c.unstable_shouldYield,J=c.unstable_requestPaint,L=c.unstable_now,q=c.unstable_getCurrentPriorityLevel,X=c.unstable_ImmediatePriority,ft=c.unstable_UserBlockingPriority,dt=c.unstable_NormalPriority,it=c.unstable_LowPriority,vt=c.unstable_IdlePriority,St=c.log,xt=c.unstable_setDisableYieldValue,wt=null,qt=null;function Ut(t){if(typeof St=="function"&&xt(t),qt&&typeof qt.setStrictMode=="function")try{qt.setStrictMode(wt,t)}catch{}}var ie=Math.clz32?Math.clz32:xs,hs=Math.log,un=Math.LN2;function xs(t){return t>>>=0,t===0?32:31-(hs(t)/un|0)|0}var re=256,qn=4194304;function gn(t){var e=t&42;if(e!==0)return e;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function tn(t,e,i){var a=t.pendingLanes;if(a===0)return 0;var d=0,g=t.suspendedLanes,N=t.pingedLanes;t=t.warmLanes;var j=a&134217727;return j!==0?(a=j&~g,a!==0?d=gn(a):(N&=j,N!==0?d=gn(N):i||(i=j&~t,i!==0&&(d=gn(i))))):(j=a&~g,j!==0?d=gn(j):N!==0?d=gn(N):i||(i=a&~t,i!==0&&(d=gn(i)))),d===0?0:e!==0&&e!==d&&(e&g)===0&&(g=d&-d,i=e&-e,g>=i||g===32&&(i&4194048)!==0)?e:d}function Vn(t,e){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&e)===0}function Nt(t,e){switch(t){case 1:case 2:case 4:case 8:case 64:return e+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ct(){var t=re;return re<<=1,(re&4194048)===0&&(re=256),t}function Ft(){var t=qn;return qn<<=1,(qn&62914560)===0&&(qn=4194304),t}function Ht(t){for(var e=[],i=0;31>i;i++)e.push(t);return e}function Lt(t,e){t.pendingLanes|=e,e!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function le(t,e,i,a,d,g){var N=t.pendingLanes;t.pendingLanes=i,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=i,t.entangledLanes&=i,t.errorRecoveryDisabledLanes&=i,t.shellSuspendCounter=0;var j=t.entanglements,P=t.expirationTimes,at=t.hiddenUpdates;for(i=N&~i;0<i;){var pt=31-ie(i),gt=1<<pt;j[pt]=0,P[pt]=-1;var ct=at[pt];if(ct!==null)for(at[pt]=null,pt=0;pt<ct.length;pt++){var ht=ct[pt];ht!==null&&(ht.lane&=-536870913)}i&=~gt}a!==0&&Te(t,a,0),g!==0&&d===0&&t.tag!==0&&(t.suspendedLanes|=g&~(N&~e))}function Te(t,e,i){t.pendingLanes|=e,t.suspendedLanes&=~e;var a=31-ie(e);t.entangledLanes|=e,t.entanglements[a]=t.entanglements[a]|1073741824|i&4194090}function ve(t,e){var i=t.entangledLanes|=e;for(t=t.entanglements;i;){var a=31-ie(i),d=1<<a;d&e|t[a]&e&&(t[a]|=e),i&=~d}}function Ae(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function xe(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function ts(){var t=G.p;return t!==0?t:(t=window.event,t===void 0?32:Dg(t.type))}function hn(t,e){var i=G.p;try{return G.p=t,e()}finally{G.p=i}}var Mt=Math.random().toString(36).slice(2),Bt="__reactFiber$"+Mt,Zt="__reactProps$"+Mt,Dt="__reactContainer$"+Mt,jt="__reactEvents$"+Mt,_n="__reactListeners$"+Mt,Ln="__reactHandles$"+Mt,vn="__reactResources$"+Mt,Ce="__reactMarker$"+Mt;function He(t){delete t[Bt],delete t[Zt],delete t[jt],delete t[_n],delete t[Ln]}function Nn(t){var e=t[Bt];if(e)return e;for(var i=t.parentNode;i;){if(e=i[Dt]||i[Bt]){if(i=e.alternate,e.child!==null||i!==null&&i.child!==null)for(t=_g(t);t!==null;){if(i=t[Bt])return i;t=_g(t)}return e}t=i,i=t.parentNode}return null}function Fn(t){if(t=t[Bt]||t[Dt]){var e=t.tag;if(e===5||e===6||e===13||e===26||e===27||e===3)return t}return null}function Ee(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t.stateNode;throw Error(r(33))}function kn(t){var e=t[vn];return e||(e=t[vn]={hoistableStyles:new Map,hoistableScripts:new Map}),e}function Be(t){t[Ce]=!0}var yo=new Set,bo={};function wi(t,e){tr(t,e),tr(t+"Capture",e)}function tr(t,e){for(bo[t]=e,t=0;t<e.length;t++)yo.add(e[t])}var Sv=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),sd={},id={};function wv(t){return Xt.call(id,t)?!0:Xt.call(sd,t)?!1:Sv.test(t)?id[t]=!0:(sd[t]=!0,!1)}function xo(t,e,i){if(wv(e))if(i===null)t.removeAttribute(e);else{switch(typeof i){case"undefined":case"function":case"symbol":t.removeAttribute(e);return;case"boolean":var a=e.toLowerCase().slice(0,5);if(a!=="data-"&&a!=="aria-"){t.removeAttribute(e);return}}t.setAttribute(e,""+i)}}function So(t,e,i){if(i===null)t.removeAttribute(e);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(e);return}t.setAttribute(e,""+i)}}function Ss(t,e,i,a){if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttributeNS(e,i,""+a)}}var bc,rd;function er(t){if(bc===void 0)try{throw Error()}catch(i){var e=i.stack.trim().match(/\n( *(at )?)/);bc=e&&e[1]||"",rd=-1<i.stack.indexOf(`
    at`)?" (<anonymous>)":-1<i.stack.indexOf("@")?"@unknown:0:0":""}return`
`+bc+t+rd}var xc=!1;function Sc(t,e){if(!t||xc)return"";xc=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var a={DetermineComponentFrameRoot:function(){try{if(e){var gt=function(){throw Error()};if(Object.defineProperty(gt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(gt,[])}catch(ht){var ct=ht}Reflect.construct(t,[],gt)}else{try{gt.call()}catch(ht){ct=ht}t.call(gt.prototype)}}else{try{throw Error()}catch(ht){ct=ht}(gt=t())&&typeof gt.catch=="function"&&gt.catch(function(){})}}catch(ht){if(ht&&ct&&typeof ht.stack=="string")return[ht.stack,ct.stack]}return[null,null]}};a.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var d=Object.getOwnPropertyDescriptor(a.DetermineComponentFrameRoot,"name");d&&d.configurable&&Object.defineProperty(a.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var g=a.DetermineComponentFrameRoot(),N=g[0],j=g[1];if(N&&j){var P=N.split(`
`),at=j.split(`
`);for(d=a=0;a<P.length&&!P[a].includes("DetermineComponentFrameRoot");)a++;for(;d<at.length&&!at[d].includes("DetermineComponentFrameRoot");)d++;if(a===P.length||d===at.length)for(a=P.length-1,d=at.length-1;1<=a&&0<=d&&P[a]!==at[d];)d--;for(;1<=a&&0<=d;a--,d--)if(P[a]!==at[d]){if(a!==1||d!==1)do if(a--,d--,0>d||P[a]!==at[d]){var pt=`
`+P[a].replace(" at new "," at ");return t.displayName&&pt.includes("<anonymous>")&&(pt=pt.replace("<anonymous>",t.displayName)),pt}while(1<=a&&0<=d);break}}}finally{xc=!1,Error.prepareStackTrace=i}return(i=t?t.displayName||t.name:"")?er(i):""}function Tv(t){switch(t.tag){case 26:case 27:case 5:return er(t.type);case 16:return er("Lazy");case 13:return er("Suspense");case 19:return er("SuspenseList");case 0:case 15:return Sc(t.type,!1);case 11:return Sc(t.type.render,!1);case 1:return Sc(t.type,!0);case 31:return er("Activity");default:return""}}function ad(t){try{var e="";do e+=Tv(t),t=t.return;while(t);return e}catch(i){return`
Error generating stack: `+i.message+`
`+i.stack}}function Hn(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function od(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Av(t){var e=od(t)?"checked":"value",i=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),a=""+t[e];if(!t.hasOwnProperty(e)&&typeof i<"u"&&typeof i.get=="function"&&typeof i.set=="function"){var d=i.get,g=i.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return d.call(this)},set:function(N){a=""+N,g.call(this,N)}}),Object.defineProperty(t,e,{enumerable:i.enumerable}),{getValue:function(){return a},setValue:function(N){a=""+N},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function wo(t){t._valueTracker||(t._valueTracker=Av(t))}function ld(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var i=e.getValue(),a="";return t&&(a=od(t)?t.checked?"true":"false":t.value),t=a,t!==i?(e.setValue(t),!0):!1}function To(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Nv=/[\n"\\]/g;function Gn(t){return t.replace(Nv,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function wc(t,e,i,a,d,g,N,j){t.name="",N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"?t.type=N:t.removeAttribute("type"),e!=null?N==="number"?(e===0&&t.value===""||t.value!=e)&&(t.value=""+Hn(e)):t.value!==""+Hn(e)&&(t.value=""+Hn(e)):N!=="submit"&&N!=="reset"||t.removeAttribute("value"),e!=null?Tc(t,N,Hn(e)):i!=null?Tc(t,N,Hn(i)):a!=null&&t.removeAttribute("value"),d==null&&g!=null&&(t.defaultChecked=!!g),d!=null&&(t.checked=d&&typeof d!="function"&&typeof d!="symbol"),j!=null&&typeof j!="function"&&typeof j!="symbol"&&typeof j!="boolean"?t.name=""+Hn(j):t.removeAttribute("name")}function cd(t,e,i,a,d,g,N,j){if(g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(t.type=g),e!=null||i!=null){if(!(g!=="submit"&&g!=="reset"||e!=null))return;i=i!=null?""+Hn(i):"",e=e!=null?""+Hn(e):i,j||e===t.value||(t.value=e),t.defaultValue=e}a=a??d,a=typeof a!="function"&&typeof a!="symbol"&&!!a,t.checked=j?t.checked:!!a,t.defaultChecked=!!a,N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"&&(t.name=N)}function Tc(t,e,i){e==="number"&&To(t.ownerDocument)===t||t.defaultValue===""+i||(t.defaultValue=""+i)}function nr(t,e,i,a){if(t=t.options,e){e={};for(var d=0;d<i.length;d++)e["$"+i[d]]=!0;for(i=0;i<t.length;i++)d=e.hasOwnProperty("$"+t[i].value),t[i].selected!==d&&(t[i].selected=d),d&&a&&(t[i].defaultSelected=!0)}else{for(i=""+Hn(i),e=null,d=0;d<t.length;d++){if(t[d].value===i){t[d].selected=!0,a&&(t[d].defaultSelected=!0);return}e!==null||t[d].disabled||(e=t[d])}e!==null&&(e.selected=!0)}}function ud(t,e,i){if(e!=null&&(e=""+Hn(e),e!==t.value&&(t.value=e),i==null)){t.defaultValue!==e&&(t.defaultValue=e);return}t.defaultValue=i!=null?""+Hn(i):""}function hd(t,e,i,a){if(e==null){if(a!=null){if(i!=null)throw Error(r(92));if(K(a)){if(1<a.length)throw Error(r(93));a=a[0]}i=a}i==null&&(i=""),e=i}i=Hn(e),t.defaultValue=i,a=t.textContent,a===i&&a!==""&&a!==null&&(t.value=a)}function sr(t,e){if(e){var i=t.firstChild;if(i&&i===t.lastChild&&i.nodeType===3){i.nodeValue=e;return}}t.textContent=e}var kv=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function fd(t,e,i){var a=e.indexOf("--")===0;i==null||typeof i=="boolean"||i===""?a?t.setProperty(e,""):e==="float"?t.cssFloat="":t[e]="":a?t.setProperty(e,i):typeof i!="number"||i===0||kv.has(e)?e==="float"?t.cssFloat=i:t[e]=(""+i).trim():t[e]=i+"px"}function dd(t,e,i){if(e!=null&&typeof e!="object")throw Error(r(62));if(t=t.style,i!=null){for(var a in i)!i.hasOwnProperty(a)||e!=null&&e.hasOwnProperty(a)||(a.indexOf("--")===0?t.setProperty(a,""):a==="float"?t.cssFloat="":t[a]="");for(var d in e)a=e[d],e.hasOwnProperty(d)&&i[d]!==a&&fd(t,d,a)}else for(var g in e)e.hasOwnProperty(g)&&fd(t,g,e[g])}function Ac(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Cv=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ev=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ao(t){return Ev.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var Nc=null;function kc(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var ir=null,rr=null;function pd(t){var e=Fn(t);if(e&&(t=e.stateNode)){var i=t[Zt]||null;t:switch(t=e.stateNode,e.type){case"input":if(wc(t,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name),e=i.name,i.type==="radio"&&e!=null){for(i=t;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll('input[name="'+Gn(""+e)+'"][type="radio"]'),e=0;e<i.length;e++){var a=i[e];if(a!==t&&a.form===t.form){var d=a[Zt]||null;if(!d)throw Error(r(90));wc(a,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name)}}for(e=0;e<i.length;e++)a=i[e],a.form===t.form&&ld(a)}break t;case"textarea":ud(t,i.value,i.defaultValue);break t;case"select":e=i.value,e!=null&&nr(t,!!i.multiple,e,!1)}}}var Cc=!1;function md(t,e,i){if(Cc)return t(e,i);Cc=!0;try{var a=t(e);return a}finally{if(Cc=!1,(ir!==null||rr!==null)&&(ul(),ir&&(e=ir,t=rr,rr=ir=null,pd(e),t)))for(e=0;e<t.length;e++)pd(t[e])}}function na(t,e){var i=t.stateNode;if(i===null)return null;var a=i[Zt]||null;if(a===null)return null;i=a[e];t:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(t=t.type,a=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!a;break t;default:t=!1}if(t)return null;if(i&&typeof i!="function")throw Error(r(231,e,typeof i));return i}var ws=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ec=!1;if(ws)try{var sa={};Object.defineProperty(sa,"passive",{get:function(){Ec=!0}}),window.addEventListener("test",sa,sa),window.removeEventListener("test",sa,sa)}catch{Ec=!1}var Ps=null,Oc=null,No=null;function gd(){if(No)return No;var t,e=Oc,i=e.length,a,d="value"in Ps?Ps.value:Ps.textContent,g=d.length;for(t=0;t<i&&e[t]===d[t];t++);var N=i-t;for(a=1;a<=N&&e[i-a]===d[g-a];a++);return No=d.slice(t,1<a?1-a:void 0)}function ko(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Co(){return!0}function _d(){return!1}function yn(t){function e(i,a,d,g,N){this._reactName=i,this._targetInst=d,this.type=a,this.nativeEvent=g,this.target=N,this.currentTarget=null;for(var j in t)t.hasOwnProperty(j)&&(i=t[j],this[j]=i?i(g):g[j]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?Co:_d,this.isPropagationStopped=_d,this}return m(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var i=this.nativeEvent;i&&(i.preventDefault?i.preventDefault():typeof i.returnValue!="unknown"&&(i.returnValue=!1),this.isDefaultPrevented=Co)},stopPropagation:function(){var i=this.nativeEvent;i&&(i.stopPropagation?i.stopPropagation():typeof i.cancelBubble!="unknown"&&(i.cancelBubble=!0),this.isPropagationStopped=Co)},persist:function(){},isPersistent:Co}),e}var Ti={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Eo=yn(Ti),ia=m({},Ti,{view:0,detail:0}),Ov=yn(ia),Mc,Dc,ra,Oo=m({},ia,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:jc,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ra&&(ra&&t.type==="mousemove"?(Mc=t.screenX-ra.screenX,Dc=t.screenY-ra.screenY):Dc=Mc=0,ra=t),Mc)},movementY:function(t){return"movementY"in t?t.movementY:Dc}}),vd=yn(Oo),Mv=m({},Oo,{dataTransfer:0}),Dv=yn(Mv),Rv=m({},ia,{relatedTarget:0}),Rc=yn(Rv),jv=m({},Ti,{animationName:0,elapsedTime:0,pseudoElement:0}),zv=yn(jv),Uv=m({},Ti,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Bv=yn(Uv),Iv=m({},Ti,{data:0}),yd=yn(Iv),qv={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Vv={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Lv={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Fv(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Lv[t])?!!e[t]:!1}function jc(){return Fv}var Hv=m({},ia,{key:function(t){if(t.key){var e=qv[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=ko(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Vv[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:jc,charCode:function(t){return t.type==="keypress"?ko(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?ko(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Gv=yn(Hv),Pv=m({},Oo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),bd=yn(Pv),Zv=m({},ia,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:jc}),Yv=yn(Zv),Xv=m({},Ti,{propertyName:0,elapsedTime:0,pseudoElement:0}),Wv=yn(Xv),Qv=m({},Oo,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Kv=yn(Qv),Jv=m({},Ti,{newState:0,oldState:0}),$v=yn(Jv),ty=[9,13,27,32],zc=ws&&"CompositionEvent"in window,aa=null;ws&&"documentMode"in document&&(aa=document.documentMode);var ey=ws&&"TextEvent"in window&&!aa,xd=ws&&(!zc||aa&&8<aa&&11>=aa),Sd=" ",wd=!1;function Td(t,e){switch(t){case"keyup":return ty.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ad(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ar=!1;function ny(t,e){switch(t){case"compositionend":return Ad(e);case"keypress":return e.which!==32?null:(wd=!0,Sd);case"textInput":return t=e.data,t===Sd&&wd?null:t;default:return null}}function sy(t,e){if(ar)return t==="compositionend"||!zc&&Td(t,e)?(t=gd(),No=Oc=Ps=null,ar=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return xd&&e.locale!=="ko"?null:e.data;default:return null}}var iy={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Nd(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!iy[t.type]:e==="textarea"}function kd(t,e,i,a){ir?rr?rr.push(a):rr=[a]:ir=a,e=gl(e,"onChange"),0<e.length&&(i=new Eo("onChange","change",null,i,a),t.push({event:i,listeners:e}))}var oa=null,la=null;function ry(t){og(t,0)}function Mo(t){var e=Ee(t);if(ld(e))return t}function Cd(t,e){if(t==="change")return e}var Ed=!1;if(ws){var Uc;if(ws){var Bc="oninput"in document;if(!Bc){var Od=document.createElement("div");Od.setAttribute("oninput","return;"),Bc=typeof Od.oninput=="function"}Uc=Bc}else Uc=!1;Ed=Uc&&(!document.documentMode||9<document.documentMode)}function Md(){oa&&(oa.detachEvent("onpropertychange",Dd),la=oa=null)}function Dd(t){if(t.propertyName==="value"&&Mo(la)){var e=[];kd(e,la,t,kc(t)),md(ry,e)}}function ay(t,e,i){t==="focusin"?(Md(),oa=e,la=i,oa.attachEvent("onpropertychange",Dd)):t==="focusout"&&Md()}function oy(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Mo(la)}function ly(t,e){if(t==="click")return Mo(e)}function cy(t,e){if(t==="input"||t==="change")return Mo(e)}function uy(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Cn=typeof Object.is=="function"?Object.is:uy;function ca(t,e){if(Cn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var i=Object.keys(t),a=Object.keys(e);if(i.length!==a.length)return!1;for(a=0;a<i.length;a++){var d=i[a];if(!Xt.call(e,d)||!Cn(t[d],e[d]))return!1}return!0}function Rd(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function jd(t,e){var i=Rd(t);t=0;for(var a;i;){if(i.nodeType===3){if(a=t+i.textContent.length,t<=e&&a>=e)return{node:i,offset:e-t};t=a}t:{for(;i;){if(i.nextSibling){i=i.nextSibling;break t}i=i.parentNode}i=void 0}i=Rd(i)}}function zd(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?zd(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Ud(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var e=To(t.document);e instanceof t.HTMLIFrameElement;){try{var i=typeof e.contentWindow.location.href=="string"}catch{i=!1}if(i)t=e.contentWindow;else break;e=To(t.document)}return e}function Ic(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}var hy=ws&&"documentMode"in document&&11>=document.documentMode,or=null,qc=null,ua=null,Vc=!1;function Bd(t,e,i){var a=i.window===i?i.document:i.nodeType===9?i:i.ownerDocument;Vc||or==null||or!==To(a)||(a=or,"selectionStart"in a&&Ic(a)?a={start:a.selectionStart,end:a.selectionEnd}:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection(),a={anchorNode:a.anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset}),ua&&ca(ua,a)||(ua=a,a=gl(qc,"onSelect"),0<a.length&&(e=new Eo("onSelect","select",null,e,i),t.push({event:e,listeners:a}),e.target=or)))}function Ai(t,e){var i={};return i[t.toLowerCase()]=e.toLowerCase(),i["Webkit"+t]="webkit"+e,i["Moz"+t]="moz"+e,i}var lr={animationend:Ai("Animation","AnimationEnd"),animationiteration:Ai("Animation","AnimationIteration"),animationstart:Ai("Animation","AnimationStart"),transitionrun:Ai("Transition","TransitionRun"),transitionstart:Ai("Transition","TransitionStart"),transitioncancel:Ai("Transition","TransitionCancel"),transitionend:Ai("Transition","TransitionEnd")},Lc={},Id={};ws&&(Id=document.createElement("div").style,"AnimationEvent"in window||(delete lr.animationend.animation,delete lr.animationiteration.animation,delete lr.animationstart.animation),"TransitionEvent"in window||delete lr.transitionend.transition);function Ni(t){if(Lc[t])return Lc[t];if(!lr[t])return t;var e=lr[t],i;for(i in e)if(e.hasOwnProperty(i)&&i in Id)return Lc[t]=e[i];return t}var qd=Ni("animationend"),Vd=Ni("animationiteration"),Ld=Ni("animationstart"),fy=Ni("transitionrun"),dy=Ni("transitionstart"),py=Ni("transitioncancel"),Fd=Ni("transitionend"),Hd=new Map,Fc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Fc.push("scrollEnd");function es(t,e){Hd.set(t,e),wi(e,[t])}var Gd=new WeakMap;function Pn(t,e){if(typeof t=="object"&&t!==null){var i=Gd.get(t);return i!==void 0?i:(e={value:t,source:e,stack:ad(e)},Gd.set(t,e),e)}return{value:t,source:e,stack:ad(e)}}var Zn=[],cr=0,Hc=0;function Do(){for(var t=cr,e=Hc=cr=0;e<t;){var i=Zn[e];Zn[e++]=null;var a=Zn[e];Zn[e++]=null;var d=Zn[e];Zn[e++]=null;var g=Zn[e];if(Zn[e++]=null,a!==null&&d!==null){var N=a.pending;N===null?d.next=d:(d.next=N.next,N.next=d),a.pending=d}g!==0&&Pd(i,d,g)}}function Ro(t,e,i,a){Zn[cr++]=t,Zn[cr++]=e,Zn[cr++]=i,Zn[cr++]=a,Hc|=a,t.lanes|=a,t=t.alternate,t!==null&&(t.lanes|=a)}function Gc(t,e,i,a){return Ro(t,e,i,a),jo(t)}function ur(t,e){return Ro(t,null,null,e),jo(t)}function Pd(t,e,i){t.lanes|=i;var a=t.alternate;a!==null&&(a.lanes|=i);for(var d=!1,g=t.return;g!==null;)g.childLanes|=i,a=g.alternate,a!==null&&(a.childLanes|=i),g.tag===22&&(t=g.stateNode,t===null||t._visibility&1||(d=!0)),t=g,g=g.return;return t.tag===3?(g=t.stateNode,d&&e!==null&&(d=31-ie(i),t=g.hiddenUpdates,a=t[d],a===null?t[d]=[e]:a.push(e),e.lane=i|536870912),g):null}function jo(t){if(50<za)throw za=0,Qu=null,Error(r(185));for(var e=t.return;e!==null;)t=e,e=t.return;return t.tag===3?t.stateNode:null}var hr={};function my(t,e,i,a){this.tag=t,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function En(t,e,i,a){return new my(t,e,i,a)}function Pc(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Ts(t,e){var i=t.alternate;return i===null?(i=En(t.tag,e,t.key,t.mode),i.elementType=t.elementType,i.type=t.type,i.stateNode=t.stateNode,i.alternate=t,t.alternate=i):(i.pendingProps=e,i.type=t.type,i.flags=0,i.subtreeFlags=0,i.deletions=null),i.flags=t.flags&65011712,i.childLanes=t.childLanes,i.lanes=t.lanes,i.child=t.child,i.memoizedProps=t.memoizedProps,i.memoizedState=t.memoizedState,i.updateQueue=t.updateQueue,e=t.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},i.sibling=t.sibling,i.index=t.index,i.ref=t.ref,i.refCleanup=t.refCleanup,i}function Zd(t,e){t.flags&=65011714;var i=t.alternate;return i===null?(t.childLanes=0,t.lanes=e,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=i.childLanes,t.lanes=i.lanes,t.child=i.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=i.memoizedProps,t.memoizedState=i.memoizedState,t.updateQueue=i.updateQueue,t.type=i.type,e=i.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),t}function zo(t,e,i,a,d,g){var N=0;if(a=t,typeof t=="function")Pc(t)&&(N=1);else if(typeof t=="string")N=_1(t,i,ot.current)?26:t==="html"||t==="head"||t==="body"?27:5;else t:switch(t){case V:return t=En(31,i,e,d),t.elementType=V,t.lanes=g,t;case x:return ki(i.children,d,g,e);case y:N=8,d|=24;break;case S:return t=En(12,i,e,d|2),t.elementType=S,t.lanes=g,t;case k:return t=En(13,i,e,d),t.elementType=k,t.lanes=g,t;case I:return t=En(19,i,e,d),t.elementType=I,t.lanes=g,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case w:case M:N=10;break t;case C:N=9;break t;case O:N=11;break t;case z:N=14;break t;case D:N=16,a=null;break t}N=29,i=Error(r(130,t===null?"null":typeof t,"")),a=null}return e=En(N,i,e,d),e.elementType=t,e.type=a,e.lanes=g,e}function ki(t,e,i,a){return t=En(7,t,a,e),t.lanes=i,t}function Zc(t,e,i){return t=En(6,t,null,e),t.lanes=i,t}function Yc(t,e,i){return e=En(4,t.children!==null?t.children:[],t.key,e),e.lanes=i,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}var fr=[],dr=0,Uo=null,Bo=0,Yn=[],Xn=0,Ci=null,As=1,Ns="";function Ei(t,e){fr[dr++]=Bo,fr[dr++]=Uo,Uo=t,Bo=e}function Yd(t,e,i){Yn[Xn++]=As,Yn[Xn++]=Ns,Yn[Xn++]=Ci,Ci=t;var a=As;t=Ns;var d=32-ie(a)-1;a&=~(1<<d),i+=1;var g=32-ie(e)+d;if(30<g){var N=d-d%5;g=(a&(1<<N)-1).toString(32),a>>=N,d-=N,As=1<<32-ie(e)+d|i<<d|a,Ns=g+t}else As=1<<g|i<<d|a,Ns=t}function Xc(t){t.return!==null&&(Ei(t,1),Yd(t,1,0))}function Wc(t){for(;t===Uo;)Uo=fr[--dr],fr[dr]=null,Bo=fr[--dr],fr[dr]=null;for(;t===Ci;)Ci=Yn[--Xn],Yn[Xn]=null,Ns=Yn[--Xn],Yn[Xn]=null,As=Yn[--Xn],Yn[Xn]=null}var fn=null,Oe=null,ne=!1,Oi=null,fs=!1,Qc=Error(r(519));function Mi(t){var e=Error(r(418,""));throw da(Pn(e,t)),Qc}function Xd(t){var e=t.stateNode,i=t.type,a=t.memoizedProps;switch(e[Bt]=t,e[Zt]=a,i){case"dialog":Kt("cancel",e),Kt("close",e);break;case"iframe":case"object":case"embed":Kt("load",e);break;case"video":case"audio":for(i=0;i<Ba.length;i++)Kt(Ba[i],e);break;case"source":Kt("error",e);break;case"img":case"image":case"link":Kt("error",e),Kt("load",e);break;case"details":Kt("toggle",e);break;case"input":Kt("invalid",e),cd(e,a.value,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name,!0),wo(e);break;case"select":Kt("invalid",e);break;case"textarea":Kt("invalid",e),hd(e,a.value,a.defaultValue,a.children),wo(e)}i=a.children,typeof i!="string"&&typeof i!="number"&&typeof i!="bigint"||e.textContent===""+i||a.suppressHydrationWarning===!0||hg(e.textContent,i)?(a.popover!=null&&(Kt("beforetoggle",e),Kt("toggle",e)),a.onScroll!=null&&Kt("scroll",e),a.onScrollEnd!=null&&Kt("scrollend",e),a.onClick!=null&&(e.onclick=_l),e=!0):e=!1,e||Mi(t)}function Wd(t){for(fn=t.return;fn;)switch(fn.tag){case 5:case 13:fs=!1;return;case 27:case 3:fs=!0;return;default:fn=fn.return}}function ha(t){if(t!==fn)return!1;if(!ne)return Wd(t),ne=!0,!1;var e=t.tag,i;if((i=e!==3&&e!==27)&&((i=e===5)&&(i=t.type,i=!(i!=="form"&&i!=="button")||fh(t.type,t.memoizedProps)),i=!i),i&&Oe&&Mi(t),Wd(t),e===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));t:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8)if(i=t.data,i==="/$"){if(e===0){Oe=ss(t.nextSibling);break t}e--}else i!=="$"&&i!=="$!"&&i!=="$?"||e++;t=t.nextSibling}Oe=null}}else e===27?(e=Oe,oi(t.type)?(t=gh,gh=null,Oe=t):Oe=e):Oe=fn?ss(t.stateNode.nextSibling):null;return!0}function fa(){Oe=fn=null,ne=!1}function Qd(){var t=Oi;return t!==null&&(Sn===null?Sn=t:Sn.push.apply(Sn,t),Oi=null),t}function da(t){Oi===null?Oi=[t]:Oi.push(t)}var Kc=B(null),Di=null,ks=null;function Zs(t,e,i){lt(Kc,e._currentValue),e._currentValue=i}function Cs(t){t._currentValue=Kc.current,F(Kc)}function Jc(t,e,i){for(;t!==null;){var a=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,a!==null&&(a.childLanes|=e)):a!==null&&(a.childLanes&e)!==e&&(a.childLanes|=e),t===i)break;t=t.return}}function $c(t,e,i,a){var d=t.child;for(d!==null&&(d.return=t);d!==null;){var g=d.dependencies;if(g!==null){var N=d.child;g=g.firstContext;t:for(;g!==null;){var j=g;g=d;for(var P=0;P<e.length;P++)if(j.context===e[P]){g.lanes|=i,j=g.alternate,j!==null&&(j.lanes|=i),Jc(g.return,i,t),a||(N=null);break t}g=j.next}}else if(d.tag===18){if(N=d.return,N===null)throw Error(r(341));N.lanes|=i,g=N.alternate,g!==null&&(g.lanes|=i),Jc(N,i,t),N=null}else N=d.child;if(N!==null)N.return=d;else for(N=d;N!==null;){if(N===t){N=null;break}if(d=N.sibling,d!==null){d.return=N.return,N=d;break}N=N.return}d=N}}function pa(t,e,i,a){t=null;for(var d=e,g=!1;d!==null;){if(!g){if((d.flags&524288)!==0)g=!0;else if((d.flags&262144)!==0)break}if(d.tag===10){var N=d.alternate;if(N===null)throw Error(r(387));if(N=N.memoizedProps,N!==null){var j=d.type;Cn(d.pendingProps.value,N.value)||(t!==null?t.push(j):t=[j])}}else if(d===Ot.current){if(N=d.alternate,N===null)throw Error(r(387));N.memoizedState.memoizedState!==d.memoizedState.memoizedState&&(t!==null?t.push(Ha):t=[Ha])}d=d.return}t!==null&&$c(e,t,i,a),e.flags|=262144}function Io(t){for(t=t.firstContext;t!==null;){if(!Cn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Ri(t){Di=t,ks=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function an(t){return Kd(Di,t)}function qo(t,e){return Di===null&&Ri(t),Kd(t,e)}function Kd(t,e){var i=e._currentValue;if(e={context:e,memoizedValue:i,next:null},ks===null){if(t===null)throw Error(r(308));ks=e,t.dependencies={lanes:0,firstContext:e},t.flags|=524288}else ks=ks.next=e;return i}var gy=typeof AbortController<"u"?AbortController:function(){var t=[],e=this.signal={aborted:!1,addEventListener:function(i,a){t.push(a)}};this.abort=function(){e.aborted=!0,t.forEach(function(i){return i()})}},_y=c.unstable_scheduleCallback,vy=c.unstable_NormalPriority,Ge={$$typeof:M,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function tu(){return{controller:new gy,data:new Map,refCount:0}}function ma(t){t.refCount--,t.refCount===0&&_y(vy,function(){t.controller.abort()})}var ga=null,eu=0,pr=0,mr=null;function yy(t,e){if(ga===null){var i=ga=[];eu=0,pr=sh(),mr={status:"pending",value:void 0,then:function(a){i.push(a)}}}return eu++,e.then(Jd,Jd),e}function Jd(){if(--eu===0&&ga!==null){mr!==null&&(mr.status="fulfilled");var t=ga;ga=null,pr=0,mr=null;for(var e=0;e<t.length;e++)(0,t[e])()}}function by(t,e){var i=[],a={status:"pending",value:null,reason:null,then:function(d){i.push(d)}};return t.then(function(){a.status="fulfilled",a.value=e;for(var d=0;d<i.length;d++)(0,i[d])(e)},function(d){for(a.status="rejected",a.reason=d,d=0;d<i.length;d++)(0,i[d])(void 0)}),a}var $d=H.S;H.S=function(t,e){typeof e=="object"&&e!==null&&typeof e.then=="function"&&yy(t,e),$d!==null&&$d(t,e)};var ji=B(null);function nu(){var t=ji.current;return t!==null?t:ge.pooledCache}function Vo(t,e){e===null?lt(ji,ji.current):lt(ji,e.pool)}function tp(){var t=nu();return t===null?null:{parent:Ge._currentValue,pool:t}}var _a=Error(r(460)),ep=Error(r(474)),Lo=Error(r(542)),su={then:function(){}};function np(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Fo(){}function sp(t,e,i){switch(i=t[i],i===void 0?t.push(e):i!==e&&(e.then(Fo,Fo),e=i),e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,rp(t),t;default:if(typeof e.status=="string")e.then(Fo,Fo);else{if(t=ge,t!==null&&100<t.shellSuspendCounter)throw Error(r(482));t=e,t.status="pending",t.then(function(a){if(e.status==="pending"){var d=e;d.status="fulfilled",d.value=a}},function(a){if(e.status==="pending"){var d=e;d.status="rejected",d.reason=a}})}switch(e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,rp(t),t}throw va=e,_a}}var va=null;function ip(){if(va===null)throw Error(r(459));var t=va;return va=null,t}function rp(t){if(t===_a||t===Lo)throw Error(r(483))}var Ys=!1;function iu(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ru(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Xs(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Ws(t,e,i){var a=t.updateQueue;if(a===null)return null;if(a=a.shared,(ae&2)!==0){var d=a.pending;return d===null?e.next=e:(e.next=d.next,d.next=e),a.pending=e,e=jo(t),Pd(t,null,i),e}return Ro(t,a,e,i),jo(t)}function ya(t,e,i){if(e=e.updateQueue,e!==null&&(e=e.shared,(i&4194048)!==0)){var a=e.lanes;a&=t.pendingLanes,i|=a,e.lanes=i,ve(t,i)}}function au(t,e){var i=t.updateQueue,a=t.alternate;if(a!==null&&(a=a.updateQueue,i===a)){var d=null,g=null;if(i=i.firstBaseUpdate,i!==null){do{var N={lane:i.lane,tag:i.tag,payload:i.payload,callback:null,next:null};g===null?d=g=N:g=g.next=N,i=i.next}while(i!==null);g===null?d=g=e:g=g.next=e}else d=g=e;i={baseState:a.baseState,firstBaseUpdate:d,lastBaseUpdate:g,shared:a.shared,callbacks:a.callbacks},t.updateQueue=i;return}t=i.lastBaseUpdate,t===null?i.firstBaseUpdate=e:t.next=e,i.lastBaseUpdate=e}var ou=!1;function ba(){if(ou){var t=mr;if(t!==null)throw t}}function xa(t,e,i,a){ou=!1;var d=t.updateQueue;Ys=!1;var g=d.firstBaseUpdate,N=d.lastBaseUpdate,j=d.shared.pending;if(j!==null){d.shared.pending=null;var P=j,at=P.next;P.next=null,N===null?g=at:N.next=at,N=P;var pt=t.alternate;pt!==null&&(pt=pt.updateQueue,j=pt.lastBaseUpdate,j!==N&&(j===null?pt.firstBaseUpdate=at:j.next=at,pt.lastBaseUpdate=P))}if(g!==null){var gt=d.baseState;N=0,pt=at=P=null,j=g;do{var ct=j.lane&-536870913,ht=ct!==j.lane;if(ht?(te&ct)===ct:(a&ct)===ct){ct!==0&&ct===pr&&(ou=!0),pt!==null&&(pt=pt.next={lane:0,tag:j.tag,payload:j.payload,callback:null,next:null});t:{var It=t,Rt=j;ct=e;var he=i;switch(Rt.tag){case 1:if(It=Rt.payload,typeof It=="function"){gt=It.call(he,gt,ct);break t}gt=It;break t;case 3:It.flags=It.flags&-65537|128;case 0:if(It=Rt.payload,ct=typeof It=="function"?It.call(he,gt,ct):It,ct==null)break t;gt=m({},gt,ct);break t;case 2:Ys=!0}}ct=j.callback,ct!==null&&(t.flags|=64,ht&&(t.flags|=8192),ht=d.callbacks,ht===null?d.callbacks=[ct]:ht.push(ct))}else ht={lane:ct,tag:j.tag,payload:j.payload,callback:j.callback,next:null},pt===null?(at=pt=ht,P=gt):pt=pt.next=ht,N|=ct;if(j=j.next,j===null){if(j=d.shared.pending,j===null)break;ht=j,j=ht.next,ht.next=null,d.lastBaseUpdate=ht,d.shared.pending=null}}while(!0);pt===null&&(P=gt),d.baseState=P,d.firstBaseUpdate=at,d.lastBaseUpdate=pt,g===null&&(d.shared.lanes=0),si|=N,t.lanes=N,t.memoizedState=gt}}function ap(t,e){if(typeof t!="function")throw Error(r(191,t));t.call(e)}function op(t,e){var i=t.callbacks;if(i!==null)for(t.callbacks=null,t=0;t<i.length;t++)ap(i[t],e)}var gr=B(null),Ho=B(0);function lp(t,e){t=zs,lt(Ho,t),lt(gr,e),zs=t|e.baseLanes}function lu(){lt(Ho,zs),lt(gr,gr.current)}function cu(){zs=Ho.current,F(gr),F(Ho)}var Qs=0,Yt=null,ce=null,Ie=null,Go=!1,_r=!1,zi=!1,Po=0,Sa=0,vr=null,xy=0;function je(){throw Error(r(321))}function uu(t,e){if(e===null)return!1;for(var i=0;i<e.length&&i<t.length;i++)if(!Cn(t[i],e[i]))return!1;return!0}function hu(t,e,i,a,d,g){return Qs=g,Yt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,H.H=t===null||t.memoizedState===null?Pp:Zp,zi=!1,g=i(a,d),zi=!1,_r&&(g=up(e,i,a,d)),cp(t),g}function cp(t){H.H=Ko;var e=ce!==null&&ce.next!==null;if(Qs=0,Ie=ce=Yt=null,Go=!1,Sa=0,vr=null,e)throw Error(r(300));t===null||We||(t=t.dependencies,t!==null&&Io(t)&&(We=!0))}function up(t,e,i,a){Yt=t;var d=0;do{if(_r&&(vr=null),Sa=0,_r=!1,25<=d)throw Error(r(301));if(d+=1,Ie=ce=null,t.updateQueue!=null){var g=t.updateQueue;g.lastEffect=null,g.events=null,g.stores=null,g.memoCache!=null&&(g.memoCache.index=0)}H.H=Cy,g=e(i,a)}while(_r);return g}function Sy(){var t=H.H,e=t.useState()[0];return e=typeof e.then=="function"?wa(e):e,t=t.useState()[0],(ce!==null?ce.memoizedState:null)!==t&&(Yt.flags|=1024),e}function fu(){var t=Po!==0;return Po=0,t}function du(t,e,i){e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i}function pu(t){if(Go){for(t=t.memoizedState;t!==null;){var e=t.queue;e!==null&&(e.pending=null),t=t.next}Go=!1}Qs=0,Ie=ce=Yt=null,_r=!1,Sa=Po=0,vr=null}function bn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ie===null?Yt.memoizedState=Ie=t:Ie=Ie.next=t,Ie}function qe(){if(ce===null){var t=Yt.alternate;t=t!==null?t.memoizedState:null}else t=ce.next;var e=Ie===null?Yt.memoizedState:Ie.next;if(e!==null)Ie=e,ce=t;else{if(t===null)throw Yt.alternate===null?Error(r(467)):Error(r(310));ce=t,t={memoizedState:ce.memoizedState,baseState:ce.baseState,baseQueue:ce.baseQueue,queue:ce.queue,next:null},Ie===null?Yt.memoizedState=Ie=t:Ie=Ie.next=t}return Ie}function mu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function wa(t){var e=Sa;return Sa+=1,vr===null&&(vr=[]),t=sp(vr,t,e),e=Yt,(Ie===null?e.memoizedState:Ie.next)===null&&(e=e.alternate,H.H=e===null||e.memoizedState===null?Pp:Zp),t}function Zo(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return wa(t);if(t.$$typeof===M)return an(t)}throw Error(r(438,String(t)))}function gu(t){var e=null,i=Yt.updateQueue;if(i!==null&&(e=i.memoCache),e==null){var a=Yt.alternate;a!==null&&(a=a.updateQueue,a!==null&&(a=a.memoCache,a!=null&&(e={data:a.data.map(function(d){return d.slice()}),index:0})))}if(e==null&&(e={data:[],index:0}),i===null&&(i=mu(),Yt.updateQueue=i),i.memoCache=e,i=e.data[e.index],i===void 0)for(i=e.data[e.index]=Array(t),a=0;a<t;a++)i[a]=Z;return e.index++,i}function Es(t,e){return typeof e=="function"?e(t):e}function Yo(t){var e=qe();return _u(e,ce,t)}function _u(t,e,i){var a=t.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=i;var d=t.baseQueue,g=a.pending;if(g!==null){if(d!==null){var N=d.next;d.next=g.next,g.next=N}e.baseQueue=d=g,a.pending=null}if(g=t.baseState,d===null)t.memoizedState=g;else{e=d.next;var j=N=null,P=null,at=e,pt=!1;do{var gt=at.lane&-536870913;if(gt!==at.lane?(te&gt)===gt:(Qs&gt)===gt){var ct=at.revertLane;if(ct===0)P!==null&&(P=P.next={lane:0,revertLane:0,action:at.action,hasEagerState:at.hasEagerState,eagerState:at.eagerState,next:null}),gt===pr&&(pt=!0);else if((Qs&ct)===ct){at=at.next,ct===pr&&(pt=!0);continue}else gt={lane:0,revertLane:at.revertLane,action:at.action,hasEagerState:at.hasEagerState,eagerState:at.eagerState,next:null},P===null?(j=P=gt,N=g):P=P.next=gt,Yt.lanes|=ct,si|=ct;gt=at.action,zi&&i(g,gt),g=at.hasEagerState?at.eagerState:i(g,gt)}else ct={lane:gt,revertLane:at.revertLane,action:at.action,hasEagerState:at.hasEagerState,eagerState:at.eagerState,next:null},P===null?(j=P=ct,N=g):P=P.next=ct,Yt.lanes|=gt,si|=gt;at=at.next}while(at!==null&&at!==e);if(P===null?N=g:P.next=j,!Cn(g,t.memoizedState)&&(We=!0,pt&&(i=mr,i!==null)))throw i;t.memoizedState=g,t.baseState=N,t.baseQueue=P,a.lastRenderedState=g}return d===null&&(a.lanes=0),[t.memoizedState,a.dispatch]}function vu(t){var e=qe(),i=e.queue;if(i===null)throw Error(r(311));i.lastRenderedReducer=t;var a=i.dispatch,d=i.pending,g=e.memoizedState;if(d!==null){i.pending=null;var N=d=d.next;do g=t(g,N.action),N=N.next;while(N!==d);Cn(g,e.memoizedState)||(We=!0),e.memoizedState=g,e.baseQueue===null&&(e.baseState=g),i.lastRenderedState=g}return[g,a]}function hp(t,e,i){var a=Yt,d=qe(),g=ne;if(g){if(i===void 0)throw Error(r(407));i=i()}else i=e();var N=!Cn((ce||d).memoizedState,i);N&&(d.memoizedState=i,We=!0),d=d.queue;var j=pp.bind(null,a,d,t);if(Ta(2048,8,j,[t]),d.getSnapshot!==e||N||Ie!==null&&Ie.memoizedState.tag&1){if(a.flags|=2048,yr(9,Xo(),dp.bind(null,a,d,i,e),null),ge===null)throw Error(r(349));g||(Qs&124)!==0||fp(a,e,i)}return i}function fp(t,e,i){t.flags|=16384,t={getSnapshot:e,value:i},e=Yt.updateQueue,e===null?(e=mu(),Yt.updateQueue=e,e.stores=[t]):(i=e.stores,i===null?e.stores=[t]:i.push(t))}function dp(t,e,i,a){e.value=i,e.getSnapshot=a,mp(e)&&gp(t)}function pp(t,e,i){return i(function(){mp(e)&&gp(t)})}function mp(t){var e=t.getSnapshot;t=t.value;try{var i=e();return!Cn(t,i)}catch{return!0}}function gp(t){var e=ur(t,2);e!==null&&jn(e,t,2)}function yu(t){var e=bn();if(typeof t=="function"){var i=t;if(t=i(),zi){Ut(!0);try{i()}finally{Ut(!1)}}}return e.memoizedState=e.baseState=t,e.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Es,lastRenderedState:t},e}function _p(t,e,i,a){return t.baseState=i,_u(t,ce,typeof a=="function"?a:Es)}function wy(t,e,i,a,d){if(Qo(t))throw Error(r(485));if(t=e.action,t!==null){var g={payload:d,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(N){g.listeners.push(N)}};H.T!==null?i(!0):g.isTransition=!1,a(g),i=e.pending,i===null?(g.next=e.pending=g,vp(e,g)):(g.next=i.next,e.pending=i.next=g)}}function vp(t,e){var i=e.action,a=e.payload,d=t.state;if(e.isTransition){var g=H.T,N={};H.T=N;try{var j=i(d,a),P=H.S;P!==null&&P(N,j),yp(t,e,j)}catch(at){bu(t,e,at)}finally{H.T=g}}else try{g=i(d,a),yp(t,e,g)}catch(at){bu(t,e,at)}}function yp(t,e,i){i!==null&&typeof i=="object"&&typeof i.then=="function"?i.then(function(a){bp(t,e,a)},function(a){return bu(t,e,a)}):bp(t,e,i)}function bp(t,e,i){e.status="fulfilled",e.value=i,xp(e),t.state=i,e=t.pending,e!==null&&(i=e.next,i===e?t.pending=null:(i=i.next,e.next=i,vp(t,i)))}function bu(t,e,i){var a=t.pending;if(t.pending=null,a!==null){a=a.next;do e.status="rejected",e.reason=i,xp(e),e=e.next;while(e!==a)}t.action=null}function xp(t){t=t.listeners;for(var e=0;e<t.length;e++)(0,t[e])()}function Sp(t,e){return e}function wp(t,e){if(ne){var i=ge.formState;if(i!==null){t:{var a=Yt;if(ne){if(Oe){e:{for(var d=Oe,g=fs;d.nodeType!==8;){if(!g){d=null;break e}if(d=ss(d.nextSibling),d===null){d=null;break e}}g=d.data,d=g==="F!"||g==="F"?d:null}if(d){Oe=ss(d.nextSibling),a=d.data==="F!";break t}}Mi(a)}a=!1}a&&(e=i[0])}}return i=bn(),i.memoizedState=i.baseState=e,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Sp,lastRenderedState:e},i.queue=a,i=Fp.bind(null,Yt,a),a.dispatch=i,a=yu(!1),g=Au.bind(null,Yt,!1,a.queue),a=bn(),d={state:e,dispatch:null,action:t,pending:null},a.queue=d,i=wy.bind(null,Yt,d,g,i),d.dispatch=i,a.memoizedState=t,[e,i,!1]}function Tp(t){var e=qe();return Ap(e,ce,t)}function Ap(t,e,i){if(e=_u(t,e,Sp)[0],t=Yo(Es)[0],typeof e=="object"&&e!==null&&typeof e.then=="function")try{var a=wa(e)}catch(N){throw N===_a?Lo:N}else a=e;e=qe();var d=e.queue,g=d.dispatch;return i!==e.memoizedState&&(Yt.flags|=2048,yr(9,Xo(),Ty.bind(null,d,i),null)),[a,g,t]}function Ty(t,e){t.action=e}function Np(t){var e=qe(),i=ce;if(i!==null)return Ap(e,i,t);qe(),e=e.memoizedState,i=qe();var a=i.queue.dispatch;return i.memoizedState=t,[e,a,!1]}function yr(t,e,i,a){return t={tag:t,create:i,deps:a,inst:e,next:null},e=Yt.updateQueue,e===null&&(e=mu(),Yt.updateQueue=e),i=e.lastEffect,i===null?e.lastEffect=t.next=t:(a=i.next,i.next=t,t.next=a,e.lastEffect=t),t}function Xo(){return{destroy:void 0,resource:void 0}}function kp(){return qe().memoizedState}function Wo(t,e,i,a){var d=bn();a=a===void 0?null:a,Yt.flags|=t,d.memoizedState=yr(1|e,Xo(),i,a)}function Ta(t,e,i,a){var d=qe();a=a===void 0?null:a;var g=d.memoizedState.inst;ce!==null&&a!==null&&uu(a,ce.memoizedState.deps)?d.memoizedState=yr(e,g,i,a):(Yt.flags|=t,d.memoizedState=yr(1|e,g,i,a))}function Cp(t,e){Wo(8390656,8,t,e)}function Ep(t,e){Ta(2048,8,t,e)}function Op(t,e){return Ta(4,2,t,e)}function Mp(t,e){return Ta(4,4,t,e)}function Dp(t,e){if(typeof e=="function"){t=t();var i=e(t);return function(){typeof i=="function"?i():e(null)}}if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Rp(t,e,i){i=i!=null?i.concat([t]):null,Ta(4,4,Dp.bind(null,e,t),i)}function xu(){}function jp(t,e){var i=qe();e=e===void 0?null:e;var a=i.memoizedState;return e!==null&&uu(e,a[1])?a[0]:(i.memoizedState=[t,e],t)}function zp(t,e){var i=qe();e=e===void 0?null:e;var a=i.memoizedState;if(e!==null&&uu(e,a[1]))return a[0];if(a=t(),zi){Ut(!0);try{t()}finally{Ut(!1)}}return i.memoizedState=[a,e],a}function Su(t,e,i){return i===void 0||(Qs&1073741824)!==0?t.memoizedState=e:(t.memoizedState=i,t=Im(),Yt.lanes|=t,si|=t,i)}function Up(t,e,i,a){return Cn(i,e)?i:gr.current!==null?(t=Su(t,i,a),Cn(t,e)||(We=!0),t):(Qs&42)===0?(We=!0,t.memoizedState=i):(t=Im(),Yt.lanes|=t,si|=t,e)}function Bp(t,e,i,a,d){var g=G.p;G.p=g!==0&&8>g?g:8;var N=H.T,j={};H.T=j,Au(t,!1,e,i);try{var P=d(),at=H.S;if(at!==null&&at(j,P),P!==null&&typeof P=="object"&&typeof P.then=="function"){var pt=by(P,a);Aa(t,e,pt,Rn(t))}else Aa(t,e,a,Rn(t))}catch(gt){Aa(t,e,{then:function(){},status:"rejected",reason:gt},Rn())}finally{G.p=g,H.T=N}}function Ay(){}function wu(t,e,i,a){if(t.tag!==5)throw Error(r(476));var d=Ip(t).queue;Bp(t,d,e,ut,i===null?Ay:function(){return qp(t),i(a)})}function Ip(t){var e=t.memoizedState;if(e!==null)return e;e={memoizedState:ut,baseState:ut,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Es,lastRenderedState:ut},next:null};var i={};return e.next={memoizedState:i,baseState:i,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Es,lastRenderedState:i},next:null},t.memoizedState=e,t=t.alternate,t!==null&&(t.memoizedState=e),e}function qp(t){var e=Ip(t).next.queue;Aa(t,e,{},Rn())}function Tu(){return an(Ha)}function Vp(){return qe().memoizedState}function Lp(){return qe().memoizedState}function Ny(t){for(var e=t.return;e!==null;){switch(e.tag){case 24:case 3:var i=Rn();t=Xs(i);var a=Ws(e,t,i);a!==null&&(jn(a,e,i),ya(a,e,i)),e={cache:tu()},t.payload=e;return}e=e.return}}function ky(t,e,i){var a=Rn();i={lane:a,revertLane:0,action:i,hasEagerState:!1,eagerState:null,next:null},Qo(t)?Hp(e,i):(i=Gc(t,e,i,a),i!==null&&(jn(i,t,a),Gp(i,e,a)))}function Fp(t,e,i){var a=Rn();Aa(t,e,i,a)}function Aa(t,e,i,a){var d={lane:a,revertLane:0,action:i,hasEagerState:!1,eagerState:null,next:null};if(Qo(t))Hp(e,d);else{var g=t.alternate;if(t.lanes===0&&(g===null||g.lanes===0)&&(g=e.lastRenderedReducer,g!==null))try{var N=e.lastRenderedState,j=g(N,i);if(d.hasEagerState=!0,d.eagerState=j,Cn(j,N))return Ro(t,e,d,0),ge===null&&Do(),!1}catch{}finally{}if(i=Gc(t,e,d,a),i!==null)return jn(i,t,a),Gp(i,e,a),!0}return!1}function Au(t,e,i,a){if(a={lane:2,revertLane:sh(),action:a,hasEagerState:!1,eagerState:null,next:null},Qo(t)){if(e)throw Error(r(479))}else e=Gc(t,i,a,2),e!==null&&jn(e,t,2)}function Qo(t){var e=t.alternate;return t===Yt||e!==null&&e===Yt}function Hp(t,e){_r=Go=!0;var i=t.pending;i===null?e.next=e:(e.next=i.next,i.next=e),t.pending=e}function Gp(t,e,i){if((i&4194048)!==0){var a=e.lanes;a&=t.pendingLanes,i|=a,e.lanes=i,ve(t,i)}}var Ko={readContext:an,use:Zo,useCallback:je,useContext:je,useEffect:je,useImperativeHandle:je,useLayoutEffect:je,useInsertionEffect:je,useMemo:je,useReducer:je,useRef:je,useState:je,useDebugValue:je,useDeferredValue:je,useTransition:je,useSyncExternalStore:je,useId:je,useHostTransitionStatus:je,useFormState:je,useActionState:je,useOptimistic:je,useMemoCache:je,useCacheRefresh:je},Pp={readContext:an,use:Zo,useCallback:function(t,e){return bn().memoizedState=[t,e===void 0?null:e],t},useContext:an,useEffect:Cp,useImperativeHandle:function(t,e,i){i=i!=null?i.concat([t]):null,Wo(4194308,4,Dp.bind(null,e,t),i)},useLayoutEffect:function(t,e){return Wo(4194308,4,t,e)},useInsertionEffect:function(t,e){Wo(4,2,t,e)},useMemo:function(t,e){var i=bn();e=e===void 0?null:e;var a=t();if(zi){Ut(!0);try{t()}finally{Ut(!1)}}return i.memoizedState=[a,e],a},useReducer:function(t,e,i){var a=bn();if(i!==void 0){var d=i(e);if(zi){Ut(!0);try{i(e)}finally{Ut(!1)}}}else d=e;return a.memoizedState=a.baseState=d,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:d},a.queue=t,t=t.dispatch=ky.bind(null,Yt,t),[a.memoizedState,t]},useRef:function(t){var e=bn();return t={current:t},e.memoizedState=t},useState:function(t){t=yu(t);var e=t.queue,i=Fp.bind(null,Yt,e);return e.dispatch=i,[t.memoizedState,i]},useDebugValue:xu,useDeferredValue:function(t,e){var i=bn();return Su(i,t,e)},useTransition:function(){var t=yu(!1);return t=Bp.bind(null,Yt,t.queue,!0,!1),bn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,e,i){var a=Yt,d=bn();if(ne){if(i===void 0)throw Error(r(407));i=i()}else{if(i=e(),ge===null)throw Error(r(349));(te&124)!==0||fp(a,e,i)}d.memoizedState=i;var g={value:i,getSnapshot:e};return d.queue=g,Cp(pp.bind(null,a,g,t),[t]),a.flags|=2048,yr(9,Xo(),dp.bind(null,a,g,i,e),null),i},useId:function(){var t=bn(),e=ge.identifierPrefix;if(ne){var i=Ns,a=As;i=(a&~(1<<32-ie(a)-1)).toString(32)+i,e=""+e+"R"+i,i=Po++,0<i&&(e+="H"+i.toString(32)),e+=""}else i=xy++,e=""+e+"r"+i.toString(32)+"";return t.memoizedState=e},useHostTransitionStatus:Tu,useFormState:wp,useActionState:wp,useOptimistic:function(t){var e=bn();e.memoizedState=e.baseState=t;var i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return e.queue=i,e=Au.bind(null,Yt,!0,i),i.dispatch=e,[t,e]},useMemoCache:gu,useCacheRefresh:function(){return bn().memoizedState=Ny.bind(null,Yt)}},Zp={readContext:an,use:Zo,useCallback:jp,useContext:an,useEffect:Ep,useImperativeHandle:Rp,useInsertionEffect:Op,useLayoutEffect:Mp,useMemo:zp,useReducer:Yo,useRef:kp,useState:function(){return Yo(Es)},useDebugValue:xu,useDeferredValue:function(t,e){var i=qe();return Up(i,ce.memoizedState,t,e)},useTransition:function(){var t=Yo(Es)[0],e=qe().memoizedState;return[typeof t=="boolean"?t:wa(t),e]},useSyncExternalStore:hp,useId:Vp,useHostTransitionStatus:Tu,useFormState:Tp,useActionState:Tp,useOptimistic:function(t,e){var i=qe();return _p(i,ce,t,e)},useMemoCache:gu,useCacheRefresh:Lp},Cy={readContext:an,use:Zo,useCallback:jp,useContext:an,useEffect:Ep,useImperativeHandle:Rp,useInsertionEffect:Op,useLayoutEffect:Mp,useMemo:zp,useReducer:vu,useRef:kp,useState:function(){return vu(Es)},useDebugValue:xu,useDeferredValue:function(t,e){var i=qe();return ce===null?Su(i,t,e):Up(i,ce.memoizedState,t,e)},useTransition:function(){var t=vu(Es)[0],e=qe().memoizedState;return[typeof t=="boolean"?t:wa(t),e]},useSyncExternalStore:hp,useId:Vp,useHostTransitionStatus:Tu,useFormState:Np,useActionState:Np,useOptimistic:function(t,e){var i=qe();return ce!==null?_p(i,ce,t,e):(i.baseState=t,[t,i.queue.dispatch])},useMemoCache:gu,useCacheRefresh:Lp},br=null,Na=0;function Jo(t){var e=Na;return Na+=1,br===null&&(br=[]),sp(br,t,e)}function ka(t,e){e=e.props.ref,t.ref=e!==void 0?e:null}function $o(t,e){throw e.$$typeof===_?Error(r(525)):(t=Object.prototype.toString.call(e),Error(r(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)))}function Yp(t){var e=t._init;return e(t._payload)}function Xp(t){function e(et,Q){if(t){var rt=et.deletions;rt===null?(et.deletions=[Q],et.flags|=16):rt.push(Q)}}function i(et,Q){if(!t)return null;for(;Q!==null;)e(et,Q),Q=Q.sibling;return null}function a(et){for(var Q=new Map;et!==null;)et.key!==null?Q.set(et.key,et):Q.set(et.index,et),et=et.sibling;return Q}function d(et,Q){return et=Ts(et,Q),et.index=0,et.sibling=null,et}function g(et,Q,rt){return et.index=rt,t?(rt=et.alternate,rt!==null?(rt=rt.index,rt<Q?(et.flags|=67108866,Q):rt):(et.flags|=67108866,Q)):(et.flags|=1048576,Q)}function N(et){return t&&et.alternate===null&&(et.flags|=67108866),et}function j(et,Q,rt,mt){return Q===null||Q.tag!==6?(Q=Zc(rt,et.mode,mt),Q.return=et,Q):(Q=d(Q,rt),Q.return=et,Q)}function P(et,Q,rt,mt){var Tt=rt.type;return Tt===x?pt(et,Q,rt.props.children,mt,rt.key):Q!==null&&(Q.elementType===Tt||typeof Tt=="object"&&Tt!==null&&Tt.$$typeof===D&&Yp(Tt)===Q.type)?(Q=d(Q,rt.props),ka(Q,rt),Q.return=et,Q):(Q=zo(rt.type,rt.key,rt.props,null,et.mode,mt),ka(Q,rt),Q.return=et,Q)}function at(et,Q,rt,mt){return Q===null||Q.tag!==4||Q.stateNode.containerInfo!==rt.containerInfo||Q.stateNode.implementation!==rt.implementation?(Q=Yc(rt,et.mode,mt),Q.return=et,Q):(Q=d(Q,rt.children||[]),Q.return=et,Q)}function pt(et,Q,rt,mt,Tt){return Q===null||Q.tag!==7?(Q=ki(rt,et.mode,mt,Tt),Q.return=et,Q):(Q=d(Q,rt),Q.return=et,Q)}function gt(et,Q,rt){if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return Q=Zc(""+Q,et.mode,rt),Q.return=et,Q;if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case b:return rt=zo(Q.type,Q.key,Q.props,null,et.mode,rt),ka(rt,Q),rt.return=et,rt;case v:return Q=Yc(Q,et.mode,rt),Q.return=et,Q;case D:var mt=Q._init;return Q=mt(Q._payload),gt(et,Q,rt)}if(K(Q)||R(Q))return Q=ki(Q,et.mode,rt,null),Q.return=et,Q;if(typeof Q.then=="function")return gt(et,Jo(Q),rt);if(Q.$$typeof===M)return gt(et,qo(et,Q),rt);$o(et,Q)}return null}function ct(et,Q,rt,mt){var Tt=Q!==null?Q.key:null;if(typeof rt=="string"&&rt!==""||typeof rt=="number"||typeof rt=="bigint")return Tt!==null?null:j(et,Q,""+rt,mt);if(typeof rt=="object"&&rt!==null){switch(rt.$$typeof){case b:return rt.key===Tt?P(et,Q,rt,mt):null;case v:return rt.key===Tt?at(et,Q,rt,mt):null;case D:return Tt=rt._init,rt=Tt(rt._payload),ct(et,Q,rt,mt)}if(K(rt)||R(rt))return Tt!==null?null:pt(et,Q,rt,mt,null);if(typeof rt.then=="function")return ct(et,Q,Jo(rt),mt);if(rt.$$typeof===M)return ct(et,Q,qo(et,rt),mt);$o(et,rt)}return null}function ht(et,Q,rt,mt,Tt){if(typeof mt=="string"&&mt!==""||typeof mt=="number"||typeof mt=="bigint")return et=et.get(rt)||null,j(Q,et,""+mt,Tt);if(typeof mt=="object"&&mt!==null){switch(mt.$$typeof){case b:return et=et.get(mt.key===null?rt:mt.key)||null,P(Q,et,mt,Tt);case v:return et=et.get(mt.key===null?rt:mt.key)||null,at(Q,et,mt,Tt);case D:var Wt=mt._init;return mt=Wt(mt._payload),ht(et,Q,rt,mt,Tt)}if(K(mt)||R(mt))return et=et.get(rt)||null,pt(Q,et,mt,Tt,null);if(typeof mt.then=="function")return ht(et,Q,rt,Jo(mt),Tt);if(mt.$$typeof===M)return ht(et,Q,rt,qo(Q,mt),Tt);$o(Q,mt)}return null}function It(et,Q,rt,mt){for(var Tt=null,Wt=null,Et=Q,zt=Q=0,Ke=null;Et!==null&&zt<rt.length;zt++){Et.index>zt?(Ke=Et,Et=null):Ke=Et.sibling;var ee=ct(et,Et,rt[zt],mt);if(ee===null){Et===null&&(Et=Ke);break}t&&Et&&ee.alternate===null&&e(et,Et),Q=g(ee,Q,zt),Wt===null?Tt=ee:Wt.sibling=ee,Wt=ee,Et=Ke}if(zt===rt.length)return i(et,Et),ne&&Ei(et,zt),Tt;if(Et===null){for(;zt<rt.length;zt++)Et=gt(et,rt[zt],mt),Et!==null&&(Q=g(Et,Q,zt),Wt===null?Tt=Et:Wt.sibling=Et,Wt=Et);return ne&&Ei(et,zt),Tt}for(Et=a(Et);zt<rt.length;zt++)Ke=ht(Et,et,zt,rt[zt],mt),Ke!==null&&(t&&Ke.alternate!==null&&Et.delete(Ke.key===null?zt:Ke.key),Q=g(Ke,Q,zt),Wt===null?Tt=Ke:Wt.sibling=Ke,Wt=Ke);return t&&Et.forEach(function(fi){return e(et,fi)}),ne&&Ei(et,zt),Tt}function Rt(et,Q,rt,mt){if(rt==null)throw Error(r(151));for(var Tt=null,Wt=null,Et=Q,zt=Q=0,Ke=null,ee=rt.next();Et!==null&&!ee.done;zt++,ee=rt.next()){Et.index>zt?(Ke=Et,Et=null):Ke=Et.sibling;var fi=ct(et,Et,ee.value,mt);if(fi===null){Et===null&&(Et=Ke);break}t&&Et&&fi.alternate===null&&e(et,Et),Q=g(fi,Q,zt),Wt===null?Tt=fi:Wt.sibling=fi,Wt=fi,Et=Ke}if(ee.done)return i(et,Et),ne&&Ei(et,zt),Tt;if(Et===null){for(;!ee.done;zt++,ee=rt.next())ee=gt(et,ee.value,mt),ee!==null&&(Q=g(ee,Q,zt),Wt===null?Tt=ee:Wt.sibling=ee,Wt=ee);return ne&&Ei(et,zt),Tt}for(Et=a(Et);!ee.done;zt++,ee=rt.next())ee=ht(Et,et,zt,ee.value,mt),ee!==null&&(t&&ee.alternate!==null&&Et.delete(ee.key===null?zt:ee.key),Q=g(ee,Q,zt),Wt===null?Tt=ee:Wt.sibling=ee,Wt=ee);return t&&Et.forEach(function(E1){return e(et,E1)}),ne&&Ei(et,zt),Tt}function he(et,Q,rt,mt){if(typeof rt=="object"&&rt!==null&&rt.type===x&&rt.key===null&&(rt=rt.props.children),typeof rt=="object"&&rt!==null){switch(rt.$$typeof){case b:t:{for(var Tt=rt.key;Q!==null;){if(Q.key===Tt){if(Tt=rt.type,Tt===x){if(Q.tag===7){i(et,Q.sibling),mt=d(Q,rt.props.children),mt.return=et,et=mt;break t}}else if(Q.elementType===Tt||typeof Tt=="object"&&Tt!==null&&Tt.$$typeof===D&&Yp(Tt)===Q.type){i(et,Q.sibling),mt=d(Q,rt.props),ka(mt,rt),mt.return=et,et=mt;break t}i(et,Q);break}else e(et,Q);Q=Q.sibling}rt.type===x?(mt=ki(rt.props.children,et.mode,mt,rt.key),mt.return=et,et=mt):(mt=zo(rt.type,rt.key,rt.props,null,et.mode,mt),ka(mt,rt),mt.return=et,et=mt)}return N(et);case v:t:{for(Tt=rt.key;Q!==null;){if(Q.key===Tt)if(Q.tag===4&&Q.stateNode.containerInfo===rt.containerInfo&&Q.stateNode.implementation===rt.implementation){i(et,Q.sibling),mt=d(Q,rt.children||[]),mt.return=et,et=mt;break t}else{i(et,Q);break}else e(et,Q);Q=Q.sibling}mt=Yc(rt,et.mode,mt),mt.return=et,et=mt}return N(et);case D:return Tt=rt._init,rt=Tt(rt._payload),he(et,Q,rt,mt)}if(K(rt))return It(et,Q,rt,mt);if(R(rt)){if(Tt=R(rt),typeof Tt!="function")throw Error(r(150));return rt=Tt.call(rt),Rt(et,Q,rt,mt)}if(typeof rt.then=="function")return he(et,Q,Jo(rt),mt);if(rt.$$typeof===M)return he(et,Q,qo(et,rt),mt);$o(et,rt)}return typeof rt=="string"&&rt!==""||typeof rt=="number"||typeof rt=="bigint"?(rt=""+rt,Q!==null&&Q.tag===6?(i(et,Q.sibling),mt=d(Q,rt),mt.return=et,et=mt):(i(et,Q),mt=Zc(rt,et.mode,mt),mt.return=et,et=mt),N(et)):i(et,Q)}return function(et,Q,rt,mt){try{Na=0;var Tt=he(et,Q,rt,mt);return br=null,Tt}catch(Et){if(Et===_a||Et===Lo)throw Et;var Wt=En(29,Et,null,et.mode);return Wt.lanes=mt,Wt.return=et,Wt}finally{}}}var xr=Xp(!0),Wp=Xp(!1),Wn=B(null),ds=null;function Ks(t){var e=t.alternate;lt(Pe,Pe.current&1),lt(Wn,t),ds===null&&(e===null||gr.current!==null||e.memoizedState!==null)&&(ds=t)}function Qp(t){if(t.tag===22){if(lt(Pe,Pe.current),lt(Wn,t),ds===null){var e=t.alternate;e!==null&&e.memoizedState!==null&&(ds=t)}}else Js()}function Js(){lt(Pe,Pe.current),lt(Wn,Wn.current)}function Os(t){F(Wn),ds===t&&(ds=null),F(Pe)}var Pe=B(0);function tl(t){for(var e=t;e!==null;){if(e.tag===13){var i=e.memoizedState;if(i!==null&&(i=i.dehydrated,i===null||i.data==="$?"||mh(i)))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if((e.flags&128)!==0)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}function Nu(t,e,i,a){e=t.memoizedState,i=i(a,e),i=i==null?e:m({},e,i),t.memoizedState=i,t.lanes===0&&(t.updateQueue.baseState=i)}var ku={enqueueSetState:function(t,e,i){t=t._reactInternals;var a=Rn(),d=Xs(a);d.payload=e,i!=null&&(d.callback=i),e=Ws(t,d,a),e!==null&&(jn(e,t,a),ya(e,t,a))},enqueueReplaceState:function(t,e,i){t=t._reactInternals;var a=Rn(),d=Xs(a);d.tag=1,d.payload=e,i!=null&&(d.callback=i),e=Ws(t,d,a),e!==null&&(jn(e,t,a),ya(e,t,a))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var i=Rn(),a=Xs(i);a.tag=2,e!=null&&(a.callback=e),e=Ws(t,a,i),e!==null&&(jn(e,t,i),ya(e,t,i))}};function Kp(t,e,i,a,d,g,N){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(a,g,N):e.prototype&&e.prototype.isPureReactComponent?!ca(i,a)||!ca(d,g):!0}function Jp(t,e,i,a){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(i,a),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(i,a),e.state!==t&&ku.enqueueReplaceState(e,e.state,null)}function Ui(t,e){var i=e;if("ref"in e){i={};for(var a in e)a!=="ref"&&(i[a]=e[a])}if(t=t.defaultProps){i===e&&(i=m({},i));for(var d in t)i[d]===void 0&&(i[d]=t[d])}return i}var el=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function $p(t){el(t)}function tm(t){console.error(t)}function em(t){el(t)}function nl(t,e){try{var i=t.onUncaughtError;i(e.value,{componentStack:e.stack})}catch(a){setTimeout(function(){throw a})}}function nm(t,e,i){try{var a=t.onCaughtError;a(i.value,{componentStack:i.stack,errorBoundary:e.tag===1?e.stateNode:null})}catch(d){setTimeout(function(){throw d})}}function Cu(t,e,i){return i=Xs(i),i.tag=3,i.payload={element:null},i.callback=function(){nl(t,e)},i}function sm(t){return t=Xs(t),t.tag=3,t}function im(t,e,i,a){var d=i.type.getDerivedStateFromError;if(typeof d=="function"){var g=a.value;t.payload=function(){return d(g)},t.callback=function(){nm(e,i,a)}}var N=i.stateNode;N!==null&&typeof N.componentDidCatch=="function"&&(t.callback=function(){nm(e,i,a),typeof d!="function"&&(ii===null?ii=new Set([this]):ii.add(this));var j=a.stack;this.componentDidCatch(a.value,{componentStack:j!==null?j:""})})}function Ey(t,e,i,a,d){if(i.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){if(e=i.alternate,e!==null&&pa(e,i,d,!0),i=Wn.current,i!==null){switch(i.tag){case 13:return ds===null?Ju():i.alternate===null&&Me===0&&(Me=3),i.flags&=-257,i.flags|=65536,i.lanes=d,a===su?i.flags|=16384:(e=i.updateQueue,e===null?i.updateQueue=new Set([a]):e.add(a),th(t,a,d)),!1;case 22:return i.flags|=65536,a===su?i.flags|=16384:(e=i.updateQueue,e===null?(e={transitions:null,markerInstances:null,retryQueue:new Set([a])},i.updateQueue=e):(i=e.retryQueue,i===null?e.retryQueue=new Set([a]):i.add(a)),th(t,a,d)),!1}throw Error(r(435,i.tag))}return th(t,a,d),Ju(),!1}if(ne)return e=Wn.current,e!==null?((e.flags&65536)===0&&(e.flags|=256),e.flags|=65536,e.lanes=d,a!==Qc&&(t=Error(r(422),{cause:a}),da(Pn(t,i)))):(a!==Qc&&(e=Error(r(423),{cause:a}),da(Pn(e,i))),t=t.current.alternate,t.flags|=65536,d&=-d,t.lanes|=d,a=Pn(a,i),d=Cu(t.stateNode,a,d),au(t,d),Me!==4&&(Me=2)),!1;var g=Error(r(520),{cause:a});if(g=Pn(g,i),ja===null?ja=[g]:ja.push(g),Me!==4&&(Me=2),e===null)return!0;a=Pn(a,i),i=e;do{switch(i.tag){case 3:return i.flags|=65536,t=d&-d,i.lanes|=t,t=Cu(i.stateNode,a,t),au(i,t),!1;case 1:if(e=i.type,g=i.stateNode,(i.flags&128)===0&&(typeof e.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(ii===null||!ii.has(g))))return i.flags|=65536,d&=-d,i.lanes|=d,d=sm(d),im(d,t,i,a),au(i,d),!1}i=i.return}while(i!==null);return!1}var rm=Error(r(461)),We=!1;function en(t,e,i,a){e.child=t===null?Wp(e,null,i,a):xr(e,t.child,i,a)}function am(t,e,i,a,d){i=i.render;var g=e.ref;if("ref"in a){var N={};for(var j in a)j!=="ref"&&(N[j]=a[j])}else N=a;return Ri(e),a=hu(t,e,i,N,g,d),j=fu(),t!==null&&!We?(du(t,e,d),Ms(t,e,d)):(ne&&j&&Xc(e),e.flags|=1,en(t,e,a,d),e.child)}function om(t,e,i,a,d){if(t===null){var g=i.type;return typeof g=="function"&&!Pc(g)&&g.defaultProps===void 0&&i.compare===null?(e.tag=15,e.type=g,lm(t,e,g,a,d)):(t=zo(i.type,null,a,e,e.mode,d),t.ref=e.ref,t.return=e,e.child=t)}if(g=t.child,!Uu(t,d)){var N=g.memoizedProps;if(i=i.compare,i=i!==null?i:ca,i(N,a)&&t.ref===e.ref)return Ms(t,e,d)}return e.flags|=1,t=Ts(g,a),t.ref=e.ref,t.return=e,e.child=t}function lm(t,e,i,a,d){if(t!==null){var g=t.memoizedProps;if(ca(g,a)&&t.ref===e.ref)if(We=!1,e.pendingProps=a=g,Uu(t,d))(t.flags&131072)!==0&&(We=!0);else return e.lanes=t.lanes,Ms(t,e,d)}return Eu(t,e,i,a,d)}function cm(t,e,i){var a=e.pendingProps,d=a.children,g=t!==null?t.memoizedState:null;if(a.mode==="hidden"){if((e.flags&128)!==0){if(a=g!==null?g.baseLanes|i:i,t!==null){for(d=e.child=t.child,g=0;d!==null;)g=g|d.lanes|d.childLanes,d=d.sibling;e.childLanes=g&~a}else e.childLanes=0,e.child=null;return um(t,e,a,i)}if((i&536870912)!==0)e.memoizedState={baseLanes:0,cachePool:null},t!==null&&Vo(e,g!==null?g.cachePool:null),g!==null?lp(e,g):lu(),Qp(e);else return e.lanes=e.childLanes=536870912,um(t,e,g!==null?g.baseLanes|i:i,i)}else g!==null?(Vo(e,g.cachePool),lp(e,g),Js(),e.memoizedState=null):(t!==null&&Vo(e,null),lu(),Js());return en(t,e,d,i),e.child}function um(t,e,i,a){var d=nu();return d=d===null?null:{parent:Ge._currentValue,pool:d},e.memoizedState={baseLanes:i,cachePool:d},t!==null&&Vo(e,null),lu(),Qp(e),t!==null&&pa(t,e,a,!0),null}function sl(t,e){var i=e.ref;if(i===null)t!==null&&t.ref!==null&&(e.flags|=4194816);else{if(typeof i!="function"&&typeof i!="object")throw Error(r(284));(t===null||t.ref!==i)&&(e.flags|=4194816)}}function Eu(t,e,i,a,d){return Ri(e),i=hu(t,e,i,a,void 0,d),a=fu(),t!==null&&!We?(du(t,e,d),Ms(t,e,d)):(ne&&a&&Xc(e),e.flags|=1,en(t,e,i,d),e.child)}function hm(t,e,i,a,d,g){return Ri(e),e.updateQueue=null,i=up(e,a,i,d),cp(t),a=fu(),t!==null&&!We?(du(t,e,g),Ms(t,e,g)):(ne&&a&&Xc(e),e.flags|=1,en(t,e,i,g),e.child)}function fm(t,e,i,a,d){if(Ri(e),e.stateNode===null){var g=hr,N=i.contextType;typeof N=="object"&&N!==null&&(g=an(N)),g=new i(a,g),e.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=ku,e.stateNode=g,g._reactInternals=e,g=e.stateNode,g.props=a,g.state=e.memoizedState,g.refs={},iu(e),N=i.contextType,g.context=typeof N=="object"&&N!==null?an(N):hr,g.state=e.memoizedState,N=i.getDerivedStateFromProps,typeof N=="function"&&(Nu(e,i,N,a),g.state=e.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(N=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),N!==g.state&&ku.enqueueReplaceState(g,g.state,null),xa(e,a,g,d),ba(),g.state=e.memoizedState),typeof g.componentDidMount=="function"&&(e.flags|=4194308),a=!0}else if(t===null){g=e.stateNode;var j=e.memoizedProps,P=Ui(i,j);g.props=P;var at=g.context,pt=i.contextType;N=hr,typeof pt=="object"&&pt!==null&&(N=an(pt));var gt=i.getDerivedStateFromProps;pt=typeof gt=="function"||typeof g.getSnapshotBeforeUpdate=="function",j=e.pendingProps!==j,pt||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(j||at!==N)&&Jp(e,g,a,N),Ys=!1;var ct=e.memoizedState;g.state=ct,xa(e,a,g,d),ba(),at=e.memoizedState,j||ct!==at||Ys?(typeof gt=="function"&&(Nu(e,i,gt,a),at=e.memoizedState),(P=Ys||Kp(e,i,P,a,ct,at,N))?(pt||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(e.flags|=4194308)):(typeof g.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=a,e.memoizedState=at),g.props=a,g.state=at,g.context=N,a=P):(typeof g.componentDidMount=="function"&&(e.flags|=4194308),a=!1)}else{g=e.stateNode,ru(t,e),N=e.memoizedProps,pt=Ui(i,N),g.props=pt,gt=e.pendingProps,ct=g.context,at=i.contextType,P=hr,typeof at=="object"&&at!==null&&(P=an(at)),j=i.getDerivedStateFromProps,(at=typeof j=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(N!==gt||ct!==P)&&Jp(e,g,a,P),Ys=!1,ct=e.memoizedState,g.state=ct,xa(e,a,g,d),ba();var ht=e.memoizedState;N!==gt||ct!==ht||Ys||t!==null&&t.dependencies!==null&&Io(t.dependencies)?(typeof j=="function"&&(Nu(e,i,j,a),ht=e.memoizedState),(pt=Ys||Kp(e,i,pt,a,ct,ht,P)||t!==null&&t.dependencies!==null&&Io(t.dependencies))?(at||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(a,ht,P),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(a,ht,P)),typeof g.componentDidUpdate=="function"&&(e.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof g.componentDidUpdate!="function"||N===t.memoizedProps&&ct===t.memoizedState||(e.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||N===t.memoizedProps&&ct===t.memoizedState||(e.flags|=1024),e.memoizedProps=a,e.memoizedState=ht),g.props=a,g.state=ht,g.context=P,a=pt):(typeof g.componentDidUpdate!="function"||N===t.memoizedProps&&ct===t.memoizedState||(e.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||N===t.memoizedProps&&ct===t.memoizedState||(e.flags|=1024),a=!1)}return g=a,sl(t,e),a=(e.flags&128)!==0,g||a?(g=e.stateNode,i=a&&typeof i.getDerivedStateFromError!="function"?null:g.render(),e.flags|=1,t!==null&&a?(e.child=xr(e,t.child,null,d),e.child=xr(e,null,i,d)):en(t,e,i,d),e.memoizedState=g.state,t=e.child):t=Ms(t,e,d),t}function dm(t,e,i,a){return fa(),e.flags|=256,en(t,e,i,a),e.child}var Ou={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Mu(t){return{baseLanes:t,cachePool:tp()}}function Du(t,e,i){return t=t!==null?t.childLanes&~i:0,e&&(t|=Qn),t}function pm(t,e,i){var a=e.pendingProps,d=!1,g=(e.flags&128)!==0,N;if((N=g)||(N=t!==null&&t.memoizedState===null?!1:(Pe.current&2)!==0),N&&(d=!0,e.flags&=-129),N=(e.flags&32)!==0,e.flags&=-33,t===null){if(ne){if(d?Ks(e):Js(),ne){var j=Oe,P;if(P=j){t:{for(P=j,j=fs;P.nodeType!==8;){if(!j){j=null;break t}if(P=ss(P.nextSibling),P===null){j=null;break t}}j=P}j!==null?(e.memoizedState={dehydrated:j,treeContext:Ci!==null?{id:As,overflow:Ns}:null,retryLane:536870912,hydrationErrors:null},P=En(18,null,null,0),P.stateNode=j,P.return=e,e.child=P,fn=e,Oe=null,P=!0):P=!1}P||Mi(e)}if(j=e.memoizedState,j!==null&&(j=j.dehydrated,j!==null))return mh(j)?e.lanes=32:e.lanes=536870912,null;Os(e)}return j=a.children,a=a.fallback,d?(Js(),d=e.mode,j=il({mode:"hidden",children:j},d),a=ki(a,d,i,null),j.return=e,a.return=e,j.sibling=a,e.child=j,d=e.child,d.memoizedState=Mu(i),d.childLanes=Du(t,N,i),e.memoizedState=Ou,a):(Ks(e),Ru(e,j))}if(P=t.memoizedState,P!==null&&(j=P.dehydrated,j!==null)){if(g)e.flags&256?(Ks(e),e.flags&=-257,e=ju(t,e,i)):e.memoizedState!==null?(Js(),e.child=t.child,e.flags|=128,e=null):(Js(),d=a.fallback,j=e.mode,a=il({mode:"visible",children:a.children},j),d=ki(d,j,i,null),d.flags|=2,a.return=e,d.return=e,a.sibling=d,e.child=a,xr(e,t.child,null,i),a=e.child,a.memoizedState=Mu(i),a.childLanes=Du(t,N,i),e.memoizedState=Ou,e=d);else if(Ks(e),mh(j)){if(N=j.nextSibling&&j.nextSibling.dataset,N)var at=N.dgst;N=at,a=Error(r(419)),a.stack="",a.digest=N,da({value:a,source:null,stack:null}),e=ju(t,e,i)}else if(We||pa(t,e,i,!1),N=(i&t.childLanes)!==0,We||N){if(N=ge,N!==null&&(a=i&-i,a=(a&42)!==0?1:Ae(a),a=(a&(N.suspendedLanes|i))!==0?0:a,a!==0&&a!==P.retryLane))throw P.retryLane=a,ur(t,a),jn(N,t,a),rm;j.data==="$?"||Ju(),e=ju(t,e,i)}else j.data==="$?"?(e.flags|=192,e.child=t.child,e=null):(t=P.treeContext,Oe=ss(j.nextSibling),fn=e,ne=!0,Oi=null,fs=!1,t!==null&&(Yn[Xn++]=As,Yn[Xn++]=Ns,Yn[Xn++]=Ci,As=t.id,Ns=t.overflow,Ci=e),e=Ru(e,a.children),e.flags|=4096);return e}return d?(Js(),d=a.fallback,j=e.mode,P=t.child,at=P.sibling,a=Ts(P,{mode:"hidden",children:a.children}),a.subtreeFlags=P.subtreeFlags&65011712,at!==null?d=Ts(at,d):(d=ki(d,j,i,null),d.flags|=2),d.return=e,a.return=e,a.sibling=d,e.child=a,a=d,d=e.child,j=t.child.memoizedState,j===null?j=Mu(i):(P=j.cachePool,P!==null?(at=Ge._currentValue,P=P.parent!==at?{parent:at,pool:at}:P):P=tp(),j={baseLanes:j.baseLanes|i,cachePool:P}),d.memoizedState=j,d.childLanes=Du(t,N,i),e.memoizedState=Ou,a):(Ks(e),i=t.child,t=i.sibling,i=Ts(i,{mode:"visible",children:a.children}),i.return=e,i.sibling=null,t!==null&&(N=e.deletions,N===null?(e.deletions=[t],e.flags|=16):N.push(t)),e.child=i,e.memoizedState=null,i)}function Ru(t,e){return e=il({mode:"visible",children:e},t.mode),e.return=t,t.child=e}function il(t,e){return t=En(22,t,null,e),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function ju(t,e,i){return xr(e,t.child,null,i),t=Ru(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function mm(t,e,i){t.lanes|=e;var a=t.alternate;a!==null&&(a.lanes|=e),Jc(t.return,e,i)}function zu(t,e,i,a,d){var g=t.memoizedState;g===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:a,tail:i,tailMode:d}:(g.isBackwards=e,g.rendering=null,g.renderingStartTime=0,g.last=a,g.tail=i,g.tailMode=d)}function gm(t,e,i){var a=e.pendingProps,d=a.revealOrder,g=a.tail;if(en(t,e,a.children,i),a=Pe.current,(a&2)!==0)a=a&1|2,e.flags|=128;else{if(t!==null&&(t.flags&128)!==0)t:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&mm(t,i,e);else if(t.tag===19)mm(t,i,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break t;for(;t.sibling===null;){if(t.return===null||t.return===e)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}a&=1}switch(lt(Pe,a),d){case"forwards":for(i=e.child,d=null;i!==null;)t=i.alternate,t!==null&&tl(t)===null&&(d=i),i=i.sibling;i=d,i===null?(d=e.child,e.child=null):(d=i.sibling,i.sibling=null),zu(e,!1,d,i,g);break;case"backwards":for(i=null,d=e.child,e.child=null;d!==null;){if(t=d.alternate,t!==null&&tl(t)===null){e.child=d;break}t=d.sibling,d.sibling=i,i=d,d=t}zu(e,!0,i,null,g);break;case"together":zu(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Ms(t,e,i){if(t!==null&&(e.dependencies=t.dependencies),si|=e.lanes,(i&e.childLanes)===0)if(t!==null){if(pa(t,e,i,!1),(i&e.childLanes)===0)return null}else return null;if(t!==null&&e.child!==t.child)throw Error(r(153));if(e.child!==null){for(t=e.child,i=Ts(t,t.pendingProps),e.child=i,i.return=e;t.sibling!==null;)t=t.sibling,i=i.sibling=Ts(t,t.pendingProps),i.return=e;i.sibling=null}return e.child}function Uu(t,e){return(t.lanes&e)!==0?!0:(t=t.dependencies,!!(t!==null&&Io(t)))}function Oy(t,e,i){switch(e.tag){case 3:st(e,e.stateNode.containerInfo),Zs(e,Ge,t.memoizedState.cache),fa();break;case 27:case 5:At(e);break;case 4:st(e,e.stateNode.containerInfo);break;case 10:Zs(e,e.type,e.memoizedProps.value);break;case 13:var a=e.memoizedState;if(a!==null)return a.dehydrated!==null?(Ks(e),e.flags|=128,null):(i&e.child.childLanes)!==0?pm(t,e,i):(Ks(e),t=Ms(t,e,i),t!==null?t.sibling:null);Ks(e);break;case 19:var d=(t.flags&128)!==0;if(a=(i&e.childLanes)!==0,a||(pa(t,e,i,!1),a=(i&e.childLanes)!==0),d){if(a)return gm(t,e,i);e.flags|=128}if(d=e.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),lt(Pe,Pe.current),a)break;return null;case 22:case 23:return e.lanes=0,cm(t,e,i);case 24:Zs(e,Ge,t.memoizedState.cache)}return Ms(t,e,i)}function _m(t,e,i){if(t!==null)if(t.memoizedProps!==e.pendingProps)We=!0;else{if(!Uu(t,i)&&(e.flags&128)===0)return We=!1,Oy(t,e,i);We=(t.flags&131072)!==0}else We=!1,ne&&(e.flags&1048576)!==0&&Yd(e,Bo,e.index);switch(e.lanes=0,e.tag){case 16:t:{t=e.pendingProps;var a=e.elementType,d=a._init;if(a=d(a._payload),e.type=a,typeof a=="function")Pc(a)?(t=Ui(a,t),e.tag=1,e=fm(null,e,a,t,i)):(e.tag=0,e=Eu(null,e,a,t,i));else{if(a!=null){if(d=a.$$typeof,d===O){e.tag=11,e=am(null,e,a,t,i);break t}else if(d===z){e.tag=14,e=om(null,e,a,t,i);break t}}throw e=T(a)||a,Error(r(306,e,""))}}return e;case 0:return Eu(t,e,e.type,e.pendingProps,i);case 1:return a=e.type,d=Ui(a,e.pendingProps),fm(t,e,a,d,i);case 3:t:{if(st(e,e.stateNode.containerInfo),t===null)throw Error(r(387));a=e.pendingProps;var g=e.memoizedState;d=g.element,ru(t,e),xa(e,a,null,i);var N=e.memoizedState;if(a=N.cache,Zs(e,Ge,a),a!==g.cache&&$c(e,[Ge],i,!0),ba(),a=N.element,g.isDehydrated)if(g={element:a,isDehydrated:!1,cache:N.cache},e.updateQueue.baseState=g,e.memoizedState=g,e.flags&256){e=dm(t,e,a,i);break t}else if(a!==d){d=Pn(Error(r(424)),e),da(d),e=dm(t,e,a,i);break t}else{switch(t=e.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(Oe=ss(t.firstChild),fn=e,ne=!0,Oi=null,fs=!0,i=Wp(e,null,a,i),e.child=i;i;)i.flags=i.flags&-3|4096,i=i.sibling}else{if(fa(),a===d){e=Ms(t,e,i);break t}en(t,e,a,i)}e=e.child}return e;case 26:return sl(t,e),t===null?(i=xg(e.type,null,e.pendingProps,null))?e.memoizedState=i:ne||(i=e.type,t=e.pendingProps,a=vl(yt.current).createElement(i),a[Bt]=e,a[Zt]=t,sn(a,i,t),Be(a),e.stateNode=a):e.memoizedState=xg(e.type,t.memoizedProps,e.pendingProps,t.memoizedState),null;case 27:return At(e),t===null&&ne&&(a=e.stateNode=vg(e.type,e.pendingProps,yt.current),fn=e,fs=!0,d=Oe,oi(e.type)?(gh=d,Oe=ss(a.firstChild)):Oe=d),en(t,e,e.pendingProps.children,i),sl(t,e),t===null&&(e.flags|=4194304),e.child;case 5:return t===null&&ne&&((d=a=Oe)&&(a=i1(a,e.type,e.pendingProps,fs),a!==null?(e.stateNode=a,fn=e,Oe=ss(a.firstChild),fs=!1,d=!0):d=!1),d||Mi(e)),At(e),d=e.type,g=e.pendingProps,N=t!==null?t.memoizedProps:null,a=g.children,fh(d,g)?a=null:N!==null&&fh(d,N)&&(e.flags|=32),e.memoizedState!==null&&(d=hu(t,e,Sy,null,null,i),Ha._currentValue=d),sl(t,e),en(t,e,a,i),e.child;case 6:return t===null&&ne&&((t=i=Oe)&&(i=r1(i,e.pendingProps,fs),i!==null?(e.stateNode=i,fn=e,Oe=null,t=!0):t=!1),t||Mi(e)),null;case 13:return pm(t,e,i);case 4:return st(e,e.stateNode.containerInfo),a=e.pendingProps,t===null?e.child=xr(e,null,a,i):en(t,e,a,i),e.child;case 11:return am(t,e,e.type,e.pendingProps,i);case 7:return en(t,e,e.pendingProps,i),e.child;case 8:return en(t,e,e.pendingProps.children,i),e.child;case 12:return en(t,e,e.pendingProps.children,i),e.child;case 10:return a=e.pendingProps,Zs(e,e.type,a.value),en(t,e,a.children,i),e.child;case 9:return d=e.type._context,a=e.pendingProps.children,Ri(e),d=an(d),a=a(d),e.flags|=1,en(t,e,a,i),e.child;case 14:return om(t,e,e.type,e.pendingProps,i);case 15:return lm(t,e,e.type,e.pendingProps,i);case 19:return gm(t,e,i);case 31:return a=e.pendingProps,i=e.mode,a={mode:a.mode,children:a.children},t===null?(i=il(a,i),i.ref=e.ref,e.child=i,i.return=e,e=i):(i=Ts(t.child,a),i.ref=e.ref,e.child=i,i.return=e,e=i),e;case 22:return cm(t,e,i);case 24:return Ri(e),a=an(Ge),t===null?(d=nu(),d===null&&(d=ge,g=tu(),d.pooledCache=g,g.refCount++,g!==null&&(d.pooledCacheLanes|=i),d=g),e.memoizedState={parent:a,cache:d},iu(e),Zs(e,Ge,d)):((t.lanes&i)!==0&&(ru(t,e),xa(e,null,null,i),ba()),d=t.memoizedState,g=e.memoizedState,d.parent!==a?(d={parent:a,cache:a},e.memoizedState=d,e.lanes===0&&(e.memoizedState=e.updateQueue.baseState=d),Zs(e,Ge,a)):(a=g.cache,Zs(e,Ge,a),a!==d.cache&&$c(e,[Ge],i,!0))),en(t,e,e.pendingProps.children,i),e.child;case 29:throw e.pendingProps}throw Error(r(156,e.tag))}function Ds(t){t.flags|=4}function vm(t,e){if(e.type!=="stylesheet"||(e.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Ng(e)){if(e=Wn.current,e!==null&&((te&4194048)===te?ds!==null:(te&62914560)!==te&&(te&536870912)===0||e!==ds))throw va=su,ep;t.flags|=8192}}function rl(t,e){e!==null&&(t.flags|=4),t.flags&16384&&(e=t.tag!==22?Ft():536870912,t.lanes|=e,Ar|=e)}function Ca(t,e){if(!ne)switch(t.tailMode){case"hidden":e=t.tail;for(var i=null;e!==null;)e.alternate!==null&&(i=e),e=e.sibling;i===null?t.tail=null:i.sibling=null;break;case"collapsed":i=t.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:a.sibling=null}}function Ne(t){var e=t.alternate!==null&&t.alternate.child===t.child,i=0,a=0;if(e)for(var d=t.child;d!==null;)i|=d.lanes|d.childLanes,a|=d.subtreeFlags&65011712,a|=d.flags&65011712,d.return=t,d=d.sibling;else for(d=t.child;d!==null;)i|=d.lanes|d.childLanes,a|=d.subtreeFlags,a|=d.flags,d.return=t,d=d.sibling;return t.subtreeFlags|=a,t.childLanes=i,e}function My(t,e,i){var a=e.pendingProps;switch(Wc(e),e.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ne(e),null;case 1:return Ne(e),null;case 3:return i=e.stateNode,a=null,t!==null&&(a=t.memoizedState.cache),e.memoizedState.cache!==a&&(e.flags|=2048),Cs(Ge),bt(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(t===null||t.child===null)&&(ha(e)?Ds(e):t===null||t.memoizedState.isDehydrated&&(e.flags&256)===0||(e.flags|=1024,Qd())),Ne(e),null;case 26:return i=e.memoizedState,t===null?(Ds(e),i!==null?(Ne(e),vm(e,i)):(Ne(e),e.flags&=-16777217)):i?i!==t.memoizedState?(Ds(e),Ne(e),vm(e,i)):(Ne(e),e.flags&=-16777217):(t.memoizedProps!==a&&Ds(e),Ne(e),e.flags&=-16777217),null;case 27:kt(e),i=yt.current;var d=e.type;if(t!==null&&e.stateNode!=null)t.memoizedProps!==a&&Ds(e);else{if(!a){if(e.stateNode===null)throw Error(r(166));return Ne(e),null}t=ot.current,ha(e)?Xd(e):(t=vg(d,a,i),e.stateNode=t,Ds(e))}return Ne(e),null;case 5:if(kt(e),i=e.type,t!==null&&e.stateNode!=null)t.memoizedProps!==a&&Ds(e);else{if(!a){if(e.stateNode===null)throw Error(r(166));return Ne(e),null}if(t=ot.current,ha(e))Xd(e);else{switch(d=vl(yt.current),t){case 1:t=d.createElementNS("http://www.w3.org/2000/svg",i);break;case 2:t=d.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;default:switch(i){case"svg":t=d.createElementNS("http://www.w3.org/2000/svg",i);break;case"math":t=d.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;case"script":t=d.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof a.is=="string"?d.createElement("select",{is:a.is}):d.createElement("select"),a.multiple?t.multiple=!0:a.size&&(t.size=a.size);break;default:t=typeof a.is=="string"?d.createElement(i,{is:a.is}):d.createElement(i)}}t[Bt]=e,t[Zt]=a;t:for(d=e.child;d!==null;){if(d.tag===5||d.tag===6)t.appendChild(d.stateNode);else if(d.tag!==4&&d.tag!==27&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===e)break t;for(;d.sibling===null;){if(d.return===null||d.return===e)break t;d=d.return}d.sibling.return=d.return,d=d.sibling}e.stateNode=t;t:switch(sn(t,i,a),i){case"button":case"input":case"select":case"textarea":t=!!a.autoFocus;break t;case"img":t=!0;break t;default:t=!1}t&&Ds(e)}}return Ne(e),e.flags&=-16777217,null;case 6:if(t&&e.stateNode!=null)t.memoizedProps!==a&&Ds(e);else{if(typeof a!="string"&&e.stateNode===null)throw Error(r(166));if(t=yt.current,ha(e)){if(t=e.stateNode,i=e.memoizedProps,a=null,d=fn,d!==null)switch(d.tag){case 27:case 5:a=d.memoizedProps}t[Bt]=e,t=!!(t.nodeValue===i||a!==null&&a.suppressHydrationWarning===!0||hg(t.nodeValue,i)),t||Mi(e)}else t=vl(t).createTextNode(a),t[Bt]=e,e.stateNode=t}return Ne(e),null;case 13:if(a=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(d=ha(e),a!==null&&a.dehydrated!==null){if(t===null){if(!d)throw Error(r(318));if(d=e.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(r(317));d[Bt]=e}else fa(),(e.flags&128)===0&&(e.memoizedState=null),e.flags|=4;Ne(e),d=!1}else d=Qd(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=d),d=!0;if(!d)return e.flags&256?(Os(e),e):(Os(e),null)}if(Os(e),(e.flags&128)!==0)return e.lanes=i,e;if(i=a!==null,t=t!==null&&t.memoizedState!==null,i){a=e.child,d=null,a.alternate!==null&&a.alternate.memoizedState!==null&&a.alternate.memoizedState.cachePool!==null&&(d=a.alternate.memoizedState.cachePool.pool);var g=null;a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(g=a.memoizedState.cachePool.pool),g!==d&&(a.flags|=2048)}return i!==t&&i&&(e.child.flags|=8192),rl(e,e.updateQueue),Ne(e),null;case 4:return bt(),t===null&&oh(e.stateNode.containerInfo),Ne(e),null;case 10:return Cs(e.type),Ne(e),null;case 19:if(F(Pe),d=e.memoizedState,d===null)return Ne(e),null;if(a=(e.flags&128)!==0,g=d.rendering,g===null)if(a)Ca(d,!1);else{if(Me!==0||t!==null&&(t.flags&128)!==0)for(t=e.child;t!==null;){if(g=tl(t),g!==null){for(e.flags|=128,Ca(d,!1),t=g.updateQueue,e.updateQueue=t,rl(e,t),e.subtreeFlags=0,t=i,i=e.child;i!==null;)Zd(i,t),i=i.sibling;return lt(Pe,Pe.current&1|2),e.child}t=t.sibling}d.tail!==null&&L()>ll&&(e.flags|=128,a=!0,Ca(d,!1),e.lanes=4194304)}else{if(!a)if(t=tl(g),t!==null){if(e.flags|=128,a=!0,t=t.updateQueue,e.updateQueue=t,rl(e,t),Ca(d,!0),d.tail===null&&d.tailMode==="hidden"&&!g.alternate&&!ne)return Ne(e),null}else 2*L()-d.renderingStartTime>ll&&i!==536870912&&(e.flags|=128,a=!0,Ca(d,!1),e.lanes=4194304);d.isBackwards?(g.sibling=e.child,e.child=g):(t=d.last,t!==null?t.sibling=g:e.child=g,d.last=g)}return d.tail!==null?(e=d.tail,d.rendering=e,d.tail=e.sibling,d.renderingStartTime=L(),e.sibling=null,t=Pe.current,lt(Pe,a?t&1|2:t&1),e):(Ne(e),null);case 22:case 23:return Os(e),cu(),a=e.memoizedState!==null,t!==null?t.memoizedState!==null!==a&&(e.flags|=8192):a&&(e.flags|=8192),a?(i&536870912)!==0&&(e.flags&128)===0&&(Ne(e),e.subtreeFlags&6&&(e.flags|=8192)):Ne(e),i=e.updateQueue,i!==null&&rl(e,i.retryQueue),i=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(i=t.memoizedState.cachePool.pool),a=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),a!==i&&(e.flags|=2048),t!==null&&F(ji),null;case 24:return i=null,t!==null&&(i=t.memoizedState.cache),e.memoizedState.cache!==i&&(e.flags|=2048),Cs(Ge),Ne(e),null;case 25:return null;case 30:return null}throw Error(r(156,e.tag))}function Dy(t,e){switch(Wc(e),e.tag){case 1:return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Cs(Ge),bt(),t=e.flags,(t&65536)!==0&&(t&128)===0?(e.flags=t&-65537|128,e):null;case 26:case 27:case 5:return kt(e),null;case 13:if(Os(e),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(r(340));fa()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return F(Pe),null;case 4:return bt(),null;case 10:return Cs(e.type),null;case 22:case 23:return Os(e),cu(),t!==null&&F(ji),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 24:return Cs(Ge),null;case 25:return null;default:return null}}function ym(t,e){switch(Wc(e),e.tag){case 3:Cs(Ge),bt();break;case 26:case 27:case 5:kt(e);break;case 4:bt();break;case 13:Os(e);break;case 19:F(Pe);break;case 10:Cs(e.type);break;case 22:case 23:Os(e),cu(),t!==null&&F(ji);break;case 24:Cs(Ge)}}function Ea(t,e){try{var i=e.updateQueue,a=i!==null?i.lastEffect:null;if(a!==null){var d=a.next;i=d;do{if((i.tag&t)===t){a=void 0;var g=i.create,N=i.inst;a=g(),N.destroy=a}i=i.next}while(i!==d)}}catch(j){pe(e,e.return,j)}}function $s(t,e,i){try{var a=e.updateQueue,d=a!==null?a.lastEffect:null;if(d!==null){var g=d.next;a=g;do{if((a.tag&t)===t){var N=a.inst,j=N.destroy;if(j!==void 0){N.destroy=void 0,d=e;var P=i,at=j;try{at()}catch(pt){pe(d,P,pt)}}}a=a.next}while(a!==g)}}catch(pt){pe(e,e.return,pt)}}function bm(t){var e=t.updateQueue;if(e!==null){var i=t.stateNode;try{op(e,i)}catch(a){pe(t,t.return,a)}}}function xm(t,e,i){i.props=Ui(t.type,t.memoizedProps),i.state=t.memoizedState;try{i.componentWillUnmount()}catch(a){pe(t,e,a)}}function Oa(t,e){try{var i=t.ref;if(i!==null){switch(t.tag){case 26:case 27:case 5:var a=t.stateNode;break;case 30:a=t.stateNode;break;default:a=t.stateNode}typeof i=="function"?t.refCleanup=i(a):i.current=a}}catch(d){pe(t,e,d)}}function ps(t,e){var i=t.ref,a=t.refCleanup;if(i!==null)if(typeof a=="function")try{a()}catch(d){pe(t,e,d)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof i=="function")try{i(null)}catch(d){pe(t,e,d)}else i.current=null}function Sm(t){var e=t.type,i=t.memoizedProps,a=t.stateNode;try{t:switch(e){case"button":case"input":case"select":case"textarea":i.autoFocus&&a.focus();break t;case"img":i.src?a.src=i.src:i.srcSet&&(a.srcset=i.srcSet)}}catch(d){pe(t,t.return,d)}}function Bu(t,e,i){try{var a=t.stateNode;$y(a,t.type,i,e),a[Zt]=e}catch(d){pe(t,t.return,d)}}function wm(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&oi(t.type)||t.tag===4}function Iu(t){t:for(;;){for(;t.sibling===null;){if(t.return===null||wm(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&oi(t.type)||t.flags&2||t.child===null||t.tag===4)continue t;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function qu(t,e,i){var a=t.tag;if(a===5||a===6)t=t.stateNode,e?(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i).insertBefore(t,e):(e=i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,e.appendChild(t),i=i._reactRootContainer,i!=null||e.onclick!==null||(e.onclick=_l));else if(a!==4&&(a===27&&oi(t.type)&&(i=t.stateNode,e=null),t=t.child,t!==null))for(qu(t,e,i),t=t.sibling;t!==null;)qu(t,e,i),t=t.sibling}function al(t,e,i){var a=t.tag;if(a===5||a===6)t=t.stateNode,e?i.insertBefore(t,e):i.appendChild(t);else if(a!==4&&(a===27&&oi(t.type)&&(i=t.stateNode),t=t.child,t!==null))for(al(t,e,i),t=t.sibling;t!==null;)al(t,e,i),t=t.sibling}function Tm(t){var e=t.stateNode,i=t.memoizedProps;try{for(var a=t.type,d=e.attributes;d.length;)e.removeAttributeNode(d[0]);sn(e,a,i),e[Bt]=t,e[Zt]=i}catch(g){pe(t,t.return,g)}}var Rs=!1,ze=!1,Vu=!1,Am=typeof WeakSet=="function"?WeakSet:Set,Qe=null;function Ry(t,e){if(t=t.containerInfo,uh=Tl,t=Ud(t),Ic(t)){if("selectionStart"in t)var i={start:t.selectionStart,end:t.selectionEnd};else t:{i=(i=t.ownerDocument)&&i.defaultView||window;var a=i.getSelection&&i.getSelection();if(a&&a.rangeCount!==0){i=a.anchorNode;var d=a.anchorOffset,g=a.focusNode;a=a.focusOffset;try{i.nodeType,g.nodeType}catch{i=null;break t}var N=0,j=-1,P=-1,at=0,pt=0,gt=t,ct=null;e:for(;;){for(var ht;gt!==i||d!==0&&gt.nodeType!==3||(j=N+d),gt!==g||a!==0&&gt.nodeType!==3||(P=N+a),gt.nodeType===3&&(N+=gt.nodeValue.length),(ht=gt.firstChild)!==null;)ct=gt,gt=ht;for(;;){if(gt===t)break e;if(ct===i&&++at===d&&(j=N),ct===g&&++pt===a&&(P=N),(ht=gt.nextSibling)!==null)break;gt=ct,ct=gt.parentNode}gt=ht}i=j===-1||P===-1?null:{start:j,end:P}}else i=null}i=i||{start:0,end:0}}else i=null;for(hh={focusedElem:t,selectionRange:i},Tl=!1,Qe=e;Qe!==null;)if(e=Qe,t=e.child,(e.subtreeFlags&1024)!==0&&t!==null)t.return=e,Qe=t;else for(;Qe!==null;){switch(e=Qe,g=e.alternate,t=e.flags,e.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&g!==null){t=void 0,i=e,d=g.memoizedProps,g=g.memoizedState,a=i.stateNode;try{var It=Ui(i.type,d,i.elementType===i.type);t=a.getSnapshotBeforeUpdate(It,g),a.__reactInternalSnapshotBeforeUpdate=t}catch(Rt){pe(i,i.return,Rt)}}break;case 3:if((t&1024)!==0){if(t=e.stateNode.containerInfo,i=t.nodeType,i===9)ph(t);else if(i===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":ph(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(r(163))}if(t=e.sibling,t!==null){t.return=e.return,Qe=t;break}Qe=e.return}}function Nm(t,e,i){var a=i.flags;switch(i.tag){case 0:case 11:case 15:ti(t,i),a&4&&Ea(5,i);break;case 1:if(ti(t,i),a&4)if(t=i.stateNode,e===null)try{t.componentDidMount()}catch(N){pe(i,i.return,N)}else{var d=Ui(i.type,e.memoizedProps);e=e.memoizedState;try{t.componentDidUpdate(d,e,t.__reactInternalSnapshotBeforeUpdate)}catch(N){pe(i,i.return,N)}}a&64&&bm(i),a&512&&Oa(i,i.return);break;case 3:if(ti(t,i),a&64&&(t=i.updateQueue,t!==null)){if(e=null,i.child!==null)switch(i.child.tag){case 27:case 5:e=i.child.stateNode;break;case 1:e=i.child.stateNode}try{op(t,e)}catch(N){pe(i,i.return,N)}}break;case 27:e===null&&a&4&&Tm(i);case 26:case 5:ti(t,i),e===null&&a&4&&Sm(i),a&512&&Oa(i,i.return);break;case 12:ti(t,i);break;case 13:ti(t,i),a&4&&Em(t,i),a&64&&(t=i.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(i=Fy.bind(null,i),a1(t,i))));break;case 22:if(a=i.memoizedState!==null||Rs,!a){e=e!==null&&e.memoizedState!==null||ze,d=Rs;var g=ze;Rs=a,(ze=e)&&!g?ei(t,i,(i.subtreeFlags&8772)!==0):ti(t,i),Rs=d,ze=g}break;case 30:break;default:ti(t,i)}}function km(t){var e=t.alternate;e!==null&&(t.alternate=null,km(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&He(e)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var Se=null,xn=!1;function js(t,e,i){for(i=i.child;i!==null;)Cm(t,e,i),i=i.sibling}function Cm(t,e,i){if(qt&&typeof qt.onCommitFiberUnmount=="function")try{qt.onCommitFiberUnmount(wt,i)}catch{}switch(i.tag){case 26:ze||ps(i,e),js(t,e,i),i.memoizedState?i.memoizedState.count--:i.stateNode&&(i=i.stateNode,i.parentNode.removeChild(i));break;case 27:ze||ps(i,e);var a=Se,d=xn;oi(i.type)&&(Se=i.stateNode,xn=!1),js(t,e,i),qa(i.stateNode),Se=a,xn=d;break;case 5:ze||ps(i,e);case 6:if(a=Se,d=xn,Se=null,js(t,e,i),Se=a,xn=d,Se!==null)if(xn)try{(Se.nodeType===9?Se.body:Se.nodeName==="HTML"?Se.ownerDocument.body:Se).removeChild(i.stateNode)}catch(g){pe(i,e,g)}else try{Se.removeChild(i.stateNode)}catch(g){pe(i,e,g)}break;case 18:Se!==null&&(xn?(t=Se,gg(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,i.stateNode),Ya(t)):gg(Se,i.stateNode));break;case 4:a=Se,d=xn,Se=i.stateNode.containerInfo,xn=!0,js(t,e,i),Se=a,xn=d;break;case 0:case 11:case 14:case 15:ze||$s(2,i,e),ze||$s(4,i,e),js(t,e,i);break;case 1:ze||(ps(i,e),a=i.stateNode,typeof a.componentWillUnmount=="function"&&xm(i,e,a)),js(t,e,i);break;case 21:js(t,e,i);break;case 22:ze=(a=ze)||i.memoizedState!==null,js(t,e,i),ze=a;break;default:js(t,e,i)}}function Em(t,e){if(e.memoizedState===null&&(t=e.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Ya(t)}catch(i){pe(e,e.return,i)}}function jy(t){switch(t.tag){case 13:case 19:var e=t.stateNode;return e===null&&(e=t.stateNode=new Am),e;case 22:return t=t.stateNode,e=t._retryCache,e===null&&(e=t._retryCache=new Am),e;default:throw Error(r(435,t.tag))}}function Lu(t,e){var i=jy(t);e.forEach(function(a){var d=Hy.bind(null,t,a);i.has(a)||(i.add(a),a.then(d,d))})}function On(t,e){var i=e.deletions;if(i!==null)for(var a=0;a<i.length;a++){var d=i[a],g=t,N=e,j=N;t:for(;j!==null;){switch(j.tag){case 27:if(oi(j.type)){Se=j.stateNode,xn=!1;break t}break;case 5:Se=j.stateNode,xn=!1;break t;case 3:case 4:Se=j.stateNode.containerInfo,xn=!0;break t}j=j.return}if(Se===null)throw Error(r(160));Cm(g,N,d),Se=null,xn=!1,g=d.alternate,g!==null&&(g.return=null),d.return=null}if(e.subtreeFlags&13878)for(e=e.child;e!==null;)Om(e,t),e=e.sibling}var ns=null;function Om(t,e){var i=t.alternate,a=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:On(e,t),Mn(t),a&4&&($s(3,t,t.return),Ea(3,t),$s(5,t,t.return));break;case 1:On(e,t),Mn(t),a&512&&(ze||i===null||ps(i,i.return)),a&64&&Rs&&(t=t.updateQueue,t!==null&&(a=t.callbacks,a!==null&&(i=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=i===null?a:i.concat(a))));break;case 26:var d=ns;if(On(e,t),Mn(t),a&512&&(ze||i===null||ps(i,i.return)),a&4){var g=i!==null?i.memoizedState:null;if(a=t.memoizedState,i===null)if(a===null)if(t.stateNode===null){t:{a=t.type,i=t.memoizedProps,d=d.ownerDocument||d;e:switch(a){case"title":g=d.getElementsByTagName("title")[0],(!g||g[Ce]||g[Bt]||g.namespaceURI==="http://www.w3.org/2000/svg"||g.hasAttribute("itemprop"))&&(g=d.createElement(a),d.head.insertBefore(g,d.querySelector("head > title"))),sn(g,a,i),g[Bt]=t,Be(g),a=g;break t;case"link":var N=Tg("link","href",d).get(a+(i.href||""));if(N){for(var j=0;j<N.length;j++)if(g=N[j],g.getAttribute("href")===(i.href==null||i.href===""?null:i.href)&&g.getAttribute("rel")===(i.rel==null?null:i.rel)&&g.getAttribute("title")===(i.title==null?null:i.title)&&g.getAttribute("crossorigin")===(i.crossOrigin==null?null:i.crossOrigin)){N.splice(j,1);break e}}g=d.createElement(a),sn(g,a,i),d.head.appendChild(g);break;case"meta":if(N=Tg("meta","content",d).get(a+(i.content||""))){for(j=0;j<N.length;j++)if(g=N[j],g.getAttribute("content")===(i.content==null?null:""+i.content)&&g.getAttribute("name")===(i.name==null?null:i.name)&&g.getAttribute("property")===(i.property==null?null:i.property)&&g.getAttribute("http-equiv")===(i.httpEquiv==null?null:i.httpEquiv)&&g.getAttribute("charset")===(i.charSet==null?null:i.charSet)){N.splice(j,1);break e}}g=d.createElement(a),sn(g,a,i),d.head.appendChild(g);break;default:throw Error(r(468,a))}g[Bt]=t,Be(g),a=g}t.stateNode=a}else Ag(d,t.type,t.stateNode);else t.stateNode=wg(d,a,t.memoizedProps);else g!==a?(g===null?i.stateNode!==null&&(i=i.stateNode,i.parentNode.removeChild(i)):g.count--,a===null?Ag(d,t.type,t.stateNode):wg(d,a,t.memoizedProps)):a===null&&t.stateNode!==null&&Bu(t,t.memoizedProps,i.memoizedProps)}break;case 27:On(e,t),Mn(t),a&512&&(ze||i===null||ps(i,i.return)),i!==null&&a&4&&Bu(t,t.memoizedProps,i.memoizedProps);break;case 5:if(On(e,t),Mn(t),a&512&&(ze||i===null||ps(i,i.return)),t.flags&32){d=t.stateNode;try{sr(d,"")}catch(ht){pe(t,t.return,ht)}}a&4&&t.stateNode!=null&&(d=t.memoizedProps,Bu(t,d,i!==null?i.memoizedProps:d)),a&1024&&(Vu=!0);break;case 6:if(On(e,t),Mn(t),a&4){if(t.stateNode===null)throw Error(r(162));a=t.memoizedProps,i=t.stateNode;try{i.nodeValue=a}catch(ht){pe(t,t.return,ht)}}break;case 3:if(xl=null,d=ns,ns=yl(e.containerInfo),On(e,t),ns=d,Mn(t),a&4&&i!==null&&i.memoizedState.isDehydrated)try{Ya(e.containerInfo)}catch(ht){pe(t,t.return,ht)}Vu&&(Vu=!1,Mm(t));break;case 4:a=ns,ns=yl(t.stateNode.containerInfo),On(e,t),Mn(t),ns=a;break;case 12:On(e,t),Mn(t);break;case 13:On(e,t),Mn(t),t.child.flags&8192&&t.memoizedState!==null!=(i!==null&&i.memoizedState!==null)&&(Yu=L()),a&4&&(a=t.updateQueue,a!==null&&(t.updateQueue=null,Lu(t,a)));break;case 22:d=t.memoizedState!==null;var P=i!==null&&i.memoizedState!==null,at=Rs,pt=ze;if(Rs=at||d,ze=pt||P,On(e,t),ze=pt,Rs=at,Mn(t),a&8192)t:for(e=t.stateNode,e._visibility=d?e._visibility&-2:e._visibility|1,d&&(i===null||P||Rs||ze||Bi(t)),i=null,e=t;;){if(e.tag===5||e.tag===26){if(i===null){P=i=e;try{if(g=P.stateNode,d)N=g.style,typeof N.setProperty=="function"?N.setProperty("display","none","important"):N.display="none";else{j=P.stateNode;var gt=P.memoizedProps.style,ct=gt!=null&&gt.hasOwnProperty("display")?gt.display:null;j.style.display=ct==null||typeof ct=="boolean"?"":(""+ct).trim()}}catch(ht){pe(P,P.return,ht)}}}else if(e.tag===6){if(i===null){P=e;try{P.stateNode.nodeValue=d?"":P.memoizedProps}catch(ht){pe(P,P.return,ht)}}}else if((e.tag!==22&&e.tag!==23||e.memoizedState===null||e===t)&&e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break t;for(;e.sibling===null;){if(e.return===null||e.return===t)break t;i===e&&(i=null),e=e.return}i===e&&(i=null),e.sibling.return=e.return,e=e.sibling}a&4&&(a=t.updateQueue,a!==null&&(i=a.retryQueue,i!==null&&(a.retryQueue=null,Lu(t,i))));break;case 19:On(e,t),Mn(t),a&4&&(a=t.updateQueue,a!==null&&(t.updateQueue=null,Lu(t,a)));break;case 30:break;case 21:break;default:On(e,t),Mn(t)}}function Mn(t){var e=t.flags;if(e&2){try{for(var i,a=t.return;a!==null;){if(wm(a)){i=a;break}a=a.return}if(i==null)throw Error(r(160));switch(i.tag){case 27:var d=i.stateNode,g=Iu(t);al(t,g,d);break;case 5:var N=i.stateNode;i.flags&32&&(sr(N,""),i.flags&=-33);var j=Iu(t);al(t,j,N);break;case 3:case 4:var P=i.stateNode.containerInfo,at=Iu(t);qu(t,at,P);break;default:throw Error(r(161))}}catch(pt){pe(t,t.return,pt)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function Mm(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var e=t;Mm(e),e.tag===5&&e.flags&1024&&e.stateNode.reset(),t=t.sibling}}function ti(t,e){if(e.subtreeFlags&8772)for(e=e.child;e!==null;)Nm(t,e.alternate,e),e=e.sibling}function Bi(t){for(t=t.child;t!==null;){var e=t;switch(e.tag){case 0:case 11:case 14:case 15:$s(4,e,e.return),Bi(e);break;case 1:ps(e,e.return);var i=e.stateNode;typeof i.componentWillUnmount=="function"&&xm(e,e.return,i),Bi(e);break;case 27:qa(e.stateNode);case 26:case 5:ps(e,e.return),Bi(e);break;case 22:e.memoizedState===null&&Bi(e);break;case 30:Bi(e);break;default:Bi(e)}t=t.sibling}}function ei(t,e,i){for(i=i&&(e.subtreeFlags&8772)!==0,e=e.child;e!==null;){var a=e.alternate,d=t,g=e,N=g.flags;switch(g.tag){case 0:case 11:case 15:ei(d,g,i),Ea(4,g);break;case 1:if(ei(d,g,i),a=g,d=a.stateNode,typeof d.componentDidMount=="function")try{d.componentDidMount()}catch(at){pe(a,a.return,at)}if(a=g,d=a.updateQueue,d!==null){var j=a.stateNode;try{var P=d.shared.hiddenCallbacks;if(P!==null)for(d.shared.hiddenCallbacks=null,d=0;d<P.length;d++)ap(P[d],j)}catch(at){pe(a,a.return,at)}}i&&N&64&&bm(g),Oa(g,g.return);break;case 27:Tm(g);case 26:case 5:ei(d,g,i),i&&a===null&&N&4&&Sm(g),Oa(g,g.return);break;case 12:ei(d,g,i);break;case 13:ei(d,g,i),i&&N&4&&Em(d,g);break;case 22:g.memoizedState===null&&ei(d,g,i),Oa(g,g.return);break;case 30:break;default:ei(d,g,i)}e=e.sibling}}function Fu(t,e){var i=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(i=t.memoizedState.cachePool.pool),t=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(t=e.memoizedState.cachePool.pool),t!==i&&(t!=null&&t.refCount++,i!=null&&ma(i))}function Hu(t,e){t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&ma(t))}function ms(t,e,i,a){if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Dm(t,e,i,a),e=e.sibling}function Dm(t,e,i,a){var d=e.flags;switch(e.tag){case 0:case 11:case 15:ms(t,e,i,a),d&2048&&Ea(9,e);break;case 1:ms(t,e,i,a);break;case 3:ms(t,e,i,a),d&2048&&(t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&ma(t)));break;case 12:if(d&2048){ms(t,e,i,a),t=e.stateNode;try{var g=e.memoizedProps,N=g.id,j=g.onPostCommit;typeof j=="function"&&j(N,e.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(P){pe(e,e.return,P)}}else ms(t,e,i,a);break;case 13:ms(t,e,i,a);break;case 23:break;case 22:g=e.stateNode,N=e.alternate,e.memoizedState!==null?g._visibility&2?ms(t,e,i,a):Ma(t,e):g._visibility&2?ms(t,e,i,a):(g._visibility|=2,Sr(t,e,i,a,(e.subtreeFlags&10256)!==0)),d&2048&&Fu(N,e);break;case 24:ms(t,e,i,a),d&2048&&Hu(e.alternate,e);break;default:ms(t,e,i,a)}}function Sr(t,e,i,a,d){for(d=d&&(e.subtreeFlags&10256)!==0,e=e.child;e!==null;){var g=t,N=e,j=i,P=a,at=N.flags;switch(N.tag){case 0:case 11:case 15:Sr(g,N,j,P,d),Ea(8,N);break;case 23:break;case 22:var pt=N.stateNode;N.memoizedState!==null?pt._visibility&2?Sr(g,N,j,P,d):Ma(g,N):(pt._visibility|=2,Sr(g,N,j,P,d)),d&&at&2048&&Fu(N.alternate,N);break;case 24:Sr(g,N,j,P,d),d&&at&2048&&Hu(N.alternate,N);break;default:Sr(g,N,j,P,d)}e=e.sibling}}function Ma(t,e){if(e.subtreeFlags&10256)for(e=e.child;e!==null;){var i=t,a=e,d=a.flags;switch(a.tag){case 22:Ma(i,a),d&2048&&Fu(a.alternate,a);break;case 24:Ma(i,a),d&2048&&Hu(a.alternate,a);break;default:Ma(i,a)}e=e.sibling}}var Da=8192;function wr(t){if(t.subtreeFlags&Da)for(t=t.child;t!==null;)Rm(t),t=t.sibling}function Rm(t){switch(t.tag){case 26:wr(t),t.flags&Da&&t.memoizedState!==null&&y1(ns,t.memoizedState,t.memoizedProps);break;case 5:wr(t);break;case 3:case 4:var e=ns;ns=yl(t.stateNode.containerInfo),wr(t),ns=e;break;case 22:t.memoizedState===null&&(e=t.alternate,e!==null&&e.memoizedState!==null?(e=Da,Da=16777216,wr(t),Da=e):wr(t));break;default:wr(t)}}function jm(t){var e=t.alternate;if(e!==null&&(t=e.child,t!==null)){e.child=null;do e=t.sibling,t.sibling=null,t=e;while(t!==null)}}function Ra(t){var e=t.deletions;if((t.flags&16)!==0){if(e!==null)for(var i=0;i<e.length;i++){var a=e[i];Qe=a,Um(a,t)}jm(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)zm(t),t=t.sibling}function zm(t){switch(t.tag){case 0:case 11:case 15:Ra(t),t.flags&2048&&$s(9,t,t.return);break;case 3:Ra(t);break;case 12:Ra(t);break;case 22:var e=t.stateNode;t.memoizedState!==null&&e._visibility&2&&(t.return===null||t.return.tag!==13)?(e._visibility&=-3,ol(t)):Ra(t);break;default:Ra(t)}}function ol(t){var e=t.deletions;if((t.flags&16)!==0){if(e!==null)for(var i=0;i<e.length;i++){var a=e[i];Qe=a,Um(a,t)}jm(t)}for(t=t.child;t!==null;){switch(e=t,e.tag){case 0:case 11:case 15:$s(8,e,e.return),ol(e);break;case 22:i=e.stateNode,i._visibility&2&&(i._visibility&=-3,ol(e));break;default:ol(e)}t=t.sibling}}function Um(t,e){for(;Qe!==null;){var i=Qe;switch(i.tag){case 0:case 11:case 15:$s(8,i,e);break;case 23:case 22:if(i.memoizedState!==null&&i.memoizedState.cachePool!==null){var a=i.memoizedState.cachePool.pool;a!=null&&a.refCount++}break;case 24:ma(i.memoizedState.cache)}if(a=i.child,a!==null)a.return=i,Qe=a;else t:for(i=t;Qe!==null;){a=Qe;var d=a.sibling,g=a.return;if(km(a),a===i){Qe=null;break t}if(d!==null){d.return=g,Qe=d;break t}Qe=g}}}var zy={getCacheForType:function(t){var e=an(Ge),i=e.data.get(t);return i===void 0&&(i=t(),e.data.set(t,i)),i}},Uy=typeof WeakMap=="function"?WeakMap:Map,ae=0,ge=null,Qt=null,te=0,oe=0,Dn=null,ni=!1,Tr=!1,Gu=!1,zs=0,Me=0,si=0,Ii=0,Pu=0,Qn=0,Ar=0,ja=null,Sn=null,Zu=!1,Yu=0,ll=1/0,cl=null,ii=null,nn=0,ri=null,Nr=null,kr=0,Xu=0,Wu=null,Bm=null,za=0,Qu=null;function Rn(){if((ae&2)!==0&&te!==0)return te&-te;if(H.T!==null){var t=pr;return t!==0?t:sh()}return ts()}function Im(){Qn===0&&(Qn=(te&536870912)===0||ne?Ct():536870912);var t=Wn.current;return t!==null&&(t.flags|=32),Qn}function jn(t,e,i){(t===ge&&(oe===2||oe===9)||t.cancelPendingCommit!==null)&&(Cr(t,0),ai(t,te,Qn,!1)),Lt(t,i),((ae&2)===0||t!==ge)&&(t===ge&&((ae&2)===0&&(Ii|=i),Me===4&&ai(t,te,Qn,!1)),gs(t))}function qm(t,e,i){if((ae&6)!==0)throw Error(r(327));var a=!i&&(e&124)===0&&(e&t.expiredLanes)===0||Vn(t,e),d=a?qy(t,e):$u(t,e,!0),g=a;do{if(d===0){Tr&&!a&&ai(t,e,0,!1);break}else{if(i=t.current.alternate,g&&!By(i)){d=$u(t,e,!1),g=!1;continue}if(d===2){if(g=e,t.errorRecoveryDisabledLanes&g)var N=0;else N=t.pendingLanes&-536870913,N=N!==0?N:N&536870912?536870912:0;if(N!==0){e=N;t:{var j=t;d=ja;var P=j.current.memoizedState.isDehydrated;if(P&&(Cr(j,N).flags|=256),N=$u(j,N,!1),N!==2){if(Gu&&!P){j.errorRecoveryDisabledLanes|=g,Ii|=g,d=4;break t}g=Sn,Sn=d,g!==null&&(Sn===null?Sn=g:Sn.push.apply(Sn,g))}d=N}if(g=!1,d!==2)continue}}if(d===1){Cr(t,0),ai(t,e,0,!0);break}t:{switch(a=t,g=d,g){case 0:case 1:throw Error(r(345));case 4:if((e&4194048)!==e)break;case 6:ai(a,e,Qn,!ni);break t;case 2:Sn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((e&62914560)===e&&(d=Yu+300-L(),10<d)){if(ai(a,e,Qn,!ni),tn(a,0,!0)!==0)break t;a.timeoutHandle=pg(Vm.bind(null,a,i,Sn,cl,Zu,e,Qn,Ii,Ar,ni,g,2,-0,0),d);break t}Vm(a,i,Sn,cl,Zu,e,Qn,Ii,Ar,ni,g,0,-0,0)}}break}while(!0);gs(t)}function Vm(t,e,i,a,d,g,N,j,P,at,pt,gt,ct,ht){if(t.timeoutHandle=-1,gt=e.subtreeFlags,(gt&8192||(gt&16785408)===16785408)&&(Fa={stylesheets:null,count:0,unsuspend:v1},Rm(e),gt=b1(),gt!==null)){t.cancelPendingCommit=gt(Ym.bind(null,t,e,g,i,a,d,N,j,P,pt,1,ct,ht)),ai(t,g,N,!at);return}Ym(t,e,g,i,a,d,N,j,P)}function By(t){for(var e=t;;){var i=e.tag;if((i===0||i===11||i===15)&&e.flags&16384&&(i=e.updateQueue,i!==null&&(i=i.stores,i!==null)))for(var a=0;a<i.length;a++){var d=i[a],g=d.getSnapshot;d=d.value;try{if(!Cn(g(),d))return!1}catch{return!1}}if(i=e.child,e.subtreeFlags&16384&&i!==null)i.return=e,e=i;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function ai(t,e,i,a){e&=~Pu,e&=~Ii,t.suspendedLanes|=e,t.pingedLanes&=~e,a&&(t.warmLanes|=e),a=t.expirationTimes;for(var d=e;0<d;){var g=31-ie(d),N=1<<g;a[g]=-1,d&=~N}i!==0&&Te(t,i,e)}function ul(){return(ae&6)===0?(Ua(0),!1):!0}function Ku(){if(Qt!==null){if(oe===0)var t=Qt.return;else t=Qt,ks=Di=null,pu(t),br=null,Na=0,t=Qt;for(;t!==null;)ym(t.alternate,t),t=t.return;Qt=null}}function Cr(t,e){var i=t.timeoutHandle;i!==-1&&(t.timeoutHandle=-1,e1(i)),i=t.cancelPendingCommit,i!==null&&(t.cancelPendingCommit=null,i()),Ku(),ge=t,Qt=i=Ts(t.current,null),te=e,oe=0,Dn=null,ni=!1,Tr=Vn(t,e),Gu=!1,Ar=Qn=Pu=Ii=si=Me=0,Sn=ja=null,Zu=!1,(e&8)!==0&&(e|=e&32);var a=t.entangledLanes;if(a!==0)for(t=t.entanglements,a&=e;0<a;){var d=31-ie(a),g=1<<d;e|=t[d],a&=~g}return zs=e,Do(),i}function Lm(t,e){Yt=null,H.H=Ko,e===_a||e===Lo?(e=ip(),oe=3):e===ep?(e=ip(),oe=4):oe=e===rm?8:e!==null&&typeof e=="object"&&typeof e.then=="function"?6:1,Dn=e,Qt===null&&(Me=1,nl(t,Pn(e,t.current)))}function Fm(){var t=H.H;return H.H=Ko,t===null?Ko:t}function Hm(){var t=H.A;return H.A=zy,t}function Ju(){Me=4,ni||(te&4194048)!==te&&Wn.current!==null||(Tr=!0),(si&134217727)===0&&(Ii&134217727)===0||ge===null||ai(ge,te,Qn,!1)}function $u(t,e,i){var a=ae;ae|=2;var d=Fm(),g=Hm();(ge!==t||te!==e)&&(cl=null,Cr(t,e)),e=!1;var N=Me;t:do try{if(oe!==0&&Qt!==null){var j=Qt,P=Dn;switch(oe){case 8:Ku(),N=6;break t;case 3:case 2:case 9:case 6:Wn.current===null&&(e=!0);var at=oe;if(oe=0,Dn=null,Er(t,j,P,at),i&&Tr){N=0;break t}break;default:at=oe,oe=0,Dn=null,Er(t,j,P,at)}}Iy(),N=Me;break}catch(pt){Lm(t,pt)}while(!0);return e&&t.shellSuspendCounter++,ks=Di=null,ae=a,H.H=d,H.A=g,Qt===null&&(ge=null,te=0,Do()),N}function Iy(){for(;Qt!==null;)Gm(Qt)}function qy(t,e){var i=ae;ae|=2;var a=Fm(),d=Hm();ge!==t||te!==e?(cl=null,ll=L()+500,Cr(t,e)):Tr=Vn(t,e);t:do try{if(oe!==0&&Qt!==null){e=Qt;var g=Dn;e:switch(oe){case 1:oe=0,Dn=null,Er(t,e,g,1);break;case 2:case 9:if(np(g)){oe=0,Dn=null,Pm(e);break}e=function(){oe!==2&&oe!==9||ge!==t||(oe=7),gs(t)},g.then(e,e);break t;case 3:oe=7;break t;case 4:oe=5;break t;case 7:np(g)?(oe=0,Dn=null,Pm(e)):(oe=0,Dn=null,Er(t,e,g,7));break;case 5:var N=null;switch(Qt.tag){case 26:N=Qt.memoizedState;case 5:case 27:var j=Qt;if(!N||Ng(N)){oe=0,Dn=null;var P=j.sibling;if(P!==null)Qt=P;else{var at=j.return;at!==null?(Qt=at,hl(at)):Qt=null}break e}}oe=0,Dn=null,Er(t,e,g,5);break;case 6:oe=0,Dn=null,Er(t,e,g,6);break;case 8:Ku(),Me=6;break t;default:throw Error(r(462))}}Vy();break}catch(pt){Lm(t,pt)}while(!0);return ks=Di=null,H.H=a,H.A=d,ae=i,Qt!==null?0:(ge=null,te=0,Do(),Me)}function Vy(){for(;Qt!==null&&!$();)Gm(Qt)}function Gm(t){var e=_m(t.alternate,t,zs);t.memoizedProps=t.pendingProps,e===null?hl(t):Qt=e}function Pm(t){var e=t,i=e.alternate;switch(e.tag){case 15:case 0:e=hm(i,e,e.pendingProps,e.type,void 0,te);break;case 11:e=hm(i,e,e.pendingProps,e.type.render,e.ref,te);break;case 5:pu(e);default:ym(i,e),e=Qt=Zd(e,zs),e=_m(i,e,zs)}t.memoizedProps=t.pendingProps,e===null?hl(t):Qt=e}function Er(t,e,i,a){ks=Di=null,pu(e),br=null,Na=0;var d=e.return;try{if(Ey(t,d,e,i,te)){Me=1,nl(t,Pn(i,t.current)),Qt=null;return}}catch(g){if(d!==null)throw Qt=d,g;Me=1,nl(t,Pn(i,t.current)),Qt=null;return}e.flags&32768?(ne||a===1?t=!0:Tr||(te&536870912)!==0?t=!1:(ni=t=!0,(a===2||a===9||a===3||a===6)&&(a=Wn.current,a!==null&&a.tag===13&&(a.flags|=16384))),Zm(e,t)):hl(e)}function hl(t){var e=t;do{if((e.flags&32768)!==0){Zm(e,ni);return}t=e.return;var i=My(e.alternate,e,zs);if(i!==null){Qt=i;return}if(e=e.sibling,e!==null){Qt=e;return}Qt=e=t}while(e!==null);Me===0&&(Me=5)}function Zm(t,e){do{var i=Dy(t.alternate,t);if(i!==null){i.flags&=32767,Qt=i;return}if(i=t.return,i!==null&&(i.flags|=32768,i.subtreeFlags=0,i.deletions=null),!e&&(t=t.sibling,t!==null)){Qt=t;return}Qt=t=i}while(t!==null);Me=6,Qt=null}function Ym(t,e,i,a,d,g,N,j,P){t.cancelPendingCommit=null;do fl();while(nn!==0);if((ae&6)!==0)throw Error(r(327));if(e!==null){if(e===t.current)throw Error(r(177));if(g=e.lanes|e.childLanes,g|=Hc,le(t,i,g,N,j,P),t===ge&&(Qt=ge=null,te=0),Nr=e,ri=t,kr=i,Xu=g,Wu=d,Bm=a,(e.subtreeFlags&10256)!==0||(e.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,Gy(dt,function(){return Jm(),null})):(t.callbackNode=null,t.callbackPriority=0),a=(e.flags&13878)!==0,(e.subtreeFlags&13878)!==0||a){a=H.T,H.T=null,d=G.p,G.p=2,N=ae,ae|=4;try{Ry(t,e,i)}finally{ae=N,G.p=d,H.T=a}}nn=1,Xm(),Wm(),Qm()}}function Xm(){if(nn===1){nn=0;var t=ri,e=Nr,i=(e.flags&13878)!==0;if((e.subtreeFlags&13878)!==0||i){i=H.T,H.T=null;var a=G.p;G.p=2;var d=ae;ae|=4;try{Om(e,t);var g=hh,N=Ud(t.containerInfo),j=g.focusedElem,P=g.selectionRange;if(N!==j&&j&&j.ownerDocument&&zd(j.ownerDocument.documentElement,j)){if(P!==null&&Ic(j)){var at=P.start,pt=P.end;if(pt===void 0&&(pt=at),"selectionStart"in j)j.selectionStart=at,j.selectionEnd=Math.min(pt,j.value.length);else{var gt=j.ownerDocument||document,ct=gt&&gt.defaultView||window;if(ct.getSelection){var ht=ct.getSelection(),It=j.textContent.length,Rt=Math.min(P.start,It),he=P.end===void 0?Rt:Math.min(P.end,It);!ht.extend&&Rt>he&&(N=he,he=Rt,Rt=N);var et=jd(j,Rt),Q=jd(j,he);if(et&&Q&&(ht.rangeCount!==1||ht.anchorNode!==et.node||ht.anchorOffset!==et.offset||ht.focusNode!==Q.node||ht.focusOffset!==Q.offset)){var rt=gt.createRange();rt.setStart(et.node,et.offset),ht.removeAllRanges(),Rt>he?(ht.addRange(rt),ht.extend(Q.node,Q.offset)):(rt.setEnd(Q.node,Q.offset),ht.addRange(rt))}}}}for(gt=[],ht=j;ht=ht.parentNode;)ht.nodeType===1&&gt.push({element:ht,left:ht.scrollLeft,top:ht.scrollTop});for(typeof j.focus=="function"&&j.focus(),j=0;j<gt.length;j++){var mt=gt[j];mt.element.scrollLeft=mt.left,mt.element.scrollTop=mt.top}}Tl=!!uh,hh=uh=null}finally{ae=d,G.p=a,H.T=i}}t.current=e,nn=2}}function Wm(){if(nn===2){nn=0;var t=ri,e=Nr,i=(e.flags&8772)!==0;if((e.subtreeFlags&8772)!==0||i){i=H.T,H.T=null;var a=G.p;G.p=2;var d=ae;ae|=4;try{Nm(t,e.alternate,e)}finally{ae=d,G.p=a,H.T=i}}nn=3}}function Qm(){if(nn===4||nn===3){nn=0,J();var t=ri,e=Nr,i=kr,a=Bm;(e.subtreeFlags&10256)!==0||(e.flags&10256)!==0?nn=5:(nn=0,Nr=ri=null,Km(t,t.pendingLanes));var d=t.pendingLanes;if(d===0&&(ii=null),xe(i),e=e.stateNode,qt&&typeof qt.onCommitFiberRoot=="function")try{qt.onCommitFiberRoot(wt,e,void 0,(e.current.flags&128)===128)}catch{}if(a!==null){e=H.T,d=G.p,G.p=2,H.T=null;try{for(var g=t.onRecoverableError,N=0;N<a.length;N++){var j=a[N];g(j.value,{componentStack:j.stack})}}finally{H.T=e,G.p=d}}(kr&3)!==0&&fl(),gs(t),d=t.pendingLanes,(i&4194090)!==0&&(d&42)!==0?t===Qu?za++:(za=0,Qu=t):za=0,Ua(0)}}function Km(t,e){(t.pooledCacheLanes&=e)===0&&(e=t.pooledCache,e!=null&&(t.pooledCache=null,ma(e)))}function fl(t){return Xm(),Wm(),Qm(),Jm()}function Jm(){if(nn!==5)return!1;var t=ri,e=Xu;Xu=0;var i=xe(kr),a=H.T,d=G.p;try{G.p=32>i?32:i,H.T=null,i=Wu,Wu=null;var g=ri,N=kr;if(nn=0,Nr=ri=null,kr=0,(ae&6)!==0)throw Error(r(331));var j=ae;if(ae|=4,zm(g.current),Dm(g,g.current,N,i),ae=j,Ua(0,!1),qt&&typeof qt.onPostCommitFiberRoot=="function")try{qt.onPostCommitFiberRoot(wt,g)}catch{}return!0}finally{G.p=d,H.T=a,Km(t,e)}}function $m(t,e,i){e=Pn(i,e),e=Cu(t.stateNode,e,2),t=Ws(t,e,2),t!==null&&(Lt(t,2),gs(t))}function pe(t,e,i){if(t.tag===3)$m(t,t,i);else for(;e!==null;){if(e.tag===3){$m(e,t,i);break}else if(e.tag===1){var a=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof a.componentDidCatch=="function"&&(ii===null||!ii.has(a))){t=Pn(i,t),i=sm(2),a=Ws(e,i,2),a!==null&&(im(i,a,e,t),Lt(a,2),gs(a));break}}e=e.return}}function th(t,e,i){var a=t.pingCache;if(a===null){a=t.pingCache=new Uy;var d=new Set;a.set(e,d)}else d=a.get(e),d===void 0&&(d=new Set,a.set(e,d));d.has(i)||(Gu=!0,d.add(i),t=Ly.bind(null,t,e,i),e.then(t,t))}function Ly(t,e,i){var a=t.pingCache;a!==null&&a.delete(e),t.pingedLanes|=t.suspendedLanes&i,t.warmLanes&=~i,ge===t&&(te&i)===i&&(Me===4||Me===3&&(te&62914560)===te&&300>L()-Yu?(ae&2)===0&&Cr(t,0):Pu|=i,Ar===te&&(Ar=0)),gs(t)}function tg(t,e){e===0&&(e=Ft()),t=ur(t,e),t!==null&&(Lt(t,e),gs(t))}function Fy(t){var e=t.memoizedState,i=0;e!==null&&(i=e.retryLane),tg(t,i)}function Hy(t,e){var i=0;switch(t.tag){case 13:var a=t.stateNode,d=t.memoizedState;d!==null&&(i=d.retryLane);break;case 19:a=t.stateNode;break;case 22:a=t.stateNode._retryCache;break;default:throw Error(r(314))}a!==null&&a.delete(e),tg(t,i)}function Gy(t,e){return se(t,e)}var dl=null,Or=null,eh=!1,pl=!1,nh=!1,qi=0;function gs(t){t!==Or&&t.next===null&&(Or===null?dl=Or=t:Or=Or.next=t),pl=!0,eh||(eh=!0,Zy())}function Ua(t,e){if(!nh&&pl){nh=!0;do for(var i=!1,a=dl;a!==null;){if(t!==0){var d=a.pendingLanes;if(d===0)var g=0;else{var N=a.suspendedLanes,j=a.pingedLanes;g=(1<<31-ie(42|t)+1)-1,g&=d&~(N&~j),g=g&201326741?g&201326741|1:g?g|2:0}g!==0&&(i=!0,ig(a,g))}else g=te,g=tn(a,a===ge?g:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),(g&3)===0||Vn(a,g)||(i=!0,ig(a,g));a=a.next}while(i);nh=!1}}function Py(){eg()}function eg(){pl=eh=!1;var t=0;qi!==0&&(t1()&&(t=qi),qi=0);for(var e=L(),i=null,a=dl;a!==null;){var d=a.next,g=ng(a,e);g===0?(a.next=null,i===null?dl=d:i.next=d,d===null&&(Or=i)):(i=a,(t!==0||(g&3)!==0)&&(pl=!0)),a=d}Ua(t)}function ng(t,e){for(var i=t.suspendedLanes,a=t.pingedLanes,d=t.expirationTimes,g=t.pendingLanes&-62914561;0<g;){var N=31-ie(g),j=1<<N,P=d[N];P===-1?((j&i)===0||(j&a)!==0)&&(d[N]=Nt(j,e)):P<=e&&(t.expiredLanes|=j),g&=~j}if(e=ge,i=te,i=tn(t,t===e?i:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),a=t.callbackNode,i===0||t===e&&(oe===2||oe===9)||t.cancelPendingCommit!==null)return a!==null&&a!==null&&A(a),t.callbackNode=null,t.callbackPriority=0;if((i&3)===0||Vn(t,i)){if(e=i&-i,e===t.callbackPriority)return e;switch(a!==null&&A(a),xe(i)){case 2:case 8:i=ft;break;case 32:i=dt;break;case 268435456:i=vt;break;default:i=dt}return a=sg.bind(null,t),i=se(i,a),t.callbackPriority=e,t.callbackNode=i,e}return a!==null&&a!==null&&A(a),t.callbackPriority=2,t.callbackNode=null,2}function sg(t,e){if(nn!==0&&nn!==5)return t.callbackNode=null,t.callbackPriority=0,null;var i=t.callbackNode;if(fl()&&t.callbackNode!==i)return null;var a=te;return a=tn(t,t===ge?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),a===0?null:(qm(t,a,e),ng(t,L()),t.callbackNode!=null&&t.callbackNode===i?sg.bind(null,t):null)}function ig(t,e){if(fl())return null;qm(t,e,!0)}function Zy(){n1(function(){(ae&6)!==0?se(X,Py):eg()})}function sh(){return qi===0&&(qi=Ct()),qi}function rg(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Ao(""+t)}function ag(t,e){var i=e.ownerDocument.createElement("input");return i.name=e.name,i.value=e.value,t.id&&i.setAttribute("form",t.id),e.parentNode.insertBefore(i,e),t=new FormData(t),i.parentNode.removeChild(i),t}function Yy(t,e,i,a,d){if(e==="submit"&&i&&i.stateNode===d){var g=rg((d[Zt]||null).action),N=a.submitter;N&&(e=(e=N[Zt]||null)?rg(e.formAction):N.getAttribute("formAction"),e!==null&&(g=e,N=null));var j=new Eo("action","action",null,a,d);t.push({event:j,listeners:[{instance:null,listener:function(){if(a.defaultPrevented){if(qi!==0){var P=N?ag(d,N):new FormData(d);wu(i,{pending:!0,data:P,method:d.method,action:g},null,P)}}else typeof g=="function"&&(j.preventDefault(),P=N?ag(d,N):new FormData(d),wu(i,{pending:!0,data:P,method:d.method,action:g},g,P))},currentTarget:d}]})}}for(var ih=0;ih<Fc.length;ih++){var rh=Fc[ih],Xy=rh.toLowerCase(),Wy=rh[0].toUpperCase()+rh.slice(1);es(Xy,"on"+Wy)}es(qd,"onAnimationEnd"),es(Vd,"onAnimationIteration"),es(Ld,"onAnimationStart"),es("dblclick","onDoubleClick"),es("focusin","onFocus"),es("focusout","onBlur"),es(fy,"onTransitionRun"),es(dy,"onTransitionStart"),es(py,"onTransitionCancel"),es(Fd,"onTransitionEnd"),tr("onMouseEnter",["mouseout","mouseover"]),tr("onMouseLeave",["mouseout","mouseover"]),tr("onPointerEnter",["pointerout","pointerover"]),tr("onPointerLeave",["pointerout","pointerover"]),wi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),wi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),wi("onBeforeInput",["compositionend","keypress","textInput","paste"]),wi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),wi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),wi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ba="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Qy=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ba));function og(t,e){e=(e&4)!==0;for(var i=0;i<t.length;i++){var a=t[i],d=a.event;a=a.listeners;t:{var g=void 0;if(e)for(var N=a.length-1;0<=N;N--){var j=a[N],P=j.instance,at=j.currentTarget;if(j=j.listener,P!==g&&d.isPropagationStopped())break t;g=j,d.currentTarget=at;try{g(d)}catch(pt){el(pt)}d.currentTarget=null,g=P}else for(N=0;N<a.length;N++){if(j=a[N],P=j.instance,at=j.currentTarget,j=j.listener,P!==g&&d.isPropagationStopped())break t;g=j,d.currentTarget=at;try{g(d)}catch(pt){el(pt)}d.currentTarget=null,g=P}}}}function Kt(t,e){var i=e[jt];i===void 0&&(i=e[jt]=new Set);var a=t+"__bubble";i.has(a)||(lg(e,t,2,!1),i.add(a))}function ah(t,e,i){var a=0;e&&(a|=4),lg(i,t,a,e)}var ml="_reactListening"+Math.random().toString(36).slice(2);function oh(t){if(!t[ml]){t[ml]=!0,yo.forEach(function(i){i!=="selectionchange"&&(Qy.has(i)||ah(i,!1,t),ah(i,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[ml]||(e[ml]=!0,ah("selectionchange",!1,e))}}function lg(t,e,i,a){switch(Dg(e)){case 2:var d=w1;break;case 8:d=T1;break;default:d=xh}i=d.bind(null,e,i,t),d=void 0,!Ec||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(d=!0),a?d!==void 0?t.addEventListener(e,i,{capture:!0,passive:d}):t.addEventListener(e,i,!0):d!==void 0?t.addEventListener(e,i,{passive:d}):t.addEventListener(e,i,!1)}function lh(t,e,i,a,d){var g=a;if((e&1)===0&&(e&2)===0&&a!==null)t:for(;;){if(a===null)return;var N=a.tag;if(N===3||N===4){var j=a.stateNode.containerInfo;if(j===d)break;if(N===4)for(N=a.return;N!==null;){var P=N.tag;if((P===3||P===4)&&N.stateNode.containerInfo===d)return;N=N.return}for(;j!==null;){if(N=Nn(j),N===null)return;if(P=N.tag,P===5||P===6||P===26||P===27){a=g=N;continue t}j=j.parentNode}}a=a.return}md(function(){var at=g,pt=kc(i),gt=[];t:{var ct=Hd.get(t);if(ct!==void 0){var ht=Eo,It=t;switch(t){case"keypress":if(ko(i)===0)break t;case"keydown":case"keyup":ht=Gv;break;case"focusin":It="focus",ht=Rc;break;case"focusout":It="blur",ht=Rc;break;case"beforeblur":case"afterblur":ht=Rc;break;case"click":if(i.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ht=vd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ht=Dv;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ht=Yv;break;case qd:case Vd:case Ld:ht=zv;break;case Fd:ht=Wv;break;case"scroll":case"scrollend":ht=Ov;break;case"wheel":ht=Kv;break;case"copy":case"cut":case"paste":ht=Bv;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ht=bd;break;case"toggle":case"beforetoggle":ht=$v}var Rt=(e&4)!==0,he=!Rt&&(t==="scroll"||t==="scrollend"),et=Rt?ct!==null?ct+"Capture":null:ct;Rt=[];for(var Q=at,rt;Q!==null;){var mt=Q;if(rt=mt.stateNode,mt=mt.tag,mt!==5&&mt!==26&&mt!==27||rt===null||et===null||(mt=na(Q,et),mt!=null&&Rt.push(Ia(Q,mt,rt))),he)break;Q=Q.return}0<Rt.length&&(ct=new ht(ct,It,null,i,pt),gt.push({event:ct,listeners:Rt}))}}if((e&7)===0){t:{if(ct=t==="mouseover"||t==="pointerover",ht=t==="mouseout"||t==="pointerout",ct&&i!==Nc&&(It=i.relatedTarget||i.fromElement)&&(Nn(It)||It[Dt]))break t;if((ht||ct)&&(ct=pt.window===pt?pt:(ct=pt.ownerDocument)?ct.defaultView||ct.parentWindow:window,ht?(It=i.relatedTarget||i.toElement,ht=at,It=It?Nn(It):null,It!==null&&(he=l(It),Rt=It.tag,It!==he||Rt!==5&&Rt!==27&&Rt!==6)&&(It=null)):(ht=null,It=at),ht!==It)){if(Rt=vd,mt="onMouseLeave",et="onMouseEnter",Q="mouse",(t==="pointerout"||t==="pointerover")&&(Rt=bd,mt="onPointerLeave",et="onPointerEnter",Q="pointer"),he=ht==null?ct:Ee(ht),rt=It==null?ct:Ee(It),ct=new Rt(mt,Q+"leave",ht,i,pt),ct.target=he,ct.relatedTarget=rt,mt=null,Nn(pt)===at&&(Rt=new Rt(et,Q+"enter",It,i,pt),Rt.target=rt,Rt.relatedTarget=he,mt=Rt),he=mt,ht&&It)e:{for(Rt=ht,et=It,Q=0,rt=Rt;rt;rt=Mr(rt))Q++;for(rt=0,mt=et;mt;mt=Mr(mt))rt++;for(;0<Q-rt;)Rt=Mr(Rt),Q--;for(;0<rt-Q;)et=Mr(et),rt--;for(;Q--;){if(Rt===et||et!==null&&Rt===et.alternate)break e;Rt=Mr(Rt),et=Mr(et)}Rt=null}else Rt=null;ht!==null&&cg(gt,ct,ht,Rt,!1),It!==null&&he!==null&&cg(gt,he,It,Rt,!0)}}t:{if(ct=at?Ee(at):window,ht=ct.nodeName&&ct.nodeName.toLowerCase(),ht==="select"||ht==="input"&&ct.type==="file")var Tt=Cd;else if(Nd(ct))if(Ed)Tt=cy;else{Tt=oy;var Wt=ay}else ht=ct.nodeName,!ht||ht.toLowerCase()!=="input"||ct.type!=="checkbox"&&ct.type!=="radio"?at&&Ac(at.elementType)&&(Tt=Cd):Tt=ly;if(Tt&&(Tt=Tt(t,at))){kd(gt,Tt,i,pt);break t}Wt&&Wt(t,ct,at),t==="focusout"&&at&&ct.type==="number"&&at.memoizedProps.value!=null&&Tc(ct,"number",ct.value)}switch(Wt=at?Ee(at):window,t){case"focusin":(Nd(Wt)||Wt.contentEditable==="true")&&(or=Wt,qc=at,ua=null);break;case"focusout":ua=qc=or=null;break;case"mousedown":Vc=!0;break;case"contextmenu":case"mouseup":case"dragend":Vc=!1,Bd(gt,i,pt);break;case"selectionchange":if(hy)break;case"keydown":case"keyup":Bd(gt,i,pt)}var Et;if(zc)t:{switch(t){case"compositionstart":var zt="onCompositionStart";break t;case"compositionend":zt="onCompositionEnd";break t;case"compositionupdate":zt="onCompositionUpdate";break t}zt=void 0}else ar?Td(t,i)&&(zt="onCompositionEnd"):t==="keydown"&&i.keyCode===229&&(zt="onCompositionStart");zt&&(xd&&i.locale!=="ko"&&(ar||zt!=="onCompositionStart"?zt==="onCompositionEnd"&&ar&&(Et=gd()):(Ps=pt,Oc="value"in Ps?Ps.value:Ps.textContent,ar=!0)),Wt=gl(at,zt),0<Wt.length&&(zt=new yd(zt,t,null,i,pt),gt.push({event:zt,listeners:Wt}),Et?zt.data=Et:(Et=Ad(i),Et!==null&&(zt.data=Et)))),(Et=ey?ny(t,i):sy(t,i))&&(zt=gl(at,"onBeforeInput"),0<zt.length&&(Wt=new yd("onBeforeInput","beforeinput",null,i,pt),gt.push({event:Wt,listeners:zt}),Wt.data=Et)),Yy(gt,t,at,i,pt)}og(gt,e)})}function Ia(t,e,i){return{instance:t,listener:e,currentTarget:i}}function gl(t,e){for(var i=e+"Capture",a=[];t!==null;){var d=t,g=d.stateNode;if(d=d.tag,d!==5&&d!==26&&d!==27||g===null||(d=na(t,i),d!=null&&a.unshift(Ia(t,d,g)),d=na(t,e),d!=null&&a.push(Ia(t,d,g))),t.tag===3)return a;t=t.return}return[]}function Mr(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function cg(t,e,i,a,d){for(var g=e._reactName,N=[];i!==null&&i!==a;){var j=i,P=j.alternate,at=j.stateNode;if(j=j.tag,P!==null&&P===a)break;j!==5&&j!==26&&j!==27||at===null||(P=at,d?(at=na(i,g),at!=null&&N.unshift(Ia(i,at,P))):d||(at=na(i,g),at!=null&&N.push(Ia(i,at,P)))),i=i.return}N.length!==0&&t.push({event:e,listeners:N})}var Ky=/\r\n?/g,Jy=/\u0000|\uFFFD/g;function ug(t){return(typeof t=="string"?t:""+t).replace(Ky,`
`).replace(Jy,"")}function hg(t,e){return e=ug(e),ug(t)===e}function _l(){}function ue(t,e,i,a,d,g){switch(i){case"children":typeof a=="string"?e==="body"||e==="textarea"&&a===""||sr(t,a):(typeof a=="number"||typeof a=="bigint")&&e!=="body"&&sr(t,""+a);break;case"className":So(t,"class",a);break;case"tabIndex":So(t,"tabindex",a);break;case"dir":case"role":case"viewBox":case"width":case"height":So(t,i,a);break;case"style":dd(t,a,g);break;case"data":if(e!=="object"){So(t,"data",a);break}case"src":case"href":if(a===""&&(e!=="a"||i!=="href")){t.removeAttribute(i);break}if(a==null||typeof a=="function"||typeof a=="symbol"||typeof a=="boolean"){t.removeAttribute(i);break}a=Ao(""+a),t.setAttribute(i,a);break;case"action":case"formAction":if(typeof a=="function"){t.setAttribute(i,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof g=="function"&&(i==="formAction"?(e!=="input"&&ue(t,e,"name",d.name,d,null),ue(t,e,"formEncType",d.formEncType,d,null),ue(t,e,"formMethod",d.formMethod,d,null),ue(t,e,"formTarget",d.formTarget,d,null)):(ue(t,e,"encType",d.encType,d,null),ue(t,e,"method",d.method,d,null),ue(t,e,"target",d.target,d,null)));if(a==null||typeof a=="symbol"||typeof a=="boolean"){t.removeAttribute(i);break}a=Ao(""+a),t.setAttribute(i,a);break;case"onClick":a!=null&&(t.onclick=_l);break;case"onScroll":a!=null&&Kt("scroll",t);break;case"onScrollEnd":a!=null&&Kt("scrollend",t);break;case"dangerouslySetInnerHTML":if(a!=null){if(typeof a!="object"||!("__html"in a))throw Error(r(61));if(i=a.__html,i!=null){if(d.children!=null)throw Error(r(60));t.innerHTML=i}}break;case"multiple":t.multiple=a&&typeof a!="function"&&typeof a!="symbol";break;case"muted":t.muted=a&&typeof a!="function"&&typeof a!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(a==null||typeof a=="function"||typeof a=="boolean"||typeof a=="symbol"){t.removeAttribute("xlink:href");break}i=Ao(""+a),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",i);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":a!=null&&typeof a!="function"&&typeof a!="symbol"?t.setAttribute(i,""+a):t.removeAttribute(i);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":a&&typeof a!="function"&&typeof a!="symbol"?t.setAttribute(i,""):t.removeAttribute(i);break;case"capture":case"download":a===!0?t.setAttribute(i,""):a!==!1&&a!=null&&typeof a!="function"&&typeof a!="symbol"?t.setAttribute(i,a):t.removeAttribute(i);break;case"cols":case"rows":case"size":case"span":a!=null&&typeof a!="function"&&typeof a!="symbol"&&!isNaN(a)&&1<=a?t.setAttribute(i,a):t.removeAttribute(i);break;case"rowSpan":case"start":a==null||typeof a=="function"||typeof a=="symbol"||isNaN(a)?t.removeAttribute(i):t.setAttribute(i,a);break;case"popover":Kt("beforetoggle",t),Kt("toggle",t),xo(t,"popover",a);break;case"xlinkActuate":Ss(t,"http://www.w3.org/1999/xlink","xlink:actuate",a);break;case"xlinkArcrole":Ss(t,"http://www.w3.org/1999/xlink","xlink:arcrole",a);break;case"xlinkRole":Ss(t,"http://www.w3.org/1999/xlink","xlink:role",a);break;case"xlinkShow":Ss(t,"http://www.w3.org/1999/xlink","xlink:show",a);break;case"xlinkTitle":Ss(t,"http://www.w3.org/1999/xlink","xlink:title",a);break;case"xlinkType":Ss(t,"http://www.w3.org/1999/xlink","xlink:type",a);break;case"xmlBase":Ss(t,"http://www.w3.org/XML/1998/namespace","xml:base",a);break;case"xmlLang":Ss(t,"http://www.w3.org/XML/1998/namespace","xml:lang",a);break;case"xmlSpace":Ss(t,"http://www.w3.org/XML/1998/namespace","xml:space",a);break;case"is":xo(t,"is",a);break;case"innerText":case"textContent":break;default:(!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(i=Cv.get(i)||i,xo(t,i,a))}}function ch(t,e,i,a,d,g){switch(i){case"style":dd(t,a,g);break;case"dangerouslySetInnerHTML":if(a!=null){if(typeof a!="object"||!("__html"in a))throw Error(r(61));if(i=a.__html,i!=null){if(d.children!=null)throw Error(r(60));t.innerHTML=i}}break;case"children":typeof a=="string"?sr(t,a):(typeof a=="number"||typeof a=="bigint")&&sr(t,""+a);break;case"onScroll":a!=null&&Kt("scroll",t);break;case"onScrollEnd":a!=null&&Kt("scrollend",t);break;case"onClick":a!=null&&(t.onclick=_l);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!bo.hasOwnProperty(i))t:{if(i[0]==="o"&&i[1]==="n"&&(d=i.endsWith("Capture"),e=i.slice(2,d?i.length-7:void 0),g=t[Zt]||null,g=g!=null?g[i]:null,typeof g=="function"&&t.removeEventListener(e,g,d),typeof a=="function")){typeof g!="function"&&g!==null&&(i in t?t[i]=null:t.hasAttribute(i)&&t.removeAttribute(i)),t.addEventListener(e,a,d);break t}i in t?t[i]=a:a===!0?t.setAttribute(i,""):xo(t,i,a)}}}function sn(t,e,i){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Kt("error",t),Kt("load",t);var a=!1,d=!1,g;for(g in i)if(i.hasOwnProperty(g)){var N=i[g];if(N!=null)switch(g){case"src":a=!0;break;case"srcSet":d=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,e));default:ue(t,e,g,N,i,null)}}d&&ue(t,e,"srcSet",i.srcSet,i,null),a&&ue(t,e,"src",i.src,i,null);return;case"input":Kt("invalid",t);var j=g=N=d=null,P=null,at=null;for(a in i)if(i.hasOwnProperty(a)){var pt=i[a];if(pt!=null)switch(a){case"name":d=pt;break;case"type":N=pt;break;case"checked":P=pt;break;case"defaultChecked":at=pt;break;case"value":g=pt;break;case"defaultValue":j=pt;break;case"children":case"dangerouslySetInnerHTML":if(pt!=null)throw Error(r(137,e));break;default:ue(t,e,a,pt,i,null)}}cd(t,g,j,P,at,N,d,!1),wo(t);return;case"select":Kt("invalid",t),a=N=g=null;for(d in i)if(i.hasOwnProperty(d)&&(j=i[d],j!=null))switch(d){case"value":g=j;break;case"defaultValue":N=j;break;case"multiple":a=j;default:ue(t,e,d,j,i,null)}e=g,i=N,t.multiple=!!a,e!=null?nr(t,!!a,e,!1):i!=null&&nr(t,!!a,i,!0);return;case"textarea":Kt("invalid",t),g=d=a=null;for(N in i)if(i.hasOwnProperty(N)&&(j=i[N],j!=null))switch(N){case"value":a=j;break;case"defaultValue":d=j;break;case"children":g=j;break;case"dangerouslySetInnerHTML":if(j!=null)throw Error(r(91));break;default:ue(t,e,N,j,i,null)}hd(t,a,d,g),wo(t);return;case"option":for(P in i)if(i.hasOwnProperty(P)&&(a=i[P],a!=null))switch(P){case"selected":t.selected=a&&typeof a!="function"&&typeof a!="symbol";break;default:ue(t,e,P,a,i,null)}return;case"dialog":Kt("beforetoggle",t),Kt("toggle",t),Kt("cancel",t),Kt("close",t);break;case"iframe":case"object":Kt("load",t);break;case"video":case"audio":for(a=0;a<Ba.length;a++)Kt(Ba[a],t);break;case"image":Kt("error",t),Kt("load",t);break;case"details":Kt("toggle",t);break;case"embed":case"source":case"link":Kt("error",t),Kt("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(at in i)if(i.hasOwnProperty(at)&&(a=i[at],a!=null))switch(at){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,e));default:ue(t,e,at,a,i,null)}return;default:if(Ac(e)){for(pt in i)i.hasOwnProperty(pt)&&(a=i[pt],a!==void 0&&ch(t,e,pt,a,i,void 0));return}}for(j in i)i.hasOwnProperty(j)&&(a=i[j],a!=null&&ue(t,e,j,a,i,null))}function $y(t,e,i,a){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var d=null,g=null,N=null,j=null,P=null,at=null,pt=null;for(ht in i){var gt=i[ht];if(i.hasOwnProperty(ht)&&gt!=null)switch(ht){case"checked":break;case"value":break;case"defaultValue":P=gt;default:a.hasOwnProperty(ht)||ue(t,e,ht,null,a,gt)}}for(var ct in a){var ht=a[ct];if(gt=i[ct],a.hasOwnProperty(ct)&&(ht!=null||gt!=null))switch(ct){case"type":g=ht;break;case"name":d=ht;break;case"checked":at=ht;break;case"defaultChecked":pt=ht;break;case"value":N=ht;break;case"defaultValue":j=ht;break;case"children":case"dangerouslySetInnerHTML":if(ht!=null)throw Error(r(137,e));break;default:ht!==gt&&ue(t,e,ct,ht,a,gt)}}wc(t,N,j,P,at,pt,g,d);return;case"select":ht=N=j=ct=null;for(g in i)if(P=i[g],i.hasOwnProperty(g)&&P!=null)switch(g){case"value":break;case"multiple":ht=P;default:a.hasOwnProperty(g)||ue(t,e,g,null,a,P)}for(d in a)if(g=a[d],P=i[d],a.hasOwnProperty(d)&&(g!=null||P!=null))switch(d){case"value":ct=g;break;case"defaultValue":j=g;break;case"multiple":N=g;default:g!==P&&ue(t,e,d,g,a,P)}e=j,i=N,a=ht,ct!=null?nr(t,!!i,ct,!1):!!a!=!!i&&(e!=null?nr(t,!!i,e,!0):nr(t,!!i,i?[]:"",!1));return;case"textarea":ht=ct=null;for(j in i)if(d=i[j],i.hasOwnProperty(j)&&d!=null&&!a.hasOwnProperty(j))switch(j){case"value":break;case"children":break;default:ue(t,e,j,null,a,d)}for(N in a)if(d=a[N],g=i[N],a.hasOwnProperty(N)&&(d!=null||g!=null))switch(N){case"value":ct=d;break;case"defaultValue":ht=d;break;case"children":break;case"dangerouslySetInnerHTML":if(d!=null)throw Error(r(91));break;default:d!==g&&ue(t,e,N,d,a,g)}ud(t,ct,ht);return;case"option":for(var It in i)if(ct=i[It],i.hasOwnProperty(It)&&ct!=null&&!a.hasOwnProperty(It))switch(It){case"selected":t.selected=!1;break;default:ue(t,e,It,null,a,ct)}for(P in a)if(ct=a[P],ht=i[P],a.hasOwnProperty(P)&&ct!==ht&&(ct!=null||ht!=null))switch(P){case"selected":t.selected=ct&&typeof ct!="function"&&typeof ct!="symbol";break;default:ue(t,e,P,ct,a,ht)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Rt in i)ct=i[Rt],i.hasOwnProperty(Rt)&&ct!=null&&!a.hasOwnProperty(Rt)&&ue(t,e,Rt,null,a,ct);for(at in a)if(ct=a[at],ht=i[at],a.hasOwnProperty(at)&&ct!==ht&&(ct!=null||ht!=null))switch(at){case"children":case"dangerouslySetInnerHTML":if(ct!=null)throw Error(r(137,e));break;default:ue(t,e,at,ct,a,ht)}return;default:if(Ac(e)){for(var he in i)ct=i[he],i.hasOwnProperty(he)&&ct!==void 0&&!a.hasOwnProperty(he)&&ch(t,e,he,void 0,a,ct);for(pt in a)ct=a[pt],ht=i[pt],!a.hasOwnProperty(pt)||ct===ht||ct===void 0&&ht===void 0||ch(t,e,pt,ct,a,ht);return}}for(var et in i)ct=i[et],i.hasOwnProperty(et)&&ct!=null&&!a.hasOwnProperty(et)&&ue(t,e,et,null,a,ct);for(gt in a)ct=a[gt],ht=i[gt],!a.hasOwnProperty(gt)||ct===ht||ct==null&&ht==null||ue(t,e,gt,ct,a,ht)}var uh=null,hh=null;function vl(t){return t.nodeType===9?t:t.ownerDocument}function fg(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function dg(t,e){if(t===0)switch(e){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&e==="foreignObject"?0:t}function fh(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.children=="bigint"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var dh=null;function t1(){var t=window.event;return t&&t.type==="popstate"?t===dh?!1:(dh=t,!0):(dh=null,!1)}var pg=typeof setTimeout=="function"?setTimeout:void 0,e1=typeof clearTimeout=="function"?clearTimeout:void 0,mg=typeof Promise=="function"?Promise:void 0,n1=typeof queueMicrotask=="function"?queueMicrotask:typeof mg<"u"?function(t){return mg.resolve(null).then(t).catch(s1)}:pg;function s1(t){setTimeout(function(){throw t})}function oi(t){return t==="head"}function gg(t,e){var i=e,a=0,d=0;do{var g=i.nextSibling;if(t.removeChild(i),g&&g.nodeType===8)if(i=g.data,i==="/$"){if(0<a&&8>a){i=a;var N=t.ownerDocument;if(i&1&&qa(N.documentElement),i&2&&qa(N.body),i&4)for(i=N.head,qa(i),N=i.firstChild;N;){var j=N.nextSibling,P=N.nodeName;N[Ce]||P==="SCRIPT"||P==="STYLE"||P==="LINK"&&N.rel.toLowerCase()==="stylesheet"||i.removeChild(N),N=j}}if(d===0){t.removeChild(g),Ya(e);return}d--}else i==="$"||i==="$?"||i==="$!"?d++:a=i.charCodeAt(0)-48;else a=0;i=g}while(i);Ya(e)}function ph(t){var e=t.firstChild;for(e&&e.nodeType===10&&(e=e.nextSibling);e;){var i=e;switch(e=e.nextSibling,i.nodeName){case"HTML":case"HEAD":case"BODY":ph(i),He(i);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(i.rel.toLowerCase()==="stylesheet")continue}t.removeChild(i)}}function i1(t,e,i,a){for(;t.nodeType===1;){var d=i;if(t.nodeName.toLowerCase()!==e.toLowerCase()){if(!a&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(a){if(!t[Ce])switch(e){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(g=t.getAttribute("rel"),g==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(g!==d.rel||t.getAttribute("href")!==(d.href==null||d.href===""?null:d.href)||t.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin)||t.getAttribute("title")!==(d.title==null?null:d.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(g=t.getAttribute("src"),(g!==(d.src==null?null:d.src)||t.getAttribute("type")!==(d.type==null?null:d.type)||t.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin))&&g&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(e==="input"&&t.type==="hidden"){var g=d.name==null?null:""+d.name;if(d.type==="hidden"&&t.getAttribute("name")===g)return t}else return t;if(t=ss(t.nextSibling),t===null)break}return null}function r1(t,e,i){if(e==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!i||(t=ss(t.nextSibling),t===null))return null;return t}function mh(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function a1(t,e){var i=t.ownerDocument;if(t.data!=="$?"||i.readyState==="complete")e();else{var a=function(){e(),i.removeEventListener("DOMContentLoaded",a)};i.addEventListener("DOMContentLoaded",a),t._reactRetry=a}}function ss(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?"||e==="F!"||e==="F")break;if(e==="/$")return null}}return t}var gh=null;function _g(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var i=t.data;if(i==="$"||i==="$!"||i==="$?"){if(e===0)return t;e--}else i==="/$"&&e++}t=t.previousSibling}return null}function vg(t,e,i){switch(e=vl(i),t){case"html":if(t=e.documentElement,!t)throw Error(r(452));return t;case"head":if(t=e.head,!t)throw Error(r(453));return t;case"body":if(t=e.body,!t)throw Error(r(454));return t;default:throw Error(r(451))}}function qa(t){for(var e=t.attributes;e.length;)t.removeAttributeNode(e[0]);He(t)}var Kn=new Map,yg=new Set;function yl(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Us=G.d;G.d={f:o1,r:l1,D:c1,C:u1,L:h1,m:f1,X:p1,S:d1,M:m1};function o1(){var t=Us.f(),e=ul();return t||e}function l1(t){var e=Fn(t);e!==null&&e.tag===5&&e.type==="form"?qp(e):Us.r(t)}var Dr=typeof document>"u"?null:document;function bg(t,e,i){var a=Dr;if(a&&typeof e=="string"&&e){var d=Gn(e);d='link[rel="'+t+'"][href="'+d+'"]',typeof i=="string"&&(d+='[crossorigin="'+i+'"]'),yg.has(d)||(yg.add(d),t={rel:t,crossOrigin:i,href:e},a.querySelector(d)===null&&(e=a.createElement("link"),sn(e,"link",t),Be(e),a.head.appendChild(e)))}}function c1(t){Us.D(t),bg("dns-prefetch",t,null)}function u1(t,e){Us.C(t,e),bg("preconnect",t,e)}function h1(t,e,i){Us.L(t,e,i);var a=Dr;if(a&&t&&e){var d='link[rel="preload"][as="'+Gn(e)+'"]';e==="image"&&i&&i.imageSrcSet?(d+='[imagesrcset="'+Gn(i.imageSrcSet)+'"]',typeof i.imageSizes=="string"&&(d+='[imagesizes="'+Gn(i.imageSizes)+'"]')):d+='[href="'+Gn(t)+'"]';var g=d;switch(e){case"style":g=Rr(t);break;case"script":g=jr(t)}Kn.has(g)||(t=m({rel:"preload",href:e==="image"&&i&&i.imageSrcSet?void 0:t,as:e},i),Kn.set(g,t),a.querySelector(d)!==null||e==="style"&&a.querySelector(Va(g))||e==="script"&&a.querySelector(La(g))||(e=a.createElement("link"),sn(e,"link",t),Be(e),a.head.appendChild(e)))}}function f1(t,e){Us.m(t,e);var i=Dr;if(i&&t){var a=e&&typeof e.as=="string"?e.as:"script",d='link[rel="modulepreload"][as="'+Gn(a)+'"][href="'+Gn(t)+'"]',g=d;switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":g=jr(t)}if(!Kn.has(g)&&(t=m({rel:"modulepreload",href:t},e),Kn.set(g,t),i.querySelector(d)===null)){switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(i.querySelector(La(g)))return}a=i.createElement("link"),sn(a,"link",t),Be(a),i.head.appendChild(a)}}}function d1(t,e,i){Us.S(t,e,i);var a=Dr;if(a&&t){var d=kn(a).hoistableStyles,g=Rr(t);e=e||"default";var N=d.get(g);if(!N){var j={loading:0,preload:null};if(N=a.querySelector(Va(g)))j.loading=5;else{t=m({rel:"stylesheet",href:t,"data-precedence":e},i),(i=Kn.get(g))&&_h(t,i);var P=N=a.createElement("link");Be(P),sn(P,"link",t),P._p=new Promise(function(at,pt){P.onload=at,P.onerror=pt}),P.addEventListener("load",function(){j.loading|=1}),P.addEventListener("error",function(){j.loading|=2}),j.loading|=4,bl(N,e,a)}N={type:"stylesheet",instance:N,count:1,state:j},d.set(g,N)}}}function p1(t,e){Us.X(t,e);var i=Dr;if(i&&t){var a=kn(i).hoistableScripts,d=jr(t),g=a.get(d);g||(g=i.querySelector(La(d)),g||(t=m({src:t,async:!0},e),(e=Kn.get(d))&&vh(t,e),g=i.createElement("script"),Be(g),sn(g,"link",t),i.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},a.set(d,g))}}function m1(t,e){Us.M(t,e);var i=Dr;if(i&&t){var a=kn(i).hoistableScripts,d=jr(t),g=a.get(d);g||(g=i.querySelector(La(d)),g||(t=m({src:t,async:!0,type:"module"},e),(e=Kn.get(d))&&vh(t,e),g=i.createElement("script"),Be(g),sn(g,"link",t),i.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},a.set(d,g))}}function xg(t,e,i,a){var d=(d=yt.current)?yl(d):null;if(!d)throw Error(r(446));switch(t){case"meta":case"title":return null;case"style":return typeof i.precedence=="string"&&typeof i.href=="string"?(e=Rr(i.href),i=kn(d).hoistableStyles,a=i.get(e),a||(a={type:"style",instance:null,count:0,state:null},i.set(e,a)),a):{type:"void",instance:null,count:0,state:null};case"link":if(i.rel==="stylesheet"&&typeof i.href=="string"&&typeof i.precedence=="string"){t=Rr(i.href);var g=kn(d).hoistableStyles,N=g.get(t);if(N||(d=d.ownerDocument||d,N={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},g.set(t,N),(g=d.querySelector(Va(t)))&&!g._p&&(N.instance=g,N.state.loading=5),Kn.has(t)||(i={rel:"preload",as:"style",href:i.href,crossOrigin:i.crossOrigin,integrity:i.integrity,media:i.media,hrefLang:i.hrefLang,referrerPolicy:i.referrerPolicy},Kn.set(t,i),g||g1(d,t,i,N.state))),e&&a===null)throw Error(r(528,""));return N}if(e&&a!==null)throw Error(r(529,""));return null;case"script":return e=i.async,i=i.src,typeof i=="string"&&e&&typeof e!="function"&&typeof e!="symbol"?(e=jr(i),i=kn(d).hoistableScripts,a=i.get(e),a||(a={type:"script",instance:null,count:0,state:null},i.set(e,a)),a):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,t))}}function Rr(t){return'href="'+Gn(t)+'"'}function Va(t){return'link[rel="stylesheet"]['+t+"]"}function Sg(t){return m({},t,{"data-precedence":t.precedence,precedence:null})}function g1(t,e,i,a){t.querySelector('link[rel="preload"][as="style"]['+e+"]")?a.loading=1:(e=t.createElement("link"),a.preload=e,e.addEventListener("load",function(){return a.loading|=1}),e.addEventListener("error",function(){return a.loading|=2}),sn(e,"link",i),Be(e),t.head.appendChild(e))}function jr(t){return'[src="'+Gn(t)+'"]'}function La(t){return"script[async]"+t}function wg(t,e,i){if(e.count++,e.instance===null)switch(e.type){case"style":var a=t.querySelector('style[data-href~="'+Gn(i.href)+'"]');if(a)return e.instance=a,Be(a),a;var d=m({},i,{"data-href":i.href,"data-precedence":i.precedence,href:null,precedence:null});return a=(t.ownerDocument||t).createElement("style"),Be(a),sn(a,"style",d),bl(a,i.precedence,t),e.instance=a;case"stylesheet":d=Rr(i.href);var g=t.querySelector(Va(d));if(g)return e.state.loading|=4,e.instance=g,Be(g),g;a=Sg(i),(d=Kn.get(d))&&_h(a,d),g=(t.ownerDocument||t).createElement("link"),Be(g);var N=g;return N._p=new Promise(function(j,P){N.onload=j,N.onerror=P}),sn(g,"link",a),e.state.loading|=4,bl(g,i.precedence,t),e.instance=g;case"script":return g=jr(i.src),(d=t.querySelector(La(g)))?(e.instance=d,Be(d),d):(a=i,(d=Kn.get(g))&&(a=m({},i),vh(a,d)),t=t.ownerDocument||t,d=t.createElement("script"),Be(d),sn(d,"link",a),t.head.appendChild(d),e.instance=d);case"void":return null;default:throw Error(r(443,e.type))}else e.type==="stylesheet"&&(e.state.loading&4)===0&&(a=e.instance,e.state.loading|=4,bl(a,i.precedence,t));return e.instance}function bl(t,e,i){for(var a=i.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),d=a.length?a[a.length-1]:null,g=d,N=0;N<a.length;N++){var j=a[N];if(j.dataset.precedence===e)g=j;else if(g!==d)break}g?g.parentNode.insertBefore(t,g.nextSibling):(e=i.nodeType===9?i.head:i,e.insertBefore(t,e.firstChild))}function _h(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.title==null&&(t.title=e.title)}function vh(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.integrity==null&&(t.integrity=e.integrity)}var xl=null;function Tg(t,e,i){if(xl===null){var a=new Map,d=xl=new Map;d.set(i,a)}else d=xl,a=d.get(i),a||(a=new Map,d.set(i,a));if(a.has(t))return a;for(a.set(t,null),i=i.getElementsByTagName(t),d=0;d<i.length;d++){var g=i[d];if(!(g[Ce]||g[Bt]||t==="link"&&g.getAttribute("rel")==="stylesheet")&&g.namespaceURI!=="http://www.w3.org/2000/svg"){var N=g.getAttribute(e)||"";N=t+N;var j=a.get(N);j?j.push(g):a.set(N,[g])}}return a}function Ag(t,e,i){t=t.ownerDocument||t,t.head.insertBefore(i,e==="title"?t.querySelector("head > title"):null)}function _1(t,e,i){if(i===1||e.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof e.precedence!="string"||typeof e.href!="string"||e.href==="")break;return!0;case"link":if(typeof e.rel!="string"||typeof e.href!="string"||e.href===""||e.onLoad||e.onError)break;switch(e.rel){case"stylesheet":return t=e.disabled,typeof e.precedence=="string"&&t==null;default:return!0}case"script":if(e.async&&typeof e.async!="function"&&typeof e.async!="symbol"&&!e.onLoad&&!e.onError&&e.src&&typeof e.src=="string")return!0}return!1}function Ng(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var Fa=null;function v1(){}function y1(t,e,i){if(Fa===null)throw Error(r(475));var a=Fa;if(e.type==="stylesheet"&&(typeof i.media!="string"||matchMedia(i.media).matches!==!1)&&(e.state.loading&4)===0){if(e.instance===null){var d=Rr(i.href),g=t.querySelector(Va(d));if(g){t=g._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(a.count++,a=Sl.bind(a),t.then(a,a)),e.state.loading|=4,e.instance=g,Be(g);return}g=t.ownerDocument||t,i=Sg(i),(d=Kn.get(d))&&_h(i,d),g=g.createElement("link"),Be(g);var N=g;N._p=new Promise(function(j,P){N.onload=j,N.onerror=P}),sn(g,"link",i),e.instance=g}a.stylesheets===null&&(a.stylesheets=new Map),a.stylesheets.set(e,t),(t=e.state.preload)&&(e.state.loading&3)===0&&(a.count++,e=Sl.bind(a),t.addEventListener("load",e),t.addEventListener("error",e))}}function b1(){if(Fa===null)throw Error(r(475));var t=Fa;return t.stylesheets&&t.count===0&&yh(t,t.stylesheets),0<t.count?function(e){var i=setTimeout(function(){if(t.stylesheets&&yh(t,t.stylesheets),t.unsuspend){var a=t.unsuspend;t.unsuspend=null,a()}},6e4);return t.unsuspend=e,function(){t.unsuspend=null,clearTimeout(i)}}:null}function Sl(){if(this.count--,this.count===0){if(this.stylesheets)yh(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var wl=null;function yh(t,e){t.stylesheets=null,t.unsuspend!==null&&(t.count++,wl=new Map,e.forEach(x1,t),wl=null,Sl.call(t))}function x1(t,e){if(!(e.state.loading&4)){var i=wl.get(t);if(i)var a=i.get(null);else{i=new Map,wl.set(t,i);for(var d=t.querySelectorAll("link[data-precedence],style[data-precedence]"),g=0;g<d.length;g++){var N=d[g];(N.nodeName==="LINK"||N.getAttribute("media")!=="not all")&&(i.set(N.dataset.precedence,N),a=N)}a&&i.set(null,a)}d=e.instance,N=d.getAttribute("data-precedence"),g=i.get(N)||a,g===a&&i.set(null,d),i.set(N,d),this.count++,a=Sl.bind(this),d.addEventListener("load",a),d.addEventListener("error",a),g?g.parentNode.insertBefore(d,g.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(d,t.firstChild)),e.state.loading|=4}}var Ha={$$typeof:M,Provider:null,Consumer:null,_currentValue:ut,_currentValue2:ut,_threadCount:0};function S1(t,e,i,a,d,g,N,j){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ht(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ht(0),this.hiddenUpdates=Ht(null),this.identifierPrefix=a,this.onUncaughtError=d,this.onCaughtError=g,this.onRecoverableError=N,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=j,this.incompleteTransitions=new Map}function kg(t,e,i,a,d,g,N,j,P,at,pt,gt){return t=new S1(t,e,i,N,j,P,at,gt),e=1,g===!0&&(e|=24),g=En(3,null,null,e),t.current=g,g.stateNode=t,e=tu(),e.refCount++,t.pooledCache=e,e.refCount++,g.memoizedState={element:a,isDehydrated:i,cache:e},iu(g),t}function Cg(t){return t?(t=hr,t):hr}function Eg(t,e,i,a,d,g){d=Cg(d),a.context===null?a.context=d:a.pendingContext=d,a=Xs(e),a.payload={element:i},g=g===void 0?null:g,g!==null&&(a.callback=g),i=Ws(t,a,e),i!==null&&(jn(i,t,e),ya(i,t,e))}function Og(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var i=t.retryLane;t.retryLane=i!==0&&i<e?i:e}}function bh(t,e){Og(t,e),(t=t.alternate)&&Og(t,e)}function Mg(t){if(t.tag===13){var e=ur(t,67108864);e!==null&&jn(e,t,67108864),bh(t,67108864)}}var Tl=!0;function w1(t,e,i,a){var d=H.T;H.T=null;var g=G.p;try{G.p=2,xh(t,e,i,a)}finally{G.p=g,H.T=d}}function T1(t,e,i,a){var d=H.T;H.T=null;var g=G.p;try{G.p=8,xh(t,e,i,a)}finally{G.p=g,H.T=d}}function xh(t,e,i,a){if(Tl){var d=Sh(a);if(d===null)lh(t,e,a,Al,i),Rg(t,a);else if(N1(d,t,e,i,a))a.stopPropagation();else if(Rg(t,a),e&4&&-1<A1.indexOf(t)){for(;d!==null;){var g=Fn(d);if(g!==null)switch(g.tag){case 3:if(g=g.stateNode,g.current.memoizedState.isDehydrated){var N=gn(g.pendingLanes);if(N!==0){var j=g;for(j.pendingLanes|=2,j.entangledLanes|=2;N;){var P=1<<31-ie(N);j.entanglements[1]|=P,N&=~P}gs(g),(ae&6)===0&&(ll=L()+500,Ua(0))}}break;case 13:j=ur(g,2),j!==null&&jn(j,g,2),ul(),bh(g,2)}if(g=Sh(a),g===null&&lh(t,e,a,Al,i),g===d)break;d=g}d!==null&&a.stopPropagation()}else lh(t,e,a,null,i)}}function Sh(t){return t=kc(t),wh(t)}var Al=null;function wh(t){if(Al=null,t=Nn(t),t!==null){var e=l(t);if(e===null)t=null;else{var i=e.tag;if(i===13){if(t=h(e),t!==null)return t;t=null}else if(i===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null)}}return Al=t,null}function Dg(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(q()){case X:return 2;case ft:return 8;case dt:case it:return 32;case vt:return 268435456;default:return 32}default:return 32}}var Th=!1,li=null,ci=null,ui=null,Ga=new Map,Pa=new Map,hi=[],A1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Rg(t,e){switch(t){case"focusin":case"focusout":li=null;break;case"dragenter":case"dragleave":ci=null;break;case"mouseover":case"mouseout":ui=null;break;case"pointerover":case"pointerout":Ga.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pa.delete(e.pointerId)}}function Za(t,e,i,a,d,g){return t===null||t.nativeEvent!==g?(t={blockedOn:e,domEventName:i,eventSystemFlags:a,nativeEvent:g,targetContainers:[d]},e!==null&&(e=Fn(e),e!==null&&Mg(e)),t):(t.eventSystemFlags|=a,e=t.targetContainers,d!==null&&e.indexOf(d)===-1&&e.push(d),t)}function N1(t,e,i,a,d){switch(e){case"focusin":return li=Za(li,t,e,i,a,d),!0;case"dragenter":return ci=Za(ci,t,e,i,a,d),!0;case"mouseover":return ui=Za(ui,t,e,i,a,d),!0;case"pointerover":var g=d.pointerId;return Ga.set(g,Za(Ga.get(g)||null,t,e,i,a,d)),!0;case"gotpointercapture":return g=d.pointerId,Pa.set(g,Za(Pa.get(g)||null,t,e,i,a,d)),!0}return!1}function jg(t){var e=Nn(t.target);if(e!==null){var i=l(e);if(i!==null){if(e=i.tag,e===13){if(e=h(i),e!==null){t.blockedOn=e,hn(t.priority,function(){if(i.tag===13){var a=Rn();a=Ae(a);var d=ur(i,a);d!==null&&jn(d,i,a),bh(i,a)}});return}}else if(e===3&&i.stateNode.current.memoizedState.isDehydrated){t.blockedOn=i.tag===3?i.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Nl(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var i=Sh(t.nativeEvent);if(i===null){i=t.nativeEvent;var a=new i.constructor(i.type,i);Nc=a,i.target.dispatchEvent(a),Nc=null}else return e=Fn(i),e!==null&&Mg(e),t.blockedOn=i,!1;e.shift()}return!0}function zg(t,e,i){Nl(t)&&i.delete(e)}function k1(){Th=!1,li!==null&&Nl(li)&&(li=null),ci!==null&&Nl(ci)&&(ci=null),ui!==null&&Nl(ui)&&(ui=null),Ga.forEach(zg),Pa.forEach(zg)}function kl(t,e){t.blockedOn===e&&(t.blockedOn=null,Th||(Th=!0,c.unstable_scheduleCallback(c.unstable_NormalPriority,k1)))}var Cl=null;function Ug(t){Cl!==t&&(Cl=t,c.unstable_scheduleCallback(c.unstable_NormalPriority,function(){Cl===t&&(Cl=null);for(var e=0;e<t.length;e+=3){var i=t[e],a=t[e+1],d=t[e+2];if(typeof a!="function"){if(wh(a||i)===null)continue;break}var g=Fn(i);g!==null&&(t.splice(e,3),e-=3,wu(g,{pending:!0,data:d,method:i.method,action:a},a,d))}}))}function Ya(t){function e(P){return kl(P,t)}li!==null&&kl(li,t),ci!==null&&kl(ci,t),ui!==null&&kl(ui,t),Ga.forEach(e),Pa.forEach(e);for(var i=0;i<hi.length;i++){var a=hi[i];a.blockedOn===t&&(a.blockedOn=null)}for(;0<hi.length&&(i=hi[0],i.blockedOn===null);)jg(i),i.blockedOn===null&&hi.shift();if(i=(t.ownerDocument||t).$$reactFormReplay,i!=null)for(a=0;a<i.length;a+=3){var d=i[a],g=i[a+1],N=d[Zt]||null;if(typeof g=="function")N||Ug(i);else if(N){var j=null;if(g&&g.hasAttribute("formAction")){if(d=g,N=g[Zt]||null)j=N.formAction;else if(wh(d)!==null)continue}else j=N.action;typeof j=="function"?i[a+1]=j:(i.splice(a,3),a-=3),Ug(i)}}}function Ah(t){this._internalRoot=t}El.prototype.render=Ah.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(r(409));var i=e.current,a=Rn();Eg(i,a,t,e,null,null)},El.prototype.unmount=Ah.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Eg(t.current,2,null,t,null,null),ul(),e[Dt]=null}};function El(t){this._internalRoot=t}El.prototype.unstable_scheduleHydration=function(t){if(t){var e=ts();t={blockedOn:null,target:t,priority:e};for(var i=0;i<hi.length&&e!==0&&e<hi[i].priority;i++);hi.splice(i,0,t),i===0&&jg(t)}};var Bg=n.version;if(Bg!=="19.1.1")throw Error(r(527,Bg,"19.1.1"));G.findDOMNode=function(t){var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(r(188)):(t=Object.keys(t).join(","),Error(r(268,t)));return t=f(e),t=t!==null?p(t):null,t=t===null?null:t.stateNode,t};var C1={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:H,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ol=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ol.isDisabled&&Ol.supportsFiber)try{wt=Ol.inject(C1),qt=Ol}catch{}}return Wa.createRoot=function(t,e){if(!o(t))throw Error(r(299));var i=!1,a="",d=$p,g=tm,N=em,j=null;return e!=null&&(e.unstable_strictMode===!0&&(i=!0),e.identifierPrefix!==void 0&&(a=e.identifierPrefix),e.onUncaughtError!==void 0&&(d=e.onUncaughtError),e.onCaughtError!==void 0&&(g=e.onCaughtError),e.onRecoverableError!==void 0&&(N=e.onRecoverableError),e.unstable_transitionCallbacks!==void 0&&(j=e.unstable_transitionCallbacks)),e=kg(t,1,!1,null,null,i,a,d,g,N,j,null),t[Dt]=e.current,oh(t),new Ah(e)},Wa.hydrateRoot=function(t,e,i){if(!o(t))throw Error(r(299));var a=!1,d="",g=$p,N=tm,j=em,P=null,at=null;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(d=i.identifierPrefix),i.onUncaughtError!==void 0&&(g=i.onUncaughtError),i.onCaughtError!==void 0&&(N=i.onCaughtError),i.onRecoverableError!==void 0&&(j=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(P=i.unstable_transitionCallbacks),i.formState!==void 0&&(at=i.formState)),e=kg(t,1,!0,e,i??null,a,d,g,N,j,P,at),e.context=Cg(null),i=e.current,a=Rn(),a=Ae(a),d=Xs(a),d.callback=null,Ws(i,d,a),i=a,e.current.lanes=i,Lt(e,i),gs(e),t[Dt]=e.current,oh(t),new El(e)},Wa.version="19.1.1",Wa}var Yg;function I1(){if(Yg)return Ch.exports;Yg=1;function c(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(c)}catch(n){console.error(n)}}return c(),Ch.exports=B1(),Ch.exports}var q1=I1();const V1=tc(q1),t_="15.1.22",Xg=(c,n,s)=>({endTime:n,insertTime:s,type:"exponentialRampToValue",value:c}),Wg=(c,n,s)=>({endTime:n,insertTime:s,type:"linearRampToValue",value:c}),tf=(c,n)=>({startTime:n,type:"setValue",value:c}),e_=(c,n,s)=>({duration:s,startTime:n,type:"setValueCurve",values:c}),n_=(c,n,{startTime:s,target:r,timeConstant:o})=>r+(n-r)*Math.exp((s-c)/o),Ur=c=>c.type==="exponentialRampToValue",Vl=c=>c.type==="linearRampToValue",pi=c=>Ur(c)||Vl(c),gf=c=>c.type==="setValue",Is=c=>c.type==="setValueCurve",Ll=(c,n,s,r)=>{const o=c[n];return o===void 0?r:pi(o)||gf(o)?o.value:Is(o)?o.values[o.values.length-1]:n_(s,Ll(c,n-1,o.startTime,r),o)},Qg=(c,n,s,r,o)=>s===void 0?[r.insertTime,o]:pi(s)?[s.endTime,s.value]:gf(s)?[s.startTime,s.value]:Is(s)?[s.startTime+s.duration,s.values[s.values.length-1]]:[s.startTime,Ll(c,n-1,s.startTime,o)],ef=c=>c.type==="cancelAndHold",nf=c=>c.type==="cancelScheduledValues",di=c=>ef(c)||nf(c)?c.cancelTime:Ur(c)||Vl(c)?c.endTime:c.startTime,Kg=(c,n,s,{endTime:r,value:o})=>s===o?o:0<s&&0<o||s<0&&o<0?s*(o/s)**((c-n)/(r-n)):0,Jg=(c,n,s,{endTime:r,value:o})=>s+(c-n)/(r-n)*(o-s),L1=(c,n)=>{const s=Math.floor(n),r=Math.ceil(n);return s===r?c[s]:(1-(n-s))*c[s]+(1-(r-n))*c[r]},F1=(c,{duration:n,startTime:s,values:r})=>{const o=(c-s)/n*(r.length-1);return L1(r,o)},Dl=c=>c.type==="setTarget";class H1{constructor(n){this._automationEvents=[],this._currenTime=0,this._defaultValue=n}[Symbol.iterator](){return this._automationEvents[Symbol.iterator]()}add(n){const s=di(n);if(ef(n)||nf(n)){const r=this._automationEvents.findIndex(l=>nf(n)&&Is(l)?l.startTime+l.duration>=s:di(l)>=s),o=this._automationEvents[r];if(r!==-1&&(this._automationEvents=this._automationEvents.slice(0,r)),ef(n)){const l=this._automationEvents[this._automationEvents.length-1];if(o!==void 0&&pi(o)){if(l!==void 0&&Dl(l))throw new Error("The internal list is malformed.");const h=l===void 0?o.insertTime:Is(l)?l.startTime+l.duration:di(l),u=l===void 0?this._defaultValue:Is(l)?l.values[l.values.length-1]:l.value,f=Ur(o)?Kg(s,h,u,o):Jg(s,h,u,o),p=Ur(o)?Xg(f,s,this._currenTime):Wg(f,s,this._currenTime);this._automationEvents.push(p)}if(l!==void 0&&Dl(l)&&this._automationEvents.push(tf(this.getValue(s),s)),l!==void 0&&Is(l)&&l.startTime+l.duration>s){const h=s-l.startTime,u=(l.values.length-1)/l.duration,f=Math.max(2,1+Math.ceil(h*u)),p=h/(f-1)*u,m=l.values.slice(0,f);if(p<1)for(let _=1;_<f;_+=1){const b=p*_%1;m[_]=l.values[_-1]*(1-b)+l.values[_]*b}this._automationEvents[this._automationEvents.length-1]=e_(m,l.startTime,h)}}}else{const r=this._automationEvents.findIndex(h=>di(h)>s),o=r===-1?this._automationEvents[this._automationEvents.length-1]:this._automationEvents[r-1];if(o!==void 0&&Is(o)&&di(o)+o.duration>s)return!1;const l=Ur(n)?Xg(n.value,n.endTime,this._currenTime):Vl(n)?Wg(n.value,s,this._currenTime):n;if(r===-1)this._automationEvents.push(l);else{if(Is(n)&&s+n.duration>di(this._automationEvents[r]))return!1;this._automationEvents.splice(r,0,l)}}return!0}flush(n){const s=this._automationEvents.findIndex(r=>di(r)>n);if(s>1){const r=this._automationEvents.slice(s-1),o=r[0];Dl(o)&&r.unshift(tf(Ll(this._automationEvents,s-2,o.startTime,this._defaultValue),o.startTime)),this._automationEvents=r}}getValue(n){if(this._automationEvents.length===0)return this._defaultValue;const s=this._automationEvents.findIndex(h=>di(h)>n),r=this._automationEvents[s],o=(s===-1?this._automationEvents.length:s)-1,l=this._automationEvents[o];if(l!==void 0&&Dl(l)&&(r===void 0||!pi(r)||r.insertTime>n))return n_(n,Ll(this._automationEvents,o-1,l.startTime,this._defaultValue),l);if(l!==void 0&&gf(l)&&(r===void 0||!pi(r)))return l.value;if(l!==void 0&&Is(l)&&(r===void 0||!pi(r)||l.startTime+l.duration>n))return n<l.startTime+l.duration?F1(n,l):l.values[l.values.length-1];if(l!==void 0&&pi(l)&&(r===void 0||!pi(r)))return l.value;if(r!==void 0&&Ur(r)){const[h,u]=Qg(this._automationEvents,o,l,r,this._defaultValue);return Kg(n,h,u,r)}if(r!==void 0&&Vl(r)){const[h,u]=Qg(this._automationEvents,o,l,r,this._defaultValue);return Jg(n,h,u,r)}return this._defaultValue}}const G1=c=>({cancelTime:c,type:"cancelAndHold"}),P1=c=>({cancelTime:c,type:"cancelScheduledValues"}),Z1=(c,n)=>({endTime:n,type:"exponentialRampToValue",value:c}),Y1=(c,n)=>({endTime:n,type:"linearRampToValue",value:c}),X1=(c,n,s)=>({startTime:n,target:c,timeConstant:s,type:"setTarget"}),W1=()=>new DOMException("","AbortError"),Q1=c=>(n,s,[r,o,l],h)=>{c(n[o],[s,r,l],u=>u[0]===s&&u[1]===r,h)},K1=c=>(n,s,r)=>{const o=[];for(let l=0;l<r.numberOfInputs;l+=1)o.push(new Set);c.set(n,{activeInputs:o,outputs:new Set,passiveInputs:new WeakMap,renderer:s})},J1=c=>(n,s)=>{c.set(n,{activeInputs:new Set,passiveInputs:new WeakMap,renderer:s})},Lr=new WeakSet,s_=new WeakMap,_f=new WeakMap,i_=new WeakMap,vf=new WeakMap,ec=new WeakMap,r_=new WeakMap,sf=new WeakMap,rf=new WeakMap,af=new WeakMap,a_={construct(){return a_}},$1=c=>{try{const n=new Proxy(c,a_);new n}catch{return!1}return!0},$g=/^import(?:(?:[\s]+[\w]+|(?:[\s]+[\w]+[\s]*,)?[\s]*\{[\s]*[\w]+(?:[\s]+as[\s]+[\w]+)?(?:[\s]*,[\s]*[\w]+(?:[\s]+as[\s]+[\w]+)?)*[\s]*}|(?:[\s]+[\w]+[\s]*,)?[\s]*\*[\s]+as[\s]+[\w]+)[\s]+from)?(?:[\s]*)("([^"\\]|\\.)+"|'([^'\\]|\\.)+')(?:[\s]*);?/,t0=(c,n)=>{const s=[];let r=c.replace(/^[\s]+/,""),o=r.match($g);for(;o!==null;){const l=o[1].slice(1,-1),h=o[0].replace(/([\s]+)?;?$/,"").replace(l,new URL(l,n).toString());s.push(h),r=r.slice(o[0].length).replace(/^[\s]+/,""),o=r.match($g)}return[s.join(";"),r]},e0=c=>{if(c!==void 0&&!Array.isArray(c))throw new TypeError("The parameterDescriptors property of given value for processorCtor is not an array.")},n0=c=>{if(!$1(c))throw new TypeError("The given value for processorCtor should be a constructor.");if(c.prototype===null||typeof c.prototype!="object")throw new TypeError("The given value for processorCtor should have a prototype.")},tb=(c,n,s,r,o,l,h,u,f,p,m,_,b)=>{let v=0;return(x,y,S={credentials:"omit"})=>{const w=m.get(x);if(w!==void 0&&w.has(y))return Promise.resolve();const C=p.get(x);if(C!==void 0){const k=C.get(y);if(k!==void 0)return k}const M=l(x),O=M.audioWorklet===void 0?o(y).then(([k,I])=>{const[z,D]=t0(k,I),V=`${z};((a,b)=>{(a[b]=a[b]||[]).push((AudioWorkletProcessor,global,registerProcessor,sampleRate,self,window)=>{${D}
})})(window,'_AWGS')`;return s(V)}).then(()=>{const k=b._AWGS.pop();if(k===void 0)throw new SyntaxError;r(M.currentTime,M.sampleRate,()=>k(class{},void 0,(I,z)=>{if(I.trim()==="")throw n();const D=rf.get(M);if(D!==void 0){if(D.has(I))throw n();n0(z),e0(z.parameterDescriptors),D.set(I,z)}else n0(z),e0(z.parameterDescriptors),rf.set(M,new Map([[I,z]]))},M.sampleRate,void 0,void 0))}):Promise.all([o(y),Promise.resolve(c(_,_))]).then(([[k,I],z])=>{const D=v+1;v=D;const[V,Z]=t0(k,I),T=`${V};((AudioWorkletProcessor,registerProcessor)=>{${Z}
})(${z?"AudioWorkletProcessor":"class extends AudioWorkletProcessor {__b=new WeakSet();constructor(){super();(p=>p.postMessage=(q=>(m,t)=>q.call(p,m,t?t.filter(u=>!this.__b.has(u)):t))(p.postMessage))(this.port)}}"},(n,p)=>registerProcessor(n,class extends p{${z?"":"__c = (a) => a.forEach(e=>this.__b.add(e.buffer));"}process(i,o,p){${z?"":"i.forEach(this.__c);o.forEach(this.__c);this.__c(Object.values(p));"}return super.process(i.map(j=>j.some(k=>k.length===0)?[]:j),o,p)}}));registerProcessor('__sac${D}',class extends AudioWorkletProcessor{process(){return !1}})`,K=new Blob([T],{type:"application/javascript; charset=utf-8"}),H=URL.createObjectURL(K);return M.audioWorklet.addModule(H,S).then(()=>{if(u(M))return M;const G=h(M);return G.audioWorklet.addModule(H,S).then(()=>G)}).then(G=>{if(f===null)throw new SyntaxError;try{new f(G,`__sac${D}`)}catch{throw new SyntaxError}}).finally(()=>URL.revokeObjectURL(H))});return C===void 0?p.set(x,new Map([[y,O]])):C.set(y,O),O.then(()=>{const k=m.get(x);k===void 0?m.set(x,new Set([y])):k.add(y)}).finally(()=>{const k=p.get(x);k!==void 0&&k.delete(y)}),O}},os=(c,n)=>{const s=c.get(n);if(s===void 0)throw new Error("A value with the given key could not be found.");return s},nc=(c,n)=>{const s=Array.from(c).filter(n);if(s.length>1)throw Error("More than one element was found.");if(s.length===0)throw Error("No element was found.");const[r]=s;return c.delete(r),r},o_=(c,n,s,r)=>{const o=os(c,n),l=nc(o,h=>h[0]===s&&h[1]===r);return o.size===0&&c.delete(n),l},ao=c=>os(r_,c),Fr=c=>{if(Lr.has(c))throw new Error("The AudioNode is already stored.");Lr.add(c),ao(c).forEach(n=>n(!0))},l_=c=>"port"in c,oo=c=>{if(!Lr.has(c))throw new Error("The AudioNode is not stored.");Lr.delete(c),ao(c).forEach(n=>n(!1))},of=(c,n)=>{!l_(c)&&n.every(s=>s.size===0)&&oo(c)},eb=(c,n,s,r,o,l,h,u,f,p,m,_,b)=>{const v=new WeakMap;return(x,y,S,w,C)=>{const{activeInputs:M,passiveInputs:O}=l(y),{outputs:k}=l(x),I=u(x),z=D=>{const V=f(y),Z=f(x);if(D){const nt=o_(O,x,S,w);c(M,x,nt,!1),!C&&!_(x)&&s(Z,V,S,w),b(y)&&Fr(y)}else{const nt=r(M,x,S,w);n(O,w,nt,!1),!C&&!_(x)&&o(Z,V,S,w);const R=h(y);if(R===0)m(y)&&of(y,M);else{const W=v.get(y);W!==void 0&&clearTimeout(W),v.set(y,setTimeout(()=>{m(y)&&of(y,M)},R*1e3))}}};return p(k,[y,S,w],D=>D[0]===y&&D[1]===S&&D[2]===w,!0)?(I.add(z),m(x)?c(M,x,[S,w,z],!0):n(O,w,[x,S,z],!0),!0):!1}},nb=c=>(n,s,[r,o,l],h)=>{const u=n.get(r);u===void 0?n.set(r,new Set([[o,s,l]])):c(u,[o,s,l],f=>f[0]===o&&f[1]===s,h)},sb=c=>(n,s)=>{const r=c(n,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});s.connect(r).connect(n.destination);const o=()=>{s.removeEventListener("ended",o),s.disconnect(r),r.disconnect()};s.addEventListener("ended",o)},ib=c=>(n,s)=>{c(n).add(s)},rb={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",fftSize:2048,maxDecibels:-30,minDecibels:-100,smoothingTimeConstant:.8},ab=(c,n,s,r,o,l)=>class extends c{constructor(u,f){const p=o(u),m={...rb,...f},_=r(p,m),b=l(p)?n():null;super(u,!1,_,b),this._nativeAnalyserNode=_}get fftSize(){return this._nativeAnalyserNode.fftSize}set fftSize(u){this._nativeAnalyserNode.fftSize=u}get frequencyBinCount(){return this._nativeAnalyserNode.frequencyBinCount}get maxDecibels(){return this._nativeAnalyserNode.maxDecibels}set maxDecibels(u){const f=this._nativeAnalyserNode.maxDecibels;if(this._nativeAnalyserNode.maxDecibels=u,!(u>this._nativeAnalyserNode.minDecibels))throw this._nativeAnalyserNode.maxDecibels=f,s()}get minDecibels(){return this._nativeAnalyserNode.minDecibels}set minDecibels(u){const f=this._nativeAnalyserNode.minDecibels;if(this._nativeAnalyserNode.minDecibels=u,!(this._nativeAnalyserNode.maxDecibels>u))throw this._nativeAnalyserNode.minDecibels=f,s()}get smoothingTimeConstant(){return this._nativeAnalyserNode.smoothingTimeConstant}set smoothingTimeConstant(u){this._nativeAnalyserNode.smoothingTimeConstant=u}getByteFrequencyData(u){this._nativeAnalyserNode.getByteFrequencyData(u)}getByteTimeDomainData(u){this._nativeAnalyserNode.getByteTimeDomainData(u)}getFloatFrequencyData(u){this._nativeAnalyserNode.getFloatFrequencyData(u)}getFloatTimeDomainData(u){this._nativeAnalyserNode.getFloatTimeDomainData(u)}},cn=(c,n)=>c.context===n,ob=(c,n,s)=>()=>{const r=new WeakMap,o=async(l,h)=>{let u=n(l);if(!cn(u,h)){const p={channelCount:u.channelCount,channelCountMode:u.channelCountMode,channelInterpretation:u.channelInterpretation,fftSize:u.fftSize,maxDecibels:u.maxDecibels,minDecibels:u.minDecibels,smoothingTimeConstant:u.smoothingTimeConstant};u=c(h,p)}return r.set(h,u),await s(l,h,u),u};return{render(l,h){const u=r.get(h);return u!==void 0?Promise.resolve(u):o(l,h)}}},Fl=c=>{try{c.copyToChannel(new Float32Array(1),0,-1)}catch{return!1}return!0},vs=()=>new DOMException("","IndexSizeError"),yf=c=>{c.getChannelData=(n=>s=>{try{return n.call(c,s)}catch(r){throw r.code===12?vs():r}})(c.getChannelData)},lb={numberOfChannels:1},cb=(c,n,s,r,o,l,h,u)=>{let f=null;return class c_{constructor(m){if(o===null)throw new Error("Missing the native OfflineAudioContext constructor.");const{length:_,numberOfChannels:b,sampleRate:v}={...lb,...m};f===null&&(f=new o(1,1,44100));const x=r!==null&&n(l,l)?new r({length:_,numberOfChannels:b,sampleRate:v}):f.createBuffer(b,_,v);if(x.numberOfChannels===0)throw s();return typeof x.copyFromChannel!="function"?(h(x),yf(x)):n(Fl,()=>Fl(x))||u(x),c.add(x),x}static[Symbol.hasInstance](m){return m!==null&&typeof m=="object"&&Object.getPrototypeOf(m)===c_.prototype||c.has(m)}}},wn=-34028234663852886e22,dn=-wn,qs=c=>Lr.has(c),ub={buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1},hb=(c,n,s,r,o,l,h,u)=>class extends c{constructor(p,m){const _=l(p),b={...ub,...m},v=o(_,b),x=h(_),y=x?n():null;super(p,!1,v,y),this._audioBufferSourceNodeRenderer=y,this._isBufferNullified=!1,this._isBufferSet=b.buffer!==null,this._nativeAudioBufferSourceNode=v,this._onended=null,this._playbackRate=s(this,x,v.playbackRate,dn,wn)}get buffer(){return this._isBufferNullified?null:this._nativeAudioBufferSourceNode.buffer}set buffer(p){if(this._nativeAudioBufferSourceNode.buffer=p,p!==null){if(this._isBufferSet)throw r();this._isBufferSet=!0}}get loop(){return this._nativeAudioBufferSourceNode.loop}set loop(p){this._nativeAudioBufferSourceNode.loop=p}get loopEnd(){return this._nativeAudioBufferSourceNode.loopEnd}set loopEnd(p){this._nativeAudioBufferSourceNode.loopEnd=p}get loopStart(){return this._nativeAudioBufferSourceNode.loopStart}set loopStart(p){this._nativeAudioBufferSourceNode.loopStart=p}get onended(){return this._onended}set onended(p){const m=typeof p=="function"?u(this,p):null;this._nativeAudioBufferSourceNode.onended=m;const _=this._nativeAudioBufferSourceNode.onended;this._onended=_!==null&&_===m?p:_}get playbackRate(){return this._playbackRate}start(p=0,m=0,_){if(this._nativeAudioBufferSourceNode.start(p,m,_),this._audioBufferSourceNodeRenderer!==null&&(this._audioBufferSourceNodeRenderer.start=_===void 0?[p,m]:[p,m,_]),this.context.state!=="closed"){Fr(this);const b=()=>{this._nativeAudioBufferSourceNode.removeEventListener("ended",b),qs(this)&&oo(this)};this._nativeAudioBufferSourceNode.addEventListener("ended",b)}}stop(p=0){this._nativeAudioBufferSourceNode.stop(p),this._audioBufferSourceNodeRenderer!==null&&(this._audioBufferSourceNodeRenderer.stop=p)}},fb=(c,n,s,r,o)=>()=>{const l=new WeakMap;let h=null,u=null;const f=async(p,m)=>{let _=s(p);const b=cn(_,m);if(!b){const v={buffer:_.buffer,channelCount:_.channelCount,channelCountMode:_.channelCountMode,channelInterpretation:_.channelInterpretation,loop:_.loop,loopEnd:_.loopEnd,loopStart:_.loopStart,playbackRate:_.playbackRate.value};_=n(m,v),h!==null&&_.start(...h),u!==null&&_.stop(u)}return l.set(m,_),b?await c(m,p.playbackRate,_.playbackRate):await r(m,p.playbackRate,_.playbackRate),await o(p,m,_),_};return{set start(p){h=p},set stop(p){u=p},render(p,m){const _=l.get(m);return _!==void 0?Promise.resolve(_):f(p,m)}}},db=c=>"playbackRate"in c,pb=c=>"frequency"in c&&"gain"in c,mb=c=>"offset"in c,gb=c=>!("frequency"in c)&&"gain"in c,_b=c=>"detune"in c&&"frequency"in c&&!("gain"in c),vb=c=>"pan"in c,pn=c=>os(s_,c),lo=c=>os(i_,c),lf=(c,n)=>{const{activeInputs:s}=pn(c);s.forEach(o=>o.forEach(([l])=>{n.includes(c)||lf(l,[...n,c])}));const r=db(c)?[c.playbackRate]:l_(c)?Array.from(c.parameters.values()):pb(c)?[c.Q,c.detune,c.frequency,c.gain]:mb(c)?[c.offset]:gb(c)?[c.gain]:_b(c)?[c.detune,c.frequency]:vb(c)?[c.pan]:[];for(const o of r){const l=lo(o);l!==void 0&&l.activeInputs.forEach(([h])=>lf(h,n))}qs(c)&&oo(c)},u_=c=>{lf(c.destination,[])},yb=c=>c===void 0||typeof c=="number"||typeof c=="string"&&(c==="balanced"||c==="interactive"||c==="playback"),bb=(c,n,s,r,o,l,h,u,f)=>class extends c{constructor(m={}){if(f===null)throw new Error("Missing the native AudioContext constructor.");let _;try{_=new f(m)}catch(x){throw x.code===12&&x.message==="sampleRate is not in range"?s():x}if(_===null)throw r();if(!yb(m.latencyHint))throw new TypeError(`The provided value '${m.latencyHint}' is not a valid enum value of type AudioContextLatencyCategory.`);if(m.sampleRate!==void 0&&_.sampleRate!==m.sampleRate)throw s();super(_,2);const{latencyHint:b}=m,{sampleRate:v}=_;if(this._baseLatency=typeof _.baseLatency=="number"?_.baseLatency:b==="balanced"?512/v:b==="interactive"||b===void 0?256/v:b==="playback"?1024/v:Math.max(2,Math.min(128,Math.round(b*v/128)))*128/v,this._nativeAudioContext=_,f.name==="webkitAudioContext"?(this._nativeGainNode=_.createGain(),this._nativeOscillatorNode=_.createOscillator(),this._nativeGainNode.gain.value=1e-37,this._nativeOscillatorNode.connect(this._nativeGainNode).connect(_.destination),this._nativeOscillatorNode.start()):(this._nativeGainNode=null,this._nativeOscillatorNode=null),this._state=null,_.state==="running"){this._state="suspended";const x=()=>{this._state==="suspended"&&(this._state=null),_.removeEventListener("statechange",x)};_.addEventListener("statechange",x)}}get baseLatency(){return this._baseLatency}get state(){return this._state!==null?this._state:this._nativeAudioContext.state}close(){return this.state==="closed"?this._nativeAudioContext.close().then(()=>{throw n()}):(this._state==="suspended"&&(this._state=null),this._nativeAudioContext.close().then(()=>{this._nativeGainNode!==null&&this._nativeOscillatorNode!==null&&(this._nativeOscillatorNode.stop(),this._nativeGainNode.disconnect(),this._nativeOscillatorNode.disconnect()),u_(this)}))}createMediaElementSource(m){return new o(this,{mediaElement:m})}createMediaStreamDestination(){return new l(this)}createMediaStreamSource(m){return new h(this,{mediaStream:m})}createMediaStreamTrackSource(m){return new u(this,{mediaStreamTrack:m})}resume(){return this._state==="suspended"?new Promise((m,_)=>{const b=()=>{this._nativeAudioContext.removeEventListener("statechange",b),this._nativeAudioContext.state==="running"?m():this.resume().then(m,_)};this._nativeAudioContext.addEventListener("statechange",b)}):this._nativeAudioContext.resume().catch(m=>{throw m===void 0||m.code===15?n():m})}suspend(){return this._nativeAudioContext.suspend().catch(m=>{throw m===void 0?n():m})}},xb=(c,n,s,r,o,l,h,u)=>class extends c{constructor(p,m){const _=l(p),b=h(_),v=o(_,m,b),x=b?n(u):null;super(p,!1,v,x),this._isNodeOfNativeOfflineAudioContext=b,this._nativeAudioDestinationNode=v}get channelCount(){return this._nativeAudioDestinationNode.channelCount}set channelCount(p){if(this._isNodeOfNativeOfflineAudioContext)throw r();if(p>this._nativeAudioDestinationNode.maxChannelCount)throw s();this._nativeAudioDestinationNode.channelCount=p}get channelCountMode(){return this._nativeAudioDestinationNode.channelCountMode}set channelCountMode(p){if(this._isNodeOfNativeOfflineAudioContext)throw r();this._nativeAudioDestinationNode.channelCountMode=p}get maxChannelCount(){return this._nativeAudioDestinationNode.maxChannelCount}},Sb=c=>{const n=new WeakMap,s=async(r,o)=>{const l=o.destination;return n.set(o,l),await c(r,o,l),l};return{render(r,o){const l=n.get(o);return l!==void 0?Promise.resolve(l):s(r,o)}}},wb=(c,n,s,r,o,l,h,u)=>(f,p)=>{const m=p.listener,_=()=>{const k=new Float32Array(1),I=n(p,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:9}),z=h(p);let D=!1,V=[0,0,-1,0,1,0],Z=[0,0,0];const nt=()=>{if(D)return;D=!0;const K=r(p,256,9,0);K.onaudioprocess=({inputBuffer:H})=>{const G=[l(H,k,0),l(H,k,1),l(H,k,2),l(H,k,3),l(H,k,4),l(H,k,5)];G.some((Y,U)=>Y!==V[U])&&(m.setOrientation(...G),V=G);const ut=[l(H,k,6),l(H,k,7),l(H,k,8)];ut.some((Y,U)=>Y!==Z[U])&&(m.setPosition(...ut),Z=ut)},I.connect(K)},R=K=>H=>{H!==V[K]&&(V[K]=H,m.setOrientation(...V))},W=K=>H=>{H!==Z[K]&&(Z[K]=H,m.setPosition(...Z))},T=(K,H,G)=>{const ut=s(p,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:H});ut.connect(I,0,K),ut.start(),Object.defineProperty(ut.offset,"defaultValue",{get(){return H}});const Y=c({context:f},z,ut.offset,dn,wn);return u(Y,"value",U=>()=>U.call(Y),U=>B=>{try{U.call(Y,B)}catch(F){if(F.code!==9)throw F}nt(),z&&G(B)}),Y.cancelAndHoldAtTime=(U=>z?()=>{throw o()}:(...B)=>{const F=U.apply(Y,B);return nt(),F})(Y.cancelAndHoldAtTime),Y.cancelScheduledValues=(U=>z?()=>{throw o()}:(...B)=>{const F=U.apply(Y,B);return nt(),F})(Y.cancelScheduledValues),Y.exponentialRampToValueAtTime=(U=>z?()=>{throw o()}:(...B)=>{const F=U.apply(Y,B);return nt(),F})(Y.exponentialRampToValueAtTime),Y.linearRampToValueAtTime=(U=>z?()=>{throw o()}:(...B)=>{const F=U.apply(Y,B);return nt(),F})(Y.linearRampToValueAtTime),Y.setTargetAtTime=(U=>z?()=>{throw o()}:(...B)=>{const F=U.apply(Y,B);return nt(),F})(Y.setTargetAtTime),Y.setValueAtTime=(U=>z?()=>{throw o()}:(...B)=>{const F=U.apply(Y,B);return nt(),F})(Y.setValueAtTime),Y.setValueCurveAtTime=(U=>z?()=>{throw o()}:(...B)=>{const F=U.apply(Y,B);return nt(),F})(Y.setValueCurveAtTime),Y};return{forwardX:T(0,0,R(0)),forwardY:T(1,0,R(1)),forwardZ:T(2,-1,R(2)),positionX:T(6,0,W(0)),positionY:T(7,0,W(1)),positionZ:T(8,0,W(2)),upX:T(3,0,R(3)),upY:T(4,1,R(4)),upZ:T(5,0,R(5))}},{forwardX:b,forwardY:v,forwardZ:x,positionX:y,positionY:S,positionZ:w,upX:C,upY:M,upZ:O}=m.forwardX===void 0?_():m;return{get forwardX(){return b},get forwardY(){return v},get forwardZ(){return x},get positionX(){return y},get positionY(){return S},get positionZ(){return w},get upX(){return C},get upY(){return M},get upZ(){return O}}},Hl=c=>"context"in c,co=c=>Hl(c[0]),Qi=(c,n,s,r)=>{for(const o of c)if(s(o)){if(r)return!1;throw Error("The set contains at least one similar element.")}return c.add(n),!0},s0=(c,n,[s,r],o)=>{Qi(c,[n,s,r],l=>l[0]===n&&l[1]===s,o)},i0=(c,[n,s,r],o)=>{const l=c.get(n);l===void 0?c.set(n,new Set([[s,r]])):Qi(l,[s,r],h=>h[0]===s,o)},Qr=c=>"inputs"in c,Gl=(c,n,s,r)=>{if(Qr(n)){const o=n.inputs[r];return c.connect(o,s,0),[o,s,0]}return c.connect(n,s,r),[n,s,r]},h_=(c,n,s)=>{for(const r of c)if(r[0]===n&&r[1]===s)return c.delete(r),r;return null},Tb=(c,n,s)=>nc(c,r=>r[0]===n&&r[1]===s),f_=(c,n)=>{if(!ao(c).delete(n))throw new Error("Missing the expected event listener.")},d_=(c,n,s)=>{const r=os(c,n),o=nc(r,l=>l[0]===s);return r.size===0&&c.delete(n),o},Pl=(c,n,s,r)=>{Qr(n)?c.disconnect(n.inputs[r],s,0):c.disconnect(n,s,r)},be=c=>os(_f,c),no=c=>os(vf,c),Yi=c=>sf.has(c),Il=c=>!Lr.has(c),r0=(c,n)=>new Promise(s=>{if(n!==null)s(!0);else{const r=c.createScriptProcessor(256,1,1),o=c.createGain(),l=c.createBuffer(1,2,44100),h=l.getChannelData(0);h[0]=1,h[1]=1;const u=c.createBufferSource();u.buffer=l,u.loop=!0,u.connect(r).connect(c.destination),u.connect(o),u.disconnect(o),r.onaudioprocess=f=>{const p=f.inputBuffer.getChannelData(0);Array.prototype.some.call(p,m=>m===1)?s(!0):s(!1),u.stop(),r.onaudioprocess=null,u.disconnect(r),r.disconnect(c.destination)},u.start()}}),Dh=(c,n)=>{const s=new Map;for(const r of c)for(const o of r){const l=s.get(o);s.set(o,l===void 0?1:l+1)}s.forEach((r,o)=>n(o,r))},Zl=c=>"context"in c,Ab=c=>{const n=new Map;c.connect=(s=>(r,o=0,l=0)=>{const h=Zl(r)?s(r,o,l):s(r,o),u=n.get(r);return u===void 0?n.set(r,[{input:l,output:o}]):u.every(f=>f.input!==l||f.output!==o)&&u.push({input:l,output:o}),h})(c.connect.bind(c)),c.disconnect=(s=>(r,o,l)=>{if(s.apply(c),r===void 0)n.clear();else if(typeof r=="number")for(const[h,u]of n){const f=u.filter(p=>p.output!==r);f.length===0?n.delete(h):n.set(h,f)}else if(n.has(r))if(o===void 0)n.delete(r);else{const h=n.get(r);if(h!==void 0){const u=h.filter(f=>f.output!==o&&(f.input!==l||l===void 0));u.length===0?n.delete(r):n.set(r,u)}}for(const[h,u]of n)u.forEach(f=>{Zl(h)?c.connect(h,f.output,f.input):c.connect(h,f.output)})})(c.disconnect)},Nb=(c,n,s,r)=>{const{activeInputs:o,passiveInputs:l}=lo(n),{outputs:h}=pn(c),u=ao(c),f=p=>{const m=be(c),_=no(n);if(p){const b=d_(l,c,s);s0(o,c,b,!1),!r&&!Yi(c)&&m.connect(_,s)}else{const b=Tb(o,c,s);i0(l,b,!1),!r&&!Yi(c)&&m.disconnect(_,s)}};return Qi(h,[n,s],p=>p[0]===n&&p[1]===s,!0)?(u.add(f),qs(c)?s0(o,c,[s,f],!0):i0(l,[c,s,f],!0),!0):!1},kb=(c,n,s,r)=>{const{activeInputs:o,passiveInputs:l}=pn(n),h=h_(o[r],c,s);return h===null?[o_(l,c,s,r)[2],!1]:[h[2],!0]},Cb=(c,n,s)=>{const{activeInputs:r,passiveInputs:o}=lo(n),l=h_(r,c,s);return l===null?[d_(o,c,s)[1],!1]:[l[2],!0]},bf=(c,n,s,r,o)=>{const[l,h]=kb(c,s,r,o);if(l!==null&&(f_(c,l),h&&!n&&!Yi(c)&&Pl(be(c),be(s),r,o)),qs(s)){const{activeInputs:u}=pn(s);of(s,u)}},xf=(c,n,s,r)=>{const[o,l]=Cb(c,s,r);o!==null&&(f_(c,o),l&&!n&&!Yi(c)&&be(c).disconnect(no(s),r))},Eb=(c,n)=>{const s=pn(c),r=[];for(const o of s.outputs)co(o)?bf(c,n,...o):xf(c,n,...o),r.push(o[0]);return s.outputs.clear(),r},Ob=(c,n,s)=>{const r=pn(c),o=[];for(const l of r.outputs)l[1]===s&&(co(l)?bf(c,n,...l):xf(c,n,...l),o.push(l[0]),r.outputs.delete(l));return o},Mb=(c,n,s,r,o)=>{const l=pn(c);return Array.from(l.outputs).filter(h=>h[0]===s&&(r===void 0||h[1]===r)&&(o===void 0||h[2]===o)).map(h=>(co(h)?bf(c,n,...h):xf(c,n,...h),l.outputs.delete(h),h[0]))},Db=(c,n,s,r,o,l,h,u,f,p,m,_,b,v,x,y)=>class extends p{constructor(w,C,M,O){super(M),this._context=w,this._nativeAudioNode=M;const k=m(w);_(k)&&s(r0,()=>r0(k,y))!==!0&&Ab(M),_f.set(this,M),r_.set(this,new Set),w.state!=="closed"&&C&&Fr(this),c(this,O,M)}get channelCount(){return this._nativeAudioNode.channelCount}set channelCount(w){this._nativeAudioNode.channelCount=w}get channelCountMode(){return this._nativeAudioNode.channelCountMode}set channelCountMode(w){this._nativeAudioNode.channelCountMode=w}get channelInterpretation(){return this._nativeAudioNode.channelInterpretation}set channelInterpretation(w){this._nativeAudioNode.channelInterpretation=w}get context(){return this._context}get numberOfInputs(){return this._nativeAudioNode.numberOfInputs}get numberOfOutputs(){return this._nativeAudioNode.numberOfOutputs}connect(w,C=0,M=0){if(C<0||C>=this._nativeAudioNode.numberOfOutputs)throw o();const O=m(this._context),k=x(O);if(b(w)||v(w))throw l();if(Hl(w)){const D=be(w);try{const Z=Gl(this._nativeAudioNode,D,C,M),nt=Il(this);(k||nt)&&this._nativeAudioNode.disconnect(...Z),this.context.state!=="closed"&&!nt&&Il(w)&&Fr(w)}catch(Z){throw Z.code===12?l():Z}if(n(this,w,C,M,k)){const Z=f([this],w);Dh(Z,r(k))}return w}const I=no(w);if(I.name==="playbackRate"&&I.maxValue===1024)throw h();try{this._nativeAudioNode.connect(I,C),(k||Il(this))&&this._nativeAudioNode.disconnect(I,C)}catch(D){throw D.code===12?l():D}if(Nb(this,w,C,k)){const D=f([this],w);Dh(D,r(k))}}disconnect(w,C,M){let O;const k=m(this._context),I=x(k);if(w===void 0)O=Eb(this,I);else if(typeof w=="number"){if(w<0||w>=this.numberOfOutputs)throw o();O=Ob(this,I,w)}else{if(C!==void 0&&(C<0||C>=this.numberOfOutputs)||Hl(w)&&M!==void 0&&(M<0||M>=w.numberOfInputs))throw o();if(O=Mb(this,I,w,C,M),O.length===0)throw l()}for(const z of O){const D=f([this],z);Dh(D,u)}}},Rb=(c,n,s,r,o,l,h,u,f,p,m,_,b)=>(v,x,y,S=null,w=null)=>{const C=y.value,M=new H1(C),O=x?r(M):null,k={get defaultValue(){return C},get maxValue(){return S===null?y.maxValue:S},get minValue(){return w===null?y.minValue:w},get value(){return y.value},set value(I){y.value=I,k.setValueAtTime(I,v.context.currentTime)},cancelAndHoldAtTime(I){if(typeof y.cancelAndHoldAtTime=="function")O===null&&M.flush(v.context.currentTime),M.add(o(I)),y.cancelAndHoldAtTime(I);else{const z=Array.from(M).pop();O===null&&M.flush(v.context.currentTime),M.add(o(I));const D=Array.from(M).pop();y.cancelScheduledValues(I),z!==D&&D!==void 0&&(D.type==="exponentialRampToValue"?y.exponentialRampToValueAtTime(D.value,D.endTime):D.type==="linearRampToValue"?y.linearRampToValueAtTime(D.value,D.endTime):D.type==="setValue"?y.setValueAtTime(D.value,D.startTime):D.type==="setValueCurve"&&y.setValueCurveAtTime(D.values,D.startTime,D.duration))}return k},cancelScheduledValues(I){return O===null&&M.flush(v.context.currentTime),M.add(l(I)),y.cancelScheduledValues(I),k},exponentialRampToValueAtTime(I,z){if(I===0)throw new RangeError;if(!Number.isFinite(z)||z<0)throw new RangeError;const D=v.context.currentTime;return O===null&&M.flush(D),Array.from(M).length===0&&(M.add(p(C,D)),y.setValueAtTime(C,D)),M.add(h(I,z)),y.exponentialRampToValueAtTime(I,z),k},linearRampToValueAtTime(I,z){const D=v.context.currentTime;return O===null&&M.flush(D),Array.from(M).length===0&&(M.add(p(C,D)),y.setValueAtTime(C,D)),M.add(u(I,z)),y.linearRampToValueAtTime(I,z),k},setTargetAtTime(I,z,D){return O===null&&M.flush(v.context.currentTime),M.add(f(I,z,D)),y.setTargetAtTime(I,z,D),k},setValueAtTime(I,z){return O===null&&M.flush(v.context.currentTime),M.add(p(I,z)),y.setValueAtTime(I,z),k},setValueCurveAtTime(I,z,D){const V=I instanceof Float32Array?I:new Float32Array(I);if(_!==null&&_.name==="webkitAudioContext"){const Z=z+D,nt=v.context.sampleRate,R=Math.ceil(z*nt),W=Math.floor(Z*nt),T=W-R,K=new Float32Array(T);for(let G=0;G<T;G+=1){const ut=(V.length-1)/D*((R+G)/nt-z),Y=Math.floor(ut),U=Math.ceil(ut);K[G]=Y===U?V[Y]:(1-(ut-Y))*V[Y]+(1-(U-ut))*V[U]}O===null&&M.flush(v.context.currentTime),M.add(m(K,z,D)),y.setValueCurveAtTime(K,z,D);const H=W/nt;H<Z&&b(k,K[K.length-1],H),b(k,V[V.length-1],Z)}else O===null&&M.flush(v.context.currentTime),M.add(m(V,z,D)),y.setValueCurveAtTime(V,z,D);return k}};return s.set(k,y),n.set(k,v),c(k,O),k},jb=c=>({replay(n){for(const s of c)if(s.type==="exponentialRampToValue"){const{endTime:r,value:o}=s;n.exponentialRampToValueAtTime(o,r)}else if(s.type==="linearRampToValue"){const{endTime:r,value:o}=s;n.linearRampToValueAtTime(o,r)}else if(s.type==="setTarget"){const{startTime:r,target:o,timeConstant:l}=s;n.setTargetAtTime(o,r,l)}else if(s.type==="setValue"){const{startTime:r,value:o}=s;n.setValueAtTime(o,r)}else if(s.type==="setValueCurve"){const{duration:r,startTime:o,values:l}=s;n.setValueCurveAtTime(l,o,r)}else throw new Error("Can't apply an unknown automation.")}});class p_{constructor(n){this._map=new Map(n)}get size(){return this._map.size}entries(){return this._map.entries()}forEach(n,s=null){return this._map.forEach((r,o)=>n.call(s,r,o,this))}get(n){return this._map.get(n)}has(n){return this._map.has(n)}keys(){return this._map.keys()}values(){return this._map.values()}}const zb={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:1,numberOfOutputs:1,parameterData:{},processorOptions:{}},Ub=(c,n,s,r,o,l,h,u,f,p,m,_,b,v)=>class extends n{constructor(y,S,w){var C;const M=u(y),O=f(M),k=m({...zb,...w});b(k);const I=rf.get(M),z=I?.get(S),D=O||M.state!=="closed"?M:(C=h(M))!==null&&C!==void 0?C:M,V=o(D,O?null:y.baseLatency,p,S,z,k),Z=O?r(S,k,z):null;super(y,!0,V,Z);const nt=[];V.parameters.forEach((W,T)=>{const K=s(this,O,W);nt.push([T,K])}),this._nativeAudioWorkletNode=V,this._onprocessorerror=null,this._parameters=new p_(nt),O&&c(M,this);const{activeInputs:R}=l(this);_(V,R)}get onprocessorerror(){return this._onprocessorerror}set onprocessorerror(y){const S=typeof y=="function"?v(this,y):null;this._nativeAudioWorkletNode.onprocessorerror=S;const w=this._nativeAudioWorkletNode.onprocessorerror;this._onprocessorerror=w!==null&&w===S?y:w}get parameters(){return this._parameters===null?this._nativeAudioWorkletNode.parameters:this._parameters}get port(){return this._nativeAudioWorkletNode.port}};function Yl(c,n,s,r,o){if(typeof c.copyFromChannel=="function")n[s].byteLength===0&&(n[s]=new Float32Array(128)),c.copyFromChannel(n[s],r,o);else{const l=c.getChannelData(r);if(n[s].byteLength===0)n[s]=l.slice(o,o+128);else{const h=new Float32Array(l.buffer,o*Float32Array.BYTES_PER_ELEMENT,128);n[s].set(h)}}}const m_=(c,n,s,r,o)=>{typeof c.copyToChannel=="function"?n[s].byteLength!==0&&c.copyToChannel(n[s],r,o):n[s].byteLength!==0&&c.getChannelData(r).set(n[s],o)},Xl=(c,n)=>{const s=[];for(let r=0;r<c;r+=1){const o=[],l=typeof n=="number"?n:n[r];for(let h=0;h<l;h+=1)o.push(new Float32Array(128));s.push(o)}return s},Bb=(c,n)=>{const s=os(af,c),r=be(n);return os(s,r)},Ib=async(c,n,s,r,o,l,h)=>{const u=n===null?Math.ceil(c.context.length/128)*128:n.length,f=r.channelCount*r.numberOfInputs,p=o.reduce((S,w)=>S+w,0),m=p===0?null:s.createBuffer(p,u,s.sampleRate);if(l===void 0)throw new Error("Missing the processor constructor.");const _=pn(c),b=await Bb(s,c),v=Xl(r.numberOfInputs,r.channelCount),x=Xl(r.numberOfOutputs,o),y=Array.from(c.parameters.keys()).reduce((S,w)=>({...S,[w]:new Float32Array(128)}),{});for(let S=0;S<u;S+=128){if(r.numberOfInputs>0&&n!==null)for(let w=0;w<r.numberOfInputs;w+=1)for(let C=0;C<r.channelCount;C+=1)Yl(n,v[w],C,C,S);l.parameterDescriptors!==void 0&&n!==null&&l.parameterDescriptors.forEach(({name:w},C)=>{Yl(n,y,w,f+C,S)});for(let w=0;w<r.numberOfInputs;w+=1)for(let C=0;C<o[w];C+=1)x[w][C].byteLength===0&&(x[w][C]=new Float32Array(128));try{const w=v.map((M,O)=>_.activeInputs[O].size===0?[]:M),C=h(S/s.sampleRate,s.sampleRate,()=>b.process(w,x,y));if(m!==null)for(let M=0,O=0;M<r.numberOfOutputs;M+=1){for(let k=0;k<o[M];k+=1)m_(m,x[M],k,O+k,S);O+=o[M]}if(!C)break}catch(w){c.dispatchEvent(new ErrorEvent("processorerror",{colno:w.colno,filename:w.filename,lineno:w.lineno,message:w.message}));break}}return m},qb=(c,n,s,r,o,l,h,u,f,p,m,_,b,v,x,y)=>(S,w,C)=>{const M=new WeakMap;let O=null;const k=async(I,z)=>{let D=m(I),V=null;const Z=cn(D,z),nt=Array.isArray(w.outputChannelCount)?w.outputChannelCount:Array.from(w.outputChannelCount);if(_===null){const R=nt.reduce((H,G)=>H+G,0),W=o(z,{channelCount:Math.max(1,R),channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:Math.max(1,R)}),T=[];for(let H=0;H<I.numberOfOutputs;H+=1)T.push(r(z,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:nt[H]}));const K=h(z,{channelCount:w.channelCount,channelCountMode:w.channelCountMode,channelInterpretation:w.channelInterpretation,gain:1});K.connect=n.bind(null,T),K.disconnect=f.bind(null,T),V=[W,T,K]}else Z||(D=new _(z,S));if(M.set(z,V===null?D:V[2]),V!==null){if(O===null){if(C===void 0)throw new Error("Missing the processor constructor.");if(b===null)throw new Error("Missing the native OfflineAudioContext constructor.");const G=I.channelCount*I.numberOfInputs,ut=C.parameterDescriptors===void 0?0:C.parameterDescriptors.length,Y=G+ut;O=Ib(I,Y===0?null:await(async()=>{const B=new b(Y,Math.ceil(I.context.length/128)*128,z.sampleRate),F=[],lt=[];for(let yt=0;yt<w.numberOfInputs;yt+=1)F.push(h(B,{channelCount:w.channelCount,channelCountMode:w.channelCountMode,channelInterpretation:w.channelInterpretation,gain:1})),lt.push(o(B,{channelCount:w.channelCount,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:w.channelCount}));const ot=await Promise.all(Array.from(I.parameters.values()).map(async yt=>{const Ot=l(B,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:yt.value});return await v(B,yt,Ot.offset),Ot})),tt=r(B,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:Math.max(1,G+ut)});for(let yt=0;yt<w.numberOfInputs;yt+=1){F[yt].connect(lt[yt]);for(let Ot=0;Ot<w.channelCount;Ot+=1)lt[yt].connect(tt,Ot,yt*w.channelCount+Ot)}for(const[yt,Ot]of ot.entries())Ot.connect(tt,0,G+yt),Ot.start(0);return tt.connect(B.destination),await Promise.all(F.map(yt=>x(I,B,yt))),y(B)})(),z,w,nt,C,p)}const R=await O,W=s(z,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),[T,K,H]=V;R!==null&&(W.buffer=R,W.start(0)),W.connect(T);for(let G=0,ut=0;G<I.numberOfOutputs;G+=1){const Y=K[G];for(let U=0;U<nt[G];U+=1)T.connect(Y,ut+U,U);ut+=nt[G]}return H}if(Z)for(const[R,W]of I.parameters.entries())await c(z,W,D.parameters.get(R));else for(const[R,W]of I.parameters.entries())await v(z,W,D.parameters.get(R));return await x(I,z,D),D};return{render(I,z){u(z,I);const D=M.get(z);return D!==void 0?Promise.resolve(D):k(I,z)}}},Vb=(c,n,s,r,o,l,h,u,f,p,m,_,b,v,x,y,S,w,C,M)=>class extends x{constructor(k,I){super(k,I),this._nativeContext=k,this._audioWorklet=c===void 0?void 0:{addModule:(z,D)=>c(this,z,D)}}get audioWorklet(){return this._audioWorklet}createAnalyser(){return new n(this)}createBiquadFilter(){return new o(this)}createBuffer(k,I,z){return new s({length:I,numberOfChannels:k,sampleRate:z})}createBufferSource(){return new r(this)}createChannelMerger(k=6){return new l(this,{numberOfInputs:k})}createChannelSplitter(k=6){return new h(this,{numberOfOutputs:k})}createConstantSource(){return new u(this)}createConvolver(){return new f(this)}createDelay(k=1){return new m(this,{maxDelayTime:k})}createDynamicsCompressor(){return new _(this)}createGain(){return new b(this)}createIIRFilter(k,I){return new v(this,{feedback:I,feedforward:k})}createOscillator(){return new y(this)}createPanner(){return new S(this)}createPeriodicWave(k,I,z={disableNormalization:!1}){return new w(this,{...z,imag:I,real:k})}createStereoPanner(){return new C(this)}createWaveShaper(){return new M(this)}decodeAudioData(k,I,z){return p(this._nativeContext,k).then(D=>(typeof I=="function"&&I(D),D),D=>{throw typeof z=="function"&&z(D),D})}},Lb={Q:1,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",detune:0,frequency:350,gain:0,type:"lowpass"},Fb=(c,n,s,r,o,l,h,u)=>class extends c{constructor(p,m){const _=l(p),b={...Lb,...m},v=o(_,b),x=h(_),y=x?s():null;super(p,!1,v,y),this._Q=n(this,x,v.Q,dn,wn),this._detune=n(this,x,v.detune,1200*Math.log2(dn),-1200*Math.log2(dn)),this._frequency=n(this,x,v.frequency,p.sampleRate/2,0),this._gain=n(this,x,v.gain,40*Math.log10(dn),wn),this._nativeBiquadFilterNode=v,u(this,1)}get detune(){return this._detune}get frequency(){return this._frequency}get gain(){return this._gain}get Q(){return this._Q}get type(){return this._nativeBiquadFilterNode.type}set type(p){this._nativeBiquadFilterNode.type=p}getFrequencyResponse(p,m,_){try{this._nativeBiquadFilterNode.getFrequencyResponse(p,m,_)}catch(b){throw b.code===11?r():b}if(p.length!==m.length||m.length!==_.length)throw r()}},Hb=(c,n,s,r,o)=>()=>{const l=new WeakMap,h=async(u,f)=>{let p=s(u);const m=cn(p,f);if(!m){const _={Q:p.Q.value,channelCount:p.channelCount,channelCountMode:p.channelCountMode,channelInterpretation:p.channelInterpretation,detune:p.detune.value,frequency:p.frequency.value,gain:p.gain.value,type:p.type};p=n(f,_)}return l.set(f,p),m?(await c(f,u.Q,p.Q),await c(f,u.detune,p.detune),await c(f,u.frequency,p.frequency),await c(f,u.gain,p.gain)):(await r(f,u.Q,p.Q),await r(f,u.detune,p.detune),await r(f,u.frequency,p.frequency),await r(f,u.gain,p.gain)),await o(u,f,p),p};return{render(u,f){const p=l.get(f);return p!==void 0?Promise.resolve(p):h(u,f)}}},Gb=(c,n)=>(s,r)=>{const o=n.get(s);if(o!==void 0)return o;const l=c.get(s);if(l!==void 0)return l;try{const h=r();return h instanceof Promise?(c.set(s,h),h.catch(()=>!1).then(u=>(c.delete(s),n.set(s,u),u))):(n.set(s,h),h)}catch{return n.set(s,!1),!1}},Pb={channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:6},Zb=(c,n,s,r,o)=>class extends c{constructor(h,u){const f=r(h),p={...Pb,...u},m=s(f,p),_=o(f)?n():null;super(h,!1,m,_)}},Yb=(c,n,s)=>()=>{const r=new WeakMap,o=async(l,h)=>{let u=n(l);if(!cn(u,h)){const p={channelCount:u.channelCount,channelCountMode:u.channelCountMode,channelInterpretation:u.channelInterpretation,numberOfInputs:u.numberOfInputs};u=c(h,p)}return r.set(h,u),await s(l,h,u),u};return{render(l,h){const u=r.get(h);return u!==void 0?Promise.resolve(u):o(l,h)}}},Xb={channelCount:6,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:6},Wb=(c,n,s,r,o,l)=>class extends c{constructor(u,f){const p=r(u),m=l({...Xb,...f}),_=s(p,m),b=o(p)?n():null;super(u,!1,_,b)}},Qb=(c,n,s)=>()=>{const r=new WeakMap,o=async(l,h)=>{let u=n(l);if(!cn(u,h)){const p={channelCount:u.channelCount,channelCountMode:u.channelCountMode,channelInterpretation:u.channelInterpretation,numberOfOutputs:u.numberOfOutputs};u=c(h,p)}return r.set(h,u),await s(l,h,u),u};return{render(l,h){const u=r.get(h);return u!==void 0?Promise.resolve(u):o(l,h)}}},Kb=c=>(n,s,r)=>c(s,n,r),Jb=c=>(n,s,r=0,o=0)=>{const l=n[r];if(l===void 0)throw c();return Zl(s)?l.connect(s,0,o):l.connect(s,0)},$b=c=>(n,s)=>{const r=c(n,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),o=n.createBuffer(1,2,44100);return r.buffer=o,r.loop=!0,r.connect(s),r.start(),()=>{r.stop(),r.disconnect(s)}},tx={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",offset:1},ex=(c,n,s,r,o,l,h)=>class extends c{constructor(f,p){const m=o(f),_={...tx,...p},b=r(m,_),v=l(m),x=v?s():null;super(f,!1,b,x),this._constantSourceNodeRenderer=x,this._nativeConstantSourceNode=b,this._offset=n(this,v,b.offset,dn,wn),this._onended=null}get offset(){return this._offset}get onended(){return this._onended}set onended(f){const p=typeof f=="function"?h(this,f):null;this._nativeConstantSourceNode.onended=p;const m=this._nativeConstantSourceNode.onended;this._onended=m!==null&&m===p?f:m}start(f=0){if(this._nativeConstantSourceNode.start(f),this._constantSourceNodeRenderer!==null&&(this._constantSourceNodeRenderer.start=f),this.context.state!=="closed"){Fr(this);const p=()=>{this._nativeConstantSourceNode.removeEventListener("ended",p),qs(this)&&oo(this)};this._nativeConstantSourceNode.addEventListener("ended",p)}}stop(f=0){this._nativeConstantSourceNode.stop(f),this._constantSourceNodeRenderer!==null&&(this._constantSourceNodeRenderer.stop=f)}},nx=(c,n,s,r,o)=>()=>{const l=new WeakMap;let h=null,u=null;const f=async(p,m)=>{let _=s(p);const b=cn(_,m);if(!b){const v={channelCount:_.channelCount,channelCountMode:_.channelCountMode,channelInterpretation:_.channelInterpretation,offset:_.offset.value};_=n(m,v),h!==null&&_.start(h),u!==null&&_.stop(u)}return l.set(m,_),b?await c(m,p.offset,_.offset):await r(m,p.offset,_.offset),await o(p,m,_),_};return{set start(p){h=p},set stop(p){u=p},render(p,m){const _=l.get(m);return _!==void 0?Promise.resolve(_):f(p,m)}}},sx=c=>n=>(c[0]=n,c[0]),ix={buffer:null,channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",disableNormalization:!1},rx=(c,n,s,r,o,l)=>class extends c{constructor(u,f){const p=r(u),m={...ix,...f},_=s(p,m),v=o(p)?n():null;super(u,!1,_,v),this._isBufferNullified=!1,this._nativeConvolverNode=_,m.buffer!==null&&l(this,m.buffer.duration)}get buffer(){return this._isBufferNullified?null:this._nativeConvolverNode.buffer}set buffer(u){if(this._nativeConvolverNode.buffer=u,u===null&&this._nativeConvolverNode.buffer!==null){const f=this._nativeConvolverNode.context;this._nativeConvolverNode.buffer=f.createBuffer(1,1,f.sampleRate),this._isBufferNullified=!0,l(this,0)}else this._isBufferNullified=!1,l(this,this._nativeConvolverNode.buffer===null?0:this._nativeConvolverNode.buffer.duration)}get normalize(){return this._nativeConvolverNode.normalize}set normalize(u){this._nativeConvolverNode.normalize=u}},ax=(c,n,s)=>()=>{const r=new WeakMap,o=async(l,h)=>{let u=n(l);if(!cn(u,h)){const p={buffer:u.buffer,channelCount:u.channelCount,channelCountMode:u.channelCountMode,channelInterpretation:u.channelInterpretation,disableNormalization:!u.normalize};u=c(h,p)}return r.set(h,u),Qr(u)?await s(l,h,u.inputs[0]):await s(l,h,u),u};return{render(l,h){const u=r.get(h);return u!==void 0?Promise.resolve(u):o(l,h)}}},ox=(c,n)=>(s,r,o)=>{if(n===null)throw new Error("Missing the native OfflineAudioContext constructor.");try{return new n(s,r,o)}catch(l){throw l.name==="SyntaxError"?c():l}},lx=()=>new DOMException("","DataCloneError"),a0=c=>{const{port1:n,port2:s}=new MessageChannel;return new Promise(r=>{const o=()=>{s.onmessage=null,n.close(),s.close(),r()};s.onmessage=()=>o();try{n.postMessage(c,[c])}catch{}finally{o()}})},cx=(c,n,s,r,o,l,h,u,f,p,m)=>(_,b)=>{const v=h(_)?_:l(_);if(o.has(b)){const x=s();return Promise.reject(x)}try{o.add(b)}catch{}return n(f,()=>f(v))?v.decodeAudioData(b).then(x=>(a0(b).catch(()=>{}),n(u,()=>u(x))||m(x),c.add(x),x)):new Promise((x,y)=>{const S=async()=>{try{await a0(b)}catch{}},w=C=>{y(C),S()};try{v.decodeAudioData(b,C=>{typeof C.copyFromChannel!="function"&&(p(C),yf(C)),c.add(C),S().then(()=>x(C))},C=>{w(C===null?r():C)})}catch(C){w(C)}})},ux=(c,n,s,r,o,l,h,u)=>(f,p)=>{const m=n.get(f);if(m===void 0)throw new Error("Missing the expected cycle count.");const _=l(f.context),b=u(_);if(m===p){if(n.delete(f),!b&&h(f)){const v=r(f),{outputs:x}=s(f);for(const y of x)if(co(y)){const S=r(y[0]);c(v,S,y[1],y[2])}else{const S=o(y[0]);v.connect(S,y[1])}}}else n.set(f,m-p)},hx={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",delayTime:0,maxDelayTime:1},fx=(c,n,s,r,o,l,h)=>class extends c{constructor(f,p){const m=o(f),_={...hx,...p},b=r(m,_),v=l(m),x=v?s(_.maxDelayTime):null;super(f,!1,b,x),this._delayTime=n(this,v,b.delayTime),h(this,_.maxDelayTime)}get delayTime(){return this._delayTime}},dx=(c,n,s,r,o)=>l=>{const h=new WeakMap,u=async(f,p)=>{let m=s(f);const _=cn(m,p);if(!_){const b={channelCount:m.channelCount,channelCountMode:m.channelCountMode,channelInterpretation:m.channelInterpretation,delayTime:m.delayTime.value,maxDelayTime:l};m=n(p,b)}return h.set(p,m),_?await c(p,f.delayTime,m.delayTime):await r(p,f.delayTime,m.delayTime),await o(f,p,m),m};return{render(f,p){const m=h.get(p);return m!==void 0?Promise.resolve(m):u(f,p)}}},px=c=>(n,s,r,o)=>c(n[o],l=>l[0]===s&&l[1]===r),mx=c=>(n,s)=>{c(n).delete(s)},gx=c=>"delayTime"in c,_x=(c,n,s)=>function r(o,l){const h=Hl(l)?l:s(c,l);if(gx(h))return[];if(o[0]===h)return[o];if(o.includes(h))return[];const{outputs:u}=n(h);return Array.from(u).map(f=>r([...o,h],f[0])).reduce((f,p)=>f.concat(p),[])},Rl=(c,n,s)=>{const r=n[s];if(r===void 0)throw c();return r},vx=c=>(n,s=void 0,r=void 0,o=0)=>s===void 0?n.forEach(l=>l.disconnect()):typeof s=="number"?Rl(c,n,s).disconnect():Zl(s)?r===void 0?n.forEach(l=>l.disconnect(s)):o===void 0?Rl(c,n,r).disconnect(s,0):Rl(c,n,r).disconnect(s,0,o):r===void 0?n.forEach(l=>l.disconnect(s)):Rl(c,n,r).disconnect(s,0),yx={attack:.003,channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",knee:30,ratio:12,release:.25,threshold:-24},bx=(c,n,s,r,o,l,h,u)=>class extends c{constructor(p,m){const _=l(p),b={...yx,...m},v=r(_,b),x=h(_),y=x?s():null;super(p,!1,v,y),this._attack=n(this,x,v.attack),this._knee=n(this,x,v.knee),this._nativeDynamicsCompressorNode=v,this._ratio=n(this,x,v.ratio),this._release=n(this,x,v.release),this._threshold=n(this,x,v.threshold),u(this,.006)}get attack(){return this._attack}get channelCount(){return this._nativeDynamicsCompressorNode.channelCount}set channelCount(p){const m=this._nativeDynamicsCompressorNode.channelCount;if(this._nativeDynamicsCompressorNode.channelCount=p,p>2)throw this._nativeDynamicsCompressorNode.channelCount=m,o()}get channelCountMode(){return this._nativeDynamicsCompressorNode.channelCountMode}set channelCountMode(p){const m=this._nativeDynamicsCompressorNode.channelCountMode;if(this._nativeDynamicsCompressorNode.channelCountMode=p,p==="max")throw this._nativeDynamicsCompressorNode.channelCountMode=m,o()}get knee(){return this._knee}get ratio(){return this._ratio}get reduction(){return typeof this._nativeDynamicsCompressorNode.reduction.value=="number"?this._nativeDynamicsCompressorNode.reduction.value:this._nativeDynamicsCompressorNode.reduction}get release(){return this._release}get threshold(){return this._threshold}},xx=(c,n,s,r,o)=>()=>{const l=new WeakMap,h=async(u,f)=>{let p=s(u);const m=cn(p,f);if(!m){const _={attack:p.attack.value,channelCount:p.channelCount,channelCountMode:p.channelCountMode,channelInterpretation:p.channelInterpretation,knee:p.knee.value,ratio:p.ratio.value,release:p.release.value,threshold:p.threshold.value};p=n(f,_)}return l.set(f,p),m?(await c(f,u.attack,p.attack),await c(f,u.knee,p.knee),await c(f,u.ratio,p.ratio),await c(f,u.release,p.release),await c(f,u.threshold,p.threshold)):(await r(f,u.attack,p.attack),await r(f,u.knee,p.knee),await r(f,u.ratio,p.ratio),await r(f,u.release,p.release),await r(f,u.threshold,p.threshold)),await o(u,f,p),p};return{render(u,f){const p=l.get(f);return p!==void 0?Promise.resolve(p):h(u,f)}}},Sx=()=>new DOMException("","EncodingError"),wx=c=>n=>new Promise((s,r)=>{if(c===null){r(new SyntaxError);return}const o=c.document.head;if(o===null)r(new SyntaxError);else{const l=c.document.createElement("script"),h=new Blob([n],{type:"application/javascript"}),u=URL.createObjectURL(h),f=c.onerror,p=()=>{c.onerror=f,URL.revokeObjectURL(u)};c.onerror=(m,_,b,v,x)=>{if(_===u||_===c.location.href&&b===1&&v===1)return p(),r(x),!1;if(f!==null)return f(m,_,b,v,x)},l.onerror=()=>{p(),r(new SyntaxError)},l.onload=()=>{p(),s()},l.src=u,l.type="module",o.appendChild(l)}}),Tx=c=>class{constructor(s){this._nativeEventTarget=s,this._listeners=new WeakMap}addEventListener(s,r,o){if(r!==null){let l=this._listeners.get(r);l===void 0&&(l=c(this,r),typeof r=="function"&&this._listeners.set(r,l)),this._nativeEventTarget.addEventListener(s,l,o)}}dispatchEvent(s){return this._nativeEventTarget.dispatchEvent(s)}removeEventListener(s,r,o){const l=r===null?void 0:this._listeners.get(r);this._nativeEventTarget.removeEventListener(s,l===void 0?null:l,o)}},Ax=c=>(n,s,r)=>{Object.defineProperties(c,{currentFrame:{configurable:!0,get(){return Math.round(n*s)}},currentTime:{configurable:!0,get(){return n}}});try{return r()}finally{c!==null&&(delete c.currentFrame,delete c.currentTime)}},Nx=c=>async n=>{try{const s=await fetch(n);if(s.ok)return[await s.text(),s.url]}catch{}throw c()},kx={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",gain:1},Cx=(c,n,s,r,o,l)=>class extends c{constructor(u,f){const p=o(u),m={...kx,...f},_=r(p,m),b=l(p),v=b?s():null;super(u,!1,_,v),this._gain=n(this,b,_.gain,dn,wn)}get gain(){return this._gain}},Ex=(c,n,s,r,o)=>()=>{const l=new WeakMap,h=async(u,f)=>{let p=s(u);const m=cn(p,f);if(!m){const _={channelCount:p.channelCount,channelCountMode:p.channelCountMode,channelInterpretation:p.channelInterpretation,gain:p.gain.value};p=n(f,_)}return l.set(f,p),m?await c(f,u.gain,p.gain):await r(f,u.gain,p.gain),await o(u,f,p),p};return{render(u,f){const p=l.get(f);return p!==void 0?Promise.resolve(p):h(u,f)}}},Ox=(c,n)=>s=>n(c,s),Mx=c=>n=>{const s=c(n);if(s.renderer===null)throw new Error("Missing the renderer of the given AudioNode in the audio graph.");return s.renderer},Dx=c=>n=>{var s;return(s=c.get(n))!==null&&s!==void 0?s:0},Rx=c=>n=>{const s=c(n);if(s.renderer===null)throw new Error("Missing the renderer of the given AudioParam in the audio graph.");return s.renderer},jx=c=>n=>c.get(n),Je=()=>new DOMException("","InvalidStateError"),zx=c=>n=>{const s=c.get(n);if(s===void 0)throw Je();return s},Ux=(c,n)=>s=>{let r=c.get(s);if(r!==void 0)return r;if(n===null)throw new Error("Missing the native OfflineAudioContext constructor.");return r=new n(1,1,44100),c.set(s,r),r},Bx=c=>n=>{const s=c.get(n);if(s===void 0)throw new Error("The context has no set of AudioWorkletNodes.");return s},sc=()=>new DOMException("","InvalidAccessError"),Ix=c=>{c.getFrequencyResponse=(n=>(s,r,o)=>{if(s.length!==r.length||r.length!==o.length)throw sc();return n.call(c,s,r,o)})(c.getFrequencyResponse)},qx={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers"},Vx=(c,n,s,r,o,l)=>class extends c{constructor(u,f){const p=r(u),m=o(p),_={...qx,...f},b=n(p,m?null:u.baseLatency,_),v=m?s(_.feedback,_.feedforward):null;super(u,!1,b,v),Ix(b),this._nativeIIRFilterNode=b,l(this,1)}getFrequencyResponse(u,f,p){return this._nativeIIRFilterNode.getFrequencyResponse(u,f,p)}},g_=(c,n,s,r,o,l,h,u,f,p,m)=>{const _=p.length;let b=u;for(let v=0;v<_;v+=1){let x=s[0]*p[v];for(let y=1;y<o;y+=1){const S=b-y&f-1;x+=s[y]*l[S],x-=c[y]*h[S]}for(let y=o;y<r;y+=1)x+=s[y]*l[b-y&f-1];for(let y=o;y<n;y+=1)x-=c[y]*h[b-y&f-1];l[b]=p[v],h[b]=x,b=b+1&f-1,m[v]=x}return b},Lx=(c,n,s,r)=>{const o=s instanceof Float64Array?s:new Float64Array(s),l=r instanceof Float64Array?r:new Float64Array(r),h=o.length,u=l.length,f=Math.min(h,u);if(o[0]!==1){for(let x=0;x<h;x+=1)l[x]/=o[0];for(let x=1;x<u;x+=1)o[x]/=o[0]}const p=32,m=new Float32Array(p),_=new Float32Array(p),b=n.createBuffer(c.numberOfChannels,c.length,c.sampleRate),v=c.numberOfChannels;for(let x=0;x<v;x+=1){const y=c.getChannelData(x),S=b.getChannelData(x);m.fill(0),_.fill(0),g_(o,h,l,u,f,m,_,0,p,y,S)}return b},Fx=(c,n,s,r,o)=>(l,h)=>{const u=new WeakMap;let f=null;const p=async(m,_)=>{let b=null,v=n(m);const x=cn(v,_);if(_.createIIRFilter===void 0?b=c(_,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}):x||(v=_.createIIRFilter(h,l)),u.set(_,b===null?v:b),b!==null){if(f===null){if(s===null)throw new Error("Missing the native OfflineAudioContext constructor.");const S=new s(m.context.destination.channelCount,m.context.length,_.sampleRate);f=(async()=>{await r(m,S,S.destination);const w=await o(S);return Lx(w,_,l,h)})()}const y=await f;return b.buffer=y,b.start(0),b}return await r(m,_,v),v};return{render(m,_){const b=u.get(_);return b!==void 0?Promise.resolve(b):p(m,_)}}},Hx=(c,n,s,r,o,l)=>h=>(u,f)=>{const p=c.get(u);if(p===void 0){if(!h&&l(u)){const m=r(u),{outputs:_}=s(u);for(const b of _)if(co(b)){const v=r(b[0]);n(m,v,b[1],b[2])}else{const v=o(b[0]);m.disconnect(v,b[1])}}c.set(u,f)}else c.set(u,p+f)},Gx=(c,n)=>s=>{const r=c.get(s);return n(r)||n(s)},Px=(c,n)=>s=>c.has(s)||n(s),Zx=(c,n)=>s=>c.has(s)||n(s),Yx=(c,n)=>s=>{const r=c.get(s);return n(r)||n(s)},Xx=c=>n=>c!==null&&n instanceof c,Wx=c=>n=>c!==null&&typeof c.AudioNode=="function"&&n instanceof c.AudioNode,Qx=c=>n=>c!==null&&typeof c.AudioParam=="function"&&n instanceof c.AudioParam,Kx=(c,n)=>s=>c(s)||n(s),Jx=c=>n=>c!==null&&n instanceof c,$x=c=>c!==null&&c.isSecureContext,t2=(c,n,s,r)=>class extends c{constructor(l,h){const u=s(l),f=n(u,h);if(r(u))throw TypeError();super(l,!0,f,null),this._nativeMediaElementAudioSourceNode=f}get mediaElement(){return this._nativeMediaElementAudioSourceNode.mediaElement}},e2={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers"},n2=(c,n,s,r)=>class extends c{constructor(l,h){const u=s(l);if(r(u))throw new TypeError;const f={...e2,...h},p=n(u,f);super(l,!1,p,null),this._nativeMediaStreamAudioDestinationNode=p}get stream(){return this._nativeMediaStreamAudioDestinationNode.stream}},s2=(c,n,s,r)=>class extends c{constructor(l,h){const u=s(l),f=n(u,h);if(r(u))throw new TypeError;super(l,!0,f,null),this._nativeMediaStreamAudioSourceNode=f}get mediaStream(){return this._nativeMediaStreamAudioSourceNode.mediaStream}},i2=(c,n,s)=>class extends c{constructor(o,l){const h=s(o),u=n(h,l);super(o,!0,u,null)}},r2=(c,n,s,r,o,l)=>class extends s{constructor(u,f){super(u),this._nativeContext=u,ec.set(this,u),r(u)&&o.set(u,new Set),this._destination=new c(this,f),this._listener=n(this,u),this._onstatechange=null}get currentTime(){return this._nativeContext.currentTime}get destination(){return this._destination}get listener(){return this._listener}get onstatechange(){return this._onstatechange}set onstatechange(u){const f=typeof u=="function"?l(this,u):null;this._nativeContext.onstatechange=f;const p=this._nativeContext.onstatechange;this._onstatechange=p!==null&&p===f?u:p}get sampleRate(){return this._nativeContext.sampleRate}get state(){return this._nativeContext.state}},so=c=>{const n=new Uint32Array([1179011410,40,1163280727,544501094,16,131073,44100,176400,1048580,1635017060,4,0]);try{const s=c.decodeAudioData(n.buffer,()=>{});return s===void 0?!1:(s.catch(()=>{}),!0)}catch{}return!1},a2=(c,n)=>(s,r,o)=>{const l=new Set;return s.connect=(h=>(u,f=0,p=0)=>{const m=l.size===0;if(n(u))return h.call(s,u,f,p),c(l,[u,f,p],_=>_[0]===u&&_[1]===f&&_[2]===p,!0),m&&r(),u;h.call(s,u,f),c(l,[u,f],_=>_[0]===u&&_[1]===f,!0),m&&r()})(s.connect),s.disconnect=(h=>(u,f,p)=>{const m=l.size>0;if(u===void 0)h.apply(s),l.clear();else if(typeof u=="number"){h.call(s,u);for(const b of l)b[1]===u&&l.delete(b)}else{n(u)?h.call(s,u,f,p):h.call(s,u,f);for(const b of l)b[0]===u&&(f===void 0||b[1]===f)&&(p===void 0||b[2]===p)&&l.delete(b)}const _=l.size===0;m&&_&&o()})(s.disconnect),s},we=(c,n,s)=>{const r=n[s];r!==void 0&&r!==c[s]&&(c[s]=r)},Xe=(c,n)=>{we(c,n,"channelCount"),we(c,n,"channelCountMode"),we(c,n,"channelInterpretation")},o0=c=>typeof c.getFloatTimeDomainData=="function",o2=c=>{c.getFloatTimeDomainData=n=>{const s=new Uint8Array(n.length);c.getByteTimeDomainData(s);const r=Math.max(s.length,c.fftSize);for(let o=0;o<r;o+=1)n[o]=(s[o]-128)*.0078125;return n}},l2=(c,n)=>(s,r)=>{const o=s.createAnalyser();if(Xe(o,r),!(r.maxDecibels>r.minDecibels))throw n();return we(o,r,"fftSize"),we(o,r,"maxDecibels"),we(o,r,"minDecibels"),we(o,r,"smoothingTimeConstant"),c(o0,()=>o0(o))||o2(o),o},c2=c=>c===null?null:c.hasOwnProperty("AudioBuffer")?c.AudioBuffer:null,De=(c,n,s)=>{const r=n[s];r!==void 0&&r!==c[s].value&&(c[s].value=r)},u2=c=>{c.start=(n=>{let s=!1;return(r=0,o=0,l)=>{if(s)throw Je();n.call(c,r,o,l),s=!0}})(c.start)},Sf=c=>{c.start=(n=>(s=0,r=0,o)=>{if(typeof o=="number"&&o<0||r<0||s<0)throw new RangeError("The parameters can't be negative.");n.call(c,s,r,o)})(c.start)},wf=c=>{c.stop=(n=>(s=0)=>{if(s<0)throw new RangeError("The parameter can't be negative.");n.call(c,s)})(c.stop)},h2=(c,n,s,r,o,l,h,u,f,p,m)=>(_,b)=>{const v=_.createBufferSource();return Xe(v,b),De(v,b,"playbackRate"),we(v,b,"buffer"),we(v,b,"loop"),we(v,b,"loopEnd"),we(v,b,"loopStart"),n(s,()=>s(_))||u2(v),n(r,()=>r(_))||f(v),n(o,()=>o(_))||p(v,_),n(l,()=>l(_))||Sf(v),n(h,()=>h(_))||m(v,_),n(u,()=>u(_))||wf(v),c(_,v),v},f2=c=>c===null?null:c.hasOwnProperty("AudioContext")?c.AudioContext:c.hasOwnProperty("webkitAudioContext")?c.webkitAudioContext:null,d2=(c,n)=>(s,r,o)=>{const l=s.destination;if(l.channelCount!==r)try{l.channelCount=r}catch{}o&&l.channelCountMode!=="explicit"&&(l.channelCountMode="explicit"),l.maxChannelCount===0&&Object.defineProperty(l,"maxChannelCount",{value:r});const h=c(s,{channelCount:r,channelCountMode:l.channelCountMode,channelInterpretation:l.channelInterpretation,gain:1});return n(h,"channelCount",u=>()=>u.call(h),u=>f=>{u.call(h,f);try{l.channelCount=f}catch(p){if(f>l.maxChannelCount)throw p}}),n(h,"channelCountMode",u=>()=>u.call(h),u=>f=>{u.call(h,f),l.channelCountMode=f}),n(h,"channelInterpretation",u=>()=>u.call(h),u=>f=>{u.call(h,f),l.channelInterpretation=f}),Object.defineProperty(h,"maxChannelCount",{get:()=>l.maxChannelCount}),h.connect(l),h},p2=c=>c===null?null:c.hasOwnProperty("AudioWorkletNode")?c.AudioWorkletNode:null,m2=c=>{const{port1:n}=new MessageChannel;try{n.postMessage(c)}finally{n.close()}},g2=(c,n,s,r,o)=>(l,h,u,f,p,m)=>{if(u!==null)try{const _=new u(l,f,m),b=new Map;let v=null;if(Object.defineProperties(_,{channelCount:{get:()=>m.channelCount,set:()=>{throw c()}},channelCountMode:{get:()=>"explicit",set:()=>{throw c()}},onprocessorerror:{get:()=>v,set:x=>{typeof v=="function"&&_.removeEventListener("processorerror",v),v=typeof x=="function"?x:null,typeof v=="function"&&_.addEventListener("processorerror",v)}}}),_.addEventListener=(x=>(...y)=>{if(y[0]==="processorerror"){const S=typeof y[1]=="function"?y[1]:typeof y[1]=="object"&&y[1]!==null&&typeof y[1].handleEvent=="function"?y[1].handleEvent:null;if(S!==null){const w=b.get(y[1]);w!==void 0?y[1]=w:(y[1]=C=>{C.type==="error"?(Object.defineProperties(C,{type:{value:"processorerror"}}),S(C)):S(new ErrorEvent(y[0],{...C}))},b.set(S,y[1]))}}return x.call(_,"error",y[1],y[2]),x.call(_,...y)})(_.addEventListener),_.removeEventListener=(x=>(...y)=>{if(y[0]==="processorerror"){const S=b.get(y[1]);S!==void 0&&(b.delete(y[1]),y[1]=S)}return x.call(_,"error",y[1],y[2]),x.call(_,y[0],y[1],y[2])})(_.removeEventListener),m.numberOfOutputs!==0){const x=s(l,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});return _.connect(x).connect(l.destination),o(_,()=>x.disconnect(),()=>x.connect(l.destination))}return _}catch(_){throw _.code===11?r():_}if(p===void 0)throw r();return m2(m),n(l,h,p,m)},__=(c,n)=>c===null?512:Math.max(512,Math.min(16384,Math.pow(2,Math.round(Math.log2(c*n))))),_2=c=>new Promise((n,s)=>{const{port1:r,port2:o}=new MessageChannel;r.onmessage=({data:l})=>{r.close(),o.close(),n(l)},r.onmessageerror=({data:l})=>{r.close(),o.close(),s(l)},o.postMessage(c)}),v2=async(c,n)=>{const s=await _2(n);return new c(s)},y2=(c,n,s,r)=>{let o=af.get(c);o===void 0&&(o=new WeakMap,af.set(c,o));const l=v2(s,r);return o.set(n,l),l},b2=(c,n,s,r,o,l,h,u,f,p,m,_,b)=>(v,x,y,S)=>{if(S.numberOfInputs===0&&S.numberOfOutputs===0)throw f();const w=Array.isArray(S.outputChannelCount)?S.outputChannelCount:Array.from(S.outputChannelCount);if(w.some($=>$<1))throw f();if(w.length!==S.numberOfOutputs)throw n();if(S.channelCountMode!=="explicit")throw f();const C=S.channelCount*S.numberOfInputs,M=w.reduce(($,J)=>$+J,0),O=y.parameterDescriptors===void 0?0:y.parameterDescriptors.length;if(C+O>6||M>6)throw f();const k=new MessageChannel,I=[],z=[];for(let $=0;$<S.numberOfInputs;$+=1)I.push(h(v,{channelCount:S.channelCount,channelCountMode:S.channelCountMode,channelInterpretation:S.channelInterpretation,gain:1})),z.push(o(v,{channelCount:S.channelCount,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:S.channelCount}));const D=[];if(y.parameterDescriptors!==void 0)for(const{defaultValue:$,maxValue:J,minValue:L,name:q}of y.parameterDescriptors){const X=l(v,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:S.parameterData[q]!==void 0?S.parameterData[q]:$===void 0?0:$});Object.defineProperties(X.offset,{defaultValue:{get:()=>$===void 0?0:$},maxValue:{get:()=>J===void 0?dn:J},minValue:{get:()=>L===void 0?wn:L}}),D.push(X)}const V=r(v,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:Math.max(1,C+O)}),Z=__(x,v.sampleRate),nt=u(v,Z,C+O,Math.max(1,M)),R=o(v,{channelCount:Math.max(1,M),channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:Math.max(1,M)}),W=[];for(let $=0;$<S.numberOfOutputs;$+=1)W.push(r(v,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:w[$]}));for(let $=0;$<S.numberOfInputs;$+=1){I[$].connect(z[$]);for(let J=0;J<S.channelCount;J+=1)z[$].connect(V,J,$*S.channelCount+J)}const T=new p_(y.parameterDescriptors===void 0?[]:y.parameterDescriptors.map(({name:$},J)=>{const L=D[J];return L.connect(V,0,C+J),L.start(0),[$,L.offset]}));V.connect(nt);let K=S.channelInterpretation,H=null;const G=S.numberOfOutputs===0?[nt]:W,ut={get bufferSize(){return Z},get channelCount(){return S.channelCount},set channelCount($){throw s()},get channelCountMode(){return S.channelCountMode},set channelCountMode($){throw s()},get channelInterpretation(){return K},set channelInterpretation($){for(const J of I)J.channelInterpretation=$;K=$},get context(){return nt.context},get inputs(){return I},get numberOfInputs(){return S.numberOfInputs},get numberOfOutputs(){return S.numberOfOutputs},get onprocessorerror(){return H},set onprocessorerror($){typeof H=="function"&&ut.removeEventListener("processorerror",H),H=typeof $=="function"?$:null,typeof H=="function"&&ut.addEventListener("processorerror",H)},get parameters(){return T},get port(){return k.port2},addEventListener(...$){return nt.addEventListener($[0],$[1],$[2])},connect:c.bind(null,G),disconnect:p.bind(null,G),dispatchEvent(...$){return nt.dispatchEvent($[0])},removeEventListener(...$){return nt.removeEventListener($[0],$[1],$[2])}},Y=new Map;k.port1.addEventListener=($=>(...J)=>{if(J[0]==="message"){const L=typeof J[1]=="function"?J[1]:typeof J[1]=="object"&&J[1]!==null&&typeof J[1].handleEvent=="function"?J[1].handleEvent:null;if(L!==null){const q=Y.get(J[1]);q!==void 0?J[1]=q:(J[1]=X=>{m(v.currentTime,v.sampleRate,()=>L(X))},Y.set(L,J[1]))}}return $.call(k.port1,J[0],J[1],J[2])})(k.port1.addEventListener),k.port1.removeEventListener=($=>(...J)=>{if(J[0]==="message"){const L=Y.get(J[1]);L!==void 0&&(Y.delete(J[1]),J[1]=L)}return $.call(k.port1,J[0],J[1],J[2])})(k.port1.removeEventListener);let U=null;Object.defineProperty(k.port1,"onmessage",{get:()=>U,set:$=>{typeof U=="function"&&k.port1.removeEventListener("message",U),U=typeof $=="function"?$:null,typeof U=="function"&&(k.port1.addEventListener("message",U),k.port1.start())}}),y.prototype.port=k.port1;let B=null;y2(v,ut,y,S).then($=>B=$);const lt=Xl(S.numberOfInputs,S.channelCount),ot=Xl(S.numberOfOutputs,w),tt=y.parameterDescriptors===void 0?[]:y.parameterDescriptors.reduce(($,{name:J})=>({...$,[J]:new Float32Array(128)}),{});let yt=!0;const Ot=()=>{S.numberOfOutputs>0&&nt.disconnect(R);for(let $=0,J=0;$<S.numberOfOutputs;$+=1){const L=W[$];for(let q=0;q<w[$];q+=1)R.disconnect(L,J+q,q);J+=w[$]}},st=new Map;nt.onaudioprocess=({inputBuffer:$,outputBuffer:J})=>{if(B!==null){const L=_(ut);for(let q=0;q<Z;q+=128){for(let X=0;X<S.numberOfInputs;X+=1)for(let ft=0;ft<S.channelCount;ft+=1)Yl($,lt[X],ft,ft,q);y.parameterDescriptors!==void 0&&y.parameterDescriptors.forEach(({name:X},ft)=>{Yl($,tt,X,C+ft,q)});for(let X=0;X<S.numberOfInputs;X+=1)for(let ft=0;ft<w[X];ft+=1)ot[X][ft].byteLength===0&&(ot[X][ft]=new Float32Array(128));try{const X=lt.map((dt,it)=>{if(L[it].size>0)return st.set(it,Z/128),dt;const St=st.get(it);return St===void 0?[]:(dt.every(xt=>xt.every(wt=>wt===0))&&(St===1?st.delete(it):st.set(it,St-1)),dt)});yt=m(v.currentTime+q/v.sampleRate,v.sampleRate,()=>B.process(X,ot,tt));for(let dt=0,it=0;dt<S.numberOfOutputs;dt+=1){for(let vt=0;vt<w[dt];vt+=1)m_(J,ot[dt],vt,it+vt,q);it+=w[dt]}}catch(X){yt=!1,ut.dispatchEvent(new ErrorEvent("processorerror",{colno:X.colno,filename:X.filename,lineno:X.lineno,message:X.message}))}if(!yt){for(let X=0;X<S.numberOfInputs;X+=1){I[X].disconnect(z[X]);for(let ft=0;ft<S.channelCount;ft+=1)z[q].disconnect(V,ft,X*S.channelCount+ft)}if(y.parameterDescriptors!==void 0){const X=y.parameterDescriptors.length;for(let ft=0;ft<X;ft+=1){const dt=D[ft];dt.disconnect(V,0,C+ft),dt.stop()}}V.disconnect(nt),nt.onaudioprocess=null,bt?Ot():Xt();break}}}};let bt=!1;const At=h(v,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0}),kt=()=>nt.connect(At).connect(v.destination),Xt=()=>{nt.disconnect(At),At.disconnect()},se=()=>{if(yt){Xt(),S.numberOfOutputs>0&&nt.connect(R);for(let $=0,J=0;$<S.numberOfOutputs;$+=1){const L=W[$];for(let q=0;q<w[$];q+=1)R.connect(L,J+q,q);J+=w[$]}}bt=!0},A=()=>{yt&&(kt(),Ot()),bt=!1};return kt(),b(ut,se,A)},v_=(c,n)=>{const s=c.createBiquadFilter();return Xe(s,n),De(s,n,"Q"),De(s,n,"detune"),De(s,n,"frequency"),De(s,n,"gain"),we(s,n,"type"),s},x2=(c,n)=>(s,r)=>{const o=s.createChannelMerger(r.numberOfInputs);return c!==null&&c.name==="webkitAudioContext"&&n(s,o),Xe(o,r),o},S2=c=>{const n=c.numberOfOutputs;Object.defineProperty(c,"channelCount",{get:()=>n,set:s=>{if(s!==n)throw Je()}}),Object.defineProperty(c,"channelCountMode",{get:()=>"explicit",set:s=>{if(s!=="explicit")throw Je()}}),Object.defineProperty(c,"channelInterpretation",{get:()=>"discrete",set:s=>{if(s!=="discrete")throw Je()}})},uo=(c,n)=>{const s=c.createChannelSplitter(n.numberOfOutputs);return Xe(s,n),S2(s),s},w2=(c,n,s,r,o)=>(l,h)=>{if(l.createConstantSource===void 0)return s(l,h);const u=l.createConstantSource();return Xe(u,h),De(u,h,"offset"),n(r,()=>r(l))||Sf(u),n(o,()=>o(l))||wf(u),c(l,u),u},Kr=(c,n)=>(c.connect=n.connect.bind(n),c.disconnect=n.disconnect.bind(n),c),T2=(c,n,s,r)=>(o,{offset:l,...h})=>{const u=o.createBuffer(1,2,44100),f=n(o,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),p=s(o,{...h,gain:l}),m=u.getChannelData(0);m[0]=1,m[1]=1,f.buffer=u,f.loop=!0;const _={get bufferSize(){},get channelCount(){return p.channelCount},set channelCount(x){p.channelCount=x},get channelCountMode(){return p.channelCountMode},set channelCountMode(x){p.channelCountMode=x},get channelInterpretation(){return p.channelInterpretation},set channelInterpretation(x){p.channelInterpretation=x},get context(){return p.context},get inputs(){return[]},get numberOfInputs(){return f.numberOfInputs},get numberOfOutputs(){return p.numberOfOutputs},get offset(){return p.gain},get onended(){return f.onended},set onended(x){f.onended=x},addEventListener(...x){return f.addEventListener(x[0],x[1],x[2])},dispatchEvent(...x){return f.dispatchEvent(x[0])},removeEventListener(...x){return f.removeEventListener(x[0],x[1],x[2])},start(x=0){f.start.call(f,x)},stop(x=0){f.stop.call(f,x)}},b=()=>f.connect(p),v=()=>f.disconnect(p);return c(o,f),r(Kr(_,p),b,v)},A2=(c,n)=>(s,r)=>{const o=s.createConvolver();if(Xe(o,r),r.disableNormalization===o.normalize&&(o.normalize=!r.disableNormalization),we(o,r,"buffer"),r.channelCount>2||(n(o,"channelCount",l=>()=>l.call(o),l=>h=>{if(h>2)throw c();return l.call(o,h)}),r.channelCountMode==="max"))throw c();return n(o,"channelCountMode",l=>()=>l.call(o),l=>h=>{if(h==="max")throw c();return l.call(o,h)}),o},y_=(c,n)=>{const s=c.createDelay(n.maxDelayTime);return Xe(s,n),De(s,n,"delayTime"),s},N2=c=>(n,s)=>{const r=n.createDynamicsCompressor();if(Xe(r,s),s.channelCount>2||s.channelCountMode==="max")throw c();return De(r,s,"attack"),De(r,s,"knee"),De(r,s,"ratio"),De(r,s,"release"),De(r,s,"threshold"),r},An=(c,n)=>{const s=c.createGain();return Xe(s,n),De(s,n,"gain"),s},k2=c=>(n,s,r)=>{if(n.createIIRFilter===void 0)return c(n,s,r);const o=n.createIIRFilter(r.feedforward,r.feedback);return Xe(o,r),o};function C2(c,n){const s=n[0]*n[0]+n[1]*n[1];return[(c[0]*n[0]+c[1]*n[1])/s,(c[1]*n[0]-c[0]*n[1])/s]}function E2(c,n){return[c[0]*n[0]-c[1]*n[1],c[0]*n[1]+c[1]*n[0]]}function l0(c,n){let s=[0,0];for(let r=c.length-1;r>=0;r-=1)s=E2(s,n),s[0]+=c[r];return s}const O2=(c,n,s,r)=>(o,l,{channelCount:h,channelCountMode:u,channelInterpretation:f,feedback:p,feedforward:m})=>{const _=__(l,o.sampleRate),b=p instanceof Float64Array?p:new Float64Array(p),v=m instanceof Float64Array?m:new Float64Array(m),x=b.length,y=v.length,S=Math.min(x,y);if(x===0||x>20)throw r();if(b[0]===0)throw n();if(y===0||y>20)throw r();if(v[0]===0)throw n();if(b[0]!==1){for(let D=0;D<y;D+=1)v[D]/=b[0];for(let D=1;D<x;D+=1)b[D]/=b[0]}const w=s(o,_,h,h);w.channelCount=h,w.channelCountMode=u,w.channelInterpretation=f;const C=32,M=[],O=[],k=[];for(let D=0;D<h;D+=1){M.push(0);const V=new Float32Array(C),Z=new Float32Array(C);V.fill(0),Z.fill(0),O.push(V),k.push(Z)}w.onaudioprocess=D=>{const V=D.inputBuffer,Z=D.outputBuffer,nt=V.numberOfChannels;for(let R=0;R<nt;R+=1){const W=V.getChannelData(R),T=Z.getChannelData(R);M[R]=g_(b,x,v,y,S,O[R],k[R],M[R],C,W,T)}};const I=o.sampleRate/2;return Kr({get bufferSize(){return _},get channelCount(){return w.channelCount},set channelCount(D){w.channelCount=D},get channelCountMode(){return w.channelCountMode},set channelCountMode(D){w.channelCountMode=D},get channelInterpretation(){return w.channelInterpretation},set channelInterpretation(D){w.channelInterpretation=D},get context(){return w.context},get inputs(){return[w]},get numberOfInputs(){return w.numberOfInputs},get numberOfOutputs(){return w.numberOfOutputs},addEventListener(...D){return w.addEventListener(D[0],D[1],D[2])},dispatchEvent(...D){return w.dispatchEvent(D[0])},getFrequencyResponse(D,V,Z){if(D.length!==V.length||V.length!==Z.length)throw c();const nt=D.length;for(let R=0;R<nt;R+=1){const W=-Math.PI*(D[R]/I),T=[Math.cos(W),Math.sin(W)],K=l0(v,T),H=l0(b,T),G=C2(K,H);V[R]=Math.sqrt(G[0]*G[0]+G[1]*G[1]),Z[R]=Math.atan2(G[1],G[0])}},removeEventListener(...D){return w.removeEventListener(D[0],D[1],D[2])}},w)},M2=(c,n)=>c.createMediaElementSource(n.mediaElement),D2=(c,n)=>{const s=c.createMediaStreamDestination();return Xe(s,n),s.numberOfOutputs===1&&Object.defineProperty(s,"numberOfOutputs",{get:()=>0}),s},R2=(c,{mediaStream:n})=>{const s=n.getAudioTracks();s.sort((l,h)=>l.id<h.id?-1:l.id>h.id?1:0);const r=s.slice(0,1),o=c.createMediaStreamSource(new MediaStream(r));return Object.defineProperty(o,"mediaStream",{value:n}),o},j2=(c,n)=>(s,{mediaStreamTrack:r})=>{if(typeof s.createMediaStreamTrackSource=="function")return s.createMediaStreamTrackSource(r);const o=new MediaStream([r]),l=s.createMediaStreamSource(o);if(r.kind!=="audio")throw c();if(n(s))throw new TypeError;return l},z2=c=>c===null?null:c.hasOwnProperty("OfflineAudioContext")?c.OfflineAudioContext:c.hasOwnProperty("webkitOfflineAudioContext")?c.webkitOfflineAudioContext:null,U2=(c,n,s,r,o,l)=>(h,u)=>{const f=h.createOscillator();return Xe(f,u),De(f,u,"detune"),De(f,u,"frequency"),u.periodicWave!==void 0?f.setPeriodicWave(u.periodicWave):we(f,u,"type"),n(s,()=>s(h))||Sf(f),n(r,()=>r(h))||l(f,h),n(o,()=>o(h))||wf(f),c(h,f),f},B2=c=>(n,s)=>{const r=n.createPanner();return r.orientationX===void 0?c(n,s):(Xe(r,s),De(r,s,"orientationX"),De(r,s,"orientationY"),De(r,s,"orientationZ"),De(r,s,"positionX"),De(r,s,"positionY"),De(r,s,"positionZ"),we(r,s,"coneInnerAngle"),we(r,s,"coneOuterAngle"),we(r,s,"coneOuterGain"),we(r,s,"distanceModel"),we(r,s,"maxDistance"),we(r,s,"panningModel"),we(r,s,"refDistance"),we(r,s,"rolloffFactor"),r)},I2=(c,n,s,r,o,l,h,u,f,p)=>(m,{coneInnerAngle:_,coneOuterAngle:b,coneOuterGain:v,distanceModel:x,maxDistance:y,orientationX:S,orientationY:w,orientationZ:C,panningModel:M,positionX:O,positionY:k,positionZ:I,refDistance:z,rolloffFactor:D,...V})=>{const Z=m.createPanner();if(V.channelCount>2||V.channelCountMode==="max")throw h();Xe(Z,V);const nt={channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete"},R=s(m,{...nt,channelInterpretation:"speakers",numberOfInputs:6}),W=r(m,{...V,gain:1}),T=r(m,{...nt,gain:1}),K=r(m,{...nt,gain:0}),H=r(m,{...nt,gain:0}),G=r(m,{...nt,gain:0}),ut=r(m,{...nt,gain:0}),Y=r(m,{...nt,gain:0}),U=o(m,256,6,1),B=l(m,{...nt,curve:new Float32Array([1,1]),oversample:"none"});let F=[S,w,C],lt=[O,k,I];const ot=new Float32Array(1);U.onaudioprocess=({inputBuffer:st})=>{const bt=[f(st,ot,0),f(st,ot,1),f(st,ot,2)];bt.some((kt,Xt)=>kt!==F[Xt])&&(Z.setOrientation(...bt),F=bt);const At=[f(st,ot,3),f(st,ot,4),f(st,ot,5)];At.some((kt,Xt)=>kt!==lt[Xt])&&(Z.setPosition(...At),lt=At)},Object.defineProperty(K.gain,"defaultValue",{get:()=>0}),Object.defineProperty(H.gain,"defaultValue",{get:()=>0}),Object.defineProperty(G.gain,"defaultValue",{get:()=>0}),Object.defineProperty(ut.gain,"defaultValue",{get:()=>0}),Object.defineProperty(Y.gain,"defaultValue",{get:()=>0});const tt={get bufferSize(){},get channelCount(){return Z.channelCount},set channelCount(st){if(st>2)throw h();W.channelCount=st,Z.channelCount=st},get channelCountMode(){return Z.channelCountMode},set channelCountMode(st){if(st==="max")throw h();W.channelCountMode=st,Z.channelCountMode=st},get channelInterpretation(){return Z.channelInterpretation},set channelInterpretation(st){W.channelInterpretation=st,Z.channelInterpretation=st},get coneInnerAngle(){return Z.coneInnerAngle},set coneInnerAngle(st){Z.coneInnerAngle=st},get coneOuterAngle(){return Z.coneOuterAngle},set coneOuterAngle(st){Z.coneOuterAngle=st},get coneOuterGain(){return Z.coneOuterGain},set coneOuterGain(st){if(st<0||st>1)throw n();Z.coneOuterGain=st},get context(){return Z.context},get distanceModel(){return Z.distanceModel},set distanceModel(st){Z.distanceModel=st},get inputs(){return[W]},get maxDistance(){return Z.maxDistance},set maxDistance(st){if(st<0)throw new RangeError;Z.maxDistance=st},get numberOfInputs(){return Z.numberOfInputs},get numberOfOutputs(){return Z.numberOfOutputs},get orientationX(){return T.gain},get orientationY(){return K.gain},get orientationZ(){return H.gain},get panningModel(){return Z.panningModel},set panningModel(st){Z.panningModel=st},get positionX(){return G.gain},get positionY(){return ut.gain},get positionZ(){return Y.gain},get refDistance(){return Z.refDistance},set refDistance(st){if(st<0)throw new RangeError;Z.refDistance=st},get rolloffFactor(){return Z.rolloffFactor},set rolloffFactor(st){if(st<0)throw new RangeError;Z.rolloffFactor=st},addEventListener(...st){return W.addEventListener(st[0],st[1],st[2])},dispatchEvent(...st){return W.dispatchEvent(st[0])},removeEventListener(...st){return W.removeEventListener(st[0],st[1],st[2])}};_!==tt.coneInnerAngle&&(tt.coneInnerAngle=_),b!==tt.coneOuterAngle&&(tt.coneOuterAngle=b),v!==tt.coneOuterGain&&(tt.coneOuterGain=v),x!==tt.distanceModel&&(tt.distanceModel=x),y!==tt.maxDistance&&(tt.maxDistance=y),S!==tt.orientationX.value&&(tt.orientationX.value=S),w!==tt.orientationY.value&&(tt.orientationY.value=w),C!==tt.orientationZ.value&&(tt.orientationZ.value=C),M!==tt.panningModel&&(tt.panningModel=M),O!==tt.positionX.value&&(tt.positionX.value=O),k!==tt.positionY.value&&(tt.positionY.value=k),I!==tt.positionZ.value&&(tt.positionZ.value=I),z!==tt.refDistance&&(tt.refDistance=z),D!==tt.rolloffFactor&&(tt.rolloffFactor=D),(F[0]!==1||F[1]!==0||F[2]!==0)&&Z.setOrientation(...F),(lt[0]!==0||lt[1]!==0||lt[2]!==0)&&Z.setPosition(...lt);const yt=()=>{W.connect(Z),c(W,B,0,0),B.connect(T).connect(R,0,0),B.connect(K).connect(R,0,1),B.connect(H).connect(R,0,2),B.connect(G).connect(R,0,3),B.connect(ut).connect(R,0,4),B.connect(Y).connect(R,0,5),R.connect(U).connect(m.destination)},Ot=()=>{W.disconnect(Z),u(W,B,0,0),B.disconnect(T),T.disconnect(R),B.disconnect(K),K.disconnect(R),B.disconnect(H),H.disconnect(R),B.disconnect(G),G.disconnect(R),B.disconnect(ut),ut.disconnect(R),B.disconnect(Y),Y.disconnect(R),R.disconnect(U),U.disconnect(m.destination)};return p(Kr(tt,Z),yt,Ot)},q2=c=>(n,{disableNormalization:s,imag:r,real:o})=>{const l=r instanceof Float32Array?r:new Float32Array(r),h=o instanceof Float32Array?o:new Float32Array(o),u=n.createPeriodicWave(h,l,{disableNormalization:s});if(Array.from(r).length<2)throw c();return u},ho=(c,n,s,r)=>c.createScriptProcessor(n,s,r),V2=(c,n)=>(s,r)=>{const o=r.channelCountMode;if(o==="clamped-max")throw n();if(s.createStereoPanner===void 0)return c(s,r);const l=s.createStereoPanner();return Xe(l,r),De(l,r,"pan"),Object.defineProperty(l,"channelCountMode",{get:()=>o,set:h=>{if(h!==o)throw n()}}),l},L2=(c,n,s,r,o,l)=>{const u=new Float32Array([1,1]),f=Math.PI/2,p={channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete"},m={...p,oversample:"none"},_=(x,y,S,w)=>{const C=new Float32Array(16385),M=new Float32Array(16385);for(let V=0;V<16385;V+=1){const Z=V/16384*f;C[V]=Math.cos(Z),M[V]=Math.sin(Z)}const O=s(x,{...p,gain:0}),k=r(x,{...m,curve:C}),I=r(x,{...m,curve:u}),z=s(x,{...p,gain:0}),D=r(x,{...m,curve:M});return{connectGraph(){y.connect(O),y.connect(I.inputs===void 0?I:I.inputs[0]),y.connect(z),I.connect(S),S.connect(k.inputs===void 0?k:k.inputs[0]),S.connect(D.inputs===void 0?D:D.inputs[0]),k.connect(O.gain),D.connect(z.gain),O.connect(w,0,0),z.connect(w,0,1)},disconnectGraph(){y.disconnect(O),y.disconnect(I.inputs===void 0?I:I.inputs[0]),y.disconnect(z),I.disconnect(S),S.disconnect(k.inputs===void 0?k:k.inputs[0]),S.disconnect(D.inputs===void 0?D:D.inputs[0]),k.disconnect(O.gain),D.disconnect(z.gain),O.disconnect(w,0,0),z.disconnect(w,0,1)}}},b=(x,y,S,w)=>{const C=new Float32Array(16385),M=new Float32Array(16385),O=new Float32Array(16385),k=new Float32Array(16385),I=Math.floor(16385/2);for(let G=0;G<16385;G+=1)if(G>I){const ut=(G-I)/(16384-I)*f;C[G]=Math.cos(ut),M[G]=Math.sin(ut),O[G]=0,k[G]=1}else{const ut=G/(16384-I)*f;C[G]=1,M[G]=0,O[G]=Math.cos(ut),k[G]=Math.sin(ut)}const z=n(x,{channelCount:2,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:2}),D=s(x,{...p,gain:0}),V=r(x,{...m,curve:C}),Z=s(x,{...p,gain:0}),nt=r(x,{...m,curve:M}),R=r(x,{...m,curve:u}),W=s(x,{...p,gain:0}),T=r(x,{...m,curve:O}),K=s(x,{...p,gain:0}),H=r(x,{...m,curve:k});return{connectGraph(){y.connect(z),y.connect(R.inputs===void 0?R:R.inputs[0]),z.connect(D,0),z.connect(Z,0),z.connect(W,1),z.connect(K,1),R.connect(S),S.connect(V.inputs===void 0?V:V.inputs[0]),S.connect(nt.inputs===void 0?nt:nt.inputs[0]),S.connect(T.inputs===void 0?T:T.inputs[0]),S.connect(H.inputs===void 0?H:H.inputs[0]),V.connect(D.gain),nt.connect(Z.gain),T.connect(W.gain),H.connect(K.gain),D.connect(w,0,0),W.connect(w,0,0),Z.connect(w,0,1),K.connect(w,0,1)},disconnectGraph(){y.disconnect(z),y.disconnect(R.inputs===void 0?R:R.inputs[0]),z.disconnect(D,0),z.disconnect(Z,0),z.disconnect(W,1),z.disconnect(K,1),R.disconnect(S),S.disconnect(V.inputs===void 0?V:V.inputs[0]),S.disconnect(nt.inputs===void 0?nt:nt.inputs[0]),S.disconnect(T.inputs===void 0?T:T.inputs[0]),S.disconnect(H.inputs===void 0?H:H.inputs[0]),V.disconnect(D.gain),nt.disconnect(Z.gain),T.disconnect(W.gain),H.disconnect(K.gain),D.disconnect(w,0,0),W.disconnect(w,0,0),Z.disconnect(w,0,1),K.disconnect(w,0,1)}}},v=(x,y,S,w,C)=>{if(y===1)return _(x,S,w,C);if(y===2)return b(x,S,w,C);throw o()};return(x,{channelCount:y,channelCountMode:S,pan:w,...C})=>{if(S==="max")throw o();const M=c(x,{...C,channelCount:1,channelCountMode:S,numberOfInputs:2}),O=s(x,{...C,channelCount:y,channelCountMode:S,gain:1}),k=s(x,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:w});let{connectGraph:I,disconnectGraph:z}=v(x,y,O,k,M);Object.defineProperty(k.gain,"defaultValue",{get:()=>0}),Object.defineProperty(k.gain,"maxValue",{get:()=>1}),Object.defineProperty(k.gain,"minValue",{get:()=>-1});const D={get bufferSize(){},get channelCount(){return O.channelCount},set channelCount(R){O.channelCount!==R&&(V&&z(),{connectGraph:I,disconnectGraph:z}=v(x,R,O,k,M),V&&I()),O.channelCount=R},get channelCountMode(){return O.channelCountMode},set channelCountMode(R){if(R==="clamped-max"||R==="max")throw o();O.channelCountMode=R},get channelInterpretation(){return O.channelInterpretation},set channelInterpretation(R){O.channelInterpretation=R},get context(){return O.context},get inputs(){return[O]},get numberOfInputs(){return O.numberOfInputs},get numberOfOutputs(){return O.numberOfOutputs},get pan(){return k.gain},addEventListener(...R){return O.addEventListener(R[0],R[1],R[2])},dispatchEvent(...R){return O.dispatchEvent(R[0])},removeEventListener(...R){return O.removeEventListener(R[0],R[1],R[2])}};let V=!1;const Z=()=>{I(),V=!0},nt=()=>{z(),V=!1};return l(Kr(D,M),Z,nt)}},F2=(c,n,s,r,o,l,h)=>(u,f)=>{const p=u.createWaveShaper();if(l!==null&&l.name==="webkitAudioContext"&&u.createGain().gain.automationRate===void 0)return s(u,f);Xe(p,f);const m=f.curve===null||f.curve instanceof Float32Array?f.curve:new Float32Array(f.curve);if(m!==null&&m.length<2)throw n();we(p,{curve:m},"curve"),we(p,f,"oversample");let _=null,b=!1;return h(p,"curve",y=>()=>y.call(p),y=>S=>(y.call(p,S),b&&(r(S)&&_===null?_=c(u,p):!r(S)&&_!==null&&(_(),_=null)),S)),o(p,()=>{b=!0,r(p.curve)&&(_=c(u,p))},()=>{b=!1,_!==null&&(_(),_=null)})},H2=(c,n,s,r,o)=>(l,{curve:h,oversample:u,...f})=>{const p=l.createWaveShaper(),m=l.createWaveShaper();Xe(p,f),Xe(m,f);const _=s(l,{...f,gain:1}),b=s(l,{...f,gain:-1}),v=s(l,{...f,gain:1}),x=s(l,{...f,gain:-1});let y=null,S=!1,w=null;const C={get bufferSize(){},get channelCount(){return p.channelCount},set channelCount(k){_.channelCount=k,b.channelCount=k,p.channelCount=k,v.channelCount=k,m.channelCount=k,x.channelCount=k},get channelCountMode(){return p.channelCountMode},set channelCountMode(k){_.channelCountMode=k,b.channelCountMode=k,p.channelCountMode=k,v.channelCountMode=k,m.channelCountMode=k,x.channelCountMode=k},get channelInterpretation(){return p.channelInterpretation},set channelInterpretation(k){_.channelInterpretation=k,b.channelInterpretation=k,p.channelInterpretation=k,v.channelInterpretation=k,m.channelInterpretation=k,x.channelInterpretation=k},get context(){return p.context},get curve(){return w},set curve(k){if(k!==null&&k.length<2)throw n();if(k===null)p.curve=k,m.curve=k;else{const I=k.length,z=new Float32Array(I+2-I%2),D=new Float32Array(I+2-I%2);z[0]=k[0],D[0]=-k[I-1];const V=Math.ceil((I+1)/2),Z=(I+1)/2-1;for(let nt=1;nt<V;nt+=1){const R=nt/V*Z,W=Math.floor(R),T=Math.ceil(R);z[nt]=W===T?k[W]:(1-(R-W))*k[W]+(1-(T-R))*k[T],D[nt]=W===T?-k[I-1-W]:-((1-(R-W))*k[I-1-W])-(1-(T-R))*k[I-1-T]}z[V]=I%2===1?k[V-1]:(k[V-2]+k[V-1])/2,p.curve=z,m.curve=D}w=k,S&&(r(w)&&y===null?y=c(l,_):y!==null&&(y(),y=null))},get inputs(){return[_]},get numberOfInputs(){return p.numberOfInputs},get numberOfOutputs(){return p.numberOfOutputs},get oversample(){return p.oversample},set oversample(k){p.oversample=k,m.oversample=k},addEventListener(...k){return _.addEventListener(k[0],k[1],k[2])},dispatchEvent(...k){return _.dispatchEvent(k[0])},removeEventListener(...k){return _.removeEventListener(k[0],k[1],k[2])}};h!==null&&(C.curve=h instanceof Float32Array?h:new Float32Array(h)),u!==C.oversample&&(C.oversample=u);const M=()=>{_.connect(p).connect(v),_.connect(b).connect(m).connect(x).connect(v),S=!0,r(w)&&(y=c(l,_))},O=()=>{_.disconnect(p),p.disconnect(v),_.disconnect(b),b.disconnect(m),m.disconnect(x),x.disconnect(v),S=!1,y!==null&&(y(),y=null)};return o(Kr(C,v),M,O)},mn=()=>new DOMException("","NotSupportedError"),G2={numberOfChannels:1},P2=(c,n,s,r,o)=>class extends c{constructor(h,u,f){let p;if(typeof h=="number"&&u!==void 0&&f!==void 0)p={length:u,numberOfChannels:h,sampleRate:f};else if(typeof h=="object")p=h;else throw new Error("The given parameters are not valid.");const{length:m,numberOfChannels:_,sampleRate:b}={...G2,...p},v=r(_,m,b);n(so,()=>so(v))||v.addEventListener("statechange",(()=>{let x=0;const y=S=>{this._state==="running"&&(x>0?(v.removeEventListener("statechange",y),S.stopImmediatePropagation(),this._waitForThePromiseToSettle(S)):x+=1)};return y})()),super(v,_),this._length=m,this._nativeOfflineAudioContext=v,this._state=null}get length(){return this._nativeOfflineAudioContext.length===void 0?this._length:this._nativeOfflineAudioContext.length}get state(){return this._state===null?this._nativeOfflineAudioContext.state:this._state}startRendering(){return this._state==="running"?Promise.reject(s()):(this._state="running",o(this.destination,this._nativeOfflineAudioContext).finally(()=>{this._state=null,u_(this)}))}_waitForThePromiseToSettle(h){this._state===null?this._nativeOfflineAudioContext.dispatchEvent(h):setTimeout(()=>this._waitForThePromiseToSettle(h))}},Z2={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",detune:0,frequency:440,periodicWave:void 0,type:"sine"},Y2=(c,n,s,r,o,l,h)=>class extends c{constructor(f,p){const m=o(f),_={...Z2,...p},b=s(m,_),v=l(m),x=v?r():null,y=f.sampleRate/2;super(f,!1,b,x),this._detune=n(this,v,b.detune,153600,-153600),this._frequency=n(this,v,b.frequency,y,-y),this._nativeOscillatorNode=b,this._onended=null,this._oscillatorNodeRenderer=x,this._oscillatorNodeRenderer!==null&&_.periodicWave!==void 0&&(this._oscillatorNodeRenderer.periodicWave=_.periodicWave)}get detune(){return this._detune}get frequency(){return this._frequency}get onended(){return this._onended}set onended(f){const p=typeof f=="function"?h(this,f):null;this._nativeOscillatorNode.onended=p;const m=this._nativeOscillatorNode.onended;this._onended=m!==null&&m===p?f:m}get type(){return this._nativeOscillatorNode.type}set type(f){this._nativeOscillatorNode.type=f,this._oscillatorNodeRenderer!==null&&(this._oscillatorNodeRenderer.periodicWave=null)}setPeriodicWave(f){this._nativeOscillatorNode.setPeriodicWave(f),this._oscillatorNodeRenderer!==null&&(this._oscillatorNodeRenderer.periodicWave=f)}start(f=0){if(this._nativeOscillatorNode.start(f),this._oscillatorNodeRenderer!==null&&(this._oscillatorNodeRenderer.start=f),this.context.state!=="closed"){Fr(this);const p=()=>{this._nativeOscillatorNode.removeEventListener("ended",p),qs(this)&&oo(this)};this._nativeOscillatorNode.addEventListener("ended",p)}}stop(f=0){this._nativeOscillatorNode.stop(f),this._oscillatorNodeRenderer!==null&&(this._oscillatorNodeRenderer.stop=f)}},X2=(c,n,s,r,o)=>()=>{const l=new WeakMap;let h=null,u=null,f=null;const p=async(m,_)=>{let b=s(m);const v=cn(b,_);if(!v){const x={channelCount:b.channelCount,channelCountMode:b.channelCountMode,channelInterpretation:b.channelInterpretation,detune:b.detune.value,frequency:b.frequency.value,periodicWave:h===null?void 0:h,type:b.type};b=n(_,x),u!==null&&b.start(u),f!==null&&b.stop(f)}return l.set(_,b),v?(await c(_,m.detune,b.detune),await c(_,m.frequency,b.frequency)):(await r(_,m.detune,b.detune),await r(_,m.frequency,b.frequency)),await o(m,_,b),b};return{set periodicWave(m){h=m},set start(m){u=m},set stop(m){f=m},render(m,_){const b=l.get(_);return b!==void 0?Promise.resolve(b):p(m,_)}}},W2={channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",coneInnerAngle:360,coneOuterAngle:360,coneOuterGain:0,distanceModel:"inverse",maxDistance:1e4,orientationX:1,orientationY:0,orientationZ:0,panningModel:"equalpower",positionX:0,positionY:0,positionZ:0,refDistance:1,rolloffFactor:1},Q2=(c,n,s,r,o,l,h)=>class extends c{constructor(f,p){const m=o(f),_={...W2,...p},b=s(m,_),v=l(m),x=v?r():null;super(f,!1,b,x),this._nativePannerNode=b,this._orientationX=n(this,v,b.orientationX,dn,wn),this._orientationY=n(this,v,b.orientationY,dn,wn),this._orientationZ=n(this,v,b.orientationZ,dn,wn),this._positionX=n(this,v,b.positionX,dn,wn),this._positionY=n(this,v,b.positionY,dn,wn),this._positionZ=n(this,v,b.positionZ,dn,wn),h(this,1)}get coneInnerAngle(){return this._nativePannerNode.coneInnerAngle}set coneInnerAngle(f){this._nativePannerNode.coneInnerAngle=f}get coneOuterAngle(){return this._nativePannerNode.coneOuterAngle}set coneOuterAngle(f){this._nativePannerNode.coneOuterAngle=f}get coneOuterGain(){return this._nativePannerNode.coneOuterGain}set coneOuterGain(f){this._nativePannerNode.coneOuterGain=f}get distanceModel(){return this._nativePannerNode.distanceModel}set distanceModel(f){this._nativePannerNode.distanceModel=f}get maxDistance(){return this._nativePannerNode.maxDistance}set maxDistance(f){this._nativePannerNode.maxDistance=f}get orientationX(){return this._orientationX}get orientationY(){return this._orientationY}get orientationZ(){return this._orientationZ}get panningModel(){return this._nativePannerNode.panningModel}set panningModel(f){this._nativePannerNode.panningModel=f}get positionX(){return this._positionX}get positionY(){return this._positionY}get positionZ(){return this._positionZ}get refDistance(){return this._nativePannerNode.refDistance}set refDistance(f){this._nativePannerNode.refDistance=f}get rolloffFactor(){return this._nativePannerNode.rolloffFactor}set rolloffFactor(f){this._nativePannerNode.rolloffFactor=f}},K2=(c,n,s,r,o,l,h,u,f,p)=>()=>{const m=new WeakMap;let _=null;const b=async(v,x)=>{let y=null,S=l(v);const w={channelCount:S.channelCount,channelCountMode:S.channelCountMode,channelInterpretation:S.channelInterpretation},C={...w,coneInnerAngle:S.coneInnerAngle,coneOuterAngle:S.coneOuterAngle,coneOuterGain:S.coneOuterGain,distanceModel:S.distanceModel,maxDistance:S.maxDistance,panningModel:S.panningModel,refDistance:S.refDistance,rolloffFactor:S.rolloffFactor},M=cn(S,x);if("bufferSize"in S)y=r(x,{...w,gain:1});else if(!M){const O={...C,orientationX:S.orientationX.value,orientationY:S.orientationY.value,orientationZ:S.orientationZ.value,positionX:S.positionX.value,positionY:S.positionY.value,positionZ:S.positionZ.value};S=o(x,O)}if(m.set(x,y===null?S:y),y!==null){if(_===null){if(h===null)throw new Error("Missing the native OfflineAudioContext constructor.");const nt=new h(6,v.context.length,x.sampleRate),R=n(nt,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:6});R.connect(nt.destination),_=(async()=>{const W=await Promise.all([v.orientationX,v.orientationY,v.orientationZ,v.positionX,v.positionY,v.positionZ].map(async(T,K)=>{const H=s(nt,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:K===0?1:0});return await u(nt,T,H.offset),H}));for(let T=0;T<6;T+=1)W[T].connect(R,0,T),W[T].start(0);return p(nt)})()}const O=await _,k=r(x,{...w,gain:1});await f(v,x,k);const I=[];for(let nt=0;nt<O.numberOfChannels;nt+=1)I.push(O.getChannelData(nt));let z=[I[0][0],I[1][0],I[2][0]],D=[I[3][0],I[4][0],I[5][0]],V=r(x,{...w,gain:1}),Z=o(x,{...C,orientationX:z[0],orientationY:z[1],orientationZ:z[2],positionX:D[0],positionY:D[1],positionZ:D[2]});k.connect(V).connect(Z.inputs[0]),Z.connect(y);for(let nt=128;nt<O.length;nt+=128){const R=[I[0][nt],I[1][nt],I[2][nt]],W=[I[3][nt],I[4][nt],I[5][nt]];if(R.some((T,K)=>T!==z[K])||W.some((T,K)=>T!==D[K])){z=R,D=W;const T=nt/x.sampleRate;V.gain.setValueAtTime(0,T),V=r(x,{...w,gain:0}),Z=o(x,{...C,orientationX:z[0],orientationY:z[1],orientationZ:z[2],positionX:D[0],positionY:D[1],positionZ:D[2]}),V.gain.setValueAtTime(1,T),k.connect(V).connect(Z.inputs[0]),Z.connect(y)}}return y}return M?(await c(x,v.orientationX,S.orientationX),await c(x,v.orientationY,S.orientationY),await c(x,v.orientationZ,S.orientationZ),await c(x,v.positionX,S.positionX),await c(x,v.positionY,S.positionY),await c(x,v.positionZ,S.positionZ)):(await u(x,v.orientationX,S.orientationX),await u(x,v.orientationY,S.orientationY),await u(x,v.orientationZ,S.orientationZ),await u(x,v.positionX,S.positionX),await u(x,v.positionY,S.positionY),await u(x,v.positionZ,S.positionZ)),Qr(S)?await f(v,x,S.inputs[0]):await f(v,x,S),S};return{render(v,x){const y=m.get(x);return y!==void 0?Promise.resolve(y):b(v,x)}}},J2={disableNormalization:!1},$2=(c,n,s,r)=>class b_{constructor(l,h){const u=n(l),f=r({...J2,...h}),p=c(u,f);return s.add(p),p}static[Symbol.hasInstance](l){return l!==null&&typeof l=="object"&&Object.getPrototypeOf(l)===b_.prototype||s.has(l)}},tS=(c,n)=>(s,r,o)=>(c(r).replay(o),n(r,s,o)),eS=(c,n,s)=>async(r,o,l)=>{const h=c(r);await Promise.all(h.activeInputs.map((u,f)=>Array.from(u).map(async([p,m])=>{const b=await n(p).render(p,o),v=r.context.destination;!s(p)&&(r!==v||!s(r))&&b.connect(l,m,f)})).reduce((u,f)=>[...u,...f],[]))},nS=(c,n,s)=>async(r,o,l)=>{const h=n(r);await Promise.all(Array.from(h.activeInputs).map(async([u,f])=>{const m=await c(u).render(u,o);s(u)||m.connect(l,f)}))},sS=(c,n,s,r)=>o=>c(so,()=>so(o))?Promise.resolve(c(r,r)).then(l=>{if(!l){const h=s(o,512,0,1);o.oncomplete=()=>{h.onaudioprocess=null,h.disconnect()},h.onaudioprocess=()=>o.currentTime,h.connect(o.destination)}return o.startRendering()}):new Promise(l=>{const h=n(o,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});o.oncomplete=u=>{h.disconnect(),l(u.renderedBuffer)},h.connect(o.destination),o.startRendering()}),iS=c=>(n,s)=>{c.set(n,s)},rS=c=>(n,s)=>c.set(n,s),aS=(c,n,s,r,o,l,h,u)=>(f,p)=>s(f).render(f,p).then(()=>Promise.all(Array.from(r(p)).map(m=>s(m).render(m,p)))).then(()=>o(p)).then(m=>(typeof m.copyFromChannel!="function"?(h(m),yf(m)):n(l,()=>l(m))||u(m),c.add(m),m)),oS={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers",pan:0},lS=(c,n,s,r,o,l)=>class extends c{constructor(u,f){const p=o(u),m={...oS,...f},_=s(p,m),b=l(p),v=b?r():null;super(u,!1,_,v),this._pan=n(this,b,_.pan)}get pan(){return this._pan}},cS=(c,n,s,r,o)=>()=>{const l=new WeakMap,h=async(u,f)=>{let p=s(u);const m=cn(p,f);if(!m){const _={channelCount:p.channelCount,channelCountMode:p.channelCountMode,channelInterpretation:p.channelInterpretation,pan:p.pan.value};p=n(f,_)}return l.set(f,p),m?await c(f,u.pan,p.pan):await r(f,u.pan,p.pan),Qr(p)?await o(u,f,p.inputs[0]):await o(u,f,p),p};return{render(u,f){const p=l.get(f);return p!==void 0?Promise.resolve(p):h(u,f)}}},uS=c=>()=>{if(c===null)return!1;try{new c({length:1,sampleRate:44100})}catch{return!1}return!0},hS=(c,n)=>async()=>{if(c===null)return!0;if(n===null)return!1;const s=new Blob(['class A extends AudioWorkletProcessor{process(i){this.port.postMessage(i,[i[0][0].buffer])}}registerProcessor("a",A)'],{type:"application/javascript; charset=utf-8"}),r=new n(1,128,44100),o=URL.createObjectURL(s);let l=!1,h=!1;try{await r.audioWorklet.addModule(o);const u=new c(r,"a",{numberOfOutputs:0}),f=r.createOscillator();u.port.onmessage=()=>l=!0,u.onprocessorerror=()=>h=!0,f.connect(u),f.start(0),await r.startRendering(),await new Promise(p=>setTimeout(p))}catch{}finally{URL.revokeObjectURL(o)}return l&&!h},fS=(c,n)=>()=>{if(n===null)return Promise.resolve(!1);const s=new n(1,1,44100),r=c(s,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});return new Promise(o=>{s.oncomplete=()=>{r.disconnect(),o(s.currentTime!==0)},s.startRendering()})},dS=()=>new DOMException("","UnknownError"),pS={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",curve:null,oversample:"none"},mS=(c,n,s,r,o,l,h)=>class extends c{constructor(f,p){const m=o(f),_={...pS,...p},b=s(m,_),x=l(m)?r():null;super(f,!0,b,x),this._isCurveNullified=!1,this._nativeWaveShaperNode=b,h(this,1)}get curve(){return this._isCurveNullified?null:this._nativeWaveShaperNode.curve}set curve(f){if(f===null)this._isCurveNullified=!0,this._nativeWaveShaperNode.curve=new Float32Array([0,0]);else{if(f.length<2)throw n();this._isCurveNullified=!1,this._nativeWaveShaperNode.curve=f}}get oversample(){return this._nativeWaveShaperNode.oversample}set oversample(f){this._nativeWaveShaperNode.oversample=f}},gS=(c,n,s)=>()=>{const r=new WeakMap,o=async(l,h)=>{let u=n(l);if(!cn(u,h)){const p={channelCount:u.channelCount,channelCountMode:u.channelCountMode,channelInterpretation:u.channelInterpretation,curve:u.curve,oversample:u.oversample};u=c(h,p)}return r.set(h,u),Qr(u)?await s(l,h,u.inputs[0]):await s(l,h,u),u};return{render(l,h){const u=r.get(h);return u!==void 0?Promise.resolve(u):o(l,h)}}},_S=()=>typeof window>"u"?null:window,vS=(c,n)=>s=>{s.copyFromChannel=(r,o,l=0)=>{const h=c(l),u=c(o);if(u>=s.numberOfChannels)throw n();const f=s.length,p=s.getChannelData(u),m=r.length;for(let _=h<0?-h:0;_+h<f&&_<m;_+=1)r[_]=p[_+h]},s.copyToChannel=(r,o,l=0)=>{const h=c(l),u=c(o);if(u>=s.numberOfChannels)throw n();const f=s.length,p=s.getChannelData(u),m=r.length;for(let _=h<0?-h:0;_+h<f&&_<m;_+=1)p[_+h]=r[_]}},yS=c=>n=>{n.copyFromChannel=(s=>(r,o,l=0)=>{const h=c(l),u=c(o);if(h<n.length)return s.call(n,r,u,h)})(n.copyFromChannel),n.copyToChannel=(s=>(r,o,l=0)=>{const h=c(l),u=c(o);if(h<n.length)return s.call(n,r,u,h)})(n.copyToChannel)},bS=c=>(n,s)=>{const r=s.createBuffer(1,1,44100);n.buffer===null&&(n.buffer=r),c(n,"buffer",o=>()=>{const l=o.call(n);return l===r?null:l},o=>l=>o.call(n,l===null?r:l))},xS=(c,n)=>(s,r)=>{r.channelCount=1,r.channelCountMode="explicit",Object.defineProperty(r,"channelCount",{get:()=>1,set:()=>{throw c()}}),Object.defineProperty(r,"channelCountMode",{get:()=>"explicit",set:()=>{throw c()}});const o=s.createBufferSource();n(r,()=>{const u=r.numberOfInputs;for(let f=0;f<u;f+=1)o.connect(r,0,f)},()=>o.disconnect(r))},x_=(c,n,s)=>c.copyFromChannel===void 0?c.getChannelData(s)[0]:(c.copyFromChannel(n,s),n[0]),S_=c=>{if(c===null)return!1;const n=c.length;return n%2!==0?c[Math.floor(n/2)]!==0:c[n/2-1]+c[n/2]!==0},fo=(c,n,s,r)=>{let o=c;for(;!o.hasOwnProperty(n);)o=Object.getPrototypeOf(o);const{get:l,set:h}=Object.getOwnPropertyDescriptor(o,n);Object.defineProperty(c,n,{get:s(l),set:r(h)})},SS=c=>({...c,outputChannelCount:c.outputChannelCount!==void 0?c.outputChannelCount:c.numberOfInputs===1&&c.numberOfOutputs===1?[c.channelCount]:Array.from({length:c.numberOfOutputs},()=>1)}),wS=c=>({...c,channelCount:c.numberOfOutputs}),TS=c=>{const{imag:n,real:s}=c;return n===void 0?s===void 0?{...c,imag:[0,0],real:[0,0]}:{...c,imag:Array.from(s,()=>0),real:s}:s===void 0?{...c,imag:n,real:Array.from(n,()=>0)}:{...c,imag:n,real:s}},w_=(c,n,s)=>{try{c.setValueAtTime(n,s)}catch(r){if(r.code!==9)throw r;w_(c,n,s+1e-7)}},AS=c=>{const n=c.createBufferSource();n.start();try{n.start()}catch{return!0}return!1},NS=c=>{const n=c.createBufferSource(),s=c.createBuffer(1,1,44100);n.buffer=s;try{n.start(0,1)}catch{return!1}return!0},kS=c=>{const n=c.createBufferSource();n.start();try{n.stop()}catch{return!1}return!0},Tf=c=>{const n=c.createOscillator();try{n.start(-1)}catch(s){return s instanceof RangeError}return!1},T_=c=>{const n=c.createBuffer(1,1,44100),s=c.createBufferSource();s.buffer=n,s.start(),s.stop();try{return s.stop(),!0}catch{return!1}},Af=c=>{const n=c.createOscillator();try{n.stop(-1)}catch(s){return s instanceof RangeError}return!1},CS=c=>{const{port1:n,port2:s}=new MessageChannel;try{n.postMessage(c)}finally{n.close(),s.close()}},ES=c=>{c.start=(n=>(s=0,r=0,o)=>{const l=c.buffer,h=l===null?r:Math.min(l.duration,r);l!==null&&h>l.duration-.5/c.context.sampleRate?n.call(c,s,0,0):n.call(c,s,h,o)})(c.start)},A_=(c,n)=>{const s=n.createGain();c.connect(s);const r=(o=>()=>{o.call(c,s),c.removeEventListener("ended",r)})(c.disconnect);c.addEventListener("ended",r),Kr(c,s),c.stop=(o=>{let l=!1;return(h=0)=>{if(l)try{o.call(c,h)}catch{s.gain.setValueAtTime(0,h)}else o.call(c,h),l=!0}})(c.stop)},Jr=(c,n)=>s=>{const r={value:c};return Object.defineProperties(s,{currentTarget:r,target:r}),typeof n=="function"?n.call(c,s):n.handleEvent.call(c,s)},OS=Q1(Qi),MS=nb(Qi),DS=px(nc),N_=new WeakMap,RS=Dx(N_),ls=Gb(new Map,new WeakMap),_s=_S(),k_=l2(ls,vs),Nf=Mx(pn),rn=eS(pn,Nf,Yi),jS=ob(k_,be,rn),_e=zx(ec),Ls=z2(_s),de=Jx(Ls),C_=new WeakMap,E_=Tx(Jr),po=f2(_s),kf=Xx(po),Cf=Wx(_s),O_=Qx(_s),io=p2(_s),Ue=Db(K1(s_),eb(OS,MS,Gl,DS,Pl,pn,RS,ao,be,Qi,qs,Yi,Il),ls,Hx(sf,Pl,pn,be,no,qs),vs,sc,mn,ux(Gl,sf,pn,be,no,_e,qs,de),_x(C_,pn,os),E_,_e,kf,Cf,O_,de,io),zS=ab(Ue,jS,vs,k_,_e,de),Ef=new WeakSet,c0=c2(_s),M_=sx(new Uint32Array(1)),Of=vS(M_,vs),Mf=yS(M_),D_=cb(Ef,ls,mn,c0,Ls,uS(c0),Of,Mf),ic=sb(An),R_=nS(Nf,lo,Yi),ys=Kb(R_),$r=h2(ic,ls,AS,NS,kS,Tf,T_,Af,ES,bS(fo),A_),bs=tS(Rx(lo),R_),US=fb(ys,$r,be,bs,rn),cs=Rb(J1(i_),C_,vf,jb,G1,P1,Z1,Y1,X1,tf,e_,po,w_),BS=hb(Ue,US,cs,Je,$r,_e,de,Jr),IS=xb(Ue,Sb,vs,Je,d2(An,fo),_e,de,rn),qS=Hb(ys,v_,be,bs,rn),Ki=rS(N_),VS=Fb(Ue,cs,qS,sc,v_,_e,de,Ki),bi=a2(Qi,Cf),LS=xS(Je,bi),xi=x2(po,LS),FS=Yb(xi,be,rn),HS=Zb(Ue,FS,xi,_e,de),GS=Qb(uo,be,rn),PS=Wb(Ue,GS,uo,_e,de,wS),ZS=T2(ic,$r,An,bi),ta=w2(ic,ls,ZS,Tf,Af),YS=nx(ys,ta,be,bs,rn),XS=ex(Ue,cs,YS,ta,_e,de,Jr),j_=A2(mn,fo),WS=ax(j_,be,rn),QS=rx(Ue,WS,j_,_e,de,Ki),KS=dx(ys,y_,be,bs,rn),JS=fx(Ue,cs,KS,y_,_e,de,Ki),z_=N2(mn),$S=xx(ys,z_,be,bs,rn),tw=bx(Ue,cs,$S,z_,mn,_e,de,Ki),ew=Ex(ys,An,be,bs,rn),nw=Cx(Ue,cs,ew,An,_e,de),sw=O2(sc,Je,ho,mn),rc=sS(ls,An,ho,fS(An,Ls)),iw=Fx($r,be,Ls,rn,rc),rw=k2(sw),aw=Vx(Ue,rw,iw,_e,de,Ki),ow=wb(cs,xi,ta,ho,mn,x_,de,fo),U_=new WeakMap,lw=r2(IS,ow,E_,de,U_,Jr),B_=U2(ic,ls,Tf,T_,Af,A_),cw=X2(ys,B_,be,bs,rn),uw=Y2(Ue,cs,B_,cw,_e,de,Jr),I_=$b($r),hw=H2(I_,Je,An,S_,bi),ac=F2(I_,Je,hw,S_,bi,po,fo),fw=I2(Gl,Je,xi,An,ho,ac,mn,Pl,x_,bi),q_=B2(fw),dw=K2(ys,xi,ta,An,q_,be,Ls,bs,rn,rc),pw=Q2(Ue,cs,q_,dw,_e,de,Ki),mw=q2(vs),gw=$2(mw,_e,new WeakSet,TS),_w=L2(xi,uo,An,ac,mn,bi),V_=V2(_w,mn),vw=cS(ys,V_,be,bs,rn),yw=lS(Ue,cs,V_,vw,_e,de),bw=gS(ac,be,rn),xw=mS(Ue,Je,ac,bw,_e,de,Ki),L_=$x(_s),Df=Ax(_s),F_=new WeakMap,Sw=Ux(F_,Ls),ww=L_?tb(ls,mn,wx(_s),Df,Nx(W1),_e,Sw,de,io,new WeakMap,new WeakMap,hS(io,Ls),_s):void 0,Tw=Kx(kf,de),Aw=cx(Ef,ls,lx,Sx,new WeakSet,_e,Tw,Fl,so,Of,Mf),H_=Vb(ww,zS,D_,BS,VS,HS,PS,XS,QS,Aw,JS,tw,nw,aw,lw,uw,pw,gw,yw,xw),Nw=t2(Ue,M2,_e,de),kw=n2(Ue,D2,_e,de),Cw=s2(Ue,R2,_e,de),Ew=j2(Je,de),Ow=i2(Ue,Ew,_e),Mw=bb(H_,Je,mn,dS,Nw,kw,Cw,Ow,po),Rf=Bx(U_),Dw=ib(Rf),G_=Jb(vs),Rw=mx(Rf),P_=vx(vs),Z_=new WeakMap,jw=Ox(Z_,os),zw=b2(G_,vs,Je,xi,uo,ta,An,ho,mn,P_,Df,jw,bi),Uw=g2(Je,zw,An,mn,bi),Bw=qb(ys,G_,$r,xi,uo,ta,An,Rw,P_,Df,be,io,Ls,bs,rn,rc),Iw=jx(F_),qw=iS(Z_),u0=L_?Ub(Dw,Ue,cs,Bw,Uw,pn,Iw,_e,de,io,SS,qw,CS,Jr):void 0,Vw=ox(mn,Ls),Lw=aS(Ef,ls,Nf,Rf,rc,Fl,Of,Mf),Fw=P2(H_,ls,Je,Vw,Lw),Hw=Gx(ec,kf),Gw=Px(_f,Cf),Pw=Zx(vf,O_),Zw=Yx(ec,de);function Jn(c){return c===void 0}function $t(c){return c!==void 0}function Yw(c){return typeof c=="function"}function _i(c){return typeof c=="number"}function Pi(c){return Object.prototype.toString.call(c)==="[object Object]"&&c.constructor===Object}function Xw(c){return typeof c=="boolean"}function Bn(c){return Array.isArray(c)}function Vs(c){return typeof c=="string"}function jl(c){return Vs(c)&&/^([a-g]{1}(?:b|#|x|bb)?)(-?[0-9]+)/i.test(c)}function Vt(c,n){if(!c)throw new Error(n)}function vi(c,n,s=1/0){if(!(n<=c&&c<=s))throw new RangeError(`Value must be within [${n}, ${s}], got: ${c}`)}function Y_(c){!c.isOffline&&c.state!=="running"&&oc('The AudioContext is "suspended". Invoke Tone.start() from a user action to start the audio.')}let X_=!1,h0=!1;function f0(c){X_=c}function Ww(c){Jn(c)&&X_&&!h0&&(h0=!0,oc("Events scheduled inside of scheduled callbacks should use the passed in scheduling time. See https://github.com/Tonejs/Tone.js/wiki/Accurate-Timing"))}let W_=console;function Qw(...c){W_.log(...c)}function oc(...c){W_.warn(...c)}function Kw(c){return new Mw(c)}function Jw(c,n,s){return new Fw(c,n,s)}const zn=typeof self=="object"?self:null,$w=zn&&(zn.hasOwnProperty("AudioContext")||zn.hasOwnProperty("webkitAudioContext"));function tT(c,n,s){return Vt($t(u0),"AudioWorkletNode only works in a secure context (https or localhost)"),new(c instanceof zn?.BaseAudioContext?zn?.AudioWorkletNode:u0)(c,n,s)}function us(c,n,s,r){var o=arguments.length,l=o<3?n:r===null?r=Object.getOwnPropertyDescriptor(n,s):r,h;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")l=Reflect.decorate(c,n,s,r);else for(var u=c.length-1;u>=0;u--)(h=c[u])&&(l=(o<3?h(l):o>3?h(n,s,l):h(n,s))||l);return o>3&&l&&Object.defineProperty(n,s,l),l}function Fe(c,n,s,r){function o(l){return l instanceof s?l:new s(function(h){h(l)})}return new(s||(s=Promise))(function(l,h){function u(m){try{p(r.next(m))}catch(_){h(_)}}function f(m){try{p(r.throw(m))}catch(_){h(_)}}function p(m){m.done?l(m.value):o(m.value).then(u,f)}p((r=r.apply(c,n||[])).next())})}class eT{constructor(n,s,r,o){this._callback=n,this._type=s,this._minimumUpdateInterval=Math.max(128/(o||44100),.001),this.updateInterval=r,this._createClock()}_createWorker(){const n=new Blob([`
			// the initial timeout time
			let timeoutTime =  ${(this._updateInterval*1e3).toFixed(1)};
			// onmessage callback
			self.onmessage = function(msg){
				timeoutTime = parseInt(msg.data);
			};
			// the tick function which posts a message
			// and schedules a new tick
			function tick(){
				setTimeout(tick, timeoutTime);
				self.postMessage('tick');
			}
			// call tick initially
			tick();
			`],{type:"text/javascript"}),s=URL.createObjectURL(n),r=new Worker(s);r.onmessage=this._callback.bind(this),this._worker=r}_createTimeout(){this._timeout=setTimeout(()=>{this._createTimeout(),this._callback()},this._updateInterval*1e3)}_createClock(){if(this._type==="worker")try{this._createWorker()}catch{this._type="timeout",this._createClock()}else this._type==="timeout"&&this._createTimeout()}_disposeClock(){this._timeout&&clearTimeout(this._timeout),this._worker&&(this._worker.terminate(),this._worker.onmessage=null)}get updateInterval(){return this._updateInterval}set updateInterval(n){var s;this._updateInterval=Math.max(n,this._minimumUpdateInterval),this._type==="worker"&&((s=this._worker)===null||s===void 0||s.postMessage(this._updateInterval*1e3))}get type(){return this._type}set type(n){this._disposeClock(),this._type=n,this._createClock()}dispose(){this._disposeClock()}}function Xi(c){return Pw(c)}function gi(c){return Gw(c)}function ql(c){return Zw(c)}function zr(c){return Hw(c)}function nT(c){return c instanceof D_}function sT(c,n){return c==="value"||Xi(n)||gi(n)||nT(n)}function Zi(c,...n){if(!n.length)return c;const s=n.shift();if(Pi(c)&&Pi(s))for(const r in s)sT(r,s[r])?c[r]=s[r]:Pi(s[r])?(c[r]||Object.assign(c,{[r]:{}}),Zi(c[r],s[r])):Object.assign(c,{[r]:s[r]});return Zi(c,...n)}function iT(c,n){return c.length===n.length&&c.every((s,r)=>n[r]===s)}function Gt(c,n,s=[],r){const o={},l=Array.from(n);if(Pi(l[0])&&r&&!Reflect.has(l[0],r)&&(Object.keys(l[0]).some(u=>Reflect.has(c,u))||(Zi(o,{[r]:l[0]}),s.splice(s.indexOf(r),1),l.shift())),l.length===1&&Pi(l[0]))Zi(o,l[0]);else for(let h=0;h<s.length;h++)$t(l[h])&&(o[s[h]]=l[h]);return Zi(c,o)}function rT(c){return c.constructor.getDefaults()}function qr(c,n){return Jn(c)?n:c}function cf(c,n){return n.forEach(s=>{Reflect.has(c,s)&&delete c[s]}),c}/**
 * Tone.js
 * @author Yotam Mann
 * @license http://opensource.org/licenses/MIT MIT License
 * @copyright 2014-2024 Yotam Mann
 */class Fs{constructor(){this.debug=!1,this._wasDisposed=!1}static getDefaults(){return{}}log(...n){(this.debug||zn&&this.toString()===zn.TONE_DEBUG_CLASS)&&Qw(this,...n)}dispose(){return this._wasDisposed=!0,this}get disposed(){return this._wasDisposed}toString(){return this.name}}Fs.version=t_;const jf=1e-6;function Hr(c,n){return c>n+jf}function uf(c,n){return Hr(c,n)||is(c,n)}function Wl(c,n){return c+jf<n}function is(c,n){return Math.abs(c-n)<jf}function aT(c,n,s){return Math.max(Math.min(c,s),n)}class $n extends Fs{constructor(){super(),this.name="Timeline",this._timeline=[];const n=Gt($n.getDefaults(),arguments,["memory"]);this.memory=n.memory,this.increasing=n.increasing}static getDefaults(){return{memory:1/0,increasing:!1}}get length(){return this._timeline.length}add(n){if(Vt(Reflect.has(n,"time"),"Timeline: events must have a time attribute"),n.time=n.time.valueOf(),this.increasing&&this.length){const s=this._timeline[this.length-1];Vt(uf(n.time,s.time),"The time must be greater than or equal to the last scheduled time"),this._timeline.push(n)}else{const s=this._search(n.time);this._timeline.splice(s+1,0,n)}if(this.length>this.memory){const s=this.length-this.memory;this._timeline.splice(0,s)}return this}remove(n){const s=this._timeline.indexOf(n);return s!==-1&&this._timeline.splice(s,1),this}get(n,s="time"){const r=this._search(n,s);return r!==-1?this._timeline[r]:null}peek(){return this._timeline[0]}shift(){return this._timeline.shift()}getAfter(n,s="time"){const r=this._search(n,s);return r+1<this._timeline.length?this._timeline[r+1]:null}getBefore(n){const s=this._timeline.length;if(s>0&&this._timeline[s-1].time<n)return this._timeline[s-1];const r=this._search(n);return r-1>=0?this._timeline[r-1]:null}cancel(n){if(this._timeline.length>1){let s=this._search(n);if(s>=0)if(is(this._timeline[s].time,n)){for(let r=s;r>=0&&is(this._timeline[r].time,n);r--)s=r;this._timeline=this._timeline.slice(0,s)}else this._timeline=this._timeline.slice(0,s+1);else this._timeline=[]}else this._timeline.length===1&&uf(this._timeline[0].time,n)&&(this._timeline=[]);return this}cancelBefore(n){const s=this._search(n);return s>=0&&(this._timeline=this._timeline.slice(s+1)),this}previousEvent(n){const s=this._timeline.indexOf(n);return s>0?this._timeline[s-1]:null}_search(n,s="time"){if(this._timeline.length===0)return-1;let r=0;const o=this._timeline.length;let l=o;if(o>0&&this._timeline[o-1][s]<=n)return o-1;for(;r<l;){let h=Math.floor(r+(l-r)/2);const u=this._timeline[h],f=this._timeline[h+1];if(is(u[s],n)){for(let p=h;p<this._timeline.length;p++){const m=this._timeline[p];if(is(m[s],n))h=p;else break}return h}else{if(Wl(u[s],n)&&Hr(f[s],n))return h;Hr(u[s],n)?l=h:r=h+1}}return-1}_iterate(n,s=0,r=this._timeline.length-1){this._timeline.slice(s,r+1).forEach(n)}forEach(n){return this._iterate(n),this}forEachBefore(n,s){const r=this._search(n);return r!==-1&&this._iterate(s,0,r),this}forEachAfter(n,s){const r=this._search(n);return this._iterate(s,r+1),this}forEachBetween(n,s,r){let o=this._search(n),l=this._search(s);return o!==-1&&l!==-1?(this._timeline[o].time!==n&&(o+=1),this._timeline[l].time===s&&(l-=1),this._iterate(r,o,l)):o===-1&&this._iterate(r,0,l),this}forEachFrom(n,s){let r=this._search(n);for(;r>=0&&this._timeline[r].time>=n;)r--;return this._iterate(s,r+1),this}forEachAtTime(n,s){const r=this._search(n);if(r!==-1&&is(this._timeline[r].time,n)){let o=r;for(let l=r;l>=0&&is(this._timeline[l].time,n);l--)o=l;this._iterate(l=>{s(l)},o,r)}return this}dispose(){return super.dispose(),this._timeline=[],this}}const Q_=[];function lc(c){Q_.push(c)}function oT(c){Q_.forEach(n=>n(c))}const K_=[];function cc(c){K_.push(c)}function lT(c){K_.forEach(n=>n(c))}class mo extends Fs{constructor(){super(...arguments),this.name="Emitter"}on(n,s){return n.split(/\W+/).forEach(o=>{Jn(this._events)&&(this._events={}),this._events.hasOwnProperty(o)||(this._events[o]=[]),this._events[o].push(s)}),this}once(n,s){const r=(...o)=>{s(...o),this.off(n,r)};return this.on(n,r),this}off(n,s){return n.split(/\W+/).forEach(o=>{if(Jn(this._events)&&(this._events={}),this._events.hasOwnProperty(o))if(Jn(s))this._events[o]=[];else{const l=this._events[o];for(let h=l.length-1;h>=0;h--)l[h]===s&&l.splice(h,1)}}),this}emit(n,...s){if(this._events&&this._events.hasOwnProperty(n)){const r=this._events[n].slice(0);for(let o=0,l=r.length;o<l;o++)r[o].apply(this,s)}return this}static mixin(n){["on","once","off","emit"].forEach(s=>{const r=Object.getOwnPropertyDescriptor(mo.prototype,s);Object.defineProperty(n.prototype,s,r)})}dispose(){return super.dispose(),this._events=void 0,this}}class J_ extends mo{constructor(){super(...arguments),this.isOffline=!1}toJSON(){return{}}}class go extends J_{constructor(){var n,s;super(),this.name="Context",this._constants=new Map,this._timeouts=new $n,this._timeoutIds=0,this._initialized=!1,this._closeStarted=!1,this.isOffline=!1,this._workletPromise=null;const r=Gt(go.getDefaults(),arguments,["context"]);r.context?(this._context=r.context,this._latencyHint=((n=arguments[0])===null||n===void 0?void 0:n.latencyHint)||""):(this._context=Kw({latencyHint:r.latencyHint}),this._latencyHint=r.latencyHint),this._ticker=new eT(this.emit.bind(this,"tick"),r.clockSource,r.updateInterval,this._context.sampleRate),this.on("tick",this._timeoutLoop.bind(this)),this._context.onstatechange=()=>{this.emit("statechange",this.state)},this[!((s=arguments[0])===null||s===void 0)&&s.hasOwnProperty("updateInterval")?"_lookAhead":"lookAhead"]=r.lookAhead}static getDefaults(){return{clockSource:"worker",latencyHint:"interactive",lookAhead:.1,updateInterval:.05}}initialize(){return this._initialized||(oT(this),this._initialized=!0),this}createAnalyser(){return this._context.createAnalyser()}createOscillator(){return this._context.createOscillator()}createBufferSource(){return this._context.createBufferSource()}createBiquadFilter(){return this._context.createBiquadFilter()}createBuffer(n,s,r){return this._context.createBuffer(n,s,r)}createChannelMerger(n){return this._context.createChannelMerger(n)}createChannelSplitter(n){return this._context.createChannelSplitter(n)}createConstantSource(){return this._context.createConstantSource()}createConvolver(){return this._context.createConvolver()}createDelay(n){return this._context.createDelay(n)}createDynamicsCompressor(){return this._context.createDynamicsCompressor()}createGain(){return this._context.createGain()}createIIRFilter(n,s){return this._context.createIIRFilter(n,s)}createPanner(){return this._context.createPanner()}createPeriodicWave(n,s,r){return this._context.createPeriodicWave(n,s,r)}createStereoPanner(){return this._context.createStereoPanner()}createWaveShaper(){return this._context.createWaveShaper()}createMediaStreamSource(n){return Vt(zr(this._context),"Not available if OfflineAudioContext"),this._context.createMediaStreamSource(n)}createMediaElementSource(n){return Vt(zr(this._context),"Not available if OfflineAudioContext"),this._context.createMediaElementSource(n)}createMediaStreamDestination(){return Vt(zr(this._context),"Not available if OfflineAudioContext"),this._context.createMediaStreamDestination()}decodeAudioData(n){return this._context.decodeAudioData(n)}get currentTime(){return this._context.currentTime}get state(){return this._context.state}get sampleRate(){return this._context.sampleRate}get listener(){return this.initialize(),this._listener}set listener(n){Vt(!this._initialized,"The listener cannot be set after initialization."),this._listener=n}get transport(){return this.initialize(),this._transport}set transport(n){Vt(!this._initialized,"The transport cannot be set after initialization."),this._transport=n}get draw(){return this.initialize(),this._draw}set draw(n){Vt(!this._initialized,"Draw cannot be set after initialization."),this._draw=n}get destination(){return this.initialize(),this._destination}set destination(n){Vt(!this._initialized,"The destination cannot be set after initialization."),this._destination=n}createAudioWorkletNode(n,s){return tT(this.rawContext,n,s)}addAudioWorkletModule(n){return Fe(this,void 0,void 0,function*(){Vt($t(this.rawContext.audioWorklet),"AudioWorkletNode is only available in a secure context (https or localhost)"),this._workletPromise||(this._workletPromise=this.rawContext.audioWorklet.addModule(n)),yield this._workletPromise})}workletsAreReady(){return Fe(this,void 0,void 0,function*(){(yield this._workletPromise)?this._workletPromise:Promise.resolve()})}get updateInterval(){return this._ticker.updateInterval}set updateInterval(n){this._ticker.updateInterval=n}get clockSource(){return this._ticker.type}set clockSource(n){this._ticker.type=n}get lookAhead(){return this._lookAhead}set lookAhead(n){this._lookAhead=n,this.updateInterval=n?n/2:.01}get latencyHint(){return this._latencyHint}get rawContext(){return this._context}now(){return this._context.currentTime+this._lookAhead}immediate(){return this._context.currentTime}resume(){return zr(this._context)?this._context.resume():Promise.resolve()}close(){return Fe(this,void 0,void 0,function*(){zr(this._context)&&this.state!=="closed"&&!this._closeStarted&&(this._closeStarted=!0,yield this._context.close()),this._initialized&&lT(this)})}getConstant(n){if(this._constants.has(n))return this._constants.get(n);{const s=this._context.createBuffer(1,128,this._context.sampleRate),r=s.getChannelData(0);for(let l=0;l<r.length;l++)r[l]=n;const o=this._context.createBufferSource();return o.channelCount=1,o.channelCountMode="explicit",o.buffer=s,o.loop=!0,o.start(0),this._constants.set(n,o),o}}dispose(){return super.dispose(),this._ticker.dispose(),this._timeouts.dispose(),Object.keys(this._constants).map(n=>this._constants[n].disconnect()),this.close(),this}_timeoutLoop(){const n=this.now();this._timeouts.forEachBefore(n,s=>{s.callback(),this._timeouts.remove(s)})}setTimeout(n,s){this._timeoutIds++;const r=this.now();return this._timeouts.add({callback:n,id:this._timeoutIds,time:r+s}),this._timeoutIds}clearTimeout(n){return this._timeouts.forEach(s=>{s.id===n&&this._timeouts.remove(s)}),this}clearInterval(n){return this.clearTimeout(n)}setInterval(n,s){const r=++this._timeoutIds,o=()=>{const l=this.now();this._timeouts.add({callback:()=>{n(),o()},id:r,time:l+s})};return o(),r}}class cT extends J_{constructor(){super(...arguments),this.lookAhead=0,this.latencyHint=0,this.isOffline=!1}createAnalyser(){return{}}createOscillator(){return{}}createBufferSource(){return{}}createBiquadFilter(){return{}}createBuffer(n,s,r){return{}}createChannelMerger(n){return{}}createChannelSplitter(n){return{}}createConstantSource(){return{}}createConvolver(){return{}}createDelay(n){return{}}createDynamicsCompressor(){return{}}createGain(){return{}}createIIRFilter(n,s){return{}}createPanner(){return{}}createPeriodicWave(n,s,r){return{}}createStereoPanner(){return{}}createWaveShaper(){return{}}createMediaStreamSource(n){return{}}createMediaElementSource(n){return{}}createMediaStreamDestination(){return{}}decodeAudioData(n){return Promise.resolve({})}createAudioWorkletNode(n,s){return{}}get rawContext(){return{}}addAudioWorkletModule(n){return Fe(this,void 0,void 0,function*(){return Promise.resolve()})}resume(){return Promise.resolve()}setTimeout(n,s){return 0}clearTimeout(n){return this}setInterval(n,s){return 0}clearInterval(n){return this}getConstant(n){return{}}get currentTime(){return 0}get state(){return{}}get sampleRate(){return 0}get listener(){return{}}get transport(){return{}}get draw(){return{}}set draw(n){}get destination(){return{}}set destination(n){}now(){return 0}immediate(){return 0}}function Re(c,n){Bn(n)?n.forEach(s=>Re(c,s)):Object.defineProperty(c,n,{enumerable:!0,writable:!1})}function $_(c,n){Bn(n)?n.forEach(s=>$_(c,s)):Object.defineProperty(c,n,{writable:!0})}const fe=()=>{};class ye extends Fs{constructor(){super(),this.name="ToneAudioBuffer",this.onload=fe;const n=Gt(ye.getDefaults(),arguments,["url","onload","onerror"]);this.reverse=n.reverse,this.onload=n.onload,Vs(n.url)?this.load(n.url).catch(n.onerror):n.url&&this.set(n.url)}static getDefaults(){return{onerror:fe,onload:fe,reverse:!1}}get sampleRate(){return this._buffer?this._buffer.sampleRate:rs().sampleRate}set(n){return n instanceof ye?n.loaded?this._buffer=n.get():n.onload=()=>{this.set(n),this.onload(this)}:this._buffer=n,this._reversed&&this._reverse(),this}get(){return this._buffer}load(n){return Fe(this,void 0,void 0,function*(){const s=ye.load(n).then(r=>{this.set(r),this.onload(this)});ye.downloads.push(s);try{yield s}finally{const r=ye.downloads.indexOf(s);ye.downloads.splice(r,1)}return this})}dispose(){return super.dispose(),this._buffer=void 0,this}fromArray(n){const s=Bn(n)&&n[0].length>0,r=s?n.length:1,o=s?n[0].length:n.length,l=rs(),h=l.createBuffer(r,o,l.sampleRate),u=!s&&r===1?[n]:n;for(let f=0;f<r;f++)h.copyToChannel(u[f],f);return this._buffer=h,this}toMono(n){if(_i(n))this.fromArray(this.toArray(n));else{let s=new Float32Array(this.length);const r=this.numberOfChannels;for(let o=0;o<r;o++){const l=this.toArray(o);for(let h=0;h<l.length;h++)s[h]+=l[h]}s=s.map(o=>o/r),this.fromArray(s)}return this}toArray(n){if(_i(n))return this.getChannelData(n);if(this.numberOfChannels===1)return this.toArray(0);{const s=[];for(let r=0;r<this.numberOfChannels;r++)s[r]=this.getChannelData(r);return s}}getChannelData(n){return this._buffer?this._buffer.getChannelData(n):new Float32Array(0)}slice(n,s=this.duration){Vt(this.loaded,"Buffer is not loaded");const r=Math.floor(n*this.sampleRate),o=Math.floor(s*this.sampleRate);Vt(r<o,"The start time must be less than the end time");const l=o-r,h=rs().createBuffer(this.numberOfChannels,l,this.sampleRate);for(let u=0;u<this.numberOfChannels;u++)h.copyToChannel(this.getChannelData(u).subarray(r,o),u);return new ye(h)}_reverse(){if(this.loaded)for(let n=0;n<this.numberOfChannels;n++)this.getChannelData(n).reverse();return this}get loaded(){return this.length>0}get duration(){return this._buffer?this._buffer.duration:0}get length(){return this._buffer?this._buffer.length:0}get numberOfChannels(){return this._buffer?this._buffer.numberOfChannels:0}get reverse(){return this._reversed}set reverse(n){this._reversed!==n&&(this._reversed=n,this._reverse())}static fromArray(n){return new ye().fromArray(n)}static fromUrl(n){return Fe(this,void 0,void 0,function*(){return yield new ye().load(n)})}static load(n){return Fe(this,void 0,void 0,function*(){const s=ye.baseUrl===""||ye.baseUrl.endsWith("/")?ye.baseUrl:ye.baseUrl+"/",r=yield fetch(s+n);if(!r.ok)throw new Error(`could not load url: ${n}`);const o=yield r.arrayBuffer();return yield rs().decodeAudioData(o)})}static supportsType(n){const s=n.split("."),r=s[s.length-1];return document.createElement("audio").canPlayType("audio/"+r)!==""}static loaded(){return Fe(this,void 0,void 0,function*(){for(yield Promise.resolve();ye.downloads.length;)yield ye.downloads[0]})}}ye.baseUrl="";ye.downloads=[];class zf extends go{constructor(){super({clockSource:"offline",context:ql(arguments[0])?arguments[0]:Jw(arguments[0],arguments[1]*arguments[2],arguments[2]),lookAhead:0,updateInterval:ql(arguments[0])?128/arguments[0].sampleRate:128/arguments[2]}),this.name="OfflineContext",this._currentTime=0,this.isOffline=!0,this._duration=ql(arguments[0])?arguments[0].length/arguments[0].sampleRate:arguments[1]}now(){return this._currentTime}get currentTime(){return this._currentTime}_renderClock(n){return Fe(this,void 0,void 0,function*(){let s=0;for(;this._duration-this._currentTime>=0;){this.emit("tick"),this._currentTime+=128/this.sampleRate,s++;const r=Math.floor(this.sampleRate/128);n&&s%r===0&&(yield new Promise(o=>setTimeout(o,1)))}})}render(){return Fe(this,arguments,void 0,function*(n=!0){yield this.workletsAreReady(),yield this._renderClock(n);const s=yield this._context.startRendering();return new ye(s)})}close(){return Promise.resolve()}}const tv=new cT;let Hi=tv;function rs(){return Hi===tv&&$w&&uT(new go),Hi}function uT(c,n=!1){n&&Hi.dispose(),zr(c)?Hi=new go(c):ql(c)?Hi=new zf(c):Hi=c}function hT(){return Hi.resume()}if(zn&&!zn.TONE_SILENCE_LOGGING){const n=` * Tone.js v${t_} * `;console.log(`%c${n}`,"background: #000; color: #fff")}function fT(c){return Math.pow(10,c/20)}function dT(c){return 20*(Math.log(c)/Math.LN10)}function ev(c){return Math.pow(2,c/12)}let uc=440;function pT(){return uc}function mT(c){uc=c}function Gi(c){return Math.round(nv(c))}function nv(c){return 69+12*Math.log2(c/uc)}function sv(c){return uc*Math.pow(2,(c-69)/12)}class Uf extends Fs{constructor(n,s,r){super(),this.defaultUnits="s",this._val=s,this._units=r,this.context=n,this._expressions=this._getExpressions()}_getExpressions(){return{hz:{method:n=>this._frequencyToUnits(parseFloat(n)),regexp:/^(\d+(?:\.\d+)?)hz$/i},i:{method:n=>this._ticksToUnits(parseInt(n,10)),regexp:/^(\d+)i$/i},m:{method:n=>this._beatsToUnits(parseInt(n,10)*this._getTimeSignature()),regexp:/^(\d+)m$/i},n:{method:(n,s)=>{const r=parseInt(n,10),o=s==="."?1.5:1;return r===1?this._beatsToUnits(this._getTimeSignature())*o:this._beatsToUnits(4/r)*o},regexp:/^(\d+)n(\.?)$/i},number:{method:n=>this._expressions[this.defaultUnits].method.call(this,n),regexp:/^(\d+(?:\.\d+)?)$/},s:{method:n=>this._secondsToUnits(parseFloat(n)),regexp:/^(\d+(?:\.\d+)?)s$/},samples:{method:n=>parseInt(n,10)/this.context.sampleRate,regexp:/^(\d+)samples$/},t:{method:n=>{const s=parseInt(n,10);return this._beatsToUnits(8/(Math.floor(s)*3))},regexp:/^(\d+)t$/i},tr:{method:(n,s,r)=>{let o=0;return n&&n!=="0"&&(o+=this._beatsToUnits(this._getTimeSignature()*parseFloat(n))),s&&s!=="0"&&(o+=this._beatsToUnits(parseFloat(s))),r&&r!=="0"&&(o+=this._beatsToUnits(parseFloat(r)/4)),o},regexp:/^(\d+(?:\.\d+)?):(\d+(?:\.\d+)?):?(\d+(?:\.\d+)?)?$/}}}valueOf(){if(this._val instanceof Uf&&this.fromType(this._val),Jn(this._val))return this._noArg();if(Vs(this._val)&&Jn(this._units)){for(const n in this._expressions)if(this._expressions[n].regexp.test(this._val.trim())){this._units=n;break}}else if(Pi(this._val)){let n=0;for(const s in this._val)if($t(this._val[s])){const r=this._val[s],o=new this.constructor(this.context,s).valueOf()*r;n+=o}return n}if($t(this._units)){const n=this._expressions[this._units],s=this._val.toString().trim().match(n.regexp);return s?n.method.apply(this,s.slice(1)):n.method.call(this,this._val)}else return Vs(this._val)?parseFloat(this._val):this._val}_frequencyToUnits(n){return 1/n}_beatsToUnits(n){return 60/this._getBpm()*n}_secondsToUnits(n){return n}_ticksToUnits(n){return n*this._beatsToUnits(1)/this._getPPQ()}_noArg(){return this._now()}_getBpm(){return this.context.transport.bpm.value}_getTimeSignature(){return this.context.transport.timeSignature}_getPPQ(){return this.context.transport.PPQ}fromType(n){switch(this._units=void 0,this.defaultUnits){case"s":this._val=n.toSeconds();break;case"i":this._val=n.toTicks();break;case"hz":this._val=n.toFrequency();break;case"midi":this._val=n.toMidi();break}return this}toFrequency(){return 1/this.toSeconds()}toSamples(){return this.toSeconds()*this.context.sampleRate}toMilliseconds(){return this.toSeconds()*1e3}}class as extends Uf{constructor(){super(...arguments),this.name="TimeClass"}_getExpressions(){return Object.assign(super._getExpressions(),{now:{method:n=>this._now()+new this.constructor(this.context,n).valueOf(),regexp:/^\+(.+)/},quantize:{method:n=>{const s=new as(this.context,n).valueOf();return this._secondsToUnits(this.context.transport.nextSubdivision(s))},regexp:/^@(.+)/}})}quantize(n,s=1){const r=new this.constructor(this.context,n).valueOf(),o=this.valueOf(),u=Math.round(o/r)*r-o;return o+u*s}toNotation(){const n=this.toSeconds(),s=["1m"];for(let l=1;l<9;l++){const h=Math.pow(2,l);s.push(h+"n."),s.push(h+"n"),s.push(h+"t")}s.push("0");let r=s[0],o=new as(this.context,s[0]).toSeconds();return s.forEach(l=>{const h=new as(this.context,l).toSeconds();Math.abs(h-n)<Math.abs(o-n)&&(r=l,o=h)}),r}toBarsBeatsSixteenths(){const n=this._beatsToUnits(1);let s=this.valueOf()/n;s=parseFloat(s.toFixed(4));const r=Math.floor(s/this._getTimeSignature());let o=s%1*4;s=Math.floor(s)%this._getTimeSignature();const l=o.toString();return l.length>3&&(o=parseFloat(parseFloat(l).toFixed(3))),[r,s,o].join(":")}toTicks(){const n=this._beatsToUnits(1);return this.valueOf()/n*this._getPPQ()}toSeconds(){return this.valueOf()}toMidi(){return Gi(this.toFrequency())}_now(){return this.context.now()}}class Un extends as{constructor(){super(...arguments),this.name="Frequency",this.defaultUnits="hz"}static get A4(){return pT()}static set A4(n){mT(n)}_getExpressions(){return Object.assign({},super._getExpressions(),{midi:{regexp:/^(\d+(?:\.\d+)?midi)/,method(n){return this.defaultUnits==="midi"?n:Un.mtof(n)}},note:{regexp:/^([a-g]{1}(?:b|#|##|x|bb|###|#x|x#|bbb)?)(-?[0-9]+)/i,method(n,s){const o=gT[n.toLowerCase()]+(parseInt(s,10)+1)*12;return this.defaultUnits==="midi"?o:Un.mtof(o)}},tr:{regexp:/^(\d+(?:\.\d+)?):(\d+(?:\.\d+)?):?(\d+(?:\.\d+)?)?/,method(n,s,r){let o=1;return n&&n!=="0"&&(o*=this._beatsToUnits(this._getTimeSignature()*parseFloat(n))),s&&s!=="0"&&(o*=this._beatsToUnits(parseFloat(s))),r&&r!=="0"&&(o*=this._beatsToUnits(parseFloat(r)/4)),o}}})}transpose(n){return new Un(this.context,this.valueOf()*ev(n))}harmonize(n){return n.map(s=>this.transpose(s))}toMidi(){return Gi(this.valueOf())}toNote(){const n=this.toFrequency(),s=Math.log2(n/Un.A4);let r=Math.round(12*s)+57;const o=Math.floor(r/12);return o<0&&(r+=-12*o),_T[r%12]+o.toString()}toSeconds(){return 1/super.toSeconds()}toTicks(){const n=this._beatsToUnits(1),s=this.valueOf()/n;return Math.floor(s*this._getPPQ())}_noArg(){return 0}_frequencyToUnits(n){return n}_ticksToUnits(n){return 1/(n*60/(this._getBpm()*this._getPPQ()))}_beatsToUnits(n){return 1/super._beatsToUnits(n)}_secondsToUnits(n){return 1/n}static mtof(n){return sv(n)}static ftom(n){return Gi(n)}}const gT={cbbb:-3,cbb:-2,cb:-1,c:0,"c#":1,cx:2,"c##":2,"c###":3,"cx#":3,"c#x":3,dbbb:-1,dbb:0,db:1,d:2,"d#":3,dx:4,"d##":4,"d###":5,"dx#":5,"d#x":5,ebbb:1,ebb:2,eb:3,e:4,"e#":5,ex:6,"e##":6,"e###":7,"ex#":7,"e#x":7,fbbb:2,fbb:3,fb:4,f:5,"f#":6,fx:7,"f##":7,"f###":8,"fx#":8,"f#x":8,gbbb:4,gbb:5,gb:6,g:7,"g#":8,gx:9,"g##":9,"g###":10,"gx#":10,"g#x":10,abbb:6,abb:7,ab:8,a:9,"a#":10,ax:11,"a##":11,"a###":12,"ax#":12,"a#x":12,bbbb:8,bbb:9,bb:10,b:11,"b#":12,bx:13,"b##":13,"b###":14,"bx#":14,"b#x":14},_T=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"];class eo extends as{constructor(){super(...arguments),this.name="TransportTime"}_now(){return this.context.transport.seconds}}class Tn extends Fs{constructor(){super();const n=Gt(Tn.getDefaults(),arguments,["context"]);this.defaultContext?this.context=this.defaultContext:this.context=n.context}static getDefaults(){return{context:rs()}}now(){return this.context.currentTime+this.context.lookAhead}immediate(){return this.context.currentTime}get sampleTime(){return 1/this.context.sampleRate}get blockTime(){return 128/this.context.sampleRate}toSeconds(n){return Ww(n),new as(this.context,n).toSeconds()}toFrequency(n){return new Un(this.context,n).toFrequency()}toTicks(n){return new eo(this.context,n).toTicks()}_getPartialProperties(n){const s=this.get();return Object.keys(s).forEach(r=>{Jn(n[r])&&delete s[r]}),s}get(){const n=rT(this);return Object.keys(n).forEach(s=>{if(Reflect.has(this,s)){const r=this[s];$t(r)&&$t(r.value)&&$t(r.setValueAtTime)?n[s]=r.value:r instanceof Tn?n[s]=r._getPartialProperties(n[s]):Bn(r)||_i(r)||Vs(r)||Xw(r)?n[s]=r:delete n[s]}}),n}set(n){return Object.keys(n).forEach(s=>{Reflect.has(this,s)&&$t(this[s])&&(this[s]&&$t(this[s].value)&&$t(this[s].setValueAtTime)?this[s].value!==n[s]&&(this[s].value=n[s]):this[s]instanceof Tn?this[s].set(n[s]):this[s]=n[s])}),this}}class Bf extends $n{constructor(n="stopped"){super(),this.name="StateTimeline",this._initial=n,this.setStateAtTime(this._initial,0)}getValueAtTime(n){const s=this.get(n);return s!==null?s.state:this._initial}setStateAtTime(n,s,r){return vi(s,0),this.add(Object.assign({},r,{state:n,time:s})),this}getLastState(n,s){const r=this._search(s);for(let o=r;o>=0;o--){const l=this._timeline[o];if(l.state===n)return l}}getNextState(n,s){const r=this._search(s);if(r!==-1)for(let o=r;o<this._timeline.length;o++){const l=this._timeline[o];if(l.state===n)return l}}}class ke extends Tn{constructor(){const n=Gt(ke.getDefaults(),arguments,["param","units","convert"]);for(super(n),this.name="Param",this.overridden=!1,this._minOutput=1e-7,Vt($t(n.param)&&(Xi(n.param)||n.param instanceof ke),"param must be an AudioParam");!Xi(n.param);)n.param=n.param._param;this._swappable=$t(n.swappable)?n.swappable:!1,this._swappable?(this.input=this.context.createGain(),this._param=n.param,this.input.connect(this._param)):this._param=this.input=n.param,this._events=new $n(1e3),this._initialValue=this._param.defaultValue,this.units=n.units,this.convert=n.convert,this._minValue=n.minValue,this._maxValue=n.maxValue,$t(n.value)&&n.value!==this._toType(this._initialValue)&&this.setValueAtTime(n.value,0)}static getDefaults(){return Object.assign(Tn.getDefaults(),{convert:!0,units:"number"})}get value(){const n=this.now();return this.getValueAtTime(n)}set value(n){this.cancelScheduledValues(this.now()),this.setValueAtTime(n,this.now())}get minValue(){return $t(this._minValue)?this._minValue:this.units==="time"||this.units==="frequency"||this.units==="normalRange"||this.units==="positive"||this.units==="transportTime"||this.units==="ticks"||this.units==="bpm"||this.units==="hertz"||this.units==="samples"?0:this.units==="audioRange"?-1:this.units==="decibels"?-1/0:this._param.minValue}get maxValue(){return $t(this._maxValue)?this._maxValue:this.units==="normalRange"||this.units==="audioRange"?1:this._param.maxValue}_is(n,s){return this.units===s}_assertRange(n){return $t(this.maxValue)&&$t(this.minValue)&&vi(n,this._fromType(this.minValue),this._fromType(this.maxValue)),n}_fromType(n){return this.convert&&!this.overridden?this._is(n,"time")?this.toSeconds(n):this._is(n,"decibels")?fT(n):this._is(n,"frequency")?this.toFrequency(n):n:this.overridden?0:n}_toType(n){return this.convert&&this.units==="decibels"?dT(n):n}setValueAtTime(n,s){const r=this.toSeconds(s),o=this._fromType(n);return Vt(isFinite(o)&&isFinite(r),`Invalid argument(s) to setValueAtTime: ${JSON.stringify(n)}, ${JSON.stringify(s)}`),this._assertRange(o),this.log(this.units,"setValueAtTime",n,r),this._events.add({time:r,type:"setValueAtTime",value:o}),this._param.setValueAtTime(o,r),this}getValueAtTime(n){const s=Math.max(this.toSeconds(n),0),r=this._events.getAfter(s),o=this._events.get(s);let l=this._initialValue;if(o===null)l=this._initialValue;else if(o.type==="setTargetAtTime"&&(r===null||r.type==="setValueAtTime")){const h=this._events.getBefore(o.time);let u;h===null?u=this._initialValue:u=h.value,o.type==="setTargetAtTime"&&(l=this._exponentialApproach(o.time,u,o.value,o.constant,s))}else if(r===null)l=o.value;else if(r.type==="linearRampToValueAtTime"||r.type==="exponentialRampToValueAtTime"){let h=o.value;if(o.type==="setTargetAtTime"){const u=this._events.getBefore(o.time);u===null?h=this._initialValue:h=u.value}r.type==="linearRampToValueAtTime"?l=this._linearInterpolate(o.time,h,r.time,r.value,s):l=this._exponentialInterpolate(o.time,h,r.time,r.value,s)}else l=o.value;return this._toType(l)}setRampPoint(n){n=this.toSeconds(n);let s=this.getValueAtTime(n);return this.cancelAndHoldAtTime(n),this._fromType(s)===0&&(s=this._toType(this._minOutput)),this.setValueAtTime(s,n),this}linearRampToValueAtTime(n,s){const r=this._fromType(n),o=this.toSeconds(s);return Vt(isFinite(r)&&isFinite(o),`Invalid argument(s) to linearRampToValueAtTime: ${JSON.stringify(n)}, ${JSON.stringify(s)}`),this._assertRange(r),this._events.add({time:o,type:"linearRampToValueAtTime",value:r}),this.log(this.units,"linearRampToValueAtTime",n,o),this._param.linearRampToValueAtTime(r,o),this}exponentialRampToValueAtTime(n,s){let r=this._fromType(n);r=is(r,0)?this._minOutput:r,this._assertRange(r);const o=this.toSeconds(s);return Vt(isFinite(r)&&isFinite(o),`Invalid argument(s) to exponentialRampToValueAtTime: ${JSON.stringify(n)}, ${JSON.stringify(s)}`),this._events.add({time:o,type:"exponentialRampToValueAtTime",value:r}),this.log(this.units,"exponentialRampToValueAtTime",n,o),this._param.exponentialRampToValueAtTime(r,o),this}exponentialRampTo(n,s,r){return r=this.toSeconds(r),this.setRampPoint(r),this.exponentialRampToValueAtTime(n,r+this.toSeconds(s)),this}linearRampTo(n,s,r){return r=this.toSeconds(r),this.setRampPoint(r),this.linearRampToValueAtTime(n,r+this.toSeconds(s)),this}targetRampTo(n,s,r){return r=this.toSeconds(r),this.setRampPoint(r),this.exponentialApproachValueAtTime(n,r,s),this}exponentialApproachValueAtTime(n,s,r){s=this.toSeconds(s),r=this.toSeconds(r);const o=Math.log(r+1)/Math.log(200);return this.setTargetAtTime(n,s,o),this.cancelAndHoldAtTime(s+r*.9),this.linearRampToValueAtTime(n,s+r),this}setTargetAtTime(n,s,r){const o=this._fromType(n);Vt(isFinite(r)&&r>0,"timeConstant must be a number greater than 0");const l=this.toSeconds(s);return this._assertRange(o),Vt(isFinite(o)&&isFinite(l),`Invalid argument(s) to setTargetAtTime: ${JSON.stringify(n)}, ${JSON.stringify(s)}`),this._events.add({constant:r,time:l,type:"setTargetAtTime",value:o}),this.log(this.units,"setTargetAtTime",n,l,r),this._param.setTargetAtTime(o,l,r),this}setValueCurveAtTime(n,s,r,o=1){r=this.toSeconds(r),s=this.toSeconds(s);const l=this._fromType(n[0])*o;this.setValueAtTime(this._toType(l),s);const h=r/(n.length-1);for(let u=1;u<n.length;u++){const f=this._fromType(n[u])*o;this.linearRampToValueAtTime(this._toType(f),s+u*h)}return this}cancelScheduledValues(n){const s=this.toSeconds(n);return Vt(isFinite(s),`Invalid argument to cancelScheduledValues: ${JSON.stringify(n)}`),this._events.cancel(s),this._param.cancelScheduledValues(s),this.log(this.units,"cancelScheduledValues",s),this}cancelAndHoldAtTime(n){const s=this.toSeconds(n),r=this._fromType(this.getValueAtTime(s));Vt(isFinite(s),`Invalid argument to cancelAndHoldAtTime: ${JSON.stringify(n)}`),this.log(this.units,"cancelAndHoldAtTime",s,"value="+r);const o=this._events.get(s),l=this._events.getAfter(s);return o&&is(o.time,s)?l?(this._param.cancelScheduledValues(l.time),this._events.cancel(l.time)):(this._param.cancelAndHoldAtTime(s),this._events.cancel(s+this.sampleTime)):l&&(this._param.cancelScheduledValues(l.time),this._events.cancel(l.time),l.type==="linearRampToValueAtTime"?this.linearRampToValueAtTime(this._toType(r),s):l.type==="exponentialRampToValueAtTime"&&this.exponentialRampToValueAtTime(this._toType(r),s)),this._events.add({time:s,type:"setValueAtTime",value:r}),this._param.setValueAtTime(r,s),this}rampTo(n,s=.1,r){return this.units==="frequency"||this.units==="bpm"||this.units==="decibels"?this.exponentialRampTo(n,s,r):this.linearRampTo(n,s,r),this}apply(n){const s=this.context.currentTime;n.setValueAtTime(this.getValueAtTime(s),s);const r=this._events.get(s);if(r&&r.type==="setTargetAtTime"){const o=this._events.getAfter(r.time),l=o?o.time:s+2,h=(l-s)/10;for(let u=s;u<l;u+=h)n.linearRampToValueAtTime(this.getValueAtTime(u),u)}return this._events.forEachAfter(this.context.currentTime,o=>{o.type==="cancelScheduledValues"?n.cancelScheduledValues(o.time):o.type==="setTargetAtTime"?n.setTargetAtTime(o.value,o.time,o.constant):n[o.type](o.value,o.time)}),this}setParam(n){Vt(this._swappable,"The Param must be assigned as 'swappable' in the constructor");const s=this.input;return s.disconnect(this._param),this.apply(n),this._param=n,s.connect(this._param),this}dispose(){return super.dispose(),this._events.dispose(),this}get defaultValue(){return this._toType(this._param.defaultValue)}_exponentialApproach(n,s,r,o,l){return r+(s-r)*Math.exp(-(l-n)/o)}_linearInterpolate(n,s,r,o,l){return s+(o-s)*((l-n)/(r-n))}_exponentialInterpolate(n,s,r,o,l){return s*Math.pow(o/s,(l-n)/(r-n))}}class Jt extends Tn{constructor(){super(...arguments),this._internalChannels=[]}get numberOfInputs(){return $t(this.input)?Xi(this.input)||this.input instanceof ke?1:this.input.numberOfInputs:0}get numberOfOutputs(){return $t(this.output)?this.output.numberOfOutputs:0}_isAudioNode(n){return $t(n)&&(n instanceof Jt||gi(n))}_getInternalNodes(){const n=this._internalChannels.slice(0);return this._isAudioNode(this.input)&&n.push(this.input),this._isAudioNode(this.output)&&this.input!==this.output&&n.push(this.output),n}_setChannelProperties(n){this._getInternalNodes().forEach(r=>{r.channelCount=n.channelCount,r.channelCountMode=n.channelCountMode,r.channelInterpretation=n.channelInterpretation})}_getChannelProperties(){const n=this._getInternalNodes();Vt(n.length>0,"ToneAudioNode does not have any internal nodes");const s=n[0];return{channelCount:s.channelCount,channelCountMode:s.channelCountMode,channelInterpretation:s.channelInterpretation}}get channelCount(){return this._getChannelProperties().channelCount}set channelCount(n){const s=this._getChannelProperties();this._setChannelProperties(Object.assign(s,{channelCount:n}))}get channelCountMode(){return this._getChannelProperties().channelCountMode}set channelCountMode(n){const s=this._getChannelProperties();this._setChannelProperties(Object.assign(s,{channelCountMode:n}))}get channelInterpretation(){return this._getChannelProperties().channelInterpretation}set channelInterpretation(n){const s=this._getChannelProperties();this._setChannelProperties(Object.assign(s,{channelInterpretation:n}))}connect(n,s=0,r=0){return Ji(this,n,s,r),this}toDestination(){return this.connect(this.context.destination),this}toMaster(){return oc("toMaster() has been renamed toDestination()"),this.toDestination()}disconnect(n,s=0,r=0){return vT(this,n,s,r),this}chain(...n){return hf(this,...n),this}fan(...n){return n.forEach(s=>this.connect(s)),this}dispose(){return super.dispose(),$t(this.input)&&(this.input instanceof Jt?this.input.dispose():gi(this.input)&&this.input.disconnect()),$t(this.output)&&(this.output instanceof Jt?this.output.dispose():gi(this.output)&&this.output.disconnect()),this._internalChannels=[],this}}function hf(...c){const n=c.shift();c.reduce((s,r)=>(s instanceof Jt?s.connect(r):gi(s)&&Ji(s,r),r),n)}function Ji(c,n,s=0,r=0){for(Vt($t(c),"Cannot connect from undefined node"),Vt($t(n),"Cannot connect to undefined node"),(n instanceof Jt||gi(n))&&Vt(n.numberOfInputs>0,"Cannot connect to node with no inputs"),Vt(c.numberOfOutputs>0,"Cannot connect from node with no outputs");n instanceof Jt||n instanceof ke;)$t(n.input)&&(n=n.input);for(;c instanceof Jt;)$t(c.output)&&(c=c.output);Xi(n)?c.connect(n,s):c.connect(n,s,r)}function vT(c,n,s=0,r=0){if($t(n))for(;n instanceof Jt;)n=n.input;for(;!gi(c);)$t(c.output)&&(c=c.output);Xi(n)?c.disconnect(n,s):gi(n)?c.disconnect(n,s,r):c.disconnect()}class ln extends Jt{constructor(){const n=Gt(ln.getDefaults(),arguments,["gain","units"]);super(n),this.name="Gain",this._gainNode=this.context.createGain(),this.input=this._gainNode,this.output=this._gainNode,this.gain=new ke({context:this.context,convert:n.convert,param:this._gainNode.gain,units:n.units,value:n.gain,minValue:n.minValue,maxValue:n.maxValue}),Re(this,"gain")}static getDefaults(){return Object.assign(Jt.getDefaults(),{convert:!0,gain:1,units:"gain"})}dispose(){return super.dispose(),this._gainNode.disconnect(),this.gain.dispose(),this}}class Gr extends Jt{constructor(n){super(n),this.onended=fe,this._startTime=-1,this._stopTime=-1,this._timeout=-1,this.output=new ln({context:this.context,gain:0}),this._gainNode=this.output,this.getStateAtTime=function(s){const r=this.toSeconds(s);return this._startTime!==-1&&r>=this._startTime&&(this._stopTime===-1||r<=this._stopTime)?"started":"stopped"},this._fadeIn=n.fadeIn,this._fadeOut=n.fadeOut,this._curve=n.curve,this.onended=n.onended}static getDefaults(){return Object.assign(Jt.getDefaults(),{curve:"linear",fadeIn:0,fadeOut:0,onended:fe})}_startGain(n,s=1){Vt(this._startTime===-1,"Source cannot be started more than once");const r=this.toSeconds(this._fadeIn);return this._startTime=n+r,this._startTime=Math.max(this._startTime,this.context.currentTime),r>0?(this._gainNode.gain.setValueAtTime(0,n),this._curve==="linear"?this._gainNode.gain.linearRampToValueAtTime(s,n+r):this._gainNode.gain.exponentialApproachValueAtTime(s,n,r)):this._gainNode.gain.setValueAtTime(s,n),this}stop(n){return this.log("stop",n),this._stopGain(this.toSeconds(n)),this}_stopGain(n){Vt(this._startTime!==-1,"'start' must be called before 'stop'"),this.cancelStop();const s=this.toSeconds(this._fadeOut);return this._stopTime=this.toSeconds(n)+s,this._stopTime=Math.max(this._stopTime,this.now()),s>0?this._curve==="linear"?this._gainNode.gain.linearRampTo(0,s,n):this._gainNode.gain.targetRampTo(0,s,n):(this._gainNode.gain.cancelAndHoldAtTime(n),this._gainNode.gain.setValueAtTime(0,n)),this.context.clearTimeout(this._timeout),this._timeout=this.context.setTimeout(()=>{const r=this._curve==="exponential"?s*2:0;this._stopSource(this.now()+r),this._onended()},this._stopTime-this.context.currentTime),this}_onended(){if(this.onended!==fe&&(this.onended(this),this.onended=fe,!this.context.isOffline)){const n=()=>this.dispose();typeof requestIdleCallback<"u"?requestIdleCallback(n):setTimeout(n,10)}}get state(){return this.getStateAtTime(this.now())}cancelStop(){return this.log("cancelStop"),Vt(this._startTime!==-1,"Source is not started"),this._gainNode.gain.cancelScheduledValues(this._startTime+this.sampleTime),this.context.clearTimeout(this._timeout),this._stopTime=-1,this}dispose(){return super.dispose(),this._gainNode.dispose(),this.onended=fe,this}}class If extends Gr{constructor(){const n=Gt(If.getDefaults(),arguments,["offset"]);super(n),this.name="ToneConstantSource",this._source=this.context.createConstantSource(),Ji(this._source,this._gainNode),this.offset=new ke({context:this.context,convert:n.convert,param:this._source.offset,units:n.units,value:n.offset,minValue:n.minValue,maxValue:n.maxValue})}static getDefaults(){return Object.assign(Gr.getDefaults(),{convert:!0,offset:1,units:"number"})}start(n){const s=this.toSeconds(n);return this.log("start",s),this._startGain(s),this._source.start(s),this}_stopSource(n){this._source.stop(n)}dispose(){return super.dispose(),this.state==="started"&&this.stop(),this._source.disconnect(),this.offset.dispose(),this}}class $e extends Jt{constructor(){const n=Gt($e.getDefaults(),arguments,["value","units"]);super(n),this.name="Signal",this.override=!0,this.output=this._constantSource=new If({context:this.context,convert:n.convert,offset:n.value,units:n.units,minValue:n.minValue,maxValue:n.maxValue}),this._constantSource.start(0),this.input=this._param=this._constantSource.offset}static getDefaults(){return Object.assign(Jt.getDefaults(),{convert:!0,units:"number",value:0})}connect(n,s=0,r=0){return qf(this,n,s,r),this}dispose(){return super.dispose(),this._param.dispose(),this._constantSource.dispose(),this}setValueAtTime(n,s){return this._param.setValueAtTime(n,s),this}getValueAtTime(n){return this._param.getValueAtTime(n)}setRampPoint(n){return this._param.setRampPoint(n),this}linearRampToValueAtTime(n,s){return this._param.linearRampToValueAtTime(n,s),this}exponentialRampToValueAtTime(n,s){return this._param.exponentialRampToValueAtTime(n,s),this}exponentialRampTo(n,s,r){return this._param.exponentialRampTo(n,s,r),this}linearRampTo(n,s,r){return this._param.linearRampTo(n,s,r),this}targetRampTo(n,s,r){return this._param.targetRampTo(n,s,r),this}exponentialApproachValueAtTime(n,s,r){return this._param.exponentialApproachValueAtTime(n,s,r),this}setTargetAtTime(n,s,r){return this._param.setTargetAtTime(n,s,r),this}setValueCurveAtTime(n,s,r,o){return this._param.setValueCurveAtTime(n,s,r,o),this}cancelScheduledValues(n){return this._param.cancelScheduledValues(n),this}cancelAndHoldAtTime(n){return this._param.cancelAndHoldAtTime(n),this}rampTo(n,s,r){return this._param.rampTo(n,s,r),this}get value(){return this._param.value}set value(n){this._param.value=n}get convert(){return this._param.convert}set convert(n){this._param.convert=n}get units(){return this._param.units}get overridden(){return this._param.overridden}set overridden(n){this._param.overridden=n}get maxValue(){return this._param.maxValue}get minValue(){return this._param.minValue}apply(n){return this._param.apply(n),this}}function qf(c,n,s,r){(n instanceof ke||Xi(n)||n instanceof $e&&n.override)&&(n.cancelScheduledValues(0),n.setValueAtTime(0,0),n instanceof $e&&(n.overridden=!0)),Ji(c,n,s,r)}class Vf extends ke{constructor(){const n=Gt(Vf.getDefaults(),arguments,["value"]);super(n),this.name="TickParam",this._events=new $n(1/0),this._multiplier=1,this._multiplier=n.multiplier,this._events.cancel(0),this._events.add({ticks:0,time:0,type:"setValueAtTime",value:this._fromType(n.value)}),this.setValueAtTime(n.value,0)}static getDefaults(){return Object.assign(ke.getDefaults(),{multiplier:1,units:"hertz",value:1})}setTargetAtTime(n,s,r){s=this.toSeconds(s),this.setRampPoint(s);const o=this._fromType(n),l=this._events.get(s),h=Math.round(Math.max(1/r,1));for(let u=0;u<=h;u++){const f=r*u+s,p=this._exponentialApproach(l.time,l.value,o,r,f);this.linearRampToValueAtTime(this._toType(p),f)}return this}setValueAtTime(n,s){const r=this.toSeconds(s);super.setValueAtTime(n,s);const o=this._events.get(r),l=this._events.previousEvent(o),h=this._getTicksUntilEvent(l,r);return o.ticks=Math.max(h,0),this}linearRampToValueAtTime(n,s){const r=this.toSeconds(s);super.linearRampToValueAtTime(n,s);const o=this._events.get(r),l=this._events.previousEvent(o),h=this._getTicksUntilEvent(l,r);return o.ticks=Math.max(h,0),this}exponentialRampToValueAtTime(n,s){s=this.toSeconds(s);const r=this._fromType(n),o=this._events.get(s),l=Math.round(Math.max((s-o.time)*10,1)),h=(s-o.time)/l;for(let u=0;u<=l;u++){const f=h*u+o.time,p=this._exponentialInterpolate(o.time,o.value,s,r,f);this.linearRampToValueAtTime(this._toType(p),f)}return this}_getTicksUntilEvent(n,s){if(n===null)n={ticks:0,time:0,type:"setValueAtTime",value:0};else if(Jn(n.ticks)){const h=this._events.previousEvent(n);n.ticks=this._getTicksUntilEvent(h,n.time)}const r=this._fromType(this.getValueAtTime(n.time));let o=this._fromType(this.getValueAtTime(s));const l=this._events.get(s);return l&&l.time===s&&l.type==="setValueAtTime"&&(o=this._fromType(this.getValueAtTime(s-this.sampleTime))),.5*(s-n.time)*(r+o)+n.ticks}getTicksAtTime(n){const s=this.toSeconds(n),r=this._events.get(s);return Math.max(this._getTicksUntilEvent(r,s),0)}getDurationOfTicks(n,s){const r=this.toSeconds(s),o=this.getTicksAtTime(s);return this.getTimeOfTick(o+n)-r}getTimeOfTick(n){const s=this._events.get(n,"ticks"),r=this._events.getAfter(n,"ticks");if(s&&s.ticks===n)return s.time;if(s&&r&&r.type==="linearRampToValueAtTime"&&s.value!==r.value){const o=this._fromType(this.getValueAtTime(s.time)),h=(this._fromType(this.getValueAtTime(r.time))-o)/(r.time-s.time),u=Math.sqrt(Math.pow(o,2)-2*h*(s.ticks-n)),f=(-o+u)/h,p=(-o-u)/h;return(f>0?f:p)+s.time}else return s?s.value===0?1/0:s.time+(n-s.ticks)/s.value:n/this._initialValue}ticksToTime(n,s){return this.getDurationOfTicks(n,s)}timeToTicks(n,s){const r=this.toSeconds(s),o=this.toSeconds(n),l=this.getTicksAtTime(r);return this.getTicksAtTime(r+o)-l}_fromType(n){return this.units==="bpm"&&this.multiplier?1/(60/n/this.multiplier):super._fromType(n)}_toType(n){return this.units==="bpm"&&this.multiplier?n/this.multiplier*60:super._toType(n)}get multiplier(){return this._multiplier}set multiplier(n){const s=this.value;this._multiplier=n,this.cancelScheduledValues(0),this.setValueAtTime(s,0)}}class Lf extends $e{constructor(){const n=Gt(Lf.getDefaults(),arguments,["value"]);super(n),this.name="TickSignal",this.input=this._param=new Vf({context:this.context,convert:n.convert,multiplier:n.multiplier,param:this._constantSource.offset,units:n.units,value:n.value})}static getDefaults(){return Object.assign($e.getDefaults(),{multiplier:1,units:"hertz",value:1})}ticksToTime(n,s){return this._param.ticksToTime(n,s)}timeToTicks(n,s){return this._param.timeToTicks(n,s)}getTimeOfTick(n){return this._param.getTimeOfTick(n)}getDurationOfTicks(n,s){return this._param.getDurationOfTicks(n,s)}getTicksAtTime(n){return this._param.getTicksAtTime(n)}get multiplier(){return this._param.multiplier}set multiplier(n){this._param.multiplier=n}dispose(){return super.dispose(),this._param.dispose(),this}}class Ff extends Tn{constructor(){const n=Gt(Ff.getDefaults(),arguments,["frequency"]);super(n),this.name="TickSource",this._state=new Bf,this._tickOffset=new $n,this._ticksAtTime=new $n,this._secondsAtTime=new $n,this.frequency=new Lf({context:this.context,units:n.units,value:n.frequency}),Re(this,"frequency"),this._state.setStateAtTime("stopped",0),this.setTicksAtTime(0,0)}static getDefaults(){return Object.assign({frequency:1,units:"hertz"},Tn.getDefaults())}get state(){return this.getStateAtTime(this.now())}start(n,s){const r=this.toSeconds(n);return this._state.getValueAtTime(r)!=="started"&&(this._state.setStateAtTime("started",r),$t(s)&&this.setTicksAtTime(s,r),this._ticksAtTime.cancel(r),this._secondsAtTime.cancel(r)),this}stop(n){const s=this.toSeconds(n);if(this._state.getValueAtTime(s)==="stopped"){const r=this._state.get(s);r&&r.time>0&&(this._tickOffset.cancel(r.time),this._state.cancel(r.time))}return this._state.cancel(s),this._state.setStateAtTime("stopped",s),this.setTicksAtTime(0,s),this._ticksAtTime.cancel(s),this._secondsAtTime.cancel(s),this}pause(n){const s=this.toSeconds(n);return this._state.getValueAtTime(s)==="started"&&(this._state.setStateAtTime("paused",s),this._ticksAtTime.cancel(s),this._secondsAtTime.cancel(s)),this}cancel(n){return n=this.toSeconds(n),this._state.cancel(n),this._tickOffset.cancel(n),this._ticksAtTime.cancel(n),this._secondsAtTime.cancel(n),this}getTicksAtTime(n){const s=this.toSeconds(n),r=this._state.getLastState("stopped",s),o=this._ticksAtTime.get(s),l={state:"paused",time:s};this._state.add(l);let h=o||r,u=o?o.ticks:0,f=null;return this._state.forEachBetween(h.time,s+this.sampleTime,p=>{let m=h.time;const _=this._tickOffset.get(p.time);_&&_.time>=h.time&&(u=_.ticks,m=_.time),h.state==="started"&&p.state!=="started"&&(u+=this.frequency.getTicksAtTime(p.time)-this.frequency.getTicksAtTime(m),p.time!==l.time&&(f={state:p.state,time:p.time,ticks:u})),h=p}),this._state.remove(l),f&&this._ticksAtTime.add(f),u}get ticks(){return this.getTicksAtTime(this.now())}set ticks(n){this.setTicksAtTime(n,this.now())}get seconds(){return this.getSecondsAtTime(this.now())}set seconds(n){const s=this.now(),r=this.frequency.timeToTicks(n,s);this.setTicksAtTime(r,s)}getSecondsAtTime(n){n=this.toSeconds(n);const s=this._state.getLastState("stopped",n),r={state:"paused",time:n};this._state.add(r);const o=this._secondsAtTime.get(n);let l=o||s,h=o?o.seconds:0,u=null;return this._state.forEachBetween(l.time,n+this.sampleTime,f=>{let p=l.time;const m=this._tickOffset.get(f.time);m&&m.time>=l.time&&(h=m.seconds,p=m.time),l.state==="started"&&f.state!=="started"&&(h+=f.time-p,f.time!==r.time&&(u={state:f.state,time:f.time,seconds:h})),l=f}),this._state.remove(r),u&&this._secondsAtTime.add(u),h}setTicksAtTime(n,s){return s=this.toSeconds(s),this._tickOffset.cancel(s),this._tickOffset.add({seconds:this.frequency.getDurationOfTicks(n,s),ticks:n,time:s}),this._ticksAtTime.cancel(s),this._secondsAtTime.cancel(s),this}getStateAtTime(n){return n=this.toSeconds(n),this._state.getValueAtTime(n)}getTimeOfTick(n,s=this.now()){const r=this._tickOffset.get(s),o=this._state.get(s),l=Math.max(r.time,o.time),h=this.frequency.getTicksAtTime(l)+n-r.ticks;return this.frequency.getTimeOfTick(h)}forEachTickBetween(n,s,r){let o=this._state.get(n);this._state.forEachBetween(n,s,h=>{o&&o.state==="started"&&h.state!=="started"&&this.forEachTickBetween(Math.max(o.time,n),h.time-this.sampleTime,r),o=h});let l=null;if(o&&o.state==="started"){const h=Math.max(o.time,n),u=this.frequency.getTicksAtTime(h),f=this.frequency.getTicksAtTime(o.time),p=u-f;let m=Math.ceil(p)-p;m=is(m,1)?0:m;let _=this.frequency.getTimeOfTick(u+m);for(;_<s;){try{r(_,Math.round(this.getTicksAtTime(_)))}catch(b){l=b;break}_+=this.frequency.getDurationOfTicks(1,_)}}if(l)throw l;return this}dispose(){return super.dispose(),this._state.dispose(),this._tickOffset.dispose(),this._ticksAtTime.dispose(),this._secondsAtTime.dispose(),this.frequency.dispose(),this}}class hc extends Tn{constructor(){const n=Gt(hc.getDefaults(),arguments,["callback","frequency"]);super(n),this.name="Clock",this.callback=fe,this._lastUpdate=0,this._state=new Bf("stopped"),this._boundLoop=this._loop.bind(this),this.callback=n.callback,this._tickSource=new Ff({context:this.context,frequency:n.frequency,units:n.units}),this._lastUpdate=0,this.frequency=this._tickSource.frequency,Re(this,"frequency"),this._state.setStateAtTime("stopped",0),this.context.on("tick",this._boundLoop)}static getDefaults(){return Object.assign(Tn.getDefaults(),{callback:fe,frequency:1,units:"hertz"})}get state(){return this._state.getValueAtTime(this.now())}start(n,s){Y_(this.context);const r=this.toSeconds(n);return this.log("start",r),this._state.getValueAtTime(r)!=="started"&&(this._state.setStateAtTime("started",r),this._tickSource.start(r,s),r<this._lastUpdate&&this.emit("start",r,s)),this}stop(n){const s=this.toSeconds(n);return this.log("stop",s),this._state.cancel(s),this._state.setStateAtTime("stopped",s),this._tickSource.stop(s),s<this._lastUpdate&&this.emit("stop",s),this}pause(n){const s=this.toSeconds(n);return this._state.getValueAtTime(s)==="started"&&(this._state.setStateAtTime("paused",s),this._tickSource.pause(s),s<this._lastUpdate&&this.emit("pause",s)),this}get ticks(){return Math.ceil(this.getTicksAtTime(this.now()))}set ticks(n){this._tickSource.ticks=n}get seconds(){return this._tickSource.seconds}set seconds(n){this._tickSource.seconds=n}getSecondsAtTime(n){return this._tickSource.getSecondsAtTime(n)}setTicksAtTime(n,s){return this._tickSource.setTicksAtTime(n,s),this}getTimeOfTick(n,s=this.now()){return this._tickSource.getTimeOfTick(n,s)}getTicksAtTime(n){return this._tickSource.getTicksAtTime(n)}nextTickTime(n,s){const r=this.toSeconds(s),o=this.getTicksAtTime(r);return this._tickSource.getTimeOfTick(o+n,r)}_loop(){const n=this._lastUpdate,s=this.now();this._lastUpdate=s,this.log("loop",n,s),n!==s&&(this._state.forEachBetween(n,s,r=>{switch(r.state){case"started":const o=this._tickSource.getTicksAtTime(r.time);this.emit("start",r.time,o);break;case"stopped":r.time!==0&&this.emit("stop",r.time);break;case"paused":this.emit("pause",r.time);break}}),this._tickSource.forEachTickBetween(n,s,(r,o)=>{this.callback(r,o)}))}getStateAtTime(n){const s=this.toSeconds(n);return this._state.getValueAtTime(s)}dispose(){return super.dispose(),this.context.off("tick",this._boundLoop),this._tickSource.dispose(),this._state.dispose(),this}}mo.mixin(hc);class ea extends Jt{constructor(){const n=Gt(ea.getDefaults(),arguments,["volume"]);super(n),this.name="Volume",this.input=this.output=new ln({context:this.context,gain:n.volume,units:"decibels"}),this.volume=this.output.gain,Re(this,"volume"),this._unmutedVolume=n.volume,this.mute=n.mute}static getDefaults(){return Object.assign(Jt.getDefaults(),{mute:!1,volume:0})}get mute(){return this.volume.value===-1/0}set mute(n){!this.mute&&n?(this._unmutedVolume=this.volume.value,this.volume.value=-1/0):this.mute&&!n&&(this.volume.value=this._unmutedVolume)}dispose(){return super.dispose(),this.input.dispose(),this.volume.dispose(),this}}class Hf extends Jt{constructor(){const n=Gt(Hf.getDefaults(),arguments);super(n),this.name="Destination",this.input=new ea({context:this.context}),this.output=new ln({context:this.context}),this.volume=this.input.volume,hf(this.input,this.output,this.context.rawContext.destination),this.mute=n.mute,this._internalChannels=[this.input,this.context.rawContext.destination,this.output]}static getDefaults(){return Object.assign(Jt.getDefaults(),{mute:!1,volume:0})}get mute(){return this.input.mute}set mute(n){this.input.mute=n}chain(...n){return this.input.disconnect(),n.unshift(this.input),n.push(this.output),hf(...n),this}get maxChannelCount(){return this.context.rawContext.destination.maxChannelCount}dispose(){return super.dispose(),this.volume.dispose(),this}}lc(c=>{c.destination=new Hf({context:c})});cc(c=>{c.destination.dispose()});class yT extends Jt{constructor(){super(...arguments),this.name="Listener",this.positionX=new ke({context:this.context,param:this.context.rawContext.listener.positionX}),this.positionY=new ke({context:this.context,param:this.context.rawContext.listener.positionY}),this.positionZ=new ke({context:this.context,param:this.context.rawContext.listener.positionZ}),this.forwardX=new ke({context:this.context,param:this.context.rawContext.listener.forwardX}),this.forwardY=new ke({context:this.context,param:this.context.rawContext.listener.forwardY}),this.forwardZ=new ke({context:this.context,param:this.context.rawContext.listener.forwardZ}),this.upX=new ke({context:this.context,param:this.context.rawContext.listener.upX}),this.upY=new ke({context:this.context,param:this.context.rawContext.listener.upY}),this.upZ=new ke({context:this.context,param:this.context.rawContext.listener.upZ})}static getDefaults(){return Object.assign(Jt.getDefaults(),{positionX:0,positionY:0,positionZ:0,forwardX:0,forwardY:0,forwardZ:-1,upX:0,upY:1,upZ:0})}dispose(){return super.dispose(),this.positionX.dispose(),this.positionY.dispose(),this.positionZ.dispose(),this.forwardX.dispose(),this.forwardY.dispose(),this.forwardZ.dispose(),this.upX.dispose(),this.upY.dispose(),this.upZ.dispose(),this}}lc(c=>{c.listener=new yT({context:c})});cc(c=>{c.listener.dispose()});class Gf extends Fs{constructor(){super(),this.name="ToneAudioBuffers",this._buffers=new Map,this._loadingCount=0;const n=Gt(Gf.getDefaults(),arguments,["urls","onload","baseUrl"],"urls");this.baseUrl=n.baseUrl,Object.keys(n.urls).forEach(s=>{this._loadingCount++;const r=n.urls[s];this.add(s,r,this._bufferLoaded.bind(this,n.onload),n.onerror)})}static getDefaults(){return{baseUrl:"",onerror:fe,onload:fe,urls:{}}}has(n){return this._buffers.has(n.toString())}get(n){return Vt(this.has(n),`ToneAudioBuffers has no buffer named: ${n}`),this._buffers.get(n.toString())}_bufferLoaded(n){this._loadingCount--,this._loadingCount===0&&n&&n()}get loaded(){return Array.from(this._buffers).every(([n,s])=>s.loaded)}add(n,s,r=fe,o=fe){return Vs(s)?(this.baseUrl&&s.trim().substring(0,11).toLowerCase()==="data:audio/"&&(this.baseUrl=""),this._buffers.set(n.toString(),new ye(this.baseUrl+s,r,o))):this._buffers.set(n.toString(),new ye(s,r,o)),this}dispose(){return super.dispose(),this._buffers.forEach(n=>n.dispose()),this._buffers.clear(),this}}class Ql extends Un{constructor(){super(...arguments),this.name="MidiClass",this.defaultUnits="midi"}_frequencyToUnits(n){return Gi(super._frequencyToUnits(n))}_ticksToUnits(n){return Gi(super._ticksToUnits(n))}_beatsToUnits(n){return Gi(super._beatsToUnits(n))}_secondsToUnits(n){return Gi(super._secondsToUnits(n))}toMidi(){return this.valueOf()}toFrequency(){return sv(this.toMidi())}transpose(n){return new Ql(this.context,this.toMidi()+n)}}class Br extends eo{constructor(){super(...arguments),this.name="Ticks",this.defaultUnits="i"}_now(){return this.context.transport.ticks}_beatsToUnits(n){return this._getPPQ()*n}_secondsToUnits(n){return Math.floor(n/(60/this._getBpm())*this._getPPQ())}_ticksToUnits(n){return n}toTicks(){return this.valueOf()}toSeconds(){return this.valueOf()/this._getPPQ()*(60/this._getBpm())}}class bT extends Tn{constructor(){super(...arguments),this.name="Draw",this.expiration=.25,this.anticipation=.008,this._events=new $n,this._boundDrawLoop=this._drawLoop.bind(this),this._animationFrame=-1}schedule(n,s){return this._events.add({callback:n,time:this.toSeconds(s)}),this._events.length===1&&(this._animationFrame=requestAnimationFrame(this._boundDrawLoop)),this}cancel(n){return this._events.cancel(this.toSeconds(n)),this}_drawLoop(){const n=this.context.currentTime;this._events.forEachBefore(n+this.anticipation,s=>{n-s.time<=this.expiration&&s.callback(),this._events.remove(s)}),this._events.length>0&&(this._animationFrame=requestAnimationFrame(this._boundDrawLoop))}dispose(){return super.dispose(),this._events.dispose(),cancelAnimationFrame(this._animationFrame),this}}lc(c=>{c.draw=new bT({context:c})});cc(c=>{c.draw.dispose()});class xT extends Fs{constructor(){super(...arguments),this.name="IntervalTimeline",this._root=null,this._length=0}add(n){Vt($t(n.time),"Events must have a time property"),Vt($t(n.duration),"Events must have a duration parameter"),n.time=n.time.valueOf();let s=new ST(n.time,n.time+n.duration,n);for(this._root===null?this._root=s:this._root.insert(s),this._length++;s!==null;)s.updateHeight(),s.updateMax(),this._rebalance(s),s=s.parent;return this}remove(n){if(this._root!==null){const s=[];this._root.search(n.time,s);for(const r of s)if(r.event===n){this._removeNode(r),this._length--;break}}return this}get length(){return this._length}cancel(n){return this.forEachFrom(n,s=>this.remove(s)),this}_setRoot(n){this._root=n,this._root!==null&&(this._root.parent=null)}_replaceNodeInParent(n,s){n.parent!==null?(n.isLeftChild()?n.parent.left=s:n.parent.right=s,this._rebalance(n.parent)):this._setRoot(s)}_removeNode(n){if(n.left===null&&n.right===null)this._replaceNodeInParent(n,null);else if(n.right===null)this._replaceNodeInParent(n,n.left);else if(n.left===null)this._replaceNodeInParent(n,n.right);else{const s=n.getBalance();let r,o=null;if(s>0)if(n.left.right===null)r=n.left,r.right=n.right,o=r;else{for(r=n.left.right;r.right!==null;)r=r.right;r.parent&&(r.parent.right=r.left,o=r.parent,r.left=n.left,r.right=n.right)}else if(n.right.left===null)r=n.right,r.left=n.left,o=r;else{for(r=n.right.left;r.left!==null;)r=r.left;r.parent&&(r.parent.left=r.right,o=r.parent,r.left=n.left,r.right=n.right)}n.parent!==null?n.isLeftChild()?n.parent.left=r:n.parent.right=r:this._setRoot(r),o&&this._rebalance(o)}n.dispose()}_rotateLeft(n){const s=n.parent,r=n.isLeftChild(),o=n.right;o&&(n.right=o.left,o.left=n),s!==null?r?s.left=o:s.right=o:this._setRoot(o)}_rotateRight(n){const s=n.parent,r=n.isLeftChild(),o=n.left;o&&(n.left=o.right,o.right=n),s!==null?r?s.left=o:s.right=o:this._setRoot(o)}_rebalance(n){const s=n.getBalance();s>1&&n.left?n.left.getBalance()<0?this._rotateLeft(n.left):this._rotateRight(n):s<-1&&n.right&&(n.right.getBalance()>0?this._rotateRight(n.right):this._rotateLeft(n))}get(n){if(this._root!==null){const s=[];if(this._root.search(n,s),s.length>0){let r=s[0];for(let o=1;o<s.length;o++)s[o].low>r.low&&(r=s[o]);return r.event}}return null}forEach(n){if(this._root!==null){const s=[];this._root.traverse(r=>s.push(r)),s.forEach(r=>{r.event&&n(r.event)})}return this}forEachAtTime(n,s){if(this._root!==null){const r=[];this._root.search(n,r),r.forEach(o=>{o.event&&s(o.event)})}return this}forEachFrom(n,s){if(this._root!==null){const r=[];this._root.searchAfter(n,r),r.forEach(o=>{o.event&&s(o.event)})}return this}dispose(){return super.dispose(),this._root!==null&&this._root.traverse(n=>n.dispose()),this._root=null,this}}class ST{constructor(n,s,r){this._left=null,this._right=null,this.parent=null,this.height=0,this.event=r,this.low=n,this.high=s,this.max=this.high}insert(n){n.low<=this.low?this.left===null?this.left=n:this.left.insert(n):this.right===null?this.right=n:this.right.insert(n)}search(n,s){n>this.max||(this.left!==null&&this.left.search(n,s),this.low<=n&&this.high>n&&s.push(this),!(this.low>n)&&this.right!==null&&this.right.search(n,s))}searchAfter(n,s){this.low>=n&&(s.push(this),this.left!==null&&this.left.searchAfter(n,s)),this.right!==null&&this.right.searchAfter(n,s)}traverse(n){n(this),this.left!==null&&this.left.traverse(n),this.right!==null&&this.right.traverse(n)}updateHeight(){this.left!==null&&this.right!==null?this.height=Math.max(this.left.height,this.right.height)+1:this.right!==null?this.height=this.right.height+1:this.left!==null?this.height=this.left.height+1:this.height=0}updateMax(){this.max=this.high,this.left!==null&&(this.max=Math.max(this.max,this.left.max)),this.right!==null&&(this.max=Math.max(this.max,this.right.max))}getBalance(){let n=0;return this.left!==null&&this.right!==null?n=this.left.height-this.right.height:this.left!==null?n=this.left.height+1:this.right!==null&&(n=-(this.right.height+1)),n}isLeftChild(){return this.parent!==null&&this.parent.left===this}get left(){return this._left}set left(n){this._left=n,n!==null&&(n.parent=this),this.updateHeight(),this.updateMax()}get right(){return this._right}set right(n){this._right=n,n!==null&&(n.parent=this),this.updateHeight(),this.updateMax()}dispose(){this.parent=null,this._left=null,this._right=null,this.event=null}}class wT extends Fs{constructor(n){super(),this.name="TimelineValue",this._timeline=new $n({memory:10}),this._initialValue=n}set(n,s){return this._timeline.add({value:n,time:s}),this}get(n){const s=this._timeline.get(n);return s?s.value:this._initialValue}}class Pr extends Jt{constructor(){super(Gt(Pr.getDefaults(),arguments,["context"]))}connect(n,s=0,r=0){return qf(this,n,s,r),this}}class _o extends Pr{constructor(){const n=Gt(_o.getDefaults(),arguments,["mapping","length"]);super(n),this.name="WaveShaper",this._shaper=this.context.createWaveShaper(),this.input=this._shaper,this.output=this._shaper,Bn(n.mapping)||n.mapping instanceof Float32Array?this.curve=Float32Array.from(n.mapping):Yw(n.mapping)&&this.setMap(n.mapping,n.length)}static getDefaults(){return Object.assign($e.getDefaults(),{length:1024})}setMap(n,s=1024){const r=new Float32Array(s);for(let o=0,l=s;o<l;o++){const h=o/(l-1)*2-1;r[o]=n(h,o)}return this.curve=r,this}get curve(){return this._shaper.curve}set curve(n){this._shaper.curve=n}get oversample(){return this._shaper.oversample}set oversample(n){const s=["none","2x","4x"].some(r=>r.includes(n));Vt(s,"oversampling must be either 'none', '2x', or '4x'"),this._shaper.oversample=n}dispose(){return super.dispose(),this._shaper.disconnect(),this}}class Pf extends Pr{constructor(){const n=Gt(Pf.getDefaults(),arguments,["value"]);super(n),this.name="Pow",this._exponentScaler=this.input=this.output=new _o({context:this.context,mapping:this._expFunc(n.value),length:8192}),this._exponent=n.value}static getDefaults(){return Object.assign(Pr.getDefaults(),{value:1})}_expFunc(n){return s=>Math.pow(Math.abs(s),n)}get value(){return this._exponent}set value(n){this._exponent=n,this._exponentScaler.setMap(this._expFunc(this._exponent))}dispose(){return super.dispose(),this._exponentScaler.dispose(),this}}class yi{constructor(n,s){this.id=yi._eventId++,this._remainderTime=0;const r=Object.assign(yi.getDefaults(),s);this.transport=n,this.callback=r.callback,this._once=r.once,this.time=Math.floor(r.time),this._remainderTime=r.time-this.time}static getDefaults(){return{callback:fe,once:!1,time:0}}get floatTime(){return this.time+this._remainderTime}invoke(n){if(this.callback){const s=this.transport.bpm.getDurationOfTicks(1,n);this.callback(n+this._remainderTime*s),this._once&&this.transport.clear(this.id)}}dispose(){return this.callback=void 0,this}}yi._eventId=0;class Zf extends yi{constructor(n,s){super(n,s),this._currentId=-1,this._nextId=-1,this._nextTick=this.time,this._boundRestart=this._restart.bind(this);const r=Object.assign(Zf.getDefaults(),s);this.duration=r.duration,this._interval=r.interval,this._nextTick=r.time,this.transport.on("start",this._boundRestart),this.transport.on("loopStart",this._boundRestart),this.transport.on("ticks",this._boundRestart),this.context=this.transport.context,this._restart()}static getDefaults(){return Object.assign({},yi.getDefaults(),{duration:1/0,interval:1,once:!1})}invoke(n){this._createEvents(n),super.invoke(n)}_createEvent(){return Wl(this._nextTick,this.floatTime+this.duration)?this.transport.scheduleOnce(this.invoke.bind(this),new Br(this.context,this._nextTick).toSeconds()):-1}_createEvents(n){Wl(this._nextTick+this._interval,this.floatTime+this.duration)&&(this._nextTick+=this._interval,this._currentId=this._nextId,this._nextId=this.transport.scheduleOnce(this.invoke.bind(this),new Br(this.context,this._nextTick).toSeconds()))}_restart(n){this.transport.clear(this._currentId),this.transport.clear(this._nextId),this._nextTick=this.floatTime;const s=this.transport.getTicksAtTime(n);Hr(s,this.time)&&(this._nextTick=this.floatTime+Math.ceil((s-this.floatTime)/this._interval)*this._interval),this._currentId=this._createEvent(),this._nextTick+=this._interval,this._nextId=this._createEvent()}dispose(){return super.dispose(),this.transport.clear(this._currentId),this.transport.clear(this._nextId),this.transport.off("start",this._boundRestart),this.transport.off("loopStart",this._boundRestart),this.transport.off("ticks",this._boundRestart),this}}class fc extends Tn{constructor(){const n=Gt(fc.getDefaults(),arguments);super(n),this.name="Transport",this._loop=new wT(!1),this._loopStart=0,this._loopEnd=0,this._scheduledEvents={},this._timeline=new $n,this._repeatedEvents=new xT,this._syncedSignals=[],this._swingAmount=0,this._ppq=n.ppq,this._clock=new hc({callback:this._processTick.bind(this),context:this.context,frequency:0,units:"bpm"}),this._bindClockEvents(),this.bpm=this._clock.frequency,this._clock.frequency.multiplier=n.ppq,this.bpm.setValueAtTime(n.bpm,0),Re(this,"bpm"),this._timeSignature=n.timeSignature,this._swingTicks=n.ppq/2}static getDefaults(){return Object.assign(Tn.getDefaults(),{bpm:120,loopEnd:"4m",loopStart:0,ppq:192,swing:0,swingSubdivision:"8n",timeSignature:4})}_processTick(n,s){if(this._loop.get(n)&&s>=this._loopEnd&&(this.emit("loopEnd",n),this._clock.setTicksAtTime(this._loopStart,n),s=this._loopStart,this.emit("loopStart",n,this._clock.getSecondsAtTime(n)),this.emit("loop",n)),this._swingAmount>0&&s%this._ppq!==0&&s%(this._swingTicks*2)!==0){const r=s%(this._swingTicks*2)/(this._swingTicks*2),o=Math.sin(r*Math.PI)*this._swingAmount;n+=new Br(this.context,this._swingTicks*2/3).toSeconds()*o}f0(!0),this._timeline.forEachAtTime(s,r=>r.invoke(n)),f0(!1)}schedule(n,s){const r=new yi(this,{callback:n,time:new eo(this.context,s).toTicks()});return this._addEvent(r,this._timeline)}scheduleRepeat(n,s,r,o=1/0){const l=new Zf(this,{callback:n,duration:new as(this.context,o).toTicks(),interval:new as(this.context,s).toTicks(),time:new eo(this.context,r).toTicks()});return this._addEvent(l,this._repeatedEvents)}scheduleOnce(n,s){const r=new yi(this,{callback:n,once:!0,time:new eo(this.context,s).toTicks()});return this._addEvent(r,this._timeline)}clear(n){if(this._scheduledEvents.hasOwnProperty(n)){const s=this._scheduledEvents[n.toString()];s.timeline.remove(s.event),s.event.dispose(),delete this._scheduledEvents[n.toString()]}return this}_addEvent(n,s){return this._scheduledEvents[n.id.toString()]={event:n,timeline:s},s.add(n),n.id}cancel(n=0){const s=this.toTicks(n);return this._timeline.forEachFrom(s,r=>this.clear(r.id)),this._repeatedEvents.forEachFrom(s,r=>this.clear(r.id)),this}_bindClockEvents(){this._clock.on("start",(n,s)=>{s=new Br(this.context,s).toSeconds(),this.emit("start",n,s)}),this._clock.on("stop",n=>{this.emit("stop",n)}),this._clock.on("pause",n=>{this.emit("pause",n)})}get state(){return this._clock.getStateAtTime(this.now())}start(n,s){this.context.resume();let r;return $t(s)&&(r=this.toTicks(s)),this._clock.start(n,r),this}stop(n){return this._clock.stop(n),this}pause(n){return this._clock.pause(n),this}toggle(n){return n=this.toSeconds(n),this._clock.getStateAtTime(n)!=="started"?this.start(n):this.stop(n),this}get timeSignature(){return this._timeSignature}set timeSignature(n){Bn(n)&&(n=n[0]/n[1]*4),this._timeSignature=n}get loopStart(){return new as(this.context,this._loopStart,"i").toSeconds()}set loopStart(n){this._loopStart=this.toTicks(n)}get loopEnd(){return new as(this.context,this._loopEnd,"i").toSeconds()}set loopEnd(n){this._loopEnd=this.toTicks(n)}get loop(){return this._loop.get(this.now())}set loop(n){this._loop.set(n,this.now())}setLoopPoints(n,s){return this.loopStart=n,this.loopEnd=s,this}get swing(){return this._swingAmount}set swing(n){this._swingAmount=n}get swingSubdivision(){return new Br(this.context,this._swingTicks).toNotation()}set swingSubdivision(n){this._swingTicks=this.toTicks(n)}get position(){const n=this.now(),s=this._clock.getTicksAtTime(n);return new Br(this.context,s).toBarsBeatsSixteenths()}set position(n){const s=this.toTicks(n);this.ticks=s}get seconds(){return this._clock.seconds}set seconds(n){const s=this.now(),r=this._clock.frequency.timeToTicks(n,s);this.ticks=r}get progress(){if(this.loop){const n=this.now();return(this._clock.getTicksAtTime(n)-this._loopStart)/(this._loopEnd-this._loopStart)}else return 0}get ticks(){return this._clock.ticks}set ticks(n){if(this._clock.ticks!==n){const s=this.now();if(this.state==="started"){const r=this._clock.getTicksAtTime(s),o=this._clock.frequency.getDurationOfTicks(Math.ceil(r)-r,s),l=s+o;this.emit("stop",l),this._clock.setTicksAtTime(n,l),this.emit("start",l,this._clock.getSecondsAtTime(l))}else this.emit("ticks",s),this._clock.setTicksAtTime(n,s)}}getTicksAtTime(n){return this._clock.getTicksAtTime(n)}getSecondsAtTime(n){return this._clock.getSecondsAtTime(n)}get PPQ(){return this._clock.frequency.multiplier}set PPQ(n){this._clock.frequency.multiplier=n}nextSubdivision(n){if(n=this.toTicks(n),this.state!=="started")return 0;{const s=this.now(),r=this.getTicksAtTime(s),o=n-r%n;return this._clock.nextTickTime(o,s)}}syncSignal(n,s){const r=this.now();let o=this.bpm,l=1/(60/o.getValueAtTime(r)/this.PPQ),h=[];if(n.units==="time"){const f=.015625/l,p=new ln(f),m=new Pf(-1),_=new ln(f);o.chain(p,m,_),o=_,l=1/l,h=[p,m,_]}s||(n.getValueAtTime(r)!==0?s=n.getValueAtTime(r)/l:s=0);const u=new ln(s);return o.connect(u),u.connect(n._param),h.push(u),this._syncedSignals.push({initial:n.value,nodes:h,signal:n}),n.value=0,this}unsyncSignal(n){for(let s=this._syncedSignals.length-1;s>=0;s--){const r=this._syncedSignals[s];r.signal===n&&(r.nodes.forEach(o=>o.dispose()),r.signal.value=r.initial,this._syncedSignals.splice(s,1))}return this}dispose(){return super.dispose(),this._clock.dispose(),$_(this,"bpm"),this._timeline.dispose(),this._repeatedEvents.dispose(),this}}mo.mixin(fc);lc(c=>{c.transport=new fc({context:c})});cc(c=>{c.transport.dispose()});class In extends Jt{constructor(n){super(n),this.input=void 0,this._state=new Bf("stopped"),this._synced=!1,this._scheduled=[],this._syncedStart=fe,this._syncedStop=fe,this._state.memory=100,this._state.increasing=!0,this._volume=this.output=new ea({context:this.context,mute:n.mute,volume:n.volume}),this.volume=this._volume.volume,Re(this,"volume"),this.onstop=n.onstop}static getDefaults(){return Object.assign(Jt.getDefaults(),{mute:!1,onstop:fe,volume:0})}get state(){return this._synced?this.context.transport.state==="started"?this._state.getValueAtTime(this.context.transport.seconds):"stopped":this._state.getValueAtTime(this.now())}get mute(){return this._volume.mute}set mute(n){this._volume.mute=n}_clampToCurrentTime(n){return this._synced?n:Math.max(n,this.context.currentTime)}start(n,s,r){let o=Jn(n)&&this._synced?this.context.transport.seconds:this.toSeconds(n);if(o=this._clampToCurrentTime(o),!this._synced&&this._state.getValueAtTime(o)==="started")Vt(Hr(o,this._state.get(o).time),"Start time must be strictly greater than previous start time"),this._state.cancel(o),this._state.setStateAtTime("started",o),this.log("restart",o),this.restart(o,s,r);else if(this.log("start",o),this._state.setStateAtTime("started",o),this._synced){const l=this._state.get(o);l&&(l.offset=this.toSeconds(qr(s,0)),l.duration=r?this.toSeconds(r):void 0);const h=this.context.transport.schedule(u=>{this._start(u,s,r)},o);this._scheduled.push(h),this.context.transport.state==="started"&&this.context.transport.getSecondsAtTime(this.immediate())>o&&this._syncedStart(this.now(),this.context.transport.seconds)}else Y_(this.context),this._start(o,s,r);return this}stop(n){let s=Jn(n)&&this._synced?this.context.transport.seconds:this.toSeconds(n);if(s=this._clampToCurrentTime(s),this._state.getValueAtTime(s)==="started"||$t(this._state.getNextState("started",s))){if(this.log("stop",s),!this._synced)this._stop(s);else{const r=this.context.transport.schedule(this._stop.bind(this),s);this._scheduled.push(r)}this._state.cancel(s),this._state.setStateAtTime("stopped",s)}return this}restart(n,s,r){return n=this.toSeconds(n),this._state.getValueAtTime(n)==="started"&&(this._state.cancel(n),this._restart(n,s,r)),this}sync(){return this._synced||(this._synced=!0,this._syncedStart=(n,s)=>{if(Hr(s,0)){const r=this._state.get(s);if(r&&r.state==="started"&&r.time!==s){const o=s-this.toSeconds(r.time);let l;r.duration&&(l=this.toSeconds(r.duration)-o),this._start(n,this.toSeconds(r.offset)+o,l)}}},this._syncedStop=n=>{const s=this.context.transport.getSecondsAtTime(Math.max(n-this.sampleTime,0));this._state.getValueAtTime(s)==="started"&&this._stop(n)},this.context.transport.on("start",this._syncedStart),this.context.transport.on("loopStart",this._syncedStart),this.context.transport.on("stop",this._syncedStop),this.context.transport.on("pause",this._syncedStop),this.context.transport.on("loopEnd",this._syncedStop)),this}unsync(){return this._synced&&(this.context.transport.off("stop",this._syncedStop),this.context.transport.off("pause",this._syncedStop),this.context.transport.off("loopEnd",this._syncedStop),this.context.transport.off("start",this._syncedStart),this.context.transport.off("loopStart",this._syncedStart)),this._synced=!1,this._scheduled.forEach(n=>this.context.transport.clear(n)),this._scheduled=[],this._state.cancel(0),this._stop(0),this}dispose(){return super.dispose(),this.onstop=fe,this.unsync(),this._volume.dispose(),this._state.dispose(),this}}class dc extends Gr{constructor(){const n=Gt(dc.getDefaults(),arguments,["url","onload"]);super(n),this.name="ToneBufferSource",this._source=this.context.createBufferSource(),this._internalChannels=[this._source],this._sourceStarted=!1,this._sourceStopped=!1,Ji(this._source,this._gainNode),this._source.onended=()=>this._stopSource(),this.playbackRate=new ke({context:this.context,param:this._source.playbackRate,units:"positive",value:n.playbackRate}),this.loop=n.loop,this.loopStart=n.loopStart,this.loopEnd=n.loopEnd,this._buffer=new ye(n.url,n.onload,n.onerror),this._internalChannels.push(this._source)}static getDefaults(){return Object.assign(Gr.getDefaults(),{url:new ye,loop:!1,loopEnd:0,loopStart:0,onload:fe,onerror:fe,playbackRate:1})}get fadeIn(){return this._fadeIn}set fadeIn(n){this._fadeIn=n}get fadeOut(){return this._fadeOut}set fadeOut(n){this._fadeOut=n}get curve(){return this._curve}set curve(n){this._curve=n}start(n,s,r,o=1){Vt(this.buffer.loaded,"buffer is either not set or not loaded");const l=this.toSeconds(n);this._startGain(l,o),this.loop?s=qr(s,this.loopStart):s=qr(s,0);let h=Math.max(this.toSeconds(s),0);if(this.loop){const u=this.toSeconds(this.loopEnd)||this.buffer.duration,f=this.toSeconds(this.loopStart),p=u-f;uf(h,u)&&(h=(h-f)%p+f),is(h,this.buffer.duration)&&(h=0)}if(this._source.buffer=this.buffer.get(),this._source.loopEnd=this.toSeconds(this.loopEnd)||this.buffer.duration,Wl(h,this.buffer.duration)&&(this._sourceStarted=!0,this._source.start(l,h)),$t(r)){let u=this.toSeconds(r);u=Math.max(u,0),this.stop(l+u)}return this}_stopSource(n){!this._sourceStopped&&this._sourceStarted&&(this._sourceStopped=!0,this._source.stop(this.toSeconds(n)),this._onended())}get loopStart(){return this._source.loopStart}set loopStart(n){this._source.loopStart=this.toSeconds(n)}get loopEnd(){return this._source.loopEnd}set loopEnd(n){this._source.loopEnd=this.toSeconds(n)}get buffer(){return this._buffer}set buffer(n){this._buffer.set(n)}get loop(){return this._source.loop}set loop(n){this._source.loop=n,this._sourceStarted&&this.cancelStop()}dispose(){return super.dispose(),this._source.onended=null,this._source.disconnect(),this._buffer.dispose(),this.playbackRate.dispose(),this}}function $i(c,n){return Fe(this,void 0,void 0,function*(){const s=n/c.context.sampleRate,r=new zf(1,s,c.context.sampleRate);return new c.constructor(Object.assign(c.get(),{frequency:2/s,detune:0,context:r})).toDestination().start(0),(yield r.render()).getChannelData(0)})}class Yf extends Gr{constructor(){const n=Gt(Yf.getDefaults(),arguments,["frequency","type"]);super(n),this.name="ToneOscillatorNode",this._oscillator=this.context.createOscillator(),this._internalChannels=[this._oscillator],Ji(this._oscillator,this._gainNode),this.type=n.type,this.frequency=new ke({context:this.context,param:this._oscillator.frequency,units:"frequency",value:n.frequency}),this.detune=new ke({context:this.context,param:this._oscillator.detune,units:"cents",value:n.detune}),Re(this,["frequency","detune"])}static getDefaults(){return Object.assign(Gr.getDefaults(),{detune:0,frequency:440,type:"sine"})}start(n){const s=this.toSeconds(n);return this.log("start",s),this._startGain(s),this._oscillator.start(s),this}_stopSource(n){this._oscillator.stop(n)}setPeriodicWave(n){return this._oscillator.setPeriodicWave(n),this}get type(){return this._oscillator.type}set type(n){this._oscillator.type=n}dispose(){return super.dispose(),this.state==="started"&&this.stop(),this._oscillator.disconnect(),this.frequency.dispose(),this.detune.dispose(),this}}class Le extends In{constructor(){const n=Gt(Le.getDefaults(),arguments,["frequency","type"]);super(n),this.name="Oscillator",this._oscillator=null,this.frequency=new $e({context:this.context,units:"frequency",value:n.frequency}),Re(this,"frequency"),this.detune=new $e({context:this.context,units:"cents",value:n.detune}),Re(this,"detune"),this._partials=n.partials,this._partialCount=n.partialCount,this._type=n.type,n.partialCount&&n.type!=="custom"&&(this._type=this.baseType+n.partialCount.toString()),this.phase=n.phase}static getDefaults(){return Object.assign(In.getDefaults(),{detune:0,frequency:440,partialCount:0,partials:[],phase:0,type:"sine"})}_start(n){const s=this.toSeconds(n),r=new Yf({context:this.context,onended:()=>this.onstop(this)});this._oscillator=r,this._wave?this._oscillator.setPeriodicWave(this._wave):this._oscillator.type=this._type,this._oscillator.connect(this.output),this.frequency.connect(this._oscillator.frequency),this.detune.connect(this._oscillator.detune),this._oscillator.start(s)}_stop(n){const s=this.toSeconds(n);this._oscillator&&this._oscillator.stop(s)}_restart(n){const s=this.toSeconds(n);return this.log("restart",s),this._oscillator&&this._oscillator.cancelStop(),this._state.cancel(s),this}syncFrequency(){return this.context.transport.syncSignal(this.frequency),this}unsyncFrequency(){return this.context.transport.unsyncSignal(this.frequency),this}_getCachedPeriodicWave(){if(this._type==="custom")return Le._periodicWaveCache.find(s=>s.phase===this._phase&&iT(s.partials,this._partials));{const n=Le._periodicWaveCache.find(s=>s.type===this._type&&s.phase===this._phase);return this._partialCount=n?n.partialCount:this._partialCount,n}}get type(){return this._type}set type(n){this._type=n;const s=["sine","square","sawtooth","triangle"].indexOf(n)!==-1;if(this._phase===0&&s)this._wave=void 0,this._partialCount=0,this._oscillator!==null&&(this._oscillator.type=n);else{const r=this._getCachedPeriodicWave();if($t(r)){const{partials:o,wave:l}=r;this._wave=l,this._partials=o,this._oscillator!==null&&this._oscillator.setPeriodicWave(this._wave)}else{const[o,l]=this._getRealImaginary(n,this._phase),h=this.context.createPeriodicWave(o,l);this._wave=h,this._oscillator!==null&&this._oscillator.setPeriodicWave(this._wave),Le._periodicWaveCache.push({imag:l,partialCount:this._partialCount,partials:this._partials,phase:this._phase,real:o,type:this._type,wave:this._wave}),Le._periodicWaveCache.length>100&&Le._periodicWaveCache.shift()}}}get baseType(){return this._type.replace(this.partialCount.toString(),"")}set baseType(n){this.partialCount&&this._type!=="custom"&&n!=="custom"?this.type=n+this.partialCount:this.type=n}get partialCount(){return this._partialCount}set partialCount(n){vi(n,0);let s=this._type;const r=/^(sine|triangle|square|sawtooth)(\d+)$/.exec(this._type);if(r&&(s=r[1]),this._type!=="custom")n===0?this.type=s:this.type=s+n.toString();else{const o=new Float32Array(n);this._partials.forEach((l,h)=>o[h]=l),this._partials=Array.from(o),this.type=this._type}}_getRealImaginary(n,s){let o=2048;const l=new Float32Array(o),h=new Float32Array(o);let u=1;if(n==="custom"){if(u=this._partials.length+1,this._partialCount=this._partials.length,o=u,this._partials.length===0)return[l,h]}else{const f=/^(sine|triangle|square|sawtooth)(\d+)$/.exec(n);f?(u=parseInt(f[2],10)+1,this._partialCount=parseInt(f[2],10),n=f[1],u=Math.max(u,2),o=u):this._partialCount=0,this._partials=[]}for(let f=1;f<o;++f){const p=2/(f*Math.PI);let m;switch(n){case"sine":m=f<=u?1:0,this._partials[f-1]=m;break;case"square":m=f&1?2*p:0,this._partials[f-1]=m;break;case"sawtooth":m=p*(f&1?1:-1),this._partials[f-1]=m;break;case"triangle":f&1?m=2*(p*p)*(f-1>>1&1?-1:1):m=0,this._partials[f-1]=m;break;case"custom":m=this._partials[f-1];break;default:throw new TypeError("Oscillator: invalid type: "+n)}m!==0?(l[f]=-m*Math.sin(s*f),h[f]=m*Math.cos(s*f)):(l[f]=0,h[f]=0)}return[l,h]}_inverseFFT(n,s,r){let o=0;const l=n.length;for(let h=0;h<l;h++)o+=n[h]*Math.cos(h*r)+s[h]*Math.sin(h*r);return o}getInitialValue(){const[n,s]=this._getRealImaginary(this._type,0);let r=0;const o=Math.PI*2,l=32;for(let h=0;h<l;h++)r=Math.max(this._inverseFFT(n,s,h/l*o),r);return aT(-this._inverseFFT(n,s,this._phase)/r,-1,1)}get partials(){return this._partials.slice(0,this.partialCount)}set partials(n){this._partials=n,this._partialCount=this._partials.length,n.length&&(this.type="custom")}get phase(){return this._phase*(180/Math.PI)}set phase(n){this._phase=n*Math.PI/180,this.type=this._type}asArray(){return Fe(this,arguments,void 0,function*(n=1024){return $i(this,n)})}dispose(){return super.dispose(),this._oscillator!==null&&this._oscillator.dispose(),this._wave=void 0,this.frequency.dispose(),this.detune.dispose(),this}}Le._periodicWaveCache=[];class TT extends Pr{constructor(){super(...arguments),this.name="AudioToGain",this._norm=new _o({context:this.context,mapping:n=>(n+1)/2}),this.input=this._norm,this.output=this._norm}dispose(){return super.dispose(),this._norm.dispose(),this}}class Zr extends $e{constructor(){const n=Gt(Zr.getDefaults(),arguments,["value"]);super(n),this.name="Multiply",this.override=!1,this._mult=this.input=this.output=new ln({context:this.context,minValue:n.minValue,maxValue:n.maxValue}),this.factor=this._param=this._mult.gain,this.factor.setValueAtTime(n.value,0)}static getDefaults(){return Object.assign($e.getDefaults(),{value:0})}dispose(){return super.dispose(),this._mult.dispose(),this}}class pc extends In{constructor(){const n=Gt(pc.getDefaults(),arguments,["frequency","type","modulationType"]);super(n),this.name="AMOscillator",this._modulationScale=new TT({context:this.context}),this._modulationNode=new ln({context:this.context}),this._carrier=new Le({context:this.context,detune:n.detune,frequency:n.frequency,onstop:()=>this.onstop(this),phase:n.phase,type:n.type}),this.frequency=this._carrier.frequency,this.detune=this._carrier.detune,this._modulator=new Le({context:this.context,phase:n.phase,type:n.modulationType}),this.harmonicity=new Zr({context:this.context,units:"positive",value:n.harmonicity}),this.frequency.chain(this.harmonicity,this._modulator.frequency),this._modulator.chain(this._modulationScale,this._modulationNode.gain),this._carrier.chain(this._modulationNode,this.output),Re(this,["frequency","detune","harmonicity"])}static getDefaults(){return Object.assign(Le.getDefaults(),{harmonicity:1,modulationType:"square"})}_start(n){this._modulator.start(n),this._carrier.start(n)}_stop(n){this._modulator.stop(n),this._carrier.stop(n)}_restart(n){this._modulator.restart(n),this._carrier.restart(n)}get type(){return this._carrier.type}set type(n){this._carrier.type=n}get baseType(){return this._carrier.baseType}set baseType(n){this._carrier.baseType=n}get partialCount(){return this._carrier.partialCount}set partialCount(n){this._carrier.partialCount=n}get modulationType(){return this._modulator.type}set modulationType(n){this._modulator.type=n}get phase(){return this._carrier.phase}set phase(n){this._carrier.phase=n,this._modulator.phase=n}get partials(){return this._carrier.partials}set partials(n){this._carrier.partials=n}asArray(){return Fe(this,arguments,void 0,function*(n=1024){return $i(this,n)})}dispose(){return super.dispose(),this.frequency.dispose(),this.detune.dispose(),this.harmonicity.dispose(),this._carrier.dispose(),this._modulator.dispose(),this._modulationNode.dispose(),this._modulationScale.dispose(),this}}class mc extends In{constructor(){const n=Gt(mc.getDefaults(),arguments,["frequency","type","modulationType"]);super(n),this.name="FMOscillator",this._modulationNode=new ln({context:this.context,gain:0}),this._carrier=new Le({context:this.context,detune:n.detune,frequency:0,onstop:()=>this.onstop(this),phase:n.phase,type:n.type}),this.detune=this._carrier.detune,this.frequency=new $e({context:this.context,units:"frequency",value:n.frequency}),this._modulator=new Le({context:this.context,phase:n.phase,type:n.modulationType}),this.harmonicity=new Zr({context:this.context,units:"positive",value:n.harmonicity}),this.modulationIndex=new Zr({context:this.context,units:"positive",value:n.modulationIndex}),this.frequency.connect(this._carrier.frequency),this.frequency.chain(this.harmonicity,this._modulator.frequency),this.frequency.chain(this.modulationIndex,this._modulationNode),this._modulator.connect(this._modulationNode.gain),this._modulationNode.connect(this._carrier.frequency),this._carrier.connect(this.output),this.detune.connect(this._modulator.detune),Re(this,["modulationIndex","frequency","detune","harmonicity"])}static getDefaults(){return Object.assign(Le.getDefaults(),{harmonicity:1,modulationIndex:2,modulationType:"square"})}_start(n){this._modulator.start(n),this._carrier.start(n)}_stop(n){this._modulator.stop(n),this._carrier.stop(n)}_restart(n){return this._modulator.restart(n),this._carrier.restart(n),this}get type(){return this._carrier.type}set type(n){this._carrier.type=n}get baseType(){return this._carrier.baseType}set baseType(n){this._carrier.baseType=n}get partialCount(){return this._carrier.partialCount}set partialCount(n){this._carrier.partialCount=n}get modulationType(){return this._modulator.type}set modulationType(n){this._modulator.type=n}get phase(){return this._carrier.phase}set phase(n){this._carrier.phase=n,this._modulator.phase=n}get partials(){return this._carrier.partials}set partials(n){this._carrier.partials=n}asArray(){return Fe(this,arguments,void 0,function*(n=1024){return $i(this,n)})}dispose(){return super.dispose(),this.frequency.dispose(),this.harmonicity.dispose(),this._carrier.dispose(),this._modulator.dispose(),this._modulationNode.dispose(),this.modulationIndex.dispose(),this}}class vo extends In{constructor(){const n=Gt(vo.getDefaults(),arguments,["frequency","width"]);super(n),this.name="PulseOscillator",this._widthGate=new ln({context:this.context,gain:0}),this._thresh=new _o({context:this.context,mapping:s=>s<=0?-1:1}),this.width=new $e({context:this.context,units:"audioRange",value:n.width}),this._triangle=new Le({context:this.context,detune:n.detune,frequency:n.frequency,onstop:()=>this.onstop(this),phase:n.phase,type:"triangle"}),this.frequency=this._triangle.frequency,this.detune=this._triangle.detune,this._triangle.chain(this._thresh,this.output),this.width.chain(this._widthGate,this._thresh),Re(this,["width","frequency","detune"])}static getDefaults(){return Object.assign(In.getDefaults(),{detune:0,frequency:440,phase:0,type:"pulse",width:.2})}_start(n){n=this.toSeconds(n),this._triangle.start(n),this._widthGate.gain.setValueAtTime(1,n)}_stop(n){n=this.toSeconds(n),this._triangle.stop(n),this._widthGate.gain.cancelScheduledValues(n),this._widthGate.gain.setValueAtTime(0,n)}_restart(n){this._triangle.restart(n),this._widthGate.gain.cancelScheduledValues(n),this._widthGate.gain.setValueAtTime(1,n)}get phase(){return this._triangle.phase}set phase(n){this._triangle.phase=n}get type(){return"pulse"}get baseType(){return"pulse"}get partials(){return[]}get partialCount(){return 0}set carrierType(n){this._triangle.type=n}asArray(){return Fe(this,arguments,void 0,function*(n=1024){return $i(this,n)})}dispose(){return super.dispose(),this._triangle.dispose(),this.width.dispose(),this._widthGate.dispose(),this._thresh.dispose(),this}}class gc extends In{constructor(){const n=Gt(gc.getDefaults(),arguments,["frequency","type","spread"]);super(n),this.name="FatOscillator",this._oscillators=[],this.frequency=new $e({context:this.context,units:"frequency",value:n.frequency}),this.detune=new $e({context:this.context,units:"cents",value:n.detune}),this._spread=n.spread,this._type=n.type,this._phase=n.phase,this._partials=n.partials,this._partialCount=n.partialCount,this.count=n.count,Re(this,["frequency","detune"])}static getDefaults(){return Object.assign(Le.getDefaults(),{count:3,spread:20,type:"sawtooth"})}_start(n){n=this.toSeconds(n),this._forEach(s=>s.start(n))}_stop(n){n=this.toSeconds(n),this._forEach(s=>s.stop(n))}_restart(n){this._forEach(s=>s.restart(n))}_forEach(n){for(let s=0;s<this._oscillators.length;s++)n(this._oscillators[s],s)}get type(){return this._type}set type(n){this._type=n,this._forEach(s=>s.type=n)}get spread(){return this._spread}set spread(n){if(this._spread=n,this._oscillators.length>1){const s=-n/2,r=n/(this._oscillators.length-1);this._forEach((o,l)=>o.detune.value=s+r*l)}}get count(){return this._oscillators.length}set count(n){if(vi(n,1),this._oscillators.length!==n){this._forEach(s=>s.dispose()),this._oscillators=[];for(let s=0;s<n;s++){const r=new Le({context:this.context,volume:-6-n*1.1,type:this._type,phase:this._phase+s/n*360,partialCount:this._partialCount,onstop:s===0?()=>this.onstop(this):fe});this.type==="custom"&&(r.partials=this._partials),this.frequency.connect(r.frequency),this.detune.connect(r.detune),r.detune.overridden=!1,r.connect(this.output),this._oscillators[s]=r}this.spread=this._spread,this.state==="started"&&this._forEach(s=>s.start())}}get phase(){return this._phase}set phase(n){this._phase=n,this._forEach((s,r)=>s.phase=this._phase+r/this.count*360)}get baseType(){return this._oscillators[0].baseType}set baseType(n){this._forEach(s=>s.baseType=n),this._type=this._oscillators[0].type}get partials(){return this._oscillators[0].partials}set partials(n){this._partials=n,this._partialCount=this._partials.length,n.length&&(this._type="custom",this._forEach(s=>s.partials=n))}get partialCount(){return this._oscillators[0].partialCount}set partialCount(n){this._partialCount=n,this._forEach(s=>s.partialCount=n),this._type=this._oscillators[0].type}asArray(){return Fe(this,arguments,void 0,function*(n=1024){return $i(this,n)})}dispose(){return super.dispose(),this.frequency.dispose(),this.detune.dispose(),this._forEach(n=>n.dispose()),this}}class _c extends In{constructor(){const n=Gt(_c.getDefaults(),arguments,["frequency","modulationFrequency"]);super(n),this.name="PWMOscillator",this.sourceType="pwm",this._scale=new Zr({context:this.context,value:2}),this._pulse=new vo({context:this.context,frequency:n.modulationFrequency}),this._pulse.carrierType="sine",this.modulationFrequency=this._pulse.frequency,this._modulator=new Le({context:this.context,detune:n.detune,frequency:n.frequency,onstop:()=>this.onstop(this),phase:n.phase}),this.frequency=this._modulator.frequency,this.detune=this._modulator.detune,this._modulator.chain(this._scale,this._pulse.width),this._pulse.connect(this.output),Re(this,["modulationFrequency","frequency","detune"])}static getDefaults(){return Object.assign(In.getDefaults(),{detune:0,frequency:440,modulationFrequency:.4,phase:0,type:"pwm"})}_start(n){n=this.toSeconds(n),this._modulator.start(n),this._pulse.start(n)}_stop(n){n=this.toSeconds(n),this._modulator.stop(n),this._pulse.stop(n)}_restart(n){this._modulator.restart(n),this._pulse.restart(n)}get type(){return"pwm"}get baseType(){return"pwm"}get partials(){return[]}get partialCount(){return 0}get phase(){return this._modulator.phase}set phase(n){this._modulator.phase=n}asArray(){return Fe(this,arguments,void 0,function*(n=1024){return $i(this,n)})}dispose(){return super.dispose(),this._pulse.dispose(),this._scale.dispose(),this._modulator.dispose(),this}}const d0={am:pc,fat:gc,fm:mc,oscillator:Le,pulse:vo,pwm:_c};class Kl extends In{constructor(){const n=Gt(Kl.getDefaults(),arguments,["frequency","type"]);super(n),this.name="OmniOscillator",this.frequency=new $e({context:this.context,units:"frequency",value:n.frequency}),this.detune=new $e({context:this.context,units:"cents",value:n.detune}),Re(this,["frequency","detune"]),this.set(n)}static getDefaults(){return Object.assign(Le.getDefaults(),mc.getDefaults(),pc.getDefaults(),gc.getDefaults(),vo.getDefaults(),_c.getDefaults())}_start(n){this._oscillator.start(n)}_stop(n){this._oscillator.stop(n)}_restart(n){return this._oscillator.restart(n),this}get type(){let n="";return["am","fm","fat"].some(s=>this._sourceType===s)&&(n=this._sourceType),n+this._oscillator.type}set type(n){n.substr(0,2)==="fm"?(this._createNewOscillator("fm"),this._oscillator=this._oscillator,this._oscillator.type=n.substr(2)):n.substr(0,2)==="am"?(this._createNewOscillator("am"),this._oscillator=this._oscillator,this._oscillator.type=n.substr(2)):n.substr(0,3)==="fat"?(this._createNewOscillator("fat"),this._oscillator=this._oscillator,this._oscillator.type=n.substr(3)):n==="pwm"?(this._createNewOscillator("pwm"),this._oscillator=this._oscillator):n==="pulse"?this._createNewOscillator("pulse"):(this._createNewOscillator("oscillator"),this._oscillator=this._oscillator,this._oscillator.type=n)}get partials(){return this._oscillator.partials}set partials(n){!this._getOscType(this._oscillator,"pulse")&&!this._getOscType(this._oscillator,"pwm")&&(this._oscillator.partials=n)}get partialCount(){return this._oscillator.partialCount}set partialCount(n){!this._getOscType(this._oscillator,"pulse")&&!this._getOscType(this._oscillator,"pwm")&&(this._oscillator.partialCount=n)}set(n){return Reflect.has(n,"type")&&n.type&&(this.type=n.type),super.set(n),this}_createNewOscillator(n){if(n!==this._sourceType){this._sourceType=n;const s=d0[n],r=this.now();if(this._oscillator){const o=this._oscillator;o.stop(r),this.context.setTimeout(()=>o.dispose(),this.blockTime)}this._oscillator=new s({context:this.context}),this.frequency.connect(this._oscillator.frequency),this.detune.connect(this._oscillator.detune),this._oscillator.connect(this.output),this._oscillator.onstop=()=>this.onstop(this),this.state==="started"&&this._oscillator.start(r)}}get phase(){return this._oscillator.phase}set phase(n){this._oscillator.phase=n}get sourceType(){return this._sourceType}set sourceType(n){let s="sine";this._oscillator.type!=="pwm"&&this._oscillator.type!=="pulse"&&(s=this._oscillator.type),n==="fm"?this.type="fm"+s:n==="am"?this.type="am"+s:n==="fat"?this.type="fat"+s:n==="oscillator"?this.type=s:n==="pulse"?this.type="pulse":n==="pwm"&&(this.type="pwm")}_getOscType(n,s){return n instanceof d0[s]}get baseType(){return this._oscillator.baseType}set baseType(n){!this._getOscType(this._oscillator,"pulse")&&!this._getOscType(this._oscillator,"pwm")&&n!=="pulse"&&n!=="pwm"&&(this._oscillator.baseType=n)}get width(){if(this._getOscType(this._oscillator,"pulse"))return this._oscillator.width}get count(){if(this._getOscType(this._oscillator,"fat"))return this._oscillator.count}set count(n){this._getOscType(this._oscillator,"fat")&&_i(n)&&(this._oscillator.count=n)}get spread(){if(this._getOscType(this._oscillator,"fat"))return this._oscillator.spread}set spread(n){this._getOscType(this._oscillator,"fat")&&_i(n)&&(this._oscillator.spread=n)}get modulationType(){if(this._getOscType(this._oscillator,"fm")||this._getOscType(this._oscillator,"am"))return this._oscillator.modulationType}set modulationType(n){(this._getOscType(this._oscillator,"fm")||this._getOscType(this._oscillator,"am"))&&Vs(n)&&(this._oscillator.modulationType=n)}get modulationIndex(){if(this._getOscType(this._oscillator,"fm"))return this._oscillator.modulationIndex}get harmonicity(){if(this._getOscType(this._oscillator,"fm")||this._getOscType(this._oscillator,"am"))return this._oscillator.harmonicity}get modulationFrequency(){if(this._getOscType(this._oscillator,"pwm"))return this._oscillator.modulationFrequency}asArray(){return Fe(this,arguments,void 0,function*(n=1024){return $i(this,n)})}dispose(){return super.dispose(),this.detune.dispose(),this.frequency.dispose(),this._oscillator.dispose(),this}}function iv(c,n=1/0){const s=new WeakMap;return function(r,o){Reflect.defineProperty(r,o,{configurable:!0,enumerable:!0,get:function(){return s.get(this)},set:function(l){vi(l,c,n),s.set(this,l)}})}}function Hs(c,n=1/0){const s=new WeakMap;return function(r,o){Reflect.defineProperty(r,o,{configurable:!0,enumerable:!0,get:function(){return s.get(this)},set:function(l){vi(this.toSeconds(l),c,n),s.set(this,l)}})}}class vc extends In{constructor(){const n=Gt(vc.getDefaults(),arguments,["url","onload"]);super(n),this.name="Player",this._activeSources=new Set,this._buffer=new ye({onload:this._onload.bind(this,n.onload),onerror:n.onerror,reverse:n.reverse,url:n.url}),this.autostart=n.autostart,this._loop=n.loop,this._loopStart=n.loopStart,this._loopEnd=n.loopEnd,this._playbackRate=n.playbackRate,this.fadeIn=n.fadeIn,this.fadeOut=n.fadeOut}static getDefaults(){return Object.assign(In.getDefaults(),{autostart:!1,fadeIn:0,fadeOut:0,loop:!1,loopEnd:0,loopStart:0,onload:fe,onerror:fe,playbackRate:1,reverse:!1})}load(n){return Fe(this,void 0,void 0,function*(){return yield this._buffer.load(n),this._onload(),this})}_onload(n=fe){n(),this.autostart&&this.start()}_onSourceEnd(n){this.onstop(this),this._activeSources.delete(n),this._activeSources.size===0&&!this._synced&&this._state.getValueAtTime(this.now())==="started"&&(this._state.cancel(this.now()),this._state.setStateAtTime("stopped",this.now()))}start(n,s,r){return super.start(n,s,r),this}_start(n,s,r){this._loop?s=qr(s,this._loopStart):s=qr(s,0);const o=this.toSeconds(s),l=r;r=qr(r,Math.max(this._buffer.duration-o,0));let h=this.toSeconds(r);h=h/this._playbackRate,n=this.toSeconds(n);const u=new dc({url:this._buffer,context:this.context,fadeIn:this.fadeIn,fadeOut:this.fadeOut,loop:this._loop,loopEnd:this._loopEnd,loopStart:this._loopStart,onended:this._onSourceEnd.bind(this),playbackRate:this._playbackRate}).connect(this.output);!this._loop&&!this._synced&&(this._state.cancel(n+h),this._state.setStateAtTime("stopped",n+h,{implicitEnd:!0})),this._activeSources.add(u),this._loop&&Jn(l)?u.start(n,o):u.start(n,o,h-this.toSeconds(this.fadeOut))}_stop(n){const s=this.toSeconds(n);this._activeSources.forEach(r=>r.stop(s))}restart(n,s,r){return super.restart(n,s,r),this}_restart(n,s,r){var o;(o=[...this._activeSources].pop())===null||o===void 0||o.stop(n),this._start(n,s,r)}seek(n,s){const r=this.toSeconds(s);if(this._state.getValueAtTime(r)==="started"){const o=this.toSeconds(n);this._stop(r),this._start(r,o)}return this}setLoopPoints(n,s){return this.loopStart=n,this.loopEnd=s,this}get loopStart(){return this._loopStart}set loopStart(n){this._loopStart=n,this.buffer.loaded&&vi(this.toSeconds(n),0,this.buffer.duration),this._activeSources.forEach(s=>{s.loopStart=n})}get loopEnd(){return this._loopEnd}set loopEnd(n){this._loopEnd=n,this.buffer.loaded&&vi(this.toSeconds(n),0,this.buffer.duration),this._activeSources.forEach(s=>{s.loopEnd=n})}get buffer(){return this._buffer}set buffer(n){this._buffer.set(n)}get loop(){return this._loop}set loop(n){if(this._loop!==n&&(this._loop=n,this._activeSources.forEach(s=>{s.loop=n}),n)){const s=this._state.getNextState("stopped",this.now());s&&this._state.cancel(s.time)}}get playbackRate(){return this._playbackRate}set playbackRate(n){this._playbackRate=n;const s=this.now(),r=this._state.getNextState("stopped",s);r&&r.implicitEnd&&(this._state.cancel(r.time),this._activeSources.forEach(o=>o.cancelStop())),this._activeSources.forEach(o=>{o.playbackRate.setValueAtTime(n,s)})}get reverse(){return this._buffer.reverse}set reverse(n){this._buffer.reverse=n}get loaded(){return this._buffer.loaded}dispose(){return super.dispose(),this._activeSources.forEach(n=>n.dispose()),this._activeSources.clear(),this._buffer.dispose(),this}}us([Hs(0)],vc.prototype,"fadeIn",void 0);us([Hs(0)],vc.prototype,"fadeOut",void 0);class Si extends Jt{constructor(){const n=Gt(Si.getDefaults(),arguments,["attack","decay","sustain","release"]);super(n),this.name="Envelope",this._sig=new $e({context:this.context,value:0}),this.output=this._sig,this.input=void 0,this.attack=n.attack,this.decay=n.decay,this.sustain=n.sustain,this.release=n.release,this.attackCurve=n.attackCurve,this.releaseCurve=n.releaseCurve,this.decayCurve=n.decayCurve}static getDefaults(){return Object.assign(Jt.getDefaults(),{attack:.01,attackCurve:"linear",decay:.1,decayCurve:"exponential",release:1,releaseCurve:"exponential",sustain:.5})}get value(){return this.getValueAtTime(this.now())}_getCurve(n,s){if(Vs(n))return n;{let r;for(r in zl)if(zl[r][s]===n)return r;return n}}_setCurve(n,s,r){if(Vs(r)&&Reflect.has(zl,r)){const o=zl[r];Pi(o)?n!=="_decayCurve"&&(this[n]=o[s]):this[n]=o}else if(Bn(r)&&n!=="_decayCurve")this[n]=r;else throw new Error("Envelope: invalid curve: "+r)}get attackCurve(){return this._getCurve(this._attackCurve,"In")}set attackCurve(n){this._setCurve("_attackCurve","In",n)}get releaseCurve(){return this._getCurve(this._releaseCurve,"Out")}set releaseCurve(n){this._setCurve("_releaseCurve","Out",n)}get decayCurve(){return this._getCurve(this._decayCurve,"Out")}set decayCurve(n){this._setCurve("_decayCurve","Out",n)}triggerAttack(n,s=1){this.log("triggerAttack",n,s),n=this.toSeconds(n);let o=this.toSeconds(this.attack);const l=this.toSeconds(this.decay),h=this.getValueAtTime(n);if(h>0){const u=1/o;o=(1-h)/u}if(o<this.sampleTime)this._sig.cancelScheduledValues(n),this._sig.setValueAtTime(s,n);else if(this._attackCurve==="linear")this._sig.linearRampTo(s,o,n);else if(this._attackCurve==="exponential")this._sig.targetRampTo(s,o,n);else{this._sig.cancelAndHoldAtTime(n);let u=this._attackCurve;for(let f=1;f<u.length;f++)if(u[f-1]<=h&&h<=u[f]){u=this._attackCurve.slice(f),u[0]=h;break}this._sig.setValueCurveAtTime(u,n,o,s)}if(l&&this.sustain<1){const u=s*this.sustain,f=n+o;this.log("decay",f),this._decayCurve==="linear"?this._sig.linearRampToValueAtTime(u,l+f):this._sig.exponentialApproachValueAtTime(u,f,l)}return this}triggerRelease(n){this.log("triggerRelease",n),n=this.toSeconds(n);const s=this.getValueAtTime(n);if(s>0){const r=this.toSeconds(this.release);r<this.sampleTime?this._sig.setValueAtTime(0,n):this._releaseCurve==="linear"?this._sig.linearRampTo(0,r,n):this._releaseCurve==="exponential"?this._sig.targetRampTo(0,r,n):(Vt(Bn(this._releaseCurve),"releaseCurve must be either 'linear', 'exponential' or an array"),this._sig.cancelAndHoldAtTime(n),this._sig.setValueCurveAtTime(this._releaseCurve,n,r,s))}return this}getValueAtTime(n){return this._sig.getValueAtTime(n)}triggerAttackRelease(n,s,r=1){return s=this.toSeconds(s),this.triggerAttack(s,r),this.triggerRelease(s+this.toSeconds(n)),this}cancel(n){return this._sig.cancelScheduledValues(this.toSeconds(n)),this}connect(n,s=0,r=0){return qf(this,n,s,r),this}asArray(){return Fe(this,arguments,void 0,function*(n=1024){const s=n/this.context.sampleRate,r=new zf(1,s,this.context.sampleRate),o=this.toSeconds(this.attack)+this.toSeconds(this.decay),l=o+this.toSeconds(this.release),h=l*.1,u=l+h,f=new this.constructor(Object.assign(this.get(),{attack:s*this.toSeconds(this.attack)/u,decay:s*this.toSeconds(this.decay)/u,release:s*this.toSeconds(this.release)/u,context:r}));return f._sig.toDestination(),f.triggerAttackRelease(s*(o+h)/u,0),(yield r.render()).getChannelData(0)})}dispose(){return super.dispose(),this._sig.dispose(),this}}us([Hs(0)],Si.prototype,"attack",void 0);us([Hs(0)],Si.prototype,"decay",void 0);us([iv(0,1)],Si.prototype,"sustain",void 0);us([Hs(0)],Si.prototype,"release",void 0);const zl=(()=>{let n,s;const r=[];for(n=0;n<128;n++)r[n]=Math.sin(n/127*(Math.PI/2));const o=[],l=6.4;for(n=0;n<127;n++){s=n/127;const b=Math.sin(s*(Math.PI*2)*l-Math.PI/2)+1;o[n]=b/10+s*.83}o[127]=1;const h=[],u=5;for(n=0;n<128;n++)h[n]=Math.ceil(n/127*u)/u;const f=[];for(n=0;n<128;n++)s=n/127,f[n]=.5*(1-Math.cos(Math.PI*s));const p=[];for(n=0;n<128;n++){s=n/127;const b=Math.pow(s,3)*4+.2,v=Math.cos(b*Math.PI*2*s);p[n]=Math.abs(v*(1-s))}function m(b){const v=new Array(b.length);for(let x=0;x<b.length;x++)v[x]=1-b[x];return v}function _(b){return b.slice(0).reverse()}return{bounce:{In:m(p),Out:p},cosine:{In:r,Out:_(r)},exponential:"exponential",linear:"linear",ripple:{In:o,Out:m(o)},sine:{In:f,Out:m(f)},step:{In:h,Out:m(h)}}})();let Yr=class rv extends Jt{constructor(){const n=Gt(rv.getDefaults(),arguments);super(n),this._scheduledEvents=[],this._synced=!1,this._original_triggerAttack=this.triggerAttack,this._original_triggerRelease=this.triggerRelease,this._syncedRelease=s=>this._original_triggerRelease(s),this._volume=this.output=new ea({context:this.context,volume:n.volume}),this.volume=this._volume.volume,Re(this,"volume")}static getDefaults(){return Object.assign(Jt.getDefaults(),{volume:0})}sync(){return this._syncState()&&(this._syncMethod("triggerAttack",1),this._syncMethod("triggerRelease",0),this.context.transport.on("stop",this._syncedRelease),this.context.transport.on("pause",this._syncedRelease),this.context.transport.on("loopEnd",this._syncedRelease)),this}_syncState(){let n=!1;return this._synced||(this._synced=!0,n=!0),n}_syncMethod(n,s){const r=this["_original_"+n]=this[n];this[n]=(...o)=>{const l=o[s],h=this.context.transport.schedule(u=>{o[s]=u,r.apply(this,o)},l);this._scheduledEvents.push(h)}}unsync(){return this._scheduledEvents.forEach(n=>this.context.transport.clear(n)),this._scheduledEvents=[],this._synced&&(this._synced=!1,this.triggerAttack=this._original_triggerAttack,this.triggerRelease=this._original_triggerRelease,this.context.transport.off("stop",this._syncedRelease),this.context.transport.off("pause",this._syncedRelease),this.context.transport.off("loopEnd",this._syncedRelease)),this}triggerAttackRelease(n,s,r,o){const l=this.toSeconds(r),h=this.toSeconds(s);return this.triggerAttack(n,l,o),this.triggerRelease(l+h),this}dispose(){return super.dispose(),this._volume.dispose(),this.unsync(),this._scheduledEvents=[],this}};class Wi extends Yr{constructor(){const n=Gt(Wi.getDefaults(),arguments);super(n),this.portamento=n.portamento,this.onsilence=n.onsilence}static getDefaults(){return Object.assign(Yr.getDefaults(),{detune:0,onsilence:fe,portamento:0})}triggerAttack(n,s,r=1){this.log("triggerAttack",n,s,r);const o=this.toSeconds(s);return this._triggerEnvelopeAttack(o,r),this.setNote(n,o),this}triggerRelease(n){this.log("triggerRelease",n);const s=this.toSeconds(n);return this._triggerEnvelopeRelease(s),this}setNote(n,s){const r=this.toSeconds(s),o=n instanceof Un?n.toFrequency():n;if(this.portamento>0&&this.getLevelAtTime(r)>.05){const l=this.toSeconds(this.portamento);this.frequency.exponentialRampTo(o,l,r)}else this.frequency.setValueAtTime(o,r);return this}}us([Hs(0)],Wi.prototype,"portamento",void 0);class Xf extends Si{constructor(){super(Gt(Xf.getDefaults(),arguments,["attack","decay","sustain","release"])),this.name="AmplitudeEnvelope",this._gainNode=new ln({context:this.context,gain:0}),this.output=this._gainNode,this.input=this._gainNode,this._sig.connect(this._gainNode.gain),this.output=this._gainNode,this.input=this._gainNode}dispose(){return super.dispose(),this._gainNode.dispose(),this}}class Xr extends Wi{constructor(){const n=Gt(Xr.getDefaults(),arguments);super(n),this.name="Synth",this.oscillator=new Kl(Object.assign({context:this.context,detune:n.detune,onstop:()=>this.onsilence(this)},n.oscillator)),this.frequency=this.oscillator.frequency,this.detune=this.oscillator.detune,this.envelope=new Xf(Object.assign({context:this.context},n.envelope)),this.oscillator.chain(this.envelope,this.output),Re(this,["oscillator","frequency","detune","envelope"])}static getDefaults(){return Object.assign(Wi.getDefaults(),{envelope:Object.assign(cf(Si.getDefaults(),Object.keys(Jt.getDefaults())),{attack:.005,decay:.1,release:1,sustain:.3}),oscillator:Object.assign(cf(Kl.getDefaults(),[...Object.keys(In.getDefaults()),"frequency","detune"]),{type:"triangle"})})}_triggerEnvelopeAttack(n,s){if(this.envelope.triggerAttack(n,s),this.oscillator.start(n),this.envelope.sustain===0){const r=this.toSeconds(this.envelope.attack),o=this.toSeconds(this.envelope.decay);this.oscillator.stop(n+r+o)}}_triggerEnvelopeRelease(n){this.envelope.triggerRelease(n),this.oscillator.stop(n+this.toSeconds(this.envelope.release))}getLevelAtTime(n){return n=this.toSeconds(n),this.envelope.getValueAtTime(n)}dispose(){return super.dispose(),this.oscillator.dispose(),this.envelope.dispose(),this}}class yc extends Xr{constructor(){const n=Gt(yc.getDefaults(),arguments);super(n),this.name="MembraneSynth",this.portamento=0,this.pitchDecay=n.pitchDecay,this.octaves=n.octaves,Re(this,["oscillator","envelope"])}static getDefaults(){return Zi(Wi.getDefaults(),Xr.getDefaults(),{envelope:{attack:.001,attackCurve:"exponential",decay:.4,release:1.4,sustain:.01},octaves:10,oscillator:{type:"sine"},pitchDecay:.05})}setNote(n,s){const r=this.toSeconds(s),o=this.toFrequency(n instanceof Un?n.toFrequency():n),l=o*this.octaves;return this.oscillator.frequency.setValueAtTime(l,r),this.oscillator.frequency.exponentialRampToValueAtTime(o,r+this.toSeconds(this.pitchDecay)),this}dispose(){return super.dispose(),this}}us([iv(0)],yc.prototype,"octaves",void 0);us([Hs(0)],yc.prototype,"pitchDecay",void 0);const av=new Set;function Wf(c){av.add(c)}function ov(c,n){const s=`registerProcessor("${c}", ${n})`;av.add(s)}const AT=`
	/**
	 * The base AudioWorkletProcessor for use in Tone.js. Works with the {@link ToneAudioWorklet}. 
	 */
	class ToneAudioWorkletProcessor extends AudioWorkletProcessor {

		constructor(options) {
			
			super(options);
			/**
			 * If the processor was disposed or not. Keep alive until it's disposed.
			 */
			this.disposed = false;
		   	/** 
			 * The number of samples in the processing block
			 */
			this.blockSize = 128;
			/**
			 * the sample rate
			 */
			this.sampleRate = sampleRate;

			this.port.onmessage = (event) => {
				// when it receives a dispose 
				if (event.data === "dispose") {
					this.disposed = true;
				}
			};
		}
	}
`;Wf(AT);const NT=`
	/**
	 * Abstract class for a single input/output processor. 
	 * has a 'generate' function which processes one sample at a time
	 */
	class SingleIOProcessor extends ToneAudioWorkletProcessor {

		constructor(options) {
			super(Object.assign(options, {
				numberOfInputs: 1,
				numberOfOutputs: 1
			}));
			/**
			 * Holds the name of the parameter and a single value of that
			 * parameter at the current sample
			 * @type { [name: string]: number }
			 */
			this.params = {}
		}

		/**
		 * Generate an output sample from the input sample and parameters
		 * @abstract
		 * @param input number
		 * @param channel number
		 * @param parameters { [name: string]: number }
		 * @returns number
		 */
		generate(){}

		/**
		 * Update the private params object with the 
		 * values of the parameters at the given index
		 * @param parameters { [name: string]: Float32Array },
		 * @param index number
		 */
		updateParams(parameters, index) {
			for (const paramName in parameters) {
				const param = parameters[paramName];
				if (param.length > 1) {
					this.params[paramName] = parameters[paramName][index];
				} else {
					this.params[paramName] = parameters[paramName][0];
				}
			}
		}

		/**
		 * Process a single frame of the audio
		 * @param inputs Float32Array[][]
		 * @param outputs Float32Array[][]
		 */
		process(inputs, outputs, parameters) {
			const input = inputs[0];
			const output = outputs[0];
			// get the parameter values
			const channelCount = Math.max(input && input.length || 0, output.length);
			for (let sample = 0; sample < this.blockSize; sample++) {
				this.updateParams(parameters, sample);
				for (let channel = 0; channel < channelCount; channel++) {
					const inputSample = input && input.length ? input[channel][sample] : 0;
					output[channel][sample] = this.generate(inputSample, channel, this.params);
				}
			}
			return !this.disposed;
		}
	};
`;Wf(NT);const kT=`
	/**
	 * A multichannel buffer for use within an AudioWorkletProcessor as a delay line
	 */
	class DelayLine {
		
		constructor(size, channels) {
			this.buffer = [];
			this.writeHead = []
			this.size = size;

			// create the empty channels
			for (let i = 0; i < channels; i++) {
				this.buffer[i] = new Float32Array(this.size);
				this.writeHead[i] = 0;
			}
		}

		/**
		 * Push a value onto the end
		 * @param channel number
		 * @param value number
		 */
		push(channel, value) {
			this.writeHead[channel] += 1;
			if (this.writeHead[channel] > this.size) {
				this.writeHead[channel] = 0;
			}
			this.buffer[channel][this.writeHead[channel]] = value;
		}

		/**
		 * Get the recorded value of the channel given the delay
		 * @param channel number
		 * @param delay number delay samples
		 */
		get(channel, delay) {
			let readHead = this.writeHead[channel] - Math.floor(delay);
			if (readHead < 0) {
				readHead += this.size;
			}
			return this.buffer[channel][readHead];
		}
	}
`;Wf(kT);const CT="feedback-comb-filter",ET=`
	class FeedbackCombFilterWorklet extends SingleIOProcessor {

		constructor(options) {
			super(options);
			this.delayLine = new DelayLine(this.sampleRate, options.channelCount || 2);
		}

		static get parameterDescriptors() {
			return [{
				name: "delayTime",
				defaultValue: 0.1,
				minValue: 0,
				maxValue: 1,
				automationRate: "k-rate"
			}, {
				name: "feedback",
				defaultValue: 0.5,
				minValue: 0,
				maxValue: 0.9999,
				automationRate: "k-rate"
			}];
		}

		generate(input, channel, parameters) {
			const delayedSample = this.delayLine.get(channel, parameters.delayTime * this.sampleRate);
			this.delayLine.push(channel, input + delayedSample * parameters.feedback);
			return delayedSample;
		}
	}
`;ov(CT,ET);class Qf extends Yr{constructor(){const n=Gt(Qf.getDefaults(),arguments,["voice","options"]);super(n),this.name="PolySynth",this._availableVoices=[],this._activeVoices=[],this._voices=[],this._gcTimeout=-1,this._averageActiveVoices=0,this._syncedRelease=o=>this.releaseAll(o),Vt(!_i(n.voice),"DEPRECATED: The polyphony count is no longer the first argument.");const s=n.voice.getDefaults();this.options=Object.assign(s,n.options),this.voice=n.voice,this.maxPolyphony=n.maxPolyphony,this._dummyVoice=this._getNextAvailableVoice();const r=this._voices.indexOf(this._dummyVoice);this._voices.splice(r,1),this._gcTimeout=this.context.setInterval(this._collectGarbage.bind(this),1)}static getDefaults(){return Object.assign(Yr.getDefaults(),{maxPolyphony:32,options:{},voice:Xr})}get activeVoices(){return this._activeVoices.length}_makeVoiceAvailable(n){this._availableVoices.push(n);const s=this._activeVoices.findIndex(r=>r.voice===n);this._activeVoices.splice(s,1)}_getNextAvailableVoice(){if(this._availableVoices.length)return this._availableVoices.shift();if(this._voices.length<this.maxPolyphony){const n=new this.voice(Object.assign(this.options,{context:this.context,onsilence:this._makeVoiceAvailable.bind(this)}));return Vt(n instanceof Wi,"Voice must extend Monophonic class"),n.connect(this.output),this._voices.push(n),n}else oc("Max polyphony exceeded. Note dropped.")}_collectGarbage(){if(this._averageActiveVoices=Math.max(this._averageActiveVoices*.95,this.activeVoices),this._availableVoices.length&&this._voices.length>Math.ceil(this._averageActiveVoices+1)){const n=this._availableVoices.shift(),s=this._voices.indexOf(n);this._voices.splice(s,1),this.context.isOffline||n.dispose()}}_triggerAttack(n,s,r){n.forEach(o=>{const l=new Ql(this.context,o).toMidi(),h=this._getNextAvailableVoice();h&&(h.triggerAttack(o,s,r),this._activeVoices.push({midi:l,voice:h,released:!1}),this.log("triggerAttack",o,s))})}_triggerRelease(n,s){n.forEach(r=>{const o=new Ql(this.context,r).toMidi(),l=this._activeVoices.find(({midi:h,released:u})=>h===o&&!u);l&&(l.voice.triggerRelease(s),l.released=!0,this.log("triggerRelease",r,s))})}_scheduleEvent(n,s,r,o){Vt(!this.disposed,"Synth was already disposed"),r<=this.now()?n==="attack"?this._triggerAttack(s,r,o):this._triggerRelease(s,r):this.context.setTimeout(()=>{this.disposed||this._scheduleEvent(n,s,r,o)},r-this.now())}triggerAttack(n,s,r){Array.isArray(n)||(n=[n]);const o=this.toSeconds(s);return this._scheduleEvent("attack",n,o,r),this}triggerRelease(n,s){Array.isArray(n)||(n=[n]);const r=this.toSeconds(s);return this._scheduleEvent("release",n,r),this}triggerAttackRelease(n,s,r,o){const l=this.toSeconds(r);if(this.triggerAttack(n,l,o),Bn(s)){Vt(Bn(n),"If the duration is an array, the notes must also be an array"),n=n;for(let h=0;h<n.length;h++){const u=s[Math.min(h,s.length-1)],f=this.toSeconds(u);Vt(f>0,"The duration must be greater than 0"),this.triggerRelease(n[h],l+f)}}else{const h=this.toSeconds(s);Vt(h>0,"The duration must be greater than 0"),this.triggerRelease(n,l+h)}return this}sync(){return this._syncState()&&(this._syncMethod("triggerAttack",1),this._syncMethod("triggerRelease",1),this.context.transport.on("stop",this._syncedRelease),this.context.transport.on("pause",this._syncedRelease),this.context.transport.on("loopEnd",this._syncedRelease)),this}set(n){const s=cf(n,["onsilence","context"]);return this.options=Zi(this.options,s),this._voices.forEach(r=>r.set(s)),this._dummyVoice.set(s),this}get(){return this._dummyVoice.get()}releaseAll(n){const s=this.toSeconds(n);return this._activeVoices.forEach(({voice:r})=>{r.triggerRelease(s)}),this}dispose(){return super.dispose(),this._dummyVoice.dispose(),this._voices.forEach(n=>n.dispose()),this._activeVoices=[],this._availableVoices=[],this.context.clearInterval(this._gcTimeout),this}}class Wr extends Yr{constructor(){const n=Gt(Wr.getDefaults(),arguments,["urls","onload","baseUrl"],"urls");super(n),this.name="Sampler",this._activeSources=new Map;const s={};Object.keys(n.urls).forEach(r=>{const o=parseInt(r,10);if(Vt(jl(r)||_i(o)&&isFinite(o),`url key is neither a note or midi pitch: ${r}`),jl(r)){const l=new Un(this.context,r).toMidi();s[l]=n.urls[r]}else _i(o)&&isFinite(o)&&(s[o]=n.urls[o])}),this._buffers=new Gf({urls:s,onload:n.onload,baseUrl:n.baseUrl,onerror:n.onerror}),this.attack=n.attack,this.release=n.release,this.curve=n.curve,this._buffers.loaded&&Promise.resolve().then(n.onload)}static getDefaults(){return Object.assign(Yr.getDefaults(),{attack:0,baseUrl:"",curve:"exponential",onload:fe,onerror:fe,release:.1,urls:{}})}_findClosest(n){let r=0;for(;r<96;){if(this._buffers.has(n+r))return-r;if(this._buffers.has(n-r))return r;r++}throw new Error(`No available buffers for note: ${n}`)}triggerAttack(n,s,r=1){return this.log("triggerAttack",n,s,r),Array.isArray(n)||(n=[n]),n.forEach(o=>{const l=nv(new Un(this.context,o).toFrequency()),h=Math.round(l),u=l-h,f=this._findClosest(h),p=h-f,m=this._buffers.get(p),_=ev(f+u),b=new dc({url:m,context:this.context,curve:this.curve,fadeIn:this.attack,fadeOut:this.release,playbackRate:_}).connect(this.output);b.start(s,0,m.duration/_,r),Bn(this._activeSources.get(h))||this._activeSources.set(h,[]),this._activeSources.get(h).push(b),b.onended=()=>{if(this._activeSources&&this._activeSources.has(h)){const v=this._activeSources.get(h),x=v.indexOf(b);x!==-1&&v.splice(x,1)}}}),this}triggerRelease(n,s){return this.log("triggerRelease",n,s),Array.isArray(n)||(n=[n]),n.forEach(r=>{const o=new Un(this.context,r).toMidi();if(this._activeSources.has(o)&&this._activeSources.get(o).length){const l=this._activeSources.get(o);s=this.toSeconds(s),l.forEach(h=>{h.stop(s)}),this._activeSources.set(o,[])}}),this}releaseAll(n){const s=this.toSeconds(n);return this._activeSources.forEach(r=>{for(;r.length;)r.shift().stop(s)}),this}sync(){return this._syncState()&&(this._syncMethod("triggerAttack",1),this._syncMethod("triggerRelease",1)),this}triggerAttackRelease(n,s,r,o=1){const l=this.toSeconds(r);return this.triggerAttack(n,l,o),Bn(s)?(Vt(Bn(n),"notes must be an array when duration is array"),n.forEach((h,u)=>{const f=s[Math.min(u,s.length-1)];this.triggerRelease(h,l+this.toSeconds(f))})):this.triggerRelease(n,l+this.toSeconds(s)),this}add(n,s,r){if(Vt(jl(n)||isFinite(n),`note must be a pitch or midi: ${n}`),jl(n)){const o=new Un(this.context,n).toMidi();this._buffers.add(o,s,r)}else this._buffers.add(n,s,r);return this}get loaded(){return this._buffers.loaded}dispose(){return super.dispose(),this._buffers.dispose(),this._activeSources.forEach(n=>{n.forEach(s=>s.dispose())}),this._activeSources.clear(),this}}us([Hs(0)],Wr.prototype,"attack",void 0);us([Hs(0)],Wr.prototype,"release",void 0);class Kf extends Jt{constructor(){const n=Gt(Kf.getDefaults(),arguments,["pan"]);super(n),this.name="Panner",this._panner=this.context.createStereoPanner(),this.input=this._panner,this.output=this._panner,this.pan=new ke({context:this.context,param:this._panner.pan,value:n.pan,minValue:-1,maxValue:1}),this._panner.channelCount=n.channelCount,this._panner.channelCountMode="explicit",Re(this,"pan")}static getDefaults(){return Object.assign(Jt.getDefaults(),{pan:0,channelCount:1})}dispose(){return super.dispose(),this._panner.disconnect(),this.pan.dispose(),this}}const OT="bit-crusher",MT=`
	class BitCrusherWorklet extends SingleIOProcessor {

		static get parameterDescriptors() {
			return [{
				name: "bits",
				defaultValue: 12,
				minValue: 1,
				maxValue: 16,
				automationRate: 'k-rate'
			}];
		}

		generate(input, _channel, parameters) {
			const step = Math.pow(0.5, parameters.bits - 1);
			const val = step * Math.floor(input / step + 0.5);
			return val;
		}
	}
`;ov(OT,MT);class Ve extends Jt{constructor(){const n=Gt(Ve.getDefaults(),arguments,["solo"]);super(n),this.name="Solo",this.input=this.output=new ln({context:this.context}),Ve._allSolos.has(this.context)||Ve._allSolos.set(this.context,new Set),Ve._allSolos.get(this.context).add(this),this.solo=n.solo}static getDefaults(){return Object.assign(Jt.getDefaults(),{solo:!1})}get solo(){return this._isSoloed()}set solo(n){n?this._addSolo():this._removeSolo(),Ve._allSolos.get(this.context).forEach(s=>s._updateSolo())}get muted(){return this.input.gain.value===0}_addSolo(){Ve._soloed.has(this.context)||Ve._soloed.set(this.context,new Set),Ve._soloed.get(this.context).add(this)}_removeSolo(){Ve._soloed.has(this.context)&&Ve._soloed.get(this.context).delete(this)}_isSoloed(){return Ve._soloed.has(this.context)&&Ve._soloed.get(this.context).has(this)}_noSolos(){return!Ve._soloed.has(this.context)||Ve._soloed.has(this.context)&&Ve._soloed.get(this.context).size===0}_updateSolo(){this._isSoloed()?this.input.gain.value=1:this._noSolos()?this.input.gain.value=1:this.input.gain.value=0}dispose(){return super.dispose(),Ve._allSolos.get(this.context).delete(this),this._removeSolo(),this}}Ve._allSolos=new Map;Ve._soloed=new Map;class Jf extends Jt{constructor(){const n=Gt(Jf.getDefaults(),arguments,["pan","volume"]);super(n),this.name="PanVol",this._panner=this.input=new Kf({context:this.context,pan:n.pan,channelCount:n.channelCount}),this.pan=this._panner.pan,this._volume=this.output=new ea({context:this.context,volume:n.volume}),this.volume=this._volume.volume,this._panner.connect(this._volume),this.mute=n.mute,Re(this,["pan","volume"])}static getDefaults(){return Object.assign(Jt.getDefaults(),{mute:!1,pan:0,volume:0,channelCount:1})}get mute(){return this._volume.mute}set mute(n){this._volume.mute=n}dispose(){return super.dispose(),this._panner.dispose(),this.pan.dispose(),this._volume.dispose(),this.volume.dispose(),this}}class Ir extends Jt{constructor(){const n=Gt(Ir.getDefaults(),arguments,["volume","pan"]);super(n),this.name="Channel",this._solo=this.input=new Ve({solo:n.solo,context:this.context}),this._panVol=this.output=new Jf({context:this.context,pan:n.pan,volume:n.volume,mute:n.mute,channelCount:n.channelCount}),this.pan=this._panVol.pan,this.volume=this._panVol.volume,this._solo.connect(this._panVol),Re(this,["pan","volume"])}static getDefaults(){return Object.assign(Jt.getDefaults(),{pan:0,volume:0,mute:!1,solo:!1,channelCount:1})}get solo(){return this._solo.solo}set solo(n){this._solo.solo=n}get muted(){return this._solo.muted||this.mute}get mute(){return this._panVol.mute}set mute(n){this._panVol.mute=n}_getBus(n){return Ir.buses.has(n)||Ir.buses.set(n,new ln({context:this.context})),Ir.buses.get(n)}send(n,s=0){const r=this._getBus(n),o=new ln({context:this.context,units:"decibels",gain:s});return this.connect(o),o.connect(r),o}receive(n){return this._getBus(n).connect(this),this}dispose(){return super.dispose(),this._panVol.dispose(),this.pan.dispose(),this.volume.dispose(),this._solo.dispose(),this}}Ir.buses=new Map;const Ze=rs().transport,DT=rs().destination;rs().destination;rs().listener;const RT=rs().draw,Rh=rs();function p0(){return ye.loaded()}var Vi={},Ul={},jh,m0;function jT(){if(m0)return jh;m0=1;function c(o){var l=new r(o),h=l.readChunk();if(h.id!="MThd")throw"Bad MIDI file.  Expected 'MHdr', got: '"+h.id+"'";for(var u=n(h.data),f=[],p=0;!l.eof()&&p<u.numTracks;p++){var m=l.readChunk();if(m.id!="MTrk")throw"Bad MIDI file.  Expected 'MTrk', got: '"+m.id+"'";var _=s(m.data);f.push(_)}return{header:u,tracks:f}}function n(o){var l=new r(o),h=l.readUInt16(),u=l.readUInt16(),f={format:h,numTracks:u},p=l.readUInt16();return p&32768?(f.framesPerSecond=256-(p>>8),f.ticksPerFrame=p&255):f.ticksPerBeat=p,f}function s(o){for(var l=new r(o),h=[];!l.eof();){var u=p();h.push(u)}return h;var f;function p(){var m={};m.deltaTime=l.readVarInt();var _=l.readUInt8();if((_&240)===240)if(_===255){m.meta=!0;var b=l.readUInt8(),v=l.readVarInt();switch(b){case 0:if(m.type="sequenceNumber",v!==2)throw"Expected length for sequenceNumber event is 2, got "+v;return m.number=l.readUInt16(),m;case 1:return m.type="text",m.text=l.readString(v),m;case 2:return m.type="copyrightNotice",m.text=l.readString(v),m;case 3:return m.type="trackName",m.text=l.readString(v),m;case 4:return m.type="instrumentName",m.text=l.readString(v),m;case 5:return m.type="lyrics",m.text=l.readString(v),m;case 6:return m.type="marker",m.text=l.readString(v),m;case 7:return m.type="cuePoint",m.text=l.readString(v),m;case 32:if(m.type="channelPrefix",v!=1)throw"Expected length for channelPrefix event is 1, got "+v;return m.channel=l.readUInt8(),m;case 33:if(m.type="portPrefix",v!=1)throw"Expected length for portPrefix event is 1, got "+v;return m.port=l.readUInt8(),m;case 47:if(m.type="endOfTrack",v!=0)throw"Expected length for endOfTrack event is 0, got "+v;return m;case 81:if(m.type="setTempo",v!=3)throw"Expected length for setTempo event is 3, got "+v;return m.microsecondsPerBeat=l.readUInt24(),m;case 84:if(m.type="smpteOffset",v!=5)throw"Expected length for smpteOffset event is 5, got "+v;var x=l.readUInt8(),y={0:24,32:25,64:29,96:30};return m.frameRate=y[x&96],m.hour=x&31,m.min=l.readUInt8(),m.sec=l.readUInt8(),m.frame=l.readUInt8(),m.subFrame=l.readUInt8(),m;case 88:if(m.type="timeSignature",v!=2&&v!=4)throw"Expected length for timeSignature event is 4 or 2, got "+v;return m.numerator=l.readUInt8(),m.denominator=1<<l.readUInt8(),v===4?(m.metronome=l.readUInt8(),m.thirtyseconds=l.readUInt8()):(m.metronome=36,m.thirtyseconds=8),m;case 89:if(m.type="keySignature",v!=2)throw"Expected length for keySignature event is 2, got "+v;return m.key=l.readInt8(),m.scale=l.readUInt8(),m;case 127:return m.type="sequencerSpecific",m.data=l.readBytes(v),m;default:return m.type="unknownMeta",m.data=l.readBytes(v),m.metatypeByte=b,m}}else if(_==240){m.type="sysEx";var v=l.readVarInt();return m.data=l.readBytes(v),m}else if(_==247){m.type="endSysEx";var v=l.readVarInt();return m.data=l.readBytes(v),m}else throw"Unrecognised MIDI event type byte: "+_;else{var S;if((_&128)===0){if(f===null)throw"Running status byte encountered before status byte";S=_,_=f,m.running=!0}else S=l.readUInt8(),f=_;var w=_>>4;switch(m.channel=_&15,w){case 8:return m.type="noteOff",m.noteNumber=S,m.velocity=l.readUInt8(),m;case 9:var C=l.readUInt8();return m.type=C===0?"noteOff":"noteOn",m.noteNumber=S,m.velocity=C,C===0&&(m.byte9=!0),m;case 10:return m.type="noteAftertouch",m.noteNumber=S,m.amount=l.readUInt8(),m;case 11:return m.type="controller",m.controllerType=S,m.value=l.readUInt8(),m;case 12:return m.type="programChange",m.programNumber=S,m;case 13:return m.type="channelAftertouch",m.amount=S,m;case 14:return m.type="pitchBend",m.value=S+(l.readUInt8()<<7)-8192,m;default:throw"Unrecognised MIDI event type: "+w}}}}function r(o){this.buffer=o,this.bufferLen=this.buffer.length,this.pos=0}return r.prototype.eof=function(){return this.pos>=this.bufferLen},r.prototype.readUInt8=function(){var o=this.buffer[this.pos];return this.pos+=1,o},r.prototype.readInt8=function(){var o=this.readUInt8();return o&128?o-256:o},r.prototype.readUInt16=function(){var o=this.readUInt8(),l=this.readUInt8();return(o<<8)+l},r.prototype.readInt16=function(){var o=this.readUInt16();return o&32768?o-65536:o},r.prototype.readUInt24=function(){var o=this.readUInt8(),l=this.readUInt8(),h=this.readUInt8();return(o<<16)+(l<<8)+h},r.prototype.readInt24=function(){var o=this.readUInt24();return o&8388608?o-16777216:o},r.prototype.readUInt32=function(){var o=this.readUInt8(),l=this.readUInt8(),h=this.readUInt8(),u=this.readUInt8();return(o<<24)+(l<<16)+(h<<8)+u},r.prototype.readBytes=function(o){var l=this.buffer.slice(this.pos,this.pos+o);return this.pos+=o,l},r.prototype.readString=function(o){var l=this.readBytes(o);return String.fromCharCode.apply(null,l)},r.prototype.readVarInt=function(){for(var o=0;!this.eof();){var l=this.readUInt8();if(l&128)o+=l&127,o<<=7;else return o+l}return o},r.prototype.readChunk=function(){var o=this.readString(4),l=this.readUInt32(),h=this.readBytes(l);return{id:o,length:l,data:h}},jh=c,jh}var zh,g0;function zT(){if(g0)return zh;g0=1;function c(l,h){if(typeof l!="object")throw"Invalid MIDI data";h=h||{};var u=l.header||{},f=l.tracks||[],p,m=f.length,_=new o;for(n(_,u,m),p=0;p<m;p++)s(_,f[p],h);return _.buffer}function n(l,h,u){var f=h.format==null?1:h.format,p=128;h.timeDivision?p=h.timeDivision:h.ticksPerFrame&&h.framesPerSecond?p=-(h.framesPerSecond&255)<<8|h.ticksPerFrame&255:h.ticksPerBeat&&(p=h.ticksPerBeat&32767);var m=new o;m.writeUInt16(f),m.writeUInt16(u),m.writeUInt16(p),l.writeChunk("MThd",m.buffer)}function s(l,h,u){var f=new o,p,m=h.length,_=null;for(p=0;p<m;p++)(u.running===!1||!u.running&&!h[p].running)&&(_=null),_=r(f,h[p],_,u.useByte9ForNoteOff);l.writeChunk("MTrk",f.buffer)}function r(l,h,u,f){var p=h.type,m=h.deltaTime,_=h.text||"",b=h.data||[],v=null;switch(l.writeVarInt(m),p){case"sequenceNumber":l.writeUInt8(255),l.writeUInt8(0),l.writeVarInt(2),l.writeUInt16(h.number);break;case"text":l.writeUInt8(255),l.writeUInt8(1),l.writeVarInt(_.length),l.writeString(_);break;case"copyrightNotice":l.writeUInt8(255),l.writeUInt8(2),l.writeVarInt(_.length),l.writeString(_);break;case"trackName":l.writeUInt8(255),l.writeUInt8(3),l.writeVarInt(_.length),l.writeString(_);break;case"instrumentName":l.writeUInt8(255),l.writeUInt8(4),l.writeVarInt(_.length),l.writeString(_);break;case"lyrics":l.writeUInt8(255),l.writeUInt8(5),l.writeVarInt(_.length),l.writeString(_);break;case"marker":l.writeUInt8(255),l.writeUInt8(6),l.writeVarInt(_.length),l.writeString(_);break;case"cuePoint":l.writeUInt8(255),l.writeUInt8(7),l.writeVarInt(_.length),l.writeString(_);break;case"channelPrefix":l.writeUInt8(255),l.writeUInt8(32),l.writeVarInt(1),l.writeUInt8(h.channel);break;case"portPrefix":l.writeUInt8(255),l.writeUInt8(33),l.writeVarInt(1),l.writeUInt8(h.port);break;case"endOfTrack":l.writeUInt8(255),l.writeUInt8(47),l.writeVarInt(0);break;case"setTempo":l.writeUInt8(255),l.writeUInt8(81),l.writeVarInt(3),l.writeUInt24(h.microsecondsPerBeat);break;case"smpteOffset":l.writeUInt8(255),l.writeUInt8(84),l.writeVarInt(5);var x={24:0,25:32,29:64,30:96},y=h.hour&31|x[h.frameRate];l.writeUInt8(y),l.writeUInt8(h.min),l.writeUInt8(h.sec),l.writeUInt8(h.frame),l.writeUInt8(h.subFrame);break;case"timeSignature":l.writeUInt8(255),l.writeUInt8(88),l.writeVarInt(4),l.writeUInt8(h.numerator);var S=Math.floor(Math.log(h.denominator)/Math.LN2)&255;l.writeUInt8(S),l.writeUInt8(h.metronome),l.writeUInt8(h.thirtyseconds||8);break;case"keySignature":l.writeUInt8(255),l.writeUInt8(89),l.writeVarInt(2),l.writeInt8(h.key),l.writeUInt8(h.scale);break;case"sequencerSpecific":l.writeUInt8(255),l.writeUInt8(127),l.writeVarInt(b.length),l.writeBytes(b);break;case"unknownMeta":h.metatypeByte!=null&&(l.writeUInt8(255),l.writeUInt8(h.metatypeByte),l.writeVarInt(b.length),l.writeBytes(b));break;case"sysEx":l.writeUInt8(240),l.writeVarInt(b.length),l.writeBytes(b);break;case"endSysEx":l.writeUInt8(247),l.writeVarInt(b.length),l.writeBytes(b);break;case"noteOff":var w=f!==!1&&h.byte9||f&&h.velocity==0?144:128;v=w|h.channel,v!==u&&l.writeUInt8(v),l.writeUInt8(h.noteNumber),l.writeUInt8(h.velocity);break;case"noteOn":v=144|h.channel,v!==u&&l.writeUInt8(v),l.writeUInt8(h.noteNumber),l.writeUInt8(h.velocity);break;case"noteAftertouch":v=160|h.channel,v!==u&&l.writeUInt8(v),l.writeUInt8(h.noteNumber),l.writeUInt8(h.amount);break;case"controller":v=176|h.channel,v!==u&&l.writeUInt8(v),l.writeUInt8(h.controllerType),l.writeUInt8(h.value);break;case"programChange":v=192|h.channel,v!==u&&l.writeUInt8(v),l.writeUInt8(h.programNumber);break;case"channelAftertouch":v=208|h.channel,v!==u&&l.writeUInt8(v),l.writeUInt8(h.amount);break;case"pitchBend":v=224|h.channel,v!==u&&l.writeUInt8(v);var C=8192+h.value,M=C&127,O=C>>7&127;l.writeUInt8(M),l.writeUInt8(O);break;default:throw"Unrecognized event type: "+p}return v}function o(){this.buffer=[]}return o.prototype.writeUInt8=function(l){this.buffer.push(l&255)},o.prototype.writeInt8=o.prototype.writeUInt8,o.prototype.writeUInt16=function(l){var h=l>>8&255,u=l&255;this.writeUInt8(h),this.writeUInt8(u)},o.prototype.writeInt16=o.prototype.writeUInt16,o.prototype.writeUInt24=function(l){var h=l>>16&255,u=l>>8&255,f=l&255;this.writeUInt8(h),this.writeUInt8(u),this.writeUInt8(f)},o.prototype.writeInt24=o.prototype.writeUInt24,o.prototype.writeUInt32=function(l){var h=l>>24&255,u=l>>16&255,f=l>>8&255,p=l&255;this.writeUInt8(h),this.writeUInt8(u),this.writeUInt8(f),this.writeUInt8(p)},o.prototype.writeInt32=o.prototype.writeUInt32,o.prototype.writeBytes=function(l){this.buffer=this.buffer.concat(Array.prototype.slice.call(l,0))},o.prototype.writeString=function(l){var h,u=l.length,f=[];for(h=0;h<u;h++)f.push(l.codePointAt(h));this.writeBytes(f)},o.prototype.writeVarInt=function(l){if(l<0)throw"Cannot write negative variable-length integer";if(l<=127)this.writeUInt8(l);else{var h=l,u=[];for(u.push(h&127),h>>=7;h;){var f=h&127|128;u.push(f),h>>=7}this.writeBytes(u.reverse())}},o.prototype.writeChunk=function(l,h){this.writeString(l),this.writeUInt32(h.length),this.writeBytes(h)},zh=c,zh}var _0;function lv(){return _0||(_0=1,Ul.parseMidi=jT(),Ul.writeMidi=zT()),Ul}var Uh={},Li={},v0;function cv(){if(v0)return Li;v0=1,Object.defineProperty(Li,"__esModule",{value:!0}),Li.insert=Li.search=void 0;function c(s,r,o){o===void 0&&(o="ticks");var l=0,h=s.length,u=h;if(h>0&&s[h-1][o]<=r)return h-1;for(;l<u;){var f=Math.floor(l+(u-l)/2),p=s[f],m=s[f+1];if(p[o]===r){for(var _=f;_<s.length;_++){var b=s[_];b[o]===r&&(f=_)}return f}else{if(p[o]<r&&m[o]>r)return f;p[o]>r?u=f:p[o]<r&&(l=f+1)}}return-1}Li.search=c;function n(s,r,o){if(o===void 0&&(o="ticks"),s.length){var l=c(s,r[o],o);s.splice(l+1,0,r)}else s.push(r)}return Li.insert=n,Li}var y0;function ff(){return y0||(y0=1,(function(c){Object.defineProperty(c,"__esModule",{value:!0}),c.Header=c.keySignatureKeys=void 0;var n=cv(),s=new WeakMap;c.keySignatureKeys=["Cb","Gb","Db","Ab","Eb","Bb","F","C","G","D","A","E","B","F#","C#"];var r=(function(){function o(l){var h=this;if(this.tempos=[],this.timeSignatures=[],this.keySignatures=[],this.meta=[],this.name="",s.set(this,480),l){s.set(this,l.header.ticksPerBeat),l.tracks.forEach(function(f){f.forEach(function(p){p.meta&&(p.type==="timeSignature"?h.timeSignatures.push({ticks:p.absoluteTime,timeSignature:[p.numerator,p.denominator]}):p.type==="setTempo"?h.tempos.push({bpm:6e7/p.microsecondsPerBeat,ticks:p.absoluteTime}):p.type==="keySignature"&&h.keySignatures.push({key:c.keySignatureKeys[p.key+7],scale:p.scale===0?"major":"minor",ticks:p.absoluteTime}))})});var u=0;l.tracks[0].forEach(function(f){u+=f.deltaTime,f.meta&&(f.type==="trackName"?h.name=f.text:(f.type==="text"||f.type==="cuePoint"||f.type==="marker"||f.type==="lyrics")&&h.meta.push({text:f.text,ticks:u,type:f.type}))}),this.update()}}return o.prototype.update=function(){var l=this,h=0,u=0;this.tempos.sort(function(f,p){return f.ticks-p.ticks}),this.tempos.forEach(function(f,p){var m=p>0?l.tempos[p-1].bpm:l.tempos[0].bpm,_=f.ticks/l.ppq-u,b=60/m*_;f.time=b+h,h=f.time,u+=_}),this.timeSignatures.sort(function(f,p){return f.ticks-p.ticks}),this.timeSignatures.forEach(function(f,p){var m=p>0?l.timeSignatures[p-1]:l.timeSignatures[0],_=(f.ticks-m.ticks)/l.ppq,b=_/m.timeSignature[0]/(m.timeSignature[1]/4);m.measures=m.measures||0,f.measures=b+m.measures})},o.prototype.ticksToSeconds=function(l){var h=(0,n.search)(this.tempos,l);if(h!==-1){var u=this.tempos[h],f=u.time,p=(l-u.ticks)/this.ppq;return f+60/u.bpm*p}else{var m=l/this.ppq;return 60/120*m}},o.prototype.ticksToMeasures=function(l){var h=(0,n.search)(this.timeSignatures,l);if(h!==-1){var u=this.timeSignatures[h],f=(l-u.ticks)/this.ppq;return u.measures+f/(u.timeSignature[0]/u.timeSignature[1])/4}else return l/this.ppq/4},Object.defineProperty(o.prototype,"ppq",{get:function(){return s.get(this)},enumerable:!1,configurable:!0}),o.prototype.secondsToTicks=function(l){var h=(0,n.search)(this.tempos,l,"time");if(h!==-1){var u=this.tempos[h],f=u.time,p=l-f,m=p/(60/u.bpm);return Math.round(u.ticks+m*this.ppq)}else{var _=l/.5;return Math.round(_*this.ppq)}},o.prototype.toJSON=function(){return{keySignatures:this.keySignatures,meta:this.meta,name:this.name,ppq:this.ppq,tempos:this.tempos.map(function(l){return{bpm:l.bpm,ticks:l.ticks}}),timeSignatures:this.timeSignatures}},o.prototype.fromJSON=function(l){this.name=l.name,this.tempos=l.tempos.map(function(h){return Object.assign({},h)}),this.timeSignatures=l.timeSignatures.map(function(h){return Object.assign({},h)}),this.keySignatures=l.keySignatures.map(function(h){return Object.assign({},h)}),this.meta=l.meta.map(function(h){return Object.assign({},h)}),s.set(this,l.ppq),this.update()},o.prototype.setTempo=function(l){this.tempos=[{bpm:l,ticks:0}],this.update()},o})();c.Header=r})(Uh)),Uh}var Qa={},Bh={},b0;function uv(){return b0||(b0=1,(function(c){Object.defineProperty(c,"__esModule",{value:!0}),c.ControlChange=c.controlChangeIds=c.controlChangeNames=void 0,c.controlChangeNames={1:"modulationWheel",2:"breath",4:"footController",5:"portamentoTime",7:"volume",8:"balance",10:"pan",64:"sustain",65:"portamentoTime",66:"sostenuto",67:"softPedal",68:"legatoFootswitch",84:"portamentoControl"},c.controlChangeIds=Object.keys(c.controlChangeNames).reduce(function(o,l){return o[c.controlChangeNames[l]]=l,o},{});var n=new WeakMap,s=new WeakMap,r=(function(){function o(l,h){n.set(this,h),s.set(this,l.controllerType),this.ticks=l.absoluteTime,this.value=l.value}return Object.defineProperty(o.prototype,"number",{get:function(){return s.get(this)},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"name",{get:function(){return c.controlChangeNames[this.number]?c.controlChangeNames[this.number]:null},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"time",{get:function(){var l=n.get(this);return l.ticksToSeconds(this.ticks)},set:function(l){var h=n.get(this);this.ticks=h.secondsToTicks(l)},enumerable:!1,configurable:!0}),o.prototype.toJSON=function(){return{number:this.number,ticks:this.ticks,time:this.time,value:this.value}},o})();c.ControlChange=r})(Bh)),Bh}var Ka={},x0;function UT(){if(x0)return Ka;x0=1,Object.defineProperty(Ka,"__esModule",{value:!0}),Ka.createControlChanges=void 0;var c=uv();function n(){return new Proxy({},{get:function(s,r){if(s[r])return s[r];if(c.controlChangeIds.hasOwnProperty(r))return s[c.controlChangeIds[r]]},set:function(s,r,o){return c.controlChangeIds.hasOwnProperty(r)?s[c.controlChangeIds[r]]=o:s[r]=o,!0}})}return Ka.createControlChanges=n,Ka}var Ja={},S0;function BT(){if(S0)return Ja;S0=1,Object.defineProperty(Ja,"__esModule",{value:!0}),Ja.PitchBend=void 0;var c=new WeakMap,n=(function(){function s(r,o){c.set(this,o),this.ticks=r.absoluteTime,this.value=r.value}return Object.defineProperty(s.prototype,"time",{get:function(){var r=c.get(this);return r.ticksToSeconds(this.ticks)},set:function(r){var o=c.get(this);this.ticks=o.secondsToTicks(r)},enumerable:!1,configurable:!0}),s.prototype.toJSON=function(){return{ticks:this.ticks,time:this.time,value:this.value}},s})();return Ja.PitchBend=n,Ja}var $a={},Bs={},w0;function IT(){return w0||(w0=1,Object.defineProperty(Bs,"__esModule",{value:!0}),Bs.DrumKitByPatchID=Bs.InstrumentFamilyByID=Bs.instrumentByPatchID=void 0,Bs.instrumentByPatchID=["acoustic grand piano","bright acoustic piano","electric grand piano","honky-tonk piano","electric piano 1","electric piano 2","harpsichord","clavi","celesta","glockenspiel","music box","vibraphone","marimba","xylophone","tubular bells","dulcimer","drawbar organ","percussive organ","rock organ","church organ","reed organ","accordion","harmonica","tango accordion","acoustic guitar (nylon)","acoustic guitar (steel)","electric guitar (jazz)","electric guitar (clean)","electric guitar (muted)","overdriven guitar","distortion guitar","guitar harmonics","acoustic bass","electric bass (finger)","electric bass (pick)","fretless bass","slap bass 1","slap bass 2","synth bass 1","synth bass 2","violin","viola","cello","contrabass","tremolo strings","pizzicato strings","orchestral harp","timpani","string ensemble 1","string ensemble 2","synthstrings 1","synthstrings 2","choir aahs","voice oohs","synth voice","orchestra hit","trumpet","trombone","tuba","muted trumpet","french horn","brass section","synthbrass 1","synthbrass 2","soprano sax","alto sax","tenor sax","baritone sax","oboe","english horn","bassoon","clarinet","piccolo","flute","recorder","pan flute","blown bottle","shakuhachi","whistle","ocarina","lead 1 (square)","lead 2 (sawtooth)","lead 3 (calliope)","lead 4 (chiff)","lead 5 (charang)","lead 6 (voice)","lead 7 (fifths)","lead 8 (bass + lead)","pad 1 (new age)","pad 2 (warm)","pad 3 (polysynth)","pad 4 (choir)","pad 5 (bowed)","pad 6 (metallic)","pad 7 (halo)","pad 8 (sweep)","fx 1 (rain)","fx 2 (soundtrack)","fx 3 (crystal)","fx 4 (atmosphere)","fx 5 (brightness)","fx 6 (goblins)","fx 7 (echoes)","fx 8 (sci-fi)","sitar","banjo","shamisen","koto","kalimba","bag pipe","fiddle","shanai","tinkle bell","agogo","steel drums","woodblock","taiko drum","melodic tom","synth drum","reverse cymbal","guitar fret noise","breath noise","seashore","bird tweet","telephone ring","helicopter","applause","gunshot"],Bs.InstrumentFamilyByID=["piano","chromatic percussion","organ","guitar","bass","strings","ensemble","brass","reed","pipe","synth lead","synth pad","synth effects","world","percussive","sound effects"],Bs.DrumKitByPatchID={0:"standard kit",8:"room kit",16:"power kit",24:"electronic kit",25:"tr-808 kit",32:"jazz kit",40:"brush kit",48:"orchestra kit",56:"sound fx kit"}),Bs}var T0;function qT(){if(T0)return $a;T0=1,Object.defineProperty($a,"__esModule",{value:!0}),$a.Instrument=void 0;var c=IT(),n=new WeakMap,s=(function(){function r(o,l){if(this.number=0,n.set(this,l),this.number=0,o){var h=o.find(function(u){return u.type==="programChange"});h&&(this.number=h.programNumber)}}return Object.defineProperty(r.prototype,"name",{get:function(){return this.percussion?c.DrumKitByPatchID[this.number]:c.instrumentByPatchID[this.number]},set:function(o){var l=c.instrumentByPatchID.indexOf(o);l!==-1&&(this.number=l)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"family",{get:function(){return this.percussion?"drums":c.InstrumentFamilyByID[Math.floor(this.number/8)]},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"percussion",{get:function(){var o=n.get(this);return o.channel===9},enumerable:!1,configurable:!0}),r.prototype.toJSON=function(){return{family:this.family,number:this.number,name:this.name}},r.prototype.fromJSON=function(o){this.number=o.number},r})();return $a.Instrument=s,$a}var to={},A0;function VT(){if(A0)return to;A0=1,Object.defineProperty(to,"__esModule",{value:!0}),to.Note=void 0;function c(h){var u=Math.floor(h/12)-1;return n(h)+u.toString()}function n(h){var u=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"],f=h%12;return u[f]}function s(h){var u=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"];return u.indexOf(h)}var r=(function(){var h=/^([a-g]{1}(?:b|#|x|bb)?)(-?[0-9]+)/i,u={cbb:-2,cb:-1,c:0,"c#":1,cx:2,dbb:0,db:1,d:2,"d#":3,dx:4,ebb:2,eb:3,e:4,"e#":5,ex:6,fbb:3,fb:4,f:5,"f#":6,fx:7,gbb:5,gb:6,g:7,"g#":8,gx:9,abb:7,ab:8,a:9,"a#":10,ax:11,bbb:9,bb:10,b:11,"b#":12,bx:13};return function(f){var p=h.exec(f),m=p[1],_=p[2],b=u[m.toLowerCase()];return b+(parseInt(_,10)+1)*12}})(),o=new WeakMap,l=(function(){function h(u,f,p){o.set(this,p),this.midi=u.midi,this.velocity=u.velocity,this.noteOffVelocity=f.velocity,this.ticks=u.ticks,this.durationTicks=f.ticks-u.ticks}return Object.defineProperty(h.prototype,"name",{get:function(){return c(this.midi)},set:function(u){this.midi=r(u)},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"octave",{get:function(){return Math.floor(this.midi/12)-1},set:function(u){var f=u-this.octave;this.midi+=f*12},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"pitch",{get:function(){return n(this.midi)},set:function(u){this.midi=12*(this.octave+1)+s(u)},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"duration",{get:function(){var u=o.get(this);return u.ticksToSeconds(this.ticks+this.durationTicks)-u.ticksToSeconds(this.ticks)},set:function(u){var f=o.get(this),p=f.secondsToTicks(this.time+u);this.durationTicks=p-this.ticks},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"time",{get:function(){var u=o.get(this);return u.ticksToSeconds(this.ticks)},set:function(u){var f=o.get(this);this.ticks=f.secondsToTicks(u)},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"bars",{get:function(){var u=o.get(this);return u.ticksToMeasures(this.ticks)},enumerable:!1,configurable:!0}),h.prototype.toJSON=function(){return{duration:this.duration,durationTicks:this.durationTicks,midi:this.midi,name:this.name,ticks:this.ticks,time:this.time,velocity:this.velocity}},h})();return to.Note=l,to}var N0;function k0(){if(N0)return Qa;N0=1,Object.defineProperty(Qa,"__esModule",{value:!0}),Qa.Track=void 0;var c=cv(),n=uv(),s=UT(),r=BT(),o=qT(),l=VT(),h=new WeakMap,u=(function(){function f(p,m){var _=this;if(this.name="",this.notes=[],this.controlChanges=(0,s.createControlChanges)(),this.pitchBends=[],h.set(this,m),p){var b=p.find(function(O){return O.type==="trackName"});this.name=b?b.text:""}if(this.instrument=new o.Instrument(p,this),this.channel=0,p){for(var v=p.filter(function(O){return O.type==="noteOn"}),x=p.filter(function(O){return O.type==="noteOff"}),y=function(){var O=v.shift();S.channel=O.channel;var k=x.findIndex(function(z){return z.noteNumber===O.noteNumber&&z.absoluteTime>=O.absoluteTime});if(k!==-1){var I=x.splice(k,1)[0];S.addNote({durationTicks:I.absoluteTime-O.absoluteTime,midi:O.noteNumber,noteOffVelocity:I.velocity/127,ticks:O.absoluteTime,velocity:O.velocity/127})}},S=this;v.length;)y();var w=p.filter(function(O){return O.type==="controller"});w.forEach(function(O){_.addCC({number:O.controllerType,ticks:O.absoluteTime,value:O.value/127})});var C=p.filter(function(O){return O.type==="pitchBend"});C.forEach(function(O){_.addPitchBend({ticks:O.absoluteTime,value:O.value/Math.pow(2,13)})});var M=p.find(function(O){return O.type==="endOfTrack"});this.endOfTrackTicks=M!==void 0?M.absoluteTime:void 0}}return f.prototype.addNote=function(p){var m=h.get(this),_=new l.Note({midi:0,ticks:0,velocity:1},{ticks:0,velocity:0},m);return Object.assign(_,p),(0,c.insert)(this.notes,_,"ticks"),this},f.prototype.addCC=function(p){var m=h.get(this),_=new n.ControlChange({controllerType:p.number},m);return delete p.number,Object.assign(_,p),Array.isArray(this.controlChanges[_.number])||(this.controlChanges[_.number]=[]),(0,c.insert)(this.controlChanges[_.number],_,"ticks"),this},f.prototype.addPitchBend=function(p){var m=h.get(this),_=new r.PitchBend({},m);return Object.assign(_,p),(0,c.insert)(this.pitchBends,_,"ticks"),this},Object.defineProperty(f.prototype,"duration",{get:function(){if(!this.notes.length)return 0;for(var p=this.notes[this.notes.length-1].time+this.notes[this.notes.length-1].duration,m=0;m<this.notes.length-1;m++){var _=this.notes[m].time+this.notes[m].duration;p<_&&(p=_)}return p},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"durationTicks",{get:function(){if(!this.notes.length)return 0;for(var p=this.notes[this.notes.length-1].ticks+this.notes[this.notes.length-1].durationTicks,m=0;m<this.notes.length-1;m++){var _=this.notes[m].ticks+this.notes[m].durationTicks;p<_&&(p=_)}return p},enumerable:!1,configurable:!0}),f.prototype.fromJSON=function(p){var m=this;this.name=p.name,this.channel=p.channel,this.instrument=new o.Instrument(void 0,this),this.instrument.fromJSON(p.instrument),p.endOfTrackTicks!==void 0&&(this.endOfTrackTicks=p.endOfTrackTicks);for(var _ in p.controlChanges)p.controlChanges[_]&&p.controlChanges[_].forEach(function(b){m.addCC({number:b.number,ticks:b.ticks,value:b.value})});p.notes.forEach(function(b){m.addNote({durationTicks:b.durationTicks,midi:b.midi,ticks:b.ticks,velocity:b.velocity})})},f.prototype.toJSON=function(){for(var p={},m=0;m<127;m++)this.controlChanges.hasOwnProperty(m)&&(p[m]=this.controlChanges[m].map(function(b){return b.toJSON()}));var _={channel:this.channel,controlChanges:p,pitchBends:this.pitchBends.map(function(b){return b.toJSON()}),instrument:this.instrument.toJSON(),name:this.name,notes:this.notes.map(function(b){return b.toJSON()})};return this.endOfTrackTicks!==void 0&&(_.endOfTrackTicks=this.endOfTrackTicks),_},f})();return Qa.Track=u,Qa}var Fi={};function LT(c){var n=[];return hv(c,n),n}function hv(c,n){for(var s=0;s<c.length;s++){var r=c[s];Array.isArray(r)?hv(r,n):n.push(r)}}const FT=Object.freeze(Object.defineProperty({__proto__:null,flatten:LT},Symbol.toStringTag,{value:"Module"})),HT=$0(FT);var C0;function GT(){if(C0)return Fi;C0=1;var c=Fi&&Fi.__spreadArray||function(w,C,M){if(M||arguments.length===2)for(var O=0,k=C.length,I;O<k;O++)(I||!(O in C))&&(I||(I=Array.prototype.slice.call(C,0,O)),I[O]=C[O]);return w.concat(I||Array.prototype.slice.call(C))};Object.defineProperty(Fi,"__esModule",{value:!0}),Fi.encode=void 0;var n=lv(),s=ff(),r=HT;function o(w,C){return[{absoluteTime:w.ticks,channel:C,deltaTime:0,noteNumber:w.midi,type:"noteOn",velocity:Math.floor(w.velocity*127)},{absoluteTime:w.ticks+w.durationTicks,channel:C,deltaTime:0,noteNumber:w.midi,type:"noteOff",velocity:Math.floor(w.noteOffVelocity*127)}]}function l(w){return(0,r.flatten)(w.notes.map(function(C){return o(C,w.channel)}))}function h(w,C){return{absoluteTime:w.ticks,channel:C,controllerType:w.number,deltaTime:0,type:"controller",value:Math.floor(w.value*127)}}function u(w){for(var C=[],M=0;M<127;M++)w.controlChanges.hasOwnProperty(M)&&w.controlChanges[M].forEach(function(O){C.push(h(O,w.channel))});return C}function f(w,C){return{absoluteTime:w.ticks,channel:C,deltaTime:0,type:"pitchBend",value:w.value}}function p(w){var C=[];return w.pitchBends.forEach(function(M){C.push(f(M,w.channel))}),C}function m(w){return{absoluteTime:0,channel:w.channel,deltaTime:0,programNumber:w.instrument.number,type:"programChange"}}function _(w){return{absoluteTime:0,deltaTime:0,meta:!0,text:w,type:"trackName"}}function b(w){return{absoluteTime:w.ticks,deltaTime:0,meta:!0,microsecondsPerBeat:Math.floor(6e7/w.bpm),type:"setTempo"}}function v(w){return{absoluteTime:w.ticks,deltaTime:0,denominator:w.timeSignature[1],meta:!0,metronome:24,numerator:w.timeSignature[0],thirtyseconds:8,type:"timeSignature"}}function x(w){var C=s.keySignatureKeys.indexOf(w.key);return{absoluteTime:w.ticks,deltaTime:0,key:C+7,meta:!0,scale:w.scale==="major"?0:1,type:"keySignature"}}function y(w){return{absoluteTime:w.ticks,deltaTime:0,meta:!0,text:w.text,type:w.type}}function S(w){var C={header:{format:1,numTracks:w.tracks.length+1,ticksPerBeat:w.header.ppq},tracks:c([c(c(c(c([{absoluteTime:0,deltaTime:0,meta:!0,text:w.header.name,type:"trackName"}],w.header.keySignatures.map(function(M){return x(M)}),!0),w.header.meta.map(function(M){return y(M)}),!0),w.header.tempos.map(function(M){return b(M)}),!0),w.header.timeSignatures.map(function(M){return v(M)}),!0)],w.tracks.map(function(M){return c(c(c([_(M.name),m(M)],l(M),!0),u(M),!0),p(M),!0)}),!0)};return C.tracks=C.tracks.map(function(M){M=M.sort(function(k,I){return k.absoluteTime-I.absoluteTime});var O=0;return M.forEach(function(k){k.deltaTime=k.absoluteTime-O,O=k.absoluteTime,delete k.absoluteTime}),M.push({deltaTime:0,meta:!0,type:"endOfTrack"}),M}),new Uint8Array((0,n.writeMidi)(C))}return Fi.encode=S,Fi}var E0;function PT(){return E0||(E0=1,(function(c){var n=Vi&&Vi.__awaiter||function(_,b,v,x){function y(S){return S instanceof v?S:new v(function(w){w(S)})}return new(v||(v=Promise))(function(S,w){function C(k){try{O(x.next(k))}catch(I){w(I)}}function M(k){try{O(x.throw(k))}catch(I){w(I)}}function O(k){k.done?S(k.value):y(k.value).then(C,M)}O((x=x.apply(_,b||[])).next())})},s=Vi&&Vi.__generator||function(_,b){var v={label:0,sent:function(){if(S[0]&1)throw S[1];return S[1]},trys:[],ops:[]},x,y,S,w;return w={next:C(0),throw:C(1),return:C(2)},typeof Symbol=="function"&&(w[Symbol.iterator]=function(){return this}),w;function C(O){return function(k){return M([O,k])}}function M(O){if(x)throw new TypeError("Generator is already executing.");for(;v;)try{if(x=1,y&&(S=O[0]&2?y.return:O[0]?y.throw||((S=y.return)&&S.call(y),0):y.next)&&!(S=S.call(y,O[1])).done)return S;switch(y=0,S&&(O=[O[0]&2,S.value]),O[0]){case 0:case 1:S=O;break;case 4:return v.label++,{value:O[1],done:!1};case 5:v.label++,y=O[1],O=[0];continue;case 7:O=v.ops.pop(),v.trys.pop();continue;default:if(S=v.trys,!(S=S.length>0&&S[S.length-1])&&(O[0]===6||O[0]===2)){v=0;continue}if(O[0]===3&&(!S||O[1]>S[0]&&O[1]<S[3])){v.label=O[1];break}if(O[0]===6&&v.label<S[1]){v.label=S[1],S=O;break}if(S&&v.label<S[2]){v.label=S[2],v.ops.push(O);break}S[2]&&v.ops.pop(),v.trys.pop();continue}O=b.call(_,v)}catch(k){O=[6,k],y=0}finally{x=S=0}if(O[0]&5)throw O[1];return{value:O[0]?O[1]:void 0,done:!0}}};Object.defineProperty(c,"__esModule",{value:!0}),c.Header=c.Track=c.Midi=void 0;var r=lv(),o=ff(),l=k0(),h=GT(),u=(function(){function _(b){var v=this,x=null;if(b){var y=b instanceof ArrayBuffer?new Uint8Array(b):b;x=(0,r.parseMidi)(y),x.tracks.forEach(function(S){var w=0;S.forEach(function(C){w+=C.deltaTime,C.absoluteTime=w})}),x.tracks=m(x.tracks)}this.header=new o.Header(x),this.tracks=[],b&&(this.tracks=x.tracks.map(function(S){return new l.Track(S,v.header)}),x.header.format===1&&this.tracks[0].duration===0&&this.tracks.shift())}return _.fromUrl=function(b){return n(this,void 0,void 0,function(){var v,x;return s(this,function(y){switch(y.label){case 0:return[4,fetch(b)];case 1:return v=y.sent(),v.ok?[4,v.arrayBuffer()]:[3,3];case 2:return x=y.sent(),[2,new _(x)];case 3:throw new Error("Could not load '".concat(b,"'"))}})})},Object.defineProperty(_.prototype,"name",{get:function(){return this.header.name},set:function(b){this.header.name=b},enumerable:!1,configurable:!0}),Object.defineProperty(_.prototype,"duration",{get:function(){var b=this.tracks.map(function(v){return v.duration});return Math.max.apply(Math,b)},enumerable:!1,configurable:!0}),Object.defineProperty(_.prototype,"durationTicks",{get:function(){var b=this.tracks.map(function(v){return v.durationTicks});return Math.max.apply(Math,b)},enumerable:!1,configurable:!0}),_.prototype.addTrack=function(){var b=new l.Track(void 0,this.header);return this.tracks.push(b),b},_.prototype.toArray=function(){return(0,h.encode)(this)},_.prototype.toJSON=function(){return{header:this.header.toJSON(),tracks:this.tracks.map(function(b){return b.toJSON()})}},_.prototype.fromJSON=function(b){var v=this;this.header=new o.Header,this.header.fromJSON(b.header),this.tracks=b.tracks.map(function(x){var y=new l.Track(void 0,v.header);return y.fromJSON(x),y})},_.prototype.clone=function(){var b=new _;return b.fromJSON(this.toJSON()),b},_})();c.Midi=u;var f=k0();Object.defineProperty(c,"Track",{enumerable:!0,get:function(){return f.Track}});var p=ff();Object.defineProperty(c,"Header",{enumerable:!0,get:function(){return p.Header}});function m(_){for(var b=[],v=0;v<_.length;v++)for(var x=b.length,y=new Map,S=Array(16).fill(0),w=0,C=_[v];w<C.length;w++){var M=C[w],O=x,k=M.channel;if(k!==void 0){M.type==="programChange"&&(S[k]=M.programNumber);var I=S[k],z="".concat(I," ").concat(k);y.has(z)?O=y.get(z):(O=x+y.size,y.set(z,O))}b[O]||b.push([]),b[O].push(M)}return b}})(Vi)),Vi}var Ye=PT();function mi(c){throw new Error('Could not dynamically require "'+c+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Ih={exports:{}};/*!

JSZip v3.10.1 - A JavaScript class for generating and reading zip files
<http://stuartk.com/jszip>

(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

JSZip uses the library pako released under the MIT license :
https://github.com/nodeca/pako/blob/main/LICENSE
*/var O0;function ZT(){return O0||(O0=1,(function(c,n){(function(s){c.exports=s()})(function(){return(function s(r,o,l){function h(p,m){if(!o[p]){if(!r[p]){var _=typeof mi=="function"&&mi;if(!m&&_)return _(p,!0);if(u)return u(p,!0);var b=new Error("Cannot find module '"+p+"'");throw b.code="MODULE_NOT_FOUND",b}var v=o[p]={exports:{}};r[p][0].call(v.exports,function(x){var y=r[p][1][x];return h(y||x)},v,v.exports,s,r,o,l)}return o[p].exports}for(var u=typeof mi=="function"&&mi,f=0;f<l.length;f++)h(l[f]);return h})({1:[function(s,r,o){var l=s("./utils"),h=s("./support"),u="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";o.encode=function(f){for(var p,m,_,b,v,x,y,S=[],w=0,C=f.length,M=C,O=l.getTypeOf(f)!=="string";w<f.length;)M=C-w,_=O?(p=f[w++],m=w<C?f[w++]:0,w<C?f[w++]:0):(p=f.charCodeAt(w++),m=w<C?f.charCodeAt(w++):0,w<C?f.charCodeAt(w++):0),b=p>>2,v=(3&p)<<4|m>>4,x=1<M?(15&m)<<2|_>>6:64,y=2<M?63&_:64,S.push(u.charAt(b)+u.charAt(v)+u.charAt(x)+u.charAt(y));return S.join("")},o.decode=function(f){var p,m,_,b,v,x,y=0,S=0,w="data:";if(f.substr(0,w.length)===w)throw new Error("Invalid base64 input, it looks like a data url.");var C,M=3*(f=f.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(f.charAt(f.length-1)===u.charAt(64)&&M--,f.charAt(f.length-2)===u.charAt(64)&&M--,M%1!=0)throw new Error("Invalid base64 input, bad content length.");for(C=h.uint8array?new Uint8Array(0|M):new Array(0|M);y<f.length;)p=u.indexOf(f.charAt(y++))<<2|(b=u.indexOf(f.charAt(y++)))>>4,m=(15&b)<<4|(v=u.indexOf(f.charAt(y++)))>>2,_=(3&v)<<6|(x=u.indexOf(f.charAt(y++))),C[S++]=p,v!==64&&(C[S++]=m),x!==64&&(C[S++]=_);return C}},{"./support":30,"./utils":32}],2:[function(s,r,o){var l=s("./external"),h=s("./stream/DataWorker"),u=s("./stream/Crc32Probe"),f=s("./stream/DataLengthProbe");function p(m,_,b,v,x){this.compressedSize=m,this.uncompressedSize=_,this.crc32=b,this.compression=v,this.compressedContent=x}p.prototype={getContentWorker:function(){var m=new h(l.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new f("data_length")),_=this;return m.on("end",function(){if(this.streamInfo.data_length!==_.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),m},getCompressedWorker:function(){return new h(l.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},p.createWorkerFrom=function(m,_,b){return m.pipe(new u).pipe(new f("uncompressedSize")).pipe(_.compressWorker(b)).pipe(new f("compressedSize")).withStreamInfo("compression",_)},r.exports=p},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(s,r,o){var l=s("./stream/GenericWorker");o.STORE={magic:"\0\0",compressWorker:function(){return new l("STORE compression")},uncompressWorker:function(){return new l("STORE decompression")}},o.DEFLATE=s("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(s,r,o){var l=s("./utils"),h=(function(){for(var u,f=[],p=0;p<256;p++){u=p;for(var m=0;m<8;m++)u=1&u?3988292384^u>>>1:u>>>1;f[p]=u}return f})();r.exports=function(u,f){return u!==void 0&&u.length?l.getTypeOf(u)!=="string"?(function(p,m,_,b){var v=h,x=b+_;p^=-1;for(var y=b;y<x;y++)p=p>>>8^v[255&(p^m[y])];return-1^p})(0|f,u,u.length,0):(function(p,m,_,b){var v=h,x=b+_;p^=-1;for(var y=b;y<x;y++)p=p>>>8^v[255&(p^m.charCodeAt(y))];return-1^p})(0|f,u,u.length,0):0}},{"./utils":32}],5:[function(s,r,o){o.base64=!1,o.binary=!1,o.dir=!1,o.createFolders=!0,o.date=null,o.compression=null,o.compressionOptions=null,o.comment=null,o.unixPermissions=null,o.dosPermissions=null},{}],6:[function(s,r,o){var l=null;l=typeof Promise<"u"?Promise:s("lie"),r.exports={Promise:l}},{lie:37}],7:[function(s,r,o){var l=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",h=s("pako"),u=s("./utils"),f=s("./stream/GenericWorker"),p=l?"uint8array":"array";function m(_,b){f.call(this,"FlateWorker/"+_),this._pako=null,this._pakoAction=_,this._pakoOptions=b,this.meta={}}o.magic="\b\0",u.inherits(m,f),m.prototype.processChunk=function(_){this.meta=_.meta,this._pako===null&&this._createPako(),this._pako.push(u.transformTo(p,_.data),!1)},m.prototype.flush=function(){f.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},m.prototype.cleanUp=function(){f.prototype.cleanUp.call(this),this._pako=null},m.prototype._createPako=function(){this._pako=new h[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var _=this;this._pako.onData=function(b){_.push({data:b,meta:_.meta})}},o.compressWorker=function(_){return new m("Deflate",_)},o.uncompressWorker=function(){return new m("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(s,r,o){function l(v,x){var y,S="";for(y=0;y<x;y++)S+=String.fromCharCode(255&v),v>>>=8;return S}function h(v,x,y,S,w,C){var M,O,k=v.file,I=v.compression,z=C!==p.utf8encode,D=u.transformTo("string",C(k.name)),V=u.transformTo("string",p.utf8encode(k.name)),Z=k.comment,nt=u.transformTo("string",C(Z)),R=u.transformTo("string",p.utf8encode(Z)),W=V.length!==k.name.length,T=R.length!==Z.length,K="",H="",G="",ut=k.dir,Y=k.date,U={crc32:0,compressedSize:0,uncompressedSize:0};x&&!y||(U.crc32=v.crc32,U.compressedSize=v.compressedSize,U.uncompressedSize=v.uncompressedSize);var B=0;x&&(B|=8),z||!W&&!T||(B|=2048);var F=0,lt=0;ut&&(F|=16),w==="UNIX"?(lt=798,F|=(function(tt,yt){var Ot=tt;return tt||(Ot=yt?16893:33204),(65535&Ot)<<16})(k.unixPermissions,ut)):(lt=20,F|=(function(tt){return 63&(tt||0)})(k.dosPermissions)),M=Y.getUTCHours(),M<<=6,M|=Y.getUTCMinutes(),M<<=5,M|=Y.getUTCSeconds()/2,O=Y.getUTCFullYear()-1980,O<<=4,O|=Y.getUTCMonth()+1,O<<=5,O|=Y.getUTCDate(),W&&(H=l(1,1)+l(m(D),4)+V,K+="up"+l(H.length,2)+H),T&&(G=l(1,1)+l(m(nt),4)+R,K+="uc"+l(G.length,2)+G);var ot="";return ot+=`
\0`,ot+=l(B,2),ot+=I.magic,ot+=l(M,2),ot+=l(O,2),ot+=l(U.crc32,4),ot+=l(U.compressedSize,4),ot+=l(U.uncompressedSize,4),ot+=l(D.length,2),ot+=l(K.length,2),{fileRecord:_.LOCAL_FILE_HEADER+ot+D+K,dirRecord:_.CENTRAL_FILE_HEADER+l(lt,2)+ot+l(nt.length,2)+"\0\0\0\0"+l(F,4)+l(S,4)+D+K+nt}}var u=s("../utils"),f=s("../stream/GenericWorker"),p=s("../utf8"),m=s("../crc32"),_=s("../signature");function b(v,x,y,S){f.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=x,this.zipPlatform=y,this.encodeFileName=S,this.streamFiles=v,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}u.inherits(b,f),b.prototype.push=function(v){var x=v.meta.percent||0,y=this.entriesCount,S=this._sources.length;this.accumulate?this.contentBuffer.push(v):(this.bytesWritten+=v.data.length,f.prototype.push.call(this,{data:v.data,meta:{currentFile:this.currentFile,percent:y?(x+100*(y-S-1))/y:100}}))},b.prototype.openedSource=function(v){this.currentSourceOffset=this.bytesWritten,this.currentFile=v.file.name;var x=this.streamFiles&&!v.file.dir;if(x){var y=h(v,x,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:y.fileRecord,meta:{percent:0}})}else this.accumulate=!0},b.prototype.closedSource=function(v){this.accumulate=!1;var x=this.streamFiles&&!v.file.dir,y=h(v,x,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(y.dirRecord),x)this.push({data:(function(S){return _.DATA_DESCRIPTOR+l(S.crc32,4)+l(S.compressedSize,4)+l(S.uncompressedSize,4)})(v),meta:{percent:100}});else for(this.push({data:y.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},b.prototype.flush=function(){for(var v=this.bytesWritten,x=0;x<this.dirRecords.length;x++)this.push({data:this.dirRecords[x],meta:{percent:100}});var y=this.bytesWritten-v,S=(function(w,C,M,O,k){var I=u.transformTo("string",k(O));return _.CENTRAL_DIRECTORY_END+"\0\0\0\0"+l(w,2)+l(w,2)+l(C,4)+l(M,4)+l(I.length,2)+I})(this.dirRecords.length,y,v,this.zipComment,this.encodeFileName);this.push({data:S,meta:{percent:100}})},b.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},b.prototype.registerPrevious=function(v){this._sources.push(v);var x=this;return v.on("data",function(y){x.processChunk(y)}),v.on("end",function(){x.closedSource(x.previous.streamInfo),x._sources.length?x.prepareNextSource():x.end()}),v.on("error",function(y){x.error(y)}),this},b.prototype.resume=function(){return!!f.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},b.prototype.error=function(v){var x=this._sources;if(!f.prototype.error.call(this,v))return!1;for(var y=0;y<x.length;y++)try{x[y].error(v)}catch{}return!0},b.prototype.lock=function(){f.prototype.lock.call(this);for(var v=this._sources,x=0;x<v.length;x++)v[x].lock()},r.exports=b},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(s,r,o){var l=s("../compressions"),h=s("./ZipFileWorker");o.generateWorker=function(u,f,p){var m=new h(f.streamFiles,p,f.platform,f.encodeFileName),_=0;try{u.forEach(function(b,v){_++;var x=(function(C,M){var O=C||M,k=l[O];if(!k)throw new Error(O+" is not a valid compression method !");return k})(v.options.compression,f.compression),y=v.options.compressionOptions||f.compressionOptions||{},S=v.dir,w=v.date;v._compressWorker(x,y).withStreamInfo("file",{name:b,dir:S,date:w,comment:v.comment||"",unixPermissions:v.unixPermissions,dosPermissions:v.dosPermissions}).pipe(m)}),m.entriesCount=_}catch(b){m.error(b)}return m}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(s,r,o){function l(){if(!(this instanceof l))return new l;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var h=new l;for(var u in this)typeof this[u]!="function"&&(h[u]=this[u]);return h}}(l.prototype=s("./object")).loadAsync=s("./load"),l.support=s("./support"),l.defaults=s("./defaults"),l.version="3.10.1",l.loadAsync=function(h,u){return new l().loadAsync(h,u)},l.external=s("./external"),r.exports=l},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(s,r,o){var l=s("./utils"),h=s("./external"),u=s("./utf8"),f=s("./zipEntries"),p=s("./stream/Crc32Probe"),m=s("./nodejsUtils");function _(b){return new h.Promise(function(v,x){var y=b.decompressed.getContentWorker().pipe(new p);y.on("error",function(S){x(S)}).on("end",function(){y.streamInfo.crc32!==b.decompressed.crc32?x(new Error("Corrupted zip : CRC32 mismatch")):v()}).resume()})}r.exports=function(b,v){var x=this;return v=l.extend(v||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:u.utf8decode}),m.isNode&&m.isStream(b)?h.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):l.prepareContent("the loaded zip file",b,!0,v.optimizedBinaryString,v.base64).then(function(y){var S=new f(v);return S.load(y),S}).then(function(y){var S=[h.Promise.resolve(y)],w=y.files;if(v.checkCRC32)for(var C=0;C<w.length;C++)S.push(_(w[C]));return h.Promise.all(S)}).then(function(y){for(var S=y.shift(),w=S.files,C=0;C<w.length;C++){var M=w[C],O=M.fileNameStr,k=l.resolve(M.fileNameStr);x.file(k,M.decompressed,{binary:!0,optimizedBinaryString:!0,date:M.date,dir:M.dir,comment:M.fileCommentStr.length?M.fileCommentStr:null,unixPermissions:M.unixPermissions,dosPermissions:M.dosPermissions,createFolders:v.createFolders}),M.dir||(x.file(k).unsafeOriginalName=O)}return S.zipComment.length&&(x.comment=S.zipComment),x})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(s,r,o){var l=s("../utils"),h=s("../stream/GenericWorker");function u(f,p){h.call(this,"Nodejs stream input adapter for "+f),this._upstreamEnded=!1,this._bindStream(p)}l.inherits(u,h),u.prototype._bindStream=function(f){var p=this;(this._stream=f).pause(),f.on("data",function(m){p.push({data:m,meta:{percent:0}})}).on("error",function(m){p.isPaused?this.generatedError=m:p.error(m)}).on("end",function(){p.isPaused?p._upstreamEnded=!0:p.end()})},u.prototype.pause=function(){return!!h.prototype.pause.call(this)&&(this._stream.pause(),!0)},u.prototype.resume=function(){return!!h.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},r.exports=u},{"../stream/GenericWorker":28,"../utils":32}],13:[function(s,r,o){var l=s("readable-stream").Readable;function h(u,f,p){l.call(this,f),this._helper=u;var m=this;u.on("data",function(_,b){m.push(_)||m._helper.pause(),p&&p(b)}).on("error",function(_){m.emit("error",_)}).on("end",function(){m.push(null)})}s("../utils").inherits(h,l),h.prototype._read=function(){this._helper.resume()},r.exports=h},{"../utils":32,"readable-stream":16}],14:[function(s,r,o){r.exports={isNode:typeof Buffer<"u",newBufferFrom:function(l,h){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(l,h);if(typeof l=="number")throw new Error('The "data" argument must not be a number');return new Buffer(l,h)},allocBuffer:function(l){if(Buffer.alloc)return Buffer.alloc(l);var h=new Buffer(l);return h.fill(0),h},isBuffer:function(l){return Buffer.isBuffer(l)},isStream:function(l){return l&&typeof l.on=="function"&&typeof l.pause=="function"&&typeof l.resume=="function"}}},{}],15:[function(s,r,o){function l(k,I,z){var D,V=u.getTypeOf(I),Z=u.extend(z||{},m);Z.date=Z.date||new Date,Z.compression!==null&&(Z.compression=Z.compression.toUpperCase()),typeof Z.unixPermissions=="string"&&(Z.unixPermissions=parseInt(Z.unixPermissions,8)),Z.unixPermissions&&16384&Z.unixPermissions&&(Z.dir=!0),Z.dosPermissions&&16&Z.dosPermissions&&(Z.dir=!0),Z.dir&&(k=w(k)),Z.createFolders&&(D=S(k))&&C.call(this,D,!0);var nt=V==="string"&&Z.binary===!1&&Z.base64===!1;z&&z.binary!==void 0||(Z.binary=!nt),(I instanceof _&&I.uncompressedSize===0||Z.dir||!I||I.length===0)&&(Z.base64=!1,Z.binary=!0,I="",Z.compression="STORE",V="string");var R=null;R=I instanceof _||I instanceof f?I:x.isNode&&x.isStream(I)?new y(k,I):u.prepareContent(k,I,Z.binary,Z.optimizedBinaryString,Z.base64);var W=new b(k,R,Z);this.files[k]=W}var h=s("./utf8"),u=s("./utils"),f=s("./stream/GenericWorker"),p=s("./stream/StreamHelper"),m=s("./defaults"),_=s("./compressedObject"),b=s("./zipObject"),v=s("./generate"),x=s("./nodejsUtils"),y=s("./nodejs/NodejsStreamInputAdapter"),S=function(k){k.slice(-1)==="/"&&(k=k.substring(0,k.length-1));var I=k.lastIndexOf("/");return 0<I?k.substring(0,I):""},w=function(k){return k.slice(-1)!=="/"&&(k+="/"),k},C=function(k,I){return I=I!==void 0?I:m.createFolders,k=w(k),this.files[k]||l.call(this,k,null,{dir:!0,createFolders:I}),this.files[k]};function M(k){return Object.prototype.toString.call(k)==="[object RegExp]"}var O={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(k){var I,z,D;for(I in this.files)D=this.files[I],(z=I.slice(this.root.length,I.length))&&I.slice(0,this.root.length)===this.root&&k(z,D)},filter:function(k){var I=[];return this.forEach(function(z,D){k(z,D)&&I.push(D)}),I},file:function(k,I,z){if(arguments.length!==1)return k=this.root+k,l.call(this,k,I,z),this;if(M(k)){var D=k;return this.filter(function(Z,nt){return!nt.dir&&D.test(Z)})}var V=this.files[this.root+k];return V&&!V.dir?V:null},folder:function(k){if(!k)return this;if(M(k))return this.filter(function(V,Z){return Z.dir&&k.test(V)});var I=this.root+k,z=C.call(this,I),D=this.clone();return D.root=z.name,D},remove:function(k){k=this.root+k;var I=this.files[k];if(I||(k.slice(-1)!=="/"&&(k+="/"),I=this.files[k]),I&&!I.dir)delete this.files[k];else for(var z=this.filter(function(V,Z){return Z.name.slice(0,k.length)===k}),D=0;D<z.length;D++)delete this.files[z[D].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(k){var I,z={};try{if((z=u.extend(k||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:h.utf8encode})).type=z.type.toLowerCase(),z.compression=z.compression.toUpperCase(),z.type==="binarystring"&&(z.type="string"),!z.type)throw new Error("No output type specified.");u.checkSupport(z.type),z.platform!=="darwin"&&z.platform!=="freebsd"&&z.platform!=="linux"&&z.platform!=="sunos"||(z.platform="UNIX"),z.platform==="win32"&&(z.platform="DOS");var D=z.comment||this.comment||"";I=v.generateWorker(this,z,D)}catch(V){(I=new f("error")).error(V)}return new p(I,z.type||"string",z.mimeType)},generateAsync:function(k,I){return this.generateInternalStream(k).accumulate(I)},generateNodeStream:function(k,I){return(k=k||{}).type||(k.type="nodebuffer"),this.generateInternalStream(k).toNodejsStream(I)}};r.exports=O},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(s,r,o){r.exports=s("stream")},{stream:void 0}],17:[function(s,r,o){var l=s("./DataReader");function h(u){l.call(this,u);for(var f=0;f<this.data.length;f++)u[f]=255&u[f]}s("../utils").inherits(h,l),h.prototype.byteAt=function(u){return this.data[this.zero+u]},h.prototype.lastIndexOfSignature=function(u){for(var f=u.charCodeAt(0),p=u.charCodeAt(1),m=u.charCodeAt(2),_=u.charCodeAt(3),b=this.length-4;0<=b;--b)if(this.data[b]===f&&this.data[b+1]===p&&this.data[b+2]===m&&this.data[b+3]===_)return b-this.zero;return-1},h.prototype.readAndCheckSignature=function(u){var f=u.charCodeAt(0),p=u.charCodeAt(1),m=u.charCodeAt(2),_=u.charCodeAt(3),b=this.readData(4);return f===b[0]&&p===b[1]&&m===b[2]&&_===b[3]},h.prototype.readData=function(u){if(this.checkOffset(u),u===0)return[];var f=this.data.slice(this.zero+this.index,this.zero+this.index+u);return this.index+=u,f},r.exports=h},{"../utils":32,"./DataReader":18}],18:[function(s,r,o){var l=s("../utils");function h(u){this.data=u,this.length=u.length,this.index=0,this.zero=0}h.prototype={checkOffset:function(u){this.checkIndex(this.index+u)},checkIndex:function(u){if(this.length<this.zero+u||u<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+u+"). Corrupted zip ?")},setIndex:function(u){this.checkIndex(u),this.index=u},skip:function(u){this.setIndex(this.index+u)},byteAt:function(){},readInt:function(u){var f,p=0;for(this.checkOffset(u),f=this.index+u-1;f>=this.index;f--)p=(p<<8)+this.byteAt(f);return this.index+=u,p},readString:function(u){return l.transformTo("string",this.readData(u))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var u=this.readInt(4);return new Date(Date.UTC(1980+(u>>25&127),(u>>21&15)-1,u>>16&31,u>>11&31,u>>5&63,(31&u)<<1))}},r.exports=h},{"../utils":32}],19:[function(s,r,o){var l=s("./Uint8ArrayReader");function h(u){l.call(this,u)}s("../utils").inherits(h,l),h.prototype.readData=function(u){this.checkOffset(u);var f=this.data.slice(this.zero+this.index,this.zero+this.index+u);return this.index+=u,f},r.exports=h},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(s,r,o){var l=s("./DataReader");function h(u){l.call(this,u)}s("../utils").inherits(h,l),h.prototype.byteAt=function(u){return this.data.charCodeAt(this.zero+u)},h.prototype.lastIndexOfSignature=function(u){return this.data.lastIndexOf(u)-this.zero},h.prototype.readAndCheckSignature=function(u){return u===this.readData(4)},h.prototype.readData=function(u){this.checkOffset(u);var f=this.data.slice(this.zero+this.index,this.zero+this.index+u);return this.index+=u,f},r.exports=h},{"../utils":32,"./DataReader":18}],21:[function(s,r,o){var l=s("./ArrayReader");function h(u){l.call(this,u)}s("../utils").inherits(h,l),h.prototype.readData=function(u){if(this.checkOffset(u),u===0)return new Uint8Array(0);var f=this.data.subarray(this.zero+this.index,this.zero+this.index+u);return this.index+=u,f},r.exports=h},{"../utils":32,"./ArrayReader":17}],22:[function(s,r,o){var l=s("../utils"),h=s("../support"),u=s("./ArrayReader"),f=s("./StringReader"),p=s("./NodeBufferReader"),m=s("./Uint8ArrayReader");r.exports=function(_){var b=l.getTypeOf(_);return l.checkSupport(b),b!=="string"||h.uint8array?b==="nodebuffer"?new p(_):h.uint8array?new m(l.transformTo("uint8array",_)):new u(l.transformTo("array",_)):new f(_)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(s,r,o){o.LOCAL_FILE_HEADER="PK",o.CENTRAL_FILE_HEADER="PK",o.CENTRAL_DIRECTORY_END="PK",o.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",o.ZIP64_CENTRAL_DIRECTORY_END="PK",o.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(s,r,o){var l=s("./GenericWorker"),h=s("../utils");function u(f){l.call(this,"ConvertWorker to "+f),this.destType=f}h.inherits(u,l),u.prototype.processChunk=function(f){this.push({data:h.transformTo(this.destType,f.data),meta:f.meta})},r.exports=u},{"../utils":32,"./GenericWorker":28}],25:[function(s,r,o){var l=s("./GenericWorker"),h=s("../crc32");function u(){l.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}s("../utils").inherits(u,l),u.prototype.processChunk=function(f){this.streamInfo.crc32=h(f.data,this.streamInfo.crc32||0),this.push(f)},r.exports=u},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(s,r,o){var l=s("../utils"),h=s("./GenericWorker");function u(f){h.call(this,"DataLengthProbe for "+f),this.propName=f,this.withStreamInfo(f,0)}l.inherits(u,h),u.prototype.processChunk=function(f){if(f){var p=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=p+f.data.length}h.prototype.processChunk.call(this,f)},r.exports=u},{"../utils":32,"./GenericWorker":28}],27:[function(s,r,o){var l=s("../utils"),h=s("./GenericWorker");function u(f){h.call(this,"DataWorker");var p=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,f.then(function(m){p.dataIsReady=!0,p.data=m,p.max=m&&m.length||0,p.type=l.getTypeOf(m),p.isPaused||p._tickAndRepeat()},function(m){p.error(m)})}l.inherits(u,h),u.prototype.cleanUp=function(){h.prototype.cleanUp.call(this),this.data=null},u.prototype.resume=function(){return!!h.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,l.delay(this._tickAndRepeat,[],this)),!0)},u.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(l.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},u.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var f=null,p=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":f=this.data.substring(this.index,p);break;case"uint8array":f=this.data.subarray(this.index,p);break;case"array":case"nodebuffer":f=this.data.slice(this.index,p)}return this.index=p,this.push({data:f,meta:{percent:this.max?this.index/this.max*100:0}})},r.exports=u},{"../utils":32,"./GenericWorker":28}],28:[function(s,r,o){function l(h){this.name=h||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}l.prototype={push:function(h){this.emit("data",h)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(h){this.emit("error",h)}return!0},error:function(h){return!this.isFinished&&(this.isPaused?this.generatedError=h:(this.isFinished=!0,this.emit("error",h),this.previous&&this.previous.error(h),this.cleanUp()),!0)},on:function(h,u){return this._listeners[h].push(u),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(h,u){if(this._listeners[h])for(var f=0;f<this._listeners[h].length;f++)this._listeners[h][f].call(this,u)},pipe:function(h){return h.registerPrevious(this)},registerPrevious:function(h){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=h.streamInfo,this.mergeStreamInfo(),this.previous=h;var u=this;return h.on("data",function(f){u.processChunk(f)}),h.on("end",function(){u.end()}),h.on("error",function(f){u.error(f)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var h=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),h=!0),this.previous&&this.previous.resume(),!h},flush:function(){},processChunk:function(h){this.push(h)},withStreamInfo:function(h,u){return this.extraStreamInfo[h]=u,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var h in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,h)&&(this.streamInfo[h]=this.extraStreamInfo[h])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var h="Worker "+this.name;return this.previous?this.previous+" -> "+h:h}},r.exports=l},{}],29:[function(s,r,o){var l=s("../utils"),h=s("./ConvertWorker"),u=s("./GenericWorker"),f=s("../base64"),p=s("../support"),m=s("../external"),_=null;if(p.nodestream)try{_=s("../nodejs/NodejsStreamOutputAdapter")}catch{}function b(x,y){return new m.Promise(function(S,w){var C=[],M=x._internalType,O=x._outputType,k=x._mimeType;x.on("data",function(I,z){C.push(I),y&&y(z)}).on("error",function(I){C=[],w(I)}).on("end",function(){try{var I=(function(z,D,V){switch(z){case"blob":return l.newBlob(l.transformTo("arraybuffer",D),V);case"base64":return f.encode(D);default:return l.transformTo(z,D)}})(O,(function(z,D){var V,Z=0,nt=null,R=0;for(V=0;V<D.length;V++)R+=D[V].length;switch(z){case"string":return D.join("");case"array":return Array.prototype.concat.apply([],D);case"uint8array":for(nt=new Uint8Array(R),V=0;V<D.length;V++)nt.set(D[V],Z),Z+=D[V].length;return nt;case"nodebuffer":return Buffer.concat(D);default:throw new Error("concat : unsupported type '"+z+"'")}})(M,C),k);S(I)}catch(z){w(z)}C=[]}).resume()})}function v(x,y,S){var w=y;switch(y){case"blob":case"arraybuffer":w="uint8array";break;case"base64":w="string"}try{this._internalType=w,this._outputType=y,this._mimeType=S,l.checkSupport(w),this._worker=x.pipe(new h(w)),x.lock()}catch(C){this._worker=new u("error"),this._worker.error(C)}}v.prototype={accumulate:function(x){return b(this,x)},on:function(x,y){var S=this;return x==="data"?this._worker.on(x,function(w){y.call(S,w.data,w.meta)}):this._worker.on(x,function(){l.delay(y,arguments,S)}),this},resume:function(){return l.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(x){if(l.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new _(this,{objectMode:this._outputType!=="nodebuffer"},x)}},r.exports=v},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(s,r,o){if(o.base64=!0,o.array=!0,o.string=!0,o.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",o.nodebuffer=typeof Buffer<"u",o.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")o.blob=!1;else{var l=new ArrayBuffer(0);try{o.blob=new Blob([l],{type:"application/zip"}).size===0}catch{try{var h=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);h.append(l),o.blob=h.getBlob("application/zip").size===0}catch{o.blob=!1}}}try{o.nodestream=!!s("readable-stream").Readable}catch{o.nodestream=!1}},{"readable-stream":16}],31:[function(s,r,o){for(var l=s("./utils"),h=s("./support"),u=s("./nodejsUtils"),f=s("./stream/GenericWorker"),p=new Array(256),m=0;m<256;m++)p[m]=252<=m?6:248<=m?5:240<=m?4:224<=m?3:192<=m?2:1;p[254]=p[254]=1;function _(){f.call(this,"utf-8 decode"),this.leftOver=null}function b(){f.call(this,"utf-8 encode")}o.utf8encode=function(v){return h.nodebuffer?u.newBufferFrom(v,"utf-8"):(function(x){var y,S,w,C,M,O=x.length,k=0;for(C=0;C<O;C++)(64512&(S=x.charCodeAt(C)))==55296&&C+1<O&&(64512&(w=x.charCodeAt(C+1)))==56320&&(S=65536+(S-55296<<10)+(w-56320),C++),k+=S<128?1:S<2048?2:S<65536?3:4;for(y=h.uint8array?new Uint8Array(k):new Array(k),C=M=0;M<k;C++)(64512&(S=x.charCodeAt(C)))==55296&&C+1<O&&(64512&(w=x.charCodeAt(C+1)))==56320&&(S=65536+(S-55296<<10)+(w-56320),C++),S<128?y[M++]=S:(S<2048?y[M++]=192|S>>>6:(S<65536?y[M++]=224|S>>>12:(y[M++]=240|S>>>18,y[M++]=128|S>>>12&63),y[M++]=128|S>>>6&63),y[M++]=128|63&S);return y})(v)},o.utf8decode=function(v){return h.nodebuffer?l.transformTo("nodebuffer",v).toString("utf-8"):(function(x){var y,S,w,C,M=x.length,O=new Array(2*M);for(y=S=0;y<M;)if((w=x[y++])<128)O[S++]=w;else if(4<(C=p[w]))O[S++]=65533,y+=C-1;else{for(w&=C===2?31:C===3?15:7;1<C&&y<M;)w=w<<6|63&x[y++],C--;1<C?O[S++]=65533:w<65536?O[S++]=w:(w-=65536,O[S++]=55296|w>>10&1023,O[S++]=56320|1023&w)}return O.length!==S&&(O.subarray?O=O.subarray(0,S):O.length=S),l.applyFromCharCode(O)})(v=l.transformTo(h.uint8array?"uint8array":"array",v))},l.inherits(_,f),_.prototype.processChunk=function(v){var x=l.transformTo(h.uint8array?"uint8array":"array",v.data);if(this.leftOver&&this.leftOver.length){if(h.uint8array){var y=x;(x=new Uint8Array(y.length+this.leftOver.length)).set(this.leftOver,0),x.set(y,this.leftOver.length)}else x=this.leftOver.concat(x);this.leftOver=null}var S=(function(C,M){var O;for((M=M||C.length)>C.length&&(M=C.length),O=M-1;0<=O&&(192&C[O])==128;)O--;return O<0||O===0?M:O+p[C[O]]>M?O:M})(x),w=x;S!==x.length&&(h.uint8array?(w=x.subarray(0,S),this.leftOver=x.subarray(S,x.length)):(w=x.slice(0,S),this.leftOver=x.slice(S,x.length))),this.push({data:o.utf8decode(w),meta:v.meta})},_.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:o.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},o.Utf8DecodeWorker=_,l.inherits(b,f),b.prototype.processChunk=function(v){this.push({data:o.utf8encode(v.data),meta:v.meta})},o.Utf8EncodeWorker=b},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(s,r,o){var l=s("./support"),h=s("./base64"),u=s("./nodejsUtils"),f=s("./external");function p(y){return y}function m(y,S){for(var w=0;w<y.length;++w)S[w]=255&y.charCodeAt(w);return S}s("setimmediate"),o.newBlob=function(y,S){o.checkSupport("blob");try{return new Blob([y],{type:S})}catch{try{var w=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return w.append(y),w.getBlob(S)}catch{throw new Error("Bug : can't construct the Blob.")}}};var _={stringifyByChunk:function(y,S,w){var C=[],M=0,O=y.length;if(O<=w)return String.fromCharCode.apply(null,y);for(;M<O;)S==="array"||S==="nodebuffer"?C.push(String.fromCharCode.apply(null,y.slice(M,Math.min(M+w,O)))):C.push(String.fromCharCode.apply(null,y.subarray(M,Math.min(M+w,O)))),M+=w;return C.join("")},stringifyByChar:function(y){for(var S="",w=0;w<y.length;w++)S+=String.fromCharCode(y[w]);return S},applyCanBeUsed:{uint8array:(function(){try{return l.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}})(),nodebuffer:(function(){try{return l.nodebuffer&&String.fromCharCode.apply(null,u.allocBuffer(1)).length===1}catch{return!1}})()}};function b(y){var S=65536,w=o.getTypeOf(y),C=!0;if(w==="uint8array"?C=_.applyCanBeUsed.uint8array:w==="nodebuffer"&&(C=_.applyCanBeUsed.nodebuffer),C)for(;1<S;)try{return _.stringifyByChunk(y,w,S)}catch{S=Math.floor(S/2)}return _.stringifyByChar(y)}function v(y,S){for(var w=0;w<y.length;w++)S[w]=y[w];return S}o.applyFromCharCode=b;var x={};x.string={string:p,array:function(y){return m(y,new Array(y.length))},arraybuffer:function(y){return x.string.uint8array(y).buffer},uint8array:function(y){return m(y,new Uint8Array(y.length))},nodebuffer:function(y){return m(y,u.allocBuffer(y.length))}},x.array={string:b,array:p,arraybuffer:function(y){return new Uint8Array(y).buffer},uint8array:function(y){return new Uint8Array(y)},nodebuffer:function(y){return u.newBufferFrom(y)}},x.arraybuffer={string:function(y){return b(new Uint8Array(y))},array:function(y){return v(new Uint8Array(y),new Array(y.byteLength))},arraybuffer:p,uint8array:function(y){return new Uint8Array(y)},nodebuffer:function(y){return u.newBufferFrom(new Uint8Array(y))}},x.uint8array={string:b,array:function(y){return v(y,new Array(y.length))},arraybuffer:function(y){return y.buffer},uint8array:p,nodebuffer:function(y){return u.newBufferFrom(y)}},x.nodebuffer={string:b,array:function(y){return v(y,new Array(y.length))},arraybuffer:function(y){return x.nodebuffer.uint8array(y).buffer},uint8array:function(y){return v(y,new Uint8Array(y.length))},nodebuffer:p},o.transformTo=function(y,S){if(S=S||"",!y)return S;o.checkSupport(y);var w=o.getTypeOf(S);return x[w][y](S)},o.resolve=function(y){for(var S=y.split("/"),w=[],C=0;C<S.length;C++){var M=S[C];M==="."||M===""&&C!==0&&C!==S.length-1||(M===".."?w.pop():w.push(M))}return w.join("/")},o.getTypeOf=function(y){return typeof y=="string"?"string":Object.prototype.toString.call(y)==="[object Array]"?"array":l.nodebuffer&&u.isBuffer(y)?"nodebuffer":l.uint8array&&y instanceof Uint8Array?"uint8array":l.arraybuffer&&y instanceof ArrayBuffer?"arraybuffer":void 0},o.checkSupport=function(y){if(!l[y.toLowerCase()])throw new Error(y+" is not supported by this platform")},o.MAX_VALUE_16BITS=65535,o.MAX_VALUE_32BITS=-1,o.pretty=function(y){var S,w,C="";for(w=0;w<(y||"").length;w++)C+="\\x"+((S=y.charCodeAt(w))<16?"0":"")+S.toString(16).toUpperCase();return C},o.delay=function(y,S,w){setImmediate(function(){y.apply(w||null,S||[])})},o.inherits=function(y,S){function w(){}w.prototype=S.prototype,y.prototype=new w},o.extend=function(){var y,S,w={};for(y=0;y<arguments.length;y++)for(S in arguments[y])Object.prototype.hasOwnProperty.call(arguments[y],S)&&w[S]===void 0&&(w[S]=arguments[y][S]);return w},o.prepareContent=function(y,S,w,C,M){return f.Promise.resolve(S).then(function(O){return l.blob&&(O instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(O))!==-1)&&typeof FileReader<"u"?new f.Promise(function(k,I){var z=new FileReader;z.onload=function(D){k(D.target.result)},z.onerror=function(D){I(D.target.error)},z.readAsArrayBuffer(O)}):O}).then(function(O){var k=o.getTypeOf(O);return k?(k==="arraybuffer"?O=o.transformTo("uint8array",O):k==="string"&&(M?O=h.decode(O):w&&C!==!0&&(O=(function(I){return m(I,l.uint8array?new Uint8Array(I.length):new Array(I.length))})(O))),O):f.Promise.reject(new Error("Can't read the data of '"+y+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(s,r,o){var l=s("./reader/readerFor"),h=s("./utils"),u=s("./signature"),f=s("./zipEntry"),p=s("./support");function m(_){this.files=[],this.loadOptions=_}m.prototype={checkSignature:function(_){if(!this.reader.readAndCheckSignature(_)){this.reader.index-=4;var b=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+h.pretty(b)+", expected "+h.pretty(_)+")")}},isSignature:function(_,b){var v=this.reader.index;this.reader.setIndex(_);var x=this.reader.readString(4)===b;return this.reader.setIndex(v),x},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var _=this.reader.readData(this.zipCommentLength),b=p.uint8array?"uint8array":"array",v=h.transformTo(b,_);this.zipComment=this.loadOptions.decodeFileName(v)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var _,b,v,x=this.zip64EndOfCentralSize-44;0<x;)_=this.reader.readInt(2),b=this.reader.readInt(4),v=this.reader.readData(b),this.zip64ExtensibleData[_]={id:_,length:b,value:v}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var _,b;for(_=0;_<this.files.length;_++)b=this.files[_],this.reader.setIndex(b.localHeaderOffset),this.checkSignature(u.LOCAL_FILE_HEADER),b.readLocalPart(this.reader),b.handleUTF8(),b.processAttributes()},readCentralDir:function(){var _;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(u.CENTRAL_FILE_HEADER);)(_=new f({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(_);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var _=this.reader.lastIndexOfSignature(u.CENTRAL_DIRECTORY_END);if(_<0)throw this.isSignature(0,u.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(_);var b=_;if(this.checkSignature(u.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===h.MAX_VALUE_16BITS||this.diskWithCentralDirStart===h.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===h.MAX_VALUE_16BITS||this.centralDirRecords===h.MAX_VALUE_16BITS||this.centralDirSize===h.MAX_VALUE_32BITS||this.centralDirOffset===h.MAX_VALUE_32BITS){if(this.zip64=!0,(_=this.reader.lastIndexOfSignature(u.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(_),this.checkSignature(u.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,u.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(u.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(u.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var v=this.centralDirOffset+this.centralDirSize;this.zip64&&(v+=20,v+=12+this.zip64EndOfCentralSize);var x=b-v;if(0<x)this.isSignature(b,u.CENTRAL_FILE_HEADER)||(this.reader.zero=x);else if(x<0)throw new Error("Corrupted zip: missing "+Math.abs(x)+" bytes.")},prepareReader:function(_){this.reader=l(_)},load:function(_){this.prepareReader(_),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},r.exports=m},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(s,r,o){var l=s("./reader/readerFor"),h=s("./utils"),u=s("./compressedObject"),f=s("./crc32"),p=s("./utf8"),m=s("./compressions"),_=s("./support");function b(v,x){this.options=v,this.loadOptions=x}b.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(v){var x,y;if(v.skip(22),this.fileNameLength=v.readInt(2),y=v.readInt(2),this.fileName=v.readData(this.fileNameLength),v.skip(y),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((x=(function(S){for(var w in m)if(Object.prototype.hasOwnProperty.call(m,w)&&m[w].magic===S)return m[w];return null})(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+h.pretty(this.compressionMethod)+" unknown (inner file : "+h.transformTo("string",this.fileName)+")");this.decompressed=new u(this.compressedSize,this.uncompressedSize,this.crc32,x,v.readData(this.compressedSize))},readCentralPart:function(v){this.versionMadeBy=v.readInt(2),v.skip(2),this.bitFlag=v.readInt(2),this.compressionMethod=v.readString(2),this.date=v.readDate(),this.crc32=v.readInt(4),this.compressedSize=v.readInt(4),this.uncompressedSize=v.readInt(4);var x=v.readInt(2);if(this.extraFieldsLength=v.readInt(2),this.fileCommentLength=v.readInt(2),this.diskNumberStart=v.readInt(2),this.internalFileAttributes=v.readInt(2),this.externalFileAttributes=v.readInt(4),this.localHeaderOffset=v.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");v.skip(x),this.readExtraFields(v),this.parseZIP64ExtraField(v),this.fileComment=v.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var v=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),v==0&&(this.dosPermissions=63&this.externalFileAttributes),v==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var v=l(this.extraFields[1].value);this.uncompressedSize===h.MAX_VALUE_32BITS&&(this.uncompressedSize=v.readInt(8)),this.compressedSize===h.MAX_VALUE_32BITS&&(this.compressedSize=v.readInt(8)),this.localHeaderOffset===h.MAX_VALUE_32BITS&&(this.localHeaderOffset=v.readInt(8)),this.diskNumberStart===h.MAX_VALUE_32BITS&&(this.diskNumberStart=v.readInt(4))}},readExtraFields:function(v){var x,y,S,w=v.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});v.index+4<w;)x=v.readInt(2),y=v.readInt(2),S=v.readData(y),this.extraFields[x]={id:x,length:y,value:S};v.setIndex(w)},handleUTF8:function(){var v=_.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=p.utf8decode(this.fileName),this.fileCommentStr=p.utf8decode(this.fileComment);else{var x=this.findExtraFieldUnicodePath();if(x!==null)this.fileNameStr=x;else{var y=h.transformTo(v,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(y)}var S=this.findExtraFieldUnicodeComment();if(S!==null)this.fileCommentStr=S;else{var w=h.transformTo(v,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(w)}}},findExtraFieldUnicodePath:function(){var v=this.extraFields[28789];if(v){var x=l(v.value);return x.readInt(1)!==1||f(this.fileName)!==x.readInt(4)?null:p.utf8decode(x.readData(v.length-5))}return null},findExtraFieldUnicodeComment:function(){var v=this.extraFields[25461];if(v){var x=l(v.value);return x.readInt(1)!==1||f(this.fileComment)!==x.readInt(4)?null:p.utf8decode(x.readData(v.length-5))}return null}},r.exports=b},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(s,r,o){function l(x,y,S){this.name=x,this.dir=S.dir,this.date=S.date,this.comment=S.comment,this.unixPermissions=S.unixPermissions,this.dosPermissions=S.dosPermissions,this._data=y,this._dataBinary=S.binary,this.options={compression:S.compression,compressionOptions:S.compressionOptions}}var h=s("./stream/StreamHelper"),u=s("./stream/DataWorker"),f=s("./utf8"),p=s("./compressedObject"),m=s("./stream/GenericWorker");l.prototype={internalStream:function(x){var y=null,S="string";try{if(!x)throw new Error("No output type specified.");var w=(S=x.toLowerCase())==="string"||S==="text";S!=="binarystring"&&S!=="text"||(S="string"),y=this._decompressWorker();var C=!this._dataBinary;C&&!w&&(y=y.pipe(new f.Utf8EncodeWorker)),!C&&w&&(y=y.pipe(new f.Utf8DecodeWorker))}catch(M){(y=new m("error")).error(M)}return new h(y,S,"")},async:function(x,y){return this.internalStream(x).accumulate(y)},nodeStream:function(x,y){return this.internalStream(x||"nodebuffer").toNodejsStream(y)},_compressWorker:function(x,y){if(this._data instanceof p&&this._data.compression.magic===x.magic)return this._data.getCompressedWorker();var S=this._decompressWorker();return this._dataBinary||(S=S.pipe(new f.Utf8EncodeWorker)),p.createWorkerFrom(S,x,y)},_decompressWorker:function(){return this._data instanceof p?this._data.getContentWorker():this._data instanceof m?this._data:new u(this._data)}};for(var _=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],b=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},v=0;v<_.length;v++)l.prototype[_[v]]=b;r.exports=l},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(s,r,o){(function(l){var h,u,f=l.MutationObserver||l.WebKitMutationObserver;if(f){var p=0,m=new f(x),_=l.document.createTextNode("");m.observe(_,{characterData:!0}),h=function(){_.data=p=++p%2}}else if(l.setImmediate||l.MessageChannel===void 0)h="document"in l&&"onreadystatechange"in l.document.createElement("script")?function(){var y=l.document.createElement("script");y.onreadystatechange=function(){x(),y.onreadystatechange=null,y.parentNode.removeChild(y),y=null},l.document.documentElement.appendChild(y)}:function(){setTimeout(x,0)};else{var b=new l.MessageChannel;b.port1.onmessage=x,h=function(){b.port2.postMessage(0)}}var v=[];function x(){var y,S;u=!0;for(var w=v.length;w;){for(S=v,v=[],y=-1;++y<w;)S[y]();w=v.length}u=!1}r.exports=function(y){v.push(y)!==1||u||h()}}).call(this,typeof Ml<"u"?Ml:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(s,r,o){var l=s("immediate");function h(){}var u={},f=["REJECTED"],p=["FULFILLED"],m=["PENDING"];function _(w){if(typeof w!="function")throw new TypeError("resolver must be a function");this.state=m,this.queue=[],this.outcome=void 0,w!==h&&y(this,w)}function b(w,C,M){this.promise=w,typeof C=="function"&&(this.onFulfilled=C,this.callFulfilled=this.otherCallFulfilled),typeof M=="function"&&(this.onRejected=M,this.callRejected=this.otherCallRejected)}function v(w,C,M){l(function(){var O;try{O=C(M)}catch(k){return u.reject(w,k)}O===w?u.reject(w,new TypeError("Cannot resolve promise with itself")):u.resolve(w,O)})}function x(w){var C=w&&w.then;if(w&&(typeof w=="object"||typeof w=="function")&&typeof C=="function")return function(){C.apply(w,arguments)}}function y(w,C){var M=!1;function O(z){M||(M=!0,u.reject(w,z))}function k(z){M||(M=!0,u.resolve(w,z))}var I=S(function(){C(k,O)});I.status==="error"&&O(I.value)}function S(w,C){var M={};try{M.value=w(C),M.status="success"}catch(O){M.status="error",M.value=O}return M}(r.exports=_).prototype.finally=function(w){if(typeof w!="function")return this;var C=this.constructor;return this.then(function(M){return C.resolve(w()).then(function(){return M})},function(M){return C.resolve(w()).then(function(){throw M})})},_.prototype.catch=function(w){return this.then(null,w)},_.prototype.then=function(w,C){if(typeof w!="function"&&this.state===p||typeof C!="function"&&this.state===f)return this;var M=new this.constructor(h);return this.state!==m?v(M,this.state===p?w:C,this.outcome):this.queue.push(new b(M,w,C)),M},b.prototype.callFulfilled=function(w){u.resolve(this.promise,w)},b.prototype.otherCallFulfilled=function(w){v(this.promise,this.onFulfilled,w)},b.prototype.callRejected=function(w){u.reject(this.promise,w)},b.prototype.otherCallRejected=function(w){v(this.promise,this.onRejected,w)},u.resolve=function(w,C){var M=S(x,C);if(M.status==="error")return u.reject(w,M.value);var O=M.value;if(O)y(w,O);else{w.state=p,w.outcome=C;for(var k=-1,I=w.queue.length;++k<I;)w.queue[k].callFulfilled(C)}return w},u.reject=function(w,C){w.state=f,w.outcome=C;for(var M=-1,O=w.queue.length;++M<O;)w.queue[M].callRejected(C);return w},_.resolve=function(w){return w instanceof this?w:u.resolve(new this(h),w)},_.reject=function(w){var C=new this(h);return u.reject(C,w)},_.all=function(w){var C=this;if(Object.prototype.toString.call(w)!=="[object Array]")return this.reject(new TypeError("must be an array"));var M=w.length,O=!1;if(!M)return this.resolve([]);for(var k=new Array(M),I=0,z=-1,D=new this(h);++z<M;)V(w[z],z);return D;function V(Z,nt){C.resolve(Z).then(function(R){k[nt]=R,++I!==M||O||(O=!0,u.resolve(D,k))},function(R){O||(O=!0,u.reject(D,R))})}},_.race=function(w){var C=this;if(Object.prototype.toString.call(w)!=="[object Array]")return this.reject(new TypeError("must be an array"));var M=w.length,O=!1;if(!M)return this.resolve([]);for(var k=-1,I=new this(h);++k<M;)z=w[k],C.resolve(z).then(function(D){O||(O=!0,u.resolve(I,D))},function(D){O||(O=!0,u.reject(I,D))});var z;return I}},{immediate:36}],38:[function(s,r,o){var l={};(0,s("./lib/utils/common").assign)(l,s("./lib/deflate"),s("./lib/inflate"),s("./lib/zlib/constants")),r.exports=l},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(s,r,o){var l=s("./zlib/deflate"),h=s("./utils/common"),u=s("./utils/strings"),f=s("./zlib/messages"),p=s("./zlib/zstream"),m=Object.prototype.toString,_=0,b=-1,v=0,x=8;function y(w){if(!(this instanceof y))return new y(w);this.options=h.assign({level:b,method:x,chunkSize:16384,windowBits:15,memLevel:8,strategy:v,to:""},w||{});var C=this.options;C.raw&&0<C.windowBits?C.windowBits=-C.windowBits:C.gzip&&0<C.windowBits&&C.windowBits<16&&(C.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new p,this.strm.avail_out=0;var M=l.deflateInit2(this.strm,C.level,C.method,C.windowBits,C.memLevel,C.strategy);if(M!==_)throw new Error(f[M]);if(C.header&&l.deflateSetHeader(this.strm,C.header),C.dictionary){var O;if(O=typeof C.dictionary=="string"?u.string2buf(C.dictionary):m.call(C.dictionary)==="[object ArrayBuffer]"?new Uint8Array(C.dictionary):C.dictionary,(M=l.deflateSetDictionary(this.strm,O))!==_)throw new Error(f[M]);this._dict_set=!0}}function S(w,C){var M=new y(C);if(M.push(w,!0),M.err)throw M.msg||f[M.err];return M.result}y.prototype.push=function(w,C){var M,O,k=this.strm,I=this.options.chunkSize;if(this.ended)return!1;O=C===~~C?C:C===!0?4:0,typeof w=="string"?k.input=u.string2buf(w):m.call(w)==="[object ArrayBuffer]"?k.input=new Uint8Array(w):k.input=w,k.next_in=0,k.avail_in=k.input.length;do{if(k.avail_out===0&&(k.output=new h.Buf8(I),k.next_out=0,k.avail_out=I),(M=l.deflate(k,O))!==1&&M!==_)return this.onEnd(M),!(this.ended=!0);k.avail_out!==0&&(k.avail_in!==0||O!==4&&O!==2)||(this.options.to==="string"?this.onData(u.buf2binstring(h.shrinkBuf(k.output,k.next_out))):this.onData(h.shrinkBuf(k.output,k.next_out)))}while((0<k.avail_in||k.avail_out===0)&&M!==1);return O===4?(M=l.deflateEnd(this.strm),this.onEnd(M),this.ended=!0,M===_):O!==2||(this.onEnd(_),!(k.avail_out=0))},y.prototype.onData=function(w){this.chunks.push(w)},y.prototype.onEnd=function(w){w===_&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=h.flattenChunks(this.chunks)),this.chunks=[],this.err=w,this.msg=this.strm.msg},o.Deflate=y,o.deflate=S,o.deflateRaw=function(w,C){return(C=C||{}).raw=!0,S(w,C)},o.gzip=function(w,C){return(C=C||{}).gzip=!0,S(w,C)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(s,r,o){var l=s("./zlib/inflate"),h=s("./utils/common"),u=s("./utils/strings"),f=s("./zlib/constants"),p=s("./zlib/messages"),m=s("./zlib/zstream"),_=s("./zlib/gzheader"),b=Object.prototype.toString;function v(y){if(!(this instanceof v))return new v(y);this.options=h.assign({chunkSize:16384,windowBits:0,to:""},y||{});var S=this.options;S.raw&&0<=S.windowBits&&S.windowBits<16&&(S.windowBits=-S.windowBits,S.windowBits===0&&(S.windowBits=-15)),!(0<=S.windowBits&&S.windowBits<16)||y&&y.windowBits||(S.windowBits+=32),15<S.windowBits&&S.windowBits<48&&(15&S.windowBits)==0&&(S.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new m,this.strm.avail_out=0;var w=l.inflateInit2(this.strm,S.windowBits);if(w!==f.Z_OK)throw new Error(p[w]);this.header=new _,l.inflateGetHeader(this.strm,this.header)}function x(y,S){var w=new v(S);if(w.push(y,!0),w.err)throw w.msg||p[w.err];return w.result}v.prototype.push=function(y,S){var w,C,M,O,k,I,z=this.strm,D=this.options.chunkSize,V=this.options.dictionary,Z=!1;if(this.ended)return!1;C=S===~~S?S:S===!0?f.Z_FINISH:f.Z_NO_FLUSH,typeof y=="string"?z.input=u.binstring2buf(y):b.call(y)==="[object ArrayBuffer]"?z.input=new Uint8Array(y):z.input=y,z.next_in=0,z.avail_in=z.input.length;do{if(z.avail_out===0&&(z.output=new h.Buf8(D),z.next_out=0,z.avail_out=D),(w=l.inflate(z,f.Z_NO_FLUSH))===f.Z_NEED_DICT&&V&&(I=typeof V=="string"?u.string2buf(V):b.call(V)==="[object ArrayBuffer]"?new Uint8Array(V):V,w=l.inflateSetDictionary(this.strm,I)),w===f.Z_BUF_ERROR&&Z===!0&&(w=f.Z_OK,Z=!1),w!==f.Z_STREAM_END&&w!==f.Z_OK)return this.onEnd(w),!(this.ended=!0);z.next_out&&(z.avail_out!==0&&w!==f.Z_STREAM_END&&(z.avail_in!==0||C!==f.Z_FINISH&&C!==f.Z_SYNC_FLUSH)||(this.options.to==="string"?(M=u.utf8border(z.output,z.next_out),O=z.next_out-M,k=u.buf2string(z.output,M),z.next_out=O,z.avail_out=D-O,O&&h.arraySet(z.output,z.output,M,O,0),this.onData(k)):this.onData(h.shrinkBuf(z.output,z.next_out)))),z.avail_in===0&&z.avail_out===0&&(Z=!0)}while((0<z.avail_in||z.avail_out===0)&&w!==f.Z_STREAM_END);return w===f.Z_STREAM_END&&(C=f.Z_FINISH),C===f.Z_FINISH?(w=l.inflateEnd(this.strm),this.onEnd(w),this.ended=!0,w===f.Z_OK):C!==f.Z_SYNC_FLUSH||(this.onEnd(f.Z_OK),!(z.avail_out=0))},v.prototype.onData=function(y){this.chunks.push(y)},v.prototype.onEnd=function(y){y===f.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=h.flattenChunks(this.chunks)),this.chunks=[],this.err=y,this.msg=this.strm.msg},o.Inflate=v,o.inflate=x,o.inflateRaw=function(y,S){return(S=S||{}).raw=!0,x(y,S)},o.ungzip=x},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(s,r,o){var l=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";o.assign=function(f){for(var p=Array.prototype.slice.call(arguments,1);p.length;){var m=p.shift();if(m){if(typeof m!="object")throw new TypeError(m+"must be non-object");for(var _ in m)m.hasOwnProperty(_)&&(f[_]=m[_])}}return f},o.shrinkBuf=function(f,p){return f.length===p?f:f.subarray?f.subarray(0,p):(f.length=p,f)};var h={arraySet:function(f,p,m,_,b){if(p.subarray&&f.subarray)f.set(p.subarray(m,m+_),b);else for(var v=0;v<_;v++)f[b+v]=p[m+v]},flattenChunks:function(f){var p,m,_,b,v,x;for(p=_=0,m=f.length;p<m;p++)_+=f[p].length;for(x=new Uint8Array(_),p=b=0,m=f.length;p<m;p++)v=f[p],x.set(v,b),b+=v.length;return x}},u={arraySet:function(f,p,m,_,b){for(var v=0;v<_;v++)f[b+v]=p[m+v]},flattenChunks:function(f){return[].concat.apply([],f)}};o.setTyped=function(f){f?(o.Buf8=Uint8Array,o.Buf16=Uint16Array,o.Buf32=Int32Array,o.assign(o,h)):(o.Buf8=Array,o.Buf16=Array,o.Buf32=Array,o.assign(o,u))},o.setTyped(l)},{}],42:[function(s,r,o){var l=s("./common"),h=!0,u=!0;try{String.fromCharCode.apply(null,[0])}catch{h=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{u=!1}for(var f=new l.Buf8(256),p=0;p<256;p++)f[p]=252<=p?6:248<=p?5:240<=p?4:224<=p?3:192<=p?2:1;function m(_,b){if(b<65537&&(_.subarray&&u||!_.subarray&&h))return String.fromCharCode.apply(null,l.shrinkBuf(_,b));for(var v="",x=0;x<b;x++)v+=String.fromCharCode(_[x]);return v}f[254]=f[254]=1,o.string2buf=function(_){var b,v,x,y,S,w=_.length,C=0;for(y=0;y<w;y++)(64512&(v=_.charCodeAt(y)))==55296&&y+1<w&&(64512&(x=_.charCodeAt(y+1)))==56320&&(v=65536+(v-55296<<10)+(x-56320),y++),C+=v<128?1:v<2048?2:v<65536?3:4;for(b=new l.Buf8(C),y=S=0;S<C;y++)(64512&(v=_.charCodeAt(y)))==55296&&y+1<w&&(64512&(x=_.charCodeAt(y+1)))==56320&&(v=65536+(v-55296<<10)+(x-56320),y++),v<128?b[S++]=v:(v<2048?b[S++]=192|v>>>6:(v<65536?b[S++]=224|v>>>12:(b[S++]=240|v>>>18,b[S++]=128|v>>>12&63),b[S++]=128|v>>>6&63),b[S++]=128|63&v);return b},o.buf2binstring=function(_){return m(_,_.length)},o.binstring2buf=function(_){for(var b=new l.Buf8(_.length),v=0,x=b.length;v<x;v++)b[v]=_.charCodeAt(v);return b},o.buf2string=function(_,b){var v,x,y,S,w=b||_.length,C=new Array(2*w);for(v=x=0;v<w;)if((y=_[v++])<128)C[x++]=y;else if(4<(S=f[y]))C[x++]=65533,v+=S-1;else{for(y&=S===2?31:S===3?15:7;1<S&&v<w;)y=y<<6|63&_[v++],S--;1<S?C[x++]=65533:y<65536?C[x++]=y:(y-=65536,C[x++]=55296|y>>10&1023,C[x++]=56320|1023&y)}return m(C,x)},o.utf8border=function(_,b){var v;for((b=b||_.length)>_.length&&(b=_.length),v=b-1;0<=v&&(192&_[v])==128;)v--;return v<0||v===0?b:v+f[_[v]]>b?v:b}},{"./common":41}],43:[function(s,r,o){r.exports=function(l,h,u,f){for(var p=65535&l|0,m=l>>>16&65535|0,_=0;u!==0;){for(u-=_=2e3<u?2e3:u;m=m+(p=p+h[f++]|0)|0,--_;);p%=65521,m%=65521}return p|m<<16|0}},{}],44:[function(s,r,o){r.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(s,r,o){var l=(function(){for(var h,u=[],f=0;f<256;f++){h=f;for(var p=0;p<8;p++)h=1&h?3988292384^h>>>1:h>>>1;u[f]=h}return u})();r.exports=function(h,u,f,p){var m=l,_=p+f;h^=-1;for(var b=p;b<_;b++)h=h>>>8^m[255&(h^u[b])];return-1^h}},{}],46:[function(s,r,o){var l,h=s("../utils/common"),u=s("./trees"),f=s("./adler32"),p=s("./crc32"),m=s("./messages"),_=0,b=4,v=0,x=-2,y=-1,S=4,w=2,C=8,M=9,O=286,k=30,I=19,z=2*O+1,D=15,V=3,Z=258,nt=Z+V+1,R=42,W=113,T=1,K=2,H=3,G=4;function ut(A,$){return A.msg=m[$],$}function Y(A){return(A<<1)-(4<A?9:0)}function U(A){for(var $=A.length;0<=--$;)A[$]=0}function B(A){var $=A.state,J=$.pending;J>A.avail_out&&(J=A.avail_out),J!==0&&(h.arraySet(A.output,$.pending_buf,$.pending_out,J,A.next_out),A.next_out+=J,$.pending_out+=J,A.total_out+=J,A.avail_out-=J,$.pending-=J,$.pending===0&&($.pending_out=0))}function F(A,$){u._tr_flush_block(A,0<=A.block_start?A.block_start:-1,A.strstart-A.block_start,$),A.block_start=A.strstart,B(A.strm)}function lt(A,$){A.pending_buf[A.pending++]=$}function ot(A,$){A.pending_buf[A.pending++]=$>>>8&255,A.pending_buf[A.pending++]=255&$}function tt(A,$){var J,L,q=A.max_chain_length,X=A.strstart,ft=A.prev_length,dt=A.nice_match,it=A.strstart>A.w_size-nt?A.strstart-(A.w_size-nt):0,vt=A.window,St=A.w_mask,xt=A.prev,wt=A.strstart+Z,qt=vt[X+ft-1],Ut=vt[X+ft];A.prev_length>=A.good_match&&(q>>=2),dt>A.lookahead&&(dt=A.lookahead);do if(vt[(J=$)+ft]===Ut&&vt[J+ft-1]===qt&&vt[J]===vt[X]&&vt[++J]===vt[X+1]){X+=2,J++;do;while(vt[++X]===vt[++J]&&vt[++X]===vt[++J]&&vt[++X]===vt[++J]&&vt[++X]===vt[++J]&&vt[++X]===vt[++J]&&vt[++X]===vt[++J]&&vt[++X]===vt[++J]&&vt[++X]===vt[++J]&&X<wt);if(L=Z-(wt-X),X=wt-Z,ft<L){if(A.match_start=$,dt<=(ft=L))break;qt=vt[X+ft-1],Ut=vt[X+ft]}}while(($=xt[$&St])>it&&--q!=0);return ft<=A.lookahead?ft:A.lookahead}function yt(A){var $,J,L,q,X,ft,dt,it,vt,St,xt=A.w_size;do{if(q=A.window_size-A.lookahead-A.strstart,A.strstart>=xt+(xt-nt)){for(h.arraySet(A.window,A.window,xt,xt,0),A.match_start-=xt,A.strstart-=xt,A.block_start-=xt,$=J=A.hash_size;L=A.head[--$],A.head[$]=xt<=L?L-xt:0,--J;);for($=J=xt;L=A.prev[--$],A.prev[$]=xt<=L?L-xt:0,--J;);q+=xt}if(A.strm.avail_in===0)break;if(ft=A.strm,dt=A.window,it=A.strstart+A.lookahead,vt=q,St=void 0,St=ft.avail_in,vt<St&&(St=vt),J=St===0?0:(ft.avail_in-=St,h.arraySet(dt,ft.input,ft.next_in,St,it),ft.state.wrap===1?ft.adler=f(ft.adler,dt,St,it):ft.state.wrap===2&&(ft.adler=p(ft.adler,dt,St,it)),ft.next_in+=St,ft.total_in+=St,St),A.lookahead+=J,A.lookahead+A.insert>=V)for(X=A.strstart-A.insert,A.ins_h=A.window[X],A.ins_h=(A.ins_h<<A.hash_shift^A.window[X+1])&A.hash_mask;A.insert&&(A.ins_h=(A.ins_h<<A.hash_shift^A.window[X+V-1])&A.hash_mask,A.prev[X&A.w_mask]=A.head[A.ins_h],A.head[A.ins_h]=X,X++,A.insert--,!(A.lookahead+A.insert<V)););}while(A.lookahead<nt&&A.strm.avail_in!==0)}function Ot(A,$){for(var J,L;;){if(A.lookahead<nt){if(yt(A),A.lookahead<nt&&$===_)return T;if(A.lookahead===0)break}if(J=0,A.lookahead>=V&&(A.ins_h=(A.ins_h<<A.hash_shift^A.window[A.strstart+V-1])&A.hash_mask,J=A.prev[A.strstart&A.w_mask]=A.head[A.ins_h],A.head[A.ins_h]=A.strstart),J!==0&&A.strstart-J<=A.w_size-nt&&(A.match_length=tt(A,J)),A.match_length>=V)if(L=u._tr_tally(A,A.strstart-A.match_start,A.match_length-V),A.lookahead-=A.match_length,A.match_length<=A.max_lazy_match&&A.lookahead>=V){for(A.match_length--;A.strstart++,A.ins_h=(A.ins_h<<A.hash_shift^A.window[A.strstart+V-1])&A.hash_mask,J=A.prev[A.strstart&A.w_mask]=A.head[A.ins_h],A.head[A.ins_h]=A.strstart,--A.match_length!=0;);A.strstart++}else A.strstart+=A.match_length,A.match_length=0,A.ins_h=A.window[A.strstart],A.ins_h=(A.ins_h<<A.hash_shift^A.window[A.strstart+1])&A.hash_mask;else L=u._tr_tally(A,0,A.window[A.strstart]),A.lookahead--,A.strstart++;if(L&&(F(A,!1),A.strm.avail_out===0))return T}return A.insert=A.strstart<V-1?A.strstart:V-1,$===b?(F(A,!0),A.strm.avail_out===0?H:G):A.last_lit&&(F(A,!1),A.strm.avail_out===0)?T:K}function st(A,$){for(var J,L,q;;){if(A.lookahead<nt){if(yt(A),A.lookahead<nt&&$===_)return T;if(A.lookahead===0)break}if(J=0,A.lookahead>=V&&(A.ins_h=(A.ins_h<<A.hash_shift^A.window[A.strstart+V-1])&A.hash_mask,J=A.prev[A.strstart&A.w_mask]=A.head[A.ins_h],A.head[A.ins_h]=A.strstart),A.prev_length=A.match_length,A.prev_match=A.match_start,A.match_length=V-1,J!==0&&A.prev_length<A.max_lazy_match&&A.strstart-J<=A.w_size-nt&&(A.match_length=tt(A,J),A.match_length<=5&&(A.strategy===1||A.match_length===V&&4096<A.strstart-A.match_start)&&(A.match_length=V-1)),A.prev_length>=V&&A.match_length<=A.prev_length){for(q=A.strstart+A.lookahead-V,L=u._tr_tally(A,A.strstart-1-A.prev_match,A.prev_length-V),A.lookahead-=A.prev_length-1,A.prev_length-=2;++A.strstart<=q&&(A.ins_h=(A.ins_h<<A.hash_shift^A.window[A.strstart+V-1])&A.hash_mask,J=A.prev[A.strstart&A.w_mask]=A.head[A.ins_h],A.head[A.ins_h]=A.strstart),--A.prev_length!=0;);if(A.match_available=0,A.match_length=V-1,A.strstart++,L&&(F(A,!1),A.strm.avail_out===0))return T}else if(A.match_available){if((L=u._tr_tally(A,0,A.window[A.strstart-1]))&&F(A,!1),A.strstart++,A.lookahead--,A.strm.avail_out===0)return T}else A.match_available=1,A.strstart++,A.lookahead--}return A.match_available&&(L=u._tr_tally(A,0,A.window[A.strstart-1]),A.match_available=0),A.insert=A.strstart<V-1?A.strstart:V-1,$===b?(F(A,!0),A.strm.avail_out===0?H:G):A.last_lit&&(F(A,!1),A.strm.avail_out===0)?T:K}function bt(A,$,J,L,q){this.good_length=A,this.max_lazy=$,this.nice_length=J,this.max_chain=L,this.func=q}function At(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=C,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new h.Buf16(2*z),this.dyn_dtree=new h.Buf16(2*(2*k+1)),this.bl_tree=new h.Buf16(2*(2*I+1)),U(this.dyn_ltree),U(this.dyn_dtree),U(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new h.Buf16(D+1),this.heap=new h.Buf16(2*O+1),U(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new h.Buf16(2*O+1),U(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function kt(A){var $;return A&&A.state?(A.total_in=A.total_out=0,A.data_type=w,($=A.state).pending=0,$.pending_out=0,$.wrap<0&&($.wrap=-$.wrap),$.status=$.wrap?R:W,A.adler=$.wrap===2?0:1,$.last_flush=_,u._tr_init($),v):ut(A,x)}function Xt(A){var $=kt(A);return $===v&&(function(J){J.window_size=2*J.w_size,U(J.head),J.max_lazy_match=l[J.level].max_lazy,J.good_match=l[J.level].good_length,J.nice_match=l[J.level].nice_length,J.max_chain_length=l[J.level].max_chain,J.strstart=0,J.block_start=0,J.lookahead=0,J.insert=0,J.match_length=J.prev_length=V-1,J.match_available=0,J.ins_h=0})(A.state),$}function se(A,$,J,L,q,X){if(!A)return x;var ft=1;if($===y&&($=6),L<0?(ft=0,L=-L):15<L&&(ft=2,L-=16),q<1||M<q||J!==C||L<8||15<L||$<0||9<$||X<0||S<X)return ut(A,x);L===8&&(L=9);var dt=new At;return(A.state=dt).strm=A,dt.wrap=ft,dt.gzhead=null,dt.w_bits=L,dt.w_size=1<<dt.w_bits,dt.w_mask=dt.w_size-1,dt.hash_bits=q+7,dt.hash_size=1<<dt.hash_bits,dt.hash_mask=dt.hash_size-1,dt.hash_shift=~~((dt.hash_bits+V-1)/V),dt.window=new h.Buf8(2*dt.w_size),dt.head=new h.Buf16(dt.hash_size),dt.prev=new h.Buf16(dt.w_size),dt.lit_bufsize=1<<q+6,dt.pending_buf_size=4*dt.lit_bufsize,dt.pending_buf=new h.Buf8(dt.pending_buf_size),dt.d_buf=1*dt.lit_bufsize,dt.l_buf=3*dt.lit_bufsize,dt.level=$,dt.strategy=X,dt.method=J,Xt(A)}l=[new bt(0,0,0,0,function(A,$){var J=65535;for(J>A.pending_buf_size-5&&(J=A.pending_buf_size-5);;){if(A.lookahead<=1){if(yt(A),A.lookahead===0&&$===_)return T;if(A.lookahead===0)break}A.strstart+=A.lookahead,A.lookahead=0;var L=A.block_start+J;if((A.strstart===0||A.strstart>=L)&&(A.lookahead=A.strstart-L,A.strstart=L,F(A,!1),A.strm.avail_out===0)||A.strstart-A.block_start>=A.w_size-nt&&(F(A,!1),A.strm.avail_out===0))return T}return A.insert=0,$===b?(F(A,!0),A.strm.avail_out===0?H:G):(A.strstart>A.block_start&&(F(A,!1),A.strm.avail_out),T)}),new bt(4,4,8,4,Ot),new bt(4,5,16,8,Ot),new bt(4,6,32,32,Ot),new bt(4,4,16,16,st),new bt(8,16,32,32,st),new bt(8,16,128,128,st),new bt(8,32,128,256,st),new bt(32,128,258,1024,st),new bt(32,258,258,4096,st)],o.deflateInit=function(A,$){return se(A,$,C,15,8,0)},o.deflateInit2=se,o.deflateReset=Xt,o.deflateResetKeep=kt,o.deflateSetHeader=function(A,$){return A&&A.state?A.state.wrap!==2?x:(A.state.gzhead=$,v):x},o.deflate=function(A,$){var J,L,q,X;if(!A||!A.state||5<$||$<0)return A?ut(A,x):x;if(L=A.state,!A.output||!A.input&&A.avail_in!==0||L.status===666&&$!==b)return ut(A,A.avail_out===0?-5:x);if(L.strm=A,J=L.last_flush,L.last_flush=$,L.status===R)if(L.wrap===2)A.adler=0,lt(L,31),lt(L,139),lt(L,8),L.gzhead?(lt(L,(L.gzhead.text?1:0)+(L.gzhead.hcrc?2:0)+(L.gzhead.extra?4:0)+(L.gzhead.name?8:0)+(L.gzhead.comment?16:0)),lt(L,255&L.gzhead.time),lt(L,L.gzhead.time>>8&255),lt(L,L.gzhead.time>>16&255),lt(L,L.gzhead.time>>24&255),lt(L,L.level===9?2:2<=L.strategy||L.level<2?4:0),lt(L,255&L.gzhead.os),L.gzhead.extra&&L.gzhead.extra.length&&(lt(L,255&L.gzhead.extra.length),lt(L,L.gzhead.extra.length>>8&255)),L.gzhead.hcrc&&(A.adler=p(A.adler,L.pending_buf,L.pending,0)),L.gzindex=0,L.status=69):(lt(L,0),lt(L,0),lt(L,0),lt(L,0),lt(L,0),lt(L,L.level===9?2:2<=L.strategy||L.level<2?4:0),lt(L,3),L.status=W);else{var ft=C+(L.w_bits-8<<4)<<8;ft|=(2<=L.strategy||L.level<2?0:L.level<6?1:L.level===6?2:3)<<6,L.strstart!==0&&(ft|=32),ft+=31-ft%31,L.status=W,ot(L,ft),L.strstart!==0&&(ot(L,A.adler>>>16),ot(L,65535&A.adler)),A.adler=1}if(L.status===69)if(L.gzhead.extra){for(q=L.pending;L.gzindex<(65535&L.gzhead.extra.length)&&(L.pending!==L.pending_buf_size||(L.gzhead.hcrc&&L.pending>q&&(A.adler=p(A.adler,L.pending_buf,L.pending-q,q)),B(A),q=L.pending,L.pending!==L.pending_buf_size));)lt(L,255&L.gzhead.extra[L.gzindex]),L.gzindex++;L.gzhead.hcrc&&L.pending>q&&(A.adler=p(A.adler,L.pending_buf,L.pending-q,q)),L.gzindex===L.gzhead.extra.length&&(L.gzindex=0,L.status=73)}else L.status=73;if(L.status===73)if(L.gzhead.name){q=L.pending;do{if(L.pending===L.pending_buf_size&&(L.gzhead.hcrc&&L.pending>q&&(A.adler=p(A.adler,L.pending_buf,L.pending-q,q)),B(A),q=L.pending,L.pending===L.pending_buf_size)){X=1;break}X=L.gzindex<L.gzhead.name.length?255&L.gzhead.name.charCodeAt(L.gzindex++):0,lt(L,X)}while(X!==0);L.gzhead.hcrc&&L.pending>q&&(A.adler=p(A.adler,L.pending_buf,L.pending-q,q)),X===0&&(L.gzindex=0,L.status=91)}else L.status=91;if(L.status===91)if(L.gzhead.comment){q=L.pending;do{if(L.pending===L.pending_buf_size&&(L.gzhead.hcrc&&L.pending>q&&(A.adler=p(A.adler,L.pending_buf,L.pending-q,q)),B(A),q=L.pending,L.pending===L.pending_buf_size)){X=1;break}X=L.gzindex<L.gzhead.comment.length?255&L.gzhead.comment.charCodeAt(L.gzindex++):0,lt(L,X)}while(X!==0);L.gzhead.hcrc&&L.pending>q&&(A.adler=p(A.adler,L.pending_buf,L.pending-q,q)),X===0&&(L.status=103)}else L.status=103;if(L.status===103&&(L.gzhead.hcrc?(L.pending+2>L.pending_buf_size&&B(A),L.pending+2<=L.pending_buf_size&&(lt(L,255&A.adler),lt(L,A.adler>>8&255),A.adler=0,L.status=W)):L.status=W),L.pending!==0){if(B(A),A.avail_out===0)return L.last_flush=-1,v}else if(A.avail_in===0&&Y($)<=Y(J)&&$!==b)return ut(A,-5);if(L.status===666&&A.avail_in!==0)return ut(A,-5);if(A.avail_in!==0||L.lookahead!==0||$!==_&&L.status!==666){var dt=L.strategy===2?(function(it,vt){for(var St;;){if(it.lookahead===0&&(yt(it),it.lookahead===0)){if(vt===_)return T;break}if(it.match_length=0,St=u._tr_tally(it,0,it.window[it.strstart]),it.lookahead--,it.strstart++,St&&(F(it,!1),it.strm.avail_out===0))return T}return it.insert=0,vt===b?(F(it,!0),it.strm.avail_out===0?H:G):it.last_lit&&(F(it,!1),it.strm.avail_out===0)?T:K})(L,$):L.strategy===3?(function(it,vt){for(var St,xt,wt,qt,Ut=it.window;;){if(it.lookahead<=Z){if(yt(it),it.lookahead<=Z&&vt===_)return T;if(it.lookahead===0)break}if(it.match_length=0,it.lookahead>=V&&0<it.strstart&&(xt=Ut[wt=it.strstart-1])===Ut[++wt]&&xt===Ut[++wt]&&xt===Ut[++wt]){qt=it.strstart+Z;do;while(xt===Ut[++wt]&&xt===Ut[++wt]&&xt===Ut[++wt]&&xt===Ut[++wt]&&xt===Ut[++wt]&&xt===Ut[++wt]&&xt===Ut[++wt]&&xt===Ut[++wt]&&wt<qt);it.match_length=Z-(qt-wt),it.match_length>it.lookahead&&(it.match_length=it.lookahead)}if(it.match_length>=V?(St=u._tr_tally(it,1,it.match_length-V),it.lookahead-=it.match_length,it.strstart+=it.match_length,it.match_length=0):(St=u._tr_tally(it,0,it.window[it.strstart]),it.lookahead--,it.strstart++),St&&(F(it,!1),it.strm.avail_out===0))return T}return it.insert=0,vt===b?(F(it,!0),it.strm.avail_out===0?H:G):it.last_lit&&(F(it,!1),it.strm.avail_out===0)?T:K})(L,$):l[L.level].func(L,$);if(dt!==H&&dt!==G||(L.status=666),dt===T||dt===H)return A.avail_out===0&&(L.last_flush=-1),v;if(dt===K&&($===1?u._tr_align(L):$!==5&&(u._tr_stored_block(L,0,0,!1),$===3&&(U(L.head),L.lookahead===0&&(L.strstart=0,L.block_start=0,L.insert=0))),B(A),A.avail_out===0))return L.last_flush=-1,v}return $!==b?v:L.wrap<=0?1:(L.wrap===2?(lt(L,255&A.adler),lt(L,A.adler>>8&255),lt(L,A.adler>>16&255),lt(L,A.adler>>24&255),lt(L,255&A.total_in),lt(L,A.total_in>>8&255),lt(L,A.total_in>>16&255),lt(L,A.total_in>>24&255)):(ot(L,A.adler>>>16),ot(L,65535&A.adler)),B(A),0<L.wrap&&(L.wrap=-L.wrap),L.pending!==0?v:1)},o.deflateEnd=function(A){var $;return A&&A.state?($=A.state.status)!==R&&$!==69&&$!==73&&$!==91&&$!==103&&$!==W&&$!==666?ut(A,x):(A.state=null,$===W?ut(A,-3):v):x},o.deflateSetDictionary=function(A,$){var J,L,q,X,ft,dt,it,vt,St=$.length;if(!A||!A.state||(X=(J=A.state).wrap)===2||X===1&&J.status!==R||J.lookahead)return x;for(X===1&&(A.adler=f(A.adler,$,St,0)),J.wrap=0,St>=J.w_size&&(X===0&&(U(J.head),J.strstart=0,J.block_start=0,J.insert=0),vt=new h.Buf8(J.w_size),h.arraySet(vt,$,St-J.w_size,J.w_size,0),$=vt,St=J.w_size),ft=A.avail_in,dt=A.next_in,it=A.input,A.avail_in=St,A.next_in=0,A.input=$,yt(J);J.lookahead>=V;){for(L=J.strstart,q=J.lookahead-(V-1);J.ins_h=(J.ins_h<<J.hash_shift^J.window[L+V-1])&J.hash_mask,J.prev[L&J.w_mask]=J.head[J.ins_h],J.head[J.ins_h]=L,L++,--q;);J.strstart=L,J.lookahead=V-1,yt(J)}return J.strstart+=J.lookahead,J.block_start=J.strstart,J.insert=J.lookahead,J.lookahead=0,J.match_length=J.prev_length=V-1,J.match_available=0,A.next_in=dt,A.input=it,A.avail_in=ft,J.wrap=X,v},o.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(s,r,o){r.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(s,r,o){r.exports=function(l,h){var u,f,p,m,_,b,v,x,y,S,w,C,M,O,k,I,z,D,V,Z,nt,R,W,T,K;u=l.state,f=l.next_in,T=l.input,p=f+(l.avail_in-5),m=l.next_out,K=l.output,_=m-(h-l.avail_out),b=m+(l.avail_out-257),v=u.dmax,x=u.wsize,y=u.whave,S=u.wnext,w=u.window,C=u.hold,M=u.bits,O=u.lencode,k=u.distcode,I=(1<<u.lenbits)-1,z=(1<<u.distbits)-1;t:do{M<15&&(C+=T[f++]<<M,M+=8,C+=T[f++]<<M,M+=8),D=O[C&I];e:for(;;){if(C>>>=V=D>>>24,M-=V,(V=D>>>16&255)===0)K[m++]=65535&D;else{if(!(16&V)){if((64&V)==0){D=O[(65535&D)+(C&(1<<V)-1)];continue e}if(32&V){u.mode=12;break t}l.msg="invalid literal/length code",u.mode=30;break t}Z=65535&D,(V&=15)&&(M<V&&(C+=T[f++]<<M,M+=8),Z+=C&(1<<V)-1,C>>>=V,M-=V),M<15&&(C+=T[f++]<<M,M+=8,C+=T[f++]<<M,M+=8),D=k[C&z];n:for(;;){if(C>>>=V=D>>>24,M-=V,!(16&(V=D>>>16&255))){if((64&V)==0){D=k[(65535&D)+(C&(1<<V)-1)];continue n}l.msg="invalid distance code",u.mode=30;break t}if(nt=65535&D,M<(V&=15)&&(C+=T[f++]<<M,(M+=8)<V&&(C+=T[f++]<<M,M+=8)),v<(nt+=C&(1<<V)-1)){l.msg="invalid distance too far back",u.mode=30;break t}if(C>>>=V,M-=V,(V=m-_)<nt){if(y<(V=nt-V)&&u.sane){l.msg="invalid distance too far back",u.mode=30;break t}if(W=w,(R=0)===S){if(R+=x-V,V<Z){for(Z-=V;K[m++]=w[R++],--V;);R=m-nt,W=K}}else if(S<V){if(R+=x+S-V,(V-=S)<Z){for(Z-=V;K[m++]=w[R++],--V;);if(R=0,S<Z){for(Z-=V=S;K[m++]=w[R++],--V;);R=m-nt,W=K}}}else if(R+=S-V,V<Z){for(Z-=V;K[m++]=w[R++],--V;);R=m-nt,W=K}for(;2<Z;)K[m++]=W[R++],K[m++]=W[R++],K[m++]=W[R++],Z-=3;Z&&(K[m++]=W[R++],1<Z&&(K[m++]=W[R++]))}else{for(R=m-nt;K[m++]=K[R++],K[m++]=K[R++],K[m++]=K[R++],2<(Z-=3););Z&&(K[m++]=K[R++],1<Z&&(K[m++]=K[R++]))}break}}break}}while(f<p&&m<b);f-=Z=M>>3,C&=(1<<(M-=Z<<3))-1,l.next_in=f,l.next_out=m,l.avail_in=f<p?p-f+5:5-(f-p),l.avail_out=m<b?b-m+257:257-(m-b),u.hold=C,u.bits=M}},{}],49:[function(s,r,o){var l=s("../utils/common"),h=s("./adler32"),u=s("./crc32"),f=s("./inffast"),p=s("./inftrees"),m=1,_=2,b=0,v=-2,x=1,y=852,S=592;function w(R){return(R>>>24&255)+(R>>>8&65280)+((65280&R)<<8)+((255&R)<<24)}function C(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new l.Buf16(320),this.work=new l.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function M(R){var W;return R&&R.state?(W=R.state,R.total_in=R.total_out=W.total=0,R.msg="",W.wrap&&(R.adler=1&W.wrap),W.mode=x,W.last=0,W.havedict=0,W.dmax=32768,W.head=null,W.hold=0,W.bits=0,W.lencode=W.lendyn=new l.Buf32(y),W.distcode=W.distdyn=new l.Buf32(S),W.sane=1,W.back=-1,b):v}function O(R){var W;return R&&R.state?((W=R.state).wsize=0,W.whave=0,W.wnext=0,M(R)):v}function k(R,W){var T,K;return R&&R.state?(K=R.state,W<0?(T=0,W=-W):(T=1+(W>>4),W<48&&(W&=15)),W&&(W<8||15<W)?v:(K.window!==null&&K.wbits!==W&&(K.window=null),K.wrap=T,K.wbits=W,O(R))):v}function I(R,W){var T,K;return R?(K=new C,(R.state=K).window=null,(T=k(R,W))!==b&&(R.state=null),T):v}var z,D,V=!0;function Z(R){if(V){var W;for(z=new l.Buf32(512),D=new l.Buf32(32),W=0;W<144;)R.lens[W++]=8;for(;W<256;)R.lens[W++]=9;for(;W<280;)R.lens[W++]=7;for(;W<288;)R.lens[W++]=8;for(p(m,R.lens,0,288,z,0,R.work,{bits:9}),W=0;W<32;)R.lens[W++]=5;p(_,R.lens,0,32,D,0,R.work,{bits:5}),V=!1}R.lencode=z,R.lenbits=9,R.distcode=D,R.distbits=5}function nt(R,W,T,K){var H,G=R.state;return G.window===null&&(G.wsize=1<<G.wbits,G.wnext=0,G.whave=0,G.window=new l.Buf8(G.wsize)),K>=G.wsize?(l.arraySet(G.window,W,T-G.wsize,G.wsize,0),G.wnext=0,G.whave=G.wsize):(K<(H=G.wsize-G.wnext)&&(H=K),l.arraySet(G.window,W,T-K,H,G.wnext),(K-=H)?(l.arraySet(G.window,W,T-K,K,0),G.wnext=K,G.whave=G.wsize):(G.wnext+=H,G.wnext===G.wsize&&(G.wnext=0),G.whave<G.wsize&&(G.whave+=H))),0}o.inflateReset=O,o.inflateReset2=k,o.inflateResetKeep=M,o.inflateInit=function(R){return I(R,15)},o.inflateInit2=I,o.inflate=function(R,W){var T,K,H,G,ut,Y,U,B,F,lt,ot,tt,yt,Ot,st,bt,At,kt,Xt,se,A,$,J,L,q=0,X=new l.Buf8(4),ft=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!R||!R.state||!R.output||!R.input&&R.avail_in!==0)return v;(T=R.state).mode===12&&(T.mode=13),ut=R.next_out,H=R.output,U=R.avail_out,G=R.next_in,K=R.input,Y=R.avail_in,B=T.hold,F=T.bits,lt=Y,ot=U,$=b;t:for(;;)switch(T.mode){case x:if(T.wrap===0){T.mode=13;break}for(;F<16;){if(Y===0)break t;Y--,B+=K[G++]<<F,F+=8}if(2&T.wrap&&B===35615){X[T.check=0]=255&B,X[1]=B>>>8&255,T.check=u(T.check,X,2,0),F=B=0,T.mode=2;break}if(T.flags=0,T.head&&(T.head.done=!1),!(1&T.wrap)||(((255&B)<<8)+(B>>8))%31){R.msg="incorrect header check",T.mode=30;break}if((15&B)!=8){R.msg="unknown compression method",T.mode=30;break}if(F-=4,A=8+(15&(B>>>=4)),T.wbits===0)T.wbits=A;else if(A>T.wbits){R.msg="invalid window size",T.mode=30;break}T.dmax=1<<A,R.adler=T.check=1,T.mode=512&B?10:12,F=B=0;break;case 2:for(;F<16;){if(Y===0)break t;Y--,B+=K[G++]<<F,F+=8}if(T.flags=B,(255&T.flags)!=8){R.msg="unknown compression method",T.mode=30;break}if(57344&T.flags){R.msg="unknown header flags set",T.mode=30;break}T.head&&(T.head.text=B>>8&1),512&T.flags&&(X[0]=255&B,X[1]=B>>>8&255,T.check=u(T.check,X,2,0)),F=B=0,T.mode=3;case 3:for(;F<32;){if(Y===0)break t;Y--,B+=K[G++]<<F,F+=8}T.head&&(T.head.time=B),512&T.flags&&(X[0]=255&B,X[1]=B>>>8&255,X[2]=B>>>16&255,X[3]=B>>>24&255,T.check=u(T.check,X,4,0)),F=B=0,T.mode=4;case 4:for(;F<16;){if(Y===0)break t;Y--,B+=K[G++]<<F,F+=8}T.head&&(T.head.xflags=255&B,T.head.os=B>>8),512&T.flags&&(X[0]=255&B,X[1]=B>>>8&255,T.check=u(T.check,X,2,0)),F=B=0,T.mode=5;case 5:if(1024&T.flags){for(;F<16;){if(Y===0)break t;Y--,B+=K[G++]<<F,F+=8}T.length=B,T.head&&(T.head.extra_len=B),512&T.flags&&(X[0]=255&B,X[1]=B>>>8&255,T.check=u(T.check,X,2,0)),F=B=0}else T.head&&(T.head.extra=null);T.mode=6;case 6:if(1024&T.flags&&(Y<(tt=T.length)&&(tt=Y),tt&&(T.head&&(A=T.head.extra_len-T.length,T.head.extra||(T.head.extra=new Array(T.head.extra_len)),l.arraySet(T.head.extra,K,G,tt,A)),512&T.flags&&(T.check=u(T.check,K,tt,G)),Y-=tt,G+=tt,T.length-=tt),T.length))break t;T.length=0,T.mode=7;case 7:if(2048&T.flags){if(Y===0)break t;for(tt=0;A=K[G+tt++],T.head&&A&&T.length<65536&&(T.head.name+=String.fromCharCode(A)),A&&tt<Y;);if(512&T.flags&&(T.check=u(T.check,K,tt,G)),Y-=tt,G+=tt,A)break t}else T.head&&(T.head.name=null);T.length=0,T.mode=8;case 8:if(4096&T.flags){if(Y===0)break t;for(tt=0;A=K[G+tt++],T.head&&A&&T.length<65536&&(T.head.comment+=String.fromCharCode(A)),A&&tt<Y;);if(512&T.flags&&(T.check=u(T.check,K,tt,G)),Y-=tt,G+=tt,A)break t}else T.head&&(T.head.comment=null);T.mode=9;case 9:if(512&T.flags){for(;F<16;){if(Y===0)break t;Y--,B+=K[G++]<<F,F+=8}if(B!==(65535&T.check)){R.msg="header crc mismatch",T.mode=30;break}F=B=0}T.head&&(T.head.hcrc=T.flags>>9&1,T.head.done=!0),R.adler=T.check=0,T.mode=12;break;case 10:for(;F<32;){if(Y===0)break t;Y--,B+=K[G++]<<F,F+=8}R.adler=T.check=w(B),F=B=0,T.mode=11;case 11:if(T.havedict===0)return R.next_out=ut,R.avail_out=U,R.next_in=G,R.avail_in=Y,T.hold=B,T.bits=F,2;R.adler=T.check=1,T.mode=12;case 12:if(W===5||W===6)break t;case 13:if(T.last){B>>>=7&F,F-=7&F,T.mode=27;break}for(;F<3;){if(Y===0)break t;Y--,B+=K[G++]<<F,F+=8}switch(T.last=1&B,F-=1,3&(B>>>=1)){case 0:T.mode=14;break;case 1:if(Z(T),T.mode=20,W!==6)break;B>>>=2,F-=2;break t;case 2:T.mode=17;break;case 3:R.msg="invalid block type",T.mode=30}B>>>=2,F-=2;break;case 14:for(B>>>=7&F,F-=7&F;F<32;){if(Y===0)break t;Y--,B+=K[G++]<<F,F+=8}if((65535&B)!=(B>>>16^65535)){R.msg="invalid stored block lengths",T.mode=30;break}if(T.length=65535&B,F=B=0,T.mode=15,W===6)break t;case 15:T.mode=16;case 16:if(tt=T.length){if(Y<tt&&(tt=Y),U<tt&&(tt=U),tt===0)break t;l.arraySet(H,K,G,tt,ut),Y-=tt,G+=tt,U-=tt,ut+=tt,T.length-=tt;break}T.mode=12;break;case 17:for(;F<14;){if(Y===0)break t;Y--,B+=K[G++]<<F,F+=8}if(T.nlen=257+(31&B),B>>>=5,F-=5,T.ndist=1+(31&B),B>>>=5,F-=5,T.ncode=4+(15&B),B>>>=4,F-=4,286<T.nlen||30<T.ndist){R.msg="too many length or distance symbols",T.mode=30;break}T.have=0,T.mode=18;case 18:for(;T.have<T.ncode;){for(;F<3;){if(Y===0)break t;Y--,B+=K[G++]<<F,F+=8}T.lens[ft[T.have++]]=7&B,B>>>=3,F-=3}for(;T.have<19;)T.lens[ft[T.have++]]=0;if(T.lencode=T.lendyn,T.lenbits=7,J={bits:T.lenbits},$=p(0,T.lens,0,19,T.lencode,0,T.work,J),T.lenbits=J.bits,$){R.msg="invalid code lengths set",T.mode=30;break}T.have=0,T.mode=19;case 19:for(;T.have<T.nlen+T.ndist;){for(;bt=(q=T.lencode[B&(1<<T.lenbits)-1])>>>16&255,At=65535&q,!((st=q>>>24)<=F);){if(Y===0)break t;Y--,B+=K[G++]<<F,F+=8}if(At<16)B>>>=st,F-=st,T.lens[T.have++]=At;else{if(At===16){for(L=st+2;F<L;){if(Y===0)break t;Y--,B+=K[G++]<<F,F+=8}if(B>>>=st,F-=st,T.have===0){R.msg="invalid bit length repeat",T.mode=30;break}A=T.lens[T.have-1],tt=3+(3&B),B>>>=2,F-=2}else if(At===17){for(L=st+3;F<L;){if(Y===0)break t;Y--,B+=K[G++]<<F,F+=8}F-=st,A=0,tt=3+(7&(B>>>=st)),B>>>=3,F-=3}else{for(L=st+7;F<L;){if(Y===0)break t;Y--,B+=K[G++]<<F,F+=8}F-=st,A=0,tt=11+(127&(B>>>=st)),B>>>=7,F-=7}if(T.have+tt>T.nlen+T.ndist){R.msg="invalid bit length repeat",T.mode=30;break}for(;tt--;)T.lens[T.have++]=A}}if(T.mode===30)break;if(T.lens[256]===0){R.msg="invalid code -- missing end-of-block",T.mode=30;break}if(T.lenbits=9,J={bits:T.lenbits},$=p(m,T.lens,0,T.nlen,T.lencode,0,T.work,J),T.lenbits=J.bits,$){R.msg="invalid literal/lengths set",T.mode=30;break}if(T.distbits=6,T.distcode=T.distdyn,J={bits:T.distbits},$=p(_,T.lens,T.nlen,T.ndist,T.distcode,0,T.work,J),T.distbits=J.bits,$){R.msg="invalid distances set",T.mode=30;break}if(T.mode=20,W===6)break t;case 20:T.mode=21;case 21:if(6<=Y&&258<=U){R.next_out=ut,R.avail_out=U,R.next_in=G,R.avail_in=Y,T.hold=B,T.bits=F,f(R,ot),ut=R.next_out,H=R.output,U=R.avail_out,G=R.next_in,K=R.input,Y=R.avail_in,B=T.hold,F=T.bits,T.mode===12&&(T.back=-1);break}for(T.back=0;bt=(q=T.lencode[B&(1<<T.lenbits)-1])>>>16&255,At=65535&q,!((st=q>>>24)<=F);){if(Y===0)break t;Y--,B+=K[G++]<<F,F+=8}if(bt&&(240&bt)==0){for(kt=st,Xt=bt,se=At;bt=(q=T.lencode[se+((B&(1<<kt+Xt)-1)>>kt)])>>>16&255,At=65535&q,!(kt+(st=q>>>24)<=F);){if(Y===0)break t;Y--,B+=K[G++]<<F,F+=8}B>>>=kt,F-=kt,T.back+=kt}if(B>>>=st,F-=st,T.back+=st,T.length=At,bt===0){T.mode=26;break}if(32&bt){T.back=-1,T.mode=12;break}if(64&bt){R.msg="invalid literal/length code",T.mode=30;break}T.extra=15&bt,T.mode=22;case 22:if(T.extra){for(L=T.extra;F<L;){if(Y===0)break t;Y--,B+=K[G++]<<F,F+=8}T.length+=B&(1<<T.extra)-1,B>>>=T.extra,F-=T.extra,T.back+=T.extra}T.was=T.length,T.mode=23;case 23:for(;bt=(q=T.distcode[B&(1<<T.distbits)-1])>>>16&255,At=65535&q,!((st=q>>>24)<=F);){if(Y===0)break t;Y--,B+=K[G++]<<F,F+=8}if((240&bt)==0){for(kt=st,Xt=bt,se=At;bt=(q=T.distcode[se+((B&(1<<kt+Xt)-1)>>kt)])>>>16&255,At=65535&q,!(kt+(st=q>>>24)<=F);){if(Y===0)break t;Y--,B+=K[G++]<<F,F+=8}B>>>=kt,F-=kt,T.back+=kt}if(B>>>=st,F-=st,T.back+=st,64&bt){R.msg="invalid distance code",T.mode=30;break}T.offset=At,T.extra=15&bt,T.mode=24;case 24:if(T.extra){for(L=T.extra;F<L;){if(Y===0)break t;Y--,B+=K[G++]<<F,F+=8}T.offset+=B&(1<<T.extra)-1,B>>>=T.extra,F-=T.extra,T.back+=T.extra}if(T.offset>T.dmax){R.msg="invalid distance too far back",T.mode=30;break}T.mode=25;case 25:if(U===0)break t;if(tt=ot-U,T.offset>tt){if((tt=T.offset-tt)>T.whave&&T.sane){R.msg="invalid distance too far back",T.mode=30;break}yt=tt>T.wnext?(tt-=T.wnext,T.wsize-tt):T.wnext-tt,tt>T.length&&(tt=T.length),Ot=T.window}else Ot=H,yt=ut-T.offset,tt=T.length;for(U<tt&&(tt=U),U-=tt,T.length-=tt;H[ut++]=Ot[yt++],--tt;);T.length===0&&(T.mode=21);break;case 26:if(U===0)break t;H[ut++]=T.length,U--,T.mode=21;break;case 27:if(T.wrap){for(;F<32;){if(Y===0)break t;Y--,B|=K[G++]<<F,F+=8}if(ot-=U,R.total_out+=ot,T.total+=ot,ot&&(R.adler=T.check=T.flags?u(T.check,H,ot,ut-ot):h(T.check,H,ot,ut-ot)),ot=U,(T.flags?B:w(B))!==T.check){R.msg="incorrect data check",T.mode=30;break}F=B=0}T.mode=28;case 28:if(T.wrap&&T.flags){for(;F<32;){if(Y===0)break t;Y--,B+=K[G++]<<F,F+=8}if(B!==(4294967295&T.total)){R.msg="incorrect length check",T.mode=30;break}F=B=0}T.mode=29;case 29:$=1;break t;case 30:$=-3;break t;case 31:return-4;case 32:default:return v}return R.next_out=ut,R.avail_out=U,R.next_in=G,R.avail_in=Y,T.hold=B,T.bits=F,(T.wsize||ot!==R.avail_out&&T.mode<30&&(T.mode<27||W!==4))&&nt(R,R.output,R.next_out,ot-R.avail_out)?(T.mode=31,-4):(lt-=R.avail_in,ot-=R.avail_out,R.total_in+=lt,R.total_out+=ot,T.total+=ot,T.wrap&&ot&&(R.adler=T.check=T.flags?u(T.check,H,ot,R.next_out-ot):h(T.check,H,ot,R.next_out-ot)),R.data_type=T.bits+(T.last?64:0)+(T.mode===12?128:0)+(T.mode===20||T.mode===15?256:0),(lt==0&&ot===0||W===4)&&$===b&&($=-5),$)},o.inflateEnd=function(R){if(!R||!R.state)return v;var W=R.state;return W.window&&(W.window=null),R.state=null,b},o.inflateGetHeader=function(R,W){var T;return R&&R.state?(2&(T=R.state).wrap)==0?v:((T.head=W).done=!1,b):v},o.inflateSetDictionary=function(R,W){var T,K=W.length;return R&&R.state?(T=R.state).wrap!==0&&T.mode!==11?v:T.mode===11&&h(1,W,K,0)!==T.check?-3:nt(R,W,K,K)?(T.mode=31,-4):(T.havedict=1,b):v},o.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(s,r,o){var l=s("../utils/common"),h=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],u=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],f=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],p=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];r.exports=function(m,_,b,v,x,y,S,w){var C,M,O,k,I,z,D,V,Z,nt=w.bits,R=0,W=0,T=0,K=0,H=0,G=0,ut=0,Y=0,U=0,B=0,F=null,lt=0,ot=new l.Buf16(16),tt=new l.Buf16(16),yt=null,Ot=0;for(R=0;R<=15;R++)ot[R]=0;for(W=0;W<v;W++)ot[_[b+W]]++;for(H=nt,K=15;1<=K&&ot[K]===0;K--);if(K<H&&(H=K),K===0)return x[y++]=20971520,x[y++]=20971520,w.bits=1,0;for(T=1;T<K&&ot[T]===0;T++);for(H<T&&(H=T),R=Y=1;R<=15;R++)if(Y<<=1,(Y-=ot[R])<0)return-1;if(0<Y&&(m===0||K!==1))return-1;for(tt[1]=0,R=1;R<15;R++)tt[R+1]=tt[R]+ot[R];for(W=0;W<v;W++)_[b+W]!==0&&(S[tt[_[b+W]]++]=W);if(z=m===0?(F=yt=S,19):m===1?(F=h,lt-=257,yt=u,Ot-=257,256):(F=f,yt=p,-1),R=T,I=y,ut=W=B=0,O=-1,k=(U=1<<(G=H))-1,m===1&&852<U||m===2&&592<U)return 1;for(;;){for(D=R-ut,Z=S[W]<z?(V=0,S[W]):S[W]>z?(V=yt[Ot+S[W]],F[lt+S[W]]):(V=96,0),C=1<<R-ut,T=M=1<<G;x[I+(B>>ut)+(M-=C)]=D<<24|V<<16|Z|0,M!==0;);for(C=1<<R-1;B&C;)C>>=1;if(C!==0?(B&=C-1,B+=C):B=0,W++,--ot[R]==0){if(R===K)break;R=_[b+S[W]]}if(H<R&&(B&k)!==O){for(ut===0&&(ut=H),I+=T,Y=1<<(G=R-ut);G+ut<K&&!((Y-=ot[G+ut])<=0);)G++,Y<<=1;if(U+=1<<G,m===1&&852<U||m===2&&592<U)return 1;x[O=B&k]=H<<24|G<<16|I-y|0}}return B!==0&&(x[I+B]=R-ut<<24|64<<16|0),w.bits=H,0}},{"../utils/common":41}],51:[function(s,r,o){r.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(s,r,o){var l=s("../utils/common"),h=0,u=1;function f(q){for(var X=q.length;0<=--X;)q[X]=0}var p=0,m=29,_=256,b=_+1+m,v=30,x=19,y=2*b+1,S=15,w=16,C=7,M=256,O=16,k=17,I=18,z=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],D=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],V=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],Z=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],nt=new Array(2*(b+2));f(nt);var R=new Array(2*v);f(R);var W=new Array(512);f(W);var T=new Array(256);f(T);var K=new Array(m);f(K);var H,G,ut,Y=new Array(v);function U(q,X,ft,dt,it){this.static_tree=q,this.extra_bits=X,this.extra_base=ft,this.elems=dt,this.max_length=it,this.has_stree=q&&q.length}function B(q,X){this.dyn_tree=q,this.max_code=0,this.stat_desc=X}function F(q){return q<256?W[q]:W[256+(q>>>7)]}function lt(q,X){q.pending_buf[q.pending++]=255&X,q.pending_buf[q.pending++]=X>>>8&255}function ot(q,X,ft){q.bi_valid>w-ft?(q.bi_buf|=X<<q.bi_valid&65535,lt(q,q.bi_buf),q.bi_buf=X>>w-q.bi_valid,q.bi_valid+=ft-w):(q.bi_buf|=X<<q.bi_valid&65535,q.bi_valid+=ft)}function tt(q,X,ft){ot(q,ft[2*X],ft[2*X+1])}function yt(q,X){for(var ft=0;ft|=1&q,q>>>=1,ft<<=1,0<--X;);return ft>>>1}function Ot(q,X,ft){var dt,it,vt=new Array(S+1),St=0;for(dt=1;dt<=S;dt++)vt[dt]=St=St+ft[dt-1]<<1;for(it=0;it<=X;it++){var xt=q[2*it+1];xt!==0&&(q[2*it]=yt(vt[xt]++,xt))}}function st(q){var X;for(X=0;X<b;X++)q.dyn_ltree[2*X]=0;for(X=0;X<v;X++)q.dyn_dtree[2*X]=0;for(X=0;X<x;X++)q.bl_tree[2*X]=0;q.dyn_ltree[2*M]=1,q.opt_len=q.static_len=0,q.last_lit=q.matches=0}function bt(q){8<q.bi_valid?lt(q,q.bi_buf):0<q.bi_valid&&(q.pending_buf[q.pending++]=q.bi_buf),q.bi_buf=0,q.bi_valid=0}function At(q,X,ft,dt){var it=2*X,vt=2*ft;return q[it]<q[vt]||q[it]===q[vt]&&dt[X]<=dt[ft]}function kt(q,X,ft){for(var dt=q.heap[ft],it=ft<<1;it<=q.heap_len&&(it<q.heap_len&&At(X,q.heap[it+1],q.heap[it],q.depth)&&it++,!At(X,dt,q.heap[it],q.depth));)q.heap[ft]=q.heap[it],ft=it,it<<=1;q.heap[ft]=dt}function Xt(q,X,ft){var dt,it,vt,St,xt=0;if(q.last_lit!==0)for(;dt=q.pending_buf[q.d_buf+2*xt]<<8|q.pending_buf[q.d_buf+2*xt+1],it=q.pending_buf[q.l_buf+xt],xt++,dt===0?tt(q,it,X):(tt(q,(vt=T[it])+_+1,X),(St=z[vt])!==0&&ot(q,it-=K[vt],St),tt(q,vt=F(--dt),ft),(St=D[vt])!==0&&ot(q,dt-=Y[vt],St)),xt<q.last_lit;);tt(q,M,X)}function se(q,X){var ft,dt,it,vt=X.dyn_tree,St=X.stat_desc.static_tree,xt=X.stat_desc.has_stree,wt=X.stat_desc.elems,qt=-1;for(q.heap_len=0,q.heap_max=y,ft=0;ft<wt;ft++)vt[2*ft]!==0?(q.heap[++q.heap_len]=qt=ft,q.depth[ft]=0):vt[2*ft+1]=0;for(;q.heap_len<2;)vt[2*(it=q.heap[++q.heap_len]=qt<2?++qt:0)]=1,q.depth[it]=0,q.opt_len--,xt&&(q.static_len-=St[2*it+1]);for(X.max_code=qt,ft=q.heap_len>>1;1<=ft;ft--)kt(q,vt,ft);for(it=wt;ft=q.heap[1],q.heap[1]=q.heap[q.heap_len--],kt(q,vt,1),dt=q.heap[1],q.heap[--q.heap_max]=ft,q.heap[--q.heap_max]=dt,vt[2*it]=vt[2*ft]+vt[2*dt],q.depth[it]=(q.depth[ft]>=q.depth[dt]?q.depth[ft]:q.depth[dt])+1,vt[2*ft+1]=vt[2*dt+1]=it,q.heap[1]=it++,kt(q,vt,1),2<=q.heap_len;);q.heap[--q.heap_max]=q.heap[1],(function(Ut,ie){var hs,un,xs,re,qn,gn,tn=ie.dyn_tree,Vn=ie.max_code,Nt=ie.stat_desc.static_tree,Ct=ie.stat_desc.has_stree,Ft=ie.stat_desc.extra_bits,Ht=ie.stat_desc.extra_base,Lt=ie.stat_desc.max_length,le=0;for(re=0;re<=S;re++)Ut.bl_count[re]=0;for(tn[2*Ut.heap[Ut.heap_max]+1]=0,hs=Ut.heap_max+1;hs<y;hs++)Lt<(re=tn[2*tn[2*(un=Ut.heap[hs])+1]+1]+1)&&(re=Lt,le++),tn[2*un+1]=re,Vn<un||(Ut.bl_count[re]++,qn=0,Ht<=un&&(qn=Ft[un-Ht]),gn=tn[2*un],Ut.opt_len+=gn*(re+qn),Ct&&(Ut.static_len+=gn*(Nt[2*un+1]+qn)));if(le!==0){do{for(re=Lt-1;Ut.bl_count[re]===0;)re--;Ut.bl_count[re]--,Ut.bl_count[re+1]+=2,Ut.bl_count[Lt]--,le-=2}while(0<le);for(re=Lt;re!==0;re--)for(un=Ut.bl_count[re];un!==0;)Vn<(xs=Ut.heap[--hs])||(tn[2*xs+1]!==re&&(Ut.opt_len+=(re-tn[2*xs+1])*tn[2*xs],tn[2*xs+1]=re),un--)}})(q,X),Ot(vt,qt,q.bl_count)}function A(q,X,ft){var dt,it,vt=-1,St=X[1],xt=0,wt=7,qt=4;for(St===0&&(wt=138,qt=3),X[2*(ft+1)+1]=65535,dt=0;dt<=ft;dt++)it=St,St=X[2*(dt+1)+1],++xt<wt&&it===St||(xt<qt?q.bl_tree[2*it]+=xt:it!==0?(it!==vt&&q.bl_tree[2*it]++,q.bl_tree[2*O]++):xt<=10?q.bl_tree[2*k]++:q.bl_tree[2*I]++,vt=it,qt=(xt=0)===St?(wt=138,3):it===St?(wt=6,3):(wt=7,4))}function $(q,X,ft){var dt,it,vt=-1,St=X[1],xt=0,wt=7,qt=4;for(St===0&&(wt=138,qt=3),dt=0;dt<=ft;dt++)if(it=St,St=X[2*(dt+1)+1],!(++xt<wt&&it===St)){if(xt<qt)for(;tt(q,it,q.bl_tree),--xt!=0;);else it!==0?(it!==vt&&(tt(q,it,q.bl_tree),xt--),tt(q,O,q.bl_tree),ot(q,xt-3,2)):xt<=10?(tt(q,k,q.bl_tree),ot(q,xt-3,3)):(tt(q,I,q.bl_tree),ot(q,xt-11,7));vt=it,qt=(xt=0)===St?(wt=138,3):it===St?(wt=6,3):(wt=7,4)}}f(Y);var J=!1;function L(q,X,ft,dt){ot(q,(p<<1)+(dt?1:0),3),(function(it,vt,St,xt){bt(it),lt(it,St),lt(it,~St),l.arraySet(it.pending_buf,it.window,vt,St,it.pending),it.pending+=St})(q,X,ft)}o._tr_init=function(q){J||((function(){var X,ft,dt,it,vt,St=new Array(S+1);for(it=dt=0;it<m-1;it++)for(K[it]=dt,X=0;X<1<<z[it];X++)T[dt++]=it;for(T[dt-1]=it,it=vt=0;it<16;it++)for(Y[it]=vt,X=0;X<1<<D[it];X++)W[vt++]=it;for(vt>>=7;it<v;it++)for(Y[it]=vt<<7,X=0;X<1<<D[it]-7;X++)W[256+vt++]=it;for(ft=0;ft<=S;ft++)St[ft]=0;for(X=0;X<=143;)nt[2*X+1]=8,X++,St[8]++;for(;X<=255;)nt[2*X+1]=9,X++,St[9]++;for(;X<=279;)nt[2*X+1]=7,X++,St[7]++;for(;X<=287;)nt[2*X+1]=8,X++,St[8]++;for(Ot(nt,b+1,St),X=0;X<v;X++)R[2*X+1]=5,R[2*X]=yt(X,5);H=new U(nt,z,_+1,b,S),G=new U(R,D,0,v,S),ut=new U(new Array(0),V,0,x,C)})(),J=!0),q.l_desc=new B(q.dyn_ltree,H),q.d_desc=new B(q.dyn_dtree,G),q.bl_desc=new B(q.bl_tree,ut),q.bi_buf=0,q.bi_valid=0,st(q)},o._tr_stored_block=L,o._tr_flush_block=function(q,X,ft,dt){var it,vt,St=0;0<q.level?(q.strm.data_type===2&&(q.strm.data_type=(function(xt){var wt,qt=4093624447;for(wt=0;wt<=31;wt++,qt>>>=1)if(1&qt&&xt.dyn_ltree[2*wt]!==0)return h;if(xt.dyn_ltree[18]!==0||xt.dyn_ltree[20]!==0||xt.dyn_ltree[26]!==0)return u;for(wt=32;wt<_;wt++)if(xt.dyn_ltree[2*wt]!==0)return u;return h})(q)),se(q,q.l_desc),se(q,q.d_desc),St=(function(xt){var wt;for(A(xt,xt.dyn_ltree,xt.l_desc.max_code),A(xt,xt.dyn_dtree,xt.d_desc.max_code),se(xt,xt.bl_desc),wt=x-1;3<=wt&&xt.bl_tree[2*Z[wt]+1]===0;wt--);return xt.opt_len+=3*(wt+1)+5+5+4,wt})(q),it=q.opt_len+3+7>>>3,(vt=q.static_len+3+7>>>3)<=it&&(it=vt)):it=vt=ft+5,ft+4<=it&&X!==-1?L(q,X,ft,dt):q.strategy===4||vt===it?(ot(q,2+(dt?1:0),3),Xt(q,nt,R)):(ot(q,4+(dt?1:0),3),(function(xt,wt,qt,Ut){var ie;for(ot(xt,wt-257,5),ot(xt,qt-1,5),ot(xt,Ut-4,4),ie=0;ie<Ut;ie++)ot(xt,xt.bl_tree[2*Z[ie]+1],3);$(xt,xt.dyn_ltree,wt-1),$(xt,xt.dyn_dtree,qt-1)})(q,q.l_desc.max_code+1,q.d_desc.max_code+1,St+1),Xt(q,q.dyn_ltree,q.dyn_dtree)),st(q),dt&&bt(q)},o._tr_tally=function(q,X,ft){return q.pending_buf[q.d_buf+2*q.last_lit]=X>>>8&255,q.pending_buf[q.d_buf+2*q.last_lit+1]=255&X,q.pending_buf[q.l_buf+q.last_lit]=255&ft,q.last_lit++,X===0?q.dyn_ltree[2*ft]++:(q.matches++,X--,q.dyn_ltree[2*(T[ft]+_+1)]++,q.dyn_dtree[2*F(X)]++),q.last_lit===q.lit_bufsize-1},o._tr_align=function(q){ot(q,2,3),tt(q,M,nt),(function(X){X.bi_valid===16?(lt(X,X.bi_buf),X.bi_buf=0,X.bi_valid=0):8<=X.bi_valid&&(X.pending_buf[X.pending++]=255&X.bi_buf,X.bi_buf>>=8,X.bi_valid-=8)})(q)}},{"../utils/common":41}],53:[function(s,r,o){r.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(s,r,o){(function(l){(function(h,u){if(!h.setImmediate){var f,p,m,_,b=1,v={},x=!1,y=h.document,S=Object.getPrototypeOf&&Object.getPrototypeOf(h);S=S&&S.setTimeout?S:h,f={}.toString.call(h.process)==="[object process]"?function(O){process.nextTick(function(){C(O)})}:(function(){if(h.postMessage&&!h.importScripts){var O=!0,k=h.onmessage;return h.onmessage=function(){O=!1},h.postMessage("","*"),h.onmessage=k,O}})()?(_="setImmediate$"+Math.random()+"$",h.addEventListener?h.addEventListener("message",M,!1):h.attachEvent("onmessage",M),function(O){h.postMessage(_+O,"*")}):h.MessageChannel?((m=new MessageChannel).port1.onmessage=function(O){C(O.data)},function(O){m.port2.postMessage(O)}):y&&"onreadystatechange"in y.createElement("script")?(p=y.documentElement,function(O){var k=y.createElement("script");k.onreadystatechange=function(){C(O),k.onreadystatechange=null,p.removeChild(k),k=null},p.appendChild(k)}):function(O){setTimeout(C,0,O)},S.setImmediate=function(O){typeof O!="function"&&(O=new Function(""+O));for(var k=new Array(arguments.length-1),I=0;I<k.length;I++)k[I]=arguments[I+1];var z={callback:O,args:k};return v[b]=z,f(b),b++},S.clearImmediate=w}function w(O){delete v[O]}function C(O){if(x)setTimeout(C,0,O);else{var k=v[O];if(k){x=!0;try{(function(I){var z=I.callback,D=I.args;switch(D.length){case 0:z();break;case 1:z(D[0]);break;case 2:z(D[0],D[1]);break;case 3:z(D[0],D[1],D[2]);break;default:z.apply(u,D)}})(k)}finally{w(O),x=!1}}}}function M(O){O.source===h&&typeof O.data=="string"&&O.data.indexOf(_)===0&&C(+O.data.slice(_.length))}})(typeof self>"u"?l===void 0?this:l:self)}).call(this,typeof Ml<"u"?Ml:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})})(Ih)),Ih.exports}var YT=ZT();const M0=tc(YT);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XT=c=>c.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),WT=c=>c.replace(/^([A-Z])|[\s-_]+(\w)/g,(n,s,r)=>r?r.toUpperCase():s.toLowerCase()),D0=c=>{const n=WT(c);return n.charAt(0).toUpperCase()+n.slice(1)},fv=(...c)=>c.filter((n,s,r)=>!!n&&n.trim()!==""&&r.indexOf(n)===s).join(" ").trim(),QT=c=>{for(const n in c)if(n.startsWith("aria-")||n==="role"||n==="title")return!0};/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var KT={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JT=_t.forwardRef(({color:c="currentColor",size:n=24,strokeWidth:s=2,absoluteStrokeWidth:r,className:o="",children:l,iconNode:h,...u},f)=>_t.createElement("svg",{ref:f,...KT,width:n,height:n,stroke:c,strokeWidth:r?Number(s)*24/Number(n):s,className:fv("lucide",o),...!l&&!QT(u)&&{"aria-hidden":"true"},...u},[...h.map(([p,m])=>_t.createElement(p,m)),...Array.isArray(l)?l:[l]]));/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const me=(c,n)=>{const s=_t.forwardRef(({className:r,...o},l)=>_t.createElement(JT,{ref:l,iconNode:n,className:fv(`lucide-${XT(D0(c))}`,`lucide-${c}`,r),...o}));return s.displayName=D0(c),s};/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $T=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],R0=me("activity",$T);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tA=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],df=me("arrow-left",tA);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eA=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],nA=me("check",eA);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sA=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],$f=me("chevron-down",sA);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iA=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],rA=me("chevron-right",iA);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aA=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],dv=me("chevron-up",aA);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oA=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],j0=me("circle-alert",oA);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lA=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],cA=me("circle-check",lA);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uA=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],hA=me("circle-question-mark",uA);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fA=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],dA=me("download",fA);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pA=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],mA=me("info",pA);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gA=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],pv=me("loader-circle",gA);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _A=[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]],ro=me("music",_A);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vA=[["rect",{x:"14",y:"3",width:"5",height:"18",rx:"1",key:"kaeet6"}],["rect",{x:"5",y:"3",width:"5",height:"18",rx:"1",key:"1wsw3u"}]],Jl=me("pause",vA);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yA=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],Vr=me("play",yA);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bA=[["path",{d:"M16.247 7.761a6 6 0 0 1 0 8.478",key:"1fwjs5"}],["path",{d:"M19.075 4.933a10 10 0 0 1 0 14.134",key:"ehdyv1"}],["path",{d:"M4.925 19.067a10 10 0 0 1 0-14.134",key:"1q22gi"}],["path",{d:"M7.753 16.239a6 6 0 0 1 0-8.478",key:"r2q7qm"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],xA=me("radio",bA);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SA=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],wA=me("refresh-cw",SA);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TA=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],mv=me("settings",TA);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AA=[["path",{d:"M10 8h4",key:"1sr2af"}],["path",{d:"M12 21v-9",key:"17s77i"}],["path",{d:"M12 8V3",key:"13r4qs"}],["path",{d:"M17 16h4",key:"h1uq16"}],["path",{d:"M19 12V3",key:"o1uvq1"}],["path",{d:"M19 21v-5",key:"qua636"}],["path",{d:"M3 14h4",key:"bcjad9"}],["path",{d:"M5 10V3",key:"cb8scm"}],["path",{d:"M5 21v-7",key:"1w1uti"}]],NA=me("sliders-vertical",AA);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kA=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]],gv=me("square",kA);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CA=[["polyline",{points:"14.5 17.5 3 6 3 3 6 3 17.5 14.5",key:"1hfsw2"}],["line",{x1:"13",x2:"19",y1:"19",y2:"13",key:"1vrmhu"}],["line",{x1:"16",x2:"20",y1:"16",y2:"20",key:"1bron3"}],["line",{x1:"19",x2:"21",y1:"21",y2:"19",key:"13pww6"}],["polyline",{points:"14.5 6.5 18 3 21 3 21 6 17.5 9.5",key:"hbey2j"}],["line",{x1:"5",x2:"9",y1:"14",y2:"18",key:"1hf58s"}],["line",{x1:"7",x2:"4",y1:"17",y2:"20",key:"pidxm4"}],["line",{x1:"3",x2:"5",y1:"19",y2:"21",key:"1pehsh"}]],EA=me("swords",CA);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OA=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],MA=me("trash-2",OA);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DA=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],RA=me("upload",DA);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jA=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]],zA=me("volume-2",jA);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UA=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]],BA=me("volume-x",UA);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IA=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],td=me("x",IA);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qA=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],VA=me("zap",qA);var qh={exports:{}},Vh={exports:{}},Lh,z0;function LA(){if(z0)return Lh;z0=1;function c(s){return s>64&&s<91?s-65:s>96&&s<123?s-71:s>47&&s<58?s+4:s===43?62:s===47?63:0}function n(s,r){for(var o=s.replace(/[^A-Za-z0-9\+\/]/g,""),l=o.length,h=r?Math.ceil((l*3+1>>2)/r)*r:l*3+1>>2,u=new Uint8Array(h),f,p,m=0,_=0,b=0;b<l;b++)if(p=b&3,m|=c(o.charCodeAt(b))<<18-6*p,p===3||l-b===1){for(f=0;f<3&&_<h;f++,_++)u[_]=m>>>(16>>>f&24)&255;m=0}return u}return Lh={decode:n},Lh}var Fh,U0;function FA(){return U0||(U0=1,Fh=function(c,n){return new Promise(function(s,r){var o=new XMLHttpRequest;n&&(o.responseType=n),o.open("GET",c),o.onload=function(){o.status===200?s(o.response):r(Error(o.statusText))},o.onerror=function(){r(Error("Network Error"))},o.send()})}),Fh}var B0;function HA(){return B0||(B0=1,(function(c){var n=LA(),s=FA();function r(z){return function(D){return typeof D=="string"&&z.test(D)}}function o(z,D){return typeof z=="string"?z+D:typeof z=="function"?z(D):D}function l(z,D,V,Z){var nt=h(D)?u:f(D)?p:m(D)?_:b(D)?v:x(D)?y:S(D)?w:C(D)?M:O(D)?k:null,R=V||{};return nt?nt(z,D,R):Z?Promise.resolve(Z):Promise.reject("Source not valid ("+D+")")}l.fetch=s;function h(z){return z instanceof ArrayBuffer}function u(z,D,V){return new Promise(function(Z,nt){z.decodeAudioData(D,function(R){Z(R)},function(){nt("Can't decode audio data ("+D.slice(0,30)+"...)")})})}var f=r(/\.(mp3|wav|ogg)(\?.*)?$/i);function p(z,D,V){var Z=o(V.from,D);return l(z,l.fetch(Z,"arraybuffer"),V)}function m(z){return z&&typeof z.then=="function"}function _(z,D,V){return D.then(function(Z){return l(z,Z,V)})}var b=Array.isArray;function v(z,D,V){return Promise.all(D.map(function(Z){return l(z,Z,V,Z)}))}function x(z){return z&&typeof z=="object"}function y(z,D,V){var Z={},nt=Object.keys(D).map(function(R){if(V.only&&V.only.indexOf(R)===-1)return null;var W=D[R];return l(z,W,V,W).then(function(T){Z[R]=T})});return Promise.all(nt).then(function(){return Z})}var S=r(/\.json(\?.*)?$/i);function w(z,D,V){var Z=o(V.from,D);return l(z,l.fetch(Z,"text").then(JSON.parse),V)}var C=r(/^data:audio/);function M(z,D,V){var Z=D.indexOf(",");return l(z,n.decode(D.slice(Z+1)).buffer,V)}var O=r(/\.js(\?.*)?$/i);function k(z,D,V){var Z=o(V.from,D);return l(z,l.fetch(Z,"text").then(I),V)}function I(z){var D=z.indexOf("MIDI.Soundfont.");if(D<0)throw Error("Invalid MIDI.js Soundfont format");D=z.indexOf("=",D)+2;var V=z.lastIndexOf(",");return JSON.parse(z.slice(D,V)+"}")}c.exports&&(c.exports=l),typeof window<"u"&&(window.loadAudio=l)})(Vh)),Vh.exports}var Hh={exports:{}},Gh,I0;function GA(){if(I0)return Gh;I0=1,Gh=c;function c(u){var f=u.createGain(),p=f._voltage=r(u),m=o(p),_=o(p),b=o(p);return f._startAmount=o(_),f._endAmount=o(b),f._multiplier=o(m),f._multiplier.connect(f),f._startAmount.connect(f),f._endAmount.connect(f),f.value=m.gain,f.startValue=_.gain,f.endValue=b.gain,f.startValue.value=0,f.endValue.value=0,Object.defineProperties(f,n),f}var n={attack:{value:0,writable:!0},decay:{value:0,writable:!0},sustain:{value:1,writable:!0},release:{value:0,writable:!0},getReleaseDuration:{value:function(){return this.release}},start:{value:function(u){var f=this._multiplier.gain,p=this._startAmount.gain,m=this._endAmount.gain;this._voltage.start(u),this._decayFrom=this._decayFrom=u+this.attack,this._startedAt=u;var _=this.sustain;f.cancelScheduledValues(u),p.cancelScheduledValues(u),m.cancelScheduledValues(u),m.setValueAtTime(0,u),this.attack?(f.setValueAtTime(0,u),f.linearRampToValueAtTime(1,u+this.attack),p.setValueAtTime(1,u),p.linearRampToValueAtTime(0,u+this.attack)):(f.setValueAtTime(1,u),p.setValueAtTime(0,u)),this.decay&&f.setTargetAtTime(_,this._decayFrom,l(this.decay))}},stop:{value:function(u,f){f&&(u=u-this.release);var p=u+this.release;if(this.release){var m=this._multiplier.gain,_=this._startAmount.gain,b=this._endAmount.gain;m.cancelScheduledValues(u),_.cancelScheduledValues(u),b.cancelScheduledValues(u);var v=l(this.release);if(this.attack&&u<this._decayFrom){var x=h(0,1,this._startedAt,this._decayFrom,u);m.linearRampToValueAtTime(x,u),_.linearRampToValueAtTime(1-x,u),_.setTargetAtTime(0,u,v)}b.setTargetAtTime(1,u,v),m.setTargetAtTime(0,u,v)}return this._voltage.stop(p),p}},onended:{get:function(){return this._voltage.onended},set:function(u){this._voltage.onended=u}}},s=new Float32Array([1,1]);function r(u){var f=u.createBufferSource(),p=u.createBuffer(1,2,u.sampleRate);return p.getChannelData(0).set(s),f.buffer=p,f.loop=!0,f}function o(u){var f=u.context.createGain();return u.connect(f),f}function l(u){return Math.log(u+1)/Math.log(100)}function h(u,f,p,m,_){var b=f-u,v=m-p,x=_-p,y=x/v,S=u+y*b;return S<=u&&(S=u),S>=f&&(S=f),S}return Gh}var Ph,q0;function PA(){if(q0)return Ph;q0=1;var c=GA(),n={},s={gain:1,attack:.01,decay:.1,sustain:.9,release:.3,loop:!1,cents:0,loopStart:0,loopEnd:0};function r(f,p,m){var _=!1,b=0,v={},x=f.createGain();x.gain.value=1;var y=Object.assign({},s,m),S={context:f,out:x,opts:y};return p instanceof AudioBuffer?S.buffer=p:S.buffers=p,S.start=function(M,O,k){if(S.buffer&&M!==null)return S.start(null,M,O);var I=M?S.buffers[M]:S.buffer;if(I){if(!_){console.warn("SamplePlayer not connected to any node.");return}}else{console.warn("Buffer "+M+" not found.");return}var z=k||n;O=Math.max(f.currentTime,O||0),S.emit("start",O,M,z);var D=C(M,I,z);return D.id=w(M,D),D.env.start(O),D.source.start(O),S.emit("started",O,D.id,D),z.duration&&D.stop(O+z.duration),D},S.play=function(M,O,k){return S.start(M,O,k)},S.stop=function(M,O){var k;return O=O||Object.keys(v),O.map(function(I){return k=v[I],k?(k.stop(M),k.id):null})},S.connect=function(M){return _=!0,x.connect(M),S},S.emit=function(M,O,k,I){S.onevent&&S.onevent(M,O,k,I);var z=S["on"+M];z&&z(O,k,I)},S;function w(M,O){return O.id=b++,v[O.id]=O,O.source.onended=function(){var k=f.currentTime;O.source.disconnect(),O.env.disconnect(),O.disconnect(),S.emit("ended",k,O.id,O)},O.id}function C(M,O,k){var I=f.createGain();return I.gain.value=0,I.connect(x),I.env=h(f,k,y),I.env.connect(I.gain),I.source=f.createBufferSource(),I.source.buffer=O,I.source.connect(I),I.source.loop=k.loop||y.loop,I.source.playbackRate.value=u(k.cents||y.cents),I.source.loopStart=k.loopStart||y.loopStart,I.source.loopEnd=k.loopEnd||y.loopEnd,I.stop=function(z){var D=z||f.currentTime;S.emit("stop",D,M);var V=I.env.stop(D);I.source.stop(V)},I}}function o(f){return typeof f=="number"}var l=["attack","decay","sustain","release"];function h(f,p,m){var _=c(f),b=p.adsr||m.adsr;return l.forEach(function(v,x){b?_[v]=b[x]:_[v]=p[v]||m[v]}),_.value.value=o(p.gain)?p.gain:o(m.gain)?m.gain:1,_}function u(f){return f?Math.pow(2,f/1200):1}return Ph=r,Ph}var Zh,V0;function ZA(){if(V0)return Zh;V0=1,Zh=function(n){return n.on=function(s,r){if(arguments.length===1&&typeof s=="function")return n.on("event",s);var o="on"+s,l=n[o];return n[o]=l?c(l,r):r,n},n};function c(n,s){return function(r,o,l,h){n(r,o,l,h),s(r,o,l,h)}}return Zh}var Yh,L0;function YA(){if(L0)return Yh;L0=1;var c=/^([a-gA-G])(#{1,}|b{1,}|x{1,}|)(-?\d*)\s*(.*)\s*$/;function n(){return c}var s=[0,2,4,5,7,9,11];function r(u,f,p){if(typeof u!="string")return null;var m=c.exec(u);if(!m||!f&&m[4])return null;var _={letter:m[1].toUpperCase(),acc:m[2].replace(/x/g,"##")};return _.pc=_.letter+_.acc,_.step=(_.letter.charCodeAt(0)+3)%7,_.alt=_.acc[0]==="b"?-_.acc.length:_.acc.length,_.chroma=s[_.step]+_.alt,m[3]&&(_.oct=+m[3],_.midi=_.chroma+12*(_.oct+1),_.freq=o(_.midi,p)),f&&(_.tonicOf=m[4]),_}function o(u,f){return Math.pow(2,(u-69)/12)*(f||440)}var l={parse:r,regex:n,midiToFreq:o},h=["letter","acc","pc","step","alt","chroma","oct","midi","freq"];return h.forEach(function(u){l[u]=function(f){var p=r(f);return p&&typeof p[u]<"u"?p[u]:null}}),Yh=l,Yh}var Xh,F0;function XA(){if(F0)return Xh;F0=1;var c=YA(),n=function(o){return o!==null&&o!==[]&&o>=0&&o<129},s=function(o){return n(o)?+o:c.midi(o)};Xh=function(o){if(o.buffers){var l=o.opts.map,h=typeof l=="function"?l:s,u=function(p){return p?h(p)||p:null};o.buffers=r(o.buffers,u);var f=o.start;o.start=function(p,m,_){var b=u(p),v=b%1;return v&&(b=Math.floor(b),_=Object.assign(_||{},{cents:Math.floor(v*100)})),f(b,m,_)}}return o};function r(o,l){return Object.keys(o).reduce(function(h,u){return h[l(u)]=o[u],h},{})}return Xh}var Wh,H0;function WA(){if(H0)return Wh;H0=1;var c=Array.isArray,n=function(r){return r&&typeof r=="object"},s={};return Wh=function(r){return r.schedule=function(o,l){var h=r.context.currentTime,u=o<h?h:o;r.emit("schedule",u,l);var f,p,m,_;return l.map(function(b){if(b)c(b)?(f=b[0],p=b[1]):(f=b.time,p=b);else return null;return n(p)?(m=p.name||p.key||p.note||p.midi||null,_=p):(m=p,_=s),r.start(m,u+(f||0),_)})},r},Wh}var Qh={exports:{}},G0;function QA(){return G0||(G0=1,(function(c,n){(function(s){c.exports=s()})(function(){return(function s(r,o,l){function h(p,m){if(!o[p]){if(!r[p]){var _=typeof mi=="function"&&mi;if(!m&&_)return _(p,!0);if(u)return u(p,!0);var b=new Error("Cannot find module '"+p+"'");throw b.code="MODULE_NOT_FOUND",b}var v=o[p]={exports:{}};r[p][0].call(v.exports,function(x){var y=r[p][1][x];return h(y||x)},v,v.exports,s,r,o,l)}return o[p].exports}for(var u=typeof mi=="function"&&mi,f=0;f<l.length;f++)h(l[f]);return h})({1:[function(s,r,o){Object.defineProperty(o,"__esModule",{value:!0}),o.default=function(l){function h(u){if(this._event=u,this._data=u.data,this.receivedTime=u.receivedTime,this._data&&this._data.length<2){console.warn("Illegal MIDI message of length",this._data.length);return}switch(this._messageCode=u.data[0]&240,this.channel=u.data[0]&15,this._messageCode){case 128:this.messageType="noteoff",this.key=u.data[1]&127,this.velocity=u.data[2]&127;break;case 144:this.messageType="noteon",this.key=u.data[1]&127,this.velocity=u.data[2]&127;break;case 160:this.messageType="keypressure",this.key=u.data[1]&127,this.pressure=u.data[2]&127;break;case 176:this.messageType="controlchange",this.controllerNumber=u.data[1]&127,this.controllerValue=u.data[2]&127,this.controllerNumber===120&&this.controllerValue===0?this.channelModeMessage="allsoundoff":this.controllerNumber===121?this.channelModeMessage="resetallcontrollers":this.controllerNumber===122?this.controllerValue===0?this.channelModeMessage="localcontroloff":this.channelModeMessage="localcontrolon":this.controllerNumber===123&&this.controllerValue===0?this.channelModeMessage="allnotesoff":this.controllerNumber===124&&this.controllerValue===0?this.channelModeMessage="omnimodeoff":this.controllerNumber===125&&this.controllerValue===0?this.channelModeMessage="omnimodeon":this.controllerNumber===126?this.channelModeMessage="monomodeon":this.controllerNumber===127&&(this.channelModeMessage="polymodeon");break;case 192:this.messageType="programchange",this.program=u.data[1];break;case 208:this.messageType="channelpressure",this.pressure=u.data[1]&127;break;case 224:this.messageType="pitchbendchange";var f=u.data[2]&127,p=u.data[1]&127;this.pitchBend=(f<<8)+p;break}}return new h(l)},r.exports=o.default},{}]},{},[1])(1)})})(Qh)),Qh.exports}var Kh,P0;function KA(){if(P0)return Kh;P0=1;var c=QA();return Kh=function(n){return n.listenToMidi=function(s,r){var o={},l=r||{},h=l.gain||function(u){return u/127};return s.onmidimessage=function(u){var f=u.messageType?u:c(u);if(f.messageType==="noteon"&&f.velocity===0&&(f.messageType="noteoff"),!(l.channel&&f.channel!==l.channel))switch(f.messageType){case"noteon":o[f.key]=n.play(f.key,0,{gain:h(f.velocity)});break;case"noteoff":o[f.key]&&(o[f.key].stop(),delete o[f.key]);break}},n},n},Kh}var Z0;function JA(){return Z0||(Z0=1,(function(c){var n=PA(),s=ZA(),r=XA(),o=WA(),l=KA();function h(u,f,p){return l(o(r(s(n(u,f,p)))))}c.exports&&(c.exports=h),typeof window<"u"&&(window.SamplePlayer=h)})(Hh)),Hh.exports}function Y0(c,n){return Array(n+1).join(c)}function ed(c){return typeof c=="number"}function $A(c){return typeof c=="string"}function tN(c){return typeof c<"u"}function _v(c,n){return Math.pow(2,(c-69)/12)*(n||440)}var vv=/^([a-gA-G])(#{1,}|b{1,}|x{1,}|)(-?\d*)\s*(.*)\s*$/;function eN(){return vv}var nN=[0,2,4,5,7,9,11];function Gs(c,n,s){if(typeof c!="string")return null;var r=vv.exec(c);if(!r||!n&&r[4])return null;var o={letter:r[1].toUpperCase(),acc:r[2].replace(/x/g,"##")};o.pc=o.letter+o.acc,o.step=(o.letter.charCodeAt(0)+3)%7,o.alt=o.acc[0]==="b"?-o.acc.length:o.acc.length;var l=nN[o.step]+o.alt;return o.chroma=l<0?12+l:l%12,r[3]&&(o.oct=+r[3],o.midi=l+12*(o.oct+1),o.freq=_v(o.midi,s)),n&&(o.tonicOf=r[4]),o}var sN="CDEFGAB";function iN(c){return ed(c)?c<0?Y0("b",-c):Y0("#",c):""}function rN(c){return ed(c)?""+c:""}function yv(c,n,s){return c===null||typeof c>"u"?null:c.step?yv(c.step,c.alt,c.oct):c<0||c>6?null:sN.charAt(c)+iN(n)+rN(s)}function bv(c){if((ed(c)||$A(c))&&c>=0&&c<128)return+c;var n=Gs(c);return n&&tN(n.midi)?n.midi:null}function aN(c,n){var s=bv(c);return s===null?null:_v(s,n)}function oN(c){return(Gs(c)||{}).letter}function lN(c){return(Gs(c)||{}).acc}function cN(c){return(Gs(c)||{}).pc}function uN(c){return(Gs(c)||{}).step}function hN(c){return(Gs(c)||{}).alt}function fN(c){return(Gs(c)||{}).chroma}function dN(c){return(Gs(c)||{}).oct}const pN=Object.freeze(Object.defineProperty({__proto__:null,acc:lN,alt:hN,build:yv,chroma:fN,freq:aN,letter:oN,midi:bv,oct:dN,parse:Gs,pc:cN,regex:eN,step:uN},Symbol.toStringTag,{value:"Module"})),mN=$0(pN);var Jh,X0;function gN(){if(X0)return Jh;X0=1;var c=mN;function n(o,l){if(console.warn("new Soundfont() is deprected"),console.log("Please use Soundfont.instrument() instead of new Soundfont().instrument()"),!(this instanceof n))return new n(o);this.nameToUrl=l||n.nameToUrl,this.ctx=o,this.instruments={},this.promises=[]}n.prototype.onready=function(o){console.warn("deprecated API"),console.log("Please use Promise.all(Soundfont.instrument(), Soundfont.instrument()).then() instead of new Soundfont().onready()"),Promise.all(this.promises).then(o)},n.prototype.instrument=function(o,l){console.warn("new Soundfont().instrument() is deprecated."),console.log("Please use Soundfont.instrument() instead.");var h=this.ctx;if(o=o||"default",o in this.instruments)return this.instruments[o];var u={name:o,play:r(h,l)};if(this.instruments[o]=u,o!=="default"){var f=n.instrument(h,o,l).then(function(p){return u.play=p.play,u});this.promises.push(f),u.onready=function(p){console.warn("onready is deprecated. Use Soundfont.instrument().then()"),f.then(p)}}else u.onready=function(p){console.warn("onready is deprecated. Use Soundfont.instrument().then()"),p()};return u};function s(o,l,h){return console.warn("Soundfont.loadBuffers is deprecate."),console.log("Use Soundfont.instrument(..) and get buffers properties from the result."),n.instrument(o,l,h).then(function(u){return u.buffers})}n.loadBuffers=s;function r(o,l){return l=l||{},function(h,u,f,p){console.warn("The oscillator player is deprecated."),console.log("Starting with version 0.9.0 you will have to wait until the soundfont is loaded to play sounds.");var m=h>0&&h<129?+h:c.midi(h),_=m?c.midiToFreq(m,440):null;if(_){f=f||.2,p=p||{};var b=p.destination||l.destination||o.destination,v=p.vcoType||l.vcoType||"sine",x=p.gain||l.gain||.4,y=o.createOscillator();y.type=v,y.frequency.value=_;var S=o.createGain();return S.gain.value=x,y.connect(S),S.connect(b),y.start(u),f>0&&y.stop(u+f),y}}}return n.noteToMidi=c.midi,Jh=n,Jh}var W0;function _N(){return W0||(W0=1,(function(c){var n=HA(),s=JA();function r(u,f,p){if(arguments.length===1)return function(x,y){return r(u,x,y)};var m=p||{},_=m.isSoundfontURL||o,b=m.nameToUrl||l,v=_(f)?f:b(f,m.soundfont,m.format);return n(u,v,{only:m.only||m.notes}).then(function(x){var y=s(u,x,m).connect(m.destination?m.destination:u.destination);return y.url=v,y.name=f,y})}function o(u){return/\.js(\?.*)?$/i.test(u)}function l(u,f,p){return p=p==="ogg"?p:"mp3",f=f==="FluidR3_GM"?f:"MusyngKite","https://gleitz.github.io/midi-js-soundfonts/"+f+"/"+u+"-"+p+".js"}var h=gN();h.instrument=r,h.nameToUrl=l,c.exports&&(c.exports=h),typeof window<"u"&&(window.Soundfont=h)})(qh)),qh.exports}var vN=_N();const yN=tc(vN),bN=[{key:"Space",description:"Play / Pause"},{key:"Shift + Wheel",description:"Piano Roll Horizontal Scroll"},{key:"Ctrl + Wheel",description:"Piano Roll Horizontal Zoom"},{key:"Alt + Wheel",description:"Piano Roll Vertical Zoom"}],xN=()=>{const[c,n]=_t.useState(!1),s=_t.useRef(null);return _t.useEffect(()=>{const r=o=>{s.current&&!s.current.contains(o.target)&&n(!1)};return c&&document.addEventListener("mousedown",r),()=>{document.removeEventListener("mousedown",r)}},[c]),E.jsxs("div",{className:"relative",ref:s,children:[E.jsx("button",{onClick:()=>n(!c),className:`p-2 rounded-full transition-colors ${c?"bg-surface text-primary":"text-muted hover:text-text hover:bg-surface"}`,title:"Keyboard Shortcuts",children:E.jsx(hA,{className:"w-5 h-5"})}),c&&E.jsx("div",{className:"absolute right-0 top-full mt-2 w-80 bg-surface border border-border rounded-xl shadow-xl z-50 animate-in fade-in zoom-in-95 duration-200",children:E.jsxs("div",{className:"p-4",children:[E.jsx("h3",{className:"font-semibold mb-3 text-lg",children:"Keyboard Shortcuts"}),E.jsx("div",{className:"space-y-3",children:bN.map((r,o)=>E.jsxs("div",{className:"flex justify-between items-center text-sm",children:[E.jsx("span",{className:"font-mono bg-background px-2 py-1 rounded border border-border text-xs text-primary",children:r.key}),E.jsx("span",{className:"text-muted",children:r.description})]},o))})]})})]})},SN=()=>E.jsx("header",{className:"glass-header mb-8",children:E.jsxs("div",{className:"container mx-auto px-4 h-16 flex items-center justify-between",children:[E.jsxs("div",{className:"flex items-center gap-3",children:[E.jsx("div",{className:"p-2 bg-primary/10 rounded-lg",children:E.jsx(ro,{className:"w-6 h-6 text-primary"})}),E.jsxs("h1",{className:"text-xl font-bold bg-gradient-to-r from-primary to-accent bg-clip-text text-transparent",children:["ConcertAI HUB ",E.jsx("span",{className:"text-sm font-medium text-muted ml-2",children:"ver.4.0"})]})]}),E.jsx("div",{className:"flex items-center gap-4",children:E.jsx(xN,{})})]})}),wN=({onMidiUpload:c})=>{const n=async l=>{if(l)try{const h=await l.arrayBuffer(),u=new Ye.Midi(h);c(u)}catch(h){console.error("Error parsing MIDI:",h)}},s=l=>{n(l.target.files[0])},r=l=>{l.preventDefault(),l.stopPropagation();const h=l.dataTransfer.files[0];h&&(h.name.endsWith(".mid")||h.name.endsWith(".midi"))&&n(h)},o=l=>{l.preventDefault(),l.stopPropagation()};return E.jsx("div",{className:"p-10 border-2 border-dashed border-border rounded-xl bg-surface/30 hover:bg-surface/50 transition-colors group cursor-pointer h-full flex flex-col items-center justify-center",onDrop:r,onDragOver:o,children:E.jsxs("div",{className:"flex flex-col items-center justify-center gap-6 text-center max-w-md",children:[E.jsx("div",{className:"p-4 bg-primary/10 rounded-full group-hover:scale-110 transition-transform duration-300",children:E.jsx(RA,{className:"w-10 h-10 text-primary"})}),E.jsxs("div",{children:[E.jsx("h3",{className:"text-2xl font-semibold mb-2",children:"Upload MIDI File"}),E.jsx("p",{className:"text-base text-muted",children:"Drag and drop or click to browse"})]}),E.jsxs("div",{className:"flex items-center gap-4 w-full",children:[E.jsxs("label",{className:"flex-1",children:[E.jsx("input",{type:"file",hidden:!0,accept:".mid,.midi",onChange:s}),E.jsxs("div",{className:"btn-primary w-full cursor-pointer flex items-center justify-center gap-2 py-3",children:[E.jsx(ro,{className:"w-5 h-5"}),E.jsx("span",{children:"Select File"})]})]}),E.jsx("span",{className:"text-sm text-muted font-medium",children:"OR"}),E.jsx("button",{className:"btn-secondary flex-1 py-3",children:"Sample"})]})]})})},TN=({selectedModel:c,setSelectedModel:n,modelInfo:s,debugMode:r})=>{const[o,l]=_t.useState(!1),h=_t.useMemo(()=>s?Object.values(s):[],[s]);_t.useEffect(()=>{h.length>0&&!c&&n(h[0].model_name)},[h,n]);const u=p=>{n(p),l(!1)},f=_t.useMemo(()=>h.find(p=>p.model_name===c),[h,c]);return E.jsxs("div",{className:"w-full",children:[r&&E.jsxs("div",{className:"border border-dashed border-red-500 p-2 mb-2 text-xs font-mono whitespace-pre-wrap break-all",children:[E.jsx("div",{className:"font-bold",children:"DEBUG INFO"}),`modelInfo prop: ${JSON.stringify(s)}
`,`models array (internal): ${JSON.stringify(h.map(p=>p.model_name))}
`,`selectedModel prop: ${c}
`,`selectedModelObject (internal): ${f?f.model_name:"undefined"}`]}),f?E.jsxs("div",{children:[E.jsx("div",{className:"text-xs font-medium text-muted uppercase tracking-wider mb-1.5",children:"Model"}),E.jsxs("button",{onClick:()=>l(!0),className:"w-full p-4 text-left bg-surface border border-border rounded-lg hover:bg-surface/80 transition-colors group relative",children:[E.jsx("div",{className:"font-bold text-lg group-hover:text-primary transition-colors",children:f.model_name}),E.jsx("div",{className:"text-sm text-muted mt-1",children:f.description}),E.jsxs("div",{className:"text-xs text-muted mt-2 pt-2 border-t border-border/50",children:["Instruments: ",Array.isArray(f?.tag?.instruments)?f.tag.instruments.join(", "):f?.tag?.instruments]}),E.jsx(rA,{className:"absolute right-4 top-1/2 -translate-y-1/2 w-5 h-5 text-muted group-hover:text-primary transition-colors"})]})]}):E.jsx("div",{className:"text-muted animate-pulse",children:"Loading models..."}),o&&E.jsxs("div",{className:"fixed inset-0 z-[100] flex justify-end",children:[E.jsx("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-sm animate-in fade-in duration-200",onClick:()=>l(!1)}),E.jsxs("div",{className:"relative w-full max-w-md bg-background border-l border-border shadow-2xl h-full overflow-y-auto animate-in slide-in-from-right duration-300",children:[E.jsxs("div",{className:"sticky top-0 bg-background/95 backdrop-blur border-b border-border p-4 flex items-center justify-between z-10",children:[E.jsx("h2",{className:"text-xl font-bold",children:"Select a Model"}),E.jsx("button",{onClick:()=>l(!1),className:"p-2 hover:bg-surface rounded-full transition-colors",children:E.jsx(td,{className:"w-5 h-5"})})]}),E.jsx("div",{className:"p-4 space-y-3",children:h.map(p=>E.jsxs("button",{onClick:()=>u(p.model_name),className:`w-full p-4 text-left border rounded-lg transition-all duration-200 ${c===p.model_name?"bg-primary/10 border-primary ring-1 ring-primary":"bg-surface border-border hover:border-primary/50 hover:bg-surface/80"}`,children:[E.jsx("div",{className:`font-bold ${c===p.model_name?"text-primary":"text-text"}`,children:p.model_name}),E.jsx("div",{className:"text-sm text-muted mt-1",children:p.description}),E.jsxs("div",{className:"text-xs text-muted mt-2",children:["Instruments: ",Array.isArray(p?.tag?.instruments)?p.tag.instruments.join(", "):p?.tag?.instruments]})]},p.model_name))})]})]})]})},Q0=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"],K0=["M","m"],xv=({open:c,onClose:n,onSave:s,currentKey:r})=>{const[o,l]=_t.useState("C"),[h,u]=_t.useState("M");_t.useEffect(()=>{if(c&&r){const[m,_]=r.split(" ");Q0.includes(m)&&l(m),K0.includes(_)&&u(_)}},[c,r]);const f=()=>{s(`${o} ${h}`),n()};if(!c)return null;const p=({items:m,selected:_,onChange:b})=>E.jsx("div",{className:"flex flex-wrap justify-center gap-2 mb-4",children:m.map(v=>E.jsx("button",{onClick:()=>b(v),className:`px-3 py-1.5 rounded-md text-sm font-medium transition-all duration-200 ${_===v?"bg-primary text-white shadow-lg shadow-primary/25":"bg-surface border border-border text-text hover:bg-surface/80 hover:border-primary/50"}`,children:v},v))});return E.jsxs("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4",children:[E.jsx("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-sm animate-in fade-in duration-200",onClick:n}),E.jsxs("div",{className:"relative w-full max-w-md bg-background border border-border rounded-xl shadow-2xl overflow-hidden animate-in zoom-in-95 duration-200 flex flex-col",children:[E.jsxs("div",{className:"p-4 border-b border-border flex items-center justify-between bg-surface/30",children:[E.jsx("h2",{className:"text-xl font-bold",children:"Select Key"}),E.jsx("button",{onClick:n,className:"p-2 hover:bg-surface rounded-full transition-colors",children:E.jsx(td,{className:"w-5 h-5"})})]}),E.jsxs("div",{className:"p-6",children:[E.jsx("div",{className:"mb-6 p-4 bg-surface border border-border rounded-lg text-center",children:E.jsxs("div",{className:"text-4xl font-bold text-primary",children:[o," ",h]})}),E.jsxs("div",{className:"space-y-6",children:[E.jsxs("div",{children:[E.jsx("h3",{className:"text-sm font-medium text-muted uppercase tracking-wider mb-3 text-center",children:"Root"}),E.jsx(p,{items:Q0,selected:o,onChange:l})]}),E.jsxs("div",{children:[E.jsx("h3",{className:"text-sm font-medium text-muted uppercase tracking-wider mb-3 text-center",children:"Scale"}),E.jsx(p,{items:K0,selected:h,onChange:u})]})]})]}),E.jsxs("div",{className:"p-4 border-t border-border bg-surface/30 flex justify-end gap-3",children:[E.jsx("button",{onClick:n,className:"btn-secondary",children:"Cancel"}),E.jsx("button",{onClick:f,className:"btn-primary",children:"Save Key"})]})]})]})},AN=({instrument:c,setInstrument:n,tempo:s,setTempo:r,selectedModel:o,setSelectedModel:l,modelInfo:h,debugMode:u,keySelection:f,setKey:p,selectedInstruments:m,setSelectedInstruments:_,densities:b,setDensities:v})=>{const[x,y]=_t.useState(!0),[S,w]=_t.useState(!1),C=h?h.find(D=>D.model_name===o):null,M=C?.tag?.instruments?Array.isArray(C.tag.instruments)?C.tag.instruments:[C.tag.instruments]:[],O=C?.rule?.gen_note_dense===!0;_t.useEffect(()=>{M.length>0?_([M[0]]):_([])},[o,h]),_t.useEffect(()=>{if(O){const D={...b};let V=!1;m.forEach(Z=>{D[Z]===void 0&&(D[Z]=4,V=!0)}),V&&v(D)}},[m,O]);const k=D=>{m.includes(D)?_(m.filter(V=>V!==D)):_([...m,D])},I=(D,V)=>{v(Z=>({...Z,[D]:parseInt(V)}))},z=D=>{const V=D.target.value;(V===""||Number.isInteger(Number(V))&&V>=0)&&r(V)};return E.jsxs("div",{className:"border border-border rounded-xl overflow-hidden bg-surface/30",children:[E.jsxs("button",{onClick:()=>y(!x),className:"w-full px-4 py-3 flex items-center justify-between bg-surface/50 hover:bg-surface transition-colors",children:[E.jsxs("div",{className:"flex items-center gap-2 font-medium",children:[E.jsx(mv,{className:"w-4 h-4 text-primary"}),E.jsx("span",{children:"Basic Settings"})]}),x?E.jsx(dv,{className:"w-4 h-4 text-muted"}):E.jsx($f,{className:"w-4 h-4 text-muted"})]}),x&&E.jsxs("div",{className:"p-4 space-y-4 border-t border-border",children:[E.jsx(TN,{selectedModel:o,setSelectedModel:l,modelInfo:h,debugMode:u}),E.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[E.jsxs("div",{className:"space-y-1.5",children:[E.jsx("label",{className:"text-sm font-medium text-muted",children:"Tempo (BPM)"}),E.jsx("input",{type:"number",value:s,onChange:z,min:"0",className:"input-field"})]}),E.jsxs("div",{className:"space-y-1.5",children:[E.jsx("label",{className:"text-sm font-medium text-muted",children:"Key"}),E.jsxs("button",{onClick:()=>w(!0),className:"w-full p-2.5 bg-surface border border-border rounded-lg text-left hover:bg-surface/80 transition-colors flex items-center justify-between",children:[E.jsx("span",{className:"font-medium",children:f}),E.jsx(ro,{className:"w-4 h-4 text-muted"})]})]})]}),M.length>0&&E.jsxs("div",{className:"space-y-2",children:[E.jsx("label",{className:"text-sm font-medium text-muted",children:"Generate Instruments"}),E.jsx("div",{className:"flex flex-wrap gap-2",children:M.map(D=>E.jsx("button",{onClick:()=>k(D),className:`px-3 py-1.5 rounded-md text-sm font-medium transition-all duration-200 ${m.includes(D)?"bg-primary text-white shadow-lg shadow-primary/25":"bg-surface border border-border text-text hover:bg-surface/80 hover:border-primary/50"}`,children:D},D))})]}),O&&m.length>0&&E.jsxs("div",{className:"space-y-3 pt-2 border-t border-border",children:[E.jsx("label",{className:"text-sm font-medium text-muted",children:"Note Density (1-8)"}),E.jsx("div",{className:"space-y-2",children:m.map(D=>E.jsxs("div",{className:"space-y-1",children:[E.jsxs("div",{className:"flex justify-between items-center text-xs",children:[E.jsx("span",{className:"font-mono text-primary",children:D}),E.jsx("span",{className:"font-mono text-muted",children:b[D]||4})]}),E.jsx("input",{type:"range",min:"1",max:"8",step:"1",value:b[D]||4,onChange:V=>I(D,V.target.value),className:"w-full h-1.5 bg-surface rounded-lg appearance-none cursor-pointer accent-primary"})]},D))})]})]}),E.jsx(xv,{open:S,onClose:()=>w(!1),onSave:p,currentKey:f})]})},nd=({temperature:c,setTemperature:n,p:s,setP:r,numGems:o,setNumGems:l,rules:h})=>{const[u,f]=_t.useState(!1);return E.jsxs("div",{className:"border border-border rounded-xl overflow-hidden bg-surface/30",children:[E.jsxs("button",{onClick:()=>f(!u),className:"w-full px-4 py-3 flex items-center justify-between bg-surface/50 hover:bg-surface transition-colors",children:[E.jsxs("div",{className:"flex items-center gap-2 font-medium",children:[E.jsx(NA,{className:"w-4 h-4 text-primary"}),E.jsx("span",{children:"Advanced Settings"})]}),u?E.jsx(dv,{className:"w-4 h-4 text-muted"}):E.jsx($f,{className:"w-4 h-4 text-muted"})]}),u&&E.jsxs("div",{className:"p-4 space-y-6 border-t border-border",children:[(!h||h.temperature!==!1)&&E.jsxs("div",{className:"space-y-3",children:[E.jsxs("div",{className:"flex justify-between items-center",children:[E.jsx("label",{className:"text-sm font-medium text-muted",children:"Temperature"}),E.jsx("span",{className:"text-xs font-mono bg-surface px-2 py-1 rounded border border-border",children:c})]}),E.jsx("input",{type:"range",min:"0.1",max:"1.5",step:"0.05",value:c,onChange:p=>n(parseFloat(p.target.value)),className:"w-full h-2 bg-surface rounded-lg appearance-none cursor-pointer accent-primary"})]}),(!h||h.top_p!==!1)&&E.jsxs("div",{className:"space-y-3",children:[E.jsxs("div",{className:"flex justify-between items-center",children:[E.jsx("label",{className:"text-sm font-medium text-muted",children:"Top-p"}),E.jsx("span",{className:"text-xs font-mono bg-surface px-2 py-1 rounded border border-border",children:s})]}),E.jsx("input",{type:"range",min:"0.8",max:"1.0",step:"0.01",value:s,onChange:p=>r(parseFloat(p.target.value)),className:"w-full h-2 bg-surface rounded-lg appearance-none cursor-pointer accent-primary"})]}),(!h||h.number_of_generation!==!1)&&E.jsxs("div",{className:"space-y-3",children:[E.jsxs("div",{className:"flex justify-between items-center",children:[E.jsx("label",{className:"text-sm font-medium text-muted",children:"Number of Gems"}),E.jsx("span",{className:"text-xs font-mono bg-surface px-2 py-1 rounded border border-border",children:o})]}),E.jsx("input",{type:"range",min:"1",max:"8",step:"1",value:o,onChange:p=>l(parseInt(p.target.value)),className:"w-full h-2 bg-surface rounded-lg appearance-none cursor-pointer accent-primary"})]})]})]})},NN=({onPlay:c,onPause:n,onStop:s,onGenerate:r,isGenerating:o,playbackState:l,progress:h,duration:u,generatedMidis:f,selectedGeneratedMidi:p,onSelectedGeneratedMidiChange:m})=>E.jsxs("div",{className:"space-y-6",children:[E.jsxs("div",{className:"flex items-center gap-4 flex-wrap",children:[E.jsxs("div",{className:"flex items-center gap-2 bg-surface border border-border rounded-lg p-1",children:[E.jsx("button",{onClick:c,disabled:l==="playing",className:`p-2 rounded-md transition-colors ${l==="playing"?"text-primary bg-primary/10":"text-text hover:bg-white/5 disabled:opacity-50 disabled:cursor-not-allowed"}`,title:"Play",children:E.jsx(Vr,{className:"w-5 h-5 fill-current"})}),E.jsx("button",{onClick:n,disabled:l!=="playing",className:`p-2 rounded-md transition-colors ${l==="paused"?"text-primary bg-primary/10":"text-text hover:bg-white/5 disabled:opacity-50 disabled:cursor-not-allowed"}`,title:"Pause",children:E.jsx(Jl,{className:"w-5 h-5 fill-current"})}),E.jsx("button",{onClick:s,disabled:l==="stopped",className:"p-2 rounded-md transition-colors text-text hover:bg-white/5 disabled:opacity-50 disabled:cursor-not-allowed",title:"Stop",children:E.jsx(gv,{className:"w-5 h-5 fill-current"})})]}),E.jsx("button",{onClick:r,disabled:o,className:"btn-primary flex items-center gap-2 min-w-[120px] justify-center",children:o?E.jsx(pv,{className:"w-5 h-5 animate-spin"}):"Generate"}),f.length>1&&E.jsxs("div",{className:"relative min-w-[160px]",children:[E.jsx("select",{value:p,onChange:_=>m(Number(_.target.value)),className:"input-field appearance-none cursor-pointer",children:f.map((_,b)=>E.jsxs("option",{value:b,children:["Variation ",b+1]},b))}),E.jsx($f,{className:"absolute right-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted pointer-events-none"})]})]}),E.jsxs("div",{className:"space-y-2",children:[E.jsxs("div",{className:"flex justify-between text-xs text-muted font-medium uppercase tracking-wider",children:[E.jsx("span",{children:"Playback Progress"}),E.jsxs("span",{children:[Math.floor(h*100),"%"]})]}),E.jsx("div",{className:"relative h-2 bg-surface border border-border rounded-full overflow-hidden",children:E.jsx("div",{className:"absolute top-0 left-0 h-full bg-primary transition-all duration-100 ease-linear",style:{width:`${h*100}%`}})})]})]}),kN=["C","C#","D","D#","E","E#","F","F#","G","G#","A","A#","B","Cb","Db","Eb","Fb","Gb","Ab","Bb"],CN=["/C","/C#","/D","/D#","/E","/E#","/F","/F#","/G","/G#","/A","/A#","/B","/B#","/Db","/Eb","/Fb","/Gb","/Ab","/Bb","/Cb","None"],EN=["None","m","7","maj7","m7","dim","aug","m7b5","b5","sus2","sus4","6","m6","9","maj9","m9","11","13","add9"],ON=({open:c,onClose:n,onSave:s,chord:r})=>{const[o,l]=_t.useState("C"),[h,u]=_t.useState("None"),[f,p]=_t.useState("None");_t.useEffect(()=>{c&&(l(r?.root||"C"),u(r?.quality||"None"),p(r?.base||"None"))},[c,r]);const m=()=>{s({root:o,quality:h,base:f}),n()},_=()=>`${o}${h==="None"?"":h}${f==="None"?"":f}`;if(!c)return null;const b=({items:v,selected:x,onChange:y})=>E.jsx("div",{className:"flex flex-wrap justify-center gap-2 mb-4",children:v.map(S=>E.jsx("button",{onClick:()=>y(S),className:`px-3 py-1.5 rounded-md text-sm font-medium transition-all duration-200 ${x===S?"bg-primary text-white shadow-lg shadow-primary/25":"bg-surface border border-border text-text hover:bg-surface/80 hover:border-primary/50"}`,children:S},S))});return E.jsxs("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4",children:[E.jsx("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-sm animate-in fade-in duration-200",onClick:n}),E.jsxs("div",{className:"relative w-full max-w-2xl bg-background border border-border rounded-xl shadow-2xl overflow-hidden animate-in zoom-in-95 duration-200 max-h-[90vh] flex flex-col",children:[E.jsxs("div",{className:"p-4 border-b border-border flex items-center justify-between bg-surface/30",children:[E.jsx("h2",{className:"text-xl font-bold",children:"Select Chord"}),E.jsx("button",{onClick:n,className:"p-2 hover:bg-surface rounded-full transition-colors",children:E.jsx(td,{className:"w-5 h-5"})})]}),E.jsxs("div",{className:"p-6 overflow-y-auto",children:[E.jsx("div",{className:"mb-6 p-4 bg-surface border border-border rounded-lg text-center",children:E.jsx("div",{className:"text-4xl font-bold text-primary",children:_()})}),E.jsxs("div",{className:"space-y-6",children:[E.jsxs("div",{children:[E.jsx("h3",{className:"text-sm font-medium text-muted uppercase tracking-wider mb-3 text-center",children:"Roots"}),E.jsx(b,{items:kN,selected:o,onChange:l})]}),E.jsxs("div",{children:[E.jsx("h3",{className:"text-sm font-medium text-muted uppercase tracking-wider mb-3 text-center",children:"Qualities"}),E.jsx(b,{items:EN,selected:h,onChange:u})]}),E.jsxs("div",{children:[E.jsx("h3",{className:"text-sm font-medium text-muted uppercase tracking-wider mb-3 text-center",children:"Bases"}),E.jsx(b,{items:CN,selected:f,onChange:p})]})]})]}),E.jsxs("div",{className:"p-4 border-t border-border bg-surface/30 flex justify-end gap-3",children:[E.jsx("button",{onClick:n,className:"btn-secondary",children:"Cancel"}),E.jsx("button",{onClick:m,className:"btn-primary",children:"Save Chord"})]})]})]})},MN=50,DN=({totalMeasures:c,pixelsPerMeasure:n,onChordsChange:s})=>{const[r,o]=_t.useState({}),[l,h]=_t.useState(!1),[u,f]=_t.useState(null),p=(v,x)=>{f(`${v}-${x}`),h(!0)},m=()=>{h(!1),f(null)},_=v=>{const x={...r,[u]:v};o(x),s&&s(x)},b=v=>{if(!v)return"";const x=v.quality==="None"?"":v.quality,y=v.base==="None"?"":v.base;return`${v.root}${x}${y}`};return E.jsxs("div",{children:[E.jsx("div",{className:"flex relative bg-background border-b border-border",style:{width:`${c*n}px`,height:`${MN}px`},children:Array.from({length:c}).map((v,x)=>E.jsx("div",{className:"h-full border-r border-border flex",style:{width:`${n}px`},children:Array.from({length:4}).map((y,S)=>E.jsx("div",{onDoubleClick:()=>p(x,S),className:`
                                    h-full flex items-center justify-center cursor-pointer transition-colors
                                    ${S<3?"border-r border-border/30 border-dashed":""}
                                    ${r[`${x}-${S}`]?"bg-primary/20 hover:bg-primary/30":"hover:bg-surface"}
                                `,style:{width:`${n/4}px`},children:E.jsx("span",{className:"text-xs font-medium text-text select-none",children:b(r[`${x}-${S}`])})},S))},x))}),E.jsx(ON,{open:l,onClose:m,onSave:_,chord:r[u]})]})},RN=30,jN=({note:c,pixelsPerSecond:n,verticalZoom:s})=>{const r=20*s,o=(127-c.midi)*r,l=c.time*n,h=c.duration*n;return E.jsx("div",{className:"absolute bg-primary rounded-sm z-10 flex items-center justify-center overflow-hidden shadow-sm border border-white/10",style:{top:`${o}px`,left:`${l}px`,width:`${h}px`,height:`${r-1}px`},children:h>20&&E.jsx("span",{className:"text-[10px] text-white font-medium select-none truncate px-1",children:c.name})})},$l=_t.forwardRef(({midiData:c,progress:n,duration:s,generationLength:r,setGenerationLength:o,onSeek:l,onChordsChange:h,onMute:u,onSolo:f,onDelete:p,onClear:m,trackMutes:_,trackSolos:b,selectionEnabled:v=!0},x)=>{const[y,S]=_t.useState([0,0]),[w,C]=_t.useState(1),[M,O]=_t.useState(1),[k,I]=_t.useState({}),[z,D]=_t.useState(0);_t.useEffect(()=>{h&&h(k)},[k,h]),_t.useEffect(()=>{D(0)},[c]);const V=80*w,Z=20*M,R=c?.tracks?.[z]?.notes||[],W=_?_[z]:!1,T=b?b[z]:!1,K=c?.header?.tempos?.[0]?.bpm||120,H=c?.header?.timeSignatures?.[0]?.timeSignature||[4,4],G=60/K*H[0],ut=G*V,Y=s,U=Y>0?Math.ceil(Y/G):12,B=Math.max(U,96),F=B*ut,lt=128*Z,ot=n*Y*V,tt=_t.useRef(null);_t.useImperativeHandle(x,()=>({getSelectedNotes:()=>{if(!c||y[0]===0&&y[1]===0)return[];const st=y[0]*G,bt=(y[1]+1)*G;return R.filter(kt=>kt.time>=st&&kt.time<bt)},getPastNotes:(st=8)=>{if(!c||y[0]===0&&y[1]===0)return[];const bt=y[0]*G,At=Math.max(0,(y[0]-st)*G);return R.filter(kt=>kt.time>=At&&kt.time<bt)},getFutureNotes:(st=8)=>{if(!c||y[0]===0&&y[1]===0)return[];const bt=(y[1]+1)*G,At=(y[1]+1+st)*G;return R.filter(kt=>kt.time>=bt&&kt.time<At)},getSelectedRange:()=>y,getSelectedTrackIndex:()=>z})),_t.useEffect(()=>{const st=tt.current,bt=At=>{if(At.preventDefault(),At.ctrlKey){const kt=At.deltaY>0?.9:1.1;C(Xt=>Math.max(.1,Math.min(Xt*kt,5)))}else if(At.altKey){const kt=At.deltaY>0?.9:1.1;O(Xt=>Math.max(.1,Math.min(Xt*kt,5)))}else At.shiftKey?st.scrollLeft+=At.deltaY:st.scrollTop+=At.deltaY};return st&&st.addEventListener("wheel",bt,{passive:!1}),()=>{st&&st.removeEventListener("wheel",bt)}},[]),_t.useEffect(()=>{if(c&&tt.current&&R.length>0){const st=Math.min(...R.map(A=>A.midi)),kt=(127-(Math.max(...R.map(A=>A.midi))+st)/2)*Z,Xt=tt.current.clientHeight,se=kt-Xt/2;tt.current.scrollTop=se}},[c,M,Z,z]);const yt=st=>{const bt=st.currentTarget.getBoundingClientRect(),kt=(st.clientX-bt.left)/V;l&&l(kt)},Ot=st=>{if(v)if(y[0]===0&&y[1]===0)S([st,st]);else if(st>=y[0]&&st<=y[1])S([0,0]);else{const bt=Math.min(y[0],st),At=Math.max(y[1],st);S([bt,At])}};return E.jsxs("div",{className:"flex flex-col h-full p-4",children:[E.jsxs("div",{className:"flex items-center gap-6 mb-4",children:[E.jsxs("div",{className:"flex items-center gap-3",children:[E.jsx("span",{className:"text-sm font-medium text-muted",children:"H-Zoom"}),E.jsx("input",{type:"range",min:"0.1",max:"5",step:"0.1",value:w,onChange:st=>C(parseFloat(st.target.value)),className:"w-32 h-2 bg-surface rounded-lg appearance-none cursor-pointer accent-primary"})]}),E.jsxs("div",{className:"flex items-center gap-3",children:[E.jsx("span",{className:"text-sm font-medium text-muted",children:"V-Zoom"}),E.jsx("input",{type:"range",min:"0.1",max:"5",step:"0.1",value:M,onChange:st=>O(parseFloat(st.target.value)),className:"w-32 h-2 bg-surface rounded-lg appearance-none cursor-pointer accent-primary"})]}),c&&c.tracks.length>0&&E.jsxs(E.Fragment,{children:[E.jsxs("div",{className:"flex items-center gap-3",children:[E.jsx("span",{className:"text-sm font-medium text-muted",children:"Track"}),E.jsx("select",{value:z,onChange:st=>D(parseInt(st.target.value)),className:"bg-surface text-text border border-border rounded px-2 py-1 text-sm focus:outline-none focus:border-primary",children:c.tracks.map((st,bt)=>E.jsxs("option",{value:bt,children:[bt+1,": ",st.name||st.instrument.name||`Track ${bt+1}`]},bt))})]}),E.jsxs("div",{className:"flex items-center gap-2 border-l border-border pl-4",children:[E.jsx("button",{onClick:()=>u&&u(z),className:`p-2 rounded hover:bg-surface transition-colors ${W?"text-red-500":"text-muted"}`,title:W?"Unmute Track":"Mute Track",children:W?E.jsx(BA,{size:18}):E.jsx(zA,{size:18})}),E.jsx("button",{onClick:()=>f&&f(z),className:`p-2 rounded hover:bg-surface transition-colors ${T?"text-yellow-500":"text-muted"}`,title:T?"Unsolo Track":"Solo Track",children:E.jsx("span",{className:"font-bold text-sm",children:"S"})}),E.jsx("button",{onClick:()=>p&&p(z),className:"p-2 rounded hover:bg-red-500/20 text-muted hover:text-red-500 transition-colors",title:"Delete Track",children:E.jsx(MA,{size:18})})]})]}),E.jsxs("div",{className:"ml-auto",children:[E.jsxs("button",{onClick:m,className:"flex items-center gap-2 px-3 py-1.5 bg-surface hover:bg-surface/80 text-text rounded border border-border transition-colors text-sm",title:"Clear All",children:[E.jsx(wA,{size:14}),E.jsx("span",{children:"Clear"})]}),E.jsx("button",{onClick:()=>{if(c){const st=new Blob([c.toArray()],{type:"audio/midi"}),bt=URL.createObjectURL(st),At=document.createElement("a");At.href=bt,At.download="output.mid",document.body.appendChild(At),At.click(),document.body.removeChild(At),URL.revokeObjectURL(bt)}},className:"flex items-center gap-2 px-3 py-1.5 bg-surface hover:bg-surface/80 text-text rounded border border-border transition-colors text-sm ml-2",title:"Download MIDI",children:E.jsx(dA,{size:14})})]})]}),E.jsxs("div",{className:"flex-1 border border-border rounded-lg overflow-auto relative bg-surface/20",ref:tt,children:[E.jsx("div",{className:"sticky top-0 left-0 flex bg-background z-20 border-b border-border",style:{width:`${F}px`,height:`${RN}px`},children:Array.from({length:B}).map((st,bt)=>E.jsx("div",{className:`
                                border-r border-border text-xs flex items-center justify-center cursor-pointer transition-colors
                                ${bt>=y[0]&&bt<=y[1]?"bg-primary/30 text-primary font-bold":"text-muted hover:bg-surface"}
                            `,style:{width:`${ut}px`},onClick:()=>Ot(bt),children:bt+1},bt))}),E.jsx("div",{className:"sticky top-[30px] left-0 z-20 bg-background border-b border-border",style:{width:`${F}px`},children:E.jsx(DN,{totalMeasures:B,pixelsPerMeasure:ut,onChordsChange:I})}),E.jsxs("div",{onClick:yt,className:"relative cursor-pointer",style:{width:`${F}px`,height:`${lt}px`},children:[Array.from({length:B}).map((st,bt)=>E.jsx("div",{className:`absolute top-0 h-full border-r border-border/30 ${bt<r?"bg-primary/5":""}`,style:{left:`${bt*ut}px`,width:`${ut}px`}},bt)),y[0]!==0||y[1]!==0?E.jsx("div",{className:"absolute top-0 h-full bg-primary/20 pointer-events-none z-[2]",style:{left:`${y[0]*ut}px`,width:`${(y[1]-y[0]+1)*ut}px`}}):null,R.map((st,bt)=>E.jsx(jN,{note:st,pixelsPerSecond:V,verticalZoom:M},bt)),E.jsx("div",{className:"absolute top-0 h-full w-0.5 bg-red-500 z-20 pointer-events-none shadow-[0_0_10px_rgba(239,68,68,0.5)]",style:{left:`${ot}px`}})]}),!c&&E.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 text-muted pointer-events-none",children:"Piano Roll Area"})]})]})}),zN=["acoustic_grand_piano","bright_acoustic_piano","electric_grand_piano","honkytonk_piano","electric_piano_1","electric_piano_2","harpsichord","clavinet","celesta","glockenspiel","music_box","vibraphone","marimba","xylophone","tubular_bells","dulcimer","drawbar_organ","percussive_organ","rock_organ","church_organ","reed_organ","accordion","harmonica","tango_accordion","acoustic_guitar_nylon","acoustic_guitar_steel","electric_guitar_jazz","electric_guitar_clean","electric_guitar_muted","overdriven_guitar","distortion_guitar","guitar_harmonics","acoustic_bass","electric_bass_finger","electric_bass_pick","fretless_bass","slap_bass_1","slap_bass_2","synth_bass_1","synth_bass_2","violin","viola","cello","contrabass","tremolo_strings","pizzicato_strings","orchestral_harp","timpani","string_ensemble_1","string_ensemble_2","synth_strings_1","synth_strings_2","choir_aahs","voice_oohs","synth_choir","orchestra_hit","trumpet","trombone","tuba","muted_trumpet","french_horn","brass_section","synth_brass_1","synth_brass_2","soprano_sax","alto_sax","tenor_sax","baritone_sax","oboe","english_horn","bassoon","clarinet","piccolo","flute","recorder","pan_flute","blown_bottle","shakuhachi","whistle","ocarina","lead_1_square","lead_2_sawtooth","lead_3_calliope","lead_4_chiff","lead_5_charang","lead_6_voice","lead_7_fifths","lead_8_bass__lead","pad_1_new_age","pad_2_warm","pad_3_polysynth","pad_4_choir","pad_5_bowed","pad_6_metallic","pad_7_halo","pad_8_sweep","fx_1_rain","fx_2_soundtrack","fx_3_crystal","fx_4_atmosphere","fx_5_brightness","fx_6_goblins","fx_7_echoes","fx_8_scifi","sitar","banjo","shamisen","koto","kalimba","bagpipe","fiddle","shanai","tinkle_bell","agogo","steel_drums","woodblock","taiko_drum","melodic_tom","synth_drum","reverse_cymbal","guitar_fret_noise","breath_noise","seashore","bird_tweet","telephone_ring","helicopter","applause","gunshot"],UN=({activeMode:c,setActiveMode:n})=>{const s=[{id:"DEMO",label:"DEMO",icon:Vr},{id:"VS",label:"VS",icon:EA},{id:"PODCAST",label:"PODCAST",icon:xA}];return E.jsx("div",{className:"w-16 md:w-20 bg-surface border-r border-border flex flex-col items-center py-4 gap-4 z-50",children:s.map(r=>{const o=r.icon,l=c===r.id;return E.jsxs("button",{onClick:()=>n(r.id),className:`
              flex flex-col items-center justify-center w-12 h-12 md:w-14 md:h-14 rounded-xl transition-all duration-200
              ${l?"bg-primary text-white shadow-lg shadow-primary/20 scale-105":"text-muted hover:text-text hover:bg-white/5"}
            `,title:r.label,children:[E.jsx(o,{className:"w-6 h-6 mb-1"}),E.jsx("span",{className:"text-[10px] font-bold",children:r.label})]},r.id)})})},pf=({models:c,onSelect:n,title:s,selectedModelId:r})=>E.jsx("div",{className:"flex flex-col h-full bg-background p-6 overflow-y-auto animate-in fade-in duration-300",children:E.jsxs("div",{className:"max-w-5xl mx-auto w-full space-y-8",children:[E.jsxs("div",{className:"text-center space-y-2",children:[E.jsx("h2",{className:"text-3xl font-bold tracking-tight bg-gradient-to-r from-blue-400 to-purple-600 bg-clip-text text-transparent",children:s}),E.jsx("p",{className:"text-muted",children:"Select a model to use for comparison."})]}),E.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:c.map(o=>{const l=r===o.model_name;return E.jsxs("button",{onClick:()=>n(o),className:`
                  relative flex flex-col items-start text-left p-6 rounded-xl border transition-all duration-200 h-full
                  ${l?"bg-primary/10 border-primary shadow-lg shadow-primary/10 ring-1 ring-primary scale-[1.02]":"bg-surface border-border hover:border-primary/50 hover:bg-surface/80 hover:scale-[1.01] group"}
                `,children:[l&&E.jsx("div",{className:"absolute top-4 right-4 text-primary bg-background rounded-full p-1 shadow-sm",children:E.jsx(nA,{className:"w-5 h-5"})}),E.jsx("h3",{className:`font-semibold text-xl mb-2 group-hover:text-primary transition-colors ${l?"text-primary":"text-text"}`,children:o.title||o.model_name}),E.jsxs("div",{className:"flex flex-wrap gap-2 mb-4",children:[E.jsx("span",{className:"px-2.5 py-1 rounded-full bg-background border border-border text-xs text-muted font-medium uppercase tracking-wide",children:o.tag?.model}),o.tag?.genres?.map(h=>E.jsx("span",{className:"px-2.5 py-1 rounded-full bg-secondary/20 text-secondary text-xs font-medium",children:h},h))]}),E.jsx("p",{className:"text-sm text-muted-foreground line-clamp-4 leading-relaxed",children:o.description}),E.jsxs("div",{className:"mt-auto pt-4 w-full text-xs text-muted/70 border-t border-border/30",children:["Instruments: ",Array.isArray(o?.tag?.instruments)?o.tag.instruments.join(", "):o?.tag?.instruments]})]},o.model_name)})})]})}),BN=({modelInfo:c,midiData:n,setMidiData:s,pianoRollProps:r,settings:o,onGenerate:l,playbackState:h,onPlay:u,onPause:f,onStop:p})=>{const[m,_]=_t.useState(1),[b,v]=_t.useState(null),[x,y]=_t.useState(null),[S,w]=_t.useState(null),[C,M]=_t.useState(null),[O,k]=_t.useState(!1),[I,z]=_t.useState({}),D=Bl.useRef(null),V=Bl.useRef(null),Z=Bl.useRef(null),[nt,R]=_t.useState(null);_t.useEffect(()=>{m===3&&n&&!Z.current&&(Z.current=n)},[m,n]),_t.useEffect(()=>{w(null),M(null),Z.current=null,R(null)},[b,x]);const W=B=>{const F=B===1?S||Z.current:C||Z.current;F&&(s(F),R(B),setTimeout(()=>{u()},50))},T=()=>{f()},K=()=>{p(),R(null)},H=async()=>{if(!(!l||!b||!x)){k(!0);try{const B=D.current?.getSelectedNotes()||[],F=D.current?.getSelectedRange()||null,lt=await l(b.model_name,B,F,I,n);lt&&lt.length>0&&w(lt[0]);const ot=await l(x.model_name,B,F,I,n);ot&&ot.length>0&&M(ot[0])}catch(B){console.error("VS Mode Generation Error",B)}finally{k(!1)}}},G=_t.useMemo(()=>!b||!c?[]:c.filter(B=>B.tag?.model===b.tag?.model&&B.model_name!==b.model_name),[b,c]),ut=B=>{v(B),_(2)},Y=B=>{y(B),_(3)},U=()=>{_(1),v(null),y(null)};return m===1?E.jsx(pf,{models:c||[],onSelect:ut,title:"Select Model 1 (Base)",selectedModelId:b?.model_name}):m===2?E.jsxs("div",{className:"h-full flex flex-col",children:[E.jsxs("div",{className:"p-4 border-b border-border flex items-center gap-4 bg-surface/50 backdrop-blur-sm",children:[E.jsxs("button",{onClick:()=>_(1),className:"flex items-center gap-2 text-sm text-muted hover:text-text transition-colors",children:[E.jsx(df,{className:"w-4 h-4"})," Back to Model 1"]}),E.jsx("div",{className:"h-4 w-[1px] bg-border"}),E.jsxs("span",{className:"text-sm font-medium",children:["Model 1: ",E.jsx("span",{className:"text-primary",children:b?.model_name})]})]}),E.jsx(pf,{models:G,onSelect:Y,title:`Select Model 2 (Vs ${b?.model_name})`,selectedModelId:x?.model_name})]}):m===3?E.jsxs("div",{className:"h-full flex flex-col animate-in fade-in zoom-in-95 duration-300",children:[E.jsx("div",{className:"p-4 border-b border-border flex items-center justify-between bg-surface/50 backdrop-blur-sm shrink-0",children:E.jsxs("div",{className:"flex items-center gap-4",children:[E.jsxs("button",{onClick:U,className:"flex items-center gap-2 text-sm text-muted hover:text-text transition-colors",children:[E.jsx(df,{className:"w-4 h-4"})," Reset Models"]}),E.jsxs("div",{className:"flex items-center gap-3",children:[E.jsx("div",{className:"px-3 py-1 rounded-full bg-primary/10 text-primary text-xs font-bold border border-primary/20",children:b?.model_name}),E.jsx("span",{className:"text-muted font-mono text-xs",children:"VS"}),E.jsx("div",{className:"px-3 py-1 rounded-full bg-purple-500/10 text-purple-400 text-xs font-bold border border-purple-500/20",children:x?.model_name})]})]})}),E.jsxs("div",{className:"flex-1 flex overflow-hidden",children:[E.jsxs("div",{className:"flex-1 border-r border-border flex flex-col min-w-0 bg-background/50",children:[E.jsx("div",{className:"p-2 text-center text-xs font-bold text-primary uppercase tracking-widest border-b border-border/50 bg-primary/5",children:b?.model_name}),E.jsx(J0,{isPlaying:h==="playing"&&nt===1,onPlay:()=>W(1),onPause:T,onStop:K,progress:r.progress}),E.jsx("div",{className:"flex-1 relative overflow-hidden",children:E.jsx($l,{ref:D,...r,midiData:S||Z.current||n,selectionEnabled:!0,onChordsChange:z})})]}),E.jsxs("div",{className:"flex-1 flex flex-col min-w-0 bg-background/50",children:[E.jsx("div",{className:"p-2 text-center text-xs font-bold text-purple-400 uppercase tracking-widest border-b border-border/50 bg-purple-500/5",children:x?.model_name}),E.jsx(J0,{isPlaying:h==="playing"&&nt===2,onPlay:()=>W(2),onPause:T,onStop:K,progress:r.progress}),E.jsx("div",{className:"flex-1 relative overflow-hidden",children:E.jsx($l,{ref:V,...r,midiData:C||Z.current||n,selectionEnabled:!0})})]})]}),E.jsxs("div",{className:"h-64 border-t border-border bg-surface shrink-0 p-4 grid grid-cols-12 gap-6 overflow-y-auto",children:[E.jsxs("div",{className:"col-span-4 overflow-y-auto max-h-full",children:[o&&E.jsx("div",{className:"scale-90 origin-top-left w-[110%]",children:E.jsx(nd,{temperature:o.temperature,setTemperature:o.setTemperature,p:o.p,setP:o.setP,numGems:o.numGems,setNumGems:o.setNumGems,rules:b?.rule})}),!o&&E.jsxs("div",{className:"card h-full flex flex-col justify-center items-center text-muted",children:[E.jsx(IN,{}),E.jsx("p",{className:"mt-2",children:"Settings Unavailable"})]})]}),E.jsx("div",{className:"col-span-8",children:E.jsx("div",{className:"card h-full flex items-center justify-center",children:E.jsxs("button",{onClick:H,disabled:O,className:`btn-primary w-full h-16 text-lg shadow-xl shadow-primary/20 flex items-center justify-center gap-3 transition-all ${O?"opacity-50":"hover:scale-[1.02]"}`,children:[E.jsx(VA,{className:`w-6 h-6 ${O?"animate-pulse":""}`}),O?"Generating Model 1 & 2...":"Generate Both Models (Sequential)"]})})})]})]}):null},IN=()=>E.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-sliders-horizontal",children:[E.jsx("line",{x1:"21",x2:"14",y1:"4",y2:"4"}),E.jsx("line",{x1:"10",x2:"3",y1:"4",y2:"4"}),E.jsx("line",{x1:"21",x2:"12",y1:"12",y2:"12"}),E.jsx("line",{x1:"8",x2:"3",y1:"12",y2:"12"}),E.jsx("line",{x1:"21",x2:"16",y1:"20",y2:"20"}),E.jsx("line",{x1:"12",x2:"3",y1:"20",y2:"20"}),E.jsx("line",{x1:"14",x2:"14",y1:"2",y2:"6"}),E.jsx("line",{x1:"8",x2:"8",y1:"10",y2:"14"}),E.jsx("line",{x1:"16",x2:"16",y1:"18",y2:"22"})]}),J0=({isPlaying:c,onPlay:n,onPause:s,onStop:r,progress:o})=>E.jsxs("div",{className:"px-4 py-2 border-b border-border bg-surface flex items-center justify-between gap-4",children:[E.jsxs("div",{className:"flex items-center gap-2",children:[c?E.jsx("button",{onClick:s,className:"p-1 hover:bg-white/10 rounded text-primary transition-colors",title:"Pause",children:E.jsx(Jl,{className:"w-4 h-4 fill-current"})}):E.jsx("button",{onClick:n,className:"p-1 hover:bg-white/10 rounded text-text transition-colors",title:"Play",children:E.jsx(Vr,{className:"w-4 h-4 fill-current"})}),E.jsx("button",{onClick:r,className:"p-1 hover:bg-white/10 rounded text-text transition-colors",title:"Stop",children:E.jsx(gv,{className:"w-4 h-4 fill-current"})})]}),E.jsx("div",{className:"flex-1 flex flex-col justify-center gap-1",children:E.jsx("div",{className:"h-1.5 w-full bg-surface border border-border/50 rounded-full overflow-hidden",children:E.jsx("div",{className:"h-full bg-primary transition-all duration-100 ease-linear",style:{width:`${o*100}%`}})})}),E.jsxs("div",{className:"text-[10px] font-mono text-muted w-8 text-right",children:[Math.floor(o*100),"%"]})]}),qN=({modelInfo:c,onGenerate:n,midiData:s,setMidiData:r,settings:o,playbackState:l,onPlay:h,onPause:u,onStop:f,setNotification:p,onAppendMidi:m})=>{const[_,b]=_t.useState(1),[v,x]=_t.useState(null),y=c?c.filter(C=>C.tag?.model==="pretrained"):[],S=C=>{x(C),b(2)},w=()=>{b(1),x(null),f()};return E.jsx("div",{className:"h-full flex flex-col",children:_===1?E.jsx(pf,{models:y,onSelect:S,title:"Select Podcast Model (Pretrained Series)",selectedModelId:v?.model_name}):E.jsx(VN,{model:v,onBack:w,settings:o,onGenerate:n,setNotification:p,playbackState:l,onPlay:h,onPause:u,onStop:f,midiData:s,setMidiData:r,onAppendMidi:m})})},VN=({model:c,onBack:n,settings:s,onGenerate:r,setNotification:o,playbackState:l,onPlay:h,onPause:u,onStop:f,midiData:p,setMidiData:m,onAppendMidi:_})=>{const[b,v]=_t.useState([]),[x,y]=_t.useState(!1),[S,w]=_t.useState({measures:0,duration:0}),[C,M]=_t.useState(!1),[O,k]=_t.useState(null),[I,z]=_t.useState(!1),D=_t.useRef(null),V=_t.useRef(!1);_t.useEffect(()=>{M(l==="playing")},[l]);const Z=c?.tag?.instruments?Array.isArray(c.tag.instruments)?c.tag.instruments:[c.tag.instruments]:[],nt=Y=>{const{selectedInstruments:U,setSelectedInstruments:B}=s;U.includes(Y)?B(U.filter(F=>F!==Y)):B([...U,Y])},R=async()=>{if(!(x||!c)){y(!0),f(),v([]);try{console.log("Generating initial 3 clips...");const Y=await r(c.model_name,[],null,{},null,{num_gems:3});Y&&Y.length>0&&v(Y)}catch(Y){console.error(Y),o({open:!0,message:"Podcast generation failed",severity:"error"})}finally{y(!1)}}},W=(Y,U)=>{Y.stopPropagation(),O===U&&l==="playing"?u():(k(U),m(U),setTimeout(()=>{h()},50))},T=async Y=>{console.log("Selected clip, starting podcast loop..."),f(),v([]),k(null);const U=new Ye.Midi(Y.toArray());D.current=U,m(U),K(U),V.current=!0,H()},K=Y=>{if(!Y||!Y.header)return;const U=Y.header.tempos[0]?.bpm||120,B=Y.duration,F=B/(60/U*4);w({measures:Math.floor(F),duration:Math.floor(B)})},H=async()=>{if(V.current)try{const Y=D.current;if(!Y)return;K(Y);const B=60/(Y.header.tempos[0]?.bpm||120)*4,F=Y.duration/B;F>16&&Ze.state!=="started"&&(console.log("Music length > 16 measures, starting playback..."),h());const ot=Ze.seconds/B,tt=F-ot;if(tt>16){console.log(`[Podcast] Future buffer is ${tt.toFixed(1)} bars. Waiting for playback to catch up...`),setTimeout(()=>{requestAnimationFrame(()=>H())},2e3);return}const yt=B*4,Ot=Math.max(0,Y.duration-yt),st=new Ye.Midi;Y.header&&(st.header.tempos=JSON.parse(JSON.stringify(Y.header.tempos)),st.header.timeSignatures=JSON.parse(JSON.stringify(Y.header.timeSignatures)),st.header.name=Y.header.name),Y.tracks.forEach(kt=>{const Xt=st.addTrack();Xt.instrument=kt.instrument,Xt.channel=kt.channel,kt.notes.forEach(se=>{se.time>=Ot&&Xt.addNote({midi:se.midi,time:se.time-Ot,duration:se.duration,velocity:se.velocity})})});const bt=new Blob([st.toArray()],{type:"audio/midi"});if(!c){console.warn("Model unavailable, stopping loop."),V.current=!1;return}y(!0);const At=await r(c.model_name,[],null,{},null,{ai_continue_mode:!0,generate_count:8,genfield_measure:8},{pastMidiBlob:bt});if(At&&At.length>0){const kt=At[0];G(kt),requestAnimationFrame(()=>H())}else console.log("No result returned, satisfying loop?"),y(!1)}catch(Y){console.error("Recursive loop error:",Y),o({open:!0,message:`Podcast loop error: ${Y.message}`,severity:"error"}),V.current=!1}},G=Y=>{const U=D.current,lt=60/(U.header.tempos[0]?.bpm||120)*4*4,ot=U.duration-lt;U.tracks.forEach((yt,Ot)=>{const st=Y.tracks.find(bt=>bt.channel===yt.channel)||Y.tracks[Ot];st&&st.notes.forEach(bt=>{bt.time>=lt-.1&&yt.addNote({midi:bt.midi,time:bt.time+ot,duration:bt.duration,velocity:bt.velocity})})});const tt=new Ye.Midi(U.toArray());D.current=tt,V.current&&(_?_(tt):m(tt),K(tt))},ut=()=>{V.current=!1,y(!1),f()};return _t.useEffect(()=>()=>{V.current=!1},[]),E.jsxs("div",{className:"flex flex-col h-full animate-in fade-in zoom-in-95 duration-300",children:[E.jsxs("div",{className:"p-4 border-b border-border flex items-center justify-between bg-surface/50 backdrop-blur-sm shrink-0",children:[E.jsxs("div",{className:"flex items-center gap-4",children:[E.jsxs("button",{onClick:ut,className:"flex items-center gap-2 text-sm text-muted hover:text-text transition-colors",children:[E.jsx(df,{className:"w-4 h-4"})," Exit"]}),E.jsx("div",{className:"h-4 w-[1px] bg-border"}),E.jsxs("span",{className:"flex items-center gap-2 text-sm font-medium",children:["Model: ",E.jsx("span",{className:"text-primary",children:c?.model_name}),x&&E.jsx("span",{className:"text-xs text-muted animate-pulse ml-2",children:"Generating..."})]})]}),D.current&&E.jsxs("div",{className:"flex items-center gap-4 text-xs font-mono text-muted",children:[E.jsxs("span",{className:"flex items-center gap-1",children:[E.jsx(R0,{className:"w-3 h-3"})," ",S.measures," Bars"]}),E.jsxs("span",{className:"flex items-center gap-1",children:[E.jsx(ro,{className:"w-3 h-3"})," ",S.duration,"s"]})]})]}),E.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center p-8 overflow-y-auto w-full relative",children:[E.jsxs("div",{className:"w-full max-w-2xl h-64 bg-black/40 rounded-3xl border border-white/5 flex items-center justify-center mb-8 relative overflow-hidden group",children:[E.jsx("div",{className:`flex items-end gap-1 h-32 ${C?"opacity-100":"opacity-30"}`,children:[...Array(20)].map((Y,U)=>E.jsx("div",{className:`w-3 bg-primary/80 rounded-full transition-all duration-300 ${C?"animate-pulse":""}`,style:{height:C?`${20+Math.random()*80}%`:"20%",animationDelay:`${U*.1}s`,transition:"height 0.1s ease"}},U))}),b.length===0&&!D.current&&!x&&E.jsxs("button",{onClick:R,className:"absolute inset-0 flex items-center justify-center bg-black/50 hover:bg-black/40 transition-all text-white backdrop-blur-sm",children:[E.jsx(Vr,{className:"w-20 h-20 fill-white drop-shadow-lg scale-100 hover:scale-110 transition-transform"}),E.jsx("span",{className:"absolute mt-24 text-lg font-bold",children:"Start Podcast"})]}),x&&E.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black/50 backdrop-blur-sm z-10",children:E.jsx(R0,{className:"w-12 h-12 text-primary animate-spin"})})]}),b.length>0&&E.jsxs("div",{className:"w-full max-w-4xl",children:[E.jsx("h3",{className:"text-center text-lg font-medium mb-4 text-white",children:"Select a starting theme"}),E.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 animate-in slide-in-from-bottom-4",children:b.map((Y,U)=>{const B=O===Y&&l==="playing";return E.jsxs("div",{className:"bg-surface border border-border rounded-xl p-4 hover:border-primary transition-all cursor-pointer group hover:-translate-y-1 hover:shadow-xl hover:shadow-primary/10 relative",children:[E.jsxs("div",{className:"text-center text-sm font-medium text-muted mb-2",children:["Option ",U+1]}),E.jsx("div",{className:"h-24 bg-black/20 rounded-lg flex items-center justify-center group-hover:bg-primary/10 transition-colors mb-4 relative overflow-hidden",children:E.jsx("div",{onClick:F=>W(F,Y),className:"cursor-pointer p-4 rounded-full bg-black/40 hover:bg-primary hover:text-white transition-all z-10",children:B?E.jsx(Jl,{className:"w-6 h-6"}):E.jsx(Vr,{className:"w-6 h-6"})})}),E.jsx("div",{className:"flex gap-2",children:E.jsx("button",{onClick:()=>T(Y),className:"flex-1 py-2 bg-primary/10 text-primary rounded-lg text-sm font-bold group-hover:bg-primary group-hover:text-white transition-all",children:"Select & Start Loop"})})]},U)})})]}),D.current&&E.jsxs("div",{className:"w-full max-w-2xl text-center text-muted text-sm mt-4 animate-in fade-in",children:[E.jsx("p",{children:"Podcast is running. Sit back and listen."}),E.jsx("p",{className:"text-xs opacity-50 mt-1",children:"Generating continuation every 4 bars..."})]})]}),E.jsx("div",{className:"h-auto border-t border-border bg-surface shrink-0 p-4",children:E.jsxs("div",{className:"container mx-auto max-w-6xl grid grid-cols-1 md:grid-cols-12 gap-6",children:[E.jsxs("div",{className:"col-span-12 md:col-span-4 space-y-4",children:[E.jsxs("div",{className:"bg-surface/50 rounded-xl p-4 border border-border space-y-4",children:[E.jsxs("h4",{className:"text-sm font-medium text-muted mb-2 flex items-center gap-2",children:[E.jsx(mv,{className:"w-3 h-3"})," Basic Settings"]}),E.jsxs("div",{className:"space-y-1.5",children:[E.jsx("label",{className:"text-xs font-medium text-muted",children:"Key"}),E.jsxs("button",{onClick:()=>z(!0),className:"w-full p-2 bg-surface border border-border rounded-lg text-left hover:bg-surface/80 transition-colors flex items-center justify-between text-sm",children:[E.jsx("span",{className:"font-medium",children:s.key}),E.jsx(ro,{className:"w-3 h-3 text-muted"})]})]}),Z.length>0&&E.jsxs("div",{className:"space-y-2",children:[E.jsx("label",{className:"text-xs font-medium text-muted",children:"Instruments"}),E.jsx("div",{className:"flex flex-wrap gap-2",children:Z.map(Y=>E.jsx("button",{onClick:()=>nt(Y),className:`px-2 py-1 rounded-md text-xs font-medium transition-all duration-200 ${s.selectedInstruments?.includes(Y)?"bg-primary text-white shadow-sm":"bg-surface border border-border text-text hover:bg-surface/80"}`,children:Y},Y))})]})]}),E.jsx(nd,{...s,rules:{...c?.rule,number_of_generation:!1}})]}),E.jsx("div",{className:"col-span-12 md:col-span-8 flex items-center justify-center gap-4",children:E.jsx("button",{onClick:l==="playing"?u:h,disabled:!D.current&&!O,className:`w-20 h-20 rounded-full flex items-center justify-center transition-all shadow-xl ${l==="playing"?"bg-primary text-white scale-100":"bg-surface border border-border text-primary hover:scale-105 disabled:opacity-50 disabled:hover:scale-100"}`,children:l==="playing"?E.jsx(Jl,{className:"w-8 h-8 fill-current"}):E.jsx(Vr,{className:"w-8 h-8 fill-current ml-1"})})})]})}),E.jsx(xv,{open:I,onClose:()=>z(!1),onSave:s.setKey,currentKey:s.key})]})},$h="https://e762-133-43-172-128.ngrok-free.app";function LN(){const[c,n]=_t.useState(!1),[s,r]=_t.useState("DEMO");_t.useEffect(()=>{new URLSearchParams(window.location.search).get("debug")==="true"&&prompt("Enter debug code:")==="963964"&&n(!0)},[]);const[o,l]=_t.useState(null),[h,u]=_t.useState(null),[f,p]=_t.useState("stopped"),[m,_]=_t.useState(0),[b,v]=_t.useState(!1),[x,y]=_t.useState(12),[S,w]=_t.useState("piano"),[C,M]=_t.useState(120),[O,k]=_t.useState(""),[I,z]=_t.useState(.95),[D,V]=_t.useState(.95),[Z,nt]=_t.useState(3),[R,W]=_t.useState("C M"),[T,K]=_t.useState([]),[H,G]=_t.useState({}),[ut,Y]=_t.useState([]),[U,B]=_t.useState([]),[F,lt]=_t.useState(0),[ot,tt]=_t.useState({open:!1,message:"",severity:"info"}),[yt,Ot]=_t.useState(!1),[st,bt]=_t.useState({}),[At,kt]=_t.useState(null),[Xt,se]=_t.useState({}),[A,$]=_t.useState({}),[J,L]=_t.useState(null),q=_t.useRef([]),X=_t.useRef(),ft=_t.useRef("replace"),dt=_t.useRef(0),it=Nt=>{ft.current="append",l(Nt)};_t.useEffect(()=>{(async()=>{try{const Ct=await fetch(`${$h}/model_info`,{method:"POST"});if(!Ct.ok)throw new Error(`Network response was not ok: ${Ct.statusText}`);const Ft=await Ct.json(),Ht=Object.values(Ft);Y(Ht)}catch(Ct){console.error("Failed to fetch model info:",Ct),tt({open:!0,message:`Failed to load model list: ${Ct.message}`,severity:"error"})}})()},[]);const[vt,St]=_t.useState([]);_t.useEffect(()=>{if(ft.current==="append"){console.log("Skipping instrument reload (Append Mode)");return}if(console.log("Instrument loading effect running"),v(!1),vt.forEach(Ct=>{Ct.type==="tone"&&Ct.player.dispose(),Ct.gain&&Ct.gain.disconnect()}),!o){console.log("No midiData, resetting instruments"),St([]),v(!0);return}return(async()=>{const Ct=o.tracks.map(async(Ft,Ht)=>{const Lt=Ft.instrument.number,le=Ft.instrument.percussion||Ft.channel===9,Te=Rh.createGain();Ji(Te,DT);let ve,Ae;if(console.log(`Loading track ${Ht}: Program ${Lt}, Drum: ${le}`),le)Ae="tone",console.log("Loading Salamander Drumkit..."),ve=new Wr({urls:{35:"kick_OH_FF_1.wav",36:"kick2_OH_FF_1.wav",37:"snareStick_OH_F_1.wav",38:"snare_OH_FF_1.wav",40:"snare2_OH_FF_1.wav",41:"loTom_OH_FF_1.wav",42:"hihatClosed_OH_F_1.wav",43:"loTom_OH_FF_6.wav",44:"hihatFoot_OH_MP_1.wav",45:"hiTom_OH_FF_1.wav",46:"hihatOpen_OH_FF_1.wav",47:"hiTom_OH_FF_1.wav",48:"hiTom_OH_FF_4.wav",49:"crash1_OH_FF_1.wav",50:"hiTom_OH_FF_8.wav",51:"ride1_OH_FF_1.wav",52:"china1_OH_FF_1.wav",53:"ride1Bell_OH_F_1.wav",55:"splash1_OH_F_1.wav",57:"crash2_OH_FF_1.wav",59:"ride2_OH_FF_1.wav"},baseUrl:"drums/OH/",onload:()=>{console.log("Salamander Drumkit loaded!")}}),ve.connect(Te),await p0();else if(Lt>=0&&Lt<=7)Ae="tone",ve=new Wr({urls:{A0:"A0.mp3",C1:"C1.mp3","D#1":"Ds1.mp3","F#1":"Fs1.mp3",A1:"A1.mp3",C2:"C2.mp3","D#2":"Ds2.mp3","F#2":"Fs2.mp3",A2:"A2.mp3",C3:"C3.mp3","D#3":"Ds3.mp3","F#3":"Fs3.mp3",A3:"A3.mp3",C4:"C4.mp3","D#4":"Ds4.mp3","F#4":"Fs4.mp3",A4:"A4.mp3",C5:"C5.mp3","D#5":"Ds5.mp3","F#5":"Fs5.mp3",A5:"A5.mp3",C6:"C6.mp3"},release:1,baseUrl:"https://tonejs.github.io/audio/salamander/"}),ve.connect(Te),await p0();else{Ae="soundfont";const xe=zN[Lt]||"acoustic_grand_piano";console.log(`Fetching Soundfont: ${xe}`);try{ve=await yN.instrument(Rh.rawContext,xe,{destination:Te,soundfont:"FluidR3_GM"})}catch(ts){console.error(`Failed to load soundfont ${xe}, falling back to synth`,ts),Ae="tone",ve=new Qf(Xr),ve.connect(Te)}}return{player:ve,gain:Te,type:Ae}});try{const Ft=await Promise.all(Ct);console.log("All instruments loaded"),St(Ft),v(!0)}catch(Ft){console.error("Error loading instruments:",Ft),v(!0)}})(),()=>{}},[o]),_t.useEffect(()=>{const Nt=Object.values(A).some(Ct=>Ct);vt.forEach((Ct,Ft)=>{if(Ct&&Ct.gain){let Ht=!0;Nt?Ht=A[Ft]:Ht=!Xt[Ft],Ct.gain.gain.value=Ht?1:0}})},[Xt,A,vt]),_t.useEffect(()=>{if(console.log("Scheduling effect running",{midiData:!!o,samplerLoaded:b,instrumentsLength:vt.length,tracksLength:o?.tracks.length}),o&&b&&vt.length===o.tracks.length){console.log(`Starting scheduling (Strategy: ${ft.current})...`);let Nt=[];ft.current==="replace"?(q.current.forEach(Ct=>Ze.clear(Ct)),q.current=[],dt.current=0):Nt=[...q.current],o.tracks.forEach((Ct,Ft)=>{const Ht=vt[Ft];Ht&&Ct.notes.forEach(Lt=>{if(Lt.time>=dt.current-.001){const le=Ze.schedule(Te=>{Ht.type==="tone"?Ht.player.triggerAttackRelease(Lt.name,Lt.duration,Te,Lt.velocity):Ht.type==="soundfont"&&Ht.player.play(Lt.name,Te,{duration:Lt.duration,gain:Lt.velocity})},Lt.time);Nt.push(le)}})}),console.log(`Scheduled ${Nt.length-(ft.current==="append"?q.current.length:0)} new events`),q.current=Nt,dt.current=o.duration,Ze.loop=!0,Ze.loopStart=0,Ze.loopEnd=o.duration,ft.current="replace"}else q.current.length>0&&(console.log("Clearing scheduled events (conditions not met)..."),q.current.forEach(Nt=>Ze.clear(Nt)),q.current=[],dt.current=0)},[o,b,vt]),_t.useEffect(()=>{Ze.bpm.value=C},[C]);const xt=Nt=>{f!=="stopped"&&Ut(),se({}),l(Nt),u(Nt),B([]),Nt.header.tempos.length>0&&M(Math.round(Nt.header.tempos[0].bpm))},wt=async()=>{console.log("handlePlay called",{midiData:!!o,samplerLoaded:b}),!(!o||!b)&&(Rh.state!=="running"&&await hT(),Ze.start(),p("playing"))},qt=()=>{Ze.pause(),p("paused")},Ut=()=>{Ze.stop(),Ze.position=0,_(0),p("stopped")},ie=Nt=>{Ze.position=Nt,_(Ze.progress)},hs=Nt=>{if(!Nt)return"";const Ct=Nt.quality==="None"?"":Nt.quality,Ft=Nt.base==="None"?"":Nt.base;return`${Nt.root}${Ct}${Ft}`},un=async(Nt,Ct,Ft,Ht,Lt,le={},Te={})=>{if(!Nt)return tt({open:!0,message:"Model not selected.",severity:"warning"}),null;const ve=ut.find(jt=>jt.model_name===Nt),Ae=ve?.tag?.model,xe=ve?.rule||{},ts=new Ye.Midi,hn=ts.addTrack();Ct.forEach(jt=>{hn.addNote({midi:jt.midi,time:jt.time,duration:jt.duration,velocity:jt.velocity})});const Mt=new Blob([ts.toArray()],{type:"audio/midi"}),Bt={model_type:Nt,program:T,tempo:C,task:"MUSICGEM",p:D,temperature:I,split_measure:99,key:R.replace(" ",""),num_gems:Z};if(xe.gen_measure_count&&Ft){const jt=Ft[1]-Ft[0]+1;Bt.generate_count=jt,Bt.genfield_measure=jt}if(Ae==="sft"&&Lt){const jt=Ct.reduce((Ee,kn)=>Math.max(Ee,kn.time+kn.duration),0),_n=Lt.header.tempos[0]?.bpm||120,vn=(Lt.header.timeSignatures[0]?.timeSignature||[4,4])[0],Ce=60/_n,He=Ce*vn,Fn=Object.entries(Ht||{}).map(([Ee,kn])=>{const[Be,yo]=Ee.split("-").map(Number),bo=Be*He+yo*Ce;return{chord:kn,startTime:bo}}).filter(Ee=>Ee.startTime>=jt);Bt.chord_item=Fn.map(Ee=>hs(Ee.chord)),Bt.chord_times=Fn.map(Ee=>Ee.startTime-jt)}const Zt=new Blob([JSON.stringify(Bt,null,2)],{type:"application/json"}),Dt=new FormData;Dt.append("midi",Mt,"input.mid"),Dt.append("meta_json",Zt,"meta.json");try{const jt=await fetch(`${$h}/generate`,{method:"POST",body:Dt});if(!jt.ok){const Ln=await jt.text();throw new Error(Ln)}const _n=jt.headers.get("content-type");if(_n&&_n.includes("application/zip")){const Ln=await jt.blob(),vn=await M0.loadAsync(Ln),Ce=[];let He="";const Nn=Object.entries(vn.files);for(const[Fn,Ee]of Nn)if(Ee.name.endsWith(".mid")){const kn=await Ee.async("arraybuffer");Ce.push(new Ye.Midi(kn))}else Ee.name.endsWith(".json")&&(He+=await Ee.async("string")+`
`);return He&&tt({open:!0,message:He,severity:"info"}),Ce}else{const vn=await(await jt.blob()).arrayBuffer();return[new Ye.Midi(vn)]}}catch(jt){return console.error(jt),tt({open:!0,message:`Generation failed: ${jt.message}`,severity:"error"}),null}},xs=async()=>{if(!O){tt({open:!0,message:"Please select a model from the Settings dropdown first.",severity:"warning"});return}const Nt=ut.find(Mt=>Mt.model_name===O),Ct=Nt?.tag?.model,Ft=Nt?.rule||{};if(!h&&Ct!=="pretrained"){tt({open:!0,message:"Please upload a MIDI file first.",severity:"warning"});return}const Ht=X.current?.getSelectedNotes()||[],Lt=X.current?.getSelectedRange()||[0,0],le=Lt[0]!==0||Lt[1]!==0;if(!le&&Ct!=="pretrained"&&!Ft.gen_measure_count){tt({open:!0,message:"",severity:"warning"});return}if(Ft.gen_measure_count&&!le){tt({open:!0,message:"",severity:"warning"});return}Ot(!0),tt({open:!0,message:"Generating... Please wait.",severity:"info"}),o&&u(new Ye.Midi(o.toArray())),B([]);const Te=new Ye.Midi,ve=Te.addTrack();Ht.forEach(Mt=>{ve.addNote({midi:Mt.midi,time:Mt.time,duration:Mt.duration,velocity:Mt.velocity})});const Ae=new Blob([Te.toArray()],{type:"audio/midi"}),xe={model_type:O,program:T,tempo:C,task:"MUSICGEM",p:D,temperature:I,split_measure:99,key:R.replace(" ",""),num_gems:Z};if(Ft.gen_note_dense){const Mt={};T.forEach(Bt=>{H[Bt]&&(Mt[Bt]=H[Bt])}),xe.gen_note_dense=Mt,xe.genfield_note_dense=Mt,xe.note_density=Mt}if(Ft.gen_measure_count&&le){const Mt=Lt[1]-Lt[0]+1;xe.generate_count=Mt,xe.genfield_measure=Mt,L(Lt)}else L(null);if(Ct==="sft"&&h){const Mt=Ht.reduce((Ce,He)=>Math.max(Ce,He.time+He.duration),0),Bt=h?.header.tempos[0]?.bpm||120,Dt=(h?.header.timeSignatures[0]?.timeSignature||[4,4])[0],jt=60/Bt,_n=jt*Dt,vn=Object.entries(st).map(([Ce,He])=>{const[Nn,Fn]=Ce.split("-").map(Number),Ee=Nn*_n+Fn*jt;return{chord:He,startTime:Ee}}).filter(Ce=>Ce.startTime>=Mt);xe.chord_item=vn.map(Ce=>hs(Ce.chord)),xe.chord_times=vn.map(Ce=>Ce.startTime-Mt)}c&&kt({meta:xe}),console.log("Sending Generation Request with Meta:",xe);const ts=new Blob([JSON.stringify(xe,null,2)],{type:"application/json"}),hn=new FormData;if(hn.append("midi",Ae,"input.mid"),hn.append("meta_json",ts,"meta.json"),customContext.pastMidiBlob)hn.append("past_midi",customContext.pastMidiBlob,"past.mid");else if(Ft.send_context_past){const Mt=X.current?.getPastNotes(8)||[];if(Mt.length>0){const Bt=new Ye.Midi,Zt=Bt.addTrack();Mt.forEach(jt=>{Zt.addNote({midi:jt.midi,time:jt.time,duration:jt.duration,velocity:jt.velocity})});const Dt=new Blob([Bt.toArray()],{type:"audio/midi"});hn.append("past_midi",Dt,"past.mid")}}if(Ft.send_context_condition&&Ht.length>0){const Mt=new Ye.Midi,Bt=Mt.addTrack();Ht.forEach(Dt=>{Bt.addNote({midi:Dt.midi,time:Dt.time,duration:Dt.duration,velocity:Dt.velocity})});const Zt=new Blob([Mt.toArray()],{type:"audio/midi"});hn.append("conditions_midi",Zt,"conditions.mid")}if(Ft.send_context_future){const Mt=X.current?.getFutureNotes(8)||[];if(Mt.length>0){const Bt=new Ye.Midi,Zt=Bt.addTrack();Mt.forEach(jt=>{Zt.addNote({midi:jt.midi,time:jt.time,duration:jt.duration,velocity:jt.velocity})});const Dt=new Blob([Bt.toArray()],{type:"audio/midi"});hn.append("future_midi",Dt,"future.mid")}}try{const Mt=await fetch(`${$h}/generate`,{method:"POST",body:hn});if(Mt.ok){const Bt=Mt.headers.get("content-type");if(Bt&&Bt.includes("application/zip")){const Zt=await Mt.blob(),Dt=await M0.loadAsync(Zt),jt=[],_n=[];Dt.forEach((Ce,He)=>{He.name.endsWith(".mid")?jt.push(He.async("arraybuffer").then(Nn=>new Ye.Midi(Nn))):He.name.endsWith(".json")&&_n.push(He.async("string"))});const Ln=await Promise.all(jt),vn=await Promise.all(_n);vn.length>0?tt({open:!0,message:vn.join(`
`),severity:"info"}):Ln.length>0?(B(Ln),lt(0),tt({open:!0,message:`Successfully generated ${Ln.length} MIDI file(s).`,severity:"success"})):tt({open:!0,message:"Generation complete, but no relevant files were produced.",severity:"warning"})}else if(Bt&&(Bt.includes("audio/midi")||Bt.includes("application/x-midi"))){const Dt=await(await Mt.blob()).arrayBuffer(),jt=new Ye.Midi(Dt);B([jt]),lt(0),tt({open:!0,message:"Successfully generated MIDI file.",severity:"success"})}else try{const Dt=await(await Mt.blob()).arrayBuffer(),jt=new Ye.Midi(Dt);B([jt]),lt(0),tt({open:!0,message:"Successfully generated MIDI file (fallback).",severity:"success"})}catch{tt({open:!0,message:`Unknown response format: ${Bt}`,severity:"error"})}}else{const Bt=await Mt.text();console.error("Generation failed response:",Bt);let Zt=Bt;try{const Dt=JSON.parse(Bt);Dt.detail&&(Zt=typeof Dt.detail=="object"?JSON.stringify(Dt.detail,null,2):Dt.detail)}catch{}tt({open:!0,message:`Generation failed: ${Zt||Mt.statusText}`,severity:"error"})}}catch(Mt){console.error("Error during generation:",Mt),tt({open:!0,message:`An error occurred: ${Mt.message}`,severity:"error"})}finally{Ot(!1)}};_t.useEffect(()=>{const Ct=ut.find(Ht=>Ht.model_name===O)?.tag?.model,Ft=U[F];if(!(!Ct||!Ft)){if(Ct==="pretrained")l(Ft);else if(Ct==="sft"){const Ht=new Ye.Midi;Ht.header=h.header;const le=X.current.getSelectedNotes().reduce((ve,Ae)=>Math.max(ve,Ae.time+Ae.duration),0),Te=Ht.addTrack();h.tracks.forEach((ve,Ae)=>{Xt[Ae]||ve.notes.forEach(xe=>{xe.time<le&&Te.addNote(xe)})}),Ft.tracks.forEach(ve=>{ve.notes.forEach(Ae=>{Te.addNote({...Ae,time:Ae.time+le})})}),l(Ht)}else if(J&&h){const Ht=X.current?.getSelectedTrackIndex()||0,Lt=h.header.tempos[0]?.bpm||120,le=h.header.timeSignatures[0]?.timeSignature||[4,4],Te=60/Lt*le[0],ve=J[0]*Te,Ae=(J[1]+1)*Te,ts=Math.max(0,J[0]-1)*Te,hn=new Ye.Midi;hn.header=h.header,h.tracks.forEach((Mt,Bt)=>{const Zt=hn.addTrack();Zt.instrument=Mt.instrument,Zt.name=Mt.name,Zt.channel=Mt.channel,Bt===Ht?(Mt.notes.forEach(Dt=>{Dt.time<ve&&Zt.addNote({midi:Dt.midi,time:Dt.time,duration:Dt.duration,velocity:Dt.velocity})}),Ft.tracks.forEach(Dt=>{Dt.notes.forEach(jt=>{const _n=jt.time+ts;_n>=ve&&Zt.addNote({midi:jt.midi,time:_n,duration:jt.duration,velocity:jt.velocity})})}),Mt.notes.forEach(Dt=>{Dt.time>=Ae&&Zt.addNote({midi:Dt.midi,time:Dt.time,duration:Dt.duration,velocity:Dt.velocity})})):Mt.notes.forEach(Dt=>{Zt.addNote({midi:Dt.midi,time:Dt.time,duration:Dt.duration,velocity:Dt.velocity})})}),l(hn)}}},[U,F,h,ut,O,Xt,J]),_t.useEffect(()=>{if(f==="playing"){const Nt=Ze.scheduleRepeat(Ct=>{RT.schedule(()=>_(Ze.progress),Ct)},"16n");return()=>Ze.clear(Nt)}},[f]),_t.useEffect(()=>{const Nt=Ct=>{Ct.code==="Space"&&(Ct.preventDefault(),f==="playing"?qt():wt())};return window.addEventListener("keydown",Nt),()=>window.removeEventListener("keydown",Nt)},[f,wt,qt]);const re=Nt=>{se(Ct=>({...Ct,[Nt]:!Ct[Nt]}))},qn=Nt=>{$(Ct=>({...Ct,[Nt]:!Ct[Nt]}))},gn=Nt=>{if(!o)return;const Ct={...o};Ct.tracks.splice(Nt,1),l({...Ct}),se(Ft=>{const Ht={};return Object.keys(Ft).forEach(Lt=>{const le=parseInt(Lt);le<Nt?Ht[le]=Ft[le]:le>Nt&&(Ht[le-1]=Ft[le])}),Ht})},tn=()=>{l(null),u(null),B([]),St([]),St([]),se({}),$({}),Ut()},Vn=o?o.duration:0;return E.jsxs("div",{className:"h-screen bg-background text-text flex flex-col overflow-hidden",children:[ot.open&&E.jsxs("div",{className:`fixed top-4 right-4 z-[100] p-4 rounded-lg shadow-lg border flex items-start gap-3 max-w-md animate-in slide-in-from-right-5 fade-in duration-300 ${ot.severity==="error"?"bg-red-900/90 border-red-700 text-red-100":ot.severity==="warning"?"bg-yellow-900/90 border-yellow-700 text-yellow-100":ot.severity==="success"?"bg-green-900/90 border-green-700 text-green-100":"bg-blue-900/90 border-blue-700 text-blue-100"}`,children:[ot.severity==="error"&&E.jsx(j0,{className:"w-5 h-5 shrink-0"}),ot.severity==="warning"&&E.jsx(j0,{className:"w-5 h-5 shrink-0"}),ot.severity==="success"&&E.jsx(cA,{className:"w-5 h-5 shrink-0"}),ot.severity==="info"&&E.jsx(mA,{className:"w-5 h-5 shrink-0"}),E.jsx("div",{className:"flex-1 text-sm whitespace-pre-wrap break-all",children:ot.message}),E.jsx("button",{onClick:()=>tt({...ot,open:!1}),className:"text-white/70 hover:text-white",children:""})]}),E.jsx(SN,{}),E.jsxs("main",{className:"flex-1 flex overflow-hidden",children:[E.jsx(UN,{activeMode:s,setActiveMode:r}),E.jsx("div",{className:"flex-1 overflow-hidden relative",children:s==="DEMO"?E.jsx("div",{className:"h-full overflow-hidden container mx-auto px-4 pb-4 max-w-[1600px] flex flex-col",children:b?E.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-6 h-full overflow-hidden pt-4",children:[E.jsxs("div",{className:"lg:col-span-4 space-y-6 overflow-y-auto pr-2 pb-2 h-full",children:[E.jsxs("div",{className:"card space-y-6",children:[E.jsx(AN,{instrument:S,setInstrument:w,tempo:C,setTempo:M,selectedModel:O,setSelectedModel:k,modelInfo:ut,debugMode:c,keySelection:R,setKey:W,selectedInstruments:T,setSelectedInstruments:K,densities:H,setDensities:G}),E.jsx(nd,{temperature:I,setTemperature:z,p:D,setP:V,numGems:Z,setNumGems:nt,rules:ut.find(Nt=>Nt.model_name===O)?.rule})]}),E.jsx("div",{className:"card",children:E.jsx(NN,{onPlay:wt,onPause:qt,onStop:Ut,onGenerate:xs,isGenerating:yt,playbackState:f,progress:m,duration:Vn,generatedMidis:U,selectedGeneratedMidi:F,onSelectedGeneratedMidiChange:lt})}),c&&At&&E.jsxs("div",{className:"p-4 border border-dashed border-border bg-surface/30 rounded-lg",children:[E.jsx("h6",{className:"text-lg font-semibold mb-2",children:"Debug Information"}),E.jsx("pre",{className:"whitespace-pre-wrap break-all text-xs font-mono text-muted",children:JSON.stringify(At,null,2)})]})]}),E.jsx("div",{className:"lg:col-span-8 h-full flex flex-col min-h-[400px]",children:E.jsx("div",{className:"card h-full flex flex-col p-0 overflow-hidden",children:o?E.jsx($l,{ref:X,midiData:o,progress:m,duration:Vn,generationLength:x,setGenerationLength:y,onSeek:ie,onChordsChange:bt,onMute:re,onSolo:qn,onDelete:gn,onClear:tn,trackMutes:Xt,trackSolos:A,selectionEnabled:ut.find(Nt=>Nt.model_name===O)?.rule?.gen_measure_count===!0}):E.jsx("div",{className:"h-full p-6",children:(()=>{const Nt=ut.find(Ht=>Ht.model_name===O),Ct=Nt?.rule?.input_midi!==!1,Ft=Nt?.rule?.gen_measure_count===!0;if(Ct)return E.jsx(wN,{onMidiUpload:xt});{new Ye.Midi().addTrack();const Lt=new Ye.Midi;return Lt.header.tempos.push({bpm:C||120,ticks:0}),Lt.header.timeSignatures.push({timeSignature:[4,4],ticks:0}),Lt.addTrack(),E.jsx($l,{ref:X,midiData:Lt,progress:m,duration:Vn,generationLength:x,setGenerationLength:y,onSeek:ie,onChordsChange:bt,onMute:re,onSolo:qn,onDelete:gn,onClear:tn,trackMutes:Xt,trackSolos:A,selectionEnabled:Ft})}})()})})})]}):E.jsxs("div",{className:"flex flex-col justify-center items-center h-full gap-4",children:[E.jsx(pv,{className:"w-12 h-12 animate-spin text-primary"}),E.jsx("p",{className:"text-xl text-muted",children:"Loading Samples..."})]})}):E.jsxs(E.Fragment,{children:[s==="VS"&&E.jsx(BN,{modelInfo:ut,midiData:o,setMidiData:l,pianoRollProps:{midiData:o,setMidiData:l,isPlaying:f==="playing",playbackTime:Ze.seconds,progress:m,onSeek:ie},settings:{temperature:I,setTemperature:z,p:D,setP:V,numGems:Z,setNumGems:nt},onGenerate:un,playbackState:f,onPlay:wt,onPause:qt,onStop:Ut}),s==="PODCAST"&&E.jsx(qN,{modelInfo:ut,onGenerate:un,midiData:o,setMidiData:l,settings:{temperature:I,setTemperature:z,p:D,setP:V,numGems:Z,setNumGems:nt,tempo:C,setTempo:M,key:R,setKey:W,selectedInstruments:T,setSelectedInstruments:K},playbackState:f,onPlay:wt,onPause:qt,onStop:Ut,setNotification:tt,onAppendMidi:it})]})})]})]})}V1.createRoot(document.getElementById("root")).render(E.jsx(Bl.StrictMode,{children:E.jsx(LN,{})}));
