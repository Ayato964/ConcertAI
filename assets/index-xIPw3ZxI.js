(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const h of l.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&r(h)}).observe(document,{childList:!0,subtree:!0});function i(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function r(o){if(o.ep)return;o.ep=!0;const l=i(o);fetch(o.href,l)}})();var Sl=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ll(u){return u&&u.__esModule&&Object.prototype.hasOwnProperty.call(u,"default")?u.default:u}function F_(u){if(Object.prototype.hasOwnProperty.call(u,"__esModule"))return u;var n=u.default;if(typeof n=="function"){var i=function r(){var o=!1;try{o=this instanceof r}catch{}return o?Reflect.construct(n,arguments,this.constructor):n.apply(this,arguments)};i.prototype=n.prototype}else i={};return Object.defineProperty(i,"__esModule",{value:!0}),Object.keys(u).forEach(function(r){var o=Object.getOwnPropertyDescriptor(u,r);Object.defineProperty(i,r,o.get?o:{enumerable:!0,get:function(){return u[r]}})}),i}var gh={exports:{}},Va={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ng;function v1(){if(Ng)return Va;Ng=1;var u=Symbol.for("react.transitional.element"),n=Symbol.for("react.fragment");function i(r,o,l){var h=null;if(l!==void 0&&(h=""+l),o.key!==void 0&&(h=""+o.key),"key"in o){l={};for(var c in o)c!=="key"&&(l[c]=o[c])}else l=o;return o=l.ref,{$$typeof:u,type:r,key:h,ref:o!==void 0?o:null,props:l}}return Va.Fragment=n,Va.jsx=i,Va.jsxs=i,Va}var Eg;function y1(){return Eg||(Eg=1,gh.exports=v1()),gh.exports}var L=y1(),_h={exports:{}},It={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Og;function b1(){if(Og)return It;Og=1;var u=Symbol.for("react.transitional.element"),n=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),h=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),_=Symbol.iterator;function y(U){return U===null||typeof U!="object"?null:(U=_&&U[_]||U["@@iterator"],typeof U=="function"?U:null)}var v={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,b={};function x(U,B,F){this.props=U,this.context=B,this.refs=b,this.updater=F||v}x.prototype.isReactComponent={},x.prototype.setState=function(U,B){if(typeof U!="object"&&typeof U!="function"&&U!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,U,B,"setState")},x.prototype.forceUpdate=function(U){this.updater.enqueueForceUpdate(this,U,"forceUpdate")};function T(){}T.prototype=x.prototype;function N(U,B,F){this.props=U,this.context=B,this.refs=b,this.updater=F||v}var O=N.prototype=new T;O.constructor=N,S(O,x.prototype),O.isPureReactComponent=!0;var E=Array.isArray,C={H:null,A:null,T:null,S:null,V:null},j=Object.prototype.hasOwnProperty;function z(U,B,F,lt,ut,rt){return F=rt.ref,{$$typeof:u,type:U,key:B,ref:F!==void 0?F:null,props:rt}}function R(U,B){return z(U.type,B,void 0,void 0,void 0,U.props)}function V(U){return typeof U=="object"&&U!==null&&U.$$typeof===u}function P(U){var B={"=":"=0",":":"=2"};return"$"+U.replace(/[=:]/g,function(F){return B[F]})}var et=/\/+/g;function D(U,B){return typeof U=="object"&&U!==null&&U.key!=null?P(""+U.key):B.toString(36)}function X(){}function w(U){switch(U.status){case"fulfilled":return U.value;case"rejected":throw U.reason;default:switch(typeof U.status=="string"?U.then(X,X):(U.status="pending",U.then(function(B){U.status==="pending"&&(U.status="fulfilled",U.value=B)},function(B){U.status==="pending"&&(U.status="rejected",U.reason=B)})),U.status){case"fulfilled":return U.value;case"rejected":throw U.reason}}throw U}function J(U,B,F,lt,ut){var rt=typeof U;(rt==="undefined"||rt==="boolean")&&(U=null);var dt=!1;if(U===null)dt=!0;else switch(rt){case"bigint":case"string":case"number":dt=!0;break;case"object":switch(U.$$typeof){case u:case n:dt=!0;break;case m:return dt=U._init,J(dt(U._payload),B,F,lt,ut)}}if(dt)return ut=ut(U),dt=lt===""?"."+D(U,0):lt,E(ut)?(F="",dt!=null&&(F=dt.replace(et,"$&/")+"/"),J(ut,B,F,"",function(kt){return kt})):ut!=null&&(V(ut)&&(ut=R(ut,F+(ut.key==null||U&&U.key===ut.key?"":(""+ut.key).replace(et,"$&/")+"/")+dt)),B.push(ut)),1;dt=0;var xt=lt===""?".":lt+":";if(E(U))for(var ht=0;ht<U.length;ht++)lt=U[ht],rt=xt+D(lt,ht),dt+=J(lt,B,F,rt,ut);else if(ht=y(U),typeof ht=="function")for(U=ht.call(U),ht=0;!(lt=U.next()).done;)lt=lt.value,rt=xt+D(lt,ht++),dt+=J(lt,B,F,rt,ut);else if(rt==="object"){if(typeof U.then=="function")return J(w(U),B,F,lt,ut);throw B=String(U),Error("Objects are not valid as a React child (found: "+(B==="[object Object]"?"object with keys {"+Object.keys(U).join(", ")+"}":B)+"). If you meant to render a collection of children, use an array instead.")}return dt}function G(U,B,F){if(U==null)return U;var lt=[],ut=0;return J(U,lt,"","",function(rt){return B.call(F,rt,ut++)}),lt}function H(U){if(U._status===-1){var B=U._result;B=B(),B.then(function(F){(U._status===0||U._status===-1)&&(U._status=1,U._result=F)},function(F){(U._status===0||U._status===-1)&&(U._status=2,U._result=F)}),U._status===-1&&(U._status=0,U._result=B)}if(U._status===1)return U._result.default;throw U._result}var ct=typeof reportError=="function"?reportError:function(U){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var B=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof U=="object"&&U!==null&&typeof U.message=="string"?String(U.message):String(U),error:U});if(!window.dispatchEvent(B))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",U);return}console.error(U)};function tt(){}return It.Children={map:G,forEach:function(U,B,F){G(U,function(){B.apply(this,arguments)},F)},count:function(U){var B=0;return G(U,function(){B++}),B},toArray:function(U){return G(U,function(B){return B})||[]},only:function(U){if(!V(U))throw Error("React.Children.only expected to receive a single React element child.");return U}},It.Component=x,It.Fragment=i,It.Profiler=o,It.PureComponent=N,It.StrictMode=r,It.Suspense=d,It.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=C,It.__COMPILER_RUNTIME={__proto__:null,c:function(U){return C.H.useMemoCache(U)}},It.cache=function(U){return function(){return U.apply(null,arguments)}},It.cloneElement=function(U,B,F){if(U==null)throw Error("The argument must be a React element, but you passed "+U+".");var lt=S({},U.props),ut=U.key,rt=void 0;if(B!=null)for(dt in B.ref!==void 0&&(rt=void 0),B.key!==void 0&&(ut=""+B.key),B)!j.call(B,dt)||dt==="key"||dt==="__self"||dt==="__source"||dt==="ref"&&B.ref===void 0||(lt[dt]=B[dt]);var dt=arguments.length-2;if(dt===1)lt.children=F;else if(1<dt){for(var xt=Array(dt),ht=0;ht<dt;ht++)xt[ht]=arguments[ht+2];lt.children=xt}return z(U.type,ut,void 0,void 0,rt,lt)},It.createContext=function(U){return U={$$typeof:h,_currentValue:U,_currentValue2:U,_threadCount:0,Provider:null,Consumer:null},U.Provider=U,U.Consumer={$$typeof:l,_context:U},U},It.createElement=function(U,B,F){var lt,ut={},rt=null;if(B!=null)for(lt in B.key!==void 0&&(rt=""+B.key),B)j.call(B,lt)&&lt!=="key"&&lt!=="__self"&&lt!=="__source"&&(ut[lt]=B[lt]);var dt=arguments.length-2;if(dt===1)ut.children=F;else if(1<dt){for(var xt=Array(dt),ht=0;ht<dt;ht++)xt[ht]=arguments[ht+2];ut.children=xt}if(U&&U.defaultProps)for(lt in dt=U.defaultProps,dt)ut[lt]===void 0&&(ut[lt]=dt[lt]);return z(U,rt,void 0,void 0,null,ut)},It.createRef=function(){return{current:null}},It.forwardRef=function(U){return{$$typeof:c,render:U}},It.isValidElement=V,It.lazy=function(U){return{$$typeof:m,_payload:{_status:-1,_result:U},_init:H}},It.memo=function(U,B){return{$$typeof:p,type:U,compare:B===void 0?null:B}},It.startTransition=function(U){var B=C.T,F={};C.T=F;try{var lt=U(),ut=C.S;ut!==null&&ut(F,lt),typeof lt=="object"&&lt!==null&&typeof lt.then=="function"&&lt.then(tt,ct)}catch(rt){ct(rt)}finally{C.T=B}},It.unstable_useCacheRefresh=function(){return C.H.useCacheRefresh()},It.use=function(U){return C.H.use(U)},It.useActionState=function(U,B,F){return C.H.useActionState(U,B,F)},It.useCallback=function(U,B){return C.H.useCallback(U,B)},It.useContext=function(U){return C.H.useContext(U)},It.useDebugValue=function(){},It.useDeferredValue=function(U,B){return C.H.useDeferredValue(U,B)},It.useEffect=function(U,B,F){var lt=C.H;if(typeof F=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return lt.useEffect(U,B)},It.useId=function(){return C.H.useId()},It.useImperativeHandle=function(U,B,F){return C.H.useImperativeHandle(U,B,F)},It.useInsertionEffect=function(U,B){return C.H.useInsertionEffect(U,B)},It.useLayoutEffect=function(U,B){return C.H.useLayoutEffect(U,B)},It.useMemo=function(U,B){return C.H.useMemo(U,B)},It.useOptimistic=function(U,B){return C.H.useOptimistic(U,B)},It.useReducer=function(U,B,F){return C.H.useReducer(U,B,F)},It.useRef=function(U){return C.H.useRef(U)},It.useState=function(U){return C.H.useState(U)},It.useSyncExternalStore=function(U,B,F){return C.H.useSyncExternalStore(U,B,F)},It.useTransition=function(){return C.H.useTransition()},It.version="19.1.1",It}var Mg;function ef(){return Mg||(Mg=1,_h.exports=b1()),_h.exports}var wt=ef();const S1=Ll(wt);var vh={exports:{}},La={},yh={exports:{}},bh={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dg;function x1(){return Dg||(Dg=1,(function(u){function n(G,H){var ct=G.length;G.push(H);t:for(;0<ct;){var tt=ct-1>>>1,U=G[tt];if(0<o(U,H))G[tt]=H,G[ct]=U,ct=tt;else break t}}function i(G){return G.length===0?null:G[0]}function r(G){if(G.length===0)return null;var H=G[0],ct=G.pop();if(ct!==H){G[0]=ct;t:for(var tt=0,U=G.length,B=U>>>1;tt<B;){var F=2*(tt+1)-1,lt=G[F],ut=F+1,rt=G[ut];if(0>o(lt,ct))ut<U&&0>o(rt,lt)?(G[tt]=rt,G[ut]=ct,tt=ut):(G[tt]=lt,G[F]=ct,tt=F);else if(ut<U&&0>o(rt,ct))G[tt]=rt,G[ut]=ct,tt=ut;else break t}}return H}function o(G,H){var ct=G.sortIndex-H.sortIndex;return ct!==0?ct:G.id-H.id}if(u.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;u.unstable_now=function(){return l.now()}}else{var h=Date,c=h.now();u.unstable_now=function(){return h.now()-c}}var d=[],p=[],m=1,_=null,y=3,v=!1,S=!1,b=!1,x=!1,T=typeof setTimeout=="function"?setTimeout:null,N=typeof clearTimeout=="function"?clearTimeout:null,O=typeof setImmediate<"u"?setImmediate:null;function E(G){for(var H=i(p);H!==null;){if(H.callback===null)r(p);else if(H.startTime<=G)r(p),H.sortIndex=H.expirationTime,n(d,H);else break;H=i(p)}}function C(G){if(b=!1,E(G),!S)if(i(d)!==null)S=!0,j||(j=!0,D());else{var H=i(p);H!==null&&J(C,H.startTime-G)}}var j=!1,z=-1,R=5,V=-1;function P(){return x?!0:!(u.unstable_now()-V<R)}function et(){if(x=!1,j){var G=u.unstable_now();V=G;var H=!0;try{t:{S=!1,b&&(b=!1,N(z),z=-1),v=!0;var ct=y;try{e:{for(E(G),_=i(d);_!==null&&!(_.expirationTime>G&&P());){var tt=_.callback;if(typeof tt=="function"){_.callback=null,y=_.priorityLevel;var U=tt(_.expirationTime<=G);if(G=u.unstable_now(),typeof U=="function"){_.callback=U,E(G),H=!0;break e}_===i(d)&&r(d),E(G)}else r(d);_=i(d)}if(_!==null)H=!0;else{var B=i(p);B!==null&&J(C,B.startTime-G),H=!1}}break t}finally{_=null,y=ct,v=!1}H=void 0}}finally{H?D():j=!1}}}var D;if(typeof O=="function")D=function(){O(et)};else if(typeof MessageChannel<"u"){var X=new MessageChannel,w=X.port2;X.port1.onmessage=et,D=function(){w.postMessage(null)}}else D=function(){T(et,0)};function J(G,H){z=T(function(){G(u.unstable_now())},H)}u.unstable_IdlePriority=5,u.unstable_ImmediatePriority=1,u.unstable_LowPriority=4,u.unstable_NormalPriority=3,u.unstable_Profiling=null,u.unstable_UserBlockingPriority=2,u.unstable_cancelCallback=function(G){G.callback=null},u.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<G?Math.floor(1e3/G):5},u.unstable_getCurrentPriorityLevel=function(){return y},u.unstable_next=function(G){switch(y){case 1:case 2:case 3:var H=3;break;default:H=y}var ct=y;y=H;try{return G()}finally{y=ct}},u.unstable_requestPaint=function(){x=!0},u.unstable_runWithPriority=function(G,H){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var ct=y;y=G;try{return H()}finally{y=ct}},u.unstable_scheduleCallback=function(G,H,ct){var tt=u.unstable_now();switch(typeof ct=="object"&&ct!==null?(ct=ct.delay,ct=typeof ct=="number"&&0<ct?tt+ct:tt):ct=tt,G){case 1:var U=-1;break;case 2:U=250;break;case 5:U=1073741823;break;case 4:U=1e4;break;default:U=5e3}return U=ct+U,G={id:m++,callback:H,priorityLevel:G,startTime:ct,expirationTime:U,sortIndex:-1},ct>tt?(G.sortIndex=ct,n(p,G),i(d)===null&&G===i(p)&&(b?(N(z),z=-1):b=!0,J(C,ct-tt))):(G.sortIndex=U,n(d,G),S||v||(S=!0,j||(j=!0,D()))),G},u.unstable_shouldYield=P,u.unstable_wrapCallback=function(G){var H=y;return function(){var ct=y;y=H;try{return G.apply(this,arguments)}finally{y=ct}}}})(bh)),bh}var Rg;function T1(){return Rg||(Rg=1,yh.exports=x1()),yh.exports}var Sh={exports:{}},Ke={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zg;function w1(){if(zg)return Ke;zg=1;var u=ef();function n(d){var p="https://react.dev/errors/"+d;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var m=2;m<arguments.length;m++)p+="&args[]="+encodeURIComponent(arguments[m])}return"Minified React error #"+d+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var r={d:{f:i,r:function(){throw Error(n(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function l(d,p,m){var _=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:_==null?null:""+_,children:d,containerInfo:p,implementation:m}}var h=u.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(d,p){if(d==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return Ke.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Ke.createPortal=function(d,p){var m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(n(299));return l(d,p,null,m)},Ke.flushSync=function(d){var p=h.T,m=r.p;try{if(h.T=null,r.p=2,d)return d()}finally{h.T=p,r.p=m,r.d.f()}},Ke.preconnect=function(d,p){typeof d=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,r.d.C(d,p))},Ke.prefetchDNS=function(d){typeof d=="string"&&r.d.D(d)},Ke.preinit=function(d,p){if(typeof d=="string"&&p&&typeof p.as=="string"){var m=p.as,_=c(m,p.crossOrigin),y=typeof p.integrity=="string"?p.integrity:void 0,v=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;m==="style"?r.d.S(d,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:_,integrity:y,fetchPriority:v}):m==="script"&&r.d.X(d,{crossOrigin:_,integrity:y,fetchPriority:v,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},Ke.preinitModule=function(d,p){if(typeof d=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var m=c(p.as,p.crossOrigin);r.d.M(d,{crossOrigin:m,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&r.d.M(d)},Ke.preload=function(d,p){if(typeof d=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var m=p.as,_=c(m,p.crossOrigin);r.d.L(d,m,{crossOrigin:_,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},Ke.preloadModule=function(d,p){if(typeof d=="string")if(p){var m=c(p.as,p.crossOrigin);r.d.m(d,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:m,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else r.d.m(d)},Ke.requestFormReset=function(d){r.d.r(d)},Ke.unstable_batchedUpdates=function(d,p){return d(p)},Ke.useFormState=function(d,p,m){return h.H.useFormState(d,p,m)},Ke.useFormStatus=function(){return h.H.useHostTransitionStatus()},Ke.version="19.1.1",Ke}var jg;function A1(){if(jg)return Sh.exports;jg=1;function u(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(u)}catch(n){console.error(n)}}return u(),Sh.exports=w1(),Sh.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ug;function k1(){if(Ug)return La;Ug=1;var u=T1(),n=ef(),i=A1();function r(t){var e="https://react.dev/errors/"+t;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)e+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function l(t){var e=t,s=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,(e.flags&4098)!==0&&(s=e.return),t=e.return;while(t)}return e.tag===3?s:null}function h(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function c(t){if(l(t)!==t)throw Error(r(188))}function d(t){var e=t.alternate;if(!e){if(e=l(t),e===null)throw Error(r(188));return e!==t?null:t}for(var s=t,a=e;;){var f=s.return;if(f===null)break;var g=f.alternate;if(g===null){if(a=f.return,a!==null){s=a;continue}break}if(f.child===g.child){for(g=f.child;g;){if(g===s)return c(f),t;if(g===a)return c(f),e;g=g.sibling}throw Error(r(188))}if(s.return!==a.return)s=f,a=g;else{for(var k=!1,M=f.child;M;){if(M===s){k=!0,s=f,a=g;break}if(M===a){k=!0,a=f,s=g;break}M=M.sibling}if(!k){for(M=g.child;M;){if(M===s){k=!0,s=g,a=f;break}if(M===a){k=!0,a=g,s=f;break}M=M.sibling}if(!k)throw Error(r(189))}}if(s.alternate!==a)throw Error(r(190))}if(s.tag!==3)throw Error(r(188));return s.stateNode.current===s?t:e}function p(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t;for(t=t.child;t!==null;){if(e=p(t),e!==null)return e;t=t.sibling}return null}var m=Object.assign,_=Symbol.for("react.element"),y=Symbol.for("react.transitional.element"),v=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),b=Symbol.for("react.strict_mode"),x=Symbol.for("react.profiler"),T=Symbol.for("react.provider"),N=Symbol.for("react.consumer"),O=Symbol.for("react.context"),E=Symbol.for("react.forward_ref"),C=Symbol.for("react.suspense"),j=Symbol.for("react.suspense_list"),z=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),V=Symbol.for("react.activity"),P=Symbol.for("react.memo_cache_sentinel"),et=Symbol.iterator;function D(t){return t===null||typeof t!="object"?null:(t=et&&t[et]||t["@@iterator"],typeof t=="function"?t:null)}var X=Symbol.for("react.client.reference");function w(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===X?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case S:return"Fragment";case x:return"Profiler";case b:return"StrictMode";case C:return"Suspense";case j:return"SuspenseList";case V:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case v:return"Portal";case O:return(t.displayName||"Context")+".Provider";case N:return(t._context.displayName||"Context")+".Consumer";case E:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case z:return e=t.displayName||null,e!==null?e:w(t.type)||"Memo";case R:e=t._payload,t=t._init;try{return w(t(e))}catch{}}return null}var J=Array.isArray,G=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,H=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ct={pending:!1,data:null,method:null,action:null},tt=[],U=-1;function B(t){return{current:t}}function F(t){0>U||(t.current=tt[U],tt[U]=null,U--)}function lt(t,e){U++,tt[U]=t.current,t.current=e}var ut=B(null),rt=B(null),dt=B(null),xt=B(null);function ht(t,e){switch(lt(dt,e),lt(rt,t),lt(ut,null),e.nodeType){case 9:case 11:t=(t=e.documentElement)&&(t=t.namespaceURI)?ng(t):0;break;default:if(t=e.tagName,e=e.namespaceURI)e=ng(e),t=ig(e,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}F(ut),lt(ut,t)}function kt(){F(ut),F(rt),F(dt)}function jt(t){t.memoizedState!==null&&lt(xt,t);var e=ut.current,s=ig(e,t.type);e!==s&&(lt(rt,t),lt(ut,s))}function Lt(t){rt.current===t&&(F(ut),F(rt)),xt.current===t&&(F(xt),ja._currentValue=ct)}var Jt=Object.prototype.hasOwnProperty,ve=u.unstable_scheduleCallback,A=u.unstable_cancelCallback,Q=u.unstable_shouldYield,K=u.unstable_requestPaint,q=u.unstable_now,I=u.unstable_getCurrentPriorityLevel,Y=u.unstable_ImmediatePriority,ft=u.unstable_UserBlockingPriority,mt=u.unstable_NormalPriority,nt=u.unstable_LowPriority,vt=u.unstable_IdlePriority,Tt=u.log,yt=u.unstable_setDisableYieldValue,Ct=null,Rt=null;function bt(t){if(typeof Tt=="function"&&yt(t),Rt&&typeof Rt.setStrictMode=="function")try{Rt.setStrictMode(Ct,t)}catch{}}var St=Math.clz32?Math.clz32:he,qt=Math.log,Ut=Math.LN2;function he(t){return t>>>=0,t===0?32:31-(qt(t)/Ut|0)|0}var zt=256,oe=4194304;function ee(t){var e=t&42;if(e!==0)return e;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Wt(t,e,s){var a=t.pendingLanes;if(a===0)return 0;var f=0,g=t.suspendedLanes,k=t.pingedLanes;t=t.warmLanes;var M=a&134217727;return M!==0?(a=M&~g,a!==0?f=ee(a):(k&=M,k!==0?f=ee(k):s||(s=M&~t,s!==0&&(f=ee(s))))):(M=a&~g,M!==0?f=ee(M):k!==0?f=ee(k):s||(s=a&~t,s!==0&&(f=ee(s)))),f===0?0:e!==0&&e!==f&&(e&g)===0&&(g=f&-f,s=e&-e,g>=s||g===32&&(s&4194048)!==0)?e:f}function Yt(t,e){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&e)===0}function je(t,e){switch(t){case 1:case 2:case 4:case 8:case 64:return e+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function pn(){var t=zt;return zt<<=1,(zt&4194048)===0&&(zt=256),t}function Ue(){var t=oe;return oe<<=1,(oe&62914560)===0&&(oe=4194304),t}function Pe(t){for(var e=[],s=0;31>s;s++)e.push(t);return e}function Xe(t,e){t.pendingLanes|=e,e!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function qn(t,e,s,a,f,g){var k=t.pendingLanes;t.pendingLanes=s,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=s,t.entangledLanes&=s,t.errorRecoveryDisabledLanes&=s,t.shellSuspendCounter=0;var M=t.entanglements,Z=t.expirationTimes,st=t.hiddenUpdates;for(s=k&~s;0<s;){var pt=31-St(s),_t=1<<pt;M[pt]=0,Z[pt]=-1;var at=st[pt];if(at!==null)for(st[pt]=null,pt=0;pt<at.length;pt++){var ot=at[pt];ot!==null&&(ot.lane&=-536870913)}s&=~_t}a!==0&&Ni(t,a,0),g!==0&&f===0&&t.tag!==0&&(t.suspendedLanes|=g&~(k&~e))}function Ni(t,e,s){t.pendingLanes|=e,t.suspendedLanes&=~e;var a=31-St(e);t.entangledLanes|=e,t.entanglements[a]=t.entanglements[a]|1073741824|s&4194090}function mn(t,e){var s=t.entangledLanes|=e;for(t=t.entanglements;s;){var a=31-St(s),f=1<<a;f&e|t[a]&e&&(t[a]|=e),s&=~f}}function gn(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function us(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function uo(){var t=H.p;return t!==0?t:(t=window.event,t===void 0?32:xg(t.type))}function ou(t,e){var s=H.p;try{return H.p=t,e()}finally{H.p=s}}var Ei=Math.random().toString(36).slice(2),We="__reactFiber$"+Ei,an="__reactProps$"+Ei,Ls="__reactContainer$"+Ei,lu="__reactEvents$"+Ei,lv="__reactListeners$"+Ei,uv="__reactHandles$"+Ei,Gf="__reactResources$"+Ei,Yr="__reactMarker$"+Ei;function uu(t){delete t[We],delete t[an],delete t[lu],delete t[lv],delete t[uv]}function Fs(t){var e=t[We];if(e)return e;for(var s=t.parentNode;s;){if(e=s[Ls]||s[We]){if(s=e.alternate,e.child!==null||s!==null&&s.child!==null)for(t=og(t);t!==null;){if(s=t[We])return s;t=og(t)}return e}t=s,s=t.parentNode}return null}function Hs(t){if(t=t[We]||t[Ls]){var e=t.tag;if(e===5||e===6||e===13||e===26||e===27||e===3)return t}return null}function Pr(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t.stateNode;throw Error(r(33))}function Gs(t){var e=t[Gf];return e||(e=t[Gf]={hoistableStyles:new Map,hoistableScripts:new Map}),e}function Be(t){t[Yr]=!0}var Zf=new Set,Yf={};function cs(t,e){Zs(t,e),Zs(t+"Capture",e)}function Zs(t,e){for(Yf[t]=e,t=0;t<e.length;t++)Zf.add(e[t])}var cv=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Pf={},Xf={};function hv(t){return Jt.call(Xf,t)?!0:Jt.call(Pf,t)?!1:cv.test(t)?Xf[t]=!0:(Pf[t]=!0,!1)}function co(t,e,s){if(hv(e))if(s===null)t.removeAttribute(e);else{switch(typeof s){case"undefined":case"function":case"symbol":t.removeAttribute(e);return;case"boolean":var a=e.toLowerCase().slice(0,5);if(a!=="data-"&&a!=="aria-"){t.removeAttribute(e);return}}t.setAttribute(e,""+s)}}function ho(t,e,s){if(s===null)t.removeAttribute(e);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(e);return}t.setAttribute(e,""+s)}}function ri(t,e,s,a){if(a===null)t.removeAttribute(s);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(s);return}t.setAttributeNS(e,s,""+a)}}var cu,Wf;function Ys(t){if(cu===void 0)try{throw Error()}catch(s){var e=s.stack.trim().match(/\n( *(at )?)/);cu=e&&e[1]||"",Wf=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+cu+t+Wf}var hu=!1;function fu(t,e){if(!t||hu)return"";hu=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var a={DetermineComponentFrameRoot:function(){try{if(e){var _t=function(){throw Error()};if(Object.defineProperty(_t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(_t,[])}catch(ot){var at=ot}Reflect.construct(t,[],_t)}else{try{_t.call()}catch(ot){at=ot}t.call(_t.prototype)}}else{try{throw Error()}catch(ot){at=ot}(_t=t())&&typeof _t.catch=="function"&&_t.catch(function(){})}}catch(ot){if(ot&&at&&typeof ot.stack=="string")return[ot.stack,at.stack]}return[null,null]}};a.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(a.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(a.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var g=a.DetermineComponentFrameRoot(),k=g[0],M=g[1];if(k&&M){var Z=k.split(`
`),st=M.split(`
`);for(f=a=0;a<Z.length&&!Z[a].includes("DetermineComponentFrameRoot");)a++;for(;f<st.length&&!st[f].includes("DetermineComponentFrameRoot");)f++;if(a===Z.length||f===st.length)for(a=Z.length-1,f=st.length-1;1<=a&&0<=f&&Z[a]!==st[f];)f--;for(;1<=a&&0<=f;a--,f--)if(Z[a]!==st[f]){if(a!==1||f!==1)do if(a--,f--,0>f||Z[a]!==st[f]){var pt=`
`+Z[a].replace(" at new "," at ");return t.displayName&&pt.includes("<anonymous>")&&(pt=pt.replace("<anonymous>",t.displayName)),pt}while(1<=a&&0<=f);break}}}finally{hu=!1,Error.prepareStackTrace=s}return(s=t?t.displayName||t.name:"")?Ys(s):""}function fv(t){switch(t.tag){case 26:case 27:case 5:return Ys(t.type);case 16:return Ys("Lazy");case 13:return Ys("Suspense");case 19:return Ys("SuspenseList");case 0:case 15:return fu(t.type,!1);case 11:return fu(t.type.render,!1);case 1:return fu(t.type,!0);case 31:return Ys("Activity");default:return""}}function Qf(t){try{var e="";do e+=fv(t),t=t.return;while(t);return e}catch(s){return`
Error generating stack: `+s.message+`
`+s.stack}}function Nn(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Kf(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function dv(t){var e=Kf(t)?"checked":"value",s=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),a=""+t[e];if(!t.hasOwnProperty(e)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var f=s.get,g=s.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return f.call(this)},set:function(k){a=""+k,g.call(this,k)}}),Object.defineProperty(t,e,{enumerable:s.enumerable}),{getValue:function(){return a},setValue:function(k){a=""+k},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function fo(t){t._valueTracker||(t._valueTracker=dv(t))}function Jf(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var s=e.getValue(),a="";return t&&(a=Kf(t)?t.checked?"true":"false":t.value),t=a,t!==s?(e.setValue(t),!0):!1}function po(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var pv=/[\n"\\]/g;function En(t){return t.replace(pv,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function du(t,e,s,a,f,g,k,M){t.name="",k!=null&&typeof k!="function"&&typeof k!="symbol"&&typeof k!="boolean"?t.type=k:t.removeAttribute("type"),e!=null?k==="number"?(e===0&&t.value===""||t.value!=e)&&(t.value=""+Nn(e)):t.value!==""+Nn(e)&&(t.value=""+Nn(e)):k!=="submit"&&k!=="reset"||t.removeAttribute("value"),e!=null?pu(t,k,Nn(e)):s!=null?pu(t,k,Nn(s)):a!=null&&t.removeAttribute("value"),f==null&&g!=null&&(t.defaultChecked=!!g),f!=null&&(t.checked=f&&typeof f!="function"&&typeof f!="symbol"),M!=null&&typeof M!="function"&&typeof M!="symbol"&&typeof M!="boolean"?t.name=""+Nn(M):t.removeAttribute("name")}function $f(t,e,s,a,f,g,k,M){if(g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(t.type=g),e!=null||s!=null){if(!(g!=="submit"&&g!=="reset"||e!=null))return;s=s!=null?""+Nn(s):"",e=e!=null?""+Nn(e):s,M||e===t.value||(t.value=e),t.defaultValue=e}a=a??f,a=typeof a!="function"&&typeof a!="symbol"&&!!a,t.checked=M?t.checked:!!a,t.defaultChecked=!!a,k!=null&&typeof k!="function"&&typeof k!="symbol"&&typeof k!="boolean"&&(t.name=k)}function pu(t,e,s){e==="number"&&po(t.ownerDocument)===t||t.defaultValue===""+s||(t.defaultValue=""+s)}function Ps(t,e,s,a){if(t=t.options,e){e={};for(var f=0;f<s.length;f++)e["$"+s[f]]=!0;for(s=0;s<t.length;s++)f=e.hasOwnProperty("$"+t[s].value),t[s].selected!==f&&(t[s].selected=f),f&&a&&(t[s].defaultSelected=!0)}else{for(s=""+Nn(s),e=null,f=0;f<t.length;f++){if(t[f].value===s){t[f].selected=!0,a&&(t[f].defaultSelected=!0);return}e!==null||t[f].disabled||(e=t[f])}e!==null&&(e.selected=!0)}}function td(t,e,s){if(e!=null&&(e=""+Nn(e),e!==t.value&&(t.value=e),s==null)){t.defaultValue!==e&&(t.defaultValue=e);return}t.defaultValue=s!=null?""+Nn(s):""}function ed(t,e,s,a){if(e==null){if(a!=null){if(s!=null)throw Error(r(92));if(J(a)){if(1<a.length)throw Error(r(93));a=a[0]}s=a}s==null&&(s=""),e=s}s=Nn(e),t.defaultValue=s,a=t.textContent,a===s&&a!==""&&a!==null&&(t.value=a)}function Xs(t,e){if(e){var s=t.firstChild;if(s&&s===t.lastChild&&s.nodeType===3){s.nodeValue=e;return}}t.textContent=e}var mv=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function nd(t,e,s){var a=e.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?a?t.setProperty(e,""):e==="float"?t.cssFloat="":t[e]="":a?t.setProperty(e,s):typeof s!="number"||s===0||mv.has(e)?e==="float"?t.cssFloat=s:t[e]=(""+s).trim():t[e]=s+"px"}function id(t,e,s){if(e!=null&&typeof e!="object")throw Error(r(62));if(t=t.style,s!=null){for(var a in s)!s.hasOwnProperty(a)||e!=null&&e.hasOwnProperty(a)||(a.indexOf("--")===0?t.setProperty(a,""):a==="float"?t.cssFloat="":t[a]="");for(var f in e)a=e[f],e.hasOwnProperty(f)&&s[f]!==a&&nd(t,f,a)}else for(var g in e)e.hasOwnProperty(g)&&nd(t,g,e[g])}function mu(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var gv=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),_v=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function mo(t){return _v.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var gu=null;function _u(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ws=null,Qs=null;function sd(t){var e=Hs(t);if(e&&(t=e.stateNode)){var s=t[an]||null;t:switch(t=e.stateNode,e.type){case"input":if(du(t,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),e=s.name,s.type==="radio"&&e!=null){for(s=t;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+En(""+e)+'"][type="radio"]'),e=0;e<s.length;e++){var a=s[e];if(a!==t&&a.form===t.form){var f=a[an]||null;if(!f)throw Error(r(90));du(a,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(e=0;e<s.length;e++)a=s[e],a.form===t.form&&Jf(a)}break t;case"textarea":td(t,s.value,s.defaultValue);break t;case"select":e=s.value,e!=null&&Ps(t,!!s.multiple,e,!1)}}}var vu=!1;function rd(t,e,s){if(vu)return t(e,s);vu=!0;try{var a=t(e);return a}finally{if(vu=!1,(Ws!==null||Qs!==null)&&(tl(),Ws&&(e=Ws,t=Qs,Qs=Ws=null,sd(e),t)))for(e=0;e<t.length;e++)sd(t[e])}}function Xr(t,e){var s=t.stateNode;if(s===null)return null;var a=s[an]||null;if(a===null)return null;s=a[e];t:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(t=t.type,a=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!a;break t;default:t=!1}if(t)return null;if(s&&typeof s!="function")throw Error(r(231,e,typeof s));return s}var ai=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),yu=!1;if(ai)try{var Wr={};Object.defineProperty(Wr,"passive",{get:function(){yu=!0}}),window.addEventListener("test",Wr,Wr),window.removeEventListener("test",Wr,Wr)}catch{yu=!1}var Oi=null,bu=null,go=null;function ad(){if(go)return go;var t,e=bu,s=e.length,a,f="value"in Oi?Oi.value:Oi.textContent,g=f.length;for(t=0;t<s&&e[t]===f[t];t++);var k=s-t;for(a=1;a<=k&&e[s-a]===f[g-a];a++);return go=f.slice(t,1<a?1-a:void 0)}function _o(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function vo(){return!0}function od(){return!1}function on(t){function e(s,a,f,g,k){this._reactName=s,this._targetInst=f,this.type=a,this.nativeEvent=g,this.target=k,this.currentTarget=null;for(var M in t)t.hasOwnProperty(M)&&(s=t[M],this[M]=s?s(g):g[M]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?vo:od,this.isPropagationStopped=od,this}return m(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=vo)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=vo)},persist:function(){},isPersistent:vo}),e}var hs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},yo=on(hs),Qr=m({},hs,{view:0,detail:0}),vv=on(Qr),Su,xu,Kr,bo=m({},Qr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:wu,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Kr&&(Kr&&t.type==="mousemove"?(Su=t.screenX-Kr.screenX,xu=t.screenY-Kr.screenY):xu=Su=0,Kr=t),Su)},movementY:function(t){return"movementY"in t?t.movementY:xu}}),ld=on(bo),yv=m({},bo,{dataTransfer:0}),bv=on(yv),Sv=m({},Qr,{relatedTarget:0}),Tu=on(Sv),xv=m({},hs,{animationName:0,elapsedTime:0,pseudoElement:0}),Tv=on(xv),wv=m({},hs,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Av=on(wv),kv=m({},hs,{data:0}),ud=on(kv),Cv={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Nv={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ev={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ov(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Ev[t])?!!e[t]:!1}function wu(){return Ov}var Mv=m({},Qr,{key:function(t){if(t.key){var e=Cv[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=_o(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Nv[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:wu,charCode:function(t){return t.type==="keypress"?_o(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?_o(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Dv=on(Mv),Rv=m({},bo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),cd=on(Rv),zv=m({},Qr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:wu}),jv=on(zv),Uv=m({},hs,{propertyName:0,elapsedTime:0,pseudoElement:0}),Bv=on(Uv),Iv=m({},bo,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),qv=on(Iv),Vv=m({},hs,{newState:0,oldState:0}),Lv=on(Vv),Fv=[9,13,27,32],Au=ai&&"CompositionEvent"in window,Jr=null;ai&&"documentMode"in document&&(Jr=document.documentMode);var Hv=ai&&"TextEvent"in window&&!Jr,hd=ai&&(!Au||Jr&&8<Jr&&11>=Jr),fd=" ",dd=!1;function pd(t,e){switch(t){case"keyup":return Fv.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function md(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ks=!1;function Gv(t,e){switch(t){case"compositionend":return md(e);case"keypress":return e.which!==32?null:(dd=!0,fd);case"textInput":return t=e.data,t===fd&&dd?null:t;default:return null}}function Zv(t,e){if(Ks)return t==="compositionend"||!Au&&pd(t,e)?(t=ad(),go=bu=Oi=null,Ks=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return hd&&e.locale!=="ko"?null:e.data;default:return null}}var Yv={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function gd(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!Yv[t.type]:e==="textarea"}function _d(t,e,s,a){Ws?Qs?Qs.push(a):Qs=[a]:Ws=a,e=al(e,"onChange"),0<e.length&&(s=new yo("onChange","change",null,s,a),t.push({event:s,listeners:e}))}var $r=null,ta=null;function Pv(t){Km(t,0)}function So(t){var e=Pr(t);if(Jf(e))return t}function vd(t,e){if(t==="change")return e}var yd=!1;if(ai){var ku;if(ai){var Cu="oninput"in document;if(!Cu){var bd=document.createElement("div");bd.setAttribute("oninput","return;"),Cu=typeof bd.oninput=="function"}ku=Cu}else ku=!1;yd=ku&&(!document.documentMode||9<document.documentMode)}function Sd(){$r&&($r.detachEvent("onpropertychange",xd),ta=$r=null)}function xd(t){if(t.propertyName==="value"&&So(ta)){var e=[];_d(e,ta,t,_u(t)),rd(Pv,e)}}function Xv(t,e,s){t==="focusin"?(Sd(),$r=e,ta=s,$r.attachEvent("onpropertychange",xd)):t==="focusout"&&Sd()}function Wv(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return So(ta)}function Qv(t,e){if(t==="click")return So(e)}function Kv(t,e){if(t==="input"||t==="change")return So(e)}function Jv(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var _n=typeof Object.is=="function"?Object.is:Jv;function ea(t,e){if(_n(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var s=Object.keys(t),a=Object.keys(e);if(s.length!==a.length)return!1;for(a=0;a<s.length;a++){var f=s[a];if(!Jt.call(e,f)||!_n(t[f],e[f]))return!1}return!0}function Td(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function wd(t,e){var s=Td(t);t=0;for(var a;s;){if(s.nodeType===3){if(a=t+s.textContent.length,t<=e&&a>=e)return{node:s,offset:e-t};t=a}t:{for(;s;){if(s.nextSibling){s=s.nextSibling;break t}s=s.parentNode}s=void 0}s=Td(s)}}function Ad(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Ad(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function kd(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var e=po(t.document);e instanceof t.HTMLIFrameElement;){try{var s=typeof e.contentWindow.location.href=="string"}catch{s=!1}if(s)t=e.contentWindow;else break;e=po(t.document)}return e}function Nu(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}var $v=ai&&"documentMode"in document&&11>=document.documentMode,Js=null,Eu=null,na=null,Ou=!1;function Cd(t,e,s){var a=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;Ou||Js==null||Js!==po(a)||(a=Js,"selectionStart"in a&&Nu(a)?a={start:a.selectionStart,end:a.selectionEnd}:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection(),a={anchorNode:a.anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset}),na&&ea(na,a)||(na=a,a=al(Eu,"onSelect"),0<a.length&&(e=new yo("onSelect","select",null,e,s),t.push({event:e,listeners:a}),e.target=Js)))}function fs(t,e){var s={};return s[t.toLowerCase()]=e.toLowerCase(),s["Webkit"+t]="webkit"+e,s["Moz"+t]="moz"+e,s}var $s={animationend:fs("Animation","AnimationEnd"),animationiteration:fs("Animation","AnimationIteration"),animationstart:fs("Animation","AnimationStart"),transitionrun:fs("Transition","TransitionRun"),transitionstart:fs("Transition","TransitionStart"),transitioncancel:fs("Transition","TransitionCancel"),transitionend:fs("Transition","TransitionEnd")},Mu={},Nd={};ai&&(Nd=document.createElement("div").style,"AnimationEvent"in window||(delete $s.animationend.animation,delete $s.animationiteration.animation,delete $s.animationstart.animation),"TransitionEvent"in window||delete $s.transitionend.transition);function ds(t){if(Mu[t])return Mu[t];if(!$s[t])return t;var e=$s[t],s;for(s in e)if(e.hasOwnProperty(s)&&s in Nd)return Mu[t]=e[s];return t}var Ed=ds("animationend"),Od=ds("animationiteration"),Md=ds("animationstart"),ty=ds("transitionrun"),ey=ds("transitionstart"),ny=ds("transitioncancel"),Dd=ds("transitionend"),Rd=new Map,Du="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Du.push("scrollEnd");function Vn(t,e){Rd.set(t,e),cs(e,[t])}var zd=new WeakMap;function On(t,e){if(typeof t=="object"&&t!==null){var s=zd.get(t);return s!==void 0?s:(e={value:t,source:e,stack:Qf(e)},zd.set(t,e),e)}return{value:t,source:e,stack:Qf(e)}}var Mn=[],tr=0,Ru=0;function xo(){for(var t=tr,e=Ru=tr=0;e<t;){var s=Mn[e];Mn[e++]=null;var a=Mn[e];Mn[e++]=null;var f=Mn[e];Mn[e++]=null;var g=Mn[e];if(Mn[e++]=null,a!==null&&f!==null){var k=a.pending;k===null?f.next=f:(f.next=k.next,k.next=f),a.pending=f}g!==0&&jd(s,f,g)}}function To(t,e,s,a){Mn[tr++]=t,Mn[tr++]=e,Mn[tr++]=s,Mn[tr++]=a,Ru|=a,t.lanes|=a,t=t.alternate,t!==null&&(t.lanes|=a)}function zu(t,e,s,a){return To(t,e,s,a),wo(t)}function er(t,e){return To(t,null,null,e),wo(t)}function jd(t,e,s){t.lanes|=s;var a=t.alternate;a!==null&&(a.lanes|=s);for(var f=!1,g=t.return;g!==null;)g.childLanes|=s,a=g.alternate,a!==null&&(a.childLanes|=s),g.tag===22&&(t=g.stateNode,t===null||t._visibility&1||(f=!0)),t=g,g=g.return;return t.tag===3?(g=t.stateNode,f&&e!==null&&(f=31-St(s),t=g.hiddenUpdates,a=t[f],a===null?t[f]=[e]:a.push(e),e.lane=s|536870912),g):null}function wo(t){if(50<Ca)throw Ca=0,Vc=null,Error(r(185));for(var e=t.return;e!==null;)t=e,e=t.return;return t.tag===3?t.stateNode:null}var nr={};function iy(t,e,s,a){this.tag=t,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function vn(t,e,s,a){return new iy(t,e,s,a)}function ju(t){return t=t.prototype,!(!t||!t.isReactComponent)}function oi(t,e){var s=t.alternate;return s===null?(s=vn(t.tag,e,t.key,t.mode),s.elementType=t.elementType,s.type=t.type,s.stateNode=t.stateNode,s.alternate=t,t.alternate=s):(s.pendingProps=e,s.type=t.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=t.flags&65011712,s.childLanes=t.childLanes,s.lanes=t.lanes,s.child=t.child,s.memoizedProps=t.memoizedProps,s.memoizedState=t.memoizedState,s.updateQueue=t.updateQueue,e=t.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},s.sibling=t.sibling,s.index=t.index,s.ref=t.ref,s.refCleanup=t.refCleanup,s}function Ud(t,e){t.flags&=65011714;var s=t.alternate;return s===null?(t.childLanes=0,t.lanes=e,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=s.childLanes,t.lanes=s.lanes,t.child=s.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=s.memoizedProps,t.memoizedState=s.memoizedState,t.updateQueue=s.updateQueue,t.type=s.type,e=s.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),t}function Ao(t,e,s,a,f,g){var k=0;if(a=t,typeof t=="function")ju(t)&&(k=1);else if(typeof t=="string")k=r1(t,s,ut.current)?26:t==="html"||t==="head"||t==="body"?27:5;else t:switch(t){case V:return t=vn(31,s,e,f),t.elementType=V,t.lanes=g,t;case S:return ps(s.children,f,g,e);case b:k=8,f|=24;break;case x:return t=vn(12,s,e,f|2),t.elementType=x,t.lanes=g,t;case C:return t=vn(13,s,e,f),t.elementType=C,t.lanes=g,t;case j:return t=vn(19,s,e,f),t.elementType=j,t.lanes=g,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case T:case O:k=10;break t;case N:k=9;break t;case E:k=11;break t;case z:k=14;break t;case R:k=16,a=null;break t}k=29,s=Error(r(130,t===null?"null":typeof t,"")),a=null}return e=vn(k,s,e,f),e.elementType=t,e.type=a,e.lanes=g,e}function ps(t,e,s,a){return t=vn(7,t,a,e),t.lanes=s,t}function Uu(t,e,s){return t=vn(6,t,null,e),t.lanes=s,t}function Bu(t,e,s){return e=vn(4,t.children!==null?t.children:[],t.key,e),e.lanes=s,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}var ir=[],sr=0,ko=null,Co=0,Dn=[],Rn=0,ms=null,li=1,ui="";function gs(t,e){ir[sr++]=Co,ir[sr++]=ko,ko=t,Co=e}function Bd(t,e,s){Dn[Rn++]=li,Dn[Rn++]=ui,Dn[Rn++]=ms,ms=t;var a=li;t=ui;var f=32-St(a)-1;a&=~(1<<f),s+=1;var g=32-St(e)+f;if(30<g){var k=f-f%5;g=(a&(1<<k)-1).toString(32),a>>=k,f-=k,li=1<<32-St(e)+f|s<<f|a,ui=g+t}else li=1<<g|s<<f|a,ui=t}function Iu(t){t.return!==null&&(gs(t,1),Bd(t,1,0))}function qu(t){for(;t===ko;)ko=ir[--sr],ir[sr]=null,Co=ir[--sr],ir[sr]=null;for(;t===ms;)ms=Dn[--Rn],Dn[Rn]=null,ui=Dn[--Rn],Dn[Rn]=null,li=Dn[--Rn],Dn[Rn]=null}var tn=null,ye=null,Kt=!1,_s=null,Qn=!1,Vu=Error(r(519));function vs(t){var e=Error(r(418,""));throw ra(On(e,t)),Vu}function Id(t){var e=t.stateNode,s=t.type,a=t.memoizedProps;switch(e[We]=t,e[an]=a,s){case"dialog":Gt("cancel",e),Gt("close",e);break;case"iframe":case"object":case"embed":Gt("load",e);break;case"video":case"audio":for(s=0;s<Ea.length;s++)Gt(Ea[s],e);break;case"source":Gt("error",e);break;case"img":case"image":case"link":Gt("error",e),Gt("load",e);break;case"details":Gt("toggle",e);break;case"input":Gt("invalid",e),$f(e,a.value,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name,!0),fo(e);break;case"select":Gt("invalid",e);break;case"textarea":Gt("invalid",e),ed(e,a.value,a.defaultValue,a.children),fo(e)}s=a.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||e.textContent===""+s||a.suppressHydrationWarning===!0||eg(e.textContent,s)?(a.popover!=null&&(Gt("beforetoggle",e),Gt("toggle",e)),a.onScroll!=null&&Gt("scroll",e),a.onScrollEnd!=null&&Gt("scrollend",e),a.onClick!=null&&(e.onclick=ol),e=!0):e=!1,e||vs(t)}function qd(t){for(tn=t.return;tn;)switch(tn.tag){case 5:case 13:Qn=!1;return;case 27:case 3:Qn=!0;return;default:tn=tn.return}}function ia(t){if(t!==tn)return!1;if(!Kt)return qd(t),Kt=!0,!1;var e=t.tag,s;if((s=e!==3&&e!==27)&&((s=e===5)&&(s=t.type,s=!(s!=="form"&&s!=="button")||nh(t.type,t.memoizedProps)),s=!s),s&&ye&&vs(t),qd(t),e===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));t:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8)if(s=t.data,s==="/$"){if(e===0){ye=Fn(t.nextSibling);break t}e--}else s!=="$"&&s!=="$!"&&s!=="$?"||e++;t=t.nextSibling}ye=null}}else e===27?(e=ye,Yi(t.type)?(t=ah,ah=null,ye=t):ye=e):ye=tn?Fn(t.stateNode.nextSibling):null;return!0}function sa(){ye=tn=null,Kt=!1}function Vd(){var t=_s;return t!==null&&(cn===null?cn=t:cn.push.apply(cn,t),_s=null),t}function ra(t){_s===null?_s=[t]:_s.push(t)}var Lu=B(null),ys=null,ci=null;function Mi(t,e,s){lt(Lu,e._currentValue),e._currentValue=s}function hi(t){t._currentValue=Lu.current,F(Lu)}function Fu(t,e,s){for(;t!==null;){var a=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,a!==null&&(a.childLanes|=e)):a!==null&&(a.childLanes&e)!==e&&(a.childLanes|=e),t===s)break;t=t.return}}function Hu(t,e,s,a){var f=t.child;for(f!==null&&(f.return=t);f!==null;){var g=f.dependencies;if(g!==null){var k=f.child;g=g.firstContext;t:for(;g!==null;){var M=g;g=f;for(var Z=0;Z<e.length;Z++)if(M.context===e[Z]){g.lanes|=s,M=g.alternate,M!==null&&(M.lanes|=s),Fu(g.return,s,t),a||(k=null);break t}g=M.next}}else if(f.tag===18){if(k=f.return,k===null)throw Error(r(341));k.lanes|=s,g=k.alternate,g!==null&&(g.lanes|=s),Fu(k,s,t),k=null}else k=f.child;if(k!==null)k.return=f;else for(k=f;k!==null;){if(k===t){k=null;break}if(f=k.sibling,f!==null){f.return=k.return,k=f;break}k=k.return}f=k}}function aa(t,e,s,a){t=null;for(var f=e,g=!1;f!==null;){if(!g){if((f.flags&524288)!==0)g=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var k=f.alternate;if(k===null)throw Error(r(387));if(k=k.memoizedProps,k!==null){var M=f.type;_n(f.pendingProps.value,k.value)||(t!==null?t.push(M):t=[M])}}else if(f===xt.current){if(k=f.alternate,k===null)throw Error(r(387));k.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(t!==null?t.push(ja):t=[ja])}f=f.return}t!==null&&Hu(e,t,s,a),e.flags|=262144}function No(t){for(t=t.firstContext;t!==null;){if(!_n(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function bs(t){ys=t,ci=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Qe(t){return Ld(ys,t)}function Eo(t,e){return ys===null&&bs(t),Ld(t,e)}function Ld(t,e){var s=e._currentValue;if(e={context:e,memoizedValue:s,next:null},ci===null){if(t===null)throw Error(r(308));ci=e,t.dependencies={lanes:0,firstContext:e},t.flags|=524288}else ci=ci.next=e;return s}var sy=typeof AbortController<"u"?AbortController:function(){var t=[],e=this.signal={aborted:!1,addEventListener:function(s,a){t.push(a)}};this.abort=function(){e.aborted=!0,t.forEach(function(s){return s()})}},ry=u.unstable_scheduleCallback,ay=u.unstable_NormalPriority,De={$$typeof:O,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Gu(){return{controller:new sy,data:new Map,refCount:0}}function oa(t){t.refCount--,t.refCount===0&&ry(ay,function(){t.controller.abort()})}var la=null,Zu=0,rr=0,ar=null;function oy(t,e){if(la===null){var s=la=[];Zu=0,rr=Pc(),ar={status:"pending",value:void 0,then:function(a){s.push(a)}}}return Zu++,e.then(Fd,Fd),e}function Fd(){if(--Zu===0&&la!==null){ar!==null&&(ar.status="fulfilled");var t=la;la=null,rr=0,ar=null;for(var e=0;e<t.length;e++)(0,t[e])()}}function ly(t,e){var s=[],a={status:"pending",value:null,reason:null,then:function(f){s.push(f)}};return t.then(function(){a.status="fulfilled",a.value=e;for(var f=0;f<s.length;f++)(0,s[f])(e)},function(f){for(a.status="rejected",a.reason=f,f=0;f<s.length;f++)(0,s[f])(void 0)}),a}var Hd=G.S;G.S=function(t,e){typeof e=="object"&&e!==null&&typeof e.then=="function"&&oy(t,e),Hd!==null&&Hd(t,e)};var Ss=B(null);function Yu(){var t=Ss.current;return t!==null?t:ue.pooledCache}function Oo(t,e){e===null?lt(Ss,Ss.current):lt(Ss,e.pool)}function Gd(){var t=Yu();return t===null?null:{parent:De._currentValue,pool:t}}var ua=Error(r(460)),Zd=Error(r(474)),Mo=Error(r(542)),Pu={then:function(){}};function Yd(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Do(){}function Pd(t,e,s){switch(s=t[s],s===void 0?t.push(e):s!==e&&(e.then(Do,Do),e=s),e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,Wd(t),t;default:if(typeof e.status=="string")e.then(Do,Do);else{if(t=ue,t!==null&&100<t.shellSuspendCounter)throw Error(r(482));t=e,t.status="pending",t.then(function(a){if(e.status==="pending"){var f=e;f.status="fulfilled",f.value=a}},function(a){if(e.status==="pending"){var f=e;f.status="rejected",f.reason=a}})}switch(e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,Wd(t),t}throw ca=e,ua}}var ca=null;function Xd(){if(ca===null)throw Error(r(459));var t=ca;return ca=null,t}function Wd(t){if(t===ua||t===Mo)throw Error(r(483))}var Di=!1;function Xu(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Wu(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Ri(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function zi(t,e,s){var a=t.updateQueue;if(a===null)return null;if(a=a.shared,($t&2)!==0){var f=a.pending;return f===null?e.next=e:(e.next=f.next,f.next=e),a.pending=e,e=wo(t),jd(t,null,s),e}return To(t,a,e,s),wo(t)}function ha(t,e,s){if(e=e.updateQueue,e!==null&&(e=e.shared,(s&4194048)!==0)){var a=e.lanes;a&=t.pendingLanes,s|=a,e.lanes=s,mn(t,s)}}function Qu(t,e){var s=t.updateQueue,a=t.alternate;if(a!==null&&(a=a.updateQueue,s===a)){var f=null,g=null;if(s=s.firstBaseUpdate,s!==null){do{var k={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};g===null?f=g=k:g=g.next=k,s=s.next}while(s!==null);g===null?f=g=e:g=g.next=e}else f=g=e;s={baseState:a.baseState,firstBaseUpdate:f,lastBaseUpdate:g,shared:a.shared,callbacks:a.callbacks},t.updateQueue=s;return}t=s.lastBaseUpdate,t===null?s.firstBaseUpdate=e:t.next=e,s.lastBaseUpdate=e}var Ku=!1;function fa(){if(Ku){var t=ar;if(t!==null)throw t}}function da(t,e,s,a){Ku=!1;var f=t.updateQueue;Di=!1;var g=f.firstBaseUpdate,k=f.lastBaseUpdate,M=f.shared.pending;if(M!==null){f.shared.pending=null;var Z=M,st=Z.next;Z.next=null,k===null?g=st:k.next=st,k=Z;var pt=t.alternate;pt!==null&&(pt=pt.updateQueue,M=pt.lastBaseUpdate,M!==k&&(M===null?pt.firstBaseUpdate=st:M.next=st,pt.lastBaseUpdate=Z))}if(g!==null){var _t=f.baseState;k=0,pt=st=Z=null,M=g;do{var at=M.lane&-536870913,ot=at!==M.lane;if(ot?(Xt&at)===at:(a&at)===at){at!==0&&at===rr&&(Ku=!0),pt!==null&&(pt=pt.next={lane:0,tag:M.tag,payload:M.payload,callback:null,next:null});t:{var Mt=t,Et=M;at=e;var se=s;switch(Et.tag){case 1:if(Mt=Et.payload,typeof Mt=="function"){_t=Mt.call(se,_t,at);break t}_t=Mt;break t;case 3:Mt.flags=Mt.flags&-65537|128;case 0:if(Mt=Et.payload,at=typeof Mt=="function"?Mt.call(se,_t,at):Mt,at==null)break t;_t=m({},_t,at);break t;case 2:Di=!0}}at=M.callback,at!==null&&(t.flags|=64,ot&&(t.flags|=8192),ot=f.callbacks,ot===null?f.callbacks=[at]:ot.push(at))}else ot={lane:at,tag:M.tag,payload:M.payload,callback:M.callback,next:null},pt===null?(st=pt=ot,Z=_t):pt=pt.next=ot,k|=at;if(M=M.next,M===null){if(M=f.shared.pending,M===null)break;ot=M,M=ot.next,ot.next=null,f.lastBaseUpdate=ot,f.shared.pending=null}}while(!0);pt===null&&(Z=_t),f.baseState=Z,f.firstBaseUpdate=st,f.lastBaseUpdate=pt,g===null&&(f.shared.lanes=0),Fi|=k,t.lanes=k,t.memoizedState=_t}}function Qd(t,e){if(typeof t!="function")throw Error(r(191,t));t.call(e)}function Kd(t,e){var s=t.callbacks;if(s!==null)for(t.callbacks=null,t=0;t<s.length;t++)Qd(s[t],e)}var or=B(null),Ro=B(0);function Jd(t,e){t=vi,lt(Ro,t),lt(or,e),vi=t|e.baseLanes}function Ju(){lt(Ro,vi),lt(or,or.current)}function $u(){vi=Ro.current,F(or),F(Ro)}var ji=0,Vt=null,ne=null,ke=null,zo=!1,lr=!1,xs=!1,jo=0,pa=0,ur=null,uy=0;function Te(){throw Error(r(321))}function tc(t,e){if(e===null)return!1;for(var s=0;s<e.length&&s<t.length;s++)if(!_n(t[s],e[s]))return!1;return!0}function ec(t,e,s,a,f,g){return ji=g,Vt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,G.H=t===null||t.memoizedState===null?jp:Up,xs=!1,g=s(a,f),xs=!1,lr&&(g=tp(e,s,a,f)),$d(t),g}function $d(t){G.H=Lo;var e=ne!==null&&ne.next!==null;if(ji=0,ke=ne=Vt=null,zo=!1,pa=0,ur=null,e)throw Error(r(300));t===null||Ie||(t=t.dependencies,t!==null&&No(t)&&(Ie=!0))}function tp(t,e,s,a){Vt=t;var f=0;do{if(lr&&(ur=null),pa=0,lr=!1,25<=f)throw Error(r(301));if(f+=1,ke=ne=null,t.updateQueue!=null){var g=t.updateQueue;g.lastEffect=null,g.events=null,g.stores=null,g.memoCache!=null&&(g.memoCache.index=0)}G.H=gy,g=e(s,a)}while(lr);return g}function cy(){var t=G.H,e=t.useState()[0];return e=typeof e.then=="function"?ma(e):e,t=t.useState()[0],(ne!==null?ne.memoizedState:null)!==t&&(Vt.flags|=1024),e}function nc(){var t=jo!==0;return jo=0,t}function ic(t,e,s){e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s}function sc(t){if(zo){for(t=t.memoizedState;t!==null;){var e=t.queue;e!==null&&(e.pending=null),t=t.next}zo=!1}ji=0,ke=ne=Vt=null,lr=!1,pa=jo=0,ur=null}function ln(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ke===null?Vt.memoizedState=ke=t:ke=ke.next=t,ke}function Ce(){if(ne===null){var t=Vt.alternate;t=t!==null?t.memoizedState:null}else t=ne.next;var e=ke===null?Vt.memoizedState:ke.next;if(e!==null)ke=e,ne=t;else{if(t===null)throw Vt.alternate===null?Error(r(467)):Error(r(310));ne=t,t={memoizedState:ne.memoizedState,baseState:ne.baseState,baseQueue:ne.baseQueue,queue:ne.queue,next:null},ke===null?Vt.memoizedState=ke=t:ke=ke.next=t}return ke}function rc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ma(t){var e=pa;return pa+=1,ur===null&&(ur=[]),t=Pd(ur,t,e),e=Vt,(ke===null?e.memoizedState:ke.next)===null&&(e=e.alternate,G.H=e===null||e.memoizedState===null?jp:Up),t}function Uo(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return ma(t);if(t.$$typeof===O)return Qe(t)}throw Error(r(438,String(t)))}function ac(t){var e=null,s=Vt.updateQueue;if(s!==null&&(e=s.memoCache),e==null){var a=Vt.alternate;a!==null&&(a=a.updateQueue,a!==null&&(a=a.memoCache,a!=null&&(e={data:a.data.map(function(f){return f.slice()}),index:0})))}if(e==null&&(e={data:[],index:0}),s===null&&(s=rc(),Vt.updateQueue=s),s.memoCache=e,s=e.data[e.index],s===void 0)for(s=e.data[e.index]=Array(t),a=0;a<t;a++)s[a]=P;return e.index++,s}function fi(t,e){return typeof e=="function"?e(t):e}function Bo(t){var e=Ce();return oc(e,ne,t)}function oc(t,e,s){var a=t.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=s;var f=t.baseQueue,g=a.pending;if(g!==null){if(f!==null){var k=f.next;f.next=g.next,g.next=k}e.baseQueue=f=g,a.pending=null}if(g=t.baseState,f===null)t.memoizedState=g;else{e=f.next;var M=k=null,Z=null,st=e,pt=!1;do{var _t=st.lane&-536870913;if(_t!==st.lane?(Xt&_t)===_t:(ji&_t)===_t){var at=st.revertLane;if(at===0)Z!==null&&(Z=Z.next={lane:0,revertLane:0,action:st.action,hasEagerState:st.hasEagerState,eagerState:st.eagerState,next:null}),_t===rr&&(pt=!0);else if((ji&at)===at){st=st.next,at===rr&&(pt=!0);continue}else _t={lane:0,revertLane:st.revertLane,action:st.action,hasEagerState:st.hasEagerState,eagerState:st.eagerState,next:null},Z===null?(M=Z=_t,k=g):Z=Z.next=_t,Vt.lanes|=at,Fi|=at;_t=st.action,xs&&s(g,_t),g=st.hasEagerState?st.eagerState:s(g,_t)}else at={lane:_t,revertLane:st.revertLane,action:st.action,hasEagerState:st.hasEagerState,eagerState:st.eagerState,next:null},Z===null?(M=Z=at,k=g):Z=Z.next=at,Vt.lanes|=_t,Fi|=_t;st=st.next}while(st!==null&&st!==e);if(Z===null?k=g:Z.next=M,!_n(g,t.memoizedState)&&(Ie=!0,pt&&(s=ar,s!==null)))throw s;t.memoizedState=g,t.baseState=k,t.baseQueue=Z,a.lastRenderedState=g}return f===null&&(a.lanes=0),[t.memoizedState,a.dispatch]}function lc(t){var e=Ce(),s=e.queue;if(s===null)throw Error(r(311));s.lastRenderedReducer=t;var a=s.dispatch,f=s.pending,g=e.memoizedState;if(f!==null){s.pending=null;var k=f=f.next;do g=t(g,k.action),k=k.next;while(k!==f);_n(g,e.memoizedState)||(Ie=!0),e.memoizedState=g,e.baseQueue===null&&(e.baseState=g),s.lastRenderedState=g}return[g,a]}function ep(t,e,s){var a=Vt,f=Ce(),g=Kt;if(g){if(s===void 0)throw Error(r(407));s=s()}else s=e();var k=!_n((ne||f).memoizedState,s);k&&(f.memoizedState=s,Ie=!0),f=f.queue;var M=sp.bind(null,a,f,t);if(ga(2048,8,M,[t]),f.getSnapshot!==e||k||ke!==null&&ke.memoizedState.tag&1){if(a.flags|=2048,cr(9,Io(),ip.bind(null,a,f,s,e),null),ue===null)throw Error(r(349));g||(ji&124)!==0||np(a,e,s)}return s}function np(t,e,s){t.flags|=16384,t={getSnapshot:e,value:s},e=Vt.updateQueue,e===null?(e=rc(),Vt.updateQueue=e,e.stores=[t]):(s=e.stores,s===null?e.stores=[t]:s.push(t))}function ip(t,e,s,a){e.value=s,e.getSnapshot=a,rp(e)&&ap(t)}function sp(t,e,s){return s(function(){rp(e)&&ap(t)})}function rp(t){var e=t.getSnapshot;t=t.value;try{var s=e();return!_n(t,s)}catch{return!0}}function ap(t){var e=er(t,2);e!==null&&Tn(e,t,2)}function uc(t){var e=ln();if(typeof t=="function"){var s=t;if(t=s(),xs){bt(!0);try{s()}finally{bt(!1)}}}return e.memoizedState=e.baseState=t,e.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:fi,lastRenderedState:t},e}function op(t,e,s,a){return t.baseState=s,oc(t,ne,typeof a=="function"?a:fi)}function hy(t,e,s,a,f){if(Vo(t))throw Error(r(485));if(t=e.action,t!==null){var g={payload:f,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(k){g.listeners.push(k)}};G.T!==null?s(!0):g.isTransition=!1,a(g),s=e.pending,s===null?(g.next=e.pending=g,lp(e,g)):(g.next=s.next,e.pending=s.next=g)}}function lp(t,e){var s=e.action,a=e.payload,f=t.state;if(e.isTransition){var g=G.T,k={};G.T=k;try{var M=s(f,a),Z=G.S;Z!==null&&Z(k,M),up(t,e,M)}catch(st){cc(t,e,st)}finally{G.T=g}}else try{g=s(f,a),up(t,e,g)}catch(st){cc(t,e,st)}}function up(t,e,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(a){cp(t,e,a)},function(a){return cc(t,e,a)}):cp(t,e,s)}function cp(t,e,s){e.status="fulfilled",e.value=s,hp(e),t.state=s,e=t.pending,e!==null&&(s=e.next,s===e?t.pending=null:(s=s.next,e.next=s,lp(t,s)))}function cc(t,e,s){var a=t.pending;if(t.pending=null,a!==null){a=a.next;do e.status="rejected",e.reason=s,hp(e),e=e.next;while(e!==a)}t.action=null}function hp(t){t=t.listeners;for(var e=0;e<t.length;e++)(0,t[e])()}function fp(t,e){return e}function dp(t,e){if(Kt){var s=ue.formState;if(s!==null){t:{var a=Vt;if(Kt){if(ye){e:{for(var f=ye,g=Qn;f.nodeType!==8;){if(!g){f=null;break e}if(f=Fn(f.nextSibling),f===null){f=null;break e}}g=f.data,f=g==="F!"||g==="F"?f:null}if(f){ye=Fn(f.nextSibling),a=f.data==="F!";break t}}vs(a)}a=!1}a&&(e=s[0])}}return s=ln(),s.memoizedState=s.baseState=e,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:fp,lastRenderedState:e},s.queue=a,s=Dp.bind(null,Vt,a),a.dispatch=s,a=uc(!1),g=mc.bind(null,Vt,!1,a.queue),a=ln(),f={state:e,dispatch:null,action:t,pending:null},a.queue=f,s=hy.bind(null,Vt,f,g,s),f.dispatch=s,a.memoizedState=t,[e,s,!1]}function pp(t){var e=Ce();return mp(e,ne,t)}function mp(t,e,s){if(e=oc(t,e,fp)[0],t=Bo(fi)[0],typeof e=="object"&&e!==null&&typeof e.then=="function")try{var a=ma(e)}catch(k){throw k===ua?Mo:k}else a=e;e=Ce();var f=e.queue,g=f.dispatch;return s!==e.memoizedState&&(Vt.flags|=2048,cr(9,Io(),fy.bind(null,f,s),null)),[a,g,t]}function fy(t,e){t.action=e}function gp(t){var e=Ce(),s=ne;if(s!==null)return mp(e,s,t);Ce(),e=e.memoizedState,s=Ce();var a=s.queue.dispatch;return s.memoizedState=t,[e,a,!1]}function cr(t,e,s,a){return t={tag:t,create:s,deps:a,inst:e,next:null},e=Vt.updateQueue,e===null&&(e=rc(),Vt.updateQueue=e),s=e.lastEffect,s===null?e.lastEffect=t.next=t:(a=s.next,s.next=t,t.next=a,e.lastEffect=t),t}function Io(){return{destroy:void 0,resource:void 0}}function _p(){return Ce().memoizedState}function qo(t,e,s,a){var f=ln();a=a===void 0?null:a,Vt.flags|=t,f.memoizedState=cr(1|e,Io(),s,a)}function ga(t,e,s,a){var f=Ce();a=a===void 0?null:a;var g=f.memoizedState.inst;ne!==null&&a!==null&&tc(a,ne.memoizedState.deps)?f.memoizedState=cr(e,g,s,a):(Vt.flags|=t,f.memoizedState=cr(1|e,g,s,a))}function vp(t,e){qo(8390656,8,t,e)}function yp(t,e){ga(2048,8,t,e)}function bp(t,e){return ga(4,2,t,e)}function Sp(t,e){return ga(4,4,t,e)}function xp(t,e){if(typeof e=="function"){t=t();var s=e(t);return function(){typeof s=="function"?s():e(null)}}if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Tp(t,e,s){s=s!=null?s.concat([t]):null,ga(4,4,xp.bind(null,e,t),s)}function hc(){}function wp(t,e){var s=Ce();e=e===void 0?null:e;var a=s.memoizedState;return e!==null&&tc(e,a[1])?a[0]:(s.memoizedState=[t,e],t)}function Ap(t,e){var s=Ce();e=e===void 0?null:e;var a=s.memoizedState;if(e!==null&&tc(e,a[1]))return a[0];if(a=t(),xs){bt(!0);try{t()}finally{bt(!1)}}return s.memoizedState=[a,e],a}function fc(t,e,s){return s===void 0||(ji&1073741824)!==0?t.memoizedState=e:(t.memoizedState=s,t=Nm(),Vt.lanes|=t,Fi|=t,s)}function kp(t,e,s,a){return _n(s,e)?s:or.current!==null?(t=fc(t,s,a),_n(t,e)||(Ie=!0),t):(ji&42)===0?(Ie=!0,t.memoizedState=s):(t=Nm(),Vt.lanes|=t,Fi|=t,e)}function Cp(t,e,s,a,f){var g=H.p;H.p=g!==0&&8>g?g:8;var k=G.T,M={};G.T=M,mc(t,!1,e,s);try{var Z=f(),st=G.S;if(st!==null&&st(M,Z),Z!==null&&typeof Z=="object"&&typeof Z.then=="function"){var pt=ly(Z,a);_a(t,e,pt,xn(t))}else _a(t,e,a,xn(t))}catch(_t){_a(t,e,{then:function(){},status:"rejected",reason:_t},xn())}finally{H.p=g,G.T=k}}function dy(){}function dc(t,e,s,a){if(t.tag!==5)throw Error(r(476));var f=Np(t).queue;Cp(t,f,e,ct,s===null?dy:function(){return Ep(t),s(a)})}function Np(t){var e=t.memoizedState;if(e!==null)return e;e={memoizedState:ct,baseState:ct,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:fi,lastRenderedState:ct},next:null};var s={};return e.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:fi,lastRenderedState:s},next:null},t.memoizedState=e,t=t.alternate,t!==null&&(t.memoizedState=e),e}function Ep(t){var e=Np(t).next.queue;_a(t,e,{},xn())}function pc(){return Qe(ja)}function Op(){return Ce().memoizedState}function Mp(){return Ce().memoizedState}function py(t){for(var e=t.return;e!==null;){switch(e.tag){case 24:case 3:var s=xn();t=Ri(s);var a=zi(e,t,s);a!==null&&(Tn(a,e,s),ha(a,e,s)),e={cache:Gu()},t.payload=e;return}e=e.return}}function my(t,e,s){var a=xn();s={lane:a,revertLane:0,action:s,hasEagerState:!1,eagerState:null,next:null},Vo(t)?Rp(e,s):(s=zu(t,e,s,a),s!==null&&(Tn(s,t,a),zp(s,e,a)))}function Dp(t,e,s){var a=xn();_a(t,e,s,a)}function _a(t,e,s,a){var f={lane:a,revertLane:0,action:s,hasEagerState:!1,eagerState:null,next:null};if(Vo(t))Rp(e,f);else{var g=t.alternate;if(t.lanes===0&&(g===null||g.lanes===0)&&(g=e.lastRenderedReducer,g!==null))try{var k=e.lastRenderedState,M=g(k,s);if(f.hasEagerState=!0,f.eagerState=M,_n(M,k))return To(t,e,f,0),ue===null&&xo(),!1}catch{}finally{}if(s=zu(t,e,f,a),s!==null)return Tn(s,t,a),zp(s,e,a),!0}return!1}function mc(t,e,s,a){if(a={lane:2,revertLane:Pc(),action:a,hasEagerState:!1,eagerState:null,next:null},Vo(t)){if(e)throw Error(r(479))}else e=zu(t,s,a,2),e!==null&&Tn(e,t,2)}function Vo(t){var e=t.alternate;return t===Vt||e!==null&&e===Vt}function Rp(t,e){lr=zo=!0;var s=t.pending;s===null?e.next=e:(e.next=s.next,s.next=e),t.pending=e}function zp(t,e,s){if((s&4194048)!==0){var a=e.lanes;a&=t.pendingLanes,s|=a,e.lanes=s,mn(t,s)}}var Lo={readContext:Qe,use:Uo,useCallback:Te,useContext:Te,useEffect:Te,useImperativeHandle:Te,useLayoutEffect:Te,useInsertionEffect:Te,useMemo:Te,useReducer:Te,useRef:Te,useState:Te,useDebugValue:Te,useDeferredValue:Te,useTransition:Te,useSyncExternalStore:Te,useId:Te,useHostTransitionStatus:Te,useFormState:Te,useActionState:Te,useOptimistic:Te,useMemoCache:Te,useCacheRefresh:Te},jp={readContext:Qe,use:Uo,useCallback:function(t,e){return ln().memoizedState=[t,e===void 0?null:e],t},useContext:Qe,useEffect:vp,useImperativeHandle:function(t,e,s){s=s!=null?s.concat([t]):null,qo(4194308,4,xp.bind(null,e,t),s)},useLayoutEffect:function(t,e){return qo(4194308,4,t,e)},useInsertionEffect:function(t,e){qo(4,2,t,e)},useMemo:function(t,e){var s=ln();e=e===void 0?null:e;var a=t();if(xs){bt(!0);try{t()}finally{bt(!1)}}return s.memoizedState=[a,e],a},useReducer:function(t,e,s){var a=ln();if(s!==void 0){var f=s(e);if(xs){bt(!0);try{s(e)}finally{bt(!1)}}}else f=e;return a.memoizedState=a.baseState=f,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:f},a.queue=t,t=t.dispatch=my.bind(null,Vt,t),[a.memoizedState,t]},useRef:function(t){var e=ln();return t={current:t},e.memoizedState=t},useState:function(t){t=uc(t);var e=t.queue,s=Dp.bind(null,Vt,e);return e.dispatch=s,[t.memoizedState,s]},useDebugValue:hc,useDeferredValue:function(t,e){var s=ln();return fc(s,t,e)},useTransition:function(){var t=uc(!1);return t=Cp.bind(null,Vt,t.queue,!0,!1),ln().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,e,s){var a=Vt,f=ln();if(Kt){if(s===void 0)throw Error(r(407));s=s()}else{if(s=e(),ue===null)throw Error(r(349));(Xt&124)!==0||np(a,e,s)}f.memoizedState=s;var g={value:s,getSnapshot:e};return f.queue=g,vp(sp.bind(null,a,g,t),[t]),a.flags|=2048,cr(9,Io(),ip.bind(null,a,g,s,e),null),s},useId:function(){var t=ln(),e=ue.identifierPrefix;if(Kt){var s=ui,a=li;s=(a&~(1<<32-St(a)-1)).toString(32)+s,e=""+e+"R"+s,s=jo++,0<s&&(e+="H"+s.toString(32)),e+=""}else s=uy++,e=""+e+"r"+s.toString(32)+"";return t.memoizedState=e},useHostTransitionStatus:pc,useFormState:dp,useActionState:dp,useOptimistic:function(t){var e=ln();e.memoizedState=e.baseState=t;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return e.queue=s,e=mc.bind(null,Vt,!0,s),s.dispatch=e,[t,e]},useMemoCache:ac,useCacheRefresh:function(){return ln().memoizedState=py.bind(null,Vt)}},Up={readContext:Qe,use:Uo,useCallback:wp,useContext:Qe,useEffect:yp,useImperativeHandle:Tp,useInsertionEffect:bp,useLayoutEffect:Sp,useMemo:Ap,useReducer:Bo,useRef:_p,useState:function(){return Bo(fi)},useDebugValue:hc,useDeferredValue:function(t,e){var s=Ce();return kp(s,ne.memoizedState,t,e)},useTransition:function(){var t=Bo(fi)[0],e=Ce().memoizedState;return[typeof t=="boolean"?t:ma(t),e]},useSyncExternalStore:ep,useId:Op,useHostTransitionStatus:pc,useFormState:pp,useActionState:pp,useOptimistic:function(t,e){var s=Ce();return op(s,ne,t,e)},useMemoCache:ac,useCacheRefresh:Mp},gy={readContext:Qe,use:Uo,useCallback:wp,useContext:Qe,useEffect:yp,useImperativeHandle:Tp,useInsertionEffect:bp,useLayoutEffect:Sp,useMemo:Ap,useReducer:lc,useRef:_p,useState:function(){return lc(fi)},useDebugValue:hc,useDeferredValue:function(t,e){var s=Ce();return ne===null?fc(s,t,e):kp(s,ne.memoizedState,t,e)},useTransition:function(){var t=lc(fi)[0],e=Ce().memoizedState;return[typeof t=="boolean"?t:ma(t),e]},useSyncExternalStore:ep,useId:Op,useHostTransitionStatus:pc,useFormState:gp,useActionState:gp,useOptimistic:function(t,e){var s=Ce();return ne!==null?op(s,ne,t,e):(s.baseState=t,[t,s.queue.dispatch])},useMemoCache:ac,useCacheRefresh:Mp},hr=null,va=0;function Fo(t){var e=va;return va+=1,hr===null&&(hr=[]),Pd(hr,t,e)}function ya(t,e){e=e.props.ref,t.ref=e!==void 0?e:null}function Ho(t,e){throw e.$$typeof===_?Error(r(525)):(t=Object.prototype.toString.call(e),Error(r(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)))}function Bp(t){var e=t._init;return e(t._payload)}function Ip(t){function e($,W){if(t){var it=$.deletions;it===null?($.deletions=[W],$.flags|=16):it.push(W)}}function s($,W){if(!t)return null;for(;W!==null;)e($,W),W=W.sibling;return null}function a($){for(var W=new Map;$!==null;)$.key!==null?W.set($.key,$):W.set($.index,$),$=$.sibling;return W}function f($,W){return $=oi($,W),$.index=0,$.sibling=null,$}function g($,W,it){return $.index=it,t?(it=$.alternate,it!==null?(it=it.index,it<W?($.flags|=67108866,W):it):($.flags|=67108866,W)):($.flags|=1048576,W)}function k($){return t&&$.alternate===null&&($.flags|=67108866),$}function M($,W,it,gt){return W===null||W.tag!==6?(W=Uu(it,$.mode,gt),W.return=$,W):(W=f(W,it),W.return=$,W)}function Z($,W,it,gt){var At=it.type;return At===S?pt($,W,it.props.children,gt,it.key):W!==null&&(W.elementType===At||typeof At=="object"&&At!==null&&At.$$typeof===R&&Bp(At)===W.type)?(W=f(W,it.props),ya(W,it),W.return=$,W):(W=Ao(it.type,it.key,it.props,null,$.mode,gt),ya(W,it),W.return=$,W)}function st($,W,it,gt){return W===null||W.tag!==4||W.stateNode.containerInfo!==it.containerInfo||W.stateNode.implementation!==it.implementation?(W=Bu(it,$.mode,gt),W.return=$,W):(W=f(W,it.children||[]),W.return=$,W)}function pt($,W,it,gt,At){return W===null||W.tag!==7?(W=ps(it,$.mode,gt,At),W.return=$,W):(W=f(W,it),W.return=$,W)}function _t($,W,it){if(typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint")return W=Uu(""+W,$.mode,it),W.return=$,W;if(typeof W=="object"&&W!==null){switch(W.$$typeof){case y:return it=Ao(W.type,W.key,W.props,null,$.mode,it),ya(it,W),it.return=$,it;case v:return W=Bu(W,$.mode,it),W.return=$,W;case R:var gt=W._init;return W=gt(W._payload),_t($,W,it)}if(J(W)||D(W))return W=ps(W,$.mode,it,null),W.return=$,W;if(typeof W.then=="function")return _t($,Fo(W),it);if(W.$$typeof===O)return _t($,Eo($,W),it);Ho($,W)}return null}function at($,W,it,gt){var At=W!==null?W.key:null;if(typeof it=="string"&&it!==""||typeof it=="number"||typeof it=="bigint")return At!==null?null:M($,W,""+it,gt);if(typeof it=="object"&&it!==null){switch(it.$$typeof){case y:return it.key===At?Z($,W,it,gt):null;case v:return it.key===At?st($,W,it,gt):null;case R:return At=it._init,it=At(it._payload),at($,W,it,gt)}if(J(it)||D(it))return At!==null?null:pt($,W,it,gt,null);if(typeof it.then=="function")return at($,W,Fo(it),gt);if(it.$$typeof===O)return at($,W,Eo($,it),gt);Ho($,it)}return null}function ot($,W,it,gt,At){if(typeof gt=="string"&&gt!==""||typeof gt=="number"||typeof gt=="bigint")return $=$.get(it)||null,M(W,$,""+gt,At);if(typeof gt=="object"&&gt!==null){switch(gt.$$typeof){case y:return $=$.get(gt.key===null?it:gt.key)||null,Z(W,$,gt,At);case v:return $=$.get(gt.key===null?it:gt.key)||null,st(W,$,gt,At);case R:var Ft=gt._init;return gt=Ft(gt._payload),ot($,W,it,gt,At)}if(J(gt)||D(gt))return $=$.get(it)||null,pt(W,$,gt,At,null);if(typeof gt.then=="function")return ot($,W,it,Fo(gt),At);if(gt.$$typeof===O)return ot($,W,it,Eo(W,gt),At);Ho(W,gt)}return null}function Mt($,W,it,gt){for(var At=null,Ft=null,Nt=W,Ot=W=0,Ve=null;Nt!==null&&Ot<it.length;Ot++){Nt.index>Ot?(Ve=Nt,Nt=null):Ve=Nt.sibling;var Qt=at($,Nt,it[Ot],gt);if(Qt===null){Nt===null&&(Nt=Ve);break}t&&Nt&&Qt.alternate===null&&e($,Nt),W=g(Qt,W,Ot),Ft===null?At=Qt:Ft.sibling=Qt,Ft=Qt,Nt=Ve}if(Ot===it.length)return s($,Nt),Kt&&gs($,Ot),At;if(Nt===null){for(;Ot<it.length;Ot++)Nt=_t($,it[Ot],gt),Nt!==null&&(W=g(Nt,W,Ot),Ft===null?At=Nt:Ft.sibling=Nt,Ft=Nt);return Kt&&gs($,Ot),At}for(Nt=a(Nt);Ot<it.length;Ot++)Ve=ot(Nt,$,Ot,it[Ot],gt),Ve!==null&&(t&&Ve.alternate!==null&&Nt.delete(Ve.key===null?Ot:Ve.key),W=g(Ve,W,Ot),Ft===null?At=Ve:Ft.sibling=Ve,Ft=Ve);return t&&Nt.forEach(function(Ki){return e($,Ki)}),Kt&&gs($,Ot),At}function Et($,W,it,gt){if(it==null)throw Error(r(151));for(var At=null,Ft=null,Nt=W,Ot=W=0,Ve=null,Qt=it.next();Nt!==null&&!Qt.done;Ot++,Qt=it.next()){Nt.index>Ot?(Ve=Nt,Nt=null):Ve=Nt.sibling;var Ki=at($,Nt,Qt.value,gt);if(Ki===null){Nt===null&&(Nt=Ve);break}t&&Nt&&Ki.alternate===null&&e($,Nt),W=g(Ki,W,Ot),Ft===null?At=Ki:Ft.sibling=Ki,Ft=Ki,Nt=Ve}if(Qt.done)return s($,Nt),Kt&&gs($,Ot),At;if(Nt===null){for(;!Qt.done;Ot++,Qt=it.next())Qt=_t($,Qt.value,gt),Qt!==null&&(W=g(Qt,W,Ot),Ft===null?At=Qt:Ft.sibling=Qt,Ft=Qt);return Kt&&gs($,Ot),At}for(Nt=a(Nt);!Qt.done;Ot++,Qt=it.next())Qt=ot(Nt,$,Ot,Qt.value,gt),Qt!==null&&(t&&Qt.alternate!==null&&Nt.delete(Qt.key===null?Ot:Qt.key),W=g(Qt,W,Ot),Ft===null?At=Qt:Ft.sibling=Qt,Ft=Qt);return t&&Nt.forEach(function(_1){return e($,_1)}),Kt&&gs($,Ot),At}function se($,W,it,gt){if(typeof it=="object"&&it!==null&&it.type===S&&it.key===null&&(it=it.props.children),typeof it=="object"&&it!==null){switch(it.$$typeof){case y:t:{for(var At=it.key;W!==null;){if(W.key===At){if(At=it.type,At===S){if(W.tag===7){s($,W.sibling),gt=f(W,it.props.children),gt.return=$,$=gt;break t}}else if(W.elementType===At||typeof At=="object"&&At!==null&&At.$$typeof===R&&Bp(At)===W.type){s($,W.sibling),gt=f(W,it.props),ya(gt,it),gt.return=$,$=gt;break t}s($,W);break}else e($,W);W=W.sibling}it.type===S?(gt=ps(it.props.children,$.mode,gt,it.key),gt.return=$,$=gt):(gt=Ao(it.type,it.key,it.props,null,$.mode,gt),ya(gt,it),gt.return=$,$=gt)}return k($);case v:t:{for(At=it.key;W!==null;){if(W.key===At)if(W.tag===4&&W.stateNode.containerInfo===it.containerInfo&&W.stateNode.implementation===it.implementation){s($,W.sibling),gt=f(W,it.children||[]),gt.return=$,$=gt;break t}else{s($,W);break}else e($,W);W=W.sibling}gt=Bu(it,$.mode,gt),gt.return=$,$=gt}return k($);case R:return At=it._init,it=At(it._payload),se($,W,it,gt)}if(J(it))return Mt($,W,it,gt);if(D(it)){if(At=D(it),typeof At!="function")throw Error(r(150));return it=At.call(it),Et($,W,it,gt)}if(typeof it.then=="function")return se($,W,Fo(it),gt);if(it.$$typeof===O)return se($,W,Eo($,it),gt);Ho($,it)}return typeof it=="string"&&it!==""||typeof it=="number"||typeof it=="bigint"?(it=""+it,W!==null&&W.tag===6?(s($,W.sibling),gt=f(W,it),gt.return=$,$=gt):(s($,W),gt=Uu(it,$.mode,gt),gt.return=$,$=gt),k($)):s($,W)}return function($,W,it,gt){try{va=0;var At=se($,W,it,gt);return hr=null,At}catch(Nt){if(Nt===ua||Nt===Mo)throw Nt;var Ft=vn(29,Nt,null,$.mode);return Ft.lanes=gt,Ft.return=$,Ft}finally{}}}var fr=Ip(!0),qp=Ip(!1),zn=B(null),Kn=null;function Ui(t){var e=t.alternate;lt(Re,Re.current&1),lt(zn,t),Kn===null&&(e===null||or.current!==null||e.memoizedState!==null)&&(Kn=t)}function Vp(t){if(t.tag===22){if(lt(Re,Re.current),lt(zn,t),Kn===null){var e=t.alternate;e!==null&&e.memoizedState!==null&&(Kn=t)}}else Bi()}function Bi(){lt(Re,Re.current),lt(zn,zn.current)}function di(t){F(zn),Kn===t&&(Kn=null),F(Re)}var Re=B(0);function Go(t){for(var e=t;e!==null;){if(e.tag===13){var s=e.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||rh(s)))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if((e.flags&128)!==0)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}function gc(t,e,s,a){e=t.memoizedState,s=s(a,e),s=s==null?e:m({},e,s),t.memoizedState=s,t.lanes===0&&(t.updateQueue.baseState=s)}var _c={enqueueSetState:function(t,e,s){t=t._reactInternals;var a=xn(),f=Ri(a);f.payload=e,s!=null&&(f.callback=s),e=zi(t,f,a),e!==null&&(Tn(e,t,a),ha(e,t,a))},enqueueReplaceState:function(t,e,s){t=t._reactInternals;var a=xn(),f=Ri(a);f.tag=1,f.payload=e,s!=null&&(f.callback=s),e=zi(t,f,a),e!==null&&(Tn(e,t,a),ha(e,t,a))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var s=xn(),a=Ri(s);a.tag=2,e!=null&&(a.callback=e),e=zi(t,a,s),e!==null&&(Tn(e,t,s),ha(e,t,s))}};function Lp(t,e,s,a,f,g,k){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(a,g,k):e.prototype&&e.prototype.isPureReactComponent?!ea(s,a)||!ea(f,g):!0}function Fp(t,e,s,a){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(s,a),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(s,a),e.state!==t&&_c.enqueueReplaceState(e,e.state,null)}function Ts(t,e){var s=e;if("ref"in e){s={};for(var a in e)a!=="ref"&&(s[a]=e[a])}if(t=t.defaultProps){s===e&&(s=m({},s));for(var f in t)s[f]===void 0&&(s[f]=t[f])}return s}var Zo=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function Hp(t){Zo(t)}function Gp(t){console.error(t)}function Zp(t){Zo(t)}function Yo(t,e){try{var s=t.onUncaughtError;s(e.value,{componentStack:e.stack})}catch(a){setTimeout(function(){throw a})}}function Yp(t,e,s){try{var a=t.onCaughtError;a(s.value,{componentStack:s.stack,errorBoundary:e.tag===1?e.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function vc(t,e,s){return s=Ri(s),s.tag=3,s.payload={element:null},s.callback=function(){Yo(t,e)},s}function Pp(t){return t=Ri(t),t.tag=3,t}function Xp(t,e,s,a){var f=s.type.getDerivedStateFromError;if(typeof f=="function"){var g=a.value;t.payload=function(){return f(g)},t.callback=function(){Yp(e,s,a)}}var k=s.stateNode;k!==null&&typeof k.componentDidCatch=="function"&&(t.callback=function(){Yp(e,s,a),typeof f!="function"&&(Hi===null?Hi=new Set([this]):Hi.add(this));var M=a.stack;this.componentDidCatch(a.value,{componentStack:M!==null?M:""})})}function _y(t,e,s,a,f){if(s.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){if(e=s.alternate,e!==null&&aa(e,s,f,!0),s=zn.current,s!==null){switch(s.tag){case 13:return Kn===null?Fc():s.alternate===null&&be===0&&(be=3),s.flags&=-257,s.flags|=65536,s.lanes=f,a===Pu?s.flags|=16384:(e=s.updateQueue,e===null?s.updateQueue=new Set([a]):e.add(a),Gc(t,a,f)),!1;case 22:return s.flags|=65536,a===Pu?s.flags|=16384:(e=s.updateQueue,e===null?(e={transitions:null,markerInstances:null,retryQueue:new Set([a])},s.updateQueue=e):(s=e.retryQueue,s===null?e.retryQueue=new Set([a]):s.add(a)),Gc(t,a,f)),!1}throw Error(r(435,s.tag))}return Gc(t,a,f),Fc(),!1}if(Kt)return e=zn.current,e!==null?((e.flags&65536)===0&&(e.flags|=256),e.flags|=65536,e.lanes=f,a!==Vu&&(t=Error(r(422),{cause:a}),ra(On(t,s)))):(a!==Vu&&(e=Error(r(423),{cause:a}),ra(On(e,s))),t=t.current.alternate,t.flags|=65536,f&=-f,t.lanes|=f,a=On(a,s),f=vc(t.stateNode,a,f),Qu(t,f),be!==4&&(be=2)),!1;var g=Error(r(520),{cause:a});if(g=On(g,s),ka===null?ka=[g]:ka.push(g),be!==4&&(be=2),e===null)return!0;a=On(a,s),s=e;do{switch(s.tag){case 3:return s.flags|=65536,t=f&-f,s.lanes|=t,t=vc(s.stateNode,a,t),Qu(s,t),!1;case 1:if(e=s.type,g=s.stateNode,(s.flags&128)===0&&(typeof e.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(Hi===null||!Hi.has(g))))return s.flags|=65536,f&=-f,s.lanes|=f,f=Pp(f),Xp(f,t,s,a),Qu(s,f),!1}s=s.return}while(s!==null);return!1}var Wp=Error(r(461)),Ie=!1;function He(t,e,s,a){e.child=t===null?qp(e,null,s,a):fr(e,t.child,s,a)}function Qp(t,e,s,a,f){s=s.render;var g=e.ref;if("ref"in a){var k={};for(var M in a)M!=="ref"&&(k[M]=a[M])}else k=a;return bs(e),a=ec(t,e,s,k,g,f),M=nc(),t!==null&&!Ie?(ic(t,e,f),pi(t,e,f)):(Kt&&M&&Iu(e),e.flags|=1,He(t,e,a,f),e.child)}function Kp(t,e,s,a,f){if(t===null){var g=s.type;return typeof g=="function"&&!ju(g)&&g.defaultProps===void 0&&s.compare===null?(e.tag=15,e.type=g,Jp(t,e,g,a,f)):(t=Ao(s.type,null,a,e,e.mode,f),t.ref=e.ref,t.return=e,e.child=t)}if(g=t.child,!kc(t,f)){var k=g.memoizedProps;if(s=s.compare,s=s!==null?s:ea,s(k,a)&&t.ref===e.ref)return pi(t,e,f)}return e.flags|=1,t=oi(g,a),t.ref=e.ref,t.return=e,e.child=t}function Jp(t,e,s,a,f){if(t!==null){var g=t.memoizedProps;if(ea(g,a)&&t.ref===e.ref)if(Ie=!1,e.pendingProps=a=g,kc(t,f))(t.flags&131072)!==0&&(Ie=!0);else return e.lanes=t.lanes,pi(t,e,f)}return yc(t,e,s,a,f)}function $p(t,e,s){var a=e.pendingProps,f=a.children,g=t!==null?t.memoizedState:null;if(a.mode==="hidden"){if((e.flags&128)!==0){if(a=g!==null?g.baseLanes|s:s,t!==null){for(f=e.child=t.child,g=0;f!==null;)g=g|f.lanes|f.childLanes,f=f.sibling;e.childLanes=g&~a}else e.childLanes=0,e.child=null;return tm(t,e,a,s)}if((s&536870912)!==0)e.memoizedState={baseLanes:0,cachePool:null},t!==null&&Oo(e,g!==null?g.cachePool:null),g!==null?Jd(e,g):Ju(),Vp(e);else return e.lanes=e.childLanes=536870912,tm(t,e,g!==null?g.baseLanes|s:s,s)}else g!==null?(Oo(e,g.cachePool),Jd(e,g),Bi(),e.memoizedState=null):(t!==null&&Oo(e,null),Ju(),Bi());return He(t,e,f,s),e.child}function tm(t,e,s,a){var f=Yu();return f=f===null?null:{parent:De._currentValue,pool:f},e.memoizedState={baseLanes:s,cachePool:f},t!==null&&Oo(e,null),Ju(),Vp(e),t!==null&&aa(t,e,a,!0),null}function Po(t,e){var s=e.ref;if(s===null)t!==null&&t.ref!==null&&(e.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(r(284));(t===null||t.ref!==s)&&(e.flags|=4194816)}}function yc(t,e,s,a,f){return bs(e),s=ec(t,e,s,a,void 0,f),a=nc(),t!==null&&!Ie?(ic(t,e,f),pi(t,e,f)):(Kt&&a&&Iu(e),e.flags|=1,He(t,e,s,f),e.child)}function em(t,e,s,a,f,g){return bs(e),e.updateQueue=null,s=tp(e,a,s,f),$d(t),a=nc(),t!==null&&!Ie?(ic(t,e,g),pi(t,e,g)):(Kt&&a&&Iu(e),e.flags|=1,He(t,e,s,g),e.child)}function nm(t,e,s,a,f){if(bs(e),e.stateNode===null){var g=nr,k=s.contextType;typeof k=="object"&&k!==null&&(g=Qe(k)),g=new s(a,g),e.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=_c,e.stateNode=g,g._reactInternals=e,g=e.stateNode,g.props=a,g.state=e.memoizedState,g.refs={},Xu(e),k=s.contextType,g.context=typeof k=="object"&&k!==null?Qe(k):nr,g.state=e.memoizedState,k=s.getDerivedStateFromProps,typeof k=="function"&&(gc(e,s,k,a),g.state=e.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(k=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),k!==g.state&&_c.enqueueReplaceState(g,g.state,null),da(e,a,g,f),fa(),g.state=e.memoizedState),typeof g.componentDidMount=="function"&&(e.flags|=4194308),a=!0}else if(t===null){g=e.stateNode;var M=e.memoizedProps,Z=Ts(s,M);g.props=Z;var st=g.context,pt=s.contextType;k=nr,typeof pt=="object"&&pt!==null&&(k=Qe(pt));var _t=s.getDerivedStateFromProps;pt=typeof _t=="function"||typeof g.getSnapshotBeforeUpdate=="function",M=e.pendingProps!==M,pt||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(M||st!==k)&&Fp(e,g,a,k),Di=!1;var at=e.memoizedState;g.state=at,da(e,a,g,f),fa(),st=e.memoizedState,M||at!==st||Di?(typeof _t=="function"&&(gc(e,s,_t,a),st=e.memoizedState),(Z=Di||Lp(e,s,Z,a,at,st,k))?(pt||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(e.flags|=4194308)):(typeof g.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=a,e.memoizedState=st),g.props=a,g.state=st,g.context=k,a=Z):(typeof g.componentDidMount=="function"&&(e.flags|=4194308),a=!1)}else{g=e.stateNode,Wu(t,e),k=e.memoizedProps,pt=Ts(s,k),g.props=pt,_t=e.pendingProps,at=g.context,st=s.contextType,Z=nr,typeof st=="object"&&st!==null&&(Z=Qe(st)),M=s.getDerivedStateFromProps,(st=typeof M=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(k!==_t||at!==Z)&&Fp(e,g,a,Z),Di=!1,at=e.memoizedState,g.state=at,da(e,a,g,f),fa();var ot=e.memoizedState;k!==_t||at!==ot||Di||t!==null&&t.dependencies!==null&&No(t.dependencies)?(typeof M=="function"&&(gc(e,s,M,a),ot=e.memoizedState),(pt=Di||Lp(e,s,pt,a,at,ot,Z)||t!==null&&t.dependencies!==null&&No(t.dependencies))?(st||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(a,ot,Z),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(a,ot,Z)),typeof g.componentDidUpdate=="function"&&(e.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof g.componentDidUpdate!="function"||k===t.memoizedProps&&at===t.memoizedState||(e.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||k===t.memoizedProps&&at===t.memoizedState||(e.flags|=1024),e.memoizedProps=a,e.memoizedState=ot),g.props=a,g.state=ot,g.context=Z,a=pt):(typeof g.componentDidUpdate!="function"||k===t.memoizedProps&&at===t.memoizedState||(e.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||k===t.memoizedProps&&at===t.memoizedState||(e.flags|=1024),a=!1)}return g=a,Po(t,e),a=(e.flags&128)!==0,g||a?(g=e.stateNode,s=a&&typeof s.getDerivedStateFromError!="function"?null:g.render(),e.flags|=1,t!==null&&a?(e.child=fr(e,t.child,null,f),e.child=fr(e,null,s,f)):He(t,e,s,f),e.memoizedState=g.state,t=e.child):t=pi(t,e,f),t}function im(t,e,s,a){return sa(),e.flags|=256,He(t,e,s,a),e.child}var bc={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Sc(t){return{baseLanes:t,cachePool:Gd()}}function xc(t,e,s){return t=t!==null?t.childLanes&~s:0,e&&(t|=jn),t}function sm(t,e,s){var a=e.pendingProps,f=!1,g=(e.flags&128)!==0,k;if((k=g)||(k=t!==null&&t.memoizedState===null?!1:(Re.current&2)!==0),k&&(f=!0,e.flags&=-129),k=(e.flags&32)!==0,e.flags&=-33,t===null){if(Kt){if(f?Ui(e):Bi(),Kt){var M=ye,Z;if(Z=M){t:{for(Z=M,M=Qn;Z.nodeType!==8;){if(!M){M=null;break t}if(Z=Fn(Z.nextSibling),Z===null){M=null;break t}}M=Z}M!==null?(e.memoizedState={dehydrated:M,treeContext:ms!==null?{id:li,overflow:ui}:null,retryLane:536870912,hydrationErrors:null},Z=vn(18,null,null,0),Z.stateNode=M,Z.return=e,e.child=Z,tn=e,ye=null,Z=!0):Z=!1}Z||vs(e)}if(M=e.memoizedState,M!==null&&(M=M.dehydrated,M!==null))return rh(M)?e.lanes=32:e.lanes=536870912,null;di(e)}return M=a.children,a=a.fallback,f?(Bi(),f=e.mode,M=Xo({mode:"hidden",children:M},f),a=ps(a,f,s,null),M.return=e,a.return=e,M.sibling=a,e.child=M,f=e.child,f.memoizedState=Sc(s),f.childLanes=xc(t,k,s),e.memoizedState=bc,a):(Ui(e),Tc(e,M))}if(Z=t.memoizedState,Z!==null&&(M=Z.dehydrated,M!==null)){if(g)e.flags&256?(Ui(e),e.flags&=-257,e=wc(t,e,s)):e.memoizedState!==null?(Bi(),e.child=t.child,e.flags|=128,e=null):(Bi(),f=a.fallback,M=e.mode,a=Xo({mode:"visible",children:a.children},M),f=ps(f,M,s,null),f.flags|=2,a.return=e,f.return=e,a.sibling=f,e.child=a,fr(e,t.child,null,s),a=e.child,a.memoizedState=Sc(s),a.childLanes=xc(t,k,s),e.memoizedState=bc,e=f);else if(Ui(e),rh(M)){if(k=M.nextSibling&&M.nextSibling.dataset,k)var st=k.dgst;k=st,a=Error(r(419)),a.stack="",a.digest=k,ra({value:a,source:null,stack:null}),e=wc(t,e,s)}else if(Ie||aa(t,e,s,!1),k=(s&t.childLanes)!==0,Ie||k){if(k=ue,k!==null&&(a=s&-s,a=(a&42)!==0?1:gn(a),a=(a&(k.suspendedLanes|s))!==0?0:a,a!==0&&a!==Z.retryLane))throw Z.retryLane=a,er(t,a),Tn(k,t,a),Wp;M.data==="$?"||Fc(),e=wc(t,e,s)}else M.data==="$?"?(e.flags|=192,e.child=t.child,e=null):(t=Z.treeContext,ye=Fn(M.nextSibling),tn=e,Kt=!0,_s=null,Qn=!1,t!==null&&(Dn[Rn++]=li,Dn[Rn++]=ui,Dn[Rn++]=ms,li=t.id,ui=t.overflow,ms=e),e=Tc(e,a.children),e.flags|=4096);return e}return f?(Bi(),f=a.fallback,M=e.mode,Z=t.child,st=Z.sibling,a=oi(Z,{mode:"hidden",children:a.children}),a.subtreeFlags=Z.subtreeFlags&65011712,st!==null?f=oi(st,f):(f=ps(f,M,s,null),f.flags|=2),f.return=e,a.return=e,a.sibling=f,e.child=a,a=f,f=e.child,M=t.child.memoizedState,M===null?M=Sc(s):(Z=M.cachePool,Z!==null?(st=De._currentValue,Z=Z.parent!==st?{parent:st,pool:st}:Z):Z=Gd(),M={baseLanes:M.baseLanes|s,cachePool:Z}),f.memoizedState=M,f.childLanes=xc(t,k,s),e.memoizedState=bc,a):(Ui(e),s=t.child,t=s.sibling,s=oi(s,{mode:"visible",children:a.children}),s.return=e,s.sibling=null,t!==null&&(k=e.deletions,k===null?(e.deletions=[t],e.flags|=16):k.push(t)),e.child=s,e.memoizedState=null,s)}function Tc(t,e){return e=Xo({mode:"visible",children:e},t.mode),e.return=t,t.child=e}function Xo(t,e){return t=vn(22,t,null,e),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function wc(t,e,s){return fr(e,t.child,null,s),t=Tc(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function rm(t,e,s){t.lanes|=e;var a=t.alternate;a!==null&&(a.lanes|=e),Fu(t.return,e,s)}function Ac(t,e,s,a,f){var g=t.memoizedState;g===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:a,tail:s,tailMode:f}:(g.isBackwards=e,g.rendering=null,g.renderingStartTime=0,g.last=a,g.tail=s,g.tailMode=f)}function am(t,e,s){var a=e.pendingProps,f=a.revealOrder,g=a.tail;if(He(t,e,a.children,s),a=Re.current,(a&2)!==0)a=a&1|2,e.flags|=128;else{if(t!==null&&(t.flags&128)!==0)t:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&rm(t,s,e);else if(t.tag===19)rm(t,s,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break t;for(;t.sibling===null;){if(t.return===null||t.return===e)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}a&=1}switch(lt(Re,a),f){case"forwards":for(s=e.child,f=null;s!==null;)t=s.alternate,t!==null&&Go(t)===null&&(f=s),s=s.sibling;s=f,s===null?(f=e.child,e.child=null):(f=s.sibling,s.sibling=null),Ac(e,!1,f,s,g);break;case"backwards":for(s=null,f=e.child,e.child=null;f!==null;){if(t=f.alternate,t!==null&&Go(t)===null){e.child=f;break}t=f.sibling,f.sibling=s,s=f,f=t}Ac(e,!0,s,null,g);break;case"together":Ac(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function pi(t,e,s){if(t!==null&&(e.dependencies=t.dependencies),Fi|=e.lanes,(s&e.childLanes)===0)if(t!==null){if(aa(t,e,s,!1),(s&e.childLanes)===0)return null}else return null;if(t!==null&&e.child!==t.child)throw Error(r(153));if(e.child!==null){for(t=e.child,s=oi(t,t.pendingProps),e.child=s,s.return=e;t.sibling!==null;)t=t.sibling,s=s.sibling=oi(t,t.pendingProps),s.return=e;s.sibling=null}return e.child}function kc(t,e){return(t.lanes&e)!==0?!0:(t=t.dependencies,!!(t!==null&&No(t)))}function vy(t,e,s){switch(e.tag){case 3:ht(e,e.stateNode.containerInfo),Mi(e,De,t.memoizedState.cache),sa();break;case 27:case 5:jt(e);break;case 4:ht(e,e.stateNode.containerInfo);break;case 10:Mi(e,e.type,e.memoizedProps.value);break;case 13:var a=e.memoizedState;if(a!==null)return a.dehydrated!==null?(Ui(e),e.flags|=128,null):(s&e.child.childLanes)!==0?sm(t,e,s):(Ui(e),t=pi(t,e,s),t!==null?t.sibling:null);Ui(e);break;case 19:var f=(t.flags&128)!==0;if(a=(s&e.childLanes)!==0,a||(aa(t,e,s,!1),a=(s&e.childLanes)!==0),f){if(a)return am(t,e,s);e.flags|=128}if(f=e.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),lt(Re,Re.current),a)break;return null;case 22:case 23:return e.lanes=0,$p(t,e,s);case 24:Mi(e,De,t.memoizedState.cache)}return pi(t,e,s)}function om(t,e,s){if(t!==null)if(t.memoizedProps!==e.pendingProps)Ie=!0;else{if(!kc(t,s)&&(e.flags&128)===0)return Ie=!1,vy(t,e,s);Ie=(t.flags&131072)!==0}else Ie=!1,Kt&&(e.flags&1048576)!==0&&Bd(e,Co,e.index);switch(e.lanes=0,e.tag){case 16:t:{t=e.pendingProps;var a=e.elementType,f=a._init;if(a=f(a._payload),e.type=a,typeof a=="function")ju(a)?(t=Ts(a,t),e.tag=1,e=nm(null,e,a,t,s)):(e.tag=0,e=yc(null,e,a,t,s));else{if(a!=null){if(f=a.$$typeof,f===E){e.tag=11,e=Qp(null,e,a,t,s);break t}else if(f===z){e.tag=14,e=Kp(null,e,a,t,s);break t}}throw e=w(a)||a,Error(r(306,e,""))}}return e;case 0:return yc(t,e,e.type,e.pendingProps,s);case 1:return a=e.type,f=Ts(a,e.pendingProps),nm(t,e,a,f,s);case 3:t:{if(ht(e,e.stateNode.containerInfo),t===null)throw Error(r(387));a=e.pendingProps;var g=e.memoizedState;f=g.element,Wu(t,e),da(e,a,null,s);var k=e.memoizedState;if(a=k.cache,Mi(e,De,a),a!==g.cache&&Hu(e,[De],s,!0),fa(),a=k.element,g.isDehydrated)if(g={element:a,isDehydrated:!1,cache:k.cache},e.updateQueue.baseState=g,e.memoizedState=g,e.flags&256){e=im(t,e,a,s);break t}else if(a!==f){f=On(Error(r(424)),e),ra(f),e=im(t,e,a,s);break t}else{switch(t=e.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(ye=Fn(t.firstChild),tn=e,Kt=!0,_s=null,Qn=!0,s=qp(e,null,a,s),e.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling}else{if(sa(),a===f){e=pi(t,e,s);break t}He(t,e,a,s)}e=e.child}return e;case 26:return Po(t,e),t===null?(s=hg(e.type,null,e.pendingProps,null))?e.memoizedState=s:Kt||(s=e.type,t=e.pendingProps,a=ll(dt.current).createElement(s),a[We]=e,a[an]=t,Ze(a,s,t),Be(a),e.stateNode=a):e.memoizedState=hg(e.type,t.memoizedProps,e.pendingProps,t.memoizedState),null;case 27:return jt(e),t===null&&Kt&&(a=e.stateNode=lg(e.type,e.pendingProps,dt.current),tn=e,Qn=!0,f=ye,Yi(e.type)?(ah=f,ye=Fn(a.firstChild)):ye=f),He(t,e,e.pendingProps.children,s),Po(t,e),t===null&&(e.flags|=4194304),e.child;case 5:return t===null&&Kt&&((f=a=ye)&&(a=Yy(a,e.type,e.pendingProps,Qn),a!==null?(e.stateNode=a,tn=e,ye=Fn(a.firstChild),Qn=!1,f=!0):f=!1),f||vs(e)),jt(e),f=e.type,g=e.pendingProps,k=t!==null?t.memoizedProps:null,a=g.children,nh(f,g)?a=null:k!==null&&nh(f,k)&&(e.flags|=32),e.memoizedState!==null&&(f=ec(t,e,cy,null,null,s),ja._currentValue=f),Po(t,e),He(t,e,a,s),e.child;case 6:return t===null&&Kt&&((t=s=ye)&&(s=Py(s,e.pendingProps,Qn),s!==null?(e.stateNode=s,tn=e,ye=null,t=!0):t=!1),t||vs(e)),null;case 13:return sm(t,e,s);case 4:return ht(e,e.stateNode.containerInfo),a=e.pendingProps,t===null?e.child=fr(e,null,a,s):He(t,e,a,s),e.child;case 11:return Qp(t,e,e.type,e.pendingProps,s);case 7:return He(t,e,e.pendingProps,s),e.child;case 8:return He(t,e,e.pendingProps.children,s),e.child;case 12:return He(t,e,e.pendingProps.children,s),e.child;case 10:return a=e.pendingProps,Mi(e,e.type,a.value),He(t,e,a.children,s),e.child;case 9:return f=e.type._context,a=e.pendingProps.children,bs(e),f=Qe(f),a=a(f),e.flags|=1,He(t,e,a,s),e.child;case 14:return Kp(t,e,e.type,e.pendingProps,s);case 15:return Jp(t,e,e.type,e.pendingProps,s);case 19:return am(t,e,s);case 31:return a=e.pendingProps,s=e.mode,a={mode:a.mode,children:a.children},t===null?(s=Xo(a,s),s.ref=e.ref,e.child=s,s.return=e,e=s):(s=oi(t.child,a),s.ref=e.ref,e.child=s,s.return=e,e=s),e;case 22:return $p(t,e,s);case 24:return bs(e),a=Qe(De),t===null?(f=Yu(),f===null&&(f=ue,g=Gu(),f.pooledCache=g,g.refCount++,g!==null&&(f.pooledCacheLanes|=s),f=g),e.memoizedState={parent:a,cache:f},Xu(e),Mi(e,De,f)):((t.lanes&s)!==0&&(Wu(t,e),da(e,null,null,s),fa()),f=t.memoizedState,g=e.memoizedState,f.parent!==a?(f={parent:a,cache:a},e.memoizedState=f,e.lanes===0&&(e.memoizedState=e.updateQueue.baseState=f),Mi(e,De,a)):(a=g.cache,Mi(e,De,a),a!==f.cache&&Hu(e,[De],s,!0))),He(t,e,e.pendingProps.children,s),e.child;case 29:throw e.pendingProps}throw Error(r(156,e.tag))}function mi(t){t.flags|=4}function lm(t,e){if(e.type!=="stylesheet"||(e.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!gg(e)){if(e=zn.current,e!==null&&((Xt&4194048)===Xt?Kn!==null:(Xt&62914560)!==Xt&&(Xt&536870912)===0||e!==Kn))throw ca=Pu,Zd;t.flags|=8192}}function Wo(t,e){e!==null&&(t.flags|=4),t.flags&16384&&(e=t.tag!==22?Ue():536870912,t.lanes|=e,gr|=e)}function ba(t,e){if(!Kt)switch(t.tailMode){case"hidden":e=t.tail;for(var s=null;e!==null;)e.alternate!==null&&(s=e),e=e.sibling;s===null?t.tail=null:s.sibling=null;break;case"collapsed":s=t.tail;for(var a=null;s!==null;)s.alternate!==null&&(a=s),s=s.sibling;a===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:a.sibling=null}}function ge(t){var e=t.alternate!==null&&t.alternate.child===t.child,s=0,a=0;if(e)for(var f=t.child;f!==null;)s|=f.lanes|f.childLanes,a|=f.subtreeFlags&65011712,a|=f.flags&65011712,f.return=t,f=f.sibling;else for(f=t.child;f!==null;)s|=f.lanes|f.childLanes,a|=f.subtreeFlags,a|=f.flags,f.return=t,f=f.sibling;return t.subtreeFlags|=a,t.childLanes=s,e}function yy(t,e,s){var a=e.pendingProps;switch(qu(e),e.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ge(e),null;case 1:return ge(e),null;case 3:return s=e.stateNode,a=null,t!==null&&(a=t.memoizedState.cache),e.memoizedState.cache!==a&&(e.flags|=2048),hi(De),kt(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(t===null||t.child===null)&&(ia(e)?mi(e):t===null||t.memoizedState.isDehydrated&&(e.flags&256)===0||(e.flags|=1024,Vd())),ge(e),null;case 26:return s=e.memoizedState,t===null?(mi(e),s!==null?(ge(e),lm(e,s)):(ge(e),e.flags&=-16777217)):s?s!==t.memoizedState?(mi(e),ge(e),lm(e,s)):(ge(e),e.flags&=-16777217):(t.memoizedProps!==a&&mi(e),ge(e),e.flags&=-16777217),null;case 27:Lt(e),s=dt.current;var f=e.type;if(t!==null&&e.stateNode!=null)t.memoizedProps!==a&&mi(e);else{if(!a){if(e.stateNode===null)throw Error(r(166));return ge(e),null}t=ut.current,ia(e)?Id(e):(t=lg(f,a,s),e.stateNode=t,mi(e))}return ge(e),null;case 5:if(Lt(e),s=e.type,t!==null&&e.stateNode!=null)t.memoizedProps!==a&&mi(e);else{if(!a){if(e.stateNode===null)throw Error(r(166));return ge(e),null}if(t=ut.current,ia(e))Id(e);else{switch(f=ll(dt.current),t){case 1:t=f.createElementNS("http://www.w3.org/2000/svg",s);break;case 2:t=f.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;default:switch(s){case"svg":t=f.createElementNS("http://www.w3.org/2000/svg",s);break;case"math":t=f.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;case"script":t=f.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof a.is=="string"?f.createElement("select",{is:a.is}):f.createElement("select"),a.multiple?t.multiple=!0:a.size&&(t.size=a.size);break;default:t=typeof a.is=="string"?f.createElement(s,{is:a.is}):f.createElement(s)}}t[We]=e,t[an]=a;t:for(f=e.child;f!==null;){if(f.tag===5||f.tag===6)t.appendChild(f.stateNode);else if(f.tag!==4&&f.tag!==27&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break t;for(;f.sibling===null;){if(f.return===null||f.return===e)break t;f=f.return}f.sibling.return=f.return,f=f.sibling}e.stateNode=t;t:switch(Ze(t,s,a),s){case"button":case"input":case"select":case"textarea":t=!!a.autoFocus;break t;case"img":t=!0;break t;default:t=!1}t&&mi(e)}}return ge(e),e.flags&=-16777217,null;case 6:if(t&&e.stateNode!=null)t.memoizedProps!==a&&mi(e);else{if(typeof a!="string"&&e.stateNode===null)throw Error(r(166));if(t=dt.current,ia(e)){if(t=e.stateNode,s=e.memoizedProps,a=null,f=tn,f!==null)switch(f.tag){case 27:case 5:a=f.memoizedProps}t[We]=e,t=!!(t.nodeValue===s||a!==null&&a.suppressHydrationWarning===!0||eg(t.nodeValue,s)),t||vs(e)}else t=ll(t).createTextNode(a),t[We]=e,e.stateNode=t}return ge(e),null;case 13:if(a=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(f=ia(e),a!==null&&a.dehydrated!==null){if(t===null){if(!f)throw Error(r(318));if(f=e.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(r(317));f[We]=e}else sa(),(e.flags&128)===0&&(e.memoizedState=null),e.flags|=4;ge(e),f=!1}else f=Vd(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=f),f=!0;if(!f)return e.flags&256?(di(e),e):(di(e),null)}if(di(e),(e.flags&128)!==0)return e.lanes=s,e;if(s=a!==null,t=t!==null&&t.memoizedState!==null,s){a=e.child,f=null,a.alternate!==null&&a.alternate.memoizedState!==null&&a.alternate.memoizedState.cachePool!==null&&(f=a.alternate.memoizedState.cachePool.pool);var g=null;a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(g=a.memoizedState.cachePool.pool),g!==f&&(a.flags|=2048)}return s!==t&&s&&(e.child.flags|=8192),Wo(e,e.updateQueue),ge(e),null;case 4:return kt(),t===null&&Kc(e.stateNode.containerInfo),ge(e),null;case 10:return hi(e.type),ge(e),null;case 19:if(F(Re),f=e.memoizedState,f===null)return ge(e),null;if(a=(e.flags&128)!==0,g=f.rendering,g===null)if(a)ba(f,!1);else{if(be!==0||t!==null&&(t.flags&128)!==0)for(t=e.child;t!==null;){if(g=Go(t),g!==null){for(e.flags|=128,ba(f,!1),t=g.updateQueue,e.updateQueue=t,Wo(e,t),e.subtreeFlags=0,t=s,s=e.child;s!==null;)Ud(s,t),s=s.sibling;return lt(Re,Re.current&1|2),e.child}t=t.sibling}f.tail!==null&&q()>Jo&&(e.flags|=128,a=!0,ba(f,!1),e.lanes=4194304)}else{if(!a)if(t=Go(g),t!==null){if(e.flags|=128,a=!0,t=t.updateQueue,e.updateQueue=t,Wo(e,t),ba(f,!0),f.tail===null&&f.tailMode==="hidden"&&!g.alternate&&!Kt)return ge(e),null}else 2*q()-f.renderingStartTime>Jo&&s!==536870912&&(e.flags|=128,a=!0,ba(f,!1),e.lanes=4194304);f.isBackwards?(g.sibling=e.child,e.child=g):(t=f.last,t!==null?t.sibling=g:e.child=g,f.last=g)}return f.tail!==null?(e=f.tail,f.rendering=e,f.tail=e.sibling,f.renderingStartTime=q(),e.sibling=null,t=Re.current,lt(Re,a?t&1|2:t&1),e):(ge(e),null);case 22:case 23:return di(e),$u(),a=e.memoizedState!==null,t!==null?t.memoizedState!==null!==a&&(e.flags|=8192):a&&(e.flags|=8192),a?(s&536870912)!==0&&(e.flags&128)===0&&(ge(e),e.subtreeFlags&6&&(e.flags|=8192)):ge(e),s=e.updateQueue,s!==null&&Wo(e,s.retryQueue),s=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),a=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),a!==s&&(e.flags|=2048),t!==null&&F(Ss),null;case 24:return s=null,t!==null&&(s=t.memoizedState.cache),e.memoizedState.cache!==s&&(e.flags|=2048),hi(De),ge(e),null;case 25:return null;case 30:return null}throw Error(r(156,e.tag))}function by(t,e){switch(qu(e),e.tag){case 1:return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return hi(De),kt(),t=e.flags,(t&65536)!==0&&(t&128)===0?(e.flags=t&-65537|128,e):null;case 26:case 27:case 5:return Lt(e),null;case 13:if(di(e),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(r(340));sa()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return F(Re),null;case 4:return kt(),null;case 10:return hi(e.type),null;case 22:case 23:return di(e),$u(),t!==null&&F(Ss),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 24:return hi(De),null;case 25:return null;default:return null}}function um(t,e){switch(qu(e),e.tag){case 3:hi(De),kt();break;case 26:case 27:case 5:Lt(e);break;case 4:kt();break;case 13:di(e);break;case 19:F(Re);break;case 10:hi(e.type);break;case 22:case 23:di(e),$u(),t!==null&&F(Ss);break;case 24:hi(De)}}function Sa(t,e){try{var s=e.updateQueue,a=s!==null?s.lastEffect:null;if(a!==null){var f=a.next;s=f;do{if((s.tag&t)===t){a=void 0;var g=s.create,k=s.inst;a=g(),k.destroy=a}s=s.next}while(s!==f)}}catch(M){le(e,e.return,M)}}function Ii(t,e,s){try{var a=e.updateQueue,f=a!==null?a.lastEffect:null;if(f!==null){var g=f.next;a=g;do{if((a.tag&t)===t){var k=a.inst,M=k.destroy;if(M!==void 0){k.destroy=void 0,f=e;var Z=s,st=M;try{st()}catch(pt){le(f,Z,pt)}}}a=a.next}while(a!==g)}}catch(pt){le(e,e.return,pt)}}function cm(t){var e=t.updateQueue;if(e!==null){var s=t.stateNode;try{Kd(e,s)}catch(a){le(t,t.return,a)}}}function hm(t,e,s){s.props=Ts(t.type,t.memoizedProps),s.state=t.memoizedState;try{s.componentWillUnmount()}catch(a){le(t,e,a)}}function xa(t,e){try{var s=t.ref;if(s!==null){switch(t.tag){case 26:case 27:case 5:var a=t.stateNode;break;case 30:a=t.stateNode;break;default:a=t.stateNode}typeof s=="function"?t.refCleanup=s(a):s.current=a}}catch(f){le(t,e,f)}}function Jn(t,e){var s=t.ref,a=t.refCleanup;if(s!==null)if(typeof a=="function")try{a()}catch(f){le(t,e,f)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(f){le(t,e,f)}else s.current=null}function fm(t){var e=t.type,s=t.memoizedProps,a=t.stateNode;try{t:switch(e){case"button":case"input":case"select":case"textarea":s.autoFocus&&a.focus();break t;case"img":s.src?a.src=s.src:s.srcSet&&(a.srcset=s.srcSet)}}catch(f){le(t,t.return,f)}}function Cc(t,e,s){try{var a=t.stateNode;Ly(a,t.type,s,e),a[an]=e}catch(f){le(t,t.return,f)}}function dm(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Yi(t.type)||t.tag===4}function Nc(t){t:for(;;){for(;t.sibling===null;){if(t.return===null||dm(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Yi(t.type)||t.flags&2||t.child===null||t.tag===4)continue t;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Ec(t,e,s){var a=t.tag;if(a===5||a===6)t=t.stateNode,e?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(t,e):(e=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,e.appendChild(t),s=s._reactRootContainer,s!=null||e.onclick!==null||(e.onclick=ol));else if(a!==4&&(a===27&&Yi(t.type)&&(s=t.stateNode,e=null),t=t.child,t!==null))for(Ec(t,e,s),t=t.sibling;t!==null;)Ec(t,e,s),t=t.sibling}function Qo(t,e,s){var a=t.tag;if(a===5||a===6)t=t.stateNode,e?s.insertBefore(t,e):s.appendChild(t);else if(a!==4&&(a===27&&Yi(t.type)&&(s=t.stateNode),t=t.child,t!==null))for(Qo(t,e,s),t=t.sibling;t!==null;)Qo(t,e,s),t=t.sibling}function pm(t){var e=t.stateNode,s=t.memoizedProps;try{for(var a=t.type,f=e.attributes;f.length;)e.removeAttributeNode(f[0]);Ze(e,a,s),e[We]=t,e[an]=s}catch(g){le(t,t.return,g)}}var gi=!1,we=!1,Oc=!1,mm=typeof WeakSet=="function"?WeakSet:Set,qe=null;function Sy(t,e){if(t=t.containerInfo,th=pl,t=kd(t),Nu(t)){if("selectionStart"in t)var s={start:t.selectionStart,end:t.selectionEnd};else t:{s=(s=t.ownerDocument)&&s.defaultView||window;var a=s.getSelection&&s.getSelection();if(a&&a.rangeCount!==0){s=a.anchorNode;var f=a.anchorOffset,g=a.focusNode;a=a.focusOffset;try{s.nodeType,g.nodeType}catch{s=null;break t}var k=0,M=-1,Z=-1,st=0,pt=0,_t=t,at=null;e:for(;;){for(var ot;_t!==s||f!==0&&_t.nodeType!==3||(M=k+f),_t!==g||a!==0&&_t.nodeType!==3||(Z=k+a),_t.nodeType===3&&(k+=_t.nodeValue.length),(ot=_t.firstChild)!==null;)at=_t,_t=ot;for(;;){if(_t===t)break e;if(at===s&&++st===f&&(M=k),at===g&&++pt===a&&(Z=k),(ot=_t.nextSibling)!==null)break;_t=at,at=_t.parentNode}_t=ot}s=M===-1||Z===-1?null:{start:M,end:Z}}else s=null}s=s||{start:0,end:0}}else s=null;for(eh={focusedElem:t,selectionRange:s},pl=!1,qe=e;qe!==null;)if(e=qe,t=e.child,(e.subtreeFlags&1024)!==0&&t!==null)t.return=e,qe=t;else for(;qe!==null;){switch(e=qe,g=e.alternate,t=e.flags,e.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&g!==null){t=void 0,s=e,f=g.memoizedProps,g=g.memoizedState,a=s.stateNode;try{var Mt=Ts(s.type,f,s.elementType===s.type);t=a.getSnapshotBeforeUpdate(Mt,g),a.__reactInternalSnapshotBeforeUpdate=t}catch(Et){le(s,s.return,Et)}}break;case 3:if((t&1024)!==0){if(t=e.stateNode.containerInfo,s=t.nodeType,s===9)sh(t);else if(s===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":sh(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(r(163))}if(t=e.sibling,t!==null){t.return=e.return,qe=t;break}qe=e.return}}function gm(t,e,s){var a=s.flags;switch(s.tag){case 0:case 11:case 15:qi(t,s),a&4&&Sa(5,s);break;case 1:if(qi(t,s),a&4)if(t=s.stateNode,e===null)try{t.componentDidMount()}catch(k){le(s,s.return,k)}else{var f=Ts(s.type,e.memoizedProps);e=e.memoizedState;try{t.componentDidUpdate(f,e,t.__reactInternalSnapshotBeforeUpdate)}catch(k){le(s,s.return,k)}}a&64&&cm(s),a&512&&xa(s,s.return);break;case 3:if(qi(t,s),a&64&&(t=s.updateQueue,t!==null)){if(e=null,s.child!==null)switch(s.child.tag){case 27:case 5:e=s.child.stateNode;break;case 1:e=s.child.stateNode}try{Kd(t,e)}catch(k){le(s,s.return,k)}}break;case 27:e===null&&a&4&&pm(s);case 26:case 5:qi(t,s),e===null&&a&4&&fm(s),a&512&&xa(s,s.return);break;case 12:qi(t,s);break;case 13:qi(t,s),a&4&&ym(t,s),a&64&&(t=s.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(s=Oy.bind(null,s),Xy(t,s))));break;case 22:if(a=s.memoizedState!==null||gi,!a){e=e!==null&&e.memoizedState!==null||we,f=gi;var g=we;gi=a,(we=e)&&!g?Vi(t,s,(s.subtreeFlags&8772)!==0):qi(t,s),gi=f,we=g}break;case 30:break;default:qi(t,s)}}function _m(t){var e=t.alternate;e!==null&&(t.alternate=null,_m(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&uu(e)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var pe=null,un=!1;function _i(t,e,s){for(s=s.child;s!==null;)vm(t,e,s),s=s.sibling}function vm(t,e,s){if(Rt&&typeof Rt.onCommitFiberUnmount=="function")try{Rt.onCommitFiberUnmount(Ct,s)}catch{}switch(s.tag){case 26:we||Jn(s,e),_i(t,e,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:we||Jn(s,e);var a=pe,f=un;Yi(s.type)&&(pe=s.stateNode,un=!1),_i(t,e,s),Ma(s.stateNode),pe=a,un=f;break;case 5:we||Jn(s,e);case 6:if(a=pe,f=un,pe=null,_i(t,e,s),pe=a,un=f,pe!==null)if(un)try{(pe.nodeType===9?pe.body:pe.nodeName==="HTML"?pe.ownerDocument.body:pe).removeChild(s.stateNode)}catch(g){le(s,e,g)}else try{pe.removeChild(s.stateNode)}catch(g){le(s,e,g)}break;case 18:pe!==null&&(un?(t=pe,ag(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,s.stateNode),qa(t)):ag(pe,s.stateNode));break;case 4:a=pe,f=un,pe=s.stateNode.containerInfo,un=!0,_i(t,e,s),pe=a,un=f;break;case 0:case 11:case 14:case 15:we||Ii(2,s,e),we||Ii(4,s,e),_i(t,e,s);break;case 1:we||(Jn(s,e),a=s.stateNode,typeof a.componentWillUnmount=="function"&&hm(s,e,a)),_i(t,e,s);break;case 21:_i(t,e,s);break;case 22:we=(a=we)||s.memoizedState!==null,_i(t,e,s),we=a;break;default:_i(t,e,s)}}function ym(t,e){if(e.memoizedState===null&&(t=e.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{qa(t)}catch(s){le(e,e.return,s)}}function xy(t){switch(t.tag){case 13:case 19:var e=t.stateNode;return e===null&&(e=t.stateNode=new mm),e;case 22:return t=t.stateNode,e=t._retryCache,e===null&&(e=t._retryCache=new mm),e;default:throw Error(r(435,t.tag))}}function Mc(t,e){var s=xy(t);e.forEach(function(a){var f=My.bind(null,t,a);s.has(a)||(s.add(a),a.then(f,f))})}function yn(t,e){var s=e.deletions;if(s!==null)for(var a=0;a<s.length;a++){var f=s[a],g=t,k=e,M=k;t:for(;M!==null;){switch(M.tag){case 27:if(Yi(M.type)){pe=M.stateNode,un=!1;break t}break;case 5:pe=M.stateNode,un=!1;break t;case 3:case 4:pe=M.stateNode.containerInfo,un=!0;break t}M=M.return}if(pe===null)throw Error(r(160));vm(g,k,f),pe=null,un=!1,g=f.alternate,g!==null&&(g.return=null),f.return=null}if(e.subtreeFlags&13878)for(e=e.child;e!==null;)bm(e,t),e=e.sibling}var Ln=null;function bm(t,e){var s=t.alternate,a=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:yn(e,t),bn(t),a&4&&(Ii(3,t,t.return),Sa(3,t),Ii(5,t,t.return));break;case 1:yn(e,t),bn(t),a&512&&(we||s===null||Jn(s,s.return)),a&64&&gi&&(t=t.updateQueue,t!==null&&(a=t.callbacks,a!==null&&(s=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=s===null?a:s.concat(a))));break;case 26:var f=Ln;if(yn(e,t),bn(t),a&512&&(we||s===null||Jn(s,s.return)),a&4){var g=s!==null?s.memoizedState:null;if(a=t.memoizedState,s===null)if(a===null)if(t.stateNode===null){t:{a=t.type,s=t.memoizedProps,f=f.ownerDocument||f;e:switch(a){case"title":g=f.getElementsByTagName("title")[0],(!g||g[Yr]||g[We]||g.namespaceURI==="http://www.w3.org/2000/svg"||g.hasAttribute("itemprop"))&&(g=f.createElement(a),f.head.insertBefore(g,f.querySelector("head > title"))),Ze(g,a,s),g[We]=t,Be(g),a=g;break t;case"link":var k=pg("link","href",f).get(a+(s.href||""));if(k){for(var M=0;M<k.length;M++)if(g=k[M],g.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&g.getAttribute("rel")===(s.rel==null?null:s.rel)&&g.getAttribute("title")===(s.title==null?null:s.title)&&g.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){k.splice(M,1);break e}}g=f.createElement(a),Ze(g,a,s),f.head.appendChild(g);break;case"meta":if(k=pg("meta","content",f).get(a+(s.content||""))){for(M=0;M<k.length;M++)if(g=k[M],g.getAttribute("content")===(s.content==null?null:""+s.content)&&g.getAttribute("name")===(s.name==null?null:s.name)&&g.getAttribute("property")===(s.property==null?null:s.property)&&g.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&g.getAttribute("charset")===(s.charSet==null?null:s.charSet)){k.splice(M,1);break e}}g=f.createElement(a),Ze(g,a,s),f.head.appendChild(g);break;default:throw Error(r(468,a))}g[We]=t,Be(g),a=g}t.stateNode=a}else mg(f,t.type,t.stateNode);else t.stateNode=dg(f,a,t.memoizedProps);else g!==a?(g===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):g.count--,a===null?mg(f,t.type,t.stateNode):dg(f,a,t.memoizedProps)):a===null&&t.stateNode!==null&&Cc(t,t.memoizedProps,s.memoizedProps)}break;case 27:yn(e,t),bn(t),a&512&&(we||s===null||Jn(s,s.return)),s!==null&&a&4&&Cc(t,t.memoizedProps,s.memoizedProps);break;case 5:if(yn(e,t),bn(t),a&512&&(we||s===null||Jn(s,s.return)),t.flags&32){f=t.stateNode;try{Xs(f,"")}catch(ot){le(t,t.return,ot)}}a&4&&t.stateNode!=null&&(f=t.memoizedProps,Cc(t,f,s!==null?s.memoizedProps:f)),a&1024&&(Oc=!0);break;case 6:if(yn(e,t),bn(t),a&4){if(t.stateNode===null)throw Error(r(162));a=t.memoizedProps,s=t.stateNode;try{s.nodeValue=a}catch(ot){le(t,t.return,ot)}}break;case 3:if(hl=null,f=Ln,Ln=ul(e.containerInfo),yn(e,t),Ln=f,bn(t),a&4&&s!==null&&s.memoizedState.isDehydrated)try{qa(e.containerInfo)}catch(ot){le(t,t.return,ot)}Oc&&(Oc=!1,Sm(t));break;case 4:a=Ln,Ln=ul(t.stateNode.containerInfo),yn(e,t),bn(t),Ln=a;break;case 12:yn(e,t),bn(t);break;case 13:yn(e,t),bn(t),t.child.flags&8192&&t.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(Bc=q()),a&4&&(a=t.updateQueue,a!==null&&(t.updateQueue=null,Mc(t,a)));break;case 22:f=t.memoizedState!==null;var Z=s!==null&&s.memoizedState!==null,st=gi,pt=we;if(gi=st||f,we=pt||Z,yn(e,t),we=pt,gi=st,bn(t),a&8192)t:for(e=t.stateNode,e._visibility=f?e._visibility&-2:e._visibility|1,f&&(s===null||Z||gi||we||ws(t)),s=null,e=t;;){if(e.tag===5||e.tag===26){if(s===null){Z=s=e;try{if(g=Z.stateNode,f)k=g.style,typeof k.setProperty=="function"?k.setProperty("display","none","important"):k.display="none";else{M=Z.stateNode;var _t=Z.memoizedProps.style,at=_t!=null&&_t.hasOwnProperty("display")?_t.display:null;M.style.display=at==null||typeof at=="boolean"?"":(""+at).trim()}}catch(ot){le(Z,Z.return,ot)}}}else if(e.tag===6){if(s===null){Z=e;try{Z.stateNode.nodeValue=f?"":Z.memoizedProps}catch(ot){le(Z,Z.return,ot)}}}else if((e.tag!==22&&e.tag!==23||e.memoizedState===null||e===t)&&e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break t;for(;e.sibling===null;){if(e.return===null||e.return===t)break t;s===e&&(s=null),e=e.return}s===e&&(s=null),e.sibling.return=e.return,e=e.sibling}a&4&&(a=t.updateQueue,a!==null&&(s=a.retryQueue,s!==null&&(a.retryQueue=null,Mc(t,s))));break;case 19:yn(e,t),bn(t),a&4&&(a=t.updateQueue,a!==null&&(t.updateQueue=null,Mc(t,a)));break;case 30:break;case 21:break;default:yn(e,t),bn(t)}}function bn(t){var e=t.flags;if(e&2){try{for(var s,a=t.return;a!==null;){if(dm(a)){s=a;break}a=a.return}if(s==null)throw Error(r(160));switch(s.tag){case 27:var f=s.stateNode,g=Nc(t);Qo(t,g,f);break;case 5:var k=s.stateNode;s.flags&32&&(Xs(k,""),s.flags&=-33);var M=Nc(t);Qo(t,M,k);break;case 3:case 4:var Z=s.stateNode.containerInfo,st=Nc(t);Ec(t,st,Z);break;default:throw Error(r(161))}}catch(pt){le(t,t.return,pt)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function Sm(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var e=t;Sm(e),e.tag===5&&e.flags&1024&&e.stateNode.reset(),t=t.sibling}}function qi(t,e){if(e.subtreeFlags&8772)for(e=e.child;e!==null;)gm(t,e.alternate,e),e=e.sibling}function ws(t){for(t=t.child;t!==null;){var e=t;switch(e.tag){case 0:case 11:case 14:case 15:Ii(4,e,e.return),ws(e);break;case 1:Jn(e,e.return);var s=e.stateNode;typeof s.componentWillUnmount=="function"&&hm(e,e.return,s),ws(e);break;case 27:Ma(e.stateNode);case 26:case 5:Jn(e,e.return),ws(e);break;case 22:e.memoizedState===null&&ws(e);break;case 30:ws(e);break;default:ws(e)}t=t.sibling}}function Vi(t,e,s){for(s=s&&(e.subtreeFlags&8772)!==0,e=e.child;e!==null;){var a=e.alternate,f=t,g=e,k=g.flags;switch(g.tag){case 0:case 11:case 15:Vi(f,g,s),Sa(4,g);break;case 1:if(Vi(f,g,s),a=g,f=a.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(st){le(a,a.return,st)}if(a=g,f=a.updateQueue,f!==null){var M=a.stateNode;try{var Z=f.shared.hiddenCallbacks;if(Z!==null)for(f.shared.hiddenCallbacks=null,f=0;f<Z.length;f++)Qd(Z[f],M)}catch(st){le(a,a.return,st)}}s&&k&64&&cm(g),xa(g,g.return);break;case 27:pm(g);case 26:case 5:Vi(f,g,s),s&&a===null&&k&4&&fm(g),xa(g,g.return);break;case 12:Vi(f,g,s);break;case 13:Vi(f,g,s),s&&k&4&&ym(f,g);break;case 22:g.memoizedState===null&&Vi(f,g,s),xa(g,g.return);break;case 30:break;default:Vi(f,g,s)}e=e.sibling}}function Dc(t,e){var s=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),t=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(t=e.memoizedState.cachePool.pool),t!==s&&(t!=null&&t.refCount++,s!=null&&oa(s))}function Rc(t,e){t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&oa(t))}function $n(t,e,s,a){if(e.subtreeFlags&10256)for(e=e.child;e!==null;)xm(t,e,s,a),e=e.sibling}function xm(t,e,s,a){var f=e.flags;switch(e.tag){case 0:case 11:case 15:$n(t,e,s,a),f&2048&&Sa(9,e);break;case 1:$n(t,e,s,a);break;case 3:$n(t,e,s,a),f&2048&&(t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&oa(t)));break;case 12:if(f&2048){$n(t,e,s,a),t=e.stateNode;try{var g=e.memoizedProps,k=g.id,M=g.onPostCommit;typeof M=="function"&&M(k,e.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(Z){le(e,e.return,Z)}}else $n(t,e,s,a);break;case 13:$n(t,e,s,a);break;case 23:break;case 22:g=e.stateNode,k=e.alternate,e.memoizedState!==null?g._visibility&2?$n(t,e,s,a):Ta(t,e):g._visibility&2?$n(t,e,s,a):(g._visibility|=2,dr(t,e,s,a,(e.subtreeFlags&10256)!==0)),f&2048&&Dc(k,e);break;case 24:$n(t,e,s,a),f&2048&&Rc(e.alternate,e);break;default:$n(t,e,s,a)}}function dr(t,e,s,a,f){for(f=f&&(e.subtreeFlags&10256)!==0,e=e.child;e!==null;){var g=t,k=e,M=s,Z=a,st=k.flags;switch(k.tag){case 0:case 11:case 15:dr(g,k,M,Z,f),Sa(8,k);break;case 23:break;case 22:var pt=k.stateNode;k.memoizedState!==null?pt._visibility&2?dr(g,k,M,Z,f):Ta(g,k):(pt._visibility|=2,dr(g,k,M,Z,f)),f&&st&2048&&Dc(k.alternate,k);break;case 24:dr(g,k,M,Z,f),f&&st&2048&&Rc(k.alternate,k);break;default:dr(g,k,M,Z,f)}e=e.sibling}}function Ta(t,e){if(e.subtreeFlags&10256)for(e=e.child;e!==null;){var s=t,a=e,f=a.flags;switch(a.tag){case 22:Ta(s,a),f&2048&&Dc(a.alternate,a);break;case 24:Ta(s,a),f&2048&&Rc(a.alternate,a);break;default:Ta(s,a)}e=e.sibling}}var wa=8192;function pr(t){if(t.subtreeFlags&wa)for(t=t.child;t!==null;)Tm(t),t=t.sibling}function Tm(t){switch(t.tag){case 26:pr(t),t.flags&wa&&t.memoizedState!==null&&o1(Ln,t.memoizedState,t.memoizedProps);break;case 5:pr(t);break;case 3:case 4:var e=Ln;Ln=ul(t.stateNode.containerInfo),pr(t),Ln=e;break;case 22:t.memoizedState===null&&(e=t.alternate,e!==null&&e.memoizedState!==null?(e=wa,wa=16777216,pr(t),wa=e):pr(t));break;default:pr(t)}}function wm(t){var e=t.alternate;if(e!==null&&(t=e.child,t!==null)){e.child=null;do e=t.sibling,t.sibling=null,t=e;while(t!==null)}}function Aa(t){var e=t.deletions;if((t.flags&16)!==0){if(e!==null)for(var s=0;s<e.length;s++){var a=e[s];qe=a,km(a,t)}wm(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Am(t),t=t.sibling}function Am(t){switch(t.tag){case 0:case 11:case 15:Aa(t),t.flags&2048&&Ii(9,t,t.return);break;case 3:Aa(t);break;case 12:Aa(t);break;case 22:var e=t.stateNode;t.memoizedState!==null&&e._visibility&2&&(t.return===null||t.return.tag!==13)?(e._visibility&=-3,Ko(t)):Aa(t);break;default:Aa(t)}}function Ko(t){var e=t.deletions;if((t.flags&16)!==0){if(e!==null)for(var s=0;s<e.length;s++){var a=e[s];qe=a,km(a,t)}wm(t)}for(t=t.child;t!==null;){switch(e=t,e.tag){case 0:case 11:case 15:Ii(8,e,e.return),Ko(e);break;case 22:s=e.stateNode,s._visibility&2&&(s._visibility&=-3,Ko(e));break;default:Ko(e)}t=t.sibling}}function km(t,e){for(;qe!==null;){var s=qe;switch(s.tag){case 0:case 11:case 15:Ii(8,s,e);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var a=s.memoizedState.cachePool.pool;a!=null&&a.refCount++}break;case 24:oa(s.memoizedState.cache)}if(a=s.child,a!==null)a.return=s,qe=a;else t:for(s=t;qe!==null;){a=qe;var f=a.sibling,g=a.return;if(_m(a),a===s){qe=null;break t}if(f!==null){f.return=g,qe=f;break t}qe=g}}}var Ty={getCacheForType:function(t){var e=Qe(De),s=e.data.get(t);return s===void 0&&(s=t(),e.data.set(t,s)),s}},wy=typeof WeakMap=="function"?WeakMap:Map,$t=0,ue=null,Ht=null,Xt=0,te=0,Sn=null,Li=!1,mr=!1,zc=!1,vi=0,be=0,Fi=0,As=0,jc=0,jn=0,gr=0,ka=null,cn=null,Uc=!1,Bc=0,Jo=1/0,$o=null,Hi=null,Ge=0,Gi=null,_r=null,vr=0,Ic=0,qc=null,Cm=null,Ca=0,Vc=null;function xn(){if(($t&2)!==0&&Xt!==0)return Xt&-Xt;if(G.T!==null){var t=rr;return t!==0?t:Pc()}return uo()}function Nm(){jn===0&&(jn=(Xt&536870912)===0||Kt?pn():536870912);var t=zn.current;return t!==null&&(t.flags|=32),jn}function Tn(t,e,s){(t===ue&&(te===2||te===9)||t.cancelPendingCommit!==null)&&(yr(t,0),Zi(t,Xt,jn,!1)),Xe(t,s),(($t&2)===0||t!==ue)&&(t===ue&&(($t&2)===0&&(As|=s),be===4&&Zi(t,Xt,jn,!1)),ti(t))}function Em(t,e,s){if(($t&6)!==0)throw Error(r(327));var a=!s&&(e&124)===0&&(e&t.expiredLanes)===0||Yt(t,e),f=a?Cy(t,e):Hc(t,e,!0),g=a;do{if(f===0){mr&&!a&&Zi(t,e,0,!1);break}else{if(s=t.current.alternate,g&&!Ay(s)){f=Hc(t,e,!1),g=!1;continue}if(f===2){if(g=e,t.errorRecoveryDisabledLanes&g)var k=0;else k=t.pendingLanes&-536870913,k=k!==0?k:k&536870912?536870912:0;if(k!==0){e=k;t:{var M=t;f=ka;var Z=M.current.memoizedState.isDehydrated;if(Z&&(yr(M,k).flags|=256),k=Hc(M,k,!1),k!==2){if(zc&&!Z){M.errorRecoveryDisabledLanes|=g,As|=g,f=4;break t}g=cn,cn=f,g!==null&&(cn===null?cn=g:cn.push.apply(cn,g))}f=k}if(g=!1,f!==2)continue}}if(f===1){yr(t,0),Zi(t,e,0,!0);break}t:{switch(a=t,g=f,g){case 0:case 1:throw Error(r(345));case 4:if((e&4194048)!==e)break;case 6:Zi(a,e,jn,!Li);break t;case 2:cn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((e&62914560)===e&&(f=Bc+300-q(),10<f)){if(Zi(a,e,jn,!Li),Wt(a,0,!0)!==0)break t;a.timeoutHandle=sg(Om.bind(null,a,s,cn,$o,Uc,e,jn,As,gr,Li,g,2,-0,0),f);break t}Om(a,s,cn,$o,Uc,e,jn,As,gr,Li,g,0,-0,0)}}break}while(!0);ti(t)}function Om(t,e,s,a,f,g,k,M,Z,st,pt,_t,at,ot){if(t.timeoutHandle=-1,_t=e.subtreeFlags,(_t&8192||(_t&16785408)===16785408)&&(za={stylesheets:null,count:0,unsuspend:a1},Tm(e),_t=l1(),_t!==null)){t.cancelPendingCommit=_t(Bm.bind(null,t,e,g,s,a,f,k,M,Z,pt,1,at,ot)),Zi(t,g,k,!st);return}Bm(t,e,g,s,a,f,k,M,Z)}function Ay(t){for(var e=t;;){var s=e.tag;if((s===0||s===11||s===15)&&e.flags&16384&&(s=e.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var a=0;a<s.length;a++){var f=s[a],g=f.getSnapshot;f=f.value;try{if(!_n(g(),f))return!1}catch{return!1}}if(s=e.child,e.subtreeFlags&16384&&s!==null)s.return=e,e=s;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Zi(t,e,s,a){e&=~jc,e&=~As,t.suspendedLanes|=e,t.pingedLanes&=~e,a&&(t.warmLanes|=e),a=t.expirationTimes;for(var f=e;0<f;){var g=31-St(f),k=1<<g;a[g]=-1,f&=~k}s!==0&&Ni(t,s,e)}function tl(){return($t&6)===0?(Na(0),!1):!0}function Lc(){if(Ht!==null){if(te===0)var t=Ht.return;else t=Ht,ci=ys=null,sc(t),hr=null,va=0,t=Ht;for(;t!==null;)um(t.alternate,t),t=t.return;Ht=null}}function yr(t,e){var s=t.timeoutHandle;s!==-1&&(t.timeoutHandle=-1,Hy(s)),s=t.cancelPendingCommit,s!==null&&(t.cancelPendingCommit=null,s()),Lc(),ue=t,Ht=s=oi(t.current,null),Xt=e,te=0,Sn=null,Li=!1,mr=Yt(t,e),zc=!1,gr=jn=jc=As=Fi=be=0,cn=ka=null,Uc=!1,(e&8)!==0&&(e|=e&32);var a=t.entangledLanes;if(a!==0)for(t=t.entanglements,a&=e;0<a;){var f=31-St(a),g=1<<f;e|=t[f],a&=~g}return vi=e,xo(),s}function Mm(t,e){Vt=null,G.H=Lo,e===ua||e===Mo?(e=Xd(),te=3):e===Zd?(e=Xd(),te=4):te=e===Wp?8:e!==null&&typeof e=="object"&&typeof e.then=="function"?6:1,Sn=e,Ht===null&&(be=1,Yo(t,On(e,t.current)))}function Dm(){var t=G.H;return G.H=Lo,t===null?Lo:t}function Rm(){var t=G.A;return G.A=Ty,t}function Fc(){be=4,Li||(Xt&4194048)!==Xt&&zn.current!==null||(mr=!0),(Fi&134217727)===0&&(As&134217727)===0||ue===null||Zi(ue,Xt,jn,!1)}function Hc(t,e,s){var a=$t;$t|=2;var f=Dm(),g=Rm();(ue!==t||Xt!==e)&&($o=null,yr(t,e)),e=!1;var k=be;t:do try{if(te!==0&&Ht!==null){var M=Ht,Z=Sn;switch(te){case 8:Lc(),k=6;break t;case 3:case 2:case 9:case 6:zn.current===null&&(e=!0);var st=te;if(te=0,Sn=null,br(t,M,Z,st),s&&mr){k=0;break t}break;default:st=te,te=0,Sn=null,br(t,M,Z,st)}}ky(),k=be;break}catch(pt){Mm(t,pt)}while(!0);return e&&t.shellSuspendCounter++,ci=ys=null,$t=a,G.H=f,G.A=g,Ht===null&&(ue=null,Xt=0,xo()),k}function ky(){for(;Ht!==null;)zm(Ht)}function Cy(t,e){var s=$t;$t|=2;var a=Dm(),f=Rm();ue!==t||Xt!==e?($o=null,Jo=q()+500,yr(t,e)):mr=Yt(t,e);t:do try{if(te!==0&&Ht!==null){e=Ht;var g=Sn;e:switch(te){case 1:te=0,Sn=null,br(t,e,g,1);break;case 2:case 9:if(Yd(g)){te=0,Sn=null,jm(e);break}e=function(){te!==2&&te!==9||ue!==t||(te=7),ti(t)},g.then(e,e);break t;case 3:te=7;break t;case 4:te=5;break t;case 7:Yd(g)?(te=0,Sn=null,jm(e)):(te=0,Sn=null,br(t,e,g,7));break;case 5:var k=null;switch(Ht.tag){case 26:k=Ht.memoizedState;case 5:case 27:var M=Ht;if(!k||gg(k)){te=0,Sn=null;var Z=M.sibling;if(Z!==null)Ht=Z;else{var st=M.return;st!==null?(Ht=st,el(st)):Ht=null}break e}}te=0,Sn=null,br(t,e,g,5);break;case 6:te=0,Sn=null,br(t,e,g,6);break;case 8:Lc(),be=6;break t;default:throw Error(r(462))}}Ny();break}catch(pt){Mm(t,pt)}while(!0);return ci=ys=null,G.H=a,G.A=f,$t=s,Ht!==null?0:(ue=null,Xt=0,xo(),be)}function Ny(){for(;Ht!==null&&!Q();)zm(Ht)}function zm(t){var e=om(t.alternate,t,vi);t.memoizedProps=t.pendingProps,e===null?el(t):Ht=e}function jm(t){var e=t,s=e.alternate;switch(e.tag){case 15:case 0:e=em(s,e,e.pendingProps,e.type,void 0,Xt);break;case 11:e=em(s,e,e.pendingProps,e.type.render,e.ref,Xt);break;case 5:sc(e);default:um(s,e),e=Ht=Ud(e,vi),e=om(s,e,vi)}t.memoizedProps=t.pendingProps,e===null?el(t):Ht=e}function br(t,e,s,a){ci=ys=null,sc(e),hr=null,va=0;var f=e.return;try{if(_y(t,f,e,s,Xt)){be=1,Yo(t,On(s,t.current)),Ht=null;return}}catch(g){if(f!==null)throw Ht=f,g;be=1,Yo(t,On(s,t.current)),Ht=null;return}e.flags&32768?(Kt||a===1?t=!0:mr||(Xt&536870912)!==0?t=!1:(Li=t=!0,(a===2||a===9||a===3||a===6)&&(a=zn.current,a!==null&&a.tag===13&&(a.flags|=16384))),Um(e,t)):el(e)}function el(t){var e=t;do{if((e.flags&32768)!==0){Um(e,Li);return}t=e.return;var s=yy(e.alternate,e,vi);if(s!==null){Ht=s;return}if(e=e.sibling,e!==null){Ht=e;return}Ht=e=t}while(e!==null);be===0&&(be=5)}function Um(t,e){do{var s=by(t.alternate,t);if(s!==null){s.flags&=32767,Ht=s;return}if(s=t.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!e&&(t=t.sibling,t!==null)){Ht=t;return}Ht=t=s}while(t!==null);be=6,Ht=null}function Bm(t,e,s,a,f,g,k,M,Z){t.cancelPendingCommit=null;do nl();while(Ge!==0);if(($t&6)!==0)throw Error(r(327));if(e!==null){if(e===t.current)throw Error(r(177));if(g=e.lanes|e.childLanes,g|=Ru,qn(t,s,g,k,M,Z),t===ue&&(Ht=ue=null,Xt=0),_r=e,Gi=t,vr=s,Ic=g,qc=f,Cm=a,(e.subtreeFlags&10256)!==0||(e.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,Dy(mt,function(){return Fm(),null})):(t.callbackNode=null,t.callbackPriority=0),a=(e.flags&13878)!==0,(e.subtreeFlags&13878)!==0||a){a=G.T,G.T=null,f=H.p,H.p=2,k=$t,$t|=4;try{Sy(t,e,s)}finally{$t=k,H.p=f,G.T=a}}Ge=1,Im(),qm(),Vm()}}function Im(){if(Ge===1){Ge=0;var t=Gi,e=_r,s=(e.flags&13878)!==0;if((e.subtreeFlags&13878)!==0||s){s=G.T,G.T=null;var a=H.p;H.p=2;var f=$t;$t|=4;try{bm(e,t);var g=eh,k=kd(t.containerInfo),M=g.focusedElem,Z=g.selectionRange;if(k!==M&&M&&M.ownerDocument&&Ad(M.ownerDocument.documentElement,M)){if(Z!==null&&Nu(M)){var st=Z.start,pt=Z.end;if(pt===void 0&&(pt=st),"selectionStart"in M)M.selectionStart=st,M.selectionEnd=Math.min(pt,M.value.length);else{var _t=M.ownerDocument||document,at=_t&&_t.defaultView||window;if(at.getSelection){var ot=at.getSelection(),Mt=M.textContent.length,Et=Math.min(Z.start,Mt),se=Z.end===void 0?Et:Math.min(Z.end,Mt);!ot.extend&&Et>se&&(k=se,se=Et,Et=k);var $=wd(M,Et),W=wd(M,se);if($&&W&&(ot.rangeCount!==1||ot.anchorNode!==$.node||ot.anchorOffset!==$.offset||ot.focusNode!==W.node||ot.focusOffset!==W.offset)){var it=_t.createRange();it.setStart($.node,$.offset),ot.removeAllRanges(),Et>se?(ot.addRange(it),ot.extend(W.node,W.offset)):(it.setEnd(W.node,W.offset),ot.addRange(it))}}}}for(_t=[],ot=M;ot=ot.parentNode;)ot.nodeType===1&&_t.push({element:ot,left:ot.scrollLeft,top:ot.scrollTop});for(typeof M.focus=="function"&&M.focus(),M=0;M<_t.length;M++){var gt=_t[M];gt.element.scrollLeft=gt.left,gt.element.scrollTop=gt.top}}pl=!!th,eh=th=null}finally{$t=f,H.p=a,G.T=s}}t.current=e,Ge=2}}function qm(){if(Ge===2){Ge=0;var t=Gi,e=_r,s=(e.flags&8772)!==0;if((e.subtreeFlags&8772)!==0||s){s=G.T,G.T=null;var a=H.p;H.p=2;var f=$t;$t|=4;try{gm(t,e.alternate,e)}finally{$t=f,H.p=a,G.T=s}}Ge=3}}function Vm(){if(Ge===4||Ge===3){Ge=0,K();var t=Gi,e=_r,s=vr,a=Cm;(e.subtreeFlags&10256)!==0||(e.flags&10256)!==0?Ge=5:(Ge=0,_r=Gi=null,Lm(t,t.pendingLanes));var f=t.pendingLanes;if(f===0&&(Hi=null),us(s),e=e.stateNode,Rt&&typeof Rt.onCommitFiberRoot=="function")try{Rt.onCommitFiberRoot(Ct,e,void 0,(e.current.flags&128)===128)}catch{}if(a!==null){e=G.T,f=H.p,H.p=2,G.T=null;try{for(var g=t.onRecoverableError,k=0;k<a.length;k++){var M=a[k];g(M.value,{componentStack:M.stack})}}finally{G.T=e,H.p=f}}(vr&3)!==0&&nl(),ti(t),f=t.pendingLanes,(s&4194090)!==0&&(f&42)!==0?t===Vc?Ca++:(Ca=0,Vc=t):Ca=0,Na(0)}}function Lm(t,e){(t.pooledCacheLanes&=e)===0&&(e=t.pooledCache,e!=null&&(t.pooledCache=null,oa(e)))}function nl(t){return Im(),qm(),Vm(),Fm()}function Fm(){if(Ge!==5)return!1;var t=Gi,e=Ic;Ic=0;var s=us(vr),a=G.T,f=H.p;try{H.p=32>s?32:s,G.T=null,s=qc,qc=null;var g=Gi,k=vr;if(Ge=0,_r=Gi=null,vr=0,($t&6)!==0)throw Error(r(331));var M=$t;if($t|=4,Am(g.current),xm(g,g.current,k,s),$t=M,Na(0,!1),Rt&&typeof Rt.onPostCommitFiberRoot=="function")try{Rt.onPostCommitFiberRoot(Ct,g)}catch{}return!0}finally{H.p=f,G.T=a,Lm(t,e)}}function Hm(t,e,s){e=On(s,e),e=vc(t.stateNode,e,2),t=zi(t,e,2),t!==null&&(Xe(t,2),ti(t))}function le(t,e,s){if(t.tag===3)Hm(t,t,s);else for(;e!==null;){if(e.tag===3){Hm(e,t,s);break}else if(e.tag===1){var a=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof a.componentDidCatch=="function"&&(Hi===null||!Hi.has(a))){t=On(s,t),s=Pp(2),a=zi(e,s,2),a!==null&&(Xp(s,a,e,t),Xe(a,2),ti(a));break}}e=e.return}}function Gc(t,e,s){var a=t.pingCache;if(a===null){a=t.pingCache=new wy;var f=new Set;a.set(e,f)}else f=a.get(e),f===void 0&&(f=new Set,a.set(e,f));f.has(s)||(zc=!0,f.add(s),t=Ey.bind(null,t,e,s),e.then(t,t))}function Ey(t,e,s){var a=t.pingCache;a!==null&&a.delete(e),t.pingedLanes|=t.suspendedLanes&s,t.warmLanes&=~s,ue===t&&(Xt&s)===s&&(be===4||be===3&&(Xt&62914560)===Xt&&300>q()-Bc?($t&2)===0&&yr(t,0):jc|=s,gr===Xt&&(gr=0)),ti(t)}function Gm(t,e){e===0&&(e=Ue()),t=er(t,e),t!==null&&(Xe(t,e),ti(t))}function Oy(t){var e=t.memoizedState,s=0;e!==null&&(s=e.retryLane),Gm(t,s)}function My(t,e){var s=0;switch(t.tag){case 13:var a=t.stateNode,f=t.memoizedState;f!==null&&(s=f.retryLane);break;case 19:a=t.stateNode;break;case 22:a=t.stateNode._retryCache;break;default:throw Error(r(314))}a!==null&&a.delete(e),Gm(t,s)}function Dy(t,e){return ve(t,e)}var il=null,Sr=null,Zc=!1,sl=!1,Yc=!1,ks=0;function ti(t){t!==Sr&&t.next===null&&(Sr===null?il=Sr=t:Sr=Sr.next=t),sl=!0,Zc||(Zc=!0,zy())}function Na(t,e){if(!Yc&&sl){Yc=!0;do for(var s=!1,a=il;a!==null;){if(t!==0){var f=a.pendingLanes;if(f===0)var g=0;else{var k=a.suspendedLanes,M=a.pingedLanes;g=(1<<31-St(42|t)+1)-1,g&=f&~(k&~M),g=g&201326741?g&201326741|1:g?g|2:0}g!==0&&(s=!0,Xm(a,g))}else g=Xt,g=Wt(a,a===ue?g:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),(g&3)===0||Yt(a,g)||(s=!0,Xm(a,g));a=a.next}while(s);Yc=!1}}function Ry(){Zm()}function Zm(){sl=Zc=!1;var t=0;ks!==0&&(Fy()&&(t=ks),ks=0);for(var e=q(),s=null,a=il;a!==null;){var f=a.next,g=Ym(a,e);g===0?(a.next=null,s===null?il=f:s.next=f,f===null&&(Sr=s)):(s=a,(t!==0||(g&3)!==0)&&(sl=!0)),a=f}Na(t)}function Ym(t,e){for(var s=t.suspendedLanes,a=t.pingedLanes,f=t.expirationTimes,g=t.pendingLanes&-62914561;0<g;){var k=31-St(g),M=1<<k,Z=f[k];Z===-1?((M&s)===0||(M&a)!==0)&&(f[k]=je(M,e)):Z<=e&&(t.expiredLanes|=M),g&=~M}if(e=ue,s=Xt,s=Wt(t,t===e?s:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),a=t.callbackNode,s===0||t===e&&(te===2||te===9)||t.cancelPendingCommit!==null)return a!==null&&a!==null&&A(a),t.callbackNode=null,t.callbackPriority=0;if((s&3)===0||Yt(t,s)){if(e=s&-s,e===t.callbackPriority)return e;switch(a!==null&&A(a),us(s)){case 2:case 8:s=ft;break;case 32:s=mt;break;case 268435456:s=vt;break;default:s=mt}return a=Pm.bind(null,t),s=ve(s,a),t.callbackPriority=e,t.callbackNode=s,e}return a!==null&&a!==null&&A(a),t.callbackPriority=2,t.callbackNode=null,2}function Pm(t,e){if(Ge!==0&&Ge!==5)return t.callbackNode=null,t.callbackPriority=0,null;var s=t.callbackNode;if(nl()&&t.callbackNode!==s)return null;var a=Xt;return a=Wt(t,t===ue?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),a===0?null:(Em(t,a,e),Ym(t,q()),t.callbackNode!=null&&t.callbackNode===s?Pm.bind(null,t):null)}function Xm(t,e){if(nl())return null;Em(t,e,!0)}function zy(){Gy(function(){($t&6)!==0?ve(Y,Ry):Zm()})}function Pc(){return ks===0&&(ks=pn()),ks}function Wm(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:mo(""+t)}function Qm(t,e){var s=e.ownerDocument.createElement("input");return s.name=e.name,s.value=e.value,t.id&&s.setAttribute("form",t.id),e.parentNode.insertBefore(s,e),t=new FormData(t),s.parentNode.removeChild(s),t}function jy(t,e,s,a,f){if(e==="submit"&&s&&s.stateNode===f){var g=Wm((f[an]||null).action),k=a.submitter;k&&(e=(e=k[an]||null)?Wm(e.formAction):k.getAttribute("formAction"),e!==null&&(g=e,k=null));var M=new yo("action","action",null,a,f);t.push({event:M,listeners:[{instance:null,listener:function(){if(a.defaultPrevented){if(ks!==0){var Z=k?Qm(f,k):new FormData(f);dc(s,{pending:!0,data:Z,method:f.method,action:g},null,Z)}}else typeof g=="function"&&(M.preventDefault(),Z=k?Qm(f,k):new FormData(f),dc(s,{pending:!0,data:Z,method:f.method,action:g},g,Z))},currentTarget:f}]})}}for(var Xc=0;Xc<Du.length;Xc++){var Wc=Du[Xc],Uy=Wc.toLowerCase(),By=Wc[0].toUpperCase()+Wc.slice(1);Vn(Uy,"on"+By)}Vn(Ed,"onAnimationEnd"),Vn(Od,"onAnimationIteration"),Vn(Md,"onAnimationStart"),Vn("dblclick","onDoubleClick"),Vn("focusin","onFocus"),Vn("focusout","onBlur"),Vn(ty,"onTransitionRun"),Vn(ey,"onTransitionStart"),Vn(ny,"onTransitionCancel"),Vn(Dd,"onTransitionEnd"),Zs("onMouseEnter",["mouseout","mouseover"]),Zs("onMouseLeave",["mouseout","mouseover"]),Zs("onPointerEnter",["pointerout","pointerover"]),Zs("onPointerLeave",["pointerout","pointerover"]),cs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),cs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),cs("onBeforeInput",["compositionend","keypress","textInput","paste"]),cs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),cs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),cs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ea="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Iy=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ea));function Km(t,e){e=(e&4)!==0;for(var s=0;s<t.length;s++){var a=t[s],f=a.event;a=a.listeners;t:{var g=void 0;if(e)for(var k=a.length-1;0<=k;k--){var M=a[k],Z=M.instance,st=M.currentTarget;if(M=M.listener,Z!==g&&f.isPropagationStopped())break t;g=M,f.currentTarget=st;try{g(f)}catch(pt){Zo(pt)}f.currentTarget=null,g=Z}else for(k=0;k<a.length;k++){if(M=a[k],Z=M.instance,st=M.currentTarget,M=M.listener,Z!==g&&f.isPropagationStopped())break t;g=M,f.currentTarget=st;try{g(f)}catch(pt){Zo(pt)}f.currentTarget=null,g=Z}}}}function Gt(t,e){var s=e[lu];s===void 0&&(s=e[lu]=new Set);var a=t+"__bubble";s.has(a)||(Jm(e,t,2,!1),s.add(a))}function Qc(t,e,s){var a=0;e&&(a|=4),Jm(s,t,a,e)}var rl="_reactListening"+Math.random().toString(36).slice(2);function Kc(t){if(!t[rl]){t[rl]=!0,Zf.forEach(function(s){s!=="selectionchange"&&(Iy.has(s)||Qc(s,!1,t),Qc(s,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[rl]||(e[rl]=!0,Qc("selectionchange",!1,e))}}function Jm(t,e,s,a){switch(xg(e)){case 2:var f=h1;break;case 8:f=f1;break;default:f=hh}s=f.bind(null,e,s,t),f=void 0,!yu||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(f=!0),a?f!==void 0?t.addEventListener(e,s,{capture:!0,passive:f}):t.addEventListener(e,s,!0):f!==void 0?t.addEventListener(e,s,{passive:f}):t.addEventListener(e,s,!1)}function Jc(t,e,s,a,f){var g=a;if((e&1)===0&&(e&2)===0&&a!==null)t:for(;;){if(a===null)return;var k=a.tag;if(k===3||k===4){var M=a.stateNode.containerInfo;if(M===f)break;if(k===4)for(k=a.return;k!==null;){var Z=k.tag;if((Z===3||Z===4)&&k.stateNode.containerInfo===f)return;k=k.return}for(;M!==null;){if(k=Fs(M),k===null)return;if(Z=k.tag,Z===5||Z===6||Z===26||Z===27){a=g=k;continue t}M=M.parentNode}}a=a.return}rd(function(){var st=g,pt=_u(s),_t=[];t:{var at=Rd.get(t);if(at!==void 0){var ot=yo,Mt=t;switch(t){case"keypress":if(_o(s)===0)break t;case"keydown":case"keyup":ot=Dv;break;case"focusin":Mt="focus",ot=Tu;break;case"focusout":Mt="blur",ot=Tu;break;case"beforeblur":case"afterblur":ot=Tu;break;case"click":if(s.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ot=ld;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ot=bv;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ot=jv;break;case Ed:case Od:case Md:ot=Tv;break;case Dd:ot=Bv;break;case"scroll":case"scrollend":ot=vv;break;case"wheel":ot=qv;break;case"copy":case"cut":case"paste":ot=Av;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ot=cd;break;case"toggle":case"beforetoggle":ot=Lv}var Et=(e&4)!==0,se=!Et&&(t==="scroll"||t==="scrollend"),$=Et?at!==null?at+"Capture":null:at;Et=[];for(var W=st,it;W!==null;){var gt=W;if(it=gt.stateNode,gt=gt.tag,gt!==5&&gt!==26&&gt!==27||it===null||$===null||(gt=Xr(W,$),gt!=null&&Et.push(Oa(W,gt,it))),se)break;W=W.return}0<Et.length&&(at=new ot(at,Mt,null,s,pt),_t.push({event:at,listeners:Et}))}}if((e&7)===0){t:{if(at=t==="mouseover"||t==="pointerover",ot=t==="mouseout"||t==="pointerout",at&&s!==gu&&(Mt=s.relatedTarget||s.fromElement)&&(Fs(Mt)||Mt[Ls]))break t;if((ot||at)&&(at=pt.window===pt?pt:(at=pt.ownerDocument)?at.defaultView||at.parentWindow:window,ot?(Mt=s.relatedTarget||s.toElement,ot=st,Mt=Mt?Fs(Mt):null,Mt!==null&&(se=l(Mt),Et=Mt.tag,Mt!==se||Et!==5&&Et!==27&&Et!==6)&&(Mt=null)):(ot=null,Mt=st),ot!==Mt)){if(Et=ld,gt="onMouseLeave",$="onMouseEnter",W="mouse",(t==="pointerout"||t==="pointerover")&&(Et=cd,gt="onPointerLeave",$="onPointerEnter",W="pointer"),se=ot==null?at:Pr(ot),it=Mt==null?at:Pr(Mt),at=new Et(gt,W+"leave",ot,s,pt),at.target=se,at.relatedTarget=it,gt=null,Fs(pt)===st&&(Et=new Et($,W+"enter",Mt,s,pt),Et.target=it,Et.relatedTarget=se,gt=Et),se=gt,ot&&Mt)e:{for(Et=ot,$=Mt,W=0,it=Et;it;it=xr(it))W++;for(it=0,gt=$;gt;gt=xr(gt))it++;for(;0<W-it;)Et=xr(Et),W--;for(;0<it-W;)$=xr($),it--;for(;W--;){if(Et===$||$!==null&&Et===$.alternate)break e;Et=xr(Et),$=xr($)}Et=null}else Et=null;ot!==null&&$m(_t,at,ot,Et,!1),Mt!==null&&se!==null&&$m(_t,se,Mt,Et,!0)}}t:{if(at=st?Pr(st):window,ot=at.nodeName&&at.nodeName.toLowerCase(),ot==="select"||ot==="input"&&at.type==="file")var At=vd;else if(gd(at))if(yd)At=Kv;else{At=Wv;var Ft=Xv}else ot=at.nodeName,!ot||ot.toLowerCase()!=="input"||at.type!=="checkbox"&&at.type!=="radio"?st&&mu(st.elementType)&&(At=vd):At=Qv;if(At&&(At=At(t,st))){_d(_t,At,s,pt);break t}Ft&&Ft(t,at,st),t==="focusout"&&st&&at.type==="number"&&st.memoizedProps.value!=null&&pu(at,"number",at.value)}switch(Ft=st?Pr(st):window,t){case"focusin":(gd(Ft)||Ft.contentEditable==="true")&&(Js=Ft,Eu=st,na=null);break;case"focusout":na=Eu=Js=null;break;case"mousedown":Ou=!0;break;case"contextmenu":case"mouseup":case"dragend":Ou=!1,Cd(_t,s,pt);break;case"selectionchange":if($v)break;case"keydown":case"keyup":Cd(_t,s,pt)}var Nt;if(Au)t:{switch(t){case"compositionstart":var Ot="onCompositionStart";break t;case"compositionend":Ot="onCompositionEnd";break t;case"compositionupdate":Ot="onCompositionUpdate";break t}Ot=void 0}else Ks?pd(t,s)&&(Ot="onCompositionEnd"):t==="keydown"&&s.keyCode===229&&(Ot="onCompositionStart");Ot&&(hd&&s.locale!=="ko"&&(Ks||Ot!=="onCompositionStart"?Ot==="onCompositionEnd"&&Ks&&(Nt=ad()):(Oi=pt,bu="value"in Oi?Oi.value:Oi.textContent,Ks=!0)),Ft=al(st,Ot),0<Ft.length&&(Ot=new ud(Ot,t,null,s,pt),_t.push({event:Ot,listeners:Ft}),Nt?Ot.data=Nt:(Nt=md(s),Nt!==null&&(Ot.data=Nt)))),(Nt=Hv?Gv(t,s):Zv(t,s))&&(Ot=al(st,"onBeforeInput"),0<Ot.length&&(Ft=new ud("onBeforeInput","beforeinput",null,s,pt),_t.push({event:Ft,listeners:Ot}),Ft.data=Nt)),jy(_t,t,st,s,pt)}Km(_t,e)})}function Oa(t,e,s){return{instance:t,listener:e,currentTarget:s}}function al(t,e){for(var s=e+"Capture",a=[];t!==null;){var f=t,g=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||g===null||(f=Xr(t,s),f!=null&&a.unshift(Oa(t,f,g)),f=Xr(t,e),f!=null&&a.push(Oa(t,f,g))),t.tag===3)return a;t=t.return}return[]}function xr(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function $m(t,e,s,a,f){for(var g=e._reactName,k=[];s!==null&&s!==a;){var M=s,Z=M.alternate,st=M.stateNode;if(M=M.tag,Z!==null&&Z===a)break;M!==5&&M!==26&&M!==27||st===null||(Z=st,f?(st=Xr(s,g),st!=null&&k.unshift(Oa(s,st,Z))):f||(st=Xr(s,g),st!=null&&k.push(Oa(s,st,Z)))),s=s.return}k.length!==0&&t.push({event:e,listeners:k})}var qy=/\r\n?/g,Vy=/\u0000|\uFFFD/g;function tg(t){return(typeof t=="string"?t:""+t).replace(qy,`
`).replace(Vy,"")}function eg(t,e){return e=tg(e),tg(t)===e}function ol(){}function ie(t,e,s,a,f,g){switch(s){case"children":typeof a=="string"?e==="body"||e==="textarea"&&a===""||Xs(t,a):(typeof a=="number"||typeof a=="bigint")&&e!=="body"&&Xs(t,""+a);break;case"className":ho(t,"class",a);break;case"tabIndex":ho(t,"tabindex",a);break;case"dir":case"role":case"viewBox":case"width":case"height":ho(t,s,a);break;case"style":id(t,a,g);break;case"data":if(e!=="object"){ho(t,"data",a);break}case"src":case"href":if(a===""&&(e!=="a"||s!=="href")){t.removeAttribute(s);break}if(a==null||typeof a=="function"||typeof a=="symbol"||typeof a=="boolean"){t.removeAttribute(s);break}a=mo(""+a),t.setAttribute(s,a);break;case"action":case"formAction":if(typeof a=="function"){t.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof g=="function"&&(s==="formAction"?(e!=="input"&&ie(t,e,"name",f.name,f,null),ie(t,e,"formEncType",f.formEncType,f,null),ie(t,e,"formMethod",f.formMethod,f,null),ie(t,e,"formTarget",f.formTarget,f,null)):(ie(t,e,"encType",f.encType,f,null),ie(t,e,"method",f.method,f,null),ie(t,e,"target",f.target,f,null)));if(a==null||typeof a=="symbol"||typeof a=="boolean"){t.removeAttribute(s);break}a=mo(""+a),t.setAttribute(s,a);break;case"onClick":a!=null&&(t.onclick=ol);break;case"onScroll":a!=null&&Gt("scroll",t);break;case"onScrollEnd":a!=null&&Gt("scrollend",t);break;case"dangerouslySetInnerHTML":if(a!=null){if(typeof a!="object"||!("__html"in a))throw Error(r(61));if(s=a.__html,s!=null){if(f.children!=null)throw Error(r(60));t.innerHTML=s}}break;case"multiple":t.multiple=a&&typeof a!="function"&&typeof a!="symbol";break;case"muted":t.muted=a&&typeof a!="function"&&typeof a!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(a==null||typeof a=="function"||typeof a=="boolean"||typeof a=="symbol"){t.removeAttribute("xlink:href");break}s=mo(""+a),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":a!=null&&typeof a!="function"&&typeof a!="symbol"?t.setAttribute(s,""+a):t.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":a&&typeof a!="function"&&typeof a!="symbol"?t.setAttribute(s,""):t.removeAttribute(s);break;case"capture":case"download":a===!0?t.setAttribute(s,""):a!==!1&&a!=null&&typeof a!="function"&&typeof a!="symbol"?t.setAttribute(s,a):t.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":a!=null&&typeof a!="function"&&typeof a!="symbol"&&!isNaN(a)&&1<=a?t.setAttribute(s,a):t.removeAttribute(s);break;case"rowSpan":case"start":a==null||typeof a=="function"||typeof a=="symbol"||isNaN(a)?t.removeAttribute(s):t.setAttribute(s,a);break;case"popover":Gt("beforetoggle",t),Gt("toggle",t),co(t,"popover",a);break;case"xlinkActuate":ri(t,"http://www.w3.org/1999/xlink","xlink:actuate",a);break;case"xlinkArcrole":ri(t,"http://www.w3.org/1999/xlink","xlink:arcrole",a);break;case"xlinkRole":ri(t,"http://www.w3.org/1999/xlink","xlink:role",a);break;case"xlinkShow":ri(t,"http://www.w3.org/1999/xlink","xlink:show",a);break;case"xlinkTitle":ri(t,"http://www.w3.org/1999/xlink","xlink:title",a);break;case"xlinkType":ri(t,"http://www.w3.org/1999/xlink","xlink:type",a);break;case"xmlBase":ri(t,"http://www.w3.org/XML/1998/namespace","xml:base",a);break;case"xmlLang":ri(t,"http://www.w3.org/XML/1998/namespace","xml:lang",a);break;case"xmlSpace":ri(t,"http://www.w3.org/XML/1998/namespace","xml:space",a);break;case"is":co(t,"is",a);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=gv.get(s)||s,co(t,s,a))}}function $c(t,e,s,a,f,g){switch(s){case"style":id(t,a,g);break;case"dangerouslySetInnerHTML":if(a!=null){if(typeof a!="object"||!("__html"in a))throw Error(r(61));if(s=a.__html,s!=null){if(f.children!=null)throw Error(r(60));t.innerHTML=s}}break;case"children":typeof a=="string"?Xs(t,a):(typeof a=="number"||typeof a=="bigint")&&Xs(t,""+a);break;case"onScroll":a!=null&&Gt("scroll",t);break;case"onScrollEnd":a!=null&&Gt("scrollend",t);break;case"onClick":a!=null&&(t.onclick=ol);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Yf.hasOwnProperty(s))t:{if(s[0]==="o"&&s[1]==="n"&&(f=s.endsWith("Capture"),e=s.slice(2,f?s.length-7:void 0),g=t[an]||null,g=g!=null?g[s]:null,typeof g=="function"&&t.removeEventListener(e,g,f),typeof a=="function")){typeof g!="function"&&g!==null&&(s in t?t[s]=null:t.hasAttribute(s)&&t.removeAttribute(s)),t.addEventListener(e,a,f);break t}s in t?t[s]=a:a===!0?t.setAttribute(s,""):co(t,s,a)}}}function Ze(t,e,s){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Gt("error",t),Gt("load",t);var a=!1,f=!1,g;for(g in s)if(s.hasOwnProperty(g)){var k=s[g];if(k!=null)switch(g){case"src":a=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,e));default:ie(t,e,g,k,s,null)}}f&&ie(t,e,"srcSet",s.srcSet,s,null),a&&ie(t,e,"src",s.src,s,null);return;case"input":Gt("invalid",t);var M=g=k=f=null,Z=null,st=null;for(a in s)if(s.hasOwnProperty(a)){var pt=s[a];if(pt!=null)switch(a){case"name":f=pt;break;case"type":k=pt;break;case"checked":Z=pt;break;case"defaultChecked":st=pt;break;case"value":g=pt;break;case"defaultValue":M=pt;break;case"children":case"dangerouslySetInnerHTML":if(pt!=null)throw Error(r(137,e));break;default:ie(t,e,a,pt,s,null)}}$f(t,g,M,Z,st,k,f,!1),fo(t);return;case"select":Gt("invalid",t),a=k=g=null;for(f in s)if(s.hasOwnProperty(f)&&(M=s[f],M!=null))switch(f){case"value":g=M;break;case"defaultValue":k=M;break;case"multiple":a=M;default:ie(t,e,f,M,s,null)}e=g,s=k,t.multiple=!!a,e!=null?Ps(t,!!a,e,!1):s!=null&&Ps(t,!!a,s,!0);return;case"textarea":Gt("invalid",t),g=f=a=null;for(k in s)if(s.hasOwnProperty(k)&&(M=s[k],M!=null))switch(k){case"value":a=M;break;case"defaultValue":f=M;break;case"children":g=M;break;case"dangerouslySetInnerHTML":if(M!=null)throw Error(r(91));break;default:ie(t,e,k,M,s,null)}ed(t,a,f,g),fo(t);return;case"option":for(Z in s)if(s.hasOwnProperty(Z)&&(a=s[Z],a!=null))switch(Z){case"selected":t.selected=a&&typeof a!="function"&&typeof a!="symbol";break;default:ie(t,e,Z,a,s,null)}return;case"dialog":Gt("beforetoggle",t),Gt("toggle",t),Gt("cancel",t),Gt("close",t);break;case"iframe":case"object":Gt("load",t);break;case"video":case"audio":for(a=0;a<Ea.length;a++)Gt(Ea[a],t);break;case"image":Gt("error",t),Gt("load",t);break;case"details":Gt("toggle",t);break;case"embed":case"source":case"link":Gt("error",t),Gt("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(st in s)if(s.hasOwnProperty(st)&&(a=s[st],a!=null))switch(st){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,e));default:ie(t,e,st,a,s,null)}return;default:if(mu(e)){for(pt in s)s.hasOwnProperty(pt)&&(a=s[pt],a!==void 0&&$c(t,e,pt,a,s,void 0));return}}for(M in s)s.hasOwnProperty(M)&&(a=s[M],a!=null&&ie(t,e,M,a,s,null))}function Ly(t,e,s,a){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,g=null,k=null,M=null,Z=null,st=null,pt=null;for(ot in s){var _t=s[ot];if(s.hasOwnProperty(ot)&&_t!=null)switch(ot){case"checked":break;case"value":break;case"defaultValue":Z=_t;default:a.hasOwnProperty(ot)||ie(t,e,ot,null,a,_t)}}for(var at in a){var ot=a[at];if(_t=s[at],a.hasOwnProperty(at)&&(ot!=null||_t!=null))switch(at){case"type":g=ot;break;case"name":f=ot;break;case"checked":st=ot;break;case"defaultChecked":pt=ot;break;case"value":k=ot;break;case"defaultValue":M=ot;break;case"children":case"dangerouslySetInnerHTML":if(ot!=null)throw Error(r(137,e));break;default:ot!==_t&&ie(t,e,at,ot,a,_t)}}du(t,k,M,Z,st,pt,g,f);return;case"select":ot=k=M=at=null;for(g in s)if(Z=s[g],s.hasOwnProperty(g)&&Z!=null)switch(g){case"value":break;case"multiple":ot=Z;default:a.hasOwnProperty(g)||ie(t,e,g,null,a,Z)}for(f in a)if(g=a[f],Z=s[f],a.hasOwnProperty(f)&&(g!=null||Z!=null))switch(f){case"value":at=g;break;case"defaultValue":M=g;break;case"multiple":k=g;default:g!==Z&&ie(t,e,f,g,a,Z)}e=M,s=k,a=ot,at!=null?Ps(t,!!s,at,!1):!!a!=!!s&&(e!=null?Ps(t,!!s,e,!0):Ps(t,!!s,s?[]:"",!1));return;case"textarea":ot=at=null;for(M in s)if(f=s[M],s.hasOwnProperty(M)&&f!=null&&!a.hasOwnProperty(M))switch(M){case"value":break;case"children":break;default:ie(t,e,M,null,a,f)}for(k in a)if(f=a[k],g=s[k],a.hasOwnProperty(k)&&(f!=null||g!=null))switch(k){case"value":at=f;break;case"defaultValue":ot=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(r(91));break;default:f!==g&&ie(t,e,k,f,a,g)}td(t,at,ot);return;case"option":for(var Mt in s)if(at=s[Mt],s.hasOwnProperty(Mt)&&at!=null&&!a.hasOwnProperty(Mt))switch(Mt){case"selected":t.selected=!1;break;default:ie(t,e,Mt,null,a,at)}for(Z in a)if(at=a[Z],ot=s[Z],a.hasOwnProperty(Z)&&at!==ot&&(at!=null||ot!=null))switch(Z){case"selected":t.selected=at&&typeof at!="function"&&typeof at!="symbol";break;default:ie(t,e,Z,at,a,ot)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Et in s)at=s[Et],s.hasOwnProperty(Et)&&at!=null&&!a.hasOwnProperty(Et)&&ie(t,e,Et,null,a,at);for(st in a)if(at=a[st],ot=s[st],a.hasOwnProperty(st)&&at!==ot&&(at!=null||ot!=null))switch(st){case"children":case"dangerouslySetInnerHTML":if(at!=null)throw Error(r(137,e));break;default:ie(t,e,st,at,a,ot)}return;default:if(mu(e)){for(var se in s)at=s[se],s.hasOwnProperty(se)&&at!==void 0&&!a.hasOwnProperty(se)&&$c(t,e,se,void 0,a,at);for(pt in a)at=a[pt],ot=s[pt],!a.hasOwnProperty(pt)||at===ot||at===void 0&&ot===void 0||$c(t,e,pt,at,a,ot);return}}for(var $ in s)at=s[$],s.hasOwnProperty($)&&at!=null&&!a.hasOwnProperty($)&&ie(t,e,$,null,a,at);for(_t in a)at=a[_t],ot=s[_t],!a.hasOwnProperty(_t)||at===ot||at==null&&ot==null||ie(t,e,_t,at,a,ot)}var th=null,eh=null;function ll(t){return t.nodeType===9?t:t.ownerDocument}function ng(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function ig(t,e){if(t===0)switch(e){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&e==="foreignObject"?0:t}function nh(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.children=="bigint"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var ih=null;function Fy(){var t=window.event;return t&&t.type==="popstate"?t===ih?!1:(ih=t,!0):(ih=null,!1)}var sg=typeof setTimeout=="function"?setTimeout:void 0,Hy=typeof clearTimeout=="function"?clearTimeout:void 0,rg=typeof Promise=="function"?Promise:void 0,Gy=typeof queueMicrotask=="function"?queueMicrotask:typeof rg<"u"?function(t){return rg.resolve(null).then(t).catch(Zy)}:sg;function Zy(t){setTimeout(function(){throw t})}function Yi(t){return t==="head"}function ag(t,e){var s=e,a=0,f=0;do{var g=s.nextSibling;if(t.removeChild(s),g&&g.nodeType===8)if(s=g.data,s==="/$"){if(0<a&&8>a){s=a;var k=t.ownerDocument;if(s&1&&Ma(k.documentElement),s&2&&Ma(k.body),s&4)for(s=k.head,Ma(s),k=s.firstChild;k;){var M=k.nextSibling,Z=k.nodeName;k[Yr]||Z==="SCRIPT"||Z==="STYLE"||Z==="LINK"&&k.rel.toLowerCase()==="stylesheet"||s.removeChild(k),k=M}}if(f===0){t.removeChild(g),qa(e);return}f--}else s==="$"||s==="$?"||s==="$!"?f++:a=s.charCodeAt(0)-48;else a=0;s=g}while(s);qa(e)}function sh(t){var e=t.firstChild;for(e&&e.nodeType===10&&(e=e.nextSibling);e;){var s=e;switch(e=e.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":sh(s),uu(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}t.removeChild(s)}}function Yy(t,e,s,a){for(;t.nodeType===1;){var f=s;if(t.nodeName.toLowerCase()!==e.toLowerCase()){if(!a&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(a){if(!t[Yr])switch(e){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(g=t.getAttribute("rel"),g==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(g!==f.rel||t.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||t.getAttribute("title")!==(f.title==null?null:f.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(g=t.getAttribute("src"),(g!==(f.src==null?null:f.src)||t.getAttribute("type")!==(f.type==null?null:f.type)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&g&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(e==="input"&&t.type==="hidden"){var g=f.name==null?null:""+f.name;if(f.type==="hidden"&&t.getAttribute("name")===g)return t}else return t;if(t=Fn(t.nextSibling),t===null)break}return null}function Py(t,e,s){if(e==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!s||(t=Fn(t.nextSibling),t===null))return null;return t}function rh(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function Xy(t,e){var s=t.ownerDocument;if(t.data!=="$?"||s.readyState==="complete")e();else{var a=function(){e(),s.removeEventListener("DOMContentLoaded",a)};s.addEventListener("DOMContentLoaded",a),t._reactRetry=a}}function Fn(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?"||e==="F!"||e==="F")break;if(e==="/$")return null}}return t}var ah=null;function og(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var s=t.data;if(s==="$"||s==="$!"||s==="$?"){if(e===0)return t;e--}else s==="/$"&&e++}t=t.previousSibling}return null}function lg(t,e,s){switch(e=ll(s),t){case"html":if(t=e.documentElement,!t)throw Error(r(452));return t;case"head":if(t=e.head,!t)throw Error(r(453));return t;case"body":if(t=e.body,!t)throw Error(r(454));return t;default:throw Error(r(451))}}function Ma(t){for(var e=t.attributes;e.length;)t.removeAttributeNode(e[0]);uu(t)}var Un=new Map,ug=new Set;function ul(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var yi=H.d;H.d={f:Wy,r:Qy,D:Ky,C:Jy,L:$y,m:t1,X:n1,S:e1,M:i1};function Wy(){var t=yi.f(),e=tl();return t||e}function Qy(t){var e=Hs(t);e!==null&&e.tag===5&&e.type==="form"?Ep(e):yi.r(t)}var Tr=typeof document>"u"?null:document;function cg(t,e,s){var a=Tr;if(a&&typeof e=="string"&&e){var f=En(e);f='link[rel="'+t+'"][href="'+f+'"]',typeof s=="string"&&(f+='[crossorigin="'+s+'"]'),ug.has(f)||(ug.add(f),t={rel:t,crossOrigin:s,href:e},a.querySelector(f)===null&&(e=a.createElement("link"),Ze(e,"link",t),Be(e),a.head.appendChild(e)))}}function Ky(t){yi.D(t),cg("dns-prefetch",t,null)}function Jy(t,e){yi.C(t,e),cg("preconnect",t,e)}function $y(t,e,s){yi.L(t,e,s);var a=Tr;if(a&&t&&e){var f='link[rel="preload"][as="'+En(e)+'"]';e==="image"&&s&&s.imageSrcSet?(f+='[imagesrcset="'+En(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(f+='[imagesizes="'+En(s.imageSizes)+'"]')):f+='[href="'+En(t)+'"]';var g=f;switch(e){case"style":g=wr(t);break;case"script":g=Ar(t)}Un.has(g)||(t=m({rel:"preload",href:e==="image"&&s&&s.imageSrcSet?void 0:t,as:e},s),Un.set(g,t),a.querySelector(f)!==null||e==="style"&&a.querySelector(Da(g))||e==="script"&&a.querySelector(Ra(g))||(e=a.createElement("link"),Ze(e,"link",t),Be(e),a.head.appendChild(e)))}}function t1(t,e){yi.m(t,e);var s=Tr;if(s&&t){var a=e&&typeof e.as=="string"?e.as:"script",f='link[rel="modulepreload"][as="'+En(a)+'"][href="'+En(t)+'"]',g=f;switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":g=Ar(t)}if(!Un.has(g)&&(t=m({rel:"modulepreload",href:t},e),Un.set(g,t),s.querySelector(f)===null)){switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(Ra(g)))return}a=s.createElement("link"),Ze(a,"link",t),Be(a),s.head.appendChild(a)}}}function e1(t,e,s){yi.S(t,e,s);var a=Tr;if(a&&t){var f=Gs(a).hoistableStyles,g=wr(t);e=e||"default";var k=f.get(g);if(!k){var M={loading:0,preload:null};if(k=a.querySelector(Da(g)))M.loading=5;else{t=m({rel:"stylesheet",href:t,"data-precedence":e},s),(s=Un.get(g))&&oh(t,s);var Z=k=a.createElement("link");Be(Z),Ze(Z,"link",t),Z._p=new Promise(function(st,pt){Z.onload=st,Z.onerror=pt}),Z.addEventListener("load",function(){M.loading|=1}),Z.addEventListener("error",function(){M.loading|=2}),M.loading|=4,cl(k,e,a)}k={type:"stylesheet",instance:k,count:1,state:M},f.set(g,k)}}}function n1(t,e){yi.X(t,e);var s=Tr;if(s&&t){var a=Gs(s).hoistableScripts,f=Ar(t),g=a.get(f);g||(g=s.querySelector(Ra(f)),g||(t=m({src:t,async:!0},e),(e=Un.get(f))&&lh(t,e),g=s.createElement("script"),Be(g),Ze(g,"link",t),s.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},a.set(f,g))}}function i1(t,e){yi.M(t,e);var s=Tr;if(s&&t){var a=Gs(s).hoistableScripts,f=Ar(t),g=a.get(f);g||(g=s.querySelector(Ra(f)),g||(t=m({src:t,async:!0,type:"module"},e),(e=Un.get(f))&&lh(t,e),g=s.createElement("script"),Be(g),Ze(g,"link",t),s.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},a.set(f,g))}}function hg(t,e,s,a){var f=(f=dt.current)?ul(f):null;if(!f)throw Error(r(446));switch(t){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(e=wr(s.href),s=Gs(f).hoistableStyles,a=s.get(e),a||(a={type:"style",instance:null,count:0,state:null},s.set(e,a)),a):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){t=wr(s.href);var g=Gs(f).hoistableStyles,k=g.get(t);if(k||(f=f.ownerDocument||f,k={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},g.set(t,k),(g=f.querySelector(Da(t)))&&!g._p&&(k.instance=g,k.state.loading=5),Un.has(t)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},Un.set(t,s),g||s1(f,t,s,k.state))),e&&a===null)throw Error(r(528,""));return k}if(e&&a!==null)throw Error(r(529,""));return null;case"script":return e=s.async,s=s.src,typeof s=="string"&&e&&typeof e!="function"&&typeof e!="symbol"?(e=Ar(s),s=Gs(f).hoistableScripts,a=s.get(e),a||(a={type:"script",instance:null,count:0,state:null},s.set(e,a)),a):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,t))}}function wr(t){return'href="'+En(t)+'"'}function Da(t){return'link[rel="stylesheet"]['+t+"]"}function fg(t){return m({},t,{"data-precedence":t.precedence,precedence:null})}function s1(t,e,s,a){t.querySelector('link[rel="preload"][as="style"]['+e+"]")?a.loading=1:(e=t.createElement("link"),a.preload=e,e.addEventListener("load",function(){return a.loading|=1}),e.addEventListener("error",function(){return a.loading|=2}),Ze(e,"link",s),Be(e),t.head.appendChild(e))}function Ar(t){return'[src="'+En(t)+'"]'}function Ra(t){return"script[async]"+t}function dg(t,e,s){if(e.count++,e.instance===null)switch(e.type){case"style":var a=t.querySelector('style[data-href~="'+En(s.href)+'"]');if(a)return e.instance=a,Be(a),a;var f=m({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return a=(t.ownerDocument||t).createElement("style"),Be(a),Ze(a,"style",f),cl(a,s.precedence,t),e.instance=a;case"stylesheet":f=wr(s.href);var g=t.querySelector(Da(f));if(g)return e.state.loading|=4,e.instance=g,Be(g),g;a=fg(s),(f=Un.get(f))&&oh(a,f),g=(t.ownerDocument||t).createElement("link"),Be(g);var k=g;return k._p=new Promise(function(M,Z){k.onload=M,k.onerror=Z}),Ze(g,"link",a),e.state.loading|=4,cl(g,s.precedence,t),e.instance=g;case"script":return g=Ar(s.src),(f=t.querySelector(Ra(g)))?(e.instance=f,Be(f),f):(a=s,(f=Un.get(g))&&(a=m({},s),lh(a,f)),t=t.ownerDocument||t,f=t.createElement("script"),Be(f),Ze(f,"link",a),t.head.appendChild(f),e.instance=f);case"void":return null;default:throw Error(r(443,e.type))}else e.type==="stylesheet"&&(e.state.loading&4)===0&&(a=e.instance,e.state.loading|=4,cl(a,s.precedence,t));return e.instance}function cl(t,e,s){for(var a=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=a.length?a[a.length-1]:null,g=f,k=0;k<a.length;k++){var M=a[k];if(M.dataset.precedence===e)g=M;else if(g!==f)break}g?g.parentNode.insertBefore(t,g.nextSibling):(e=s.nodeType===9?s.head:s,e.insertBefore(t,e.firstChild))}function oh(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.title==null&&(t.title=e.title)}function lh(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.integrity==null&&(t.integrity=e.integrity)}var hl=null;function pg(t,e,s){if(hl===null){var a=new Map,f=hl=new Map;f.set(s,a)}else f=hl,a=f.get(s),a||(a=new Map,f.set(s,a));if(a.has(t))return a;for(a.set(t,null),s=s.getElementsByTagName(t),f=0;f<s.length;f++){var g=s[f];if(!(g[Yr]||g[We]||t==="link"&&g.getAttribute("rel")==="stylesheet")&&g.namespaceURI!=="http://www.w3.org/2000/svg"){var k=g.getAttribute(e)||"";k=t+k;var M=a.get(k);M?M.push(g):a.set(k,[g])}}return a}function mg(t,e,s){t=t.ownerDocument||t,t.head.insertBefore(s,e==="title"?t.querySelector("head > title"):null)}function r1(t,e,s){if(s===1||e.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof e.precedence!="string"||typeof e.href!="string"||e.href==="")break;return!0;case"link":if(typeof e.rel!="string"||typeof e.href!="string"||e.href===""||e.onLoad||e.onError)break;switch(e.rel){case"stylesheet":return t=e.disabled,typeof e.precedence=="string"&&t==null;default:return!0}case"script":if(e.async&&typeof e.async!="function"&&typeof e.async!="symbol"&&!e.onLoad&&!e.onError&&e.src&&typeof e.src=="string")return!0}return!1}function gg(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var za=null;function a1(){}function o1(t,e,s){if(za===null)throw Error(r(475));var a=za;if(e.type==="stylesheet"&&(typeof s.media!="string"||matchMedia(s.media).matches!==!1)&&(e.state.loading&4)===0){if(e.instance===null){var f=wr(s.href),g=t.querySelector(Da(f));if(g){t=g._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(a.count++,a=fl.bind(a),t.then(a,a)),e.state.loading|=4,e.instance=g,Be(g);return}g=t.ownerDocument||t,s=fg(s),(f=Un.get(f))&&oh(s,f),g=g.createElement("link"),Be(g);var k=g;k._p=new Promise(function(M,Z){k.onload=M,k.onerror=Z}),Ze(g,"link",s),e.instance=g}a.stylesheets===null&&(a.stylesheets=new Map),a.stylesheets.set(e,t),(t=e.state.preload)&&(e.state.loading&3)===0&&(a.count++,e=fl.bind(a),t.addEventListener("load",e),t.addEventListener("error",e))}}function l1(){if(za===null)throw Error(r(475));var t=za;return t.stylesheets&&t.count===0&&uh(t,t.stylesheets),0<t.count?function(e){var s=setTimeout(function(){if(t.stylesheets&&uh(t,t.stylesheets),t.unsuspend){var a=t.unsuspend;t.unsuspend=null,a()}},6e4);return t.unsuspend=e,function(){t.unsuspend=null,clearTimeout(s)}}:null}function fl(){if(this.count--,this.count===0){if(this.stylesheets)uh(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var dl=null;function uh(t,e){t.stylesheets=null,t.unsuspend!==null&&(t.count++,dl=new Map,e.forEach(u1,t),dl=null,fl.call(t))}function u1(t,e){if(!(e.state.loading&4)){var s=dl.get(t);if(s)var a=s.get(null);else{s=new Map,dl.set(t,s);for(var f=t.querySelectorAll("link[data-precedence],style[data-precedence]"),g=0;g<f.length;g++){var k=f[g];(k.nodeName==="LINK"||k.getAttribute("media")!=="not all")&&(s.set(k.dataset.precedence,k),a=k)}a&&s.set(null,a)}f=e.instance,k=f.getAttribute("data-precedence"),g=s.get(k)||a,g===a&&s.set(null,f),s.set(k,f),this.count++,a=fl.bind(this),f.addEventListener("load",a),f.addEventListener("error",a),g?g.parentNode.insertBefore(f,g.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(f,t.firstChild)),e.state.loading|=4}}var ja={$$typeof:O,Provider:null,Consumer:null,_currentValue:ct,_currentValue2:ct,_threadCount:0};function c1(t,e,s,a,f,g,k,M){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Pe(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Pe(0),this.hiddenUpdates=Pe(null),this.identifierPrefix=a,this.onUncaughtError=f,this.onCaughtError=g,this.onRecoverableError=k,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=M,this.incompleteTransitions=new Map}function _g(t,e,s,a,f,g,k,M,Z,st,pt,_t){return t=new c1(t,e,s,k,M,Z,st,_t),e=1,g===!0&&(e|=24),g=vn(3,null,null,e),t.current=g,g.stateNode=t,e=Gu(),e.refCount++,t.pooledCache=e,e.refCount++,g.memoizedState={element:a,isDehydrated:s,cache:e},Xu(g),t}function vg(t){return t?(t=nr,t):nr}function yg(t,e,s,a,f,g){f=vg(f),a.context===null?a.context=f:a.pendingContext=f,a=Ri(e),a.payload={element:s},g=g===void 0?null:g,g!==null&&(a.callback=g),s=zi(t,a,e),s!==null&&(Tn(s,t,e),ha(s,t,e))}function bg(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var s=t.retryLane;t.retryLane=s!==0&&s<e?s:e}}function ch(t,e){bg(t,e),(t=t.alternate)&&bg(t,e)}function Sg(t){if(t.tag===13){var e=er(t,67108864);e!==null&&Tn(e,t,67108864),ch(t,67108864)}}var pl=!0;function h1(t,e,s,a){var f=G.T;G.T=null;var g=H.p;try{H.p=2,hh(t,e,s,a)}finally{H.p=g,G.T=f}}function f1(t,e,s,a){var f=G.T;G.T=null;var g=H.p;try{H.p=8,hh(t,e,s,a)}finally{H.p=g,G.T=f}}function hh(t,e,s,a){if(pl){var f=fh(a);if(f===null)Jc(t,e,a,ml,s),Tg(t,a);else if(p1(f,t,e,s,a))a.stopPropagation();else if(Tg(t,a),e&4&&-1<d1.indexOf(t)){for(;f!==null;){var g=Hs(f);if(g!==null)switch(g.tag){case 3:if(g=g.stateNode,g.current.memoizedState.isDehydrated){var k=ee(g.pendingLanes);if(k!==0){var M=g;for(M.pendingLanes|=2,M.entangledLanes|=2;k;){var Z=1<<31-St(k);M.entanglements[1]|=Z,k&=~Z}ti(g),($t&6)===0&&(Jo=q()+500,Na(0))}}break;case 13:M=er(g,2),M!==null&&Tn(M,g,2),tl(),ch(g,2)}if(g=fh(a),g===null&&Jc(t,e,a,ml,s),g===f)break;f=g}f!==null&&a.stopPropagation()}else Jc(t,e,a,null,s)}}function fh(t){return t=_u(t),dh(t)}var ml=null;function dh(t){if(ml=null,t=Fs(t),t!==null){var e=l(t);if(e===null)t=null;else{var s=e.tag;if(s===13){if(t=h(e),t!==null)return t;t=null}else if(s===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null)}}return ml=t,null}function xg(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(I()){case Y:return 2;case ft:return 8;case mt:case nt:return 32;case vt:return 268435456;default:return 32}default:return 32}}var ph=!1,Pi=null,Xi=null,Wi=null,Ua=new Map,Ba=new Map,Qi=[],d1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Tg(t,e){switch(t){case"focusin":case"focusout":Pi=null;break;case"dragenter":case"dragleave":Xi=null;break;case"mouseover":case"mouseout":Wi=null;break;case"pointerover":case"pointerout":Ua.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ba.delete(e.pointerId)}}function Ia(t,e,s,a,f,g){return t===null||t.nativeEvent!==g?(t={blockedOn:e,domEventName:s,eventSystemFlags:a,nativeEvent:g,targetContainers:[f]},e!==null&&(e=Hs(e),e!==null&&Sg(e)),t):(t.eventSystemFlags|=a,e=t.targetContainers,f!==null&&e.indexOf(f)===-1&&e.push(f),t)}function p1(t,e,s,a,f){switch(e){case"focusin":return Pi=Ia(Pi,t,e,s,a,f),!0;case"dragenter":return Xi=Ia(Xi,t,e,s,a,f),!0;case"mouseover":return Wi=Ia(Wi,t,e,s,a,f),!0;case"pointerover":var g=f.pointerId;return Ua.set(g,Ia(Ua.get(g)||null,t,e,s,a,f)),!0;case"gotpointercapture":return g=f.pointerId,Ba.set(g,Ia(Ba.get(g)||null,t,e,s,a,f)),!0}return!1}function wg(t){var e=Fs(t.target);if(e!==null){var s=l(e);if(s!==null){if(e=s.tag,e===13){if(e=h(s),e!==null){t.blockedOn=e,ou(t.priority,function(){if(s.tag===13){var a=xn();a=gn(a);var f=er(s,a);f!==null&&Tn(f,s,a),ch(s,a)}});return}}else if(e===3&&s.stateNode.current.memoizedState.isDehydrated){t.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}t.blockedOn=null}function gl(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var s=fh(t.nativeEvent);if(s===null){s=t.nativeEvent;var a=new s.constructor(s.type,s);gu=a,s.target.dispatchEvent(a),gu=null}else return e=Hs(s),e!==null&&Sg(e),t.blockedOn=s,!1;e.shift()}return!0}function Ag(t,e,s){gl(t)&&s.delete(e)}function m1(){ph=!1,Pi!==null&&gl(Pi)&&(Pi=null),Xi!==null&&gl(Xi)&&(Xi=null),Wi!==null&&gl(Wi)&&(Wi=null),Ua.forEach(Ag),Ba.forEach(Ag)}function _l(t,e){t.blockedOn===e&&(t.blockedOn=null,ph||(ph=!0,u.unstable_scheduleCallback(u.unstable_NormalPriority,m1)))}var vl=null;function kg(t){vl!==t&&(vl=t,u.unstable_scheduleCallback(u.unstable_NormalPriority,function(){vl===t&&(vl=null);for(var e=0;e<t.length;e+=3){var s=t[e],a=t[e+1],f=t[e+2];if(typeof a!="function"){if(dh(a||s)===null)continue;break}var g=Hs(s);g!==null&&(t.splice(e,3),e-=3,dc(g,{pending:!0,data:f,method:s.method,action:a},a,f))}}))}function qa(t){function e(Z){return _l(Z,t)}Pi!==null&&_l(Pi,t),Xi!==null&&_l(Xi,t),Wi!==null&&_l(Wi,t),Ua.forEach(e),Ba.forEach(e);for(var s=0;s<Qi.length;s++){var a=Qi[s];a.blockedOn===t&&(a.blockedOn=null)}for(;0<Qi.length&&(s=Qi[0],s.blockedOn===null);)wg(s),s.blockedOn===null&&Qi.shift();if(s=(t.ownerDocument||t).$$reactFormReplay,s!=null)for(a=0;a<s.length;a+=3){var f=s[a],g=s[a+1],k=f[an]||null;if(typeof g=="function")k||kg(s);else if(k){var M=null;if(g&&g.hasAttribute("formAction")){if(f=g,k=g[an]||null)M=k.formAction;else if(dh(f)!==null)continue}else M=k.action;typeof M=="function"?s[a+1]=M:(s.splice(a,3),a-=3),kg(s)}}}function mh(t){this._internalRoot=t}yl.prototype.render=mh.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(r(409));var s=e.current,a=xn();yg(s,a,t,e,null,null)},yl.prototype.unmount=mh.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;yg(t.current,2,null,t,null,null),tl(),e[Ls]=null}};function yl(t){this._internalRoot=t}yl.prototype.unstable_scheduleHydration=function(t){if(t){var e=uo();t={blockedOn:null,target:t,priority:e};for(var s=0;s<Qi.length&&e!==0&&e<Qi[s].priority;s++);Qi.splice(s,0,t),s===0&&wg(t)}};var Cg=n.version;if(Cg!=="19.1.1")throw Error(r(527,Cg,"19.1.1"));H.findDOMNode=function(t){var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(r(188)):(t=Object.keys(t).join(","),Error(r(268,t)));return t=d(e),t=t!==null?p(t):null,t=t===null?null:t.stateNode,t};var g1={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:G,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var bl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!bl.isDisabled&&bl.supportsFiber)try{Ct=bl.inject(g1),Rt=bl}catch{}}return La.createRoot=function(t,e){if(!o(t))throw Error(r(299));var s=!1,a="",f=Hp,g=Gp,k=Zp,M=null;return e!=null&&(e.unstable_strictMode===!0&&(s=!0),e.identifierPrefix!==void 0&&(a=e.identifierPrefix),e.onUncaughtError!==void 0&&(f=e.onUncaughtError),e.onCaughtError!==void 0&&(g=e.onCaughtError),e.onRecoverableError!==void 0&&(k=e.onRecoverableError),e.unstable_transitionCallbacks!==void 0&&(M=e.unstable_transitionCallbacks)),e=_g(t,1,!1,null,null,s,a,f,g,k,M,null),t[Ls]=e.current,Kc(t),new mh(e)},La.hydrateRoot=function(t,e,s){if(!o(t))throw Error(r(299));var a=!1,f="",g=Hp,k=Gp,M=Zp,Z=null,st=null;return s!=null&&(s.unstable_strictMode===!0&&(a=!0),s.identifierPrefix!==void 0&&(f=s.identifierPrefix),s.onUncaughtError!==void 0&&(g=s.onUncaughtError),s.onCaughtError!==void 0&&(k=s.onCaughtError),s.onRecoverableError!==void 0&&(M=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(Z=s.unstable_transitionCallbacks),s.formState!==void 0&&(st=s.formState)),e=_g(t,1,!0,e,s??null,a,f,g,k,M,Z,st),e.context=vg(null),s=e.current,a=xn(),a=gn(a),f=Ri(a),f.callback=null,zi(s,f,a),s=a,e.current.lanes=s,Xe(e,s),ti(e),t[Ls]=e.current,Kc(t),new yl(e)},La.version="19.1.1",La}var Bg;function C1(){if(Bg)return vh.exports;Bg=1;function u(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(u)}catch(n){console.error(n)}}return u(),vh.exports=k1(),vh.exports}var N1=C1();const E1=Ll(N1),H_="15.1.22",Ig=(u,n,i)=>({endTime:n,insertTime:i,type:"exponentialRampToValue",value:u}),qg=(u,n,i)=>({endTime:n,insertTime:i,type:"linearRampToValue",value:u}),Hh=(u,n)=>({startTime:n,type:"setValue",value:u}),G_=(u,n,i)=>({duration:i,startTime:n,type:"setValueCurve",values:u}),Z_=(u,n,{startTime:i,target:r,timeConstant:o})=>r+(n-r)*Math.exp((i-u)/o),Cr=u=>u.type==="exponentialRampToValue",El=u=>u.type==="linearRampToValue",ts=u=>Cr(u)||El(u),nf=u=>u.type==="setValue",Si=u=>u.type==="setValueCurve",Ol=(u,n,i,r)=>{const o=u[n];return o===void 0?r:ts(o)||nf(o)?o.value:Si(o)?o.values[o.values.length-1]:Z_(i,Ol(u,n-1,o.startTime,r),o)},Vg=(u,n,i,r,o)=>i===void 0?[r.insertTime,o]:ts(i)?[i.endTime,i.value]:nf(i)?[i.startTime,i.value]:Si(i)?[i.startTime+i.duration,i.values[i.values.length-1]]:[i.startTime,Ol(u,n-1,i.startTime,o)],Gh=u=>u.type==="cancelAndHold",Zh=u=>u.type==="cancelScheduledValues",Ji=u=>Gh(u)||Zh(u)?u.cancelTime:Cr(u)||El(u)?u.endTime:u.startTime,Lg=(u,n,i,{endTime:r,value:o})=>i===o?o:0<i&&0<o||i<0&&o<0?i*(o/i)**((u-n)/(r-n)):0,Fg=(u,n,i,{endTime:r,value:o})=>i+(u-n)/(r-n)*(o-i),O1=(u,n)=>{const i=Math.floor(n),r=Math.ceil(n);return i===r?u[i]:(1-(n-i))*u[i]+(1-(r-n))*u[r]},M1=(u,{duration:n,startTime:i,values:r})=>{const o=(u-i)/n*(r.length-1);return O1(r,o)},xl=u=>u.type==="setTarget";class D1{constructor(n){this._automationEvents=[],this._currenTime=0,this._defaultValue=n}[Symbol.iterator](){return this._automationEvents[Symbol.iterator]()}add(n){const i=Ji(n);if(Gh(n)||Zh(n)){const r=this._automationEvents.findIndex(l=>Zh(n)&&Si(l)?l.startTime+l.duration>=i:Ji(l)>=i),o=this._automationEvents[r];if(r!==-1&&(this._automationEvents=this._automationEvents.slice(0,r)),Gh(n)){const l=this._automationEvents[this._automationEvents.length-1];if(o!==void 0&&ts(o)){if(l!==void 0&&xl(l))throw new Error("The internal list is malformed.");const h=l===void 0?o.insertTime:Si(l)?l.startTime+l.duration:Ji(l),c=l===void 0?this._defaultValue:Si(l)?l.values[l.values.length-1]:l.value,d=Cr(o)?Lg(i,h,c,o):Fg(i,h,c,o),p=Cr(o)?Ig(d,i,this._currenTime):qg(d,i,this._currenTime);this._automationEvents.push(p)}if(l!==void 0&&xl(l)&&this._automationEvents.push(Hh(this.getValue(i),i)),l!==void 0&&Si(l)&&l.startTime+l.duration>i){const h=i-l.startTime,c=(l.values.length-1)/l.duration,d=Math.max(2,1+Math.ceil(h*c)),p=h/(d-1)*c,m=l.values.slice(0,d);if(p<1)for(let _=1;_<d;_+=1){const y=p*_%1;m[_]=l.values[_-1]*(1-y)+l.values[_]*y}this._automationEvents[this._automationEvents.length-1]=G_(m,l.startTime,h)}}}else{const r=this._automationEvents.findIndex(h=>Ji(h)>i),o=r===-1?this._automationEvents[this._automationEvents.length-1]:this._automationEvents[r-1];if(o!==void 0&&Si(o)&&Ji(o)+o.duration>i)return!1;const l=Cr(n)?Ig(n.value,n.endTime,this._currenTime):El(n)?qg(n.value,i,this._currenTime):n;if(r===-1)this._automationEvents.push(l);else{if(Si(n)&&i+n.duration>Ji(this._automationEvents[r]))return!1;this._automationEvents.splice(r,0,l)}}return!0}flush(n){const i=this._automationEvents.findIndex(r=>Ji(r)>n);if(i>1){const r=this._automationEvents.slice(i-1),o=r[0];xl(o)&&r.unshift(Hh(Ol(this._automationEvents,i-2,o.startTime,this._defaultValue),o.startTime)),this._automationEvents=r}}getValue(n){if(this._automationEvents.length===0)return this._defaultValue;const i=this._automationEvents.findIndex(h=>Ji(h)>n),r=this._automationEvents[i],o=(i===-1?this._automationEvents.length:i)-1,l=this._automationEvents[o];if(l!==void 0&&xl(l)&&(r===void 0||!ts(r)||r.insertTime>n))return Z_(n,Ol(this._automationEvents,o-1,l.startTime,this._defaultValue),l);if(l!==void 0&&nf(l)&&(r===void 0||!ts(r)))return l.value;if(l!==void 0&&Si(l)&&(r===void 0||!ts(r)||l.startTime+l.duration>n))return n<l.startTime+l.duration?M1(n,l):l.values[l.values.length-1];if(l!==void 0&&ts(l)&&(r===void 0||!ts(r)))return l.value;if(r!==void 0&&Cr(r)){const[h,c]=Vg(this._automationEvents,o,l,r,this._defaultValue);return Lg(n,h,c,r)}if(r!==void 0&&El(r)){const[h,c]=Vg(this._automationEvents,o,l,r,this._defaultValue);return Fg(n,h,c,r)}return this._defaultValue}}const R1=u=>({cancelTime:u,type:"cancelAndHold"}),z1=u=>({cancelTime:u,type:"cancelScheduledValues"}),j1=(u,n)=>({endTime:n,type:"exponentialRampToValue",value:u}),U1=(u,n)=>({endTime:n,type:"linearRampToValue",value:u}),B1=(u,n,i)=>({startTime:n,target:u,timeConstant:i,type:"setTarget"}),I1=()=>new DOMException("","AbortError"),q1=u=>(n,i,[r,o,l],h)=>{u(n[o],[i,r,l],c=>c[0]===i&&c[1]===r,h)},V1=u=>(n,i,r)=>{const o=[];for(let l=0;l<r.numberOfInputs;l+=1)o.push(new Set);u.set(n,{activeInputs:o,outputs:new Set,passiveInputs:new WeakMap,renderer:i})},L1=u=>(n,i)=>{u.set(n,{activeInputs:new Set,passiveInputs:new WeakMap,renderer:i})},Mr=new WeakSet,Y_=new WeakMap,sf=new WeakMap,P_=new WeakMap,rf=new WeakMap,Fl=new WeakMap,X_=new WeakMap,Yh=new WeakMap,Ph=new WeakMap,Xh=new WeakMap,W_={construct(){return W_}},F1=u=>{try{const n=new Proxy(u,W_);new n}catch{return!1}return!0},Hg=/^import(?:(?:[\s]+[\w]+|(?:[\s]+[\w]+[\s]*,)?[\s]*\{[\s]*[\w]+(?:[\s]+as[\s]+[\w]+)?(?:[\s]*,[\s]*[\w]+(?:[\s]+as[\s]+[\w]+)?)*[\s]*}|(?:[\s]+[\w]+[\s]*,)?[\s]*\*[\s]+as[\s]+[\w]+)[\s]+from)?(?:[\s]*)("([^"\\]|\\.)+"|'([^'\\]|\\.)+')(?:[\s]*);?/,Gg=(u,n)=>{const i=[];let r=u.replace(/^[\s]+/,""),o=r.match(Hg);for(;o!==null;){const l=o[1].slice(1,-1),h=o[0].replace(/([\s]+)?;?$/,"").replace(l,new URL(l,n).toString());i.push(h),r=r.slice(o[0].length).replace(/^[\s]+/,""),o=r.match(Hg)}return[i.join(";"),r]},Zg=u=>{if(u!==void 0&&!Array.isArray(u))throw new TypeError("The parameterDescriptors property of given value for processorCtor is not an array.")},Yg=u=>{if(!F1(u))throw new TypeError("The given value for processorCtor should be a constructor.");if(u.prototype===null||typeof u.prototype!="object")throw new TypeError("The given value for processorCtor should have a prototype.")},H1=(u,n,i,r,o,l,h,c,d,p,m,_,y)=>{let v=0;return(S,b,x={credentials:"omit"})=>{const T=m.get(S);if(T!==void 0&&T.has(b))return Promise.resolve();const N=p.get(S);if(N!==void 0){const C=N.get(b);if(C!==void 0)return C}const O=l(S),E=O.audioWorklet===void 0?o(b).then(([C,j])=>{const[z,R]=Gg(C,j),V=`${z};((a,b)=>{(a[b]=a[b]||[]).push((AudioWorkletProcessor,global,registerProcessor,sampleRate,self,window)=>{${R}
})})(window,'_AWGS')`;return i(V)}).then(()=>{const C=y._AWGS.pop();if(C===void 0)throw new SyntaxError;r(O.currentTime,O.sampleRate,()=>C(class{},void 0,(j,z)=>{if(j.trim()==="")throw n();const R=Ph.get(O);if(R!==void 0){if(R.has(j))throw n();Yg(z),Zg(z.parameterDescriptors),R.set(j,z)}else Yg(z),Zg(z.parameterDescriptors),Ph.set(O,new Map([[j,z]]))},O.sampleRate,void 0,void 0))}):Promise.all([o(b),Promise.resolve(u(_,_))]).then(([[C,j],z])=>{const R=v+1;v=R;const[V,P]=Gg(C,j),w=`${V};((AudioWorkletProcessor,registerProcessor)=>{${P}
})(${z?"AudioWorkletProcessor":"class extends AudioWorkletProcessor {__b=new WeakSet();constructor(){super();(p=>p.postMessage=(q=>(m,t)=>q.call(p,m,t?t.filter(u=>!this.__b.has(u)):t))(p.postMessage))(this.port)}}"},(n,p)=>registerProcessor(n,class extends p{${z?"":"__c = (a) => a.forEach(e=>this.__b.add(e.buffer));"}process(i,o,p){${z?"":"i.forEach(this.__c);o.forEach(this.__c);this.__c(Object.values(p));"}return super.process(i.map(j=>j.some(k=>k.length===0)?[]:j),o,p)}}));registerProcessor('__sac${R}',class extends AudioWorkletProcessor{process(){return !1}})`,J=new Blob([w],{type:"application/javascript; charset=utf-8"}),G=URL.createObjectURL(J);return O.audioWorklet.addModule(G,x).then(()=>{if(c(O))return O;const H=h(O);return H.audioWorklet.addModule(G,x).then(()=>H)}).then(H=>{if(d===null)throw new SyntaxError;try{new d(H,`__sac${R}`)}catch{throw new SyntaxError}}).finally(()=>URL.revokeObjectURL(G))});return N===void 0?p.set(S,new Map([[b,E]])):N.set(b,E),E.then(()=>{const C=m.get(S);C===void 0?m.set(S,new Set([b])):C.add(b)}).finally(()=>{const C=p.get(S);C!==void 0&&C.delete(b)}),E}},Yn=(u,n)=>{const i=u.get(n);if(i===void 0)throw new Error("A value with the given key could not be found.");return i},Hl=(u,n)=>{const i=Array.from(u).filter(n);if(i.length>1)throw Error("More than one element was found.");if(i.length===0)throw Error("No element was found.");const[r]=i;return u.delete(r),r},Q_=(u,n,i,r)=>{const o=Yn(u,n),l=Hl(o,h=>h[0]===i&&h[1]===r);return o.size===0&&u.delete(n),l},Ka=u=>Yn(X_,u),Dr=u=>{if(Mr.has(u))throw new Error("The AudioNode is already stored.");Mr.add(u),Ka(u).forEach(n=>n(!0))},K_=u=>"port"in u,Ja=u=>{if(!Mr.has(u))throw new Error("The AudioNode is not stored.");Mr.delete(u),Ka(u).forEach(n=>n(!1))},Wh=(u,n)=>{!K_(u)&&n.every(i=>i.size===0)&&Ja(u)},G1=(u,n,i,r,o,l,h,c,d,p,m,_,y)=>{const v=new WeakMap;return(S,b,x,T,N)=>{const{activeInputs:O,passiveInputs:E}=l(b),{outputs:C}=l(S),j=c(S),z=R=>{const V=d(b),P=d(S);if(R){const et=Q_(E,S,x,T);u(O,S,et,!1),!N&&!_(S)&&i(P,V,x,T),y(b)&&Dr(b)}else{const et=r(O,S,x,T);n(E,T,et,!1),!N&&!_(S)&&o(P,V,x,T);const D=h(b);if(D===0)m(b)&&Wh(b,O);else{const X=v.get(b);X!==void 0&&clearTimeout(X),v.set(b,setTimeout(()=>{m(b)&&Wh(b,O)},D*1e3))}}};return p(C,[b,x,T],R=>R[0]===b&&R[1]===x&&R[2]===T,!0)?(j.add(z),m(S)?u(O,S,[x,T,z],!0):n(E,T,[S,x,z],!0),!0):!1}},Z1=u=>(n,i,[r,o,l],h)=>{const c=n.get(r);c===void 0?n.set(r,new Set([[o,i,l]])):u(c,[o,i,l],d=>d[0]===o&&d[1]===i,h)},Y1=u=>(n,i)=>{const r=u(n,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});i.connect(r).connect(n.destination);const o=()=>{i.removeEventListener("ended",o),i.disconnect(r),r.disconnect()};i.addEventListener("ended",o)},P1=u=>(n,i)=>{u(n).add(i)},X1={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",fftSize:2048,maxDecibels:-30,minDecibels:-100,smoothingTimeConstant:.8},W1=(u,n,i,r,o,l)=>class extends u{constructor(c,d){const p=o(c),m={...X1,...d},_=r(p,m),y=l(p)?n():null;super(c,!1,_,y),this._nativeAnalyserNode=_}get fftSize(){return this._nativeAnalyserNode.fftSize}set fftSize(c){this._nativeAnalyserNode.fftSize=c}get frequencyBinCount(){return this._nativeAnalyserNode.frequencyBinCount}get maxDecibels(){return this._nativeAnalyserNode.maxDecibels}set maxDecibels(c){const d=this._nativeAnalyserNode.maxDecibels;if(this._nativeAnalyserNode.maxDecibels=c,!(c>this._nativeAnalyserNode.minDecibels))throw this._nativeAnalyserNode.maxDecibels=d,i()}get minDecibels(){return this._nativeAnalyserNode.minDecibels}set minDecibels(c){const d=this._nativeAnalyserNode.minDecibels;if(this._nativeAnalyserNode.minDecibels=c,!(this._nativeAnalyserNode.maxDecibels>c))throw this._nativeAnalyserNode.minDecibels=d,i()}get smoothingTimeConstant(){return this._nativeAnalyserNode.smoothingTimeConstant}set smoothingTimeConstant(c){this._nativeAnalyserNode.smoothingTimeConstant=c}getByteFrequencyData(c){this._nativeAnalyserNode.getByteFrequencyData(c)}getByteTimeDomainData(c){this._nativeAnalyserNode.getByteTimeDomainData(c)}getFloatFrequencyData(c){this._nativeAnalyserNode.getFloatFrequencyData(c)}getFloatTimeDomainData(c){this._nativeAnalyserNode.getFloatTimeDomainData(c)}},$e=(u,n)=>u.context===n,Q1=(u,n,i)=>()=>{const r=new WeakMap,o=async(l,h)=>{let c=n(l);if(!$e(c,h)){const p={channelCount:c.channelCount,channelCountMode:c.channelCountMode,channelInterpretation:c.channelInterpretation,fftSize:c.fftSize,maxDecibels:c.maxDecibels,minDecibels:c.minDecibels,smoothingTimeConstant:c.smoothingTimeConstant};c=u(h,p)}return r.set(h,c),await i(l,h,c),c};return{render(l,h){const c=r.get(h);return c!==void 0?Promise.resolve(c):o(l,h)}}},Ml=u=>{try{u.copyToChannel(new Float32Array(1),0,-1)}catch{return!1}return!0},ni=()=>new DOMException("","IndexSizeError"),af=u=>{u.getChannelData=(n=>i=>{try{return n.call(u,i)}catch(r){throw r.code===12?ni():r}})(u.getChannelData)},K1={numberOfChannels:1},J1=(u,n,i,r,o,l,h,c)=>{let d=null;return class J_{constructor(m){if(o===null)throw new Error("Missing the native OfflineAudioContext constructor.");const{length:_,numberOfChannels:y,sampleRate:v}={...K1,...m};d===null&&(d=new o(1,1,44100));const S=r!==null&&n(l,l)?new r({length:_,numberOfChannels:y,sampleRate:v}):d.createBuffer(y,_,v);if(S.numberOfChannels===0)throw i();return typeof S.copyFromChannel!="function"?(h(S),af(S)):n(Ml,()=>Ml(S))||c(S),u.add(S),S}static[Symbol.hasInstance](m){return m!==null&&typeof m=="object"&&Object.getPrototypeOf(m)===J_.prototype||u.has(m)}}},hn=-34028234663852886e22,nn=-hn,xi=u=>Mr.has(u),$1={buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1},tb=(u,n,i,r,o,l,h,c)=>class extends u{constructor(p,m){const _=l(p),y={...$1,...m},v=o(_,y),S=h(_),b=S?n():null;super(p,!1,v,b),this._audioBufferSourceNodeRenderer=b,this._isBufferNullified=!1,this._isBufferSet=y.buffer!==null,this._nativeAudioBufferSourceNode=v,this._onended=null,this._playbackRate=i(this,S,v.playbackRate,nn,hn)}get buffer(){return this._isBufferNullified?null:this._nativeAudioBufferSourceNode.buffer}set buffer(p){if(this._nativeAudioBufferSourceNode.buffer=p,p!==null){if(this._isBufferSet)throw r();this._isBufferSet=!0}}get loop(){return this._nativeAudioBufferSourceNode.loop}set loop(p){this._nativeAudioBufferSourceNode.loop=p}get loopEnd(){return this._nativeAudioBufferSourceNode.loopEnd}set loopEnd(p){this._nativeAudioBufferSourceNode.loopEnd=p}get loopStart(){return this._nativeAudioBufferSourceNode.loopStart}set loopStart(p){this._nativeAudioBufferSourceNode.loopStart=p}get onended(){return this._onended}set onended(p){const m=typeof p=="function"?c(this,p):null;this._nativeAudioBufferSourceNode.onended=m;const _=this._nativeAudioBufferSourceNode.onended;this._onended=_!==null&&_===m?p:_}get playbackRate(){return this._playbackRate}start(p=0,m=0,_){if(this._nativeAudioBufferSourceNode.start(p,m,_),this._audioBufferSourceNodeRenderer!==null&&(this._audioBufferSourceNodeRenderer.start=_===void 0?[p,m]:[p,m,_]),this.context.state!=="closed"){Dr(this);const y=()=>{this._nativeAudioBufferSourceNode.removeEventListener("ended",y),xi(this)&&Ja(this)};this._nativeAudioBufferSourceNode.addEventListener("ended",y)}}stop(p=0){this._nativeAudioBufferSourceNode.stop(p),this._audioBufferSourceNodeRenderer!==null&&(this._audioBufferSourceNodeRenderer.stop=p)}},eb=(u,n,i,r,o)=>()=>{const l=new WeakMap;let h=null,c=null;const d=async(p,m)=>{let _=i(p);const y=$e(_,m);if(!y){const v={buffer:_.buffer,channelCount:_.channelCount,channelCountMode:_.channelCountMode,channelInterpretation:_.channelInterpretation,loop:_.loop,loopEnd:_.loopEnd,loopStart:_.loopStart,playbackRate:_.playbackRate.value};_=n(m,v),h!==null&&_.start(...h),c!==null&&_.stop(c)}return l.set(m,_),y?await u(m,p.playbackRate,_.playbackRate):await r(m,p.playbackRate,_.playbackRate),await o(p,m,_),_};return{set start(p){h=p},set stop(p){c=p},render(p,m){const _=l.get(m);return _!==void 0?Promise.resolve(_):d(p,m)}}},nb=u=>"playbackRate"in u,ib=u=>"frequency"in u&&"gain"in u,sb=u=>"offset"in u,rb=u=>!("frequency"in u)&&"gain"in u,ab=u=>"detune"in u&&"frequency"in u&&!("gain"in u),ob=u=>"pan"in u,sn=u=>Yn(Y_,u),$a=u=>Yn(P_,u),Qh=(u,n)=>{const{activeInputs:i}=sn(u);i.forEach(o=>o.forEach(([l])=>{n.includes(u)||Qh(l,[...n,u])}));const r=nb(u)?[u.playbackRate]:K_(u)?Array.from(u.parameters.values()):ib(u)?[u.Q,u.detune,u.frequency,u.gain]:sb(u)?[u.offset]:rb(u)?[u.gain]:ab(u)?[u.detune,u.frequency]:ob(u)?[u.pan]:[];for(const o of r){const l=$a(o);l!==void 0&&l.activeInputs.forEach(([h])=>Qh(h,n))}xi(u)&&Ja(u)},$_=u=>{Qh(u.destination,[])},lb=u=>u===void 0||typeof u=="number"||typeof u=="string"&&(u==="balanced"||u==="interactive"||u==="playback"),ub=(u,n,i,r,o,l,h,c,d)=>class extends u{constructor(m={}){if(d===null)throw new Error("Missing the native AudioContext constructor.");let _;try{_=new d(m)}catch(S){throw S.code===12&&S.message==="sampleRate is not in range"?i():S}if(_===null)throw r();if(!lb(m.latencyHint))throw new TypeError(`The provided value '${m.latencyHint}' is not a valid enum value of type AudioContextLatencyCategory.`);if(m.sampleRate!==void 0&&_.sampleRate!==m.sampleRate)throw i();super(_,2);const{latencyHint:y}=m,{sampleRate:v}=_;if(this._baseLatency=typeof _.baseLatency=="number"?_.baseLatency:y==="balanced"?512/v:y==="interactive"||y===void 0?256/v:y==="playback"?1024/v:Math.max(2,Math.min(128,Math.round(y*v/128)))*128/v,this._nativeAudioContext=_,d.name==="webkitAudioContext"?(this._nativeGainNode=_.createGain(),this._nativeOscillatorNode=_.createOscillator(),this._nativeGainNode.gain.value=1e-37,this._nativeOscillatorNode.connect(this._nativeGainNode).connect(_.destination),this._nativeOscillatorNode.start()):(this._nativeGainNode=null,this._nativeOscillatorNode=null),this._state=null,_.state==="running"){this._state="suspended";const S=()=>{this._state==="suspended"&&(this._state=null),_.removeEventListener("statechange",S)};_.addEventListener("statechange",S)}}get baseLatency(){return this._baseLatency}get state(){return this._state!==null?this._state:this._nativeAudioContext.state}close(){return this.state==="closed"?this._nativeAudioContext.close().then(()=>{throw n()}):(this._state==="suspended"&&(this._state=null),this._nativeAudioContext.close().then(()=>{this._nativeGainNode!==null&&this._nativeOscillatorNode!==null&&(this._nativeOscillatorNode.stop(),this._nativeGainNode.disconnect(),this._nativeOscillatorNode.disconnect()),$_(this)}))}createMediaElementSource(m){return new o(this,{mediaElement:m})}createMediaStreamDestination(){return new l(this)}createMediaStreamSource(m){return new h(this,{mediaStream:m})}createMediaStreamTrackSource(m){return new c(this,{mediaStreamTrack:m})}resume(){return this._state==="suspended"?new Promise((m,_)=>{const y=()=>{this._nativeAudioContext.removeEventListener("statechange",y),this._nativeAudioContext.state==="running"?m():this.resume().then(m,_)};this._nativeAudioContext.addEventListener("statechange",y)}):this._nativeAudioContext.resume().catch(m=>{throw m===void 0||m.code===15?n():m})}suspend(){return this._nativeAudioContext.suspend().catch(m=>{throw m===void 0?n():m})}},cb=(u,n,i,r,o,l,h,c)=>class extends u{constructor(p,m){const _=l(p),y=h(_),v=o(_,m,y),S=y?n(c):null;super(p,!1,v,S),this._isNodeOfNativeOfflineAudioContext=y,this._nativeAudioDestinationNode=v}get channelCount(){return this._nativeAudioDestinationNode.channelCount}set channelCount(p){if(this._isNodeOfNativeOfflineAudioContext)throw r();if(p>this._nativeAudioDestinationNode.maxChannelCount)throw i();this._nativeAudioDestinationNode.channelCount=p}get channelCountMode(){return this._nativeAudioDestinationNode.channelCountMode}set channelCountMode(p){if(this._isNodeOfNativeOfflineAudioContext)throw r();this._nativeAudioDestinationNode.channelCountMode=p}get maxChannelCount(){return this._nativeAudioDestinationNode.maxChannelCount}},hb=u=>{const n=new WeakMap,i=async(r,o)=>{const l=o.destination;return n.set(o,l),await u(r,o,l),l};return{render(r,o){const l=n.get(o);return l!==void 0?Promise.resolve(l):i(r,o)}}},fb=(u,n,i,r,o,l,h,c)=>(d,p)=>{const m=p.listener,_=()=>{const C=new Float32Array(1),j=n(p,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:9}),z=h(p);let R=!1,V=[0,0,-1,0,1,0],P=[0,0,0];const et=()=>{if(R)return;R=!0;const J=r(p,256,9,0);J.onaudioprocess=({inputBuffer:G})=>{const H=[l(G,C,0),l(G,C,1),l(G,C,2),l(G,C,3),l(G,C,4),l(G,C,5)];H.some((tt,U)=>tt!==V[U])&&(m.setOrientation(...H),V=H);const ct=[l(G,C,6),l(G,C,7),l(G,C,8)];ct.some((tt,U)=>tt!==P[U])&&(m.setPosition(...ct),P=ct)},j.connect(J)},D=J=>G=>{G!==V[J]&&(V[J]=G,m.setOrientation(...V))},X=J=>G=>{G!==P[J]&&(P[J]=G,m.setPosition(...P))},w=(J,G,H)=>{const ct=i(p,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:G});ct.connect(j,0,J),ct.start(),Object.defineProperty(ct.offset,"defaultValue",{get(){return G}});const tt=u({context:d},z,ct.offset,nn,hn);return c(tt,"value",U=>()=>U.call(tt),U=>B=>{try{U.call(tt,B)}catch(F){if(F.code!==9)throw F}et(),z&&H(B)}),tt.cancelAndHoldAtTime=(U=>z?()=>{throw o()}:(...B)=>{const F=U.apply(tt,B);return et(),F})(tt.cancelAndHoldAtTime),tt.cancelScheduledValues=(U=>z?()=>{throw o()}:(...B)=>{const F=U.apply(tt,B);return et(),F})(tt.cancelScheduledValues),tt.exponentialRampToValueAtTime=(U=>z?()=>{throw o()}:(...B)=>{const F=U.apply(tt,B);return et(),F})(tt.exponentialRampToValueAtTime),tt.linearRampToValueAtTime=(U=>z?()=>{throw o()}:(...B)=>{const F=U.apply(tt,B);return et(),F})(tt.linearRampToValueAtTime),tt.setTargetAtTime=(U=>z?()=>{throw o()}:(...B)=>{const F=U.apply(tt,B);return et(),F})(tt.setTargetAtTime),tt.setValueAtTime=(U=>z?()=>{throw o()}:(...B)=>{const F=U.apply(tt,B);return et(),F})(tt.setValueAtTime),tt.setValueCurveAtTime=(U=>z?()=>{throw o()}:(...B)=>{const F=U.apply(tt,B);return et(),F})(tt.setValueCurveAtTime),tt};return{forwardX:w(0,0,D(0)),forwardY:w(1,0,D(1)),forwardZ:w(2,-1,D(2)),positionX:w(6,0,X(0)),positionY:w(7,0,X(1)),positionZ:w(8,0,X(2)),upX:w(3,0,D(3)),upY:w(4,1,D(4)),upZ:w(5,0,D(5))}},{forwardX:y,forwardY:v,forwardZ:S,positionX:b,positionY:x,positionZ:T,upX:N,upY:O,upZ:E}=m.forwardX===void 0?_():m;return{get forwardX(){return y},get forwardY(){return v},get forwardZ(){return S},get positionX(){return b},get positionY(){return x},get positionZ(){return T},get upX(){return N},get upY(){return O},get upZ(){return E}}},Dl=u=>"context"in u,to=u=>Dl(u[0]),Bs=(u,n,i,r)=>{for(const o of u)if(i(o)){if(r)return!1;throw Error("The set contains at least one similar element.")}return u.add(n),!0},Pg=(u,n,[i,r],o)=>{Bs(u,[n,i,r],l=>l[0]===n&&l[1]===i,o)},Xg=(u,[n,i,r],o)=>{const l=u.get(n);l===void 0?u.set(n,new Set([[i,r]])):Bs(l,[i,r],h=>h[0]===i,o)},Vr=u=>"inputs"in u,Rl=(u,n,i,r)=>{if(Vr(n)){const o=n.inputs[r];return u.connect(o,i,0),[o,i,0]}return u.connect(n,i,r),[n,i,r]},t0=(u,n,i)=>{for(const r of u)if(r[0]===n&&r[1]===i)return u.delete(r),r;return null},db=(u,n,i)=>Hl(u,r=>r[0]===n&&r[1]===i),e0=(u,n)=>{if(!Ka(u).delete(n))throw new Error("Missing the expected event listener.")},n0=(u,n,i)=>{const r=Yn(u,n),o=Hl(r,l=>l[0]===i);return r.size===0&&u.delete(n),o},zl=(u,n,i,r)=>{Vr(n)?u.disconnect(n.inputs[r],i,0):u.disconnect(n,i,r)},de=u=>Yn(sf,u),Xa=u=>Yn(rf,u),zs=u=>Yh.has(u),Cl=u=>!Mr.has(u),Wg=(u,n)=>new Promise(i=>{if(n!==null)i(!0);else{const r=u.createScriptProcessor(256,1,1),o=u.createGain(),l=u.createBuffer(1,2,44100),h=l.getChannelData(0);h[0]=1,h[1]=1;const c=u.createBufferSource();c.buffer=l,c.loop=!0,c.connect(r).connect(u.destination),c.connect(o),c.disconnect(o),r.onaudioprocess=d=>{const p=d.inputBuffer.getChannelData(0);Array.prototype.some.call(p,m=>m===1)?i(!0):i(!1),c.stop(),r.onaudioprocess=null,c.disconnect(r),r.disconnect(u.destination)},c.start()}}),xh=(u,n)=>{const i=new Map;for(const r of u)for(const o of r){const l=i.get(o);i.set(o,l===void 0?1:l+1)}i.forEach((r,o)=>n(o,r))},jl=u=>"context"in u,pb=u=>{const n=new Map;u.connect=(i=>(r,o=0,l=0)=>{const h=jl(r)?i(r,o,l):i(r,o),c=n.get(r);return c===void 0?n.set(r,[{input:l,output:o}]):c.every(d=>d.input!==l||d.output!==o)&&c.push({input:l,output:o}),h})(u.connect.bind(u)),u.disconnect=(i=>(r,o,l)=>{if(i.apply(u),r===void 0)n.clear();else if(typeof r=="number")for(const[h,c]of n){const d=c.filter(p=>p.output!==r);d.length===0?n.delete(h):n.set(h,d)}else if(n.has(r))if(o===void 0)n.delete(r);else{const h=n.get(r);if(h!==void 0){const c=h.filter(d=>d.output!==o&&(d.input!==l||l===void 0));c.length===0?n.delete(r):n.set(r,c)}}for(const[h,c]of n)c.forEach(d=>{jl(h)?u.connect(h,d.output,d.input):u.connect(h,d.output)})})(u.disconnect)},mb=(u,n,i,r)=>{const{activeInputs:o,passiveInputs:l}=$a(n),{outputs:h}=sn(u),c=Ka(u),d=p=>{const m=de(u),_=Xa(n);if(p){const y=n0(l,u,i);Pg(o,u,y,!1),!r&&!zs(u)&&m.connect(_,i)}else{const y=db(o,u,i);Xg(l,y,!1),!r&&!zs(u)&&m.disconnect(_,i)}};return Bs(h,[n,i],p=>p[0]===n&&p[1]===i,!0)?(c.add(d),xi(u)?Pg(o,u,[i,d],!0):Xg(l,[u,i,d],!0),!0):!1},gb=(u,n,i,r)=>{const{activeInputs:o,passiveInputs:l}=sn(n),h=t0(o[r],u,i);return h===null?[Q_(l,u,i,r)[2],!1]:[h[2],!0]},_b=(u,n,i)=>{const{activeInputs:r,passiveInputs:o}=$a(n),l=t0(r,u,i);return l===null?[n0(o,u,i)[1],!1]:[l[2],!0]},of=(u,n,i,r,o)=>{const[l,h]=gb(u,i,r,o);if(l!==null&&(e0(u,l),h&&!n&&!zs(u)&&zl(de(u),de(i),r,o)),xi(i)){const{activeInputs:c}=sn(i);Wh(i,c)}},lf=(u,n,i,r)=>{const[o,l]=_b(u,i,r);o!==null&&(e0(u,o),l&&!n&&!zs(u)&&de(u).disconnect(Xa(i),r))},vb=(u,n)=>{const i=sn(u),r=[];for(const o of i.outputs)to(o)?of(u,n,...o):lf(u,n,...o),r.push(o[0]);return i.outputs.clear(),r},yb=(u,n,i)=>{const r=sn(u),o=[];for(const l of r.outputs)l[1]===i&&(to(l)?of(u,n,...l):lf(u,n,...l),o.push(l[0]),r.outputs.delete(l));return o},bb=(u,n,i,r,o)=>{const l=sn(u);return Array.from(l.outputs).filter(h=>h[0]===i&&(r===void 0||h[1]===r)&&(o===void 0||h[2]===o)).map(h=>(to(h)?of(u,n,...h):lf(u,n,...h),l.outputs.delete(h),h[0]))},Sb=(u,n,i,r,o,l,h,c,d,p,m,_,y,v,S,b)=>class extends p{constructor(T,N,O,E){super(O),this._context=T,this._nativeAudioNode=O;const C=m(T);_(C)&&i(Wg,()=>Wg(C,b))!==!0&&pb(O),sf.set(this,O),X_.set(this,new Set),T.state!=="closed"&&N&&Dr(this),u(this,E,O)}get channelCount(){return this._nativeAudioNode.channelCount}set channelCount(T){this._nativeAudioNode.channelCount=T}get channelCountMode(){return this._nativeAudioNode.channelCountMode}set channelCountMode(T){this._nativeAudioNode.channelCountMode=T}get channelInterpretation(){return this._nativeAudioNode.channelInterpretation}set channelInterpretation(T){this._nativeAudioNode.channelInterpretation=T}get context(){return this._context}get numberOfInputs(){return this._nativeAudioNode.numberOfInputs}get numberOfOutputs(){return this._nativeAudioNode.numberOfOutputs}connect(T,N=0,O=0){if(N<0||N>=this._nativeAudioNode.numberOfOutputs)throw o();const E=m(this._context),C=S(E);if(y(T)||v(T))throw l();if(Dl(T)){const R=de(T);try{const P=Rl(this._nativeAudioNode,R,N,O),et=Cl(this);(C||et)&&this._nativeAudioNode.disconnect(...P),this.context.state!=="closed"&&!et&&Cl(T)&&Dr(T)}catch(P){throw P.code===12?l():P}if(n(this,T,N,O,C)){const P=d([this],T);xh(P,r(C))}return T}const j=Xa(T);if(j.name==="playbackRate"&&j.maxValue===1024)throw h();try{this._nativeAudioNode.connect(j,N),(C||Cl(this))&&this._nativeAudioNode.disconnect(j,N)}catch(R){throw R.code===12?l():R}if(mb(this,T,N,C)){const R=d([this],T);xh(R,r(C))}}disconnect(T,N,O){let E;const C=m(this._context),j=S(C);if(T===void 0)E=vb(this,j);else if(typeof T=="number"){if(T<0||T>=this.numberOfOutputs)throw o();E=yb(this,j,T)}else{if(N!==void 0&&(N<0||N>=this.numberOfOutputs)||Dl(T)&&O!==void 0&&(O<0||O>=T.numberOfInputs))throw o();if(E=bb(this,j,T,N,O),E.length===0)throw l()}for(const z of E){const R=d([this],z);xh(R,c)}}},xb=(u,n,i,r,o,l,h,c,d,p,m,_,y)=>(v,S,b,x=null,T=null)=>{const N=b.value,O=new D1(N),E=S?r(O):null,C={get defaultValue(){return N},get maxValue(){return x===null?b.maxValue:x},get minValue(){return T===null?b.minValue:T},get value(){return b.value},set value(j){b.value=j,C.setValueAtTime(j,v.context.currentTime)},cancelAndHoldAtTime(j){if(typeof b.cancelAndHoldAtTime=="function")E===null&&O.flush(v.context.currentTime),O.add(o(j)),b.cancelAndHoldAtTime(j);else{const z=Array.from(O).pop();E===null&&O.flush(v.context.currentTime),O.add(o(j));const R=Array.from(O).pop();b.cancelScheduledValues(j),z!==R&&R!==void 0&&(R.type==="exponentialRampToValue"?b.exponentialRampToValueAtTime(R.value,R.endTime):R.type==="linearRampToValue"?b.linearRampToValueAtTime(R.value,R.endTime):R.type==="setValue"?b.setValueAtTime(R.value,R.startTime):R.type==="setValueCurve"&&b.setValueCurveAtTime(R.values,R.startTime,R.duration))}return C},cancelScheduledValues(j){return E===null&&O.flush(v.context.currentTime),O.add(l(j)),b.cancelScheduledValues(j),C},exponentialRampToValueAtTime(j,z){if(j===0)throw new RangeError;if(!Number.isFinite(z)||z<0)throw new RangeError;const R=v.context.currentTime;return E===null&&O.flush(R),Array.from(O).length===0&&(O.add(p(N,R)),b.setValueAtTime(N,R)),O.add(h(j,z)),b.exponentialRampToValueAtTime(j,z),C},linearRampToValueAtTime(j,z){const R=v.context.currentTime;return E===null&&O.flush(R),Array.from(O).length===0&&(O.add(p(N,R)),b.setValueAtTime(N,R)),O.add(c(j,z)),b.linearRampToValueAtTime(j,z),C},setTargetAtTime(j,z,R){return E===null&&O.flush(v.context.currentTime),O.add(d(j,z,R)),b.setTargetAtTime(j,z,R),C},setValueAtTime(j,z){return E===null&&O.flush(v.context.currentTime),O.add(p(j,z)),b.setValueAtTime(j,z),C},setValueCurveAtTime(j,z,R){const V=j instanceof Float32Array?j:new Float32Array(j);if(_!==null&&_.name==="webkitAudioContext"){const P=z+R,et=v.context.sampleRate,D=Math.ceil(z*et),X=Math.floor(P*et),w=X-D,J=new Float32Array(w);for(let H=0;H<w;H+=1){const ct=(V.length-1)/R*((D+H)/et-z),tt=Math.floor(ct),U=Math.ceil(ct);J[H]=tt===U?V[tt]:(1-(ct-tt))*V[tt]+(1-(U-ct))*V[U]}E===null&&O.flush(v.context.currentTime),O.add(m(J,z,R)),b.setValueCurveAtTime(J,z,R);const G=X/et;G<P&&y(C,J[J.length-1],G),y(C,V[V.length-1],P)}else E===null&&O.flush(v.context.currentTime),O.add(m(V,z,R)),b.setValueCurveAtTime(V,z,R);return C}};return i.set(C,b),n.set(C,v),u(C,E),C},Tb=u=>({replay(n){for(const i of u)if(i.type==="exponentialRampToValue"){const{endTime:r,value:o}=i;n.exponentialRampToValueAtTime(o,r)}else if(i.type==="linearRampToValue"){const{endTime:r,value:o}=i;n.linearRampToValueAtTime(o,r)}else if(i.type==="setTarget"){const{startTime:r,target:o,timeConstant:l}=i;n.setTargetAtTime(o,r,l)}else if(i.type==="setValue"){const{startTime:r,value:o}=i;n.setValueAtTime(o,r)}else if(i.type==="setValueCurve"){const{duration:r,startTime:o,values:l}=i;n.setValueCurveAtTime(l,o,r)}else throw new Error("Can't apply an unknown automation.")}});class i0{constructor(n){this._map=new Map(n)}get size(){return this._map.size}entries(){return this._map.entries()}forEach(n,i=null){return this._map.forEach((r,o)=>n.call(i,r,o,this))}get(n){return this._map.get(n)}has(n){return this._map.has(n)}keys(){return this._map.keys()}values(){return this._map.values()}}const wb={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:1,numberOfOutputs:1,parameterData:{},processorOptions:{}},Ab=(u,n,i,r,o,l,h,c,d,p,m,_,y,v)=>class extends n{constructor(b,x,T){var N;const O=c(b),E=d(O),C=m({...wb,...T});y(C);const j=Ph.get(O),z=j?.get(x),R=E||O.state!=="closed"?O:(N=h(O))!==null&&N!==void 0?N:O,V=o(R,E?null:b.baseLatency,p,x,z,C),P=E?r(x,C,z):null;super(b,!0,V,P);const et=[];V.parameters.forEach((X,w)=>{const J=i(this,E,X);et.push([w,J])}),this._nativeAudioWorkletNode=V,this._onprocessorerror=null,this._parameters=new i0(et),E&&u(O,this);const{activeInputs:D}=l(this);_(V,D)}get onprocessorerror(){return this._onprocessorerror}set onprocessorerror(b){const x=typeof b=="function"?v(this,b):null;this._nativeAudioWorkletNode.onprocessorerror=x;const T=this._nativeAudioWorkletNode.onprocessorerror;this._onprocessorerror=T!==null&&T===x?b:T}get parameters(){return this._parameters===null?this._nativeAudioWorkletNode.parameters:this._parameters}get port(){return this._nativeAudioWorkletNode.port}};function Ul(u,n,i,r,o){if(typeof u.copyFromChannel=="function")n[i].byteLength===0&&(n[i]=new Float32Array(128)),u.copyFromChannel(n[i],r,o);else{const l=u.getChannelData(r);if(n[i].byteLength===0)n[i]=l.slice(o,o+128);else{const h=new Float32Array(l.buffer,o*Float32Array.BYTES_PER_ELEMENT,128);n[i].set(h)}}}const s0=(u,n,i,r,o)=>{typeof u.copyToChannel=="function"?n[i].byteLength!==0&&u.copyToChannel(n[i],r,o):n[i].byteLength!==0&&u.getChannelData(r).set(n[i],o)},Bl=(u,n)=>{const i=[];for(let r=0;r<u;r+=1){const o=[],l=typeof n=="number"?n:n[r];for(let h=0;h<l;h+=1)o.push(new Float32Array(128));i.push(o)}return i},kb=(u,n)=>{const i=Yn(Xh,u),r=de(n);return Yn(i,r)},Cb=async(u,n,i,r,o,l,h)=>{const c=n===null?Math.ceil(u.context.length/128)*128:n.length,d=r.channelCount*r.numberOfInputs,p=o.reduce((x,T)=>x+T,0),m=p===0?null:i.createBuffer(p,c,i.sampleRate);if(l===void 0)throw new Error("Missing the processor constructor.");const _=sn(u),y=await kb(i,u),v=Bl(r.numberOfInputs,r.channelCount),S=Bl(r.numberOfOutputs,o),b=Array.from(u.parameters.keys()).reduce((x,T)=>({...x,[T]:new Float32Array(128)}),{});for(let x=0;x<c;x+=128){if(r.numberOfInputs>0&&n!==null)for(let T=0;T<r.numberOfInputs;T+=1)for(let N=0;N<r.channelCount;N+=1)Ul(n,v[T],N,N,x);l.parameterDescriptors!==void 0&&n!==null&&l.parameterDescriptors.forEach(({name:T},N)=>{Ul(n,b,T,d+N,x)});for(let T=0;T<r.numberOfInputs;T+=1)for(let N=0;N<o[T];N+=1)S[T][N].byteLength===0&&(S[T][N]=new Float32Array(128));try{const T=v.map((O,E)=>_.activeInputs[E].size===0?[]:O),N=h(x/i.sampleRate,i.sampleRate,()=>y.process(T,S,b));if(m!==null)for(let O=0,E=0;O<r.numberOfOutputs;O+=1){for(let C=0;C<o[O];C+=1)s0(m,S[O],C,E+C,x);E+=o[O]}if(!N)break}catch(T){u.dispatchEvent(new ErrorEvent("processorerror",{colno:T.colno,filename:T.filename,lineno:T.lineno,message:T.message}));break}}return m},Nb=(u,n,i,r,o,l,h,c,d,p,m,_,y,v,S,b)=>(x,T,N)=>{const O=new WeakMap;let E=null;const C=async(j,z)=>{let R=m(j),V=null;const P=$e(R,z),et=Array.isArray(T.outputChannelCount)?T.outputChannelCount:Array.from(T.outputChannelCount);if(_===null){const D=et.reduce((G,H)=>G+H,0),X=o(z,{channelCount:Math.max(1,D),channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:Math.max(1,D)}),w=[];for(let G=0;G<j.numberOfOutputs;G+=1)w.push(r(z,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:et[G]}));const J=h(z,{channelCount:T.channelCount,channelCountMode:T.channelCountMode,channelInterpretation:T.channelInterpretation,gain:1});J.connect=n.bind(null,w),J.disconnect=d.bind(null,w),V=[X,w,J]}else P||(R=new _(z,x));if(O.set(z,V===null?R:V[2]),V!==null){if(E===null){if(N===void 0)throw new Error("Missing the processor constructor.");if(y===null)throw new Error("Missing the native OfflineAudioContext constructor.");const H=j.channelCount*j.numberOfInputs,ct=N.parameterDescriptors===void 0?0:N.parameterDescriptors.length,tt=H+ct;E=Cb(j,tt===0?null:await(async()=>{const B=new y(tt,Math.ceil(j.context.length/128)*128,z.sampleRate),F=[],lt=[];for(let dt=0;dt<T.numberOfInputs;dt+=1)F.push(h(B,{channelCount:T.channelCount,channelCountMode:T.channelCountMode,channelInterpretation:T.channelInterpretation,gain:1})),lt.push(o(B,{channelCount:T.channelCount,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:T.channelCount}));const ut=await Promise.all(Array.from(j.parameters.values()).map(async dt=>{const xt=l(B,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:dt.value});return await v(B,dt,xt.offset),xt})),rt=r(B,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:Math.max(1,H+ct)});for(let dt=0;dt<T.numberOfInputs;dt+=1){F[dt].connect(lt[dt]);for(let xt=0;xt<T.channelCount;xt+=1)lt[dt].connect(rt,xt,dt*T.channelCount+xt)}for(const[dt,xt]of ut.entries())xt.connect(rt,0,H+dt),xt.start(0);return rt.connect(B.destination),await Promise.all(F.map(dt=>S(j,B,dt))),b(B)})(),z,T,et,N,p)}const D=await E,X=i(z,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),[w,J,G]=V;D!==null&&(X.buffer=D,X.start(0)),X.connect(w);for(let H=0,ct=0;H<j.numberOfOutputs;H+=1){const tt=J[H];for(let U=0;U<et[H];U+=1)w.connect(tt,ct+U,U);ct+=et[H]}return G}if(P)for(const[D,X]of j.parameters.entries())await u(z,X,R.parameters.get(D));else for(const[D,X]of j.parameters.entries())await v(z,X,R.parameters.get(D));return await S(j,z,R),R};return{render(j,z){c(z,j);const R=O.get(z);return R!==void 0?Promise.resolve(R):C(j,z)}}},Eb=(u,n,i,r,o,l,h,c,d,p,m,_,y,v,S,b,x,T,N,O)=>class extends S{constructor(C,j){super(C,j),this._nativeContext=C,this._audioWorklet=u===void 0?void 0:{addModule:(z,R)=>u(this,z,R)}}get audioWorklet(){return this._audioWorklet}createAnalyser(){return new n(this)}createBiquadFilter(){return new o(this)}createBuffer(C,j,z){return new i({length:j,numberOfChannels:C,sampleRate:z})}createBufferSource(){return new r(this)}createChannelMerger(C=6){return new l(this,{numberOfInputs:C})}createChannelSplitter(C=6){return new h(this,{numberOfOutputs:C})}createConstantSource(){return new c(this)}createConvolver(){return new d(this)}createDelay(C=1){return new m(this,{maxDelayTime:C})}createDynamicsCompressor(){return new _(this)}createGain(){return new y(this)}createIIRFilter(C,j){return new v(this,{feedback:j,feedforward:C})}createOscillator(){return new b(this)}createPanner(){return new x(this)}createPeriodicWave(C,j,z={disableNormalization:!1}){return new T(this,{...z,imag:j,real:C})}createStereoPanner(){return new N(this)}createWaveShaper(){return new O(this)}decodeAudioData(C,j,z){return p(this._nativeContext,C).then(R=>(typeof j=="function"&&j(R),R),R=>{throw typeof z=="function"&&z(R),R})}},Ob={Q:1,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",detune:0,frequency:350,gain:0,type:"lowpass"},Mb=(u,n,i,r,o,l,h,c)=>class extends u{constructor(p,m){const _=l(p),y={...Ob,...m},v=o(_,y),S=h(_),b=S?i():null;super(p,!1,v,b),this._Q=n(this,S,v.Q,nn,hn),this._detune=n(this,S,v.detune,1200*Math.log2(nn),-1200*Math.log2(nn)),this._frequency=n(this,S,v.frequency,p.sampleRate/2,0),this._gain=n(this,S,v.gain,40*Math.log10(nn),hn),this._nativeBiquadFilterNode=v,c(this,1)}get detune(){return this._detune}get frequency(){return this._frequency}get gain(){return this._gain}get Q(){return this._Q}get type(){return this._nativeBiquadFilterNode.type}set type(p){this._nativeBiquadFilterNode.type=p}getFrequencyResponse(p,m,_){try{this._nativeBiquadFilterNode.getFrequencyResponse(p,m,_)}catch(y){throw y.code===11?r():y}if(p.length!==m.length||m.length!==_.length)throw r()}},Db=(u,n,i,r,o)=>()=>{const l=new WeakMap,h=async(c,d)=>{let p=i(c);const m=$e(p,d);if(!m){const _={Q:p.Q.value,channelCount:p.channelCount,channelCountMode:p.channelCountMode,channelInterpretation:p.channelInterpretation,detune:p.detune.value,frequency:p.frequency.value,gain:p.gain.value,type:p.type};p=n(d,_)}return l.set(d,p),m?(await u(d,c.Q,p.Q),await u(d,c.detune,p.detune),await u(d,c.frequency,p.frequency),await u(d,c.gain,p.gain)):(await r(d,c.Q,p.Q),await r(d,c.detune,p.detune),await r(d,c.frequency,p.frequency),await r(d,c.gain,p.gain)),await o(c,d,p),p};return{render(c,d){const p=l.get(d);return p!==void 0?Promise.resolve(p):h(c,d)}}},Rb=(u,n)=>(i,r)=>{const o=n.get(i);if(o!==void 0)return o;const l=u.get(i);if(l!==void 0)return l;try{const h=r();return h instanceof Promise?(u.set(i,h),h.catch(()=>!1).then(c=>(u.delete(i),n.set(i,c),c))):(n.set(i,h),h)}catch{return n.set(i,!1),!1}},zb={channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:6},jb=(u,n,i,r,o)=>class extends u{constructor(h,c){const d=r(h),p={...zb,...c},m=i(d,p),_=o(d)?n():null;super(h,!1,m,_)}},Ub=(u,n,i)=>()=>{const r=new WeakMap,o=async(l,h)=>{let c=n(l);if(!$e(c,h)){const p={channelCount:c.channelCount,channelCountMode:c.channelCountMode,channelInterpretation:c.channelInterpretation,numberOfInputs:c.numberOfInputs};c=u(h,p)}return r.set(h,c),await i(l,h,c),c};return{render(l,h){const c=r.get(h);return c!==void 0?Promise.resolve(c):o(l,h)}}},Bb={channelCount:6,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:6},Ib=(u,n,i,r,o,l)=>class extends u{constructor(c,d){const p=r(c),m=l({...Bb,...d}),_=i(p,m),y=o(p)?n():null;super(c,!1,_,y)}},qb=(u,n,i)=>()=>{const r=new WeakMap,o=async(l,h)=>{let c=n(l);if(!$e(c,h)){const p={channelCount:c.channelCount,channelCountMode:c.channelCountMode,channelInterpretation:c.channelInterpretation,numberOfOutputs:c.numberOfOutputs};c=u(h,p)}return r.set(h,c),await i(l,h,c),c};return{render(l,h){const c=r.get(h);return c!==void 0?Promise.resolve(c):o(l,h)}}},Vb=u=>(n,i,r)=>u(i,n,r),Lb=u=>(n,i,r=0,o=0)=>{const l=n[r];if(l===void 0)throw u();return jl(i)?l.connect(i,0,o):l.connect(i,0)},Fb=u=>(n,i)=>{const r=u(n,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),o=n.createBuffer(1,2,44100);return r.buffer=o,r.loop=!0,r.connect(i),r.start(),()=>{r.stop(),r.disconnect(i)}},Hb={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",offset:1},Gb=(u,n,i,r,o,l,h)=>class extends u{constructor(d,p){const m=o(d),_={...Hb,...p},y=r(m,_),v=l(m),S=v?i():null;super(d,!1,y,S),this._constantSourceNodeRenderer=S,this._nativeConstantSourceNode=y,this._offset=n(this,v,y.offset,nn,hn),this._onended=null}get offset(){return this._offset}get onended(){return this._onended}set onended(d){const p=typeof d=="function"?h(this,d):null;this._nativeConstantSourceNode.onended=p;const m=this._nativeConstantSourceNode.onended;this._onended=m!==null&&m===p?d:m}start(d=0){if(this._nativeConstantSourceNode.start(d),this._constantSourceNodeRenderer!==null&&(this._constantSourceNodeRenderer.start=d),this.context.state!=="closed"){Dr(this);const p=()=>{this._nativeConstantSourceNode.removeEventListener("ended",p),xi(this)&&Ja(this)};this._nativeConstantSourceNode.addEventListener("ended",p)}}stop(d=0){this._nativeConstantSourceNode.stop(d),this._constantSourceNodeRenderer!==null&&(this._constantSourceNodeRenderer.stop=d)}},Zb=(u,n,i,r,o)=>()=>{const l=new WeakMap;let h=null,c=null;const d=async(p,m)=>{let _=i(p);const y=$e(_,m);if(!y){const v={channelCount:_.channelCount,channelCountMode:_.channelCountMode,channelInterpretation:_.channelInterpretation,offset:_.offset.value};_=n(m,v),h!==null&&_.start(h),c!==null&&_.stop(c)}return l.set(m,_),y?await u(m,p.offset,_.offset):await r(m,p.offset,_.offset),await o(p,m,_),_};return{set start(p){h=p},set stop(p){c=p},render(p,m){const _=l.get(m);return _!==void 0?Promise.resolve(_):d(p,m)}}},Yb=u=>n=>(u[0]=n,u[0]),Pb={buffer:null,channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",disableNormalization:!1},Xb=(u,n,i,r,o,l)=>class extends u{constructor(c,d){const p=r(c),m={...Pb,...d},_=i(p,m),v=o(p)?n():null;super(c,!1,_,v),this._isBufferNullified=!1,this._nativeConvolverNode=_,m.buffer!==null&&l(this,m.buffer.duration)}get buffer(){return this._isBufferNullified?null:this._nativeConvolverNode.buffer}set buffer(c){if(this._nativeConvolverNode.buffer=c,c===null&&this._nativeConvolverNode.buffer!==null){const d=this._nativeConvolverNode.context;this._nativeConvolverNode.buffer=d.createBuffer(1,1,d.sampleRate),this._isBufferNullified=!0,l(this,0)}else this._isBufferNullified=!1,l(this,this._nativeConvolverNode.buffer===null?0:this._nativeConvolverNode.buffer.duration)}get normalize(){return this._nativeConvolverNode.normalize}set normalize(c){this._nativeConvolverNode.normalize=c}},Wb=(u,n,i)=>()=>{const r=new WeakMap,o=async(l,h)=>{let c=n(l);if(!$e(c,h)){const p={buffer:c.buffer,channelCount:c.channelCount,channelCountMode:c.channelCountMode,channelInterpretation:c.channelInterpretation,disableNormalization:!c.normalize};c=u(h,p)}return r.set(h,c),Vr(c)?await i(l,h,c.inputs[0]):await i(l,h,c),c};return{render(l,h){const c=r.get(h);return c!==void 0?Promise.resolve(c):o(l,h)}}},Qb=(u,n)=>(i,r,o)=>{if(n===null)throw new Error("Missing the native OfflineAudioContext constructor.");try{return new n(i,r,o)}catch(l){throw l.name==="SyntaxError"?u():l}},Kb=()=>new DOMException("","DataCloneError"),Qg=u=>{const{port1:n,port2:i}=new MessageChannel;return new Promise(r=>{const o=()=>{i.onmessage=null,n.close(),i.close(),r()};i.onmessage=()=>o();try{n.postMessage(u,[u])}catch{}finally{o()}})},Jb=(u,n,i,r,o,l,h,c,d,p,m)=>(_,y)=>{const v=h(_)?_:l(_);if(o.has(y)){const S=i();return Promise.reject(S)}try{o.add(y)}catch{}return n(d,()=>d(v))?v.decodeAudioData(y).then(S=>(Qg(y).catch(()=>{}),n(c,()=>c(S))||m(S),u.add(S),S)):new Promise((S,b)=>{const x=async()=>{try{await Qg(y)}catch{}},T=N=>{b(N),x()};try{v.decodeAudioData(y,N=>{typeof N.copyFromChannel!="function"&&(p(N),af(N)),u.add(N),x().then(()=>S(N))},N=>{T(N===null?r():N)})}catch(N){T(N)}})},$b=(u,n,i,r,o,l,h,c)=>(d,p)=>{const m=n.get(d);if(m===void 0)throw new Error("Missing the expected cycle count.");const _=l(d.context),y=c(_);if(m===p){if(n.delete(d),!y&&h(d)){const v=r(d),{outputs:S}=i(d);for(const b of S)if(to(b)){const x=r(b[0]);u(v,x,b[1],b[2])}else{const x=o(b[0]);v.connect(x,b[1])}}}else n.set(d,m-p)},t2={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",delayTime:0,maxDelayTime:1},e2=(u,n,i,r,o,l,h)=>class extends u{constructor(d,p){const m=o(d),_={...t2,...p},y=r(m,_),v=l(m),S=v?i(_.maxDelayTime):null;super(d,!1,y,S),this._delayTime=n(this,v,y.delayTime),h(this,_.maxDelayTime)}get delayTime(){return this._delayTime}},n2=(u,n,i,r,o)=>l=>{const h=new WeakMap,c=async(d,p)=>{let m=i(d);const _=$e(m,p);if(!_){const y={channelCount:m.channelCount,channelCountMode:m.channelCountMode,channelInterpretation:m.channelInterpretation,delayTime:m.delayTime.value,maxDelayTime:l};m=n(p,y)}return h.set(p,m),_?await u(p,d.delayTime,m.delayTime):await r(p,d.delayTime,m.delayTime),await o(d,p,m),m};return{render(d,p){const m=h.get(p);return m!==void 0?Promise.resolve(m):c(d,p)}}},i2=u=>(n,i,r,o)=>u(n[o],l=>l[0]===i&&l[1]===r),s2=u=>(n,i)=>{u(n).delete(i)},r2=u=>"delayTime"in u,a2=(u,n,i)=>function r(o,l){const h=Dl(l)?l:i(u,l);if(r2(h))return[];if(o[0]===h)return[o];if(o.includes(h))return[];const{outputs:c}=n(h);return Array.from(c).map(d=>r([...o,h],d[0])).reduce((d,p)=>d.concat(p),[])},Tl=(u,n,i)=>{const r=n[i];if(r===void 0)throw u();return r},o2=u=>(n,i=void 0,r=void 0,o=0)=>i===void 0?n.forEach(l=>l.disconnect()):typeof i=="number"?Tl(u,n,i).disconnect():jl(i)?r===void 0?n.forEach(l=>l.disconnect(i)):o===void 0?Tl(u,n,r).disconnect(i,0):Tl(u,n,r).disconnect(i,0,o):r===void 0?n.forEach(l=>l.disconnect(i)):Tl(u,n,r).disconnect(i,0),l2={attack:.003,channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",knee:30,ratio:12,release:.25,threshold:-24},u2=(u,n,i,r,o,l,h,c)=>class extends u{constructor(p,m){const _=l(p),y={...l2,...m},v=r(_,y),S=h(_),b=S?i():null;super(p,!1,v,b),this._attack=n(this,S,v.attack),this._knee=n(this,S,v.knee),this._nativeDynamicsCompressorNode=v,this._ratio=n(this,S,v.ratio),this._release=n(this,S,v.release),this._threshold=n(this,S,v.threshold),c(this,.006)}get attack(){return this._attack}get channelCount(){return this._nativeDynamicsCompressorNode.channelCount}set channelCount(p){const m=this._nativeDynamicsCompressorNode.channelCount;if(this._nativeDynamicsCompressorNode.channelCount=p,p>2)throw this._nativeDynamicsCompressorNode.channelCount=m,o()}get channelCountMode(){return this._nativeDynamicsCompressorNode.channelCountMode}set channelCountMode(p){const m=this._nativeDynamicsCompressorNode.channelCountMode;if(this._nativeDynamicsCompressorNode.channelCountMode=p,p==="max")throw this._nativeDynamicsCompressorNode.channelCountMode=m,o()}get knee(){return this._knee}get ratio(){return this._ratio}get reduction(){return typeof this._nativeDynamicsCompressorNode.reduction.value=="number"?this._nativeDynamicsCompressorNode.reduction.value:this._nativeDynamicsCompressorNode.reduction}get release(){return this._release}get threshold(){return this._threshold}},c2=(u,n,i,r,o)=>()=>{const l=new WeakMap,h=async(c,d)=>{let p=i(c);const m=$e(p,d);if(!m){const _={attack:p.attack.value,channelCount:p.channelCount,channelCountMode:p.channelCountMode,channelInterpretation:p.channelInterpretation,knee:p.knee.value,ratio:p.ratio.value,release:p.release.value,threshold:p.threshold.value};p=n(d,_)}return l.set(d,p),m?(await u(d,c.attack,p.attack),await u(d,c.knee,p.knee),await u(d,c.ratio,p.ratio),await u(d,c.release,p.release),await u(d,c.threshold,p.threshold)):(await r(d,c.attack,p.attack),await r(d,c.knee,p.knee),await r(d,c.ratio,p.ratio),await r(d,c.release,p.release),await r(d,c.threshold,p.threshold)),await o(c,d,p),p};return{render(c,d){const p=l.get(d);return p!==void 0?Promise.resolve(p):h(c,d)}}},h2=()=>new DOMException("","EncodingError"),f2=u=>n=>new Promise((i,r)=>{if(u===null){r(new SyntaxError);return}const o=u.document.head;if(o===null)r(new SyntaxError);else{const l=u.document.createElement("script"),h=new Blob([n],{type:"application/javascript"}),c=URL.createObjectURL(h),d=u.onerror,p=()=>{u.onerror=d,URL.revokeObjectURL(c)};u.onerror=(m,_,y,v,S)=>{if(_===c||_===u.location.href&&y===1&&v===1)return p(),r(S),!1;if(d!==null)return d(m,_,y,v,S)},l.onerror=()=>{p(),r(new SyntaxError)},l.onload=()=>{p(),i()},l.src=c,l.type="module",o.appendChild(l)}}),d2=u=>class{constructor(i){this._nativeEventTarget=i,this._listeners=new WeakMap}addEventListener(i,r,o){if(r!==null){let l=this._listeners.get(r);l===void 0&&(l=u(this,r),typeof r=="function"&&this._listeners.set(r,l)),this._nativeEventTarget.addEventListener(i,l,o)}}dispatchEvent(i){return this._nativeEventTarget.dispatchEvent(i)}removeEventListener(i,r,o){const l=r===null?void 0:this._listeners.get(r);this._nativeEventTarget.removeEventListener(i,l===void 0?null:l,o)}},p2=u=>(n,i,r)=>{Object.defineProperties(u,{currentFrame:{configurable:!0,get(){return Math.round(n*i)}},currentTime:{configurable:!0,get(){return n}}});try{return r()}finally{u!==null&&(delete u.currentFrame,delete u.currentTime)}},m2=u=>async n=>{try{const i=await fetch(n);if(i.ok)return[await i.text(),i.url]}catch{}throw u()},g2={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",gain:1},_2=(u,n,i,r,o,l)=>class extends u{constructor(c,d){const p=o(c),m={...g2,...d},_=r(p,m),y=l(p),v=y?i():null;super(c,!1,_,v),this._gain=n(this,y,_.gain,nn,hn)}get gain(){return this._gain}},v2=(u,n,i,r,o)=>()=>{const l=new WeakMap,h=async(c,d)=>{let p=i(c);const m=$e(p,d);if(!m){const _={channelCount:p.channelCount,channelCountMode:p.channelCountMode,channelInterpretation:p.channelInterpretation,gain:p.gain.value};p=n(d,_)}return l.set(d,p),m?await u(d,c.gain,p.gain):await r(d,c.gain,p.gain),await o(c,d,p),p};return{render(c,d){const p=l.get(d);return p!==void 0?Promise.resolve(p):h(c,d)}}},y2=(u,n)=>i=>n(u,i),b2=u=>n=>{const i=u(n);if(i.renderer===null)throw new Error("Missing the renderer of the given AudioNode in the audio graph.");return i.renderer},S2=u=>n=>{var i;return(i=u.get(n))!==null&&i!==void 0?i:0},x2=u=>n=>{const i=u(n);if(i.renderer===null)throw new Error("Missing the renderer of the given AudioParam in the audio graph.");return i.renderer},T2=u=>n=>u.get(n),Le=()=>new DOMException("","InvalidStateError"),w2=u=>n=>{const i=u.get(n);if(i===void 0)throw Le();return i},A2=(u,n)=>i=>{let r=u.get(i);if(r!==void 0)return r;if(n===null)throw new Error("Missing the native OfflineAudioContext constructor.");return r=new n(1,1,44100),u.set(i,r),r},k2=u=>n=>{const i=u.get(n);if(i===void 0)throw new Error("The context has no set of AudioWorkletNodes.");return i},Gl=()=>new DOMException("","InvalidAccessError"),C2=u=>{u.getFrequencyResponse=(n=>(i,r,o)=>{if(i.length!==r.length||r.length!==o.length)throw Gl();return n.call(u,i,r,o)})(u.getFrequencyResponse)},N2={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers"},E2=(u,n,i,r,o,l)=>class extends u{constructor(c,d){const p=r(c),m=o(p),_={...N2,...d},y=n(p,m?null:c.baseLatency,_),v=m?i(_.feedback,_.feedforward):null;super(c,!1,y,v),C2(y),this._nativeIIRFilterNode=y,l(this,1)}getFrequencyResponse(c,d,p){return this._nativeIIRFilterNode.getFrequencyResponse(c,d,p)}},r0=(u,n,i,r,o,l,h,c,d,p,m)=>{const _=p.length;let y=c;for(let v=0;v<_;v+=1){let S=i[0]*p[v];for(let b=1;b<o;b+=1){const x=y-b&d-1;S+=i[b]*l[x],S-=u[b]*h[x]}for(let b=o;b<r;b+=1)S+=i[b]*l[y-b&d-1];for(let b=o;b<n;b+=1)S-=u[b]*h[y-b&d-1];l[y]=p[v],h[y]=S,y=y+1&d-1,m[v]=S}return y},O2=(u,n,i,r)=>{const o=i instanceof Float64Array?i:new Float64Array(i),l=r instanceof Float64Array?r:new Float64Array(r),h=o.length,c=l.length,d=Math.min(h,c);if(o[0]!==1){for(let S=0;S<h;S+=1)l[S]/=o[0];for(let S=1;S<c;S+=1)o[S]/=o[0]}const p=32,m=new Float32Array(p),_=new Float32Array(p),y=n.createBuffer(u.numberOfChannels,u.length,u.sampleRate),v=u.numberOfChannels;for(let S=0;S<v;S+=1){const b=u.getChannelData(S),x=y.getChannelData(S);m.fill(0),_.fill(0),r0(o,h,l,c,d,m,_,0,p,b,x)}return y},M2=(u,n,i,r,o)=>(l,h)=>{const c=new WeakMap;let d=null;const p=async(m,_)=>{let y=null,v=n(m);const S=$e(v,_);if(_.createIIRFilter===void 0?y=u(_,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}):S||(v=_.createIIRFilter(h,l)),c.set(_,y===null?v:y),y!==null){if(d===null){if(i===null)throw new Error("Missing the native OfflineAudioContext constructor.");const x=new i(m.context.destination.channelCount,m.context.length,_.sampleRate);d=(async()=>{await r(m,x,x.destination);const T=await o(x);return O2(T,_,l,h)})()}const b=await d;return y.buffer=b,y.start(0),y}return await r(m,_,v),v};return{render(m,_){const y=c.get(_);return y!==void 0?Promise.resolve(y):p(m,_)}}},D2=(u,n,i,r,o,l)=>h=>(c,d)=>{const p=u.get(c);if(p===void 0){if(!h&&l(c)){const m=r(c),{outputs:_}=i(c);for(const y of _)if(to(y)){const v=r(y[0]);n(m,v,y[1],y[2])}else{const v=o(y[0]);m.disconnect(v,y[1])}}u.set(c,d)}else u.set(c,p+d)},R2=(u,n)=>i=>{const r=u.get(i);return n(r)||n(i)},z2=(u,n)=>i=>u.has(i)||n(i),j2=(u,n)=>i=>u.has(i)||n(i),U2=(u,n)=>i=>{const r=u.get(i);return n(r)||n(i)},B2=u=>n=>u!==null&&n instanceof u,I2=u=>n=>u!==null&&typeof u.AudioNode=="function"&&n instanceof u.AudioNode,q2=u=>n=>u!==null&&typeof u.AudioParam=="function"&&n instanceof u.AudioParam,V2=(u,n)=>i=>u(i)||n(i),L2=u=>n=>u!==null&&n instanceof u,F2=u=>u!==null&&u.isSecureContext,H2=(u,n,i,r)=>class extends u{constructor(l,h){const c=i(l),d=n(c,h);if(r(c))throw TypeError();super(l,!0,d,null),this._nativeMediaElementAudioSourceNode=d}get mediaElement(){return this._nativeMediaElementAudioSourceNode.mediaElement}},G2={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers"},Z2=(u,n,i,r)=>class extends u{constructor(l,h){const c=i(l);if(r(c))throw new TypeError;const d={...G2,...h},p=n(c,d);super(l,!1,p,null),this._nativeMediaStreamAudioDestinationNode=p}get stream(){return this._nativeMediaStreamAudioDestinationNode.stream}},Y2=(u,n,i,r)=>class extends u{constructor(l,h){const c=i(l),d=n(c,h);if(r(c))throw new TypeError;super(l,!0,d,null),this._nativeMediaStreamAudioSourceNode=d}get mediaStream(){return this._nativeMediaStreamAudioSourceNode.mediaStream}},P2=(u,n,i)=>class extends u{constructor(o,l){const h=i(o),c=n(h,l);super(o,!0,c,null)}},X2=(u,n,i,r,o,l)=>class extends i{constructor(c,d){super(c),this._nativeContext=c,Fl.set(this,c),r(c)&&o.set(c,new Set),this._destination=new u(this,d),this._listener=n(this,c),this._onstatechange=null}get currentTime(){return this._nativeContext.currentTime}get destination(){return this._destination}get listener(){return this._listener}get onstatechange(){return this._onstatechange}set onstatechange(c){const d=typeof c=="function"?l(this,c):null;this._nativeContext.onstatechange=d;const p=this._nativeContext.onstatechange;this._onstatechange=p!==null&&p===d?c:p}get sampleRate(){return this._nativeContext.sampleRate}get state(){return this._nativeContext.state}},Wa=u=>{const n=new Uint32Array([1179011410,40,1163280727,544501094,16,131073,44100,176400,1048580,1635017060,4,0]);try{const i=u.decodeAudioData(n.buffer,()=>{});return i===void 0?!1:(i.catch(()=>{}),!0)}catch{}return!1},W2=(u,n)=>(i,r,o)=>{const l=new Set;return i.connect=(h=>(c,d=0,p=0)=>{const m=l.size===0;if(n(c))return h.call(i,c,d,p),u(l,[c,d,p],_=>_[0]===c&&_[1]===d&&_[2]===p,!0),m&&r(),c;h.call(i,c,d),u(l,[c,d],_=>_[0]===c&&_[1]===d,!0),m&&r()})(i.connect),i.disconnect=(h=>(c,d,p)=>{const m=l.size>0;if(c===void 0)h.apply(i),l.clear();else if(typeof c=="number"){h.call(i,c);for(const y of l)y[1]===c&&l.delete(y)}else{n(c)?h.call(i,c,d,p):h.call(i,c,d);for(const y of l)y[0]===c&&(d===void 0||y[1]===d)&&(p===void 0||y[2]===p)&&l.delete(y)}const _=l.size===0;m&&_&&o()})(i.disconnect),i},me=(u,n,i)=>{const r=n[i];r!==void 0&&r!==u[i]&&(u[i]=r)},ze=(u,n)=>{me(u,n,"channelCount"),me(u,n,"channelCountMode"),me(u,n,"channelInterpretation")},Kg=u=>typeof u.getFloatTimeDomainData=="function",Q2=u=>{u.getFloatTimeDomainData=n=>{const i=new Uint8Array(n.length);u.getByteTimeDomainData(i);const r=Math.max(i.length,u.fftSize);for(let o=0;o<r;o+=1)n[o]=(i[o]-128)*.0078125;return n}},K2=(u,n)=>(i,r)=>{const o=i.createAnalyser();if(ze(o,r),!(r.maxDecibels>r.minDecibels))throw n();return me(o,r,"fftSize"),me(o,r,"maxDecibels"),me(o,r,"minDecibels"),me(o,r,"smoothingTimeConstant"),u(Kg,()=>Kg(o))||Q2(o),o},J2=u=>u===null?null:u.hasOwnProperty("AudioBuffer")?u.AudioBuffer:null,Se=(u,n,i)=>{const r=n[i];r!==void 0&&r!==u[i].value&&(u[i].value=r)},$2=u=>{u.start=(n=>{let i=!1;return(r=0,o=0,l)=>{if(i)throw Le();n.call(u,r,o,l),i=!0}})(u.start)},uf=u=>{u.start=(n=>(i=0,r=0,o)=>{if(typeof o=="number"&&o<0||r<0||i<0)throw new RangeError("The parameters can't be negative.");n.call(u,i,r,o)})(u.start)},cf=u=>{u.stop=(n=>(i=0)=>{if(i<0)throw new RangeError("The parameter can't be negative.");n.call(u,i)})(u.stop)},tS=(u,n,i,r,o,l,h,c,d,p,m)=>(_,y)=>{const v=_.createBufferSource();return ze(v,y),Se(v,y,"playbackRate"),me(v,y,"buffer"),me(v,y,"loop"),me(v,y,"loopEnd"),me(v,y,"loopStart"),n(i,()=>i(_))||$2(v),n(r,()=>r(_))||d(v),n(o,()=>o(_))||p(v,_),n(l,()=>l(_))||uf(v),n(h,()=>h(_))||m(v,_),n(c,()=>c(_))||cf(v),u(_,v),v},eS=u=>u===null?null:u.hasOwnProperty("AudioContext")?u.AudioContext:u.hasOwnProperty("webkitAudioContext")?u.webkitAudioContext:null,nS=(u,n)=>(i,r,o)=>{const l=i.destination;if(l.channelCount!==r)try{l.channelCount=r}catch{}o&&l.channelCountMode!=="explicit"&&(l.channelCountMode="explicit"),l.maxChannelCount===0&&Object.defineProperty(l,"maxChannelCount",{value:r});const h=u(i,{channelCount:r,channelCountMode:l.channelCountMode,channelInterpretation:l.channelInterpretation,gain:1});return n(h,"channelCount",c=>()=>c.call(h),c=>d=>{c.call(h,d);try{l.channelCount=d}catch(p){if(d>l.maxChannelCount)throw p}}),n(h,"channelCountMode",c=>()=>c.call(h),c=>d=>{c.call(h,d),l.channelCountMode=d}),n(h,"channelInterpretation",c=>()=>c.call(h),c=>d=>{c.call(h,d),l.channelInterpretation=d}),Object.defineProperty(h,"maxChannelCount",{get:()=>l.maxChannelCount}),h.connect(l),h},iS=u=>u===null?null:u.hasOwnProperty("AudioWorkletNode")?u.AudioWorkletNode:null,sS=u=>{const{port1:n}=new MessageChannel;try{n.postMessage(u)}finally{n.close()}},rS=(u,n,i,r,o)=>(l,h,c,d,p,m)=>{if(c!==null)try{const _=new c(l,d,m),y=new Map;let v=null;if(Object.defineProperties(_,{channelCount:{get:()=>m.channelCount,set:()=>{throw u()}},channelCountMode:{get:()=>"explicit",set:()=>{throw u()}},onprocessorerror:{get:()=>v,set:S=>{typeof v=="function"&&_.removeEventListener("processorerror",v),v=typeof S=="function"?S:null,typeof v=="function"&&_.addEventListener("processorerror",v)}}}),_.addEventListener=(S=>(...b)=>{if(b[0]==="processorerror"){const x=typeof b[1]=="function"?b[1]:typeof b[1]=="object"&&b[1]!==null&&typeof b[1].handleEvent=="function"?b[1].handleEvent:null;if(x!==null){const T=y.get(b[1]);T!==void 0?b[1]=T:(b[1]=N=>{N.type==="error"?(Object.defineProperties(N,{type:{value:"processorerror"}}),x(N)):x(new ErrorEvent(b[0],{...N}))},y.set(x,b[1]))}}return S.call(_,"error",b[1],b[2]),S.call(_,...b)})(_.addEventListener),_.removeEventListener=(S=>(...b)=>{if(b[0]==="processorerror"){const x=y.get(b[1]);x!==void 0&&(y.delete(b[1]),b[1]=x)}return S.call(_,"error",b[1],b[2]),S.call(_,b[0],b[1],b[2])})(_.removeEventListener),m.numberOfOutputs!==0){const S=i(l,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});return _.connect(S).connect(l.destination),o(_,()=>S.disconnect(),()=>S.connect(l.destination))}return _}catch(_){throw _.code===11?r():_}if(p===void 0)throw r();return sS(m),n(l,h,p,m)},a0=(u,n)=>u===null?512:Math.max(512,Math.min(16384,Math.pow(2,Math.round(Math.log2(u*n))))),aS=u=>new Promise((n,i)=>{const{port1:r,port2:o}=new MessageChannel;r.onmessage=({data:l})=>{r.close(),o.close(),n(l)},r.onmessageerror=({data:l})=>{r.close(),o.close(),i(l)},o.postMessage(u)}),oS=async(u,n)=>{const i=await aS(n);return new u(i)},lS=(u,n,i,r)=>{let o=Xh.get(u);o===void 0&&(o=new WeakMap,Xh.set(u,o));const l=oS(i,r);return o.set(n,l),l},uS=(u,n,i,r,o,l,h,c,d,p,m,_,y)=>(v,S,b,x)=>{if(x.numberOfInputs===0&&x.numberOfOutputs===0)throw d();const T=Array.isArray(x.outputChannelCount)?x.outputChannelCount:Array.from(x.outputChannelCount);if(T.some(Q=>Q<1))throw d();if(T.length!==x.numberOfOutputs)throw n();if(x.channelCountMode!=="explicit")throw d();const N=x.channelCount*x.numberOfInputs,O=T.reduce((Q,K)=>Q+K,0),E=b.parameterDescriptors===void 0?0:b.parameterDescriptors.length;if(N+E>6||O>6)throw d();const C=new MessageChannel,j=[],z=[];for(let Q=0;Q<x.numberOfInputs;Q+=1)j.push(h(v,{channelCount:x.channelCount,channelCountMode:x.channelCountMode,channelInterpretation:x.channelInterpretation,gain:1})),z.push(o(v,{channelCount:x.channelCount,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:x.channelCount}));const R=[];if(b.parameterDescriptors!==void 0)for(const{defaultValue:Q,maxValue:K,minValue:q,name:I}of b.parameterDescriptors){const Y=l(v,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:x.parameterData[I]!==void 0?x.parameterData[I]:Q===void 0?0:Q});Object.defineProperties(Y.offset,{defaultValue:{get:()=>Q===void 0?0:Q},maxValue:{get:()=>K===void 0?nn:K},minValue:{get:()=>q===void 0?hn:q}}),R.push(Y)}const V=r(v,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:Math.max(1,N+E)}),P=a0(S,v.sampleRate),et=c(v,P,N+E,Math.max(1,O)),D=o(v,{channelCount:Math.max(1,O),channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:Math.max(1,O)}),X=[];for(let Q=0;Q<x.numberOfOutputs;Q+=1)X.push(r(v,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:T[Q]}));for(let Q=0;Q<x.numberOfInputs;Q+=1){j[Q].connect(z[Q]);for(let K=0;K<x.channelCount;K+=1)z[Q].connect(V,K,Q*x.channelCount+K)}const w=new i0(b.parameterDescriptors===void 0?[]:b.parameterDescriptors.map(({name:Q},K)=>{const q=R[K];return q.connect(V,0,N+K),q.start(0),[Q,q.offset]}));V.connect(et);let J=x.channelInterpretation,G=null;const H=x.numberOfOutputs===0?[et]:X,ct={get bufferSize(){return P},get channelCount(){return x.channelCount},set channelCount(Q){throw i()},get channelCountMode(){return x.channelCountMode},set channelCountMode(Q){throw i()},get channelInterpretation(){return J},set channelInterpretation(Q){for(const K of j)K.channelInterpretation=Q;J=Q},get context(){return et.context},get inputs(){return j},get numberOfInputs(){return x.numberOfInputs},get numberOfOutputs(){return x.numberOfOutputs},get onprocessorerror(){return G},set onprocessorerror(Q){typeof G=="function"&&ct.removeEventListener("processorerror",G),G=typeof Q=="function"?Q:null,typeof G=="function"&&ct.addEventListener("processorerror",G)},get parameters(){return w},get port(){return C.port2},addEventListener(...Q){return et.addEventListener(Q[0],Q[1],Q[2])},connect:u.bind(null,H),disconnect:p.bind(null,H),dispatchEvent(...Q){return et.dispatchEvent(Q[0])},removeEventListener(...Q){return et.removeEventListener(Q[0],Q[1],Q[2])}},tt=new Map;C.port1.addEventListener=(Q=>(...K)=>{if(K[0]==="message"){const q=typeof K[1]=="function"?K[1]:typeof K[1]=="object"&&K[1]!==null&&typeof K[1].handleEvent=="function"?K[1].handleEvent:null;if(q!==null){const I=tt.get(K[1]);I!==void 0?K[1]=I:(K[1]=Y=>{m(v.currentTime,v.sampleRate,()=>q(Y))},tt.set(q,K[1]))}}return Q.call(C.port1,K[0],K[1],K[2])})(C.port1.addEventListener),C.port1.removeEventListener=(Q=>(...K)=>{if(K[0]==="message"){const q=tt.get(K[1]);q!==void 0&&(tt.delete(K[1]),K[1]=q)}return Q.call(C.port1,K[0],K[1],K[2])})(C.port1.removeEventListener);let U=null;Object.defineProperty(C.port1,"onmessage",{get:()=>U,set:Q=>{typeof U=="function"&&C.port1.removeEventListener("message",U),U=typeof Q=="function"?Q:null,typeof U=="function"&&(C.port1.addEventListener("message",U),C.port1.start())}}),b.prototype.port=C.port1;let B=null;lS(v,ct,b,x).then(Q=>B=Q);const lt=Bl(x.numberOfInputs,x.channelCount),ut=Bl(x.numberOfOutputs,T),rt=b.parameterDescriptors===void 0?[]:b.parameterDescriptors.reduce((Q,{name:K})=>({...Q,[K]:new Float32Array(128)}),{});let dt=!0;const xt=()=>{x.numberOfOutputs>0&&et.disconnect(D);for(let Q=0,K=0;Q<x.numberOfOutputs;Q+=1){const q=X[Q];for(let I=0;I<T[Q];I+=1)D.disconnect(q,K+I,I);K+=T[Q]}},ht=new Map;et.onaudioprocess=({inputBuffer:Q,outputBuffer:K})=>{if(B!==null){const q=_(ct);for(let I=0;I<P;I+=128){for(let Y=0;Y<x.numberOfInputs;Y+=1)for(let ft=0;ft<x.channelCount;ft+=1)Ul(Q,lt[Y],ft,ft,I);b.parameterDescriptors!==void 0&&b.parameterDescriptors.forEach(({name:Y},ft)=>{Ul(Q,rt,Y,N+ft,I)});for(let Y=0;Y<x.numberOfInputs;Y+=1)for(let ft=0;ft<T[Y];ft+=1)ut[Y][ft].byteLength===0&&(ut[Y][ft]=new Float32Array(128));try{const Y=lt.map((mt,nt)=>{if(q[nt].size>0)return ht.set(nt,P/128),mt;const Tt=ht.get(nt);return Tt===void 0?[]:(mt.every(yt=>yt.every(Ct=>Ct===0))&&(Tt===1?ht.delete(nt):ht.set(nt,Tt-1)),mt)});dt=m(v.currentTime+I/v.sampleRate,v.sampleRate,()=>B.process(Y,ut,rt));for(let mt=0,nt=0;mt<x.numberOfOutputs;mt+=1){for(let vt=0;vt<T[mt];vt+=1)s0(K,ut[mt],vt,nt+vt,I);nt+=T[mt]}}catch(Y){dt=!1,ct.dispatchEvent(new ErrorEvent("processorerror",{colno:Y.colno,filename:Y.filename,lineno:Y.lineno,message:Y.message}))}if(!dt){for(let Y=0;Y<x.numberOfInputs;Y+=1){j[Y].disconnect(z[Y]);for(let ft=0;ft<x.channelCount;ft+=1)z[I].disconnect(V,ft,Y*x.channelCount+ft)}if(b.parameterDescriptors!==void 0){const Y=b.parameterDescriptors.length;for(let ft=0;ft<Y;ft+=1){const mt=R[ft];mt.disconnect(V,0,N+ft),mt.stop()}}V.disconnect(et),et.onaudioprocess=null,kt?xt():Jt();break}}}};let kt=!1;const jt=h(v,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0}),Lt=()=>et.connect(jt).connect(v.destination),Jt=()=>{et.disconnect(jt),jt.disconnect()},ve=()=>{if(dt){Jt(),x.numberOfOutputs>0&&et.connect(D);for(let Q=0,K=0;Q<x.numberOfOutputs;Q+=1){const q=X[Q];for(let I=0;I<T[Q];I+=1)D.connect(q,K+I,I);K+=T[Q]}}kt=!0},A=()=>{dt&&(Lt(),xt()),kt=!1};return Lt(),y(ct,ve,A)},o0=(u,n)=>{const i=u.createBiquadFilter();return ze(i,n),Se(i,n,"Q"),Se(i,n,"detune"),Se(i,n,"frequency"),Se(i,n,"gain"),me(i,n,"type"),i},cS=(u,n)=>(i,r)=>{const o=i.createChannelMerger(r.numberOfInputs);return u!==null&&u.name==="webkitAudioContext"&&n(i,o),ze(o,r),o},hS=u=>{const n=u.numberOfOutputs;Object.defineProperty(u,"channelCount",{get:()=>n,set:i=>{if(i!==n)throw Le()}}),Object.defineProperty(u,"channelCountMode",{get:()=>"explicit",set:i=>{if(i!=="explicit")throw Le()}}),Object.defineProperty(u,"channelInterpretation",{get:()=>"discrete",set:i=>{if(i!=="discrete")throw Le()}})},eo=(u,n)=>{const i=u.createChannelSplitter(n.numberOfOutputs);return ze(i,n),hS(i),i},fS=(u,n,i,r,o)=>(l,h)=>{if(l.createConstantSource===void 0)return i(l,h);const c=l.createConstantSource();return ze(c,h),Se(c,h,"offset"),n(r,()=>r(l))||uf(c),n(o,()=>o(l))||cf(c),u(l,c),c},Lr=(u,n)=>(u.connect=n.connect.bind(n),u.disconnect=n.disconnect.bind(n),u),dS=(u,n,i,r)=>(o,{offset:l,...h})=>{const c=o.createBuffer(1,2,44100),d=n(o,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),p=i(o,{...h,gain:l}),m=c.getChannelData(0);m[0]=1,m[1]=1,d.buffer=c,d.loop=!0;const _={get bufferSize(){},get channelCount(){return p.channelCount},set channelCount(S){p.channelCount=S},get channelCountMode(){return p.channelCountMode},set channelCountMode(S){p.channelCountMode=S},get channelInterpretation(){return p.channelInterpretation},set channelInterpretation(S){p.channelInterpretation=S},get context(){return p.context},get inputs(){return[]},get numberOfInputs(){return d.numberOfInputs},get numberOfOutputs(){return p.numberOfOutputs},get offset(){return p.gain},get onended(){return d.onended},set onended(S){d.onended=S},addEventListener(...S){return d.addEventListener(S[0],S[1],S[2])},dispatchEvent(...S){return d.dispatchEvent(S[0])},removeEventListener(...S){return d.removeEventListener(S[0],S[1],S[2])},start(S=0){d.start.call(d,S)},stop(S=0){d.stop.call(d,S)}},y=()=>d.connect(p),v=()=>d.disconnect(p);return u(o,d),r(Lr(_,p),y,v)},pS=(u,n)=>(i,r)=>{const o=i.createConvolver();if(ze(o,r),r.disableNormalization===o.normalize&&(o.normalize=!r.disableNormalization),me(o,r,"buffer"),r.channelCount>2||(n(o,"channelCount",l=>()=>l.call(o),l=>h=>{if(h>2)throw u();return l.call(o,h)}),r.channelCountMode==="max"))throw u();return n(o,"channelCountMode",l=>()=>l.call(o),l=>h=>{if(h==="max")throw u();return l.call(o,h)}),o},l0=(u,n)=>{const i=u.createDelay(n.maxDelayTime);return ze(i,n),Se(i,n,"delayTime"),i},mS=u=>(n,i)=>{const r=n.createDynamicsCompressor();if(ze(r,i),i.channelCount>2||i.channelCountMode==="max")throw u();return Se(r,i,"attack"),Se(r,i,"knee"),Se(r,i,"ratio"),Se(r,i,"release"),Se(r,i,"threshold"),r},dn=(u,n)=>{const i=u.createGain();return ze(i,n),Se(i,n,"gain"),i},gS=u=>(n,i,r)=>{if(n.createIIRFilter===void 0)return u(n,i,r);const o=n.createIIRFilter(r.feedforward,r.feedback);return ze(o,r),o};function _S(u,n){const i=n[0]*n[0]+n[1]*n[1];return[(u[0]*n[0]+u[1]*n[1])/i,(u[1]*n[0]-u[0]*n[1])/i]}function vS(u,n){return[u[0]*n[0]-u[1]*n[1],u[0]*n[1]+u[1]*n[0]]}function Jg(u,n){let i=[0,0];for(let r=u.length-1;r>=0;r-=1)i=vS(i,n),i[0]+=u[r];return i}const yS=(u,n,i,r)=>(o,l,{channelCount:h,channelCountMode:c,channelInterpretation:d,feedback:p,feedforward:m})=>{const _=a0(l,o.sampleRate),y=p instanceof Float64Array?p:new Float64Array(p),v=m instanceof Float64Array?m:new Float64Array(m),S=y.length,b=v.length,x=Math.min(S,b);if(S===0||S>20)throw r();if(y[0]===0)throw n();if(b===0||b>20)throw r();if(v[0]===0)throw n();if(y[0]!==1){for(let R=0;R<b;R+=1)v[R]/=y[0];for(let R=1;R<S;R+=1)y[R]/=y[0]}const T=i(o,_,h,h);T.channelCount=h,T.channelCountMode=c,T.channelInterpretation=d;const N=32,O=[],E=[],C=[];for(let R=0;R<h;R+=1){O.push(0);const V=new Float32Array(N),P=new Float32Array(N);V.fill(0),P.fill(0),E.push(V),C.push(P)}T.onaudioprocess=R=>{const V=R.inputBuffer,P=R.outputBuffer,et=V.numberOfChannels;for(let D=0;D<et;D+=1){const X=V.getChannelData(D),w=P.getChannelData(D);O[D]=r0(y,S,v,b,x,E[D],C[D],O[D],N,X,w)}};const j=o.sampleRate/2;return Lr({get bufferSize(){return _},get channelCount(){return T.channelCount},set channelCount(R){T.channelCount=R},get channelCountMode(){return T.channelCountMode},set channelCountMode(R){T.channelCountMode=R},get channelInterpretation(){return T.channelInterpretation},set channelInterpretation(R){T.channelInterpretation=R},get context(){return T.context},get inputs(){return[T]},get numberOfInputs(){return T.numberOfInputs},get numberOfOutputs(){return T.numberOfOutputs},addEventListener(...R){return T.addEventListener(R[0],R[1],R[2])},dispatchEvent(...R){return T.dispatchEvent(R[0])},getFrequencyResponse(R,V,P){if(R.length!==V.length||V.length!==P.length)throw u();const et=R.length;for(let D=0;D<et;D+=1){const X=-Math.PI*(R[D]/j),w=[Math.cos(X),Math.sin(X)],J=Jg(v,w),G=Jg(y,w),H=_S(J,G);V[D]=Math.sqrt(H[0]*H[0]+H[1]*H[1]),P[D]=Math.atan2(H[1],H[0])}},removeEventListener(...R){return T.removeEventListener(R[0],R[1],R[2])}},T)},bS=(u,n)=>u.createMediaElementSource(n.mediaElement),SS=(u,n)=>{const i=u.createMediaStreamDestination();return ze(i,n),i.numberOfOutputs===1&&Object.defineProperty(i,"numberOfOutputs",{get:()=>0}),i},xS=(u,{mediaStream:n})=>{const i=n.getAudioTracks();i.sort((l,h)=>l.id<h.id?-1:l.id>h.id?1:0);const r=i.slice(0,1),o=u.createMediaStreamSource(new MediaStream(r));return Object.defineProperty(o,"mediaStream",{value:n}),o},TS=(u,n)=>(i,{mediaStreamTrack:r})=>{if(typeof i.createMediaStreamTrackSource=="function")return i.createMediaStreamTrackSource(r);const o=new MediaStream([r]),l=i.createMediaStreamSource(o);if(r.kind!=="audio")throw u();if(n(i))throw new TypeError;return l},wS=u=>u===null?null:u.hasOwnProperty("OfflineAudioContext")?u.OfflineAudioContext:u.hasOwnProperty("webkitOfflineAudioContext")?u.webkitOfflineAudioContext:null,AS=(u,n,i,r,o,l)=>(h,c)=>{const d=h.createOscillator();return ze(d,c),Se(d,c,"detune"),Se(d,c,"frequency"),c.periodicWave!==void 0?d.setPeriodicWave(c.periodicWave):me(d,c,"type"),n(i,()=>i(h))||uf(d),n(r,()=>r(h))||l(d,h),n(o,()=>o(h))||cf(d),u(h,d),d},kS=u=>(n,i)=>{const r=n.createPanner();return r.orientationX===void 0?u(n,i):(ze(r,i),Se(r,i,"orientationX"),Se(r,i,"orientationY"),Se(r,i,"orientationZ"),Se(r,i,"positionX"),Se(r,i,"positionY"),Se(r,i,"positionZ"),me(r,i,"coneInnerAngle"),me(r,i,"coneOuterAngle"),me(r,i,"coneOuterGain"),me(r,i,"distanceModel"),me(r,i,"maxDistance"),me(r,i,"panningModel"),me(r,i,"refDistance"),me(r,i,"rolloffFactor"),r)},CS=(u,n,i,r,o,l,h,c,d,p)=>(m,{coneInnerAngle:_,coneOuterAngle:y,coneOuterGain:v,distanceModel:S,maxDistance:b,orientationX:x,orientationY:T,orientationZ:N,panningModel:O,positionX:E,positionY:C,positionZ:j,refDistance:z,rolloffFactor:R,...V})=>{const P=m.createPanner();if(V.channelCount>2||V.channelCountMode==="max")throw h();ze(P,V);const et={channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete"},D=i(m,{...et,channelInterpretation:"speakers",numberOfInputs:6}),X=r(m,{...V,gain:1}),w=r(m,{...et,gain:1}),J=r(m,{...et,gain:0}),G=r(m,{...et,gain:0}),H=r(m,{...et,gain:0}),ct=r(m,{...et,gain:0}),tt=r(m,{...et,gain:0}),U=o(m,256,6,1),B=l(m,{...et,curve:new Float32Array([1,1]),oversample:"none"});let F=[x,T,N],lt=[E,C,j];const ut=new Float32Array(1);U.onaudioprocess=({inputBuffer:ht})=>{const kt=[d(ht,ut,0),d(ht,ut,1),d(ht,ut,2)];kt.some((Lt,Jt)=>Lt!==F[Jt])&&(P.setOrientation(...kt),F=kt);const jt=[d(ht,ut,3),d(ht,ut,4),d(ht,ut,5)];jt.some((Lt,Jt)=>Lt!==lt[Jt])&&(P.setPosition(...jt),lt=jt)},Object.defineProperty(J.gain,"defaultValue",{get:()=>0}),Object.defineProperty(G.gain,"defaultValue",{get:()=>0}),Object.defineProperty(H.gain,"defaultValue",{get:()=>0}),Object.defineProperty(ct.gain,"defaultValue",{get:()=>0}),Object.defineProperty(tt.gain,"defaultValue",{get:()=>0});const rt={get bufferSize(){},get channelCount(){return P.channelCount},set channelCount(ht){if(ht>2)throw h();X.channelCount=ht,P.channelCount=ht},get channelCountMode(){return P.channelCountMode},set channelCountMode(ht){if(ht==="max")throw h();X.channelCountMode=ht,P.channelCountMode=ht},get channelInterpretation(){return P.channelInterpretation},set channelInterpretation(ht){X.channelInterpretation=ht,P.channelInterpretation=ht},get coneInnerAngle(){return P.coneInnerAngle},set coneInnerAngle(ht){P.coneInnerAngle=ht},get coneOuterAngle(){return P.coneOuterAngle},set coneOuterAngle(ht){P.coneOuterAngle=ht},get coneOuterGain(){return P.coneOuterGain},set coneOuterGain(ht){if(ht<0||ht>1)throw n();P.coneOuterGain=ht},get context(){return P.context},get distanceModel(){return P.distanceModel},set distanceModel(ht){P.distanceModel=ht},get inputs(){return[X]},get maxDistance(){return P.maxDistance},set maxDistance(ht){if(ht<0)throw new RangeError;P.maxDistance=ht},get numberOfInputs(){return P.numberOfInputs},get numberOfOutputs(){return P.numberOfOutputs},get orientationX(){return w.gain},get orientationY(){return J.gain},get orientationZ(){return G.gain},get panningModel(){return P.panningModel},set panningModel(ht){P.panningModel=ht},get positionX(){return H.gain},get positionY(){return ct.gain},get positionZ(){return tt.gain},get refDistance(){return P.refDistance},set refDistance(ht){if(ht<0)throw new RangeError;P.refDistance=ht},get rolloffFactor(){return P.rolloffFactor},set rolloffFactor(ht){if(ht<0)throw new RangeError;P.rolloffFactor=ht},addEventListener(...ht){return X.addEventListener(ht[0],ht[1],ht[2])},dispatchEvent(...ht){return X.dispatchEvent(ht[0])},removeEventListener(...ht){return X.removeEventListener(ht[0],ht[1],ht[2])}};_!==rt.coneInnerAngle&&(rt.coneInnerAngle=_),y!==rt.coneOuterAngle&&(rt.coneOuterAngle=y),v!==rt.coneOuterGain&&(rt.coneOuterGain=v),S!==rt.distanceModel&&(rt.distanceModel=S),b!==rt.maxDistance&&(rt.maxDistance=b),x!==rt.orientationX.value&&(rt.orientationX.value=x),T!==rt.orientationY.value&&(rt.orientationY.value=T),N!==rt.orientationZ.value&&(rt.orientationZ.value=N),O!==rt.panningModel&&(rt.panningModel=O),E!==rt.positionX.value&&(rt.positionX.value=E),C!==rt.positionY.value&&(rt.positionY.value=C),j!==rt.positionZ.value&&(rt.positionZ.value=j),z!==rt.refDistance&&(rt.refDistance=z),R!==rt.rolloffFactor&&(rt.rolloffFactor=R),(F[0]!==1||F[1]!==0||F[2]!==0)&&P.setOrientation(...F),(lt[0]!==0||lt[1]!==0||lt[2]!==0)&&P.setPosition(...lt);const dt=()=>{X.connect(P),u(X,B,0,0),B.connect(w).connect(D,0,0),B.connect(J).connect(D,0,1),B.connect(G).connect(D,0,2),B.connect(H).connect(D,0,3),B.connect(ct).connect(D,0,4),B.connect(tt).connect(D,0,5),D.connect(U).connect(m.destination)},xt=()=>{X.disconnect(P),c(X,B,0,0),B.disconnect(w),w.disconnect(D),B.disconnect(J),J.disconnect(D),B.disconnect(G),G.disconnect(D),B.disconnect(H),H.disconnect(D),B.disconnect(ct),ct.disconnect(D),B.disconnect(tt),tt.disconnect(D),D.disconnect(U),U.disconnect(m.destination)};return p(Lr(rt,P),dt,xt)},NS=u=>(n,{disableNormalization:i,imag:r,real:o})=>{const l=r instanceof Float32Array?r:new Float32Array(r),h=o instanceof Float32Array?o:new Float32Array(o),c=n.createPeriodicWave(h,l,{disableNormalization:i});if(Array.from(r).length<2)throw u();return c},no=(u,n,i,r)=>u.createScriptProcessor(n,i,r),ES=(u,n)=>(i,r)=>{const o=r.channelCountMode;if(o==="clamped-max")throw n();if(i.createStereoPanner===void 0)return u(i,r);const l=i.createStereoPanner();return ze(l,r),Se(l,r,"pan"),Object.defineProperty(l,"channelCountMode",{get:()=>o,set:h=>{if(h!==o)throw n()}}),l},OS=(u,n,i,r,o,l)=>{const c=new Float32Array([1,1]),d=Math.PI/2,p={channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete"},m={...p,oversample:"none"},_=(S,b,x,T)=>{const N=new Float32Array(16385),O=new Float32Array(16385);for(let V=0;V<16385;V+=1){const P=V/16384*d;N[V]=Math.cos(P),O[V]=Math.sin(P)}const E=i(S,{...p,gain:0}),C=r(S,{...m,curve:N}),j=r(S,{...m,curve:c}),z=i(S,{...p,gain:0}),R=r(S,{...m,curve:O});return{connectGraph(){b.connect(E),b.connect(j.inputs===void 0?j:j.inputs[0]),b.connect(z),j.connect(x),x.connect(C.inputs===void 0?C:C.inputs[0]),x.connect(R.inputs===void 0?R:R.inputs[0]),C.connect(E.gain),R.connect(z.gain),E.connect(T,0,0),z.connect(T,0,1)},disconnectGraph(){b.disconnect(E),b.disconnect(j.inputs===void 0?j:j.inputs[0]),b.disconnect(z),j.disconnect(x),x.disconnect(C.inputs===void 0?C:C.inputs[0]),x.disconnect(R.inputs===void 0?R:R.inputs[0]),C.disconnect(E.gain),R.disconnect(z.gain),E.disconnect(T,0,0),z.disconnect(T,0,1)}}},y=(S,b,x,T)=>{const N=new Float32Array(16385),O=new Float32Array(16385),E=new Float32Array(16385),C=new Float32Array(16385),j=Math.floor(16385/2);for(let H=0;H<16385;H+=1)if(H>j){const ct=(H-j)/(16384-j)*d;N[H]=Math.cos(ct),O[H]=Math.sin(ct),E[H]=0,C[H]=1}else{const ct=H/(16384-j)*d;N[H]=1,O[H]=0,E[H]=Math.cos(ct),C[H]=Math.sin(ct)}const z=n(S,{channelCount:2,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:2}),R=i(S,{...p,gain:0}),V=r(S,{...m,curve:N}),P=i(S,{...p,gain:0}),et=r(S,{...m,curve:O}),D=r(S,{...m,curve:c}),X=i(S,{...p,gain:0}),w=r(S,{...m,curve:E}),J=i(S,{...p,gain:0}),G=r(S,{...m,curve:C});return{connectGraph(){b.connect(z),b.connect(D.inputs===void 0?D:D.inputs[0]),z.connect(R,0),z.connect(P,0),z.connect(X,1),z.connect(J,1),D.connect(x),x.connect(V.inputs===void 0?V:V.inputs[0]),x.connect(et.inputs===void 0?et:et.inputs[0]),x.connect(w.inputs===void 0?w:w.inputs[0]),x.connect(G.inputs===void 0?G:G.inputs[0]),V.connect(R.gain),et.connect(P.gain),w.connect(X.gain),G.connect(J.gain),R.connect(T,0,0),X.connect(T,0,0),P.connect(T,0,1),J.connect(T,0,1)},disconnectGraph(){b.disconnect(z),b.disconnect(D.inputs===void 0?D:D.inputs[0]),z.disconnect(R,0),z.disconnect(P,0),z.disconnect(X,1),z.disconnect(J,1),D.disconnect(x),x.disconnect(V.inputs===void 0?V:V.inputs[0]),x.disconnect(et.inputs===void 0?et:et.inputs[0]),x.disconnect(w.inputs===void 0?w:w.inputs[0]),x.disconnect(G.inputs===void 0?G:G.inputs[0]),V.disconnect(R.gain),et.disconnect(P.gain),w.disconnect(X.gain),G.disconnect(J.gain),R.disconnect(T,0,0),X.disconnect(T,0,0),P.disconnect(T,0,1),J.disconnect(T,0,1)}}},v=(S,b,x,T,N)=>{if(b===1)return _(S,x,T,N);if(b===2)return y(S,x,T,N);throw o()};return(S,{channelCount:b,channelCountMode:x,pan:T,...N})=>{if(x==="max")throw o();const O=u(S,{...N,channelCount:1,channelCountMode:x,numberOfInputs:2}),E=i(S,{...N,channelCount:b,channelCountMode:x,gain:1}),C=i(S,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:T});let{connectGraph:j,disconnectGraph:z}=v(S,b,E,C,O);Object.defineProperty(C.gain,"defaultValue",{get:()=>0}),Object.defineProperty(C.gain,"maxValue",{get:()=>1}),Object.defineProperty(C.gain,"minValue",{get:()=>-1});const R={get bufferSize(){},get channelCount(){return E.channelCount},set channelCount(D){E.channelCount!==D&&(V&&z(),{connectGraph:j,disconnectGraph:z}=v(S,D,E,C,O),V&&j()),E.channelCount=D},get channelCountMode(){return E.channelCountMode},set channelCountMode(D){if(D==="clamped-max"||D==="max")throw o();E.channelCountMode=D},get channelInterpretation(){return E.channelInterpretation},set channelInterpretation(D){E.channelInterpretation=D},get context(){return E.context},get inputs(){return[E]},get numberOfInputs(){return E.numberOfInputs},get numberOfOutputs(){return E.numberOfOutputs},get pan(){return C.gain},addEventListener(...D){return E.addEventListener(D[0],D[1],D[2])},dispatchEvent(...D){return E.dispatchEvent(D[0])},removeEventListener(...D){return E.removeEventListener(D[0],D[1],D[2])}};let V=!1;const P=()=>{j(),V=!0},et=()=>{z(),V=!1};return l(Lr(R,O),P,et)}},MS=(u,n,i,r,o,l,h)=>(c,d)=>{const p=c.createWaveShaper();if(l!==null&&l.name==="webkitAudioContext"&&c.createGain().gain.automationRate===void 0)return i(c,d);ze(p,d);const m=d.curve===null||d.curve instanceof Float32Array?d.curve:new Float32Array(d.curve);if(m!==null&&m.length<2)throw n();me(p,{curve:m},"curve"),me(p,d,"oversample");let _=null,y=!1;return h(p,"curve",b=>()=>b.call(p),b=>x=>(b.call(p,x),y&&(r(x)&&_===null?_=u(c,p):!r(x)&&_!==null&&(_(),_=null)),x)),o(p,()=>{y=!0,r(p.curve)&&(_=u(c,p))},()=>{y=!1,_!==null&&(_(),_=null)})},DS=(u,n,i,r,o)=>(l,{curve:h,oversample:c,...d})=>{const p=l.createWaveShaper(),m=l.createWaveShaper();ze(p,d),ze(m,d);const _=i(l,{...d,gain:1}),y=i(l,{...d,gain:-1}),v=i(l,{...d,gain:1}),S=i(l,{...d,gain:-1});let b=null,x=!1,T=null;const N={get bufferSize(){},get channelCount(){return p.channelCount},set channelCount(C){_.channelCount=C,y.channelCount=C,p.channelCount=C,v.channelCount=C,m.channelCount=C,S.channelCount=C},get channelCountMode(){return p.channelCountMode},set channelCountMode(C){_.channelCountMode=C,y.channelCountMode=C,p.channelCountMode=C,v.channelCountMode=C,m.channelCountMode=C,S.channelCountMode=C},get channelInterpretation(){return p.channelInterpretation},set channelInterpretation(C){_.channelInterpretation=C,y.channelInterpretation=C,p.channelInterpretation=C,v.channelInterpretation=C,m.channelInterpretation=C,S.channelInterpretation=C},get context(){return p.context},get curve(){return T},set curve(C){if(C!==null&&C.length<2)throw n();if(C===null)p.curve=C,m.curve=C;else{const j=C.length,z=new Float32Array(j+2-j%2),R=new Float32Array(j+2-j%2);z[0]=C[0],R[0]=-C[j-1];const V=Math.ceil((j+1)/2),P=(j+1)/2-1;for(let et=1;et<V;et+=1){const D=et/V*P,X=Math.floor(D),w=Math.ceil(D);z[et]=X===w?C[X]:(1-(D-X))*C[X]+(1-(w-D))*C[w],R[et]=X===w?-C[j-1-X]:-((1-(D-X))*C[j-1-X])-(1-(w-D))*C[j-1-w]}z[V]=j%2===1?C[V-1]:(C[V-2]+C[V-1])/2,p.curve=z,m.curve=R}T=C,x&&(r(T)&&b===null?b=u(l,_):b!==null&&(b(),b=null))},get inputs(){return[_]},get numberOfInputs(){return p.numberOfInputs},get numberOfOutputs(){return p.numberOfOutputs},get oversample(){return p.oversample},set oversample(C){p.oversample=C,m.oversample=C},addEventListener(...C){return _.addEventListener(C[0],C[1],C[2])},dispatchEvent(...C){return _.dispatchEvent(C[0])},removeEventListener(...C){return _.removeEventListener(C[0],C[1],C[2])}};h!==null&&(N.curve=h instanceof Float32Array?h:new Float32Array(h)),c!==N.oversample&&(N.oversample=c);const O=()=>{_.connect(p).connect(v),_.connect(y).connect(m).connect(S).connect(v),x=!0,r(T)&&(b=u(l,_))},E=()=>{_.disconnect(p),p.disconnect(v),_.disconnect(y),y.disconnect(m),m.disconnect(S),S.disconnect(v),x=!1,b!==null&&(b(),b=null)};return o(Lr(N,v),O,E)},rn=()=>new DOMException("","NotSupportedError"),RS={numberOfChannels:1},zS=(u,n,i,r,o)=>class extends u{constructor(h,c,d){let p;if(typeof h=="number"&&c!==void 0&&d!==void 0)p={length:c,numberOfChannels:h,sampleRate:d};else if(typeof h=="object")p=h;else throw new Error("The given parameters are not valid.");const{length:m,numberOfChannels:_,sampleRate:y}={...RS,...p},v=r(_,m,y);n(Wa,()=>Wa(v))||v.addEventListener("statechange",(()=>{let S=0;const b=x=>{this._state==="running"&&(S>0?(v.removeEventListener("statechange",b),x.stopImmediatePropagation(),this._waitForThePromiseToSettle(x)):S+=1)};return b})()),super(v,_),this._length=m,this._nativeOfflineAudioContext=v,this._state=null}get length(){return this._nativeOfflineAudioContext.length===void 0?this._length:this._nativeOfflineAudioContext.length}get state(){return this._state===null?this._nativeOfflineAudioContext.state:this._state}startRendering(){return this._state==="running"?Promise.reject(i()):(this._state="running",o(this.destination,this._nativeOfflineAudioContext).finally(()=>{this._state=null,$_(this)}))}_waitForThePromiseToSettle(h){this._state===null?this._nativeOfflineAudioContext.dispatchEvent(h):setTimeout(()=>this._waitForThePromiseToSettle(h))}},jS={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",detune:0,frequency:440,periodicWave:void 0,type:"sine"},US=(u,n,i,r,o,l,h)=>class extends u{constructor(d,p){const m=o(d),_={...jS,...p},y=i(m,_),v=l(m),S=v?r():null,b=d.sampleRate/2;super(d,!1,y,S),this._detune=n(this,v,y.detune,153600,-153600),this._frequency=n(this,v,y.frequency,b,-b),this._nativeOscillatorNode=y,this._onended=null,this._oscillatorNodeRenderer=S,this._oscillatorNodeRenderer!==null&&_.periodicWave!==void 0&&(this._oscillatorNodeRenderer.periodicWave=_.periodicWave)}get detune(){return this._detune}get frequency(){return this._frequency}get onended(){return this._onended}set onended(d){const p=typeof d=="function"?h(this,d):null;this._nativeOscillatorNode.onended=p;const m=this._nativeOscillatorNode.onended;this._onended=m!==null&&m===p?d:m}get type(){return this._nativeOscillatorNode.type}set type(d){this._nativeOscillatorNode.type=d,this._oscillatorNodeRenderer!==null&&(this._oscillatorNodeRenderer.periodicWave=null)}setPeriodicWave(d){this._nativeOscillatorNode.setPeriodicWave(d),this._oscillatorNodeRenderer!==null&&(this._oscillatorNodeRenderer.periodicWave=d)}start(d=0){if(this._nativeOscillatorNode.start(d),this._oscillatorNodeRenderer!==null&&(this._oscillatorNodeRenderer.start=d),this.context.state!=="closed"){Dr(this);const p=()=>{this._nativeOscillatorNode.removeEventListener("ended",p),xi(this)&&Ja(this)};this._nativeOscillatorNode.addEventListener("ended",p)}}stop(d=0){this._nativeOscillatorNode.stop(d),this._oscillatorNodeRenderer!==null&&(this._oscillatorNodeRenderer.stop=d)}},BS=(u,n,i,r,o)=>()=>{const l=new WeakMap;let h=null,c=null,d=null;const p=async(m,_)=>{let y=i(m);const v=$e(y,_);if(!v){const S={channelCount:y.channelCount,channelCountMode:y.channelCountMode,channelInterpretation:y.channelInterpretation,detune:y.detune.value,frequency:y.frequency.value,periodicWave:h===null?void 0:h,type:y.type};y=n(_,S),c!==null&&y.start(c),d!==null&&y.stop(d)}return l.set(_,y),v?(await u(_,m.detune,y.detune),await u(_,m.frequency,y.frequency)):(await r(_,m.detune,y.detune),await r(_,m.frequency,y.frequency)),await o(m,_,y),y};return{set periodicWave(m){h=m},set start(m){c=m},set stop(m){d=m},render(m,_){const y=l.get(_);return y!==void 0?Promise.resolve(y):p(m,_)}}},IS={channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",coneInnerAngle:360,coneOuterAngle:360,coneOuterGain:0,distanceModel:"inverse",maxDistance:1e4,orientationX:1,orientationY:0,orientationZ:0,panningModel:"equalpower",positionX:0,positionY:0,positionZ:0,refDistance:1,rolloffFactor:1},qS=(u,n,i,r,o,l,h)=>class extends u{constructor(d,p){const m=o(d),_={...IS,...p},y=i(m,_),v=l(m),S=v?r():null;super(d,!1,y,S),this._nativePannerNode=y,this._orientationX=n(this,v,y.orientationX,nn,hn),this._orientationY=n(this,v,y.orientationY,nn,hn),this._orientationZ=n(this,v,y.orientationZ,nn,hn),this._positionX=n(this,v,y.positionX,nn,hn),this._positionY=n(this,v,y.positionY,nn,hn),this._positionZ=n(this,v,y.positionZ,nn,hn),h(this,1)}get coneInnerAngle(){return this._nativePannerNode.coneInnerAngle}set coneInnerAngle(d){this._nativePannerNode.coneInnerAngle=d}get coneOuterAngle(){return this._nativePannerNode.coneOuterAngle}set coneOuterAngle(d){this._nativePannerNode.coneOuterAngle=d}get coneOuterGain(){return this._nativePannerNode.coneOuterGain}set coneOuterGain(d){this._nativePannerNode.coneOuterGain=d}get distanceModel(){return this._nativePannerNode.distanceModel}set distanceModel(d){this._nativePannerNode.distanceModel=d}get maxDistance(){return this._nativePannerNode.maxDistance}set maxDistance(d){this._nativePannerNode.maxDistance=d}get orientationX(){return this._orientationX}get orientationY(){return this._orientationY}get orientationZ(){return this._orientationZ}get panningModel(){return this._nativePannerNode.panningModel}set panningModel(d){this._nativePannerNode.panningModel=d}get positionX(){return this._positionX}get positionY(){return this._positionY}get positionZ(){return this._positionZ}get refDistance(){return this._nativePannerNode.refDistance}set refDistance(d){this._nativePannerNode.refDistance=d}get rolloffFactor(){return this._nativePannerNode.rolloffFactor}set rolloffFactor(d){this._nativePannerNode.rolloffFactor=d}},VS=(u,n,i,r,o,l,h,c,d,p)=>()=>{const m=new WeakMap;let _=null;const y=async(v,S)=>{let b=null,x=l(v);const T={channelCount:x.channelCount,channelCountMode:x.channelCountMode,channelInterpretation:x.channelInterpretation},N={...T,coneInnerAngle:x.coneInnerAngle,coneOuterAngle:x.coneOuterAngle,coneOuterGain:x.coneOuterGain,distanceModel:x.distanceModel,maxDistance:x.maxDistance,panningModel:x.panningModel,refDistance:x.refDistance,rolloffFactor:x.rolloffFactor},O=$e(x,S);if("bufferSize"in x)b=r(S,{...T,gain:1});else if(!O){const E={...N,orientationX:x.orientationX.value,orientationY:x.orientationY.value,orientationZ:x.orientationZ.value,positionX:x.positionX.value,positionY:x.positionY.value,positionZ:x.positionZ.value};x=o(S,E)}if(m.set(S,b===null?x:b),b!==null){if(_===null){if(h===null)throw new Error("Missing the native OfflineAudioContext constructor.");const et=new h(6,v.context.length,S.sampleRate),D=n(et,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:6});D.connect(et.destination),_=(async()=>{const X=await Promise.all([v.orientationX,v.orientationY,v.orientationZ,v.positionX,v.positionY,v.positionZ].map(async(w,J)=>{const G=i(et,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:J===0?1:0});return await c(et,w,G.offset),G}));for(let w=0;w<6;w+=1)X[w].connect(D,0,w),X[w].start(0);return p(et)})()}const E=await _,C=r(S,{...T,gain:1});await d(v,S,C);const j=[];for(let et=0;et<E.numberOfChannels;et+=1)j.push(E.getChannelData(et));let z=[j[0][0],j[1][0],j[2][0]],R=[j[3][0],j[4][0],j[5][0]],V=r(S,{...T,gain:1}),P=o(S,{...N,orientationX:z[0],orientationY:z[1],orientationZ:z[2],positionX:R[0],positionY:R[1],positionZ:R[2]});C.connect(V).connect(P.inputs[0]),P.connect(b);for(let et=128;et<E.length;et+=128){const D=[j[0][et],j[1][et],j[2][et]],X=[j[3][et],j[4][et],j[5][et]];if(D.some((w,J)=>w!==z[J])||X.some((w,J)=>w!==R[J])){z=D,R=X;const w=et/S.sampleRate;V.gain.setValueAtTime(0,w),V=r(S,{...T,gain:0}),P=o(S,{...N,orientationX:z[0],orientationY:z[1],orientationZ:z[2],positionX:R[0],positionY:R[1],positionZ:R[2]}),V.gain.setValueAtTime(1,w),C.connect(V).connect(P.inputs[0]),P.connect(b)}}return b}return O?(await u(S,v.orientationX,x.orientationX),await u(S,v.orientationY,x.orientationY),await u(S,v.orientationZ,x.orientationZ),await u(S,v.positionX,x.positionX),await u(S,v.positionY,x.positionY),await u(S,v.positionZ,x.positionZ)):(await c(S,v.orientationX,x.orientationX),await c(S,v.orientationY,x.orientationY),await c(S,v.orientationZ,x.orientationZ),await c(S,v.positionX,x.positionX),await c(S,v.positionY,x.positionY),await c(S,v.positionZ,x.positionZ)),Vr(x)?await d(v,S,x.inputs[0]):await d(v,S,x),x};return{render(v,S){const b=m.get(S);return b!==void 0?Promise.resolve(b):y(v,S)}}},LS={disableNormalization:!1},FS=(u,n,i,r)=>class u0{constructor(l,h){const c=n(l),d=r({...LS,...h}),p=u(c,d);return i.add(p),p}static[Symbol.hasInstance](l){return l!==null&&typeof l=="object"&&Object.getPrototypeOf(l)===u0.prototype||i.has(l)}},HS=(u,n)=>(i,r,o)=>(u(r).replay(o),n(r,i,o)),GS=(u,n,i)=>async(r,o,l)=>{const h=u(r);await Promise.all(h.activeInputs.map((c,d)=>Array.from(c).map(async([p,m])=>{const y=await n(p).render(p,o),v=r.context.destination;!i(p)&&(r!==v||!i(r))&&y.connect(l,m,d)})).reduce((c,d)=>[...c,...d],[]))},ZS=(u,n,i)=>async(r,o,l)=>{const h=n(r);await Promise.all(Array.from(h.activeInputs).map(async([c,d])=>{const m=await u(c).render(c,o);i(c)||m.connect(l,d)}))},YS=(u,n,i,r)=>o=>u(Wa,()=>Wa(o))?Promise.resolve(u(r,r)).then(l=>{if(!l){const h=i(o,512,0,1);o.oncomplete=()=>{h.onaudioprocess=null,h.disconnect()},h.onaudioprocess=()=>o.currentTime,h.connect(o.destination)}return o.startRendering()}):new Promise(l=>{const h=n(o,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});o.oncomplete=c=>{h.disconnect(),l(c.renderedBuffer)},h.connect(o.destination),o.startRendering()}),PS=u=>(n,i)=>{u.set(n,i)},XS=u=>(n,i)=>u.set(n,i),WS=(u,n,i,r,o,l,h,c)=>(d,p)=>i(d).render(d,p).then(()=>Promise.all(Array.from(r(p)).map(m=>i(m).render(m,p)))).then(()=>o(p)).then(m=>(typeof m.copyFromChannel!="function"?(h(m),af(m)):n(l,()=>l(m))||c(m),u.add(m),m)),QS={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers",pan:0},KS=(u,n,i,r,o,l)=>class extends u{constructor(c,d){const p=o(c),m={...QS,...d},_=i(p,m),y=l(p),v=y?r():null;super(c,!1,_,v),this._pan=n(this,y,_.pan)}get pan(){return this._pan}},JS=(u,n,i,r,o)=>()=>{const l=new WeakMap,h=async(c,d)=>{let p=i(c);const m=$e(p,d);if(!m){const _={channelCount:p.channelCount,channelCountMode:p.channelCountMode,channelInterpretation:p.channelInterpretation,pan:p.pan.value};p=n(d,_)}return l.set(d,p),m?await u(d,c.pan,p.pan):await r(d,c.pan,p.pan),Vr(p)?await o(c,d,p.inputs[0]):await o(c,d,p),p};return{render(c,d){const p=l.get(d);return p!==void 0?Promise.resolve(p):h(c,d)}}},$S=u=>()=>{if(u===null)return!1;try{new u({length:1,sampleRate:44100})}catch{return!1}return!0},tx=(u,n)=>async()=>{if(u===null)return!0;if(n===null)return!1;const i=new Blob(['class A extends AudioWorkletProcessor{process(i){this.port.postMessage(i,[i[0][0].buffer])}}registerProcessor("a",A)'],{type:"application/javascript; charset=utf-8"}),r=new n(1,128,44100),o=URL.createObjectURL(i);let l=!1,h=!1;try{await r.audioWorklet.addModule(o);const c=new u(r,"a",{numberOfOutputs:0}),d=r.createOscillator();c.port.onmessage=()=>l=!0,c.onprocessorerror=()=>h=!0,d.connect(c),d.start(0),await r.startRendering(),await new Promise(p=>setTimeout(p))}catch{}finally{URL.revokeObjectURL(o)}return l&&!h},ex=(u,n)=>()=>{if(n===null)return Promise.resolve(!1);const i=new n(1,1,44100),r=u(i,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});return new Promise(o=>{i.oncomplete=()=>{r.disconnect(),o(i.currentTime!==0)},i.startRendering()})},nx=()=>new DOMException("","UnknownError"),ix={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",curve:null,oversample:"none"},sx=(u,n,i,r,o,l,h)=>class extends u{constructor(d,p){const m=o(d),_={...ix,...p},y=i(m,_),S=l(m)?r():null;super(d,!0,y,S),this._isCurveNullified=!1,this._nativeWaveShaperNode=y,h(this,1)}get curve(){return this._isCurveNullified?null:this._nativeWaveShaperNode.curve}set curve(d){if(d===null)this._isCurveNullified=!0,this._nativeWaveShaperNode.curve=new Float32Array([0,0]);else{if(d.length<2)throw n();this._isCurveNullified=!1,this._nativeWaveShaperNode.curve=d}}get oversample(){return this._nativeWaveShaperNode.oversample}set oversample(d){this._nativeWaveShaperNode.oversample=d}},rx=(u,n,i)=>()=>{const r=new WeakMap,o=async(l,h)=>{let c=n(l);if(!$e(c,h)){const p={channelCount:c.channelCount,channelCountMode:c.channelCountMode,channelInterpretation:c.channelInterpretation,curve:c.curve,oversample:c.oversample};c=u(h,p)}return r.set(h,c),Vr(c)?await i(l,h,c.inputs[0]):await i(l,h,c),c};return{render(l,h){const c=r.get(h);return c!==void 0?Promise.resolve(c):o(l,h)}}},ax=()=>typeof window>"u"?null:window,ox=(u,n)=>i=>{i.copyFromChannel=(r,o,l=0)=>{const h=u(l),c=u(o);if(c>=i.numberOfChannels)throw n();const d=i.length,p=i.getChannelData(c),m=r.length;for(let _=h<0?-h:0;_+h<d&&_<m;_+=1)r[_]=p[_+h]},i.copyToChannel=(r,o,l=0)=>{const h=u(l),c=u(o);if(c>=i.numberOfChannels)throw n();const d=i.length,p=i.getChannelData(c),m=r.length;for(let _=h<0?-h:0;_+h<d&&_<m;_+=1)p[_+h]=r[_]}},lx=u=>n=>{n.copyFromChannel=(i=>(r,o,l=0)=>{const h=u(l),c=u(o);if(h<n.length)return i.call(n,r,c,h)})(n.copyFromChannel),n.copyToChannel=(i=>(r,o,l=0)=>{const h=u(l),c=u(o);if(h<n.length)return i.call(n,r,c,h)})(n.copyToChannel)},ux=u=>(n,i)=>{const r=i.createBuffer(1,1,44100);n.buffer===null&&(n.buffer=r),u(n,"buffer",o=>()=>{const l=o.call(n);return l===r?null:l},o=>l=>o.call(n,l===null?r:l))},cx=(u,n)=>(i,r)=>{r.channelCount=1,r.channelCountMode="explicit",Object.defineProperty(r,"channelCount",{get:()=>1,set:()=>{throw u()}}),Object.defineProperty(r,"channelCountMode",{get:()=>"explicit",set:()=>{throw u()}});const o=i.createBufferSource();n(r,()=>{const c=r.numberOfInputs;for(let d=0;d<c;d+=1)o.connect(r,0,d)},()=>o.disconnect(r))},c0=(u,n,i)=>u.copyFromChannel===void 0?u.getChannelData(i)[0]:(u.copyFromChannel(n,i),n[0]),h0=u=>{if(u===null)return!1;const n=u.length;return n%2!==0?u[Math.floor(n/2)]!==0:u[n/2-1]+u[n/2]!==0},io=(u,n,i,r)=>{let o=u;for(;!o.hasOwnProperty(n);)o=Object.getPrototypeOf(o);const{get:l,set:h}=Object.getOwnPropertyDescriptor(o,n);Object.defineProperty(u,n,{get:i(l),set:r(h)})},hx=u=>({...u,outputChannelCount:u.outputChannelCount!==void 0?u.outputChannelCount:u.numberOfInputs===1&&u.numberOfOutputs===1?[u.channelCount]:Array.from({length:u.numberOfOutputs},()=>1)}),fx=u=>({...u,channelCount:u.numberOfOutputs}),dx=u=>{const{imag:n,real:i}=u;return n===void 0?i===void 0?{...u,imag:[0,0],real:[0,0]}:{...u,imag:Array.from(i,()=>0),real:i}:i===void 0?{...u,imag:n,real:Array.from(n,()=>0)}:{...u,imag:n,real:i}},f0=(u,n,i)=>{try{u.setValueAtTime(n,i)}catch(r){if(r.code!==9)throw r;f0(u,n,i+1e-7)}},px=u=>{const n=u.createBufferSource();n.start();try{n.start()}catch{return!0}return!1},mx=u=>{const n=u.createBufferSource(),i=u.createBuffer(1,1,44100);n.buffer=i;try{n.start(0,1)}catch{return!1}return!0},gx=u=>{const n=u.createBufferSource();n.start();try{n.stop()}catch{return!1}return!0},hf=u=>{const n=u.createOscillator();try{n.start(-1)}catch(i){return i instanceof RangeError}return!1},d0=u=>{const n=u.createBuffer(1,1,44100),i=u.createBufferSource();i.buffer=n,i.start(),i.stop();try{return i.stop(),!0}catch{return!1}},ff=u=>{const n=u.createOscillator();try{n.stop(-1)}catch(i){return i instanceof RangeError}return!1},_x=u=>{const{port1:n,port2:i}=new MessageChannel;try{n.postMessage(u)}finally{n.close(),i.close()}},vx=u=>{u.start=(n=>(i=0,r=0,o)=>{const l=u.buffer,h=l===null?r:Math.min(l.duration,r);l!==null&&h>l.duration-.5/u.context.sampleRate?n.call(u,i,0,0):n.call(u,i,h,o)})(u.start)},p0=(u,n)=>{const i=n.createGain();u.connect(i);const r=(o=>()=>{o.call(u,i),u.removeEventListener("ended",r)})(u.disconnect);u.addEventListener("ended",r),Lr(u,i),u.stop=(o=>{let l=!1;return(h=0)=>{if(l)try{o.call(u,h)}catch{i.gain.setValueAtTime(0,h)}else o.call(u,h),l=!0}})(u.stop)},Fr=(u,n)=>i=>{const r={value:u};return Object.defineProperties(i,{currentTarget:r,target:r}),typeof n=="function"?n.call(u,i):n.handleEvent.call(u,i)},yx=q1(Bs),bx=Z1(Bs),Sx=i2(Hl),m0=new WeakMap,xx=S2(m0),Pn=Rb(new Map,new WeakMap),ei=ax(),g0=K2(Pn,ni),df=b2(sn),Ye=GS(sn,df,zs),Tx=Q1(g0,de,Ye),ce=w2(Fl),wi=wS(ei),ae=L2(wi),_0=new WeakMap,v0=d2(Fr),so=eS(ei),pf=B2(so),mf=I2(ei),y0=q2(ei),Qa=iS(ei),Ae=Sb(V1(Y_),G1(yx,bx,Rl,Sx,zl,sn,xx,Ka,de,Bs,xi,zs,Cl),Pn,D2(Yh,zl,sn,de,Xa,xi),ni,Gl,rn,$b(Rl,Yh,sn,de,Xa,ce,xi,ae),a2(_0,sn,Yn),v0,ce,pf,mf,y0,ae,Qa),wx=W1(Ae,Tx,ni,g0,ce,ae),gf=new WeakSet,$g=J2(ei),b0=Yb(new Uint32Array(1)),_f=ox(b0,ni),vf=lx(b0),S0=J1(gf,Pn,rn,$g,wi,$S($g),_f,vf),Zl=Y1(dn),x0=ZS(df,$a,zs),ii=Vb(x0),Hr=tS(Zl,Pn,px,mx,gx,hf,d0,ff,vx,ux(io),p0),si=HS(x2($a),x0),Ax=eb(ii,Hr,de,si,Ye),Xn=xb(L1(P_),_0,rf,Tb,R1,z1,j1,U1,B1,Hh,G_,so,f0),kx=tb(Ae,Ax,Xn,Le,Hr,ce,ae,Fr),Cx=cb(Ae,hb,ni,Le,nS(dn,io),ce,ae,Ye),Nx=Db(ii,o0,de,si,Ye),Is=XS(m0),Ex=Mb(Ae,Xn,Nx,Gl,o0,ce,ae,Is),as=W2(Bs,mf),Ox=cx(Le,as),os=cS(so,Ox),Mx=Ub(os,de,Ye),Dx=jb(Ae,Mx,os,ce,ae),Rx=qb(eo,de,Ye),zx=Ib(Ae,Rx,eo,ce,ae,fx),jx=dS(Zl,Hr,dn,as),Gr=fS(Zl,Pn,jx,hf,ff),Ux=Zb(ii,Gr,de,si,Ye),Bx=Gb(Ae,Xn,Ux,Gr,ce,ae,Fr),T0=pS(rn,io),Ix=Wb(T0,de,Ye),qx=Xb(Ae,Ix,T0,ce,ae,Is),Vx=n2(ii,l0,de,si,Ye),Lx=e2(Ae,Xn,Vx,l0,ce,ae,Is),w0=mS(rn),Fx=c2(ii,w0,de,si,Ye),Hx=u2(Ae,Xn,Fx,w0,rn,ce,ae,Is),Gx=v2(ii,dn,de,si,Ye),Zx=_2(Ae,Xn,Gx,dn,ce,ae),Yx=yS(Gl,Le,no,rn),Yl=YS(Pn,dn,no,ex(dn,wi)),Px=M2(Hr,de,wi,Ye,Yl),Xx=gS(Yx),Wx=E2(Ae,Xx,Px,ce,ae,Is),Qx=fb(Xn,os,Gr,no,rn,c0,ae,io),A0=new WeakMap,Kx=X2(Cx,Qx,v0,ae,A0,Fr),k0=AS(Zl,Pn,hf,d0,ff,p0),Jx=BS(ii,k0,de,si,Ye),$x=US(Ae,Xn,k0,Jx,ce,ae,Fr),C0=Fb(Hr),tT=DS(C0,Le,dn,h0,as),Pl=MS(C0,Le,tT,h0,as,so,io),eT=CS(Rl,Le,os,dn,no,Pl,rn,zl,c0,as),N0=kS(eT),nT=VS(ii,os,Gr,dn,N0,de,wi,si,Ye,Yl),iT=qS(Ae,Xn,N0,nT,ce,ae,Is),sT=NS(ni),rT=FS(sT,ce,new WeakSet,dx),aT=OS(os,eo,dn,Pl,rn,as),E0=ES(aT,rn),oT=JS(ii,E0,de,si,Ye),lT=KS(Ae,Xn,E0,oT,ce,ae),uT=rx(Pl,de,Ye),cT=sx(Ae,Le,Pl,uT,ce,ae,Is),O0=F2(ei),yf=p2(ei),M0=new WeakMap,hT=A2(M0,wi),fT=O0?H1(Pn,rn,f2(ei),yf,m2(I1),ce,hT,ae,Qa,new WeakMap,new WeakMap,tx(Qa,wi),ei):void 0,dT=V2(pf,ae),pT=Jb(gf,Pn,Kb,h2,new WeakSet,ce,dT,Ml,Wa,_f,vf),D0=Eb(fT,wx,S0,kx,Ex,Dx,zx,Bx,qx,pT,Lx,Hx,Zx,Wx,Kx,$x,iT,rT,lT,cT),mT=H2(Ae,bS,ce,ae),gT=Z2(Ae,SS,ce,ae),_T=Y2(Ae,xS,ce,ae),vT=TS(Le,ae),yT=P2(Ae,vT,ce),bT=ub(D0,Le,rn,nx,mT,gT,_T,yT,so),bf=k2(A0),ST=P1(bf),R0=Lb(ni),xT=s2(bf),z0=o2(ni),j0=new WeakMap,TT=y2(j0,Yn),wT=uS(R0,ni,Le,os,eo,Gr,dn,no,rn,z0,yf,TT,as),AT=rS(Le,wT,dn,rn,as),kT=Nb(ii,R0,Hr,os,eo,Gr,dn,xT,z0,yf,de,Qa,wi,si,Ye,Yl),CT=T2(M0),NT=PS(j0),t_=O0?Ab(ST,Ae,Xn,kT,AT,sn,CT,ce,ae,Qa,hx,NT,_x,Fr):void 0,ET=Qb(rn,wi),OT=WS(gf,Pn,df,bf,Yl,Ml,_f,vf),MT=zS(D0,Pn,Le,ET,OT),DT=R2(Fl,pf),RT=z2(sf,mf),zT=j2(rf,y0),jT=U2(Fl,ae);function Bn(u){return u===void 0}function Pt(u){return u!==void 0}function UT(u){return typeof u=="function"}function is(u){return typeof u=="number"}function Ds(u){return Object.prototype.toString.call(u)==="[object Object]"&&u.constructor===Object}function BT(u){return typeof u=="boolean"}function kn(u){return Array.isArray(u)}function Ti(u){return typeof u=="string"}function wl(u){return Ti(u)&&/^([a-g]{1}(?:b|#|x|bb)?)(-?[0-9]+)/i.test(u)}function Dt(u,n){if(!u)throw new Error(n)}function ss(u,n,i=1/0){if(!(n<=u&&u<=i))throw new RangeError(`Value must be within [${n}, ${i}], got: ${u}`)}function U0(u){!u.isOffline&&u.state!=="running"&&Xl('The AudioContext is "suspended". Invoke Tone.start() from a user action to start the audio.')}let B0=!1,e_=!1;function n_(u){B0=u}function IT(u){Bn(u)&&B0&&!e_&&(e_=!0,Xl("Events scheduled inside of scheduled callbacks should use the passed in scheduling time. See https://github.com/Tonejs/Tone.js/wiki/Accurate-Timing"))}let I0=console;function qT(...u){I0.log(...u)}function Xl(...u){I0.warn(...u)}function VT(u){return new bT(u)}function LT(u,n,i){return new MT(u,n,i)}const wn=typeof self=="object"?self:null,FT=wn&&(wn.hasOwnProperty("AudioContext")||wn.hasOwnProperty("webkitAudioContext"));function HT(u,n,i){return Dt(Pt(t_),"AudioWorkletNode only works in a secure context (https or localhost)"),new(u instanceof wn?.BaseAudioContext?wn?.AudioWorkletNode:t_)(u,n,i)}function Wn(u,n,i,r){var o=arguments.length,l=o<3?n:r===null?r=Object.getOwnPropertyDescriptor(n,i):r,h;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")l=Reflect.decorate(u,n,i,r);else for(var c=u.length-1;c>=0;c--)(h=u[c])&&(l=(o<3?h(l):o>3?h(n,i,l):h(n,i))||l);return o>3&&l&&Object.defineProperty(n,i,l),l}function Oe(u,n,i,r){function o(l){return l instanceof i?l:new i(function(h){h(l)})}return new(i||(i=Promise))(function(l,h){function c(m){try{p(r.next(m))}catch(_){h(_)}}function d(m){try{p(r.throw(m))}catch(_){h(_)}}function p(m){m.done?l(m.value):o(m.value).then(c,d)}p((r=r.apply(u,n||[])).next())})}class GT{constructor(n,i,r,o){this._callback=n,this._type=i,this._minimumUpdateInterval=Math.max(128/(o||44100),.001),this.updateInterval=r,this._createClock()}_createWorker(){const n=new Blob([`
			// the initial timeout time
			let timeoutTime =  ${(this._updateInterval*1e3).toFixed(1)};
			// onmessage callback
			self.onmessage = function(msg){
				timeoutTime = parseInt(msg.data);
			};
			// the tick function which posts a message
			// and schedules a new tick
			function tick(){
				setTimeout(tick, timeoutTime);
				self.postMessage('tick');
			}
			// call tick initially
			tick();
			`],{type:"text/javascript"}),i=URL.createObjectURL(n),r=new Worker(i);r.onmessage=this._callback.bind(this),this._worker=r}_createTimeout(){this._timeout=setTimeout(()=>{this._createTimeout(),this._callback()},this._updateInterval*1e3)}_createClock(){if(this._type==="worker")try{this._createWorker()}catch{this._type="timeout",this._createClock()}else this._type==="timeout"&&this._createTimeout()}_disposeClock(){this._timeout&&clearTimeout(this._timeout),this._worker&&(this._worker.terminate(),this._worker.onmessage=null)}get updateInterval(){return this._updateInterval}set updateInterval(n){var i;this._updateInterval=Math.max(n,this._minimumUpdateInterval),this._type==="worker"&&((i=this._worker)===null||i===void 0||i.postMessage(this._updateInterval*1e3))}get type(){return this._type}set type(n){this._disposeClock(),this._type=n,this._createClock()}dispose(){this._disposeClock()}}function js(u){return zT(u)}function ns(u){return RT(u)}function Nl(u){return jT(u)}function kr(u){return DT(u)}function ZT(u){return u instanceof S0}function YT(u,n){return u==="value"||js(n)||ns(n)||ZT(n)}function Rs(u,...n){if(!n.length)return u;const i=n.shift();if(Ds(u)&&Ds(i))for(const r in i)YT(r,i[r])?u[r]=i[r]:Ds(i[r])?(u[r]||Object.assign(u,{[r]:{}}),Rs(u[r],i[r])):Object.assign(u,{[r]:i[r]});return Rs(u,...n)}function PT(u,n){return u.length===n.length&&u.every((i,r)=>n[r]===i)}function Bt(u,n,i=[],r){const o={},l=Array.from(n);if(Ds(l[0])&&r&&!Reflect.has(l[0],r)&&(Object.keys(l[0]).some(c=>Reflect.has(u,c))||(Rs(o,{[r]:l[0]}),i.splice(i.indexOf(r),1),l.shift())),l.length===1&&Ds(l[0]))Rs(o,l[0]);else for(let h=0;h<i.length;h++)Pt(l[h])&&(o[i[h]]=l[h]);return Rs(u,o)}function XT(u){return u.constructor.getDefaults()}function Or(u,n){return Bn(u)?n:u}function Kh(u,n){return n.forEach(i=>{Reflect.has(u,i)&&delete u[i]}),u}/**
 * Tone.js
 * @author Yotam Mann
 * @license http://opensource.org/licenses/MIT MIT License
 * @copyright 2014-2024 Yotam Mann
 */class Ai{constructor(){this.debug=!1,this._wasDisposed=!1}static getDefaults(){return{}}log(...n){(this.debug||wn&&this.toString()===wn.TONE_DEBUG_CLASS)&&qT(this,...n)}dispose(){return this._wasDisposed=!0,this}get disposed(){return this._wasDisposed}toString(){return this.name}}Ai.version=H_;const Sf=1e-6;function Rr(u,n){return u>n+Sf}function Jh(u,n){return Rr(u,n)||Hn(u,n)}function Il(u,n){return u+Sf<n}function Hn(u,n){return Math.abs(u-n)<Sf}function WT(u,n,i){return Math.max(Math.min(u,i),n)}class In extends Ai{constructor(){super(),this.name="Timeline",this._timeline=[];const n=Bt(In.getDefaults(),arguments,["memory"]);this.memory=n.memory,this.increasing=n.increasing}static getDefaults(){return{memory:1/0,increasing:!1}}get length(){return this._timeline.length}add(n){if(Dt(Reflect.has(n,"time"),"Timeline: events must have a time attribute"),n.time=n.time.valueOf(),this.increasing&&this.length){const i=this._timeline[this.length-1];Dt(Jh(n.time,i.time),"The time must be greater than or equal to the last scheduled time"),this._timeline.push(n)}else{const i=this._search(n.time);this._timeline.splice(i+1,0,n)}if(this.length>this.memory){const i=this.length-this.memory;this._timeline.splice(0,i)}return this}remove(n){const i=this._timeline.indexOf(n);return i!==-1&&this._timeline.splice(i,1),this}get(n,i="time"){const r=this._search(n,i);return r!==-1?this._timeline[r]:null}peek(){return this._timeline[0]}shift(){return this._timeline.shift()}getAfter(n,i="time"){const r=this._search(n,i);return r+1<this._timeline.length?this._timeline[r+1]:null}getBefore(n){const i=this._timeline.length;if(i>0&&this._timeline[i-1].time<n)return this._timeline[i-1];const r=this._search(n);return r-1>=0?this._timeline[r-1]:null}cancel(n){if(this._timeline.length>1){let i=this._search(n);if(i>=0)if(Hn(this._timeline[i].time,n)){for(let r=i;r>=0&&Hn(this._timeline[r].time,n);r--)i=r;this._timeline=this._timeline.slice(0,i)}else this._timeline=this._timeline.slice(0,i+1);else this._timeline=[]}else this._timeline.length===1&&Jh(this._timeline[0].time,n)&&(this._timeline=[]);return this}cancelBefore(n){const i=this._search(n);return i>=0&&(this._timeline=this._timeline.slice(i+1)),this}previousEvent(n){const i=this._timeline.indexOf(n);return i>0?this._timeline[i-1]:null}_search(n,i="time"){if(this._timeline.length===0)return-1;let r=0;const o=this._timeline.length;let l=o;if(o>0&&this._timeline[o-1][i]<=n)return o-1;for(;r<l;){let h=Math.floor(r+(l-r)/2);const c=this._timeline[h],d=this._timeline[h+1];if(Hn(c[i],n)){for(let p=h;p<this._timeline.length;p++){const m=this._timeline[p];if(Hn(m[i],n))h=p;else break}return h}else{if(Il(c[i],n)&&Rr(d[i],n))return h;Rr(c[i],n)?l=h:r=h+1}}return-1}_iterate(n,i=0,r=this._timeline.length-1){this._timeline.slice(i,r+1).forEach(n)}forEach(n){return this._iterate(n),this}forEachBefore(n,i){const r=this._search(n);return r!==-1&&this._iterate(i,0,r),this}forEachAfter(n,i){const r=this._search(n);return this._iterate(i,r+1),this}forEachBetween(n,i,r){let o=this._search(n),l=this._search(i);return o!==-1&&l!==-1?(this._timeline[o].time!==n&&(o+=1),this._timeline[l].time===i&&(l-=1),this._iterate(r,o,l)):o===-1&&this._iterate(r,0,l),this}forEachFrom(n,i){let r=this._search(n);for(;r>=0&&this._timeline[r].time>=n;)r--;return this._iterate(i,r+1),this}forEachAtTime(n,i){const r=this._search(n);if(r!==-1&&Hn(this._timeline[r].time,n)){let o=r;for(let l=r;l>=0&&Hn(this._timeline[l].time,n);l--)o=l;this._iterate(l=>{i(l)},o,r)}return this}dispose(){return super.dispose(),this._timeline=[],this}}const q0=[];function Wl(u){q0.push(u)}function QT(u){q0.forEach(n=>n(u))}const V0=[];function Ql(u){V0.push(u)}function KT(u){V0.forEach(n=>n(u))}class ro extends Ai{constructor(){super(...arguments),this.name="Emitter"}on(n,i){return n.split(/\W+/).forEach(o=>{Bn(this._events)&&(this._events={}),this._events.hasOwnProperty(o)||(this._events[o]=[]),this._events[o].push(i)}),this}once(n,i){const r=(...o)=>{i(...o),this.off(n,r)};return this.on(n,r),this}off(n,i){return n.split(/\W+/).forEach(o=>{if(Bn(this._events)&&(this._events={}),this._events.hasOwnProperty(o))if(Bn(i))this._events[o]=[];else{const l=this._events[o];for(let h=l.length-1;h>=0;h--)l[h]===i&&l.splice(h,1)}}),this}emit(n,...i){if(this._events&&this._events.hasOwnProperty(n)){const r=this._events[n].slice(0);for(let o=0,l=r.length;o<l;o++)r[o].apply(this,i)}return this}static mixin(n){["on","once","off","emit"].forEach(i=>{const r=Object.getOwnPropertyDescriptor(ro.prototype,i);Object.defineProperty(n.prototype,i,r)})}dispose(){return super.dispose(),this._events=void 0,this}}class L0 extends ro{constructor(){super(...arguments),this.isOffline=!1}toJSON(){return{}}}class ao extends L0{constructor(){var n,i;super(),this.name="Context",this._constants=new Map,this._timeouts=new In,this._timeoutIds=0,this._initialized=!1,this._closeStarted=!1,this.isOffline=!1,this._workletPromise=null;const r=Bt(ao.getDefaults(),arguments,["context"]);r.context?(this._context=r.context,this._latencyHint=((n=arguments[0])===null||n===void 0?void 0:n.latencyHint)||""):(this._context=VT({latencyHint:r.latencyHint}),this._latencyHint=r.latencyHint),this._ticker=new GT(this.emit.bind(this,"tick"),r.clockSource,r.updateInterval,this._context.sampleRate),this.on("tick",this._timeoutLoop.bind(this)),this._context.onstatechange=()=>{this.emit("statechange",this.state)},this[!((i=arguments[0])===null||i===void 0)&&i.hasOwnProperty("updateInterval")?"_lookAhead":"lookAhead"]=r.lookAhead}static getDefaults(){return{clockSource:"worker",latencyHint:"interactive",lookAhead:.1,updateInterval:.05}}initialize(){return this._initialized||(QT(this),this._initialized=!0),this}createAnalyser(){return this._context.createAnalyser()}createOscillator(){return this._context.createOscillator()}createBufferSource(){return this._context.createBufferSource()}createBiquadFilter(){return this._context.createBiquadFilter()}createBuffer(n,i,r){return this._context.createBuffer(n,i,r)}createChannelMerger(n){return this._context.createChannelMerger(n)}createChannelSplitter(n){return this._context.createChannelSplitter(n)}createConstantSource(){return this._context.createConstantSource()}createConvolver(){return this._context.createConvolver()}createDelay(n){return this._context.createDelay(n)}createDynamicsCompressor(){return this._context.createDynamicsCompressor()}createGain(){return this._context.createGain()}createIIRFilter(n,i){return this._context.createIIRFilter(n,i)}createPanner(){return this._context.createPanner()}createPeriodicWave(n,i,r){return this._context.createPeriodicWave(n,i,r)}createStereoPanner(){return this._context.createStereoPanner()}createWaveShaper(){return this._context.createWaveShaper()}createMediaStreamSource(n){return Dt(kr(this._context),"Not available if OfflineAudioContext"),this._context.createMediaStreamSource(n)}createMediaElementSource(n){return Dt(kr(this._context),"Not available if OfflineAudioContext"),this._context.createMediaElementSource(n)}createMediaStreamDestination(){return Dt(kr(this._context),"Not available if OfflineAudioContext"),this._context.createMediaStreamDestination()}decodeAudioData(n){return this._context.decodeAudioData(n)}get currentTime(){return this._context.currentTime}get state(){return this._context.state}get sampleRate(){return this._context.sampleRate}get listener(){return this.initialize(),this._listener}set listener(n){Dt(!this._initialized,"The listener cannot be set after initialization."),this._listener=n}get transport(){return this.initialize(),this._transport}set transport(n){Dt(!this._initialized,"The transport cannot be set after initialization."),this._transport=n}get draw(){return this.initialize(),this._draw}set draw(n){Dt(!this._initialized,"Draw cannot be set after initialization."),this._draw=n}get destination(){return this.initialize(),this._destination}set destination(n){Dt(!this._initialized,"The destination cannot be set after initialization."),this._destination=n}createAudioWorkletNode(n,i){return HT(this.rawContext,n,i)}addAudioWorkletModule(n){return Oe(this,void 0,void 0,function*(){Dt(Pt(this.rawContext.audioWorklet),"AudioWorkletNode is only available in a secure context (https or localhost)"),this._workletPromise||(this._workletPromise=this.rawContext.audioWorklet.addModule(n)),yield this._workletPromise})}workletsAreReady(){return Oe(this,void 0,void 0,function*(){(yield this._workletPromise)?this._workletPromise:Promise.resolve()})}get updateInterval(){return this._ticker.updateInterval}set updateInterval(n){this._ticker.updateInterval=n}get clockSource(){return this._ticker.type}set clockSource(n){this._ticker.type=n}get lookAhead(){return this._lookAhead}set lookAhead(n){this._lookAhead=n,this.updateInterval=n?n/2:.01}get latencyHint(){return this._latencyHint}get rawContext(){return this._context}now(){return this._context.currentTime+this._lookAhead}immediate(){return this._context.currentTime}resume(){return kr(this._context)?this._context.resume():Promise.resolve()}close(){return Oe(this,void 0,void 0,function*(){kr(this._context)&&this.state!=="closed"&&!this._closeStarted&&(this._closeStarted=!0,yield this._context.close()),this._initialized&&KT(this)})}getConstant(n){if(this._constants.has(n))return this._constants.get(n);{const i=this._context.createBuffer(1,128,this._context.sampleRate),r=i.getChannelData(0);for(let l=0;l<r.length;l++)r[l]=n;const o=this._context.createBufferSource();return o.channelCount=1,o.channelCountMode="explicit",o.buffer=i,o.loop=!0,o.start(0),this._constants.set(n,o),o}}dispose(){return super.dispose(),this._ticker.dispose(),this._timeouts.dispose(),Object.keys(this._constants).map(n=>this._constants[n].disconnect()),this.close(),this}_timeoutLoop(){const n=this.now();this._timeouts.forEachBefore(n,i=>{i.callback(),this._timeouts.remove(i)})}setTimeout(n,i){this._timeoutIds++;const r=this.now();return this._timeouts.add({callback:n,id:this._timeoutIds,time:r+i}),this._timeoutIds}clearTimeout(n){return this._timeouts.forEach(i=>{i.id===n&&this._timeouts.remove(i)}),this}clearInterval(n){return this.clearTimeout(n)}setInterval(n,i){const r=++this._timeoutIds,o=()=>{const l=this.now();this._timeouts.add({callback:()=>{n(),o()},id:r,time:l+i})};return o(),r}}class JT extends L0{constructor(){super(...arguments),this.lookAhead=0,this.latencyHint=0,this.isOffline=!1}createAnalyser(){return{}}createOscillator(){return{}}createBufferSource(){return{}}createBiquadFilter(){return{}}createBuffer(n,i,r){return{}}createChannelMerger(n){return{}}createChannelSplitter(n){return{}}createConstantSource(){return{}}createConvolver(){return{}}createDelay(n){return{}}createDynamicsCompressor(){return{}}createGain(){return{}}createIIRFilter(n,i){return{}}createPanner(){return{}}createPeriodicWave(n,i,r){return{}}createStereoPanner(){return{}}createWaveShaper(){return{}}createMediaStreamSource(n){return{}}createMediaElementSource(n){return{}}createMediaStreamDestination(){return{}}decodeAudioData(n){return Promise.resolve({})}createAudioWorkletNode(n,i){return{}}get rawContext(){return{}}addAudioWorkletModule(n){return Oe(this,void 0,void 0,function*(){return Promise.resolve()})}resume(){return Promise.resolve()}setTimeout(n,i){return 0}clearTimeout(n){return this}setInterval(n,i){return 0}clearInterval(n){return this}getConstant(n){return{}}get currentTime(){return 0}get state(){return{}}get sampleRate(){return 0}get listener(){return{}}get transport(){return{}}get draw(){return{}}set draw(n){}get destination(){return{}}set destination(n){}now(){return 0}immediate(){return 0}}function xe(u,n){kn(n)?n.forEach(i=>xe(u,i)):Object.defineProperty(u,n,{enumerable:!0,writable:!1})}function F0(u,n){kn(n)?n.forEach(i=>F0(u,i)):Object.defineProperty(u,n,{writable:!0})}const re=()=>{};class fe extends Ai{constructor(){super(),this.name="ToneAudioBuffer",this.onload=re;const n=Bt(fe.getDefaults(),arguments,["url","onload","onerror"]);this.reverse=n.reverse,this.onload=n.onload,Ti(n.url)?this.load(n.url).catch(n.onerror):n.url&&this.set(n.url)}static getDefaults(){return{onerror:re,onload:re,reverse:!1}}get sampleRate(){return this._buffer?this._buffer.sampleRate:Gn().sampleRate}set(n){return n instanceof fe?n.loaded?this._buffer=n.get():n.onload=()=>{this.set(n),this.onload(this)}:this._buffer=n,this._reversed&&this._reverse(),this}get(){return this._buffer}load(n){return Oe(this,void 0,void 0,function*(){const i=fe.load(n).then(r=>{this.set(r),this.onload(this)});fe.downloads.push(i);try{yield i}finally{const r=fe.downloads.indexOf(i);fe.downloads.splice(r,1)}return this})}dispose(){return super.dispose(),this._buffer=void 0,this}fromArray(n){const i=kn(n)&&n[0].length>0,r=i?n.length:1,o=i?n[0].length:n.length,l=Gn(),h=l.createBuffer(r,o,l.sampleRate),c=!i&&r===1?[n]:n;for(let d=0;d<r;d++)h.copyToChannel(c[d],d);return this._buffer=h,this}toMono(n){if(is(n))this.fromArray(this.toArray(n));else{let i=new Float32Array(this.length);const r=this.numberOfChannels;for(let o=0;o<r;o++){const l=this.toArray(o);for(let h=0;h<l.length;h++)i[h]+=l[h]}i=i.map(o=>o/r),this.fromArray(i)}return this}toArray(n){if(is(n))return this.getChannelData(n);if(this.numberOfChannels===1)return this.toArray(0);{const i=[];for(let r=0;r<this.numberOfChannels;r++)i[r]=this.getChannelData(r);return i}}getChannelData(n){return this._buffer?this._buffer.getChannelData(n):new Float32Array(0)}slice(n,i=this.duration){Dt(this.loaded,"Buffer is not loaded");const r=Math.floor(n*this.sampleRate),o=Math.floor(i*this.sampleRate);Dt(r<o,"The start time must be less than the end time");const l=o-r,h=Gn().createBuffer(this.numberOfChannels,l,this.sampleRate);for(let c=0;c<this.numberOfChannels;c++)h.copyToChannel(this.getChannelData(c).subarray(r,o),c);return new fe(h)}_reverse(){if(this.loaded)for(let n=0;n<this.numberOfChannels;n++)this.getChannelData(n).reverse();return this}get loaded(){return this.length>0}get duration(){return this._buffer?this._buffer.duration:0}get length(){return this._buffer?this._buffer.length:0}get numberOfChannels(){return this._buffer?this._buffer.numberOfChannels:0}get reverse(){return this._reversed}set reverse(n){this._reversed!==n&&(this._reversed=n,this._reverse())}static fromArray(n){return new fe().fromArray(n)}static fromUrl(n){return Oe(this,void 0,void 0,function*(){return yield new fe().load(n)})}static load(n){return Oe(this,void 0,void 0,function*(){const i=fe.baseUrl===""||fe.baseUrl.endsWith("/")?fe.baseUrl:fe.baseUrl+"/",r=yield fetch(i+n);if(!r.ok)throw new Error(`could not load url: ${n}`);const o=yield r.arrayBuffer();return yield Gn().decodeAudioData(o)})}static supportsType(n){const i=n.split("."),r=i[i.length-1];return document.createElement("audio").canPlayType("audio/"+r)!==""}static loaded(){return Oe(this,void 0,void 0,function*(){for(yield Promise.resolve();fe.downloads.length;)yield fe.downloads[0]})}}fe.baseUrl="";fe.downloads=[];class xf extends ao{constructor(){super({clockSource:"offline",context:Nl(arguments[0])?arguments[0]:LT(arguments[0],arguments[1]*arguments[2],arguments[2]),lookAhead:0,updateInterval:Nl(arguments[0])?128/arguments[0].sampleRate:128/arguments[2]}),this.name="OfflineContext",this._currentTime=0,this.isOffline=!0,this._duration=Nl(arguments[0])?arguments[0].length/arguments[0].sampleRate:arguments[1]}now(){return this._currentTime}get currentTime(){return this._currentTime}_renderClock(n){return Oe(this,void 0,void 0,function*(){let i=0;for(;this._duration-this._currentTime>=0;){this.emit("tick"),this._currentTime+=128/this.sampleRate,i++;const r=Math.floor(this.sampleRate/128);n&&i%r===0&&(yield new Promise(o=>setTimeout(o,1)))}})}render(){return Oe(this,arguments,void 0,function*(n=!0){yield this.workletsAreReady(),yield this._renderClock(n);const i=yield this._context.startRendering();return new fe(i)})}close(){return Promise.resolve()}}const H0=new JT;let Os=H0;function Gn(){return Os===H0&&FT&&$T(new ao),Os}function $T(u,n=!1){n&&Os.dispose(),kr(u)?Os=new ao(u):Nl(u)?Os=new xf(u):Os=u}function tw(){return Os.resume()}if(wn&&!wn.TONE_SILENCE_LOGGING){const n=` * Tone.js v${H_} * `;console.log(`%c${n}`,"background: #000; color: #fff")}function ew(u){return Math.pow(10,u/20)}function nw(u){return 20*(Math.log(u)/Math.LN10)}function G0(u){return Math.pow(2,u/12)}let Kl=440;function iw(){return Kl}function sw(u){Kl=u}function Ms(u){return Math.round(Z0(u))}function Z0(u){return 69+12*Math.log2(u/Kl)}function Y0(u){return Kl*Math.pow(2,(u-69)/12)}class Tf extends Ai{constructor(n,i,r){super(),this.defaultUnits="s",this._val=i,this._units=r,this.context=n,this._expressions=this._getExpressions()}_getExpressions(){return{hz:{method:n=>this._frequencyToUnits(parseFloat(n)),regexp:/^(\d+(?:\.\d+)?)hz$/i},i:{method:n=>this._ticksToUnits(parseInt(n,10)),regexp:/^(\d+)i$/i},m:{method:n=>this._beatsToUnits(parseInt(n,10)*this._getTimeSignature()),regexp:/^(\d+)m$/i},n:{method:(n,i)=>{const r=parseInt(n,10),o=i==="."?1.5:1;return r===1?this._beatsToUnits(this._getTimeSignature())*o:this._beatsToUnits(4/r)*o},regexp:/^(\d+)n(\.?)$/i},number:{method:n=>this._expressions[this.defaultUnits].method.call(this,n),regexp:/^(\d+(?:\.\d+)?)$/},s:{method:n=>this._secondsToUnits(parseFloat(n)),regexp:/^(\d+(?:\.\d+)?)s$/},samples:{method:n=>parseInt(n,10)/this.context.sampleRate,regexp:/^(\d+)samples$/},t:{method:n=>{const i=parseInt(n,10);return this._beatsToUnits(8/(Math.floor(i)*3))},regexp:/^(\d+)t$/i},tr:{method:(n,i,r)=>{let o=0;return n&&n!=="0"&&(o+=this._beatsToUnits(this._getTimeSignature()*parseFloat(n))),i&&i!=="0"&&(o+=this._beatsToUnits(parseFloat(i))),r&&r!=="0"&&(o+=this._beatsToUnits(parseFloat(r)/4)),o},regexp:/^(\d+(?:\.\d+)?):(\d+(?:\.\d+)?):?(\d+(?:\.\d+)?)?$/}}}valueOf(){if(this._val instanceof Tf&&this.fromType(this._val),Bn(this._val))return this._noArg();if(Ti(this._val)&&Bn(this._units)){for(const n in this._expressions)if(this._expressions[n].regexp.test(this._val.trim())){this._units=n;break}}else if(Ds(this._val)){let n=0;for(const i in this._val)if(Pt(this._val[i])){const r=this._val[i],o=new this.constructor(this.context,i).valueOf()*r;n+=o}return n}if(Pt(this._units)){const n=this._expressions[this._units],i=this._val.toString().trim().match(n.regexp);return i?n.method.apply(this,i.slice(1)):n.method.call(this,this._val)}else return Ti(this._val)?parseFloat(this._val):this._val}_frequencyToUnits(n){return 1/n}_beatsToUnits(n){return 60/this._getBpm()*n}_secondsToUnits(n){return n}_ticksToUnits(n){return n*this._beatsToUnits(1)/this._getPPQ()}_noArg(){return this._now()}_getBpm(){return this.context.transport.bpm.value}_getTimeSignature(){return this.context.transport.timeSignature}_getPPQ(){return this.context.transport.PPQ}fromType(n){switch(this._units=void 0,this.defaultUnits){case"s":this._val=n.toSeconds();break;case"i":this._val=n.toTicks();break;case"hz":this._val=n.toFrequency();break;case"midi":this._val=n.toMidi();break}return this}toFrequency(){return 1/this.toSeconds()}toSamples(){return this.toSeconds()*this.context.sampleRate}toMilliseconds(){return this.toSeconds()*1e3}}class Zn extends Tf{constructor(){super(...arguments),this.name="TimeClass"}_getExpressions(){return Object.assign(super._getExpressions(),{now:{method:n=>this._now()+new this.constructor(this.context,n).valueOf(),regexp:/^\+(.+)/},quantize:{method:n=>{const i=new Zn(this.context,n).valueOf();return this._secondsToUnits(this.context.transport.nextSubdivision(i))},regexp:/^@(.+)/}})}quantize(n,i=1){const r=new this.constructor(this.context,n).valueOf(),o=this.valueOf(),c=Math.round(o/r)*r-o;return o+c*i}toNotation(){const n=this.toSeconds(),i=["1m"];for(let l=1;l<9;l++){const h=Math.pow(2,l);i.push(h+"n."),i.push(h+"n"),i.push(h+"t")}i.push("0");let r=i[0],o=new Zn(this.context,i[0]).toSeconds();return i.forEach(l=>{const h=new Zn(this.context,l).toSeconds();Math.abs(h-n)<Math.abs(o-n)&&(r=l,o=h)}),r}toBarsBeatsSixteenths(){const n=this._beatsToUnits(1);let i=this.valueOf()/n;i=parseFloat(i.toFixed(4));const r=Math.floor(i/this._getTimeSignature());let o=i%1*4;i=Math.floor(i)%this._getTimeSignature();const l=o.toString();return l.length>3&&(o=parseFloat(parseFloat(l).toFixed(3))),[r,i,o].join(":")}toTicks(){const n=this._beatsToUnits(1);return this.valueOf()/n*this._getPPQ()}toSeconds(){return this.valueOf()}toMidi(){return Ms(this.toFrequency())}_now(){return this.context.now()}}class An extends Zn{constructor(){super(...arguments),this.name="Frequency",this.defaultUnits="hz"}static get A4(){return iw()}static set A4(n){sw(n)}_getExpressions(){return Object.assign({},super._getExpressions(),{midi:{regexp:/^(\d+(?:\.\d+)?midi)/,method(n){return this.defaultUnits==="midi"?n:An.mtof(n)}},note:{regexp:/^([a-g]{1}(?:b|#|##|x|bb|###|#x|x#|bbb)?)(-?[0-9]+)/i,method(n,i){const o=rw[n.toLowerCase()]+(parseInt(i,10)+1)*12;return this.defaultUnits==="midi"?o:An.mtof(o)}},tr:{regexp:/^(\d+(?:\.\d+)?):(\d+(?:\.\d+)?):?(\d+(?:\.\d+)?)?/,method(n,i,r){let o=1;return n&&n!=="0"&&(o*=this._beatsToUnits(this._getTimeSignature()*parseFloat(n))),i&&i!=="0"&&(o*=this._beatsToUnits(parseFloat(i))),r&&r!=="0"&&(o*=this._beatsToUnits(parseFloat(r)/4)),o}}})}transpose(n){return new An(this.context,this.valueOf()*G0(n))}harmonize(n){return n.map(i=>this.transpose(i))}toMidi(){return Ms(this.valueOf())}toNote(){const n=this.toFrequency(),i=Math.log2(n/An.A4);let r=Math.round(12*i)+57;const o=Math.floor(r/12);return o<0&&(r+=-12*o),aw[r%12]+o.toString()}toSeconds(){return 1/super.toSeconds()}toTicks(){const n=this._beatsToUnits(1),i=this.valueOf()/n;return Math.floor(i*this._getPPQ())}_noArg(){return 0}_frequencyToUnits(n){return n}_ticksToUnits(n){return 1/(n*60/(this._getBpm()*this._getPPQ()))}_beatsToUnits(n){return 1/super._beatsToUnits(n)}_secondsToUnits(n){return 1/n}static mtof(n){return Y0(n)}static ftom(n){return Ms(n)}}const rw={cbbb:-3,cbb:-2,cb:-1,c:0,"c#":1,cx:2,"c##":2,"c###":3,"cx#":3,"c#x":3,dbbb:-1,dbb:0,db:1,d:2,"d#":3,dx:4,"d##":4,"d###":5,"dx#":5,"d#x":5,ebbb:1,ebb:2,eb:3,e:4,"e#":5,ex:6,"e##":6,"e###":7,"ex#":7,"e#x":7,fbbb:2,fbb:3,fb:4,f:5,"f#":6,fx:7,"f##":7,"f###":8,"fx#":8,"f#x":8,gbbb:4,gbb:5,gb:6,g:7,"g#":8,gx:9,"g##":9,"g###":10,"gx#":10,"g#x":10,abbb:6,abb:7,ab:8,a:9,"a#":10,ax:11,"a##":11,"a###":12,"ax#":12,"a#x":12,bbbb:8,bbb:9,bb:10,b:11,"b#":12,bx:13,"b##":13,"b###":14,"bx#":14,"b#x":14},aw=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"];class Pa extends Zn{constructor(){super(...arguments),this.name="TransportTime"}_now(){return this.context.transport.seconds}}class fn extends Ai{constructor(){super();const n=Bt(fn.getDefaults(),arguments,["context"]);this.defaultContext?this.context=this.defaultContext:this.context=n.context}static getDefaults(){return{context:Gn()}}now(){return this.context.currentTime+this.context.lookAhead}immediate(){return this.context.currentTime}get sampleTime(){return 1/this.context.sampleRate}get blockTime(){return 128/this.context.sampleRate}toSeconds(n){return IT(n),new Zn(this.context,n).toSeconds()}toFrequency(n){return new An(this.context,n).toFrequency()}toTicks(n){return new Pa(this.context,n).toTicks()}_getPartialProperties(n){const i=this.get();return Object.keys(i).forEach(r=>{Bn(n[r])&&delete i[r]}),i}get(){const n=XT(this);return Object.keys(n).forEach(i=>{if(Reflect.has(this,i)){const r=this[i];Pt(r)&&Pt(r.value)&&Pt(r.setValueAtTime)?n[i]=r.value:r instanceof fn?n[i]=r._getPartialProperties(n[i]):kn(r)||is(r)||Ti(r)||BT(r)?n[i]=r:delete n[i]}}),n}set(n){return Object.keys(n).forEach(i=>{Reflect.has(this,i)&&Pt(this[i])&&(this[i]&&Pt(this[i].value)&&Pt(this[i].setValueAtTime)?this[i].value!==n[i]&&(this[i].value=n[i]):this[i]instanceof fn?this[i].set(n[i]):this[i]=n[i])}),this}}class wf extends In{constructor(n="stopped"){super(),this.name="StateTimeline",this._initial=n,this.setStateAtTime(this._initial,0)}getValueAtTime(n){const i=this.get(n);return i!==null?i.state:this._initial}setStateAtTime(n,i,r){return ss(i,0),this.add(Object.assign({},r,{state:n,time:i})),this}getLastState(n,i){const r=this._search(i);for(let o=r;o>=0;o--){const l=this._timeline[o];if(l.state===n)return l}}getNextState(n,i){const r=this._search(i);if(r!==-1)for(let o=r;o<this._timeline.length;o++){const l=this._timeline[o];if(l.state===n)return l}}}class _e extends fn{constructor(){const n=Bt(_e.getDefaults(),arguments,["param","units","convert"]);for(super(n),this.name="Param",this.overridden=!1,this._minOutput=1e-7,Dt(Pt(n.param)&&(js(n.param)||n.param instanceof _e),"param must be an AudioParam");!js(n.param);)n.param=n.param._param;this._swappable=Pt(n.swappable)?n.swappable:!1,this._swappable?(this.input=this.context.createGain(),this._param=n.param,this.input.connect(this._param)):this._param=this.input=n.param,this._events=new In(1e3),this._initialValue=this._param.defaultValue,this.units=n.units,this.convert=n.convert,this._minValue=n.minValue,this._maxValue=n.maxValue,Pt(n.value)&&n.value!==this._toType(this._initialValue)&&this.setValueAtTime(n.value,0)}static getDefaults(){return Object.assign(fn.getDefaults(),{convert:!0,units:"number"})}get value(){const n=this.now();return this.getValueAtTime(n)}set value(n){this.cancelScheduledValues(this.now()),this.setValueAtTime(n,this.now())}get minValue(){return Pt(this._minValue)?this._minValue:this.units==="time"||this.units==="frequency"||this.units==="normalRange"||this.units==="positive"||this.units==="transportTime"||this.units==="ticks"||this.units==="bpm"||this.units==="hertz"||this.units==="samples"?0:this.units==="audioRange"?-1:this.units==="decibels"?-1/0:this._param.minValue}get maxValue(){return Pt(this._maxValue)?this._maxValue:this.units==="normalRange"||this.units==="audioRange"?1:this._param.maxValue}_is(n,i){return this.units===i}_assertRange(n){return Pt(this.maxValue)&&Pt(this.minValue)&&ss(n,this._fromType(this.minValue),this._fromType(this.maxValue)),n}_fromType(n){return this.convert&&!this.overridden?this._is(n,"time")?this.toSeconds(n):this._is(n,"decibels")?ew(n):this._is(n,"frequency")?this.toFrequency(n):n:this.overridden?0:n}_toType(n){return this.convert&&this.units==="decibels"?nw(n):n}setValueAtTime(n,i){const r=this.toSeconds(i),o=this._fromType(n);return Dt(isFinite(o)&&isFinite(r),`Invalid argument(s) to setValueAtTime: ${JSON.stringify(n)}, ${JSON.stringify(i)}`),this._assertRange(o),this.log(this.units,"setValueAtTime",n,r),this._events.add({time:r,type:"setValueAtTime",value:o}),this._param.setValueAtTime(o,r),this}getValueAtTime(n){const i=Math.max(this.toSeconds(n),0),r=this._events.getAfter(i),o=this._events.get(i);let l=this._initialValue;if(o===null)l=this._initialValue;else if(o.type==="setTargetAtTime"&&(r===null||r.type==="setValueAtTime")){const h=this._events.getBefore(o.time);let c;h===null?c=this._initialValue:c=h.value,o.type==="setTargetAtTime"&&(l=this._exponentialApproach(o.time,c,o.value,o.constant,i))}else if(r===null)l=o.value;else if(r.type==="linearRampToValueAtTime"||r.type==="exponentialRampToValueAtTime"){let h=o.value;if(o.type==="setTargetAtTime"){const c=this._events.getBefore(o.time);c===null?h=this._initialValue:h=c.value}r.type==="linearRampToValueAtTime"?l=this._linearInterpolate(o.time,h,r.time,r.value,i):l=this._exponentialInterpolate(o.time,h,r.time,r.value,i)}else l=o.value;return this._toType(l)}setRampPoint(n){n=this.toSeconds(n);let i=this.getValueAtTime(n);return this.cancelAndHoldAtTime(n),this._fromType(i)===0&&(i=this._toType(this._minOutput)),this.setValueAtTime(i,n),this}linearRampToValueAtTime(n,i){const r=this._fromType(n),o=this.toSeconds(i);return Dt(isFinite(r)&&isFinite(o),`Invalid argument(s) to linearRampToValueAtTime: ${JSON.stringify(n)}, ${JSON.stringify(i)}`),this._assertRange(r),this._events.add({time:o,type:"linearRampToValueAtTime",value:r}),this.log(this.units,"linearRampToValueAtTime",n,o),this._param.linearRampToValueAtTime(r,o),this}exponentialRampToValueAtTime(n,i){let r=this._fromType(n);r=Hn(r,0)?this._minOutput:r,this._assertRange(r);const o=this.toSeconds(i);return Dt(isFinite(r)&&isFinite(o),`Invalid argument(s) to exponentialRampToValueAtTime: ${JSON.stringify(n)}, ${JSON.stringify(i)}`),this._events.add({time:o,type:"exponentialRampToValueAtTime",value:r}),this.log(this.units,"exponentialRampToValueAtTime",n,o),this._param.exponentialRampToValueAtTime(r,o),this}exponentialRampTo(n,i,r){return r=this.toSeconds(r),this.setRampPoint(r),this.exponentialRampToValueAtTime(n,r+this.toSeconds(i)),this}linearRampTo(n,i,r){return r=this.toSeconds(r),this.setRampPoint(r),this.linearRampToValueAtTime(n,r+this.toSeconds(i)),this}targetRampTo(n,i,r){return r=this.toSeconds(r),this.setRampPoint(r),this.exponentialApproachValueAtTime(n,r,i),this}exponentialApproachValueAtTime(n,i,r){i=this.toSeconds(i),r=this.toSeconds(r);const o=Math.log(r+1)/Math.log(200);return this.setTargetAtTime(n,i,o),this.cancelAndHoldAtTime(i+r*.9),this.linearRampToValueAtTime(n,i+r),this}setTargetAtTime(n,i,r){const o=this._fromType(n);Dt(isFinite(r)&&r>0,"timeConstant must be a number greater than 0");const l=this.toSeconds(i);return this._assertRange(o),Dt(isFinite(o)&&isFinite(l),`Invalid argument(s) to setTargetAtTime: ${JSON.stringify(n)}, ${JSON.stringify(i)}`),this._events.add({constant:r,time:l,type:"setTargetAtTime",value:o}),this.log(this.units,"setTargetAtTime",n,l,r),this._param.setTargetAtTime(o,l,r),this}setValueCurveAtTime(n,i,r,o=1){r=this.toSeconds(r),i=this.toSeconds(i);const l=this._fromType(n[0])*o;this.setValueAtTime(this._toType(l),i);const h=r/(n.length-1);for(let c=1;c<n.length;c++){const d=this._fromType(n[c])*o;this.linearRampToValueAtTime(this._toType(d),i+c*h)}return this}cancelScheduledValues(n){const i=this.toSeconds(n);return Dt(isFinite(i),`Invalid argument to cancelScheduledValues: ${JSON.stringify(n)}`),this._events.cancel(i),this._param.cancelScheduledValues(i),this.log(this.units,"cancelScheduledValues",i),this}cancelAndHoldAtTime(n){const i=this.toSeconds(n),r=this._fromType(this.getValueAtTime(i));Dt(isFinite(i),`Invalid argument to cancelAndHoldAtTime: ${JSON.stringify(n)}`),this.log(this.units,"cancelAndHoldAtTime",i,"value="+r);const o=this._events.get(i),l=this._events.getAfter(i);return o&&Hn(o.time,i)?l?(this._param.cancelScheduledValues(l.time),this._events.cancel(l.time)):(this._param.cancelAndHoldAtTime(i),this._events.cancel(i+this.sampleTime)):l&&(this._param.cancelScheduledValues(l.time),this._events.cancel(l.time),l.type==="linearRampToValueAtTime"?this.linearRampToValueAtTime(this._toType(r),i):l.type==="exponentialRampToValueAtTime"&&this.exponentialRampToValueAtTime(this._toType(r),i)),this._events.add({time:i,type:"setValueAtTime",value:r}),this._param.setValueAtTime(r,i),this}rampTo(n,i=.1,r){return this.units==="frequency"||this.units==="bpm"||this.units==="decibels"?this.exponentialRampTo(n,i,r):this.linearRampTo(n,i,r),this}apply(n){const i=this.context.currentTime;n.setValueAtTime(this.getValueAtTime(i),i);const r=this._events.get(i);if(r&&r.type==="setTargetAtTime"){const o=this._events.getAfter(r.time),l=o?o.time:i+2,h=(l-i)/10;for(let c=i;c<l;c+=h)n.linearRampToValueAtTime(this.getValueAtTime(c),c)}return this._events.forEachAfter(this.context.currentTime,o=>{o.type==="cancelScheduledValues"?n.cancelScheduledValues(o.time):o.type==="setTargetAtTime"?n.setTargetAtTime(o.value,o.time,o.constant):n[o.type](o.value,o.time)}),this}setParam(n){Dt(this._swappable,"The Param must be assigned as 'swappable' in the constructor");const i=this.input;return i.disconnect(this._param),this.apply(n),this._param=n,i.connect(this._param),this}dispose(){return super.dispose(),this._events.dispose(),this}get defaultValue(){return this._toType(this._param.defaultValue)}_exponentialApproach(n,i,r,o,l){return r+(i-r)*Math.exp(-(l-n)/o)}_linearInterpolate(n,i,r,o,l){return i+(o-i)*((l-n)/(r-n))}_exponentialInterpolate(n,i,r,o,l){return i*Math.pow(o/i,(l-n)/(r-n))}}class Zt extends fn{constructor(){super(...arguments),this._internalChannels=[]}get numberOfInputs(){return Pt(this.input)?js(this.input)||this.input instanceof _e?1:this.input.numberOfInputs:0}get numberOfOutputs(){return Pt(this.output)?this.output.numberOfOutputs:0}_isAudioNode(n){return Pt(n)&&(n instanceof Zt||ns(n))}_getInternalNodes(){const n=this._internalChannels.slice(0);return this._isAudioNode(this.input)&&n.push(this.input),this._isAudioNode(this.output)&&this.input!==this.output&&n.push(this.output),n}_setChannelProperties(n){this._getInternalNodes().forEach(r=>{r.channelCount=n.channelCount,r.channelCountMode=n.channelCountMode,r.channelInterpretation=n.channelInterpretation})}_getChannelProperties(){const n=this._getInternalNodes();Dt(n.length>0,"ToneAudioNode does not have any internal nodes");const i=n[0];return{channelCount:i.channelCount,channelCountMode:i.channelCountMode,channelInterpretation:i.channelInterpretation}}get channelCount(){return this._getChannelProperties().channelCount}set channelCount(n){const i=this._getChannelProperties();this._setChannelProperties(Object.assign(i,{channelCount:n}))}get channelCountMode(){return this._getChannelProperties().channelCountMode}set channelCountMode(n){const i=this._getChannelProperties();this._setChannelProperties(Object.assign(i,{channelCountMode:n}))}get channelInterpretation(){return this._getChannelProperties().channelInterpretation}set channelInterpretation(n){const i=this._getChannelProperties();this._setChannelProperties(Object.assign(i,{channelInterpretation:n}))}connect(n,i=0,r=0){return qs(this,n,i,r),this}toDestination(){return this.connect(this.context.destination),this}toMaster(){return Xl("toMaster() has been renamed toDestination()"),this.toDestination()}disconnect(n,i=0,r=0){return ow(this,n,i,r),this}chain(...n){return $h(this,...n),this}fan(...n){return n.forEach(i=>this.connect(i)),this}dispose(){return super.dispose(),Pt(this.input)&&(this.input instanceof Zt?this.input.dispose():ns(this.input)&&this.input.disconnect()),Pt(this.output)&&(this.output instanceof Zt?this.output.dispose():ns(this.output)&&this.output.disconnect()),this._internalChannels=[],this}}function $h(...u){const n=u.shift();u.reduce((i,r)=>(i instanceof Zt?i.connect(r):ns(i)&&qs(i,r),r),n)}function qs(u,n,i=0,r=0){for(Dt(Pt(u),"Cannot connect from undefined node"),Dt(Pt(n),"Cannot connect to undefined node"),(n instanceof Zt||ns(n))&&Dt(n.numberOfInputs>0,"Cannot connect to node with no inputs"),Dt(u.numberOfOutputs>0,"Cannot connect from node with no outputs");n instanceof Zt||n instanceof _e;)Pt(n.input)&&(n=n.input);for(;u instanceof Zt;)Pt(u.output)&&(u=u.output);js(n)?u.connect(n,i):u.connect(n,i,r)}function ow(u,n,i=0,r=0){if(Pt(n))for(;n instanceof Zt;)n=n.input;for(;!ns(u);)Pt(u.output)&&(u=u.output);js(n)?u.disconnect(n,i):ns(n)?u.disconnect(n,i,r):u.disconnect()}class Je extends Zt{constructor(){const n=Bt(Je.getDefaults(),arguments,["gain","units"]);super(n),this.name="Gain",this._gainNode=this.context.createGain(),this.input=this._gainNode,this.output=this._gainNode,this.gain=new _e({context:this.context,convert:n.convert,param:this._gainNode.gain,units:n.units,value:n.gain,minValue:n.minValue,maxValue:n.maxValue}),xe(this,"gain")}static getDefaults(){return Object.assign(Zt.getDefaults(),{convert:!0,gain:1,units:"gain"})}dispose(){return super.dispose(),this._gainNode.disconnect(),this.gain.dispose(),this}}class zr extends Zt{constructor(n){super(n),this.onended=re,this._startTime=-1,this._stopTime=-1,this._timeout=-1,this.output=new Je({context:this.context,gain:0}),this._gainNode=this.output,this.getStateAtTime=function(i){const r=this.toSeconds(i);return this._startTime!==-1&&r>=this._startTime&&(this._stopTime===-1||r<=this._stopTime)?"started":"stopped"},this._fadeIn=n.fadeIn,this._fadeOut=n.fadeOut,this._curve=n.curve,this.onended=n.onended}static getDefaults(){return Object.assign(Zt.getDefaults(),{curve:"linear",fadeIn:0,fadeOut:0,onended:re})}_startGain(n,i=1){Dt(this._startTime===-1,"Source cannot be started more than once");const r=this.toSeconds(this._fadeIn);return this._startTime=n+r,this._startTime=Math.max(this._startTime,this.context.currentTime),r>0?(this._gainNode.gain.setValueAtTime(0,n),this._curve==="linear"?this._gainNode.gain.linearRampToValueAtTime(i,n+r):this._gainNode.gain.exponentialApproachValueAtTime(i,n,r)):this._gainNode.gain.setValueAtTime(i,n),this}stop(n){return this.log("stop",n),this._stopGain(this.toSeconds(n)),this}_stopGain(n){Dt(this._startTime!==-1,"'start' must be called before 'stop'"),this.cancelStop();const i=this.toSeconds(this._fadeOut);return this._stopTime=this.toSeconds(n)+i,this._stopTime=Math.max(this._stopTime,this.now()),i>0?this._curve==="linear"?this._gainNode.gain.linearRampTo(0,i,n):this._gainNode.gain.targetRampTo(0,i,n):(this._gainNode.gain.cancelAndHoldAtTime(n),this._gainNode.gain.setValueAtTime(0,n)),this.context.clearTimeout(this._timeout),this._timeout=this.context.setTimeout(()=>{const r=this._curve==="exponential"?i*2:0;this._stopSource(this.now()+r),this._onended()},this._stopTime-this.context.currentTime),this}_onended(){if(this.onended!==re&&(this.onended(this),this.onended=re,!this.context.isOffline)){const n=()=>this.dispose();typeof requestIdleCallback<"u"?requestIdleCallback(n):setTimeout(n,10)}}get state(){return this.getStateAtTime(this.now())}cancelStop(){return this.log("cancelStop"),Dt(this._startTime!==-1,"Source is not started"),this._gainNode.gain.cancelScheduledValues(this._startTime+this.sampleTime),this.context.clearTimeout(this._timeout),this._stopTime=-1,this}dispose(){return super.dispose(),this._gainNode.dispose(),this.onended=re,this}}class Af extends zr{constructor(){const n=Bt(Af.getDefaults(),arguments,["offset"]);super(n),this.name="ToneConstantSource",this._source=this.context.createConstantSource(),qs(this._source,this._gainNode),this.offset=new _e({context:this.context,convert:n.convert,param:this._source.offset,units:n.units,value:n.offset,minValue:n.minValue,maxValue:n.maxValue})}static getDefaults(){return Object.assign(zr.getDefaults(),{convert:!0,offset:1,units:"number"})}start(n){const i=this.toSeconds(n);return this.log("start",i),this._startGain(i),this._source.start(i),this}_stopSource(n){this._source.stop(n)}dispose(){return super.dispose(),this.state==="started"&&this.stop(),this._source.disconnect(),this.offset.dispose(),this}}class Fe extends Zt{constructor(){const n=Bt(Fe.getDefaults(),arguments,["value","units"]);super(n),this.name="Signal",this.override=!0,this.output=this._constantSource=new Af({context:this.context,convert:n.convert,offset:n.value,units:n.units,minValue:n.minValue,maxValue:n.maxValue}),this._constantSource.start(0),this.input=this._param=this._constantSource.offset}static getDefaults(){return Object.assign(Zt.getDefaults(),{convert:!0,units:"number",value:0})}connect(n,i=0,r=0){return kf(this,n,i,r),this}dispose(){return super.dispose(),this._param.dispose(),this._constantSource.dispose(),this}setValueAtTime(n,i){return this._param.setValueAtTime(n,i),this}getValueAtTime(n){return this._param.getValueAtTime(n)}setRampPoint(n){return this._param.setRampPoint(n),this}linearRampToValueAtTime(n,i){return this._param.linearRampToValueAtTime(n,i),this}exponentialRampToValueAtTime(n,i){return this._param.exponentialRampToValueAtTime(n,i),this}exponentialRampTo(n,i,r){return this._param.exponentialRampTo(n,i,r),this}linearRampTo(n,i,r){return this._param.linearRampTo(n,i,r),this}targetRampTo(n,i,r){return this._param.targetRampTo(n,i,r),this}exponentialApproachValueAtTime(n,i,r){return this._param.exponentialApproachValueAtTime(n,i,r),this}setTargetAtTime(n,i,r){return this._param.setTargetAtTime(n,i,r),this}setValueCurveAtTime(n,i,r,o){return this._param.setValueCurveAtTime(n,i,r,o),this}cancelScheduledValues(n){return this._param.cancelScheduledValues(n),this}cancelAndHoldAtTime(n){return this._param.cancelAndHoldAtTime(n),this}rampTo(n,i,r){return this._param.rampTo(n,i,r),this}get value(){return this._param.value}set value(n){this._param.value=n}get convert(){return this._param.convert}set convert(n){this._param.convert=n}get units(){return this._param.units}get overridden(){return this._param.overridden}set overridden(n){this._param.overridden=n}get maxValue(){return this._param.maxValue}get minValue(){return this._param.minValue}apply(n){return this._param.apply(n),this}}function kf(u,n,i,r){(n instanceof _e||js(n)||n instanceof Fe&&n.override)&&(n.cancelScheduledValues(0),n.setValueAtTime(0,0),n instanceof Fe&&(n.overridden=!0)),qs(u,n,i,r)}class Cf extends _e{constructor(){const n=Bt(Cf.getDefaults(),arguments,["value"]);super(n),this.name="TickParam",this._events=new In(1/0),this._multiplier=1,this._multiplier=n.multiplier,this._events.cancel(0),this._events.add({ticks:0,time:0,type:"setValueAtTime",value:this._fromType(n.value)}),this.setValueAtTime(n.value,0)}static getDefaults(){return Object.assign(_e.getDefaults(),{multiplier:1,units:"hertz",value:1})}setTargetAtTime(n,i,r){i=this.toSeconds(i),this.setRampPoint(i);const o=this._fromType(n),l=this._events.get(i),h=Math.round(Math.max(1/r,1));for(let c=0;c<=h;c++){const d=r*c+i,p=this._exponentialApproach(l.time,l.value,o,r,d);this.linearRampToValueAtTime(this._toType(p),d)}return this}setValueAtTime(n,i){const r=this.toSeconds(i);super.setValueAtTime(n,i);const o=this._events.get(r),l=this._events.previousEvent(o),h=this._getTicksUntilEvent(l,r);return o.ticks=Math.max(h,0),this}linearRampToValueAtTime(n,i){const r=this.toSeconds(i);super.linearRampToValueAtTime(n,i);const o=this._events.get(r),l=this._events.previousEvent(o),h=this._getTicksUntilEvent(l,r);return o.ticks=Math.max(h,0),this}exponentialRampToValueAtTime(n,i){i=this.toSeconds(i);const r=this._fromType(n),o=this._events.get(i),l=Math.round(Math.max((i-o.time)*10,1)),h=(i-o.time)/l;for(let c=0;c<=l;c++){const d=h*c+o.time,p=this._exponentialInterpolate(o.time,o.value,i,r,d);this.linearRampToValueAtTime(this._toType(p),d)}return this}_getTicksUntilEvent(n,i){if(n===null)n={ticks:0,time:0,type:"setValueAtTime",value:0};else if(Bn(n.ticks)){const h=this._events.previousEvent(n);n.ticks=this._getTicksUntilEvent(h,n.time)}const r=this._fromType(this.getValueAtTime(n.time));let o=this._fromType(this.getValueAtTime(i));const l=this._events.get(i);return l&&l.time===i&&l.type==="setValueAtTime"&&(o=this._fromType(this.getValueAtTime(i-this.sampleTime))),.5*(i-n.time)*(r+o)+n.ticks}getTicksAtTime(n){const i=this.toSeconds(n),r=this._events.get(i);return Math.max(this._getTicksUntilEvent(r,i),0)}getDurationOfTicks(n,i){const r=this.toSeconds(i),o=this.getTicksAtTime(i);return this.getTimeOfTick(o+n)-r}getTimeOfTick(n){const i=this._events.get(n,"ticks"),r=this._events.getAfter(n,"ticks");if(i&&i.ticks===n)return i.time;if(i&&r&&r.type==="linearRampToValueAtTime"&&i.value!==r.value){const o=this._fromType(this.getValueAtTime(i.time)),h=(this._fromType(this.getValueAtTime(r.time))-o)/(r.time-i.time),c=Math.sqrt(Math.pow(o,2)-2*h*(i.ticks-n)),d=(-o+c)/h,p=(-o-c)/h;return(d>0?d:p)+i.time}else return i?i.value===0?1/0:i.time+(n-i.ticks)/i.value:n/this._initialValue}ticksToTime(n,i){return this.getDurationOfTicks(n,i)}timeToTicks(n,i){const r=this.toSeconds(i),o=this.toSeconds(n),l=this.getTicksAtTime(r);return this.getTicksAtTime(r+o)-l}_fromType(n){return this.units==="bpm"&&this.multiplier?1/(60/n/this.multiplier):super._fromType(n)}_toType(n){return this.units==="bpm"&&this.multiplier?n/this.multiplier*60:super._toType(n)}get multiplier(){return this._multiplier}set multiplier(n){const i=this.value;this._multiplier=n,this.cancelScheduledValues(0),this.setValueAtTime(i,0)}}class Nf extends Fe{constructor(){const n=Bt(Nf.getDefaults(),arguments,["value"]);super(n),this.name="TickSignal",this.input=this._param=new Cf({context:this.context,convert:n.convert,multiplier:n.multiplier,param:this._constantSource.offset,units:n.units,value:n.value})}static getDefaults(){return Object.assign(Fe.getDefaults(),{multiplier:1,units:"hertz",value:1})}ticksToTime(n,i){return this._param.ticksToTime(n,i)}timeToTicks(n,i){return this._param.timeToTicks(n,i)}getTimeOfTick(n){return this._param.getTimeOfTick(n)}getDurationOfTicks(n,i){return this._param.getDurationOfTicks(n,i)}getTicksAtTime(n){return this._param.getTicksAtTime(n)}get multiplier(){return this._param.multiplier}set multiplier(n){this._param.multiplier=n}dispose(){return super.dispose(),this._param.dispose(),this}}class Ef extends fn{constructor(){const n=Bt(Ef.getDefaults(),arguments,["frequency"]);super(n),this.name="TickSource",this._state=new wf,this._tickOffset=new In,this._ticksAtTime=new In,this._secondsAtTime=new In,this.frequency=new Nf({context:this.context,units:n.units,value:n.frequency}),xe(this,"frequency"),this._state.setStateAtTime("stopped",0),this.setTicksAtTime(0,0)}static getDefaults(){return Object.assign({frequency:1,units:"hertz"},fn.getDefaults())}get state(){return this.getStateAtTime(this.now())}start(n,i){const r=this.toSeconds(n);return this._state.getValueAtTime(r)!=="started"&&(this._state.setStateAtTime("started",r),Pt(i)&&this.setTicksAtTime(i,r),this._ticksAtTime.cancel(r),this._secondsAtTime.cancel(r)),this}stop(n){const i=this.toSeconds(n);if(this._state.getValueAtTime(i)==="stopped"){const r=this._state.get(i);r&&r.time>0&&(this._tickOffset.cancel(r.time),this._state.cancel(r.time))}return this._state.cancel(i),this._state.setStateAtTime("stopped",i),this.setTicksAtTime(0,i),this._ticksAtTime.cancel(i),this._secondsAtTime.cancel(i),this}pause(n){const i=this.toSeconds(n);return this._state.getValueAtTime(i)==="started"&&(this._state.setStateAtTime("paused",i),this._ticksAtTime.cancel(i),this._secondsAtTime.cancel(i)),this}cancel(n){return n=this.toSeconds(n),this._state.cancel(n),this._tickOffset.cancel(n),this._ticksAtTime.cancel(n),this._secondsAtTime.cancel(n),this}getTicksAtTime(n){const i=this.toSeconds(n),r=this._state.getLastState("stopped",i),o=this._ticksAtTime.get(i),l={state:"paused",time:i};this._state.add(l);let h=o||r,c=o?o.ticks:0,d=null;return this._state.forEachBetween(h.time,i+this.sampleTime,p=>{let m=h.time;const _=this._tickOffset.get(p.time);_&&_.time>=h.time&&(c=_.ticks,m=_.time),h.state==="started"&&p.state!=="started"&&(c+=this.frequency.getTicksAtTime(p.time)-this.frequency.getTicksAtTime(m),p.time!==l.time&&(d={state:p.state,time:p.time,ticks:c})),h=p}),this._state.remove(l),d&&this._ticksAtTime.add(d),c}get ticks(){return this.getTicksAtTime(this.now())}set ticks(n){this.setTicksAtTime(n,this.now())}get seconds(){return this.getSecondsAtTime(this.now())}set seconds(n){const i=this.now(),r=this.frequency.timeToTicks(n,i);this.setTicksAtTime(r,i)}getSecondsAtTime(n){n=this.toSeconds(n);const i=this._state.getLastState("stopped",n),r={state:"paused",time:n};this._state.add(r);const o=this._secondsAtTime.get(n);let l=o||i,h=o?o.seconds:0,c=null;return this._state.forEachBetween(l.time,n+this.sampleTime,d=>{let p=l.time;const m=this._tickOffset.get(d.time);m&&m.time>=l.time&&(h=m.seconds,p=m.time),l.state==="started"&&d.state!=="started"&&(h+=d.time-p,d.time!==r.time&&(c={state:d.state,time:d.time,seconds:h})),l=d}),this._state.remove(r),c&&this._secondsAtTime.add(c),h}setTicksAtTime(n,i){return i=this.toSeconds(i),this._tickOffset.cancel(i),this._tickOffset.add({seconds:this.frequency.getDurationOfTicks(n,i),ticks:n,time:i}),this._ticksAtTime.cancel(i),this._secondsAtTime.cancel(i),this}getStateAtTime(n){return n=this.toSeconds(n),this._state.getValueAtTime(n)}getTimeOfTick(n,i=this.now()){const r=this._tickOffset.get(i),o=this._state.get(i),l=Math.max(r.time,o.time),h=this.frequency.getTicksAtTime(l)+n-r.ticks;return this.frequency.getTimeOfTick(h)}forEachTickBetween(n,i,r){let o=this._state.get(n);this._state.forEachBetween(n,i,h=>{o&&o.state==="started"&&h.state!=="started"&&this.forEachTickBetween(Math.max(o.time,n),h.time-this.sampleTime,r),o=h});let l=null;if(o&&o.state==="started"){const h=Math.max(o.time,n),c=this.frequency.getTicksAtTime(h),d=this.frequency.getTicksAtTime(o.time),p=c-d;let m=Math.ceil(p)-p;m=Hn(m,1)?0:m;let _=this.frequency.getTimeOfTick(c+m);for(;_<i;){try{r(_,Math.round(this.getTicksAtTime(_)))}catch(y){l=y;break}_+=this.frequency.getDurationOfTicks(1,_)}}if(l)throw l;return this}dispose(){return super.dispose(),this._state.dispose(),this._tickOffset.dispose(),this._ticksAtTime.dispose(),this._secondsAtTime.dispose(),this.frequency.dispose(),this}}class Jl extends fn{constructor(){const n=Bt(Jl.getDefaults(),arguments,["callback","frequency"]);super(n),this.name="Clock",this.callback=re,this._lastUpdate=0,this._state=new wf("stopped"),this._boundLoop=this._loop.bind(this),this.callback=n.callback,this._tickSource=new Ef({context:this.context,frequency:n.frequency,units:n.units}),this._lastUpdate=0,this.frequency=this._tickSource.frequency,xe(this,"frequency"),this._state.setStateAtTime("stopped",0),this.context.on("tick",this._boundLoop)}static getDefaults(){return Object.assign(fn.getDefaults(),{callback:re,frequency:1,units:"hertz"})}get state(){return this._state.getValueAtTime(this.now())}start(n,i){U0(this.context);const r=this.toSeconds(n);return this.log("start",r),this._state.getValueAtTime(r)!=="started"&&(this._state.setStateAtTime("started",r),this._tickSource.start(r,i),r<this._lastUpdate&&this.emit("start",r,i)),this}stop(n){const i=this.toSeconds(n);return this.log("stop",i),this._state.cancel(i),this._state.setStateAtTime("stopped",i),this._tickSource.stop(i),i<this._lastUpdate&&this.emit("stop",i),this}pause(n){const i=this.toSeconds(n);return this._state.getValueAtTime(i)==="started"&&(this._state.setStateAtTime("paused",i),this._tickSource.pause(i),i<this._lastUpdate&&this.emit("pause",i)),this}get ticks(){return Math.ceil(this.getTicksAtTime(this.now()))}set ticks(n){this._tickSource.ticks=n}get seconds(){return this._tickSource.seconds}set seconds(n){this._tickSource.seconds=n}getSecondsAtTime(n){return this._tickSource.getSecondsAtTime(n)}setTicksAtTime(n,i){return this._tickSource.setTicksAtTime(n,i),this}getTimeOfTick(n,i=this.now()){return this._tickSource.getTimeOfTick(n,i)}getTicksAtTime(n){return this._tickSource.getTicksAtTime(n)}nextTickTime(n,i){const r=this.toSeconds(i),o=this.getTicksAtTime(r);return this._tickSource.getTimeOfTick(o+n,r)}_loop(){const n=this._lastUpdate,i=this.now();this._lastUpdate=i,this.log("loop",n,i),n!==i&&(this._state.forEachBetween(n,i,r=>{switch(r.state){case"started":const o=this._tickSource.getTicksAtTime(r.time);this.emit("start",r.time,o);break;case"stopped":r.time!==0&&this.emit("stop",r.time);break;case"paused":this.emit("pause",r.time);break}}),this._tickSource.forEachTickBetween(n,i,(r,o)=>{this.callback(r,o)}))}getStateAtTime(n){const i=this.toSeconds(n);return this._state.getValueAtTime(i)}dispose(){return super.dispose(),this.context.off("tick",this._boundLoop),this._tickSource.dispose(),this._state.dispose(),this}}ro.mixin(Jl);class Zr extends Zt{constructor(){const n=Bt(Zr.getDefaults(),arguments,["volume"]);super(n),this.name="Volume",this.input=this.output=new Je({context:this.context,gain:n.volume,units:"decibels"}),this.volume=this.output.gain,xe(this,"volume"),this._unmutedVolume=n.volume,this.mute=n.mute}static getDefaults(){return Object.assign(Zt.getDefaults(),{mute:!1,volume:0})}get mute(){return this.volume.value===-1/0}set mute(n){!this.mute&&n?(this._unmutedVolume=this.volume.value,this.volume.value=-1/0):this.mute&&!n&&(this.volume.value=this._unmutedVolume)}dispose(){return super.dispose(),this.input.dispose(),this.volume.dispose(),this}}class Of extends Zt{constructor(){const n=Bt(Of.getDefaults(),arguments);super(n),this.name="Destination",this.input=new Zr({context:this.context}),this.output=new Je({context:this.context}),this.volume=this.input.volume,$h(this.input,this.output,this.context.rawContext.destination),this.mute=n.mute,this._internalChannels=[this.input,this.context.rawContext.destination,this.output]}static getDefaults(){return Object.assign(Zt.getDefaults(),{mute:!1,volume:0})}get mute(){return this.input.mute}set mute(n){this.input.mute=n}chain(...n){return this.input.disconnect(),n.unshift(this.input),n.push(this.output),$h(...n),this}get maxChannelCount(){return this.context.rawContext.destination.maxChannelCount}dispose(){return super.dispose(),this.volume.dispose(),this}}Wl(u=>{u.destination=new Of({context:u})});Ql(u=>{u.destination.dispose()});class lw extends Zt{constructor(){super(...arguments),this.name="Listener",this.positionX=new _e({context:this.context,param:this.context.rawContext.listener.positionX}),this.positionY=new _e({context:this.context,param:this.context.rawContext.listener.positionY}),this.positionZ=new _e({context:this.context,param:this.context.rawContext.listener.positionZ}),this.forwardX=new _e({context:this.context,param:this.context.rawContext.listener.forwardX}),this.forwardY=new _e({context:this.context,param:this.context.rawContext.listener.forwardY}),this.forwardZ=new _e({context:this.context,param:this.context.rawContext.listener.forwardZ}),this.upX=new _e({context:this.context,param:this.context.rawContext.listener.upX}),this.upY=new _e({context:this.context,param:this.context.rawContext.listener.upY}),this.upZ=new _e({context:this.context,param:this.context.rawContext.listener.upZ})}static getDefaults(){return Object.assign(Zt.getDefaults(),{positionX:0,positionY:0,positionZ:0,forwardX:0,forwardY:0,forwardZ:-1,upX:0,upY:1,upZ:0})}dispose(){return super.dispose(),this.positionX.dispose(),this.positionY.dispose(),this.positionZ.dispose(),this.forwardX.dispose(),this.forwardY.dispose(),this.forwardZ.dispose(),this.upX.dispose(),this.upY.dispose(),this.upZ.dispose(),this}}Wl(u=>{u.listener=new lw({context:u})});Ql(u=>{u.listener.dispose()});class Mf extends Ai{constructor(){super(),this.name="ToneAudioBuffers",this._buffers=new Map,this._loadingCount=0;const n=Bt(Mf.getDefaults(),arguments,["urls","onload","baseUrl"],"urls");this.baseUrl=n.baseUrl,Object.keys(n.urls).forEach(i=>{this._loadingCount++;const r=n.urls[i];this.add(i,r,this._bufferLoaded.bind(this,n.onload),n.onerror)})}static getDefaults(){return{baseUrl:"",onerror:re,onload:re,urls:{}}}has(n){return this._buffers.has(n.toString())}get(n){return Dt(this.has(n),`ToneAudioBuffers has no buffer named: ${n}`),this._buffers.get(n.toString())}_bufferLoaded(n){this._loadingCount--,this._loadingCount===0&&n&&n()}get loaded(){return Array.from(this._buffers).every(([n,i])=>i.loaded)}add(n,i,r=re,o=re){return Ti(i)?(this.baseUrl&&i.trim().substring(0,11).toLowerCase()==="data:audio/"&&(this.baseUrl=""),this._buffers.set(n.toString(),new fe(this.baseUrl+i,r,o))):this._buffers.set(n.toString(),new fe(i,r,o)),this}dispose(){return super.dispose(),this._buffers.forEach(n=>n.dispose()),this._buffers.clear(),this}}class ql extends An{constructor(){super(...arguments),this.name="MidiClass",this.defaultUnits="midi"}_frequencyToUnits(n){return Ms(super._frequencyToUnits(n))}_ticksToUnits(n){return Ms(super._ticksToUnits(n))}_beatsToUnits(n){return Ms(super._beatsToUnits(n))}_secondsToUnits(n){return Ms(super._secondsToUnits(n))}toMidi(){return this.valueOf()}toFrequency(){return Y0(this.toMidi())}transpose(n){return new ql(this.context,this.toMidi()+n)}}class Nr extends Pa{constructor(){super(...arguments),this.name="Ticks",this.defaultUnits="i"}_now(){return this.context.transport.ticks}_beatsToUnits(n){return this._getPPQ()*n}_secondsToUnits(n){return Math.floor(n/(60/this._getBpm())*this._getPPQ())}_ticksToUnits(n){return n}toTicks(){return this.valueOf()}toSeconds(){return this.valueOf()/this._getPPQ()*(60/this._getBpm())}}class uw extends fn{constructor(){super(...arguments),this.name="Draw",this.expiration=.25,this.anticipation=.008,this._events=new In,this._boundDrawLoop=this._drawLoop.bind(this),this._animationFrame=-1}schedule(n,i){return this._events.add({callback:n,time:this.toSeconds(i)}),this._events.length===1&&(this._animationFrame=requestAnimationFrame(this._boundDrawLoop)),this}cancel(n){return this._events.cancel(this.toSeconds(n)),this}_drawLoop(){const n=this.context.currentTime;this._events.forEachBefore(n+this.anticipation,i=>{n-i.time<=this.expiration&&i.callback(),this._events.remove(i)}),this._events.length>0&&(this._animationFrame=requestAnimationFrame(this._boundDrawLoop))}dispose(){return super.dispose(),this._events.dispose(),cancelAnimationFrame(this._animationFrame),this}}Wl(u=>{u.draw=new uw({context:u})});Ql(u=>{u.draw.dispose()});class cw extends Ai{constructor(){super(...arguments),this.name="IntervalTimeline",this._root=null,this._length=0}add(n){Dt(Pt(n.time),"Events must have a time property"),Dt(Pt(n.duration),"Events must have a duration parameter"),n.time=n.time.valueOf();let i=new hw(n.time,n.time+n.duration,n);for(this._root===null?this._root=i:this._root.insert(i),this._length++;i!==null;)i.updateHeight(),i.updateMax(),this._rebalance(i),i=i.parent;return this}remove(n){if(this._root!==null){const i=[];this._root.search(n.time,i);for(const r of i)if(r.event===n){this._removeNode(r),this._length--;break}}return this}get length(){return this._length}cancel(n){return this.forEachFrom(n,i=>this.remove(i)),this}_setRoot(n){this._root=n,this._root!==null&&(this._root.parent=null)}_replaceNodeInParent(n,i){n.parent!==null?(n.isLeftChild()?n.parent.left=i:n.parent.right=i,this._rebalance(n.parent)):this._setRoot(i)}_removeNode(n){if(n.left===null&&n.right===null)this._replaceNodeInParent(n,null);else if(n.right===null)this._replaceNodeInParent(n,n.left);else if(n.left===null)this._replaceNodeInParent(n,n.right);else{const i=n.getBalance();let r,o=null;if(i>0)if(n.left.right===null)r=n.left,r.right=n.right,o=r;else{for(r=n.left.right;r.right!==null;)r=r.right;r.parent&&(r.parent.right=r.left,o=r.parent,r.left=n.left,r.right=n.right)}else if(n.right.left===null)r=n.right,r.left=n.left,o=r;else{for(r=n.right.left;r.left!==null;)r=r.left;r.parent&&(r.parent.left=r.right,o=r.parent,r.left=n.left,r.right=n.right)}n.parent!==null?n.isLeftChild()?n.parent.left=r:n.parent.right=r:this._setRoot(r),o&&this._rebalance(o)}n.dispose()}_rotateLeft(n){const i=n.parent,r=n.isLeftChild(),o=n.right;o&&(n.right=o.left,o.left=n),i!==null?r?i.left=o:i.right=o:this._setRoot(o)}_rotateRight(n){const i=n.parent,r=n.isLeftChild(),o=n.left;o&&(n.left=o.right,o.right=n),i!==null?r?i.left=o:i.right=o:this._setRoot(o)}_rebalance(n){const i=n.getBalance();i>1&&n.left?n.left.getBalance()<0?this._rotateLeft(n.left):this._rotateRight(n):i<-1&&n.right&&(n.right.getBalance()>0?this._rotateRight(n.right):this._rotateLeft(n))}get(n){if(this._root!==null){const i=[];if(this._root.search(n,i),i.length>0){let r=i[0];for(let o=1;o<i.length;o++)i[o].low>r.low&&(r=i[o]);return r.event}}return null}forEach(n){if(this._root!==null){const i=[];this._root.traverse(r=>i.push(r)),i.forEach(r=>{r.event&&n(r.event)})}return this}forEachAtTime(n,i){if(this._root!==null){const r=[];this._root.search(n,r),r.forEach(o=>{o.event&&i(o.event)})}return this}forEachFrom(n,i){if(this._root!==null){const r=[];this._root.searchAfter(n,r),r.forEach(o=>{o.event&&i(o.event)})}return this}dispose(){return super.dispose(),this._root!==null&&this._root.traverse(n=>n.dispose()),this._root=null,this}}class hw{constructor(n,i,r){this._left=null,this._right=null,this.parent=null,this.height=0,this.event=r,this.low=n,this.high=i,this.max=this.high}insert(n){n.low<=this.low?this.left===null?this.left=n:this.left.insert(n):this.right===null?this.right=n:this.right.insert(n)}search(n,i){n>this.max||(this.left!==null&&this.left.search(n,i),this.low<=n&&this.high>n&&i.push(this),!(this.low>n)&&this.right!==null&&this.right.search(n,i))}searchAfter(n,i){this.low>=n&&(i.push(this),this.left!==null&&this.left.searchAfter(n,i)),this.right!==null&&this.right.searchAfter(n,i)}traverse(n){n(this),this.left!==null&&this.left.traverse(n),this.right!==null&&this.right.traverse(n)}updateHeight(){this.left!==null&&this.right!==null?this.height=Math.max(this.left.height,this.right.height)+1:this.right!==null?this.height=this.right.height+1:this.left!==null?this.height=this.left.height+1:this.height=0}updateMax(){this.max=this.high,this.left!==null&&(this.max=Math.max(this.max,this.left.max)),this.right!==null&&(this.max=Math.max(this.max,this.right.max))}getBalance(){let n=0;return this.left!==null&&this.right!==null?n=this.left.height-this.right.height:this.left!==null?n=this.left.height+1:this.right!==null&&(n=-(this.right.height+1)),n}isLeftChild(){return this.parent!==null&&this.parent.left===this}get left(){return this._left}set left(n){this._left=n,n!==null&&(n.parent=this),this.updateHeight(),this.updateMax()}get right(){return this._right}set right(n){this._right=n,n!==null&&(n.parent=this),this.updateHeight(),this.updateMax()}dispose(){this.parent=null,this._left=null,this._right=null,this.event=null}}class fw extends Ai{constructor(n){super(),this.name="TimelineValue",this._timeline=new In({memory:10}),this._initialValue=n}set(n,i){return this._timeline.add({value:n,time:i}),this}get(n){const i=this._timeline.get(n);return i?i.value:this._initialValue}}class jr extends Zt{constructor(){super(Bt(jr.getDefaults(),arguments,["context"]))}connect(n,i=0,r=0){return kf(this,n,i,r),this}}class oo extends jr{constructor(){const n=Bt(oo.getDefaults(),arguments,["mapping","length"]);super(n),this.name="WaveShaper",this._shaper=this.context.createWaveShaper(),this.input=this._shaper,this.output=this._shaper,kn(n.mapping)||n.mapping instanceof Float32Array?this.curve=Float32Array.from(n.mapping):UT(n.mapping)&&this.setMap(n.mapping,n.length)}static getDefaults(){return Object.assign(Fe.getDefaults(),{length:1024})}setMap(n,i=1024){const r=new Float32Array(i);for(let o=0,l=i;o<l;o++){const h=o/(l-1)*2-1;r[o]=n(h,o)}return this.curve=r,this}get curve(){return this._shaper.curve}set curve(n){this._shaper.curve=n}get oversample(){return this._shaper.oversample}set oversample(n){const i=["none","2x","4x"].some(r=>r.includes(n));Dt(i,"oversampling must be either 'none', '2x', or '4x'"),this._shaper.oversample=n}dispose(){return super.dispose(),this._shaper.disconnect(),this}}class Df extends jr{constructor(){const n=Bt(Df.getDefaults(),arguments,["value"]);super(n),this.name="Pow",this._exponentScaler=this.input=this.output=new oo({context:this.context,mapping:this._expFunc(n.value),length:8192}),this._exponent=n.value}static getDefaults(){return Object.assign(jr.getDefaults(),{value:1})}_expFunc(n){return i=>Math.pow(Math.abs(i),n)}get value(){return this._exponent}set value(n){this._exponent=n,this._exponentScaler.setMap(this._expFunc(this._exponent))}dispose(){return super.dispose(),this._exponentScaler.dispose(),this}}class rs{constructor(n,i){this.id=rs._eventId++,this._remainderTime=0;const r=Object.assign(rs.getDefaults(),i);this.transport=n,this.callback=r.callback,this._once=r.once,this.time=Math.floor(r.time),this._remainderTime=r.time-this.time}static getDefaults(){return{callback:re,once:!1,time:0}}get floatTime(){return this.time+this._remainderTime}invoke(n){if(this.callback){const i=this.transport.bpm.getDurationOfTicks(1,n);this.callback(n+this._remainderTime*i),this._once&&this.transport.clear(this.id)}}dispose(){return this.callback=void 0,this}}rs._eventId=0;class Rf extends rs{constructor(n,i){super(n,i),this._currentId=-1,this._nextId=-1,this._nextTick=this.time,this._boundRestart=this._restart.bind(this);const r=Object.assign(Rf.getDefaults(),i);this.duration=r.duration,this._interval=r.interval,this._nextTick=r.time,this.transport.on("start",this._boundRestart),this.transport.on("loopStart",this._boundRestart),this.transport.on("ticks",this._boundRestart),this.context=this.transport.context,this._restart()}static getDefaults(){return Object.assign({},rs.getDefaults(),{duration:1/0,interval:1,once:!1})}invoke(n){this._createEvents(n),super.invoke(n)}_createEvent(){return Il(this._nextTick,this.floatTime+this.duration)?this.transport.scheduleOnce(this.invoke.bind(this),new Nr(this.context,this._nextTick).toSeconds()):-1}_createEvents(n){Il(this._nextTick+this._interval,this.floatTime+this.duration)&&(this._nextTick+=this._interval,this._currentId=this._nextId,this._nextId=this.transport.scheduleOnce(this.invoke.bind(this),new Nr(this.context,this._nextTick).toSeconds()))}_restart(n){this.transport.clear(this._currentId),this.transport.clear(this._nextId),this._nextTick=this.floatTime;const i=this.transport.getTicksAtTime(n);Rr(i,this.time)&&(this._nextTick=this.floatTime+Math.ceil((i-this.floatTime)/this._interval)*this._interval),this._currentId=this._createEvent(),this._nextTick+=this._interval,this._nextId=this._createEvent()}dispose(){return super.dispose(),this.transport.clear(this._currentId),this.transport.clear(this._nextId),this.transport.off("start",this._boundRestart),this.transport.off("loopStart",this._boundRestart),this.transport.off("ticks",this._boundRestart),this}}class $l extends fn{constructor(){const n=Bt($l.getDefaults(),arguments);super(n),this.name="Transport",this._loop=new fw(!1),this._loopStart=0,this._loopEnd=0,this._scheduledEvents={},this._timeline=new In,this._repeatedEvents=new cw,this._syncedSignals=[],this._swingAmount=0,this._ppq=n.ppq,this._clock=new Jl({callback:this._processTick.bind(this),context:this.context,frequency:0,units:"bpm"}),this._bindClockEvents(),this.bpm=this._clock.frequency,this._clock.frequency.multiplier=n.ppq,this.bpm.setValueAtTime(n.bpm,0),xe(this,"bpm"),this._timeSignature=n.timeSignature,this._swingTicks=n.ppq/2}static getDefaults(){return Object.assign(fn.getDefaults(),{bpm:120,loopEnd:"4m",loopStart:0,ppq:192,swing:0,swingSubdivision:"8n",timeSignature:4})}_processTick(n,i){if(this._loop.get(n)&&i>=this._loopEnd&&(this.emit("loopEnd",n),this._clock.setTicksAtTime(this._loopStart,n),i=this._loopStart,this.emit("loopStart",n,this._clock.getSecondsAtTime(n)),this.emit("loop",n)),this._swingAmount>0&&i%this._ppq!==0&&i%(this._swingTicks*2)!==0){const r=i%(this._swingTicks*2)/(this._swingTicks*2),o=Math.sin(r*Math.PI)*this._swingAmount;n+=new Nr(this.context,this._swingTicks*2/3).toSeconds()*o}n_(!0),this._timeline.forEachAtTime(i,r=>r.invoke(n)),n_(!1)}schedule(n,i){const r=new rs(this,{callback:n,time:new Pa(this.context,i).toTicks()});return this._addEvent(r,this._timeline)}scheduleRepeat(n,i,r,o=1/0){const l=new Rf(this,{callback:n,duration:new Zn(this.context,o).toTicks(),interval:new Zn(this.context,i).toTicks(),time:new Pa(this.context,r).toTicks()});return this._addEvent(l,this._repeatedEvents)}scheduleOnce(n,i){const r=new rs(this,{callback:n,once:!0,time:new Pa(this.context,i).toTicks()});return this._addEvent(r,this._timeline)}clear(n){if(this._scheduledEvents.hasOwnProperty(n)){const i=this._scheduledEvents[n.toString()];i.timeline.remove(i.event),i.event.dispose(),delete this._scheduledEvents[n.toString()]}return this}_addEvent(n,i){return this._scheduledEvents[n.id.toString()]={event:n,timeline:i},i.add(n),n.id}cancel(n=0){const i=this.toTicks(n);return this._timeline.forEachFrom(i,r=>this.clear(r.id)),this._repeatedEvents.forEachFrom(i,r=>this.clear(r.id)),this}_bindClockEvents(){this._clock.on("start",(n,i)=>{i=new Nr(this.context,i).toSeconds(),this.emit("start",n,i)}),this._clock.on("stop",n=>{this.emit("stop",n)}),this._clock.on("pause",n=>{this.emit("pause",n)})}get state(){return this._clock.getStateAtTime(this.now())}start(n,i){this.context.resume();let r;return Pt(i)&&(r=this.toTicks(i)),this._clock.start(n,r),this}stop(n){return this._clock.stop(n),this}pause(n){return this._clock.pause(n),this}toggle(n){return n=this.toSeconds(n),this._clock.getStateAtTime(n)!=="started"?this.start(n):this.stop(n),this}get timeSignature(){return this._timeSignature}set timeSignature(n){kn(n)&&(n=n[0]/n[1]*4),this._timeSignature=n}get loopStart(){return new Zn(this.context,this._loopStart,"i").toSeconds()}set loopStart(n){this._loopStart=this.toTicks(n)}get loopEnd(){return new Zn(this.context,this._loopEnd,"i").toSeconds()}set loopEnd(n){this._loopEnd=this.toTicks(n)}get loop(){return this._loop.get(this.now())}set loop(n){this._loop.set(n,this.now())}setLoopPoints(n,i){return this.loopStart=n,this.loopEnd=i,this}get swing(){return this._swingAmount}set swing(n){this._swingAmount=n}get swingSubdivision(){return new Nr(this.context,this._swingTicks).toNotation()}set swingSubdivision(n){this._swingTicks=this.toTicks(n)}get position(){const n=this.now(),i=this._clock.getTicksAtTime(n);return new Nr(this.context,i).toBarsBeatsSixteenths()}set position(n){const i=this.toTicks(n);this.ticks=i}get seconds(){return this._clock.seconds}set seconds(n){const i=this.now(),r=this._clock.frequency.timeToTicks(n,i);this.ticks=r}get progress(){if(this.loop){const n=this.now();return(this._clock.getTicksAtTime(n)-this._loopStart)/(this._loopEnd-this._loopStart)}else return 0}get ticks(){return this._clock.ticks}set ticks(n){if(this._clock.ticks!==n){const i=this.now();if(this.state==="started"){const r=this._clock.getTicksAtTime(i),o=this._clock.frequency.getDurationOfTicks(Math.ceil(r)-r,i),l=i+o;this.emit("stop",l),this._clock.setTicksAtTime(n,l),this.emit("start",l,this._clock.getSecondsAtTime(l))}else this.emit("ticks",i),this._clock.setTicksAtTime(n,i)}}getTicksAtTime(n){return this._clock.getTicksAtTime(n)}getSecondsAtTime(n){return this._clock.getSecondsAtTime(n)}get PPQ(){return this._clock.frequency.multiplier}set PPQ(n){this._clock.frequency.multiplier=n}nextSubdivision(n){if(n=this.toTicks(n),this.state!=="started")return 0;{const i=this.now(),r=this.getTicksAtTime(i),o=n-r%n;return this._clock.nextTickTime(o,i)}}syncSignal(n,i){const r=this.now();let o=this.bpm,l=1/(60/o.getValueAtTime(r)/this.PPQ),h=[];if(n.units==="time"){const d=.015625/l,p=new Je(d),m=new Df(-1),_=new Je(d);o.chain(p,m,_),o=_,l=1/l,h=[p,m,_]}i||(n.getValueAtTime(r)!==0?i=n.getValueAtTime(r)/l:i=0);const c=new Je(i);return o.connect(c),c.connect(n._param),h.push(c),this._syncedSignals.push({initial:n.value,nodes:h,signal:n}),n.value=0,this}unsyncSignal(n){for(let i=this._syncedSignals.length-1;i>=0;i--){const r=this._syncedSignals[i];r.signal===n&&(r.nodes.forEach(o=>o.dispose()),r.signal.value=r.initial,this._syncedSignals.splice(i,1))}return this}dispose(){return super.dispose(),this._clock.dispose(),F0(this,"bpm"),this._timeline.dispose(),this._repeatedEvents.dispose(),this}}ro.mixin($l);Wl(u=>{u.transport=new $l({context:u})});Ql(u=>{u.transport.dispose()});class Cn extends Zt{constructor(n){super(n),this.input=void 0,this._state=new wf("stopped"),this._synced=!1,this._scheduled=[],this._syncedStart=re,this._syncedStop=re,this._state.memory=100,this._state.increasing=!0,this._volume=this.output=new Zr({context:this.context,mute:n.mute,volume:n.volume}),this.volume=this._volume.volume,xe(this,"volume"),this.onstop=n.onstop}static getDefaults(){return Object.assign(Zt.getDefaults(),{mute:!1,onstop:re,volume:0})}get state(){return this._synced?this.context.transport.state==="started"?this._state.getValueAtTime(this.context.transport.seconds):"stopped":this._state.getValueAtTime(this.now())}get mute(){return this._volume.mute}set mute(n){this._volume.mute=n}_clampToCurrentTime(n){return this._synced?n:Math.max(n,this.context.currentTime)}start(n,i,r){let o=Bn(n)&&this._synced?this.context.transport.seconds:this.toSeconds(n);if(o=this._clampToCurrentTime(o),!this._synced&&this._state.getValueAtTime(o)==="started")Dt(Rr(o,this._state.get(o).time),"Start time must be strictly greater than previous start time"),this._state.cancel(o),this._state.setStateAtTime("started",o),this.log("restart",o),this.restart(o,i,r);else if(this.log("start",o),this._state.setStateAtTime("started",o),this._synced){const l=this._state.get(o);l&&(l.offset=this.toSeconds(Or(i,0)),l.duration=r?this.toSeconds(r):void 0);const h=this.context.transport.schedule(c=>{this._start(c,i,r)},o);this._scheduled.push(h),this.context.transport.state==="started"&&this.context.transport.getSecondsAtTime(this.immediate())>o&&this._syncedStart(this.now(),this.context.transport.seconds)}else U0(this.context),this._start(o,i,r);return this}stop(n){let i=Bn(n)&&this._synced?this.context.transport.seconds:this.toSeconds(n);if(i=this._clampToCurrentTime(i),this._state.getValueAtTime(i)==="started"||Pt(this._state.getNextState("started",i))){if(this.log("stop",i),!this._synced)this._stop(i);else{const r=this.context.transport.schedule(this._stop.bind(this),i);this._scheduled.push(r)}this._state.cancel(i),this._state.setStateAtTime("stopped",i)}return this}restart(n,i,r){return n=this.toSeconds(n),this._state.getValueAtTime(n)==="started"&&(this._state.cancel(n),this._restart(n,i,r)),this}sync(){return this._synced||(this._synced=!0,this._syncedStart=(n,i)=>{if(Rr(i,0)){const r=this._state.get(i);if(r&&r.state==="started"&&r.time!==i){const o=i-this.toSeconds(r.time);let l;r.duration&&(l=this.toSeconds(r.duration)-o),this._start(n,this.toSeconds(r.offset)+o,l)}}},this._syncedStop=n=>{const i=this.context.transport.getSecondsAtTime(Math.max(n-this.sampleTime,0));this._state.getValueAtTime(i)==="started"&&this._stop(n)},this.context.transport.on("start",this._syncedStart),this.context.transport.on("loopStart",this._syncedStart),this.context.transport.on("stop",this._syncedStop),this.context.transport.on("pause",this._syncedStop),this.context.transport.on("loopEnd",this._syncedStop)),this}unsync(){return this._synced&&(this.context.transport.off("stop",this._syncedStop),this.context.transport.off("pause",this._syncedStop),this.context.transport.off("loopEnd",this._syncedStop),this.context.transport.off("start",this._syncedStart),this.context.transport.off("loopStart",this._syncedStart)),this._synced=!1,this._scheduled.forEach(n=>this.context.transport.clear(n)),this._scheduled=[],this._state.cancel(0),this._stop(0),this}dispose(){return super.dispose(),this.onstop=re,this.unsync(),this._volume.dispose(),this._state.dispose(),this}}class tu extends zr{constructor(){const n=Bt(tu.getDefaults(),arguments,["url","onload"]);super(n),this.name="ToneBufferSource",this._source=this.context.createBufferSource(),this._internalChannels=[this._source],this._sourceStarted=!1,this._sourceStopped=!1,qs(this._source,this._gainNode),this._source.onended=()=>this._stopSource(),this.playbackRate=new _e({context:this.context,param:this._source.playbackRate,units:"positive",value:n.playbackRate}),this.loop=n.loop,this.loopStart=n.loopStart,this.loopEnd=n.loopEnd,this._buffer=new fe(n.url,n.onload,n.onerror),this._internalChannels.push(this._source)}static getDefaults(){return Object.assign(zr.getDefaults(),{url:new fe,loop:!1,loopEnd:0,loopStart:0,onload:re,onerror:re,playbackRate:1})}get fadeIn(){return this._fadeIn}set fadeIn(n){this._fadeIn=n}get fadeOut(){return this._fadeOut}set fadeOut(n){this._fadeOut=n}get curve(){return this._curve}set curve(n){this._curve=n}start(n,i,r,o=1){Dt(this.buffer.loaded,"buffer is either not set or not loaded");const l=this.toSeconds(n);this._startGain(l,o),this.loop?i=Or(i,this.loopStart):i=Or(i,0);let h=Math.max(this.toSeconds(i),0);if(this.loop){const c=this.toSeconds(this.loopEnd)||this.buffer.duration,d=this.toSeconds(this.loopStart),p=c-d;Jh(h,c)&&(h=(h-d)%p+d),Hn(h,this.buffer.duration)&&(h=0)}if(this._source.buffer=this.buffer.get(),this._source.loopEnd=this.toSeconds(this.loopEnd)||this.buffer.duration,Il(h,this.buffer.duration)&&(this._sourceStarted=!0,this._source.start(l,h)),Pt(r)){let c=this.toSeconds(r);c=Math.max(c,0),this.stop(l+c)}return this}_stopSource(n){!this._sourceStopped&&this._sourceStarted&&(this._sourceStopped=!0,this._source.stop(this.toSeconds(n)),this._onended())}get loopStart(){return this._source.loopStart}set loopStart(n){this._source.loopStart=this.toSeconds(n)}get loopEnd(){return this._source.loopEnd}set loopEnd(n){this._source.loopEnd=this.toSeconds(n)}get buffer(){return this._buffer}set buffer(n){this._buffer.set(n)}get loop(){return this._source.loop}set loop(n){this._source.loop=n,this._sourceStarted&&this.cancelStop()}dispose(){return super.dispose(),this._source.onended=null,this._source.disconnect(),this._buffer.dispose(),this.playbackRate.dispose(),this}}function Vs(u,n){return Oe(this,void 0,void 0,function*(){const i=n/u.context.sampleRate,r=new xf(1,i,u.context.sampleRate);return new u.constructor(Object.assign(u.get(),{frequency:2/i,detune:0,context:r})).toDestination().start(0),(yield r.render()).getChannelData(0)})}class zf extends zr{constructor(){const n=Bt(zf.getDefaults(),arguments,["frequency","type"]);super(n),this.name="ToneOscillatorNode",this._oscillator=this.context.createOscillator(),this._internalChannels=[this._oscillator],qs(this._oscillator,this._gainNode),this.type=n.type,this.frequency=new _e({context:this.context,param:this._oscillator.frequency,units:"frequency",value:n.frequency}),this.detune=new _e({context:this.context,param:this._oscillator.detune,units:"cents",value:n.detune}),xe(this,["frequency","detune"])}static getDefaults(){return Object.assign(zr.getDefaults(),{detune:0,frequency:440,type:"sine"})}start(n){const i=this.toSeconds(n);return this.log("start",i),this._startGain(i),this._oscillator.start(i),this}_stopSource(n){this._oscillator.stop(n)}setPeriodicWave(n){return this._oscillator.setPeriodicWave(n),this}get type(){return this._oscillator.type}set type(n){this._oscillator.type=n}dispose(){return super.dispose(),this.state==="started"&&this.stop(),this._oscillator.disconnect(),this.frequency.dispose(),this.detune.dispose(),this}}class Ee extends Cn{constructor(){const n=Bt(Ee.getDefaults(),arguments,["frequency","type"]);super(n),this.name="Oscillator",this._oscillator=null,this.frequency=new Fe({context:this.context,units:"frequency",value:n.frequency}),xe(this,"frequency"),this.detune=new Fe({context:this.context,units:"cents",value:n.detune}),xe(this,"detune"),this._partials=n.partials,this._partialCount=n.partialCount,this._type=n.type,n.partialCount&&n.type!=="custom"&&(this._type=this.baseType+n.partialCount.toString()),this.phase=n.phase}static getDefaults(){return Object.assign(Cn.getDefaults(),{detune:0,frequency:440,partialCount:0,partials:[],phase:0,type:"sine"})}_start(n){const i=this.toSeconds(n),r=new zf({context:this.context,onended:()=>this.onstop(this)});this._oscillator=r,this._wave?this._oscillator.setPeriodicWave(this._wave):this._oscillator.type=this._type,this._oscillator.connect(this.output),this.frequency.connect(this._oscillator.frequency),this.detune.connect(this._oscillator.detune),this._oscillator.start(i)}_stop(n){const i=this.toSeconds(n);this._oscillator&&this._oscillator.stop(i)}_restart(n){const i=this.toSeconds(n);return this.log("restart",i),this._oscillator&&this._oscillator.cancelStop(),this._state.cancel(i),this}syncFrequency(){return this.context.transport.syncSignal(this.frequency),this}unsyncFrequency(){return this.context.transport.unsyncSignal(this.frequency),this}_getCachedPeriodicWave(){if(this._type==="custom")return Ee._periodicWaveCache.find(i=>i.phase===this._phase&&PT(i.partials,this._partials));{const n=Ee._periodicWaveCache.find(i=>i.type===this._type&&i.phase===this._phase);return this._partialCount=n?n.partialCount:this._partialCount,n}}get type(){return this._type}set type(n){this._type=n;const i=["sine","square","sawtooth","triangle"].indexOf(n)!==-1;if(this._phase===0&&i)this._wave=void 0,this._partialCount=0,this._oscillator!==null&&(this._oscillator.type=n);else{const r=this._getCachedPeriodicWave();if(Pt(r)){const{partials:o,wave:l}=r;this._wave=l,this._partials=o,this._oscillator!==null&&this._oscillator.setPeriodicWave(this._wave)}else{const[o,l]=this._getRealImaginary(n,this._phase),h=this.context.createPeriodicWave(o,l);this._wave=h,this._oscillator!==null&&this._oscillator.setPeriodicWave(this._wave),Ee._periodicWaveCache.push({imag:l,partialCount:this._partialCount,partials:this._partials,phase:this._phase,real:o,type:this._type,wave:this._wave}),Ee._periodicWaveCache.length>100&&Ee._periodicWaveCache.shift()}}}get baseType(){return this._type.replace(this.partialCount.toString(),"")}set baseType(n){this.partialCount&&this._type!=="custom"&&n!=="custom"?this.type=n+this.partialCount:this.type=n}get partialCount(){return this._partialCount}set partialCount(n){ss(n,0);let i=this._type;const r=/^(sine|triangle|square|sawtooth)(\d+)$/.exec(this._type);if(r&&(i=r[1]),this._type!=="custom")n===0?this.type=i:this.type=i+n.toString();else{const o=new Float32Array(n);this._partials.forEach((l,h)=>o[h]=l),this._partials=Array.from(o),this.type=this._type}}_getRealImaginary(n,i){let o=2048;const l=new Float32Array(o),h=new Float32Array(o);let c=1;if(n==="custom"){if(c=this._partials.length+1,this._partialCount=this._partials.length,o=c,this._partials.length===0)return[l,h]}else{const d=/^(sine|triangle|square|sawtooth)(\d+)$/.exec(n);d?(c=parseInt(d[2],10)+1,this._partialCount=parseInt(d[2],10),n=d[1],c=Math.max(c,2),o=c):this._partialCount=0,this._partials=[]}for(let d=1;d<o;++d){const p=2/(d*Math.PI);let m;switch(n){case"sine":m=d<=c?1:0,this._partials[d-1]=m;break;case"square":m=d&1?2*p:0,this._partials[d-1]=m;break;case"sawtooth":m=p*(d&1?1:-1),this._partials[d-1]=m;break;case"triangle":d&1?m=2*(p*p)*(d-1>>1&1?-1:1):m=0,this._partials[d-1]=m;break;case"custom":m=this._partials[d-1];break;default:throw new TypeError("Oscillator: invalid type: "+n)}m!==0?(l[d]=-m*Math.sin(i*d),h[d]=m*Math.cos(i*d)):(l[d]=0,h[d]=0)}return[l,h]}_inverseFFT(n,i,r){let o=0;const l=n.length;for(let h=0;h<l;h++)o+=n[h]*Math.cos(h*r)+i[h]*Math.sin(h*r);return o}getInitialValue(){const[n,i]=this._getRealImaginary(this._type,0);let r=0;const o=Math.PI*2,l=32;for(let h=0;h<l;h++)r=Math.max(this._inverseFFT(n,i,h/l*o),r);return WT(-this._inverseFFT(n,i,this._phase)/r,-1,1)}get partials(){return this._partials.slice(0,this.partialCount)}set partials(n){this._partials=n,this._partialCount=this._partials.length,n.length&&(this.type="custom")}get phase(){return this._phase*(180/Math.PI)}set phase(n){this._phase=n*Math.PI/180,this.type=this._type}asArray(){return Oe(this,arguments,void 0,function*(n=1024){return Vs(this,n)})}dispose(){return super.dispose(),this._oscillator!==null&&this._oscillator.dispose(),this._wave=void 0,this.frequency.dispose(),this.detune.dispose(),this}}Ee._periodicWaveCache=[];class dw extends jr{constructor(){super(...arguments),this.name="AudioToGain",this._norm=new oo({context:this.context,mapping:n=>(n+1)/2}),this.input=this._norm,this.output=this._norm}dispose(){return super.dispose(),this._norm.dispose(),this}}class Ur extends Fe{constructor(){const n=Bt(Ur.getDefaults(),arguments,["value"]);super(n),this.name="Multiply",this.override=!1,this._mult=this.input=this.output=new Je({context:this.context,minValue:n.minValue,maxValue:n.maxValue}),this.factor=this._param=this._mult.gain,this.factor.setValueAtTime(n.value,0)}static getDefaults(){return Object.assign(Fe.getDefaults(),{value:0})}dispose(){return super.dispose(),this._mult.dispose(),this}}class eu extends Cn{constructor(){const n=Bt(eu.getDefaults(),arguments,["frequency","type","modulationType"]);super(n),this.name="AMOscillator",this._modulationScale=new dw({context:this.context}),this._modulationNode=new Je({context:this.context}),this._carrier=new Ee({context:this.context,detune:n.detune,frequency:n.frequency,onstop:()=>this.onstop(this),phase:n.phase,type:n.type}),this.frequency=this._carrier.frequency,this.detune=this._carrier.detune,this._modulator=new Ee({context:this.context,phase:n.phase,type:n.modulationType}),this.harmonicity=new Ur({context:this.context,units:"positive",value:n.harmonicity}),this.frequency.chain(this.harmonicity,this._modulator.frequency),this._modulator.chain(this._modulationScale,this._modulationNode.gain),this._carrier.chain(this._modulationNode,this.output),xe(this,["frequency","detune","harmonicity"])}static getDefaults(){return Object.assign(Ee.getDefaults(),{harmonicity:1,modulationType:"square"})}_start(n){this._modulator.start(n),this._carrier.start(n)}_stop(n){this._modulator.stop(n),this._carrier.stop(n)}_restart(n){this._modulator.restart(n),this._carrier.restart(n)}get type(){return this._carrier.type}set type(n){this._carrier.type=n}get baseType(){return this._carrier.baseType}set baseType(n){this._carrier.baseType=n}get partialCount(){return this._carrier.partialCount}set partialCount(n){this._carrier.partialCount=n}get modulationType(){return this._modulator.type}set modulationType(n){this._modulator.type=n}get phase(){return this._carrier.phase}set phase(n){this._carrier.phase=n,this._modulator.phase=n}get partials(){return this._carrier.partials}set partials(n){this._carrier.partials=n}asArray(){return Oe(this,arguments,void 0,function*(n=1024){return Vs(this,n)})}dispose(){return super.dispose(),this.frequency.dispose(),this.detune.dispose(),this.harmonicity.dispose(),this._carrier.dispose(),this._modulator.dispose(),this._modulationNode.dispose(),this._modulationScale.dispose(),this}}class nu extends Cn{constructor(){const n=Bt(nu.getDefaults(),arguments,["frequency","type","modulationType"]);super(n),this.name="FMOscillator",this._modulationNode=new Je({context:this.context,gain:0}),this._carrier=new Ee({context:this.context,detune:n.detune,frequency:0,onstop:()=>this.onstop(this),phase:n.phase,type:n.type}),this.detune=this._carrier.detune,this.frequency=new Fe({context:this.context,units:"frequency",value:n.frequency}),this._modulator=new Ee({context:this.context,phase:n.phase,type:n.modulationType}),this.harmonicity=new Ur({context:this.context,units:"positive",value:n.harmonicity}),this.modulationIndex=new Ur({context:this.context,units:"positive",value:n.modulationIndex}),this.frequency.connect(this._carrier.frequency),this.frequency.chain(this.harmonicity,this._modulator.frequency),this.frequency.chain(this.modulationIndex,this._modulationNode),this._modulator.connect(this._modulationNode.gain),this._modulationNode.connect(this._carrier.frequency),this._carrier.connect(this.output),this.detune.connect(this._modulator.detune),xe(this,["modulationIndex","frequency","detune","harmonicity"])}static getDefaults(){return Object.assign(Ee.getDefaults(),{harmonicity:1,modulationIndex:2,modulationType:"square"})}_start(n){this._modulator.start(n),this._carrier.start(n)}_stop(n){this._modulator.stop(n),this._carrier.stop(n)}_restart(n){return this._modulator.restart(n),this._carrier.restart(n),this}get type(){return this._carrier.type}set type(n){this._carrier.type=n}get baseType(){return this._carrier.baseType}set baseType(n){this._carrier.baseType=n}get partialCount(){return this._carrier.partialCount}set partialCount(n){this._carrier.partialCount=n}get modulationType(){return this._modulator.type}set modulationType(n){this._modulator.type=n}get phase(){return this._carrier.phase}set phase(n){this._carrier.phase=n,this._modulator.phase=n}get partials(){return this._carrier.partials}set partials(n){this._carrier.partials=n}asArray(){return Oe(this,arguments,void 0,function*(n=1024){return Vs(this,n)})}dispose(){return super.dispose(),this.frequency.dispose(),this.harmonicity.dispose(),this._carrier.dispose(),this._modulator.dispose(),this._modulationNode.dispose(),this.modulationIndex.dispose(),this}}class lo extends Cn{constructor(){const n=Bt(lo.getDefaults(),arguments,["frequency","width"]);super(n),this.name="PulseOscillator",this._widthGate=new Je({context:this.context,gain:0}),this._thresh=new oo({context:this.context,mapping:i=>i<=0?-1:1}),this.width=new Fe({context:this.context,units:"audioRange",value:n.width}),this._triangle=new Ee({context:this.context,detune:n.detune,frequency:n.frequency,onstop:()=>this.onstop(this),phase:n.phase,type:"triangle"}),this.frequency=this._triangle.frequency,this.detune=this._triangle.detune,this._triangle.chain(this._thresh,this.output),this.width.chain(this._widthGate,this._thresh),xe(this,["width","frequency","detune"])}static getDefaults(){return Object.assign(Cn.getDefaults(),{detune:0,frequency:440,phase:0,type:"pulse",width:.2})}_start(n){n=this.toSeconds(n),this._triangle.start(n),this._widthGate.gain.setValueAtTime(1,n)}_stop(n){n=this.toSeconds(n),this._triangle.stop(n),this._widthGate.gain.cancelScheduledValues(n),this._widthGate.gain.setValueAtTime(0,n)}_restart(n){this._triangle.restart(n),this._widthGate.gain.cancelScheduledValues(n),this._widthGate.gain.setValueAtTime(1,n)}get phase(){return this._triangle.phase}set phase(n){this._triangle.phase=n}get type(){return"pulse"}get baseType(){return"pulse"}get partials(){return[]}get partialCount(){return 0}set carrierType(n){this._triangle.type=n}asArray(){return Oe(this,arguments,void 0,function*(n=1024){return Vs(this,n)})}dispose(){return super.dispose(),this._triangle.dispose(),this.width.dispose(),this._widthGate.dispose(),this._thresh.dispose(),this}}class iu extends Cn{constructor(){const n=Bt(iu.getDefaults(),arguments,["frequency","type","spread"]);super(n),this.name="FatOscillator",this._oscillators=[],this.frequency=new Fe({context:this.context,units:"frequency",value:n.frequency}),this.detune=new Fe({context:this.context,units:"cents",value:n.detune}),this._spread=n.spread,this._type=n.type,this._phase=n.phase,this._partials=n.partials,this._partialCount=n.partialCount,this.count=n.count,xe(this,["frequency","detune"])}static getDefaults(){return Object.assign(Ee.getDefaults(),{count:3,spread:20,type:"sawtooth"})}_start(n){n=this.toSeconds(n),this._forEach(i=>i.start(n))}_stop(n){n=this.toSeconds(n),this._forEach(i=>i.stop(n))}_restart(n){this._forEach(i=>i.restart(n))}_forEach(n){for(let i=0;i<this._oscillators.length;i++)n(this._oscillators[i],i)}get type(){return this._type}set type(n){this._type=n,this._forEach(i=>i.type=n)}get spread(){return this._spread}set spread(n){if(this._spread=n,this._oscillators.length>1){const i=-n/2,r=n/(this._oscillators.length-1);this._forEach((o,l)=>o.detune.value=i+r*l)}}get count(){return this._oscillators.length}set count(n){if(ss(n,1),this._oscillators.length!==n){this._forEach(i=>i.dispose()),this._oscillators=[];for(let i=0;i<n;i++){const r=new Ee({context:this.context,volume:-6-n*1.1,type:this._type,phase:this._phase+i/n*360,partialCount:this._partialCount,onstop:i===0?()=>this.onstop(this):re});this.type==="custom"&&(r.partials=this._partials),this.frequency.connect(r.frequency),this.detune.connect(r.detune),r.detune.overridden=!1,r.connect(this.output),this._oscillators[i]=r}this.spread=this._spread,this.state==="started"&&this._forEach(i=>i.start())}}get phase(){return this._phase}set phase(n){this._phase=n,this._forEach((i,r)=>i.phase=this._phase+r/this.count*360)}get baseType(){return this._oscillators[0].baseType}set baseType(n){this._forEach(i=>i.baseType=n),this._type=this._oscillators[0].type}get partials(){return this._oscillators[0].partials}set partials(n){this._partials=n,this._partialCount=this._partials.length,n.length&&(this._type="custom",this._forEach(i=>i.partials=n))}get partialCount(){return this._oscillators[0].partialCount}set partialCount(n){this._partialCount=n,this._forEach(i=>i.partialCount=n),this._type=this._oscillators[0].type}asArray(){return Oe(this,arguments,void 0,function*(n=1024){return Vs(this,n)})}dispose(){return super.dispose(),this.frequency.dispose(),this.detune.dispose(),this._forEach(n=>n.dispose()),this}}class su extends Cn{constructor(){const n=Bt(su.getDefaults(),arguments,["frequency","modulationFrequency"]);super(n),this.name="PWMOscillator",this.sourceType="pwm",this._scale=new Ur({context:this.context,value:2}),this._pulse=new lo({context:this.context,frequency:n.modulationFrequency}),this._pulse.carrierType="sine",this.modulationFrequency=this._pulse.frequency,this._modulator=new Ee({context:this.context,detune:n.detune,frequency:n.frequency,onstop:()=>this.onstop(this),phase:n.phase}),this.frequency=this._modulator.frequency,this.detune=this._modulator.detune,this._modulator.chain(this._scale,this._pulse.width),this._pulse.connect(this.output),xe(this,["modulationFrequency","frequency","detune"])}static getDefaults(){return Object.assign(Cn.getDefaults(),{detune:0,frequency:440,modulationFrequency:.4,phase:0,type:"pwm"})}_start(n){n=this.toSeconds(n),this._modulator.start(n),this._pulse.start(n)}_stop(n){n=this.toSeconds(n),this._modulator.stop(n),this._pulse.stop(n)}_restart(n){this._modulator.restart(n),this._pulse.restart(n)}get type(){return"pwm"}get baseType(){return"pwm"}get partials(){return[]}get partialCount(){return 0}get phase(){return this._modulator.phase}set phase(n){this._modulator.phase=n}asArray(){return Oe(this,arguments,void 0,function*(n=1024){return Vs(this,n)})}dispose(){return super.dispose(),this._pulse.dispose(),this._scale.dispose(),this._modulator.dispose(),this}}const i_={am:eu,fat:iu,fm:nu,oscillator:Ee,pulse:lo,pwm:su};class Vl extends Cn{constructor(){const n=Bt(Vl.getDefaults(),arguments,["frequency","type"]);super(n),this.name="OmniOscillator",this.frequency=new Fe({context:this.context,units:"frequency",value:n.frequency}),this.detune=new Fe({context:this.context,units:"cents",value:n.detune}),xe(this,["frequency","detune"]),this.set(n)}static getDefaults(){return Object.assign(Ee.getDefaults(),nu.getDefaults(),eu.getDefaults(),iu.getDefaults(),lo.getDefaults(),su.getDefaults())}_start(n){this._oscillator.start(n)}_stop(n){this._oscillator.stop(n)}_restart(n){return this._oscillator.restart(n),this}get type(){let n="";return["am","fm","fat"].some(i=>this._sourceType===i)&&(n=this._sourceType),n+this._oscillator.type}set type(n){n.substr(0,2)==="fm"?(this._createNewOscillator("fm"),this._oscillator=this._oscillator,this._oscillator.type=n.substr(2)):n.substr(0,2)==="am"?(this._createNewOscillator("am"),this._oscillator=this._oscillator,this._oscillator.type=n.substr(2)):n.substr(0,3)==="fat"?(this._createNewOscillator("fat"),this._oscillator=this._oscillator,this._oscillator.type=n.substr(3)):n==="pwm"?(this._createNewOscillator("pwm"),this._oscillator=this._oscillator):n==="pulse"?this._createNewOscillator("pulse"):(this._createNewOscillator("oscillator"),this._oscillator=this._oscillator,this._oscillator.type=n)}get partials(){return this._oscillator.partials}set partials(n){!this._getOscType(this._oscillator,"pulse")&&!this._getOscType(this._oscillator,"pwm")&&(this._oscillator.partials=n)}get partialCount(){return this._oscillator.partialCount}set partialCount(n){!this._getOscType(this._oscillator,"pulse")&&!this._getOscType(this._oscillator,"pwm")&&(this._oscillator.partialCount=n)}set(n){return Reflect.has(n,"type")&&n.type&&(this.type=n.type),super.set(n),this}_createNewOscillator(n){if(n!==this._sourceType){this._sourceType=n;const i=i_[n],r=this.now();if(this._oscillator){const o=this._oscillator;o.stop(r),this.context.setTimeout(()=>o.dispose(),this.blockTime)}this._oscillator=new i({context:this.context}),this.frequency.connect(this._oscillator.frequency),this.detune.connect(this._oscillator.detune),this._oscillator.connect(this.output),this._oscillator.onstop=()=>this.onstop(this),this.state==="started"&&this._oscillator.start(r)}}get phase(){return this._oscillator.phase}set phase(n){this._oscillator.phase=n}get sourceType(){return this._sourceType}set sourceType(n){let i="sine";this._oscillator.type!=="pwm"&&this._oscillator.type!=="pulse"&&(i=this._oscillator.type),n==="fm"?this.type="fm"+i:n==="am"?this.type="am"+i:n==="fat"?this.type="fat"+i:n==="oscillator"?this.type=i:n==="pulse"?this.type="pulse":n==="pwm"&&(this.type="pwm")}_getOscType(n,i){return n instanceof i_[i]}get baseType(){return this._oscillator.baseType}set baseType(n){!this._getOscType(this._oscillator,"pulse")&&!this._getOscType(this._oscillator,"pwm")&&n!=="pulse"&&n!=="pwm"&&(this._oscillator.baseType=n)}get width(){if(this._getOscType(this._oscillator,"pulse"))return this._oscillator.width}get count(){if(this._getOscType(this._oscillator,"fat"))return this._oscillator.count}set count(n){this._getOscType(this._oscillator,"fat")&&is(n)&&(this._oscillator.count=n)}get spread(){if(this._getOscType(this._oscillator,"fat"))return this._oscillator.spread}set spread(n){this._getOscType(this._oscillator,"fat")&&is(n)&&(this._oscillator.spread=n)}get modulationType(){if(this._getOscType(this._oscillator,"fm")||this._getOscType(this._oscillator,"am"))return this._oscillator.modulationType}set modulationType(n){(this._getOscType(this._oscillator,"fm")||this._getOscType(this._oscillator,"am"))&&Ti(n)&&(this._oscillator.modulationType=n)}get modulationIndex(){if(this._getOscType(this._oscillator,"fm"))return this._oscillator.modulationIndex}get harmonicity(){if(this._getOscType(this._oscillator,"fm")||this._getOscType(this._oscillator,"am"))return this._oscillator.harmonicity}get modulationFrequency(){if(this._getOscType(this._oscillator,"pwm"))return this._oscillator.modulationFrequency}asArray(){return Oe(this,arguments,void 0,function*(n=1024){return Vs(this,n)})}dispose(){return super.dispose(),this.detune.dispose(),this.frequency.dispose(),this._oscillator.dispose(),this}}function P0(u,n=1/0){const i=new WeakMap;return function(r,o){Reflect.defineProperty(r,o,{configurable:!0,enumerable:!0,get:function(){return i.get(this)},set:function(l){ss(l,u,n),i.set(this,l)}})}}function ki(u,n=1/0){const i=new WeakMap;return function(r,o){Reflect.defineProperty(r,o,{configurable:!0,enumerable:!0,get:function(){return i.get(this)},set:function(l){ss(this.toSeconds(l),u,n),i.set(this,l)}})}}class ru extends Cn{constructor(){const n=Bt(ru.getDefaults(),arguments,["url","onload"]);super(n),this.name="Player",this._activeSources=new Set,this._buffer=new fe({onload:this._onload.bind(this,n.onload),onerror:n.onerror,reverse:n.reverse,url:n.url}),this.autostart=n.autostart,this._loop=n.loop,this._loopStart=n.loopStart,this._loopEnd=n.loopEnd,this._playbackRate=n.playbackRate,this.fadeIn=n.fadeIn,this.fadeOut=n.fadeOut}static getDefaults(){return Object.assign(Cn.getDefaults(),{autostart:!1,fadeIn:0,fadeOut:0,loop:!1,loopEnd:0,loopStart:0,onload:re,onerror:re,playbackRate:1,reverse:!1})}load(n){return Oe(this,void 0,void 0,function*(){return yield this._buffer.load(n),this._onload(),this})}_onload(n=re){n(),this.autostart&&this.start()}_onSourceEnd(n){this.onstop(this),this._activeSources.delete(n),this._activeSources.size===0&&!this._synced&&this._state.getValueAtTime(this.now())==="started"&&(this._state.cancel(this.now()),this._state.setStateAtTime("stopped",this.now()))}start(n,i,r){return super.start(n,i,r),this}_start(n,i,r){this._loop?i=Or(i,this._loopStart):i=Or(i,0);const o=this.toSeconds(i),l=r;r=Or(r,Math.max(this._buffer.duration-o,0));let h=this.toSeconds(r);h=h/this._playbackRate,n=this.toSeconds(n);const c=new tu({url:this._buffer,context:this.context,fadeIn:this.fadeIn,fadeOut:this.fadeOut,loop:this._loop,loopEnd:this._loopEnd,loopStart:this._loopStart,onended:this._onSourceEnd.bind(this),playbackRate:this._playbackRate}).connect(this.output);!this._loop&&!this._synced&&(this._state.cancel(n+h),this._state.setStateAtTime("stopped",n+h,{implicitEnd:!0})),this._activeSources.add(c),this._loop&&Bn(l)?c.start(n,o):c.start(n,o,h-this.toSeconds(this.fadeOut))}_stop(n){const i=this.toSeconds(n);this._activeSources.forEach(r=>r.stop(i))}restart(n,i,r){return super.restart(n,i,r),this}_restart(n,i,r){var o;(o=[...this._activeSources].pop())===null||o===void 0||o.stop(n),this._start(n,i,r)}seek(n,i){const r=this.toSeconds(i);if(this._state.getValueAtTime(r)==="started"){const o=this.toSeconds(n);this._stop(r),this._start(r,o)}return this}setLoopPoints(n,i){return this.loopStart=n,this.loopEnd=i,this}get loopStart(){return this._loopStart}set loopStart(n){this._loopStart=n,this.buffer.loaded&&ss(this.toSeconds(n),0,this.buffer.duration),this._activeSources.forEach(i=>{i.loopStart=n})}get loopEnd(){return this._loopEnd}set loopEnd(n){this._loopEnd=n,this.buffer.loaded&&ss(this.toSeconds(n),0,this.buffer.duration),this._activeSources.forEach(i=>{i.loopEnd=n})}get buffer(){return this._buffer}set buffer(n){this._buffer.set(n)}get loop(){return this._loop}set loop(n){if(this._loop!==n&&(this._loop=n,this._activeSources.forEach(i=>{i.loop=n}),n)){const i=this._state.getNextState("stopped",this.now());i&&this._state.cancel(i.time)}}get playbackRate(){return this._playbackRate}set playbackRate(n){this._playbackRate=n;const i=this.now(),r=this._state.getNextState("stopped",i);r&&r.implicitEnd&&(this._state.cancel(r.time),this._activeSources.forEach(o=>o.cancelStop())),this._activeSources.forEach(o=>{o.playbackRate.setValueAtTime(n,i)})}get reverse(){return this._buffer.reverse}set reverse(n){this._buffer.reverse=n}get loaded(){return this._buffer.loaded}dispose(){return super.dispose(),this._activeSources.forEach(n=>n.dispose()),this._activeSources.clear(),this._buffer.dispose(),this}}Wn([ki(0)],ru.prototype,"fadeIn",void 0);Wn([ki(0)],ru.prototype,"fadeOut",void 0);class ls extends Zt{constructor(){const n=Bt(ls.getDefaults(),arguments,["attack","decay","sustain","release"]);super(n),this.name="Envelope",this._sig=new Fe({context:this.context,value:0}),this.output=this._sig,this.input=void 0,this.attack=n.attack,this.decay=n.decay,this.sustain=n.sustain,this.release=n.release,this.attackCurve=n.attackCurve,this.releaseCurve=n.releaseCurve,this.decayCurve=n.decayCurve}static getDefaults(){return Object.assign(Zt.getDefaults(),{attack:.01,attackCurve:"linear",decay:.1,decayCurve:"exponential",release:1,releaseCurve:"exponential",sustain:.5})}get value(){return this.getValueAtTime(this.now())}_getCurve(n,i){if(Ti(n))return n;{let r;for(r in Al)if(Al[r][i]===n)return r;return n}}_setCurve(n,i,r){if(Ti(r)&&Reflect.has(Al,r)){const o=Al[r];Ds(o)?n!=="_decayCurve"&&(this[n]=o[i]):this[n]=o}else if(kn(r)&&n!=="_decayCurve")this[n]=r;else throw new Error("Envelope: invalid curve: "+r)}get attackCurve(){return this._getCurve(this._attackCurve,"In")}set attackCurve(n){this._setCurve("_attackCurve","In",n)}get releaseCurve(){return this._getCurve(this._releaseCurve,"Out")}set releaseCurve(n){this._setCurve("_releaseCurve","Out",n)}get decayCurve(){return this._getCurve(this._decayCurve,"Out")}set decayCurve(n){this._setCurve("_decayCurve","Out",n)}triggerAttack(n,i=1){this.log("triggerAttack",n,i),n=this.toSeconds(n);let o=this.toSeconds(this.attack);const l=this.toSeconds(this.decay),h=this.getValueAtTime(n);if(h>0){const c=1/o;o=(1-h)/c}if(o<this.sampleTime)this._sig.cancelScheduledValues(n),this._sig.setValueAtTime(i,n);else if(this._attackCurve==="linear")this._sig.linearRampTo(i,o,n);else if(this._attackCurve==="exponential")this._sig.targetRampTo(i,o,n);else{this._sig.cancelAndHoldAtTime(n);let c=this._attackCurve;for(let d=1;d<c.length;d++)if(c[d-1]<=h&&h<=c[d]){c=this._attackCurve.slice(d),c[0]=h;break}this._sig.setValueCurveAtTime(c,n,o,i)}if(l&&this.sustain<1){const c=i*this.sustain,d=n+o;this.log("decay",d),this._decayCurve==="linear"?this._sig.linearRampToValueAtTime(c,l+d):this._sig.exponentialApproachValueAtTime(c,d,l)}return this}triggerRelease(n){this.log("triggerRelease",n),n=this.toSeconds(n);const i=this.getValueAtTime(n);if(i>0){const r=this.toSeconds(this.release);r<this.sampleTime?this._sig.setValueAtTime(0,n):this._releaseCurve==="linear"?this._sig.linearRampTo(0,r,n):this._releaseCurve==="exponential"?this._sig.targetRampTo(0,r,n):(Dt(kn(this._releaseCurve),"releaseCurve must be either 'linear', 'exponential' or an array"),this._sig.cancelAndHoldAtTime(n),this._sig.setValueCurveAtTime(this._releaseCurve,n,r,i))}return this}getValueAtTime(n){return this._sig.getValueAtTime(n)}triggerAttackRelease(n,i,r=1){return i=this.toSeconds(i),this.triggerAttack(i,r),this.triggerRelease(i+this.toSeconds(n)),this}cancel(n){return this._sig.cancelScheduledValues(this.toSeconds(n)),this}connect(n,i=0,r=0){return kf(this,n,i,r),this}asArray(){return Oe(this,arguments,void 0,function*(n=1024){const i=n/this.context.sampleRate,r=new xf(1,i,this.context.sampleRate),o=this.toSeconds(this.attack)+this.toSeconds(this.decay),l=o+this.toSeconds(this.release),h=l*.1,c=l+h,d=new this.constructor(Object.assign(this.get(),{attack:i*this.toSeconds(this.attack)/c,decay:i*this.toSeconds(this.decay)/c,release:i*this.toSeconds(this.release)/c,context:r}));return d._sig.toDestination(),d.triggerAttackRelease(i*(o+h)/c,0),(yield r.render()).getChannelData(0)})}dispose(){return super.dispose(),this._sig.dispose(),this}}Wn([ki(0)],ls.prototype,"attack",void 0);Wn([ki(0)],ls.prototype,"decay",void 0);Wn([P0(0,1)],ls.prototype,"sustain",void 0);Wn([ki(0)],ls.prototype,"release",void 0);const Al=(()=>{let n,i;const r=[];for(n=0;n<128;n++)r[n]=Math.sin(n/127*(Math.PI/2));const o=[],l=6.4;for(n=0;n<127;n++){i=n/127;const y=Math.sin(i*(Math.PI*2)*l-Math.PI/2)+1;o[n]=y/10+i*.83}o[127]=1;const h=[],c=5;for(n=0;n<128;n++)h[n]=Math.ceil(n/127*c)/c;const d=[];for(n=0;n<128;n++)i=n/127,d[n]=.5*(1-Math.cos(Math.PI*i));const p=[];for(n=0;n<128;n++){i=n/127;const y=Math.pow(i,3)*4+.2,v=Math.cos(y*Math.PI*2*i);p[n]=Math.abs(v*(1-i))}function m(y){const v=new Array(y.length);for(let S=0;S<y.length;S++)v[S]=1-y[S];return v}function _(y){return y.slice(0).reverse()}return{bounce:{In:m(p),Out:p},cosine:{In:r,Out:_(r)},exponential:"exponential",linear:"linear",ripple:{In:o,Out:m(o)},sine:{In:d,Out:m(d)},step:{In:h,Out:m(h)}}})();let Br=class X0 extends Zt{constructor(){const n=Bt(X0.getDefaults(),arguments);super(n),this._scheduledEvents=[],this._synced=!1,this._original_triggerAttack=this.triggerAttack,this._original_triggerRelease=this.triggerRelease,this._syncedRelease=i=>this._original_triggerRelease(i),this._volume=this.output=new Zr({context:this.context,volume:n.volume}),this.volume=this._volume.volume,xe(this,"volume")}static getDefaults(){return Object.assign(Zt.getDefaults(),{volume:0})}sync(){return this._syncState()&&(this._syncMethod("triggerAttack",1),this._syncMethod("triggerRelease",0),this.context.transport.on("stop",this._syncedRelease),this.context.transport.on("pause",this._syncedRelease),this.context.transport.on("loopEnd",this._syncedRelease)),this}_syncState(){let n=!1;return this._synced||(this._synced=!0,n=!0),n}_syncMethod(n,i){const r=this["_original_"+n]=this[n];this[n]=(...o)=>{const l=o[i],h=this.context.transport.schedule(c=>{o[i]=c,r.apply(this,o)},l);this._scheduledEvents.push(h)}}unsync(){return this._scheduledEvents.forEach(n=>this.context.transport.clear(n)),this._scheduledEvents=[],this._synced&&(this._synced=!1,this.triggerAttack=this._original_triggerAttack,this.triggerRelease=this._original_triggerRelease,this.context.transport.off("stop",this._syncedRelease),this.context.transport.off("pause",this._syncedRelease),this.context.transport.off("loopEnd",this._syncedRelease)),this}triggerAttackRelease(n,i,r,o){const l=this.toSeconds(r),h=this.toSeconds(i);return this.triggerAttack(n,l,o),this.triggerRelease(l+h),this}dispose(){return super.dispose(),this._volume.dispose(),this.unsync(),this._scheduledEvents=[],this}};class Us extends Br{constructor(){const n=Bt(Us.getDefaults(),arguments);super(n),this.portamento=n.portamento,this.onsilence=n.onsilence}static getDefaults(){return Object.assign(Br.getDefaults(),{detune:0,onsilence:re,portamento:0})}triggerAttack(n,i,r=1){this.log("triggerAttack",n,i,r);const o=this.toSeconds(i);return this._triggerEnvelopeAttack(o,r),this.setNote(n,o),this}triggerRelease(n){this.log("triggerRelease",n);const i=this.toSeconds(n);return this._triggerEnvelopeRelease(i),this}setNote(n,i){const r=this.toSeconds(i),o=n instanceof An?n.toFrequency():n;if(this.portamento>0&&this.getLevelAtTime(r)>.05){const l=this.toSeconds(this.portamento);this.frequency.exponentialRampTo(o,l,r)}else this.frequency.setValueAtTime(o,r);return this}}Wn([ki(0)],Us.prototype,"portamento",void 0);class jf extends ls{constructor(){super(Bt(jf.getDefaults(),arguments,["attack","decay","sustain","release"])),this.name="AmplitudeEnvelope",this._gainNode=new Je({context:this.context,gain:0}),this.output=this._gainNode,this.input=this._gainNode,this._sig.connect(this._gainNode.gain),this.output=this._gainNode,this.input=this._gainNode}dispose(){return super.dispose(),this._gainNode.dispose(),this}}class Ir extends Us{constructor(){const n=Bt(Ir.getDefaults(),arguments);super(n),this.name="Synth",this.oscillator=new Vl(Object.assign({context:this.context,detune:n.detune,onstop:()=>this.onsilence(this)},n.oscillator)),this.frequency=this.oscillator.frequency,this.detune=this.oscillator.detune,this.envelope=new jf(Object.assign({context:this.context},n.envelope)),this.oscillator.chain(this.envelope,this.output),xe(this,["oscillator","frequency","detune","envelope"])}static getDefaults(){return Object.assign(Us.getDefaults(),{envelope:Object.assign(Kh(ls.getDefaults(),Object.keys(Zt.getDefaults())),{attack:.005,decay:.1,release:1,sustain:.3}),oscillator:Object.assign(Kh(Vl.getDefaults(),[...Object.keys(Cn.getDefaults()),"frequency","detune"]),{type:"triangle"})})}_triggerEnvelopeAttack(n,i){if(this.envelope.triggerAttack(n,i),this.oscillator.start(n),this.envelope.sustain===0){const r=this.toSeconds(this.envelope.attack),o=this.toSeconds(this.envelope.decay);this.oscillator.stop(n+r+o)}}_triggerEnvelopeRelease(n){this.envelope.triggerRelease(n),this.oscillator.stop(n+this.toSeconds(this.envelope.release))}getLevelAtTime(n){return n=this.toSeconds(n),this.envelope.getValueAtTime(n)}dispose(){return super.dispose(),this.oscillator.dispose(),this.envelope.dispose(),this}}class au extends Ir{constructor(){const n=Bt(au.getDefaults(),arguments);super(n),this.name="MembraneSynth",this.portamento=0,this.pitchDecay=n.pitchDecay,this.octaves=n.octaves,xe(this,["oscillator","envelope"])}static getDefaults(){return Rs(Us.getDefaults(),Ir.getDefaults(),{envelope:{attack:.001,attackCurve:"exponential",decay:.4,release:1.4,sustain:.01},octaves:10,oscillator:{type:"sine"},pitchDecay:.05})}setNote(n,i){const r=this.toSeconds(i),o=this.toFrequency(n instanceof An?n.toFrequency():n),l=o*this.octaves;return this.oscillator.frequency.setValueAtTime(l,r),this.oscillator.frequency.exponentialRampToValueAtTime(o,r+this.toSeconds(this.pitchDecay)),this}dispose(){return super.dispose(),this}}Wn([P0(0)],au.prototype,"octaves",void 0);Wn([ki(0)],au.prototype,"pitchDecay",void 0);const W0=new Set;function Uf(u){W0.add(u)}function Q0(u,n){const i=`registerProcessor("${u}", ${n})`;W0.add(i)}const pw=`
	/**
	 * The base AudioWorkletProcessor for use in Tone.js. Works with the {@link ToneAudioWorklet}. 
	 */
	class ToneAudioWorkletProcessor extends AudioWorkletProcessor {

		constructor(options) {
			
			super(options);
			/**
			 * If the processor was disposed or not. Keep alive until it's disposed.
			 */
			this.disposed = false;
		   	/** 
			 * The number of samples in the processing block
			 */
			this.blockSize = 128;
			/**
			 * the sample rate
			 */
			this.sampleRate = sampleRate;

			this.port.onmessage = (event) => {
				// when it receives a dispose 
				if (event.data === "dispose") {
					this.disposed = true;
				}
			};
		}
	}
`;Uf(pw);const mw=`
	/**
	 * Abstract class for a single input/output processor. 
	 * has a 'generate' function which processes one sample at a time
	 */
	class SingleIOProcessor extends ToneAudioWorkletProcessor {

		constructor(options) {
			super(Object.assign(options, {
				numberOfInputs: 1,
				numberOfOutputs: 1
			}));
			/**
			 * Holds the name of the parameter and a single value of that
			 * parameter at the current sample
			 * @type { [name: string]: number }
			 */
			this.params = {}
		}

		/**
		 * Generate an output sample from the input sample and parameters
		 * @abstract
		 * @param input number
		 * @param channel number
		 * @param parameters { [name: string]: number }
		 * @returns number
		 */
		generate(){}

		/**
		 * Update the private params object with the 
		 * values of the parameters at the given index
		 * @param parameters { [name: string]: Float32Array },
		 * @param index number
		 */
		updateParams(parameters, index) {
			for (const paramName in parameters) {
				const param = parameters[paramName];
				if (param.length > 1) {
					this.params[paramName] = parameters[paramName][index];
				} else {
					this.params[paramName] = parameters[paramName][0];
				}
			}
		}

		/**
		 * Process a single frame of the audio
		 * @param inputs Float32Array[][]
		 * @param outputs Float32Array[][]
		 */
		process(inputs, outputs, parameters) {
			const input = inputs[0];
			const output = outputs[0];
			// get the parameter values
			const channelCount = Math.max(input && input.length || 0, output.length);
			for (let sample = 0; sample < this.blockSize; sample++) {
				this.updateParams(parameters, sample);
				for (let channel = 0; channel < channelCount; channel++) {
					const inputSample = input && input.length ? input[channel][sample] : 0;
					output[channel][sample] = this.generate(inputSample, channel, this.params);
				}
			}
			return !this.disposed;
		}
	};
`;Uf(mw);const gw=`
	/**
	 * A multichannel buffer for use within an AudioWorkletProcessor as a delay line
	 */
	class DelayLine {
		
		constructor(size, channels) {
			this.buffer = [];
			this.writeHead = []
			this.size = size;

			// create the empty channels
			for (let i = 0; i < channels; i++) {
				this.buffer[i] = new Float32Array(this.size);
				this.writeHead[i] = 0;
			}
		}

		/**
		 * Push a value onto the end
		 * @param channel number
		 * @param value number
		 */
		push(channel, value) {
			this.writeHead[channel] += 1;
			if (this.writeHead[channel] > this.size) {
				this.writeHead[channel] = 0;
			}
			this.buffer[channel][this.writeHead[channel]] = value;
		}

		/**
		 * Get the recorded value of the channel given the delay
		 * @param channel number
		 * @param delay number delay samples
		 */
		get(channel, delay) {
			let readHead = this.writeHead[channel] - Math.floor(delay);
			if (readHead < 0) {
				readHead += this.size;
			}
			return this.buffer[channel][readHead];
		}
	}
`;Uf(gw);const _w="feedback-comb-filter",vw=`
	class FeedbackCombFilterWorklet extends SingleIOProcessor {

		constructor(options) {
			super(options);
			this.delayLine = new DelayLine(this.sampleRate, options.channelCount || 2);
		}

		static get parameterDescriptors() {
			return [{
				name: "delayTime",
				defaultValue: 0.1,
				minValue: 0,
				maxValue: 1,
				automationRate: "k-rate"
			}, {
				name: "feedback",
				defaultValue: 0.5,
				minValue: 0,
				maxValue: 0.9999,
				automationRate: "k-rate"
			}];
		}

		generate(input, channel, parameters) {
			const delayedSample = this.delayLine.get(channel, parameters.delayTime * this.sampleRate);
			this.delayLine.push(channel, input + delayedSample * parameters.feedback);
			return delayedSample;
		}
	}
`;Q0(_w,vw);class Bf extends Br{constructor(){const n=Bt(Bf.getDefaults(),arguments,["voice","options"]);super(n),this.name="PolySynth",this._availableVoices=[],this._activeVoices=[],this._voices=[],this._gcTimeout=-1,this._averageActiveVoices=0,this._syncedRelease=o=>this.releaseAll(o),Dt(!is(n.voice),"DEPRECATED: The polyphony count is no longer the first argument.");const i=n.voice.getDefaults();this.options=Object.assign(i,n.options),this.voice=n.voice,this.maxPolyphony=n.maxPolyphony,this._dummyVoice=this._getNextAvailableVoice();const r=this._voices.indexOf(this._dummyVoice);this._voices.splice(r,1),this._gcTimeout=this.context.setInterval(this._collectGarbage.bind(this),1)}static getDefaults(){return Object.assign(Br.getDefaults(),{maxPolyphony:32,options:{},voice:Ir})}get activeVoices(){return this._activeVoices.length}_makeVoiceAvailable(n){this._availableVoices.push(n);const i=this._activeVoices.findIndex(r=>r.voice===n);this._activeVoices.splice(i,1)}_getNextAvailableVoice(){if(this._availableVoices.length)return this._availableVoices.shift();if(this._voices.length<this.maxPolyphony){const n=new this.voice(Object.assign(this.options,{context:this.context,onsilence:this._makeVoiceAvailable.bind(this)}));return Dt(n instanceof Us,"Voice must extend Monophonic class"),n.connect(this.output),this._voices.push(n),n}else Xl("Max polyphony exceeded. Note dropped.")}_collectGarbage(){if(this._averageActiveVoices=Math.max(this._averageActiveVoices*.95,this.activeVoices),this._availableVoices.length&&this._voices.length>Math.ceil(this._averageActiveVoices+1)){const n=this._availableVoices.shift(),i=this._voices.indexOf(n);this._voices.splice(i,1),this.context.isOffline||n.dispose()}}_triggerAttack(n,i,r){n.forEach(o=>{const l=new ql(this.context,o).toMidi(),h=this._getNextAvailableVoice();h&&(h.triggerAttack(o,i,r),this._activeVoices.push({midi:l,voice:h,released:!1}),this.log("triggerAttack",o,i))})}_triggerRelease(n,i){n.forEach(r=>{const o=new ql(this.context,r).toMidi(),l=this._activeVoices.find(({midi:h,released:c})=>h===o&&!c);l&&(l.voice.triggerRelease(i),l.released=!0,this.log("triggerRelease",r,i))})}_scheduleEvent(n,i,r,o){Dt(!this.disposed,"Synth was already disposed"),r<=this.now()?n==="attack"?this._triggerAttack(i,r,o):this._triggerRelease(i,r):this.context.setTimeout(()=>{this.disposed||this._scheduleEvent(n,i,r,o)},r-this.now())}triggerAttack(n,i,r){Array.isArray(n)||(n=[n]);const o=this.toSeconds(i);return this._scheduleEvent("attack",n,o,r),this}triggerRelease(n,i){Array.isArray(n)||(n=[n]);const r=this.toSeconds(i);return this._scheduleEvent("release",n,r),this}triggerAttackRelease(n,i,r,o){const l=this.toSeconds(r);if(this.triggerAttack(n,l,o),kn(i)){Dt(kn(n),"If the duration is an array, the notes must also be an array"),n=n;for(let h=0;h<n.length;h++){const c=i[Math.min(h,i.length-1)],d=this.toSeconds(c);Dt(d>0,"The duration must be greater than 0"),this.triggerRelease(n[h],l+d)}}else{const h=this.toSeconds(i);Dt(h>0,"The duration must be greater than 0"),this.triggerRelease(n,l+h)}return this}sync(){return this._syncState()&&(this._syncMethod("triggerAttack",1),this._syncMethod("triggerRelease",1),this.context.transport.on("stop",this._syncedRelease),this.context.transport.on("pause",this._syncedRelease),this.context.transport.on("loopEnd",this._syncedRelease)),this}set(n){const i=Kh(n,["onsilence","context"]);return this.options=Rs(this.options,i),this._voices.forEach(r=>r.set(i)),this._dummyVoice.set(i),this}get(){return this._dummyVoice.get()}releaseAll(n){const i=this.toSeconds(n);return this._activeVoices.forEach(({voice:r})=>{r.triggerRelease(i)}),this}dispose(){return super.dispose(),this._dummyVoice.dispose(),this._voices.forEach(n=>n.dispose()),this._activeVoices=[],this._availableVoices=[],this.context.clearInterval(this._gcTimeout),this}}class qr extends Br{constructor(){const n=Bt(qr.getDefaults(),arguments,["urls","onload","baseUrl"],"urls");super(n),this.name="Sampler",this._activeSources=new Map;const i={};Object.keys(n.urls).forEach(r=>{const o=parseInt(r,10);if(Dt(wl(r)||is(o)&&isFinite(o),`url key is neither a note or midi pitch: ${r}`),wl(r)){const l=new An(this.context,r).toMidi();i[l]=n.urls[r]}else is(o)&&isFinite(o)&&(i[o]=n.urls[o])}),this._buffers=new Mf({urls:i,onload:n.onload,baseUrl:n.baseUrl,onerror:n.onerror}),this.attack=n.attack,this.release=n.release,this.curve=n.curve,this._buffers.loaded&&Promise.resolve().then(n.onload)}static getDefaults(){return Object.assign(Br.getDefaults(),{attack:0,baseUrl:"",curve:"exponential",onload:re,onerror:re,release:.1,urls:{}})}_findClosest(n){let r=0;for(;r<96;){if(this._buffers.has(n+r))return-r;if(this._buffers.has(n-r))return r;r++}throw new Error(`No available buffers for note: ${n}`)}triggerAttack(n,i,r=1){return this.log("triggerAttack",n,i,r),Array.isArray(n)||(n=[n]),n.forEach(o=>{const l=Z0(new An(this.context,o).toFrequency()),h=Math.round(l),c=l-h,d=this._findClosest(h),p=h-d,m=this._buffers.get(p),_=G0(d+c),y=new tu({url:m,context:this.context,curve:this.curve,fadeIn:this.attack,fadeOut:this.release,playbackRate:_}).connect(this.output);y.start(i,0,m.duration/_,r),kn(this._activeSources.get(h))||this._activeSources.set(h,[]),this._activeSources.get(h).push(y),y.onended=()=>{if(this._activeSources&&this._activeSources.has(h)){const v=this._activeSources.get(h),S=v.indexOf(y);S!==-1&&v.splice(S,1)}}}),this}triggerRelease(n,i){return this.log("triggerRelease",n,i),Array.isArray(n)||(n=[n]),n.forEach(r=>{const o=new An(this.context,r).toMidi();if(this._activeSources.has(o)&&this._activeSources.get(o).length){const l=this._activeSources.get(o);i=this.toSeconds(i),l.forEach(h=>{h.stop(i)}),this._activeSources.set(o,[])}}),this}releaseAll(n){const i=this.toSeconds(n);return this._activeSources.forEach(r=>{for(;r.length;)r.shift().stop(i)}),this}sync(){return this._syncState()&&(this._syncMethod("triggerAttack",1),this._syncMethod("triggerRelease",1)),this}triggerAttackRelease(n,i,r,o=1){const l=this.toSeconds(r);return this.triggerAttack(n,l,o),kn(i)?(Dt(kn(n),"notes must be an array when duration is array"),n.forEach((h,c)=>{const d=i[Math.min(c,i.length-1)];this.triggerRelease(h,l+this.toSeconds(d))})):this.triggerRelease(n,l+this.toSeconds(i)),this}add(n,i,r){if(Dt(wl(n)||isFinite(n),`note must be a pitch or midi: ${n}`),wl(n)){const o=new An(this.context,n).toMidi();this._buffers.add(o,i,r)}else this._buffers.add(n,i,r);return this}get loaded(){return this._buffers.loaded}dispose(){return super.dispose(),this._buffers.dispose(),this._activeSources.forEach(n=>{n.forEach(i=>i.dispose())}),this._activeSources.clear(),this}}Wn([ki(0)],qr.prototype,"attack",void 0);Wn([ki(0)],qr.prototype,"release",void 0);class If extends Zt{constructor(){const n=Bt(If.getDefaults(),arguments,["pan"]);super(n),this.name="Panner",this._panner=this.context.createStereoPanner(),this.input=this._panner,this.output=this._panner,this.pan=new _e({context:this.context,param:this._panner.pan,value:n.pan,minValue:-1,maxValue:1}),this._panner.channelCount=n.channelCount,this._panner.channelCountMode="explicit",xe(this,"pan")}static getDefaults(){return Object.assign(Zt.getDefaults(),{pan:0,channelCount:1})}dispose(){return super.dispose(),this._panner.disconnect(),this.pan.dispose(),this}}const yw="bit-crusher",bw=`
	class BitCrusherWorklet extends SingleIOProcessor {

		static get parameterDescriptors() {
			return [{
				name: "bits",
				defaultValue: 12,
				minValue: 1,
				maxValue: 16,
				automationRate: 'k-rate'
			}];
		}

		generate(input, _channel, parameters) {
			const step = Math.pow(0.5, parameters.bits - 1);
			const val = step * Math.floor(input / step + 0.5);
			return val;
		}
	}
`;Q0(yw,bw);class Ne extends Zt{constructor(){const n=Bt(Ne.getDefaults(),arguments,["solo"]);super(n),this.name="Solo",this.input=this.output=new Je({context:this.context}),Ne._allSolos.has(this.context)||Ne._allSolos.set(this.context,new Set),Ne._allSolos.get(this.context).add(this),this.solo=n.solo}static getDefaults(){return Object.assign(Zt.getDefaults(),{solo:!1})}get solo(){return this._isSoloed()}set solo(n){n?this._addSolo():this._removeSolo(),Ne._allSolos.get(this.context).forEach(i=>i._updateSolo())}get muted(){return this.input.gain.value===0}_addSolo(){Ne._soloed.has(this.context)||Ne._soloed.set(this.context,new Set),Ne._soloed.get(this.context).add(this)}_removeSolo(){Ne._soloed.has(this.context)&&Ne._soloed.get(this.context).delete(this)}_isSoloed(){return Ne._soloed.has(this.context)&&Ne._soloed.get(this.context).has(this)}_noSolos(){return!Ne._soloed.has(this.context)||Ne._soloed.has(this.context)&&Ne._soloed.get(this.context).size===0}_updateSolo(){this._isSoloed()?this.input.gain.value=1:this._noSolos()?this.input.gain.value=1:this.input.gain.value=0}dispose(){return super.dispose(),Ne._allSolos.get(this.context).delete(this),this._removeSolo(),this}}Ne._allSolos=new Map;Ne._soloed=new Map;class qf extends Zt{constructor(){const n=Bt(qf.getDefaults(),arguments,["pan","volume"]);super(n),this.name="PanVol",this._panner=this.input=new If({context:this.context,pan:n.pan,channelCount:n.channelCount}),this.pan=this._panner.pan,this._volume=this.output=new Zr({context:this.context,volume:n.volume}),this.volume=this._volume.volume,this._panner.connect(this._volume),this.mute=n.mute,xe(this,["pan","volume"])}static getDefaults(){return Object.assign(Zt.getDefaults(),{mute:!1,pan:0,volume:0,channelCount:1})}get mute(){return this._volume.mute}set mute(n){this._volume.mute=n}dispose(){return super.dispose(),this._panner.dispose(),this.pan.dispose(),this._volume.dispose(),this.volume.dispose(),this}}class Er extends Zt{constructor(){const n=Bt(Er.getDefaults(),arguments,["volume","pan"]);super(n),this.name="Channel",this._solo=this.input=new Ne({solo:n.solo,context:this.context}),this._panVol=this.output=new qf({context:this.context,pan:n.pan,volume:n.volume,mute:n.mute,channelCount:n.channelCount}),this.pan=this._panVol.pan,this.volume=this._panVol.volume,this._solo.connect(this._panVol),xe(this,["pan","volume"])}static getDefaults(){return Object.assign(Zt.getDefaults(),{pan:0,volume:0,mute:!1,solo:!1,channelCount:1})}get solo(){return this._solo.solo}set solo(n){this._solo.solo=n}get muted(){return this._solo.muted||this.mute}get mute(){return this._panVol.mute}set mute(n){this._panVol.mute=n}_getBus(n){return Er.buses.has(n)||Er.buses.set(n,new Je({context:this.context})),Er.buses.get(n)}send(n,i=0){const r=this._getBus(n),o=new Je({context:this.context,units:"decibels",gain:i});return this.connect(o),o.connect(r),o}receive(n){return this._getBus(n).connect(this),this}dispose(){return super.dispose(),this._panVol.dispose(),this.pan.dispose(),this.volume.dispose(),this._solo.dispose(),this}}Er.buses=new Map;const en=Gn().transport,Sw=Gn().destination;Gn().destination;Gn().listener;const xw=Gn().draw,Th=Gn();function s_(){return fe.loaded()}var Cs={},kl={},wh,r_;function Tw(){if(r_)return wh;r_=1;function u(o){var l=new r(o),h=l.readChunk();if(h.id!="MThd")throw"Bad MIDI file.  Expected 'MHdr', got: '"+h.id+"'";for(var c=n(h.data),d=[],p=0;!l.eof()&&p<c.numTracks;p++){var m=l.readChunk();if(m.id!="MTrk")throw"Bad MIDI file.  Expected 'MTrk', got: '"+m.id+"'";var _=i(m.data);d.push(_)}return{header:c,tracks:d}}function n(o){var l=new r(o),h=l.readUInt16(),c=l.readUInt16(),d={format:h,numTracks:c},p=l.readUInt16();return p&32768?(d.framesPerSecond=256-(p>>8),d.ticksPerFrame=p&255):d.ticksPerBeat=p,d}function i(o){for(var l=new r(o),h=[];!l.eof();){var c=p();h.push(c)}return h;var d;function p(){var m={};m.deltaTime=l.readVarInt();var _=l.readUInt8();if((_&240)===240)if(_===255){m.meta=!0;var y=l.readUInt8(),v=l.readVarInt();switch(y){case 0:if(m.type="sequenceNumber",v!==2)throw"Expected length for sequenceNumber event is 2, got "+v;return m.number=l.readUInt16(),m;case 1:return m.type="text",m.text=l.readString(v),m;case 2:return m.type="copyrightNotice",m.text=l.readString(v),m;case 3:return m.type="trackName",m.text=l.readString(v),m;case 4:return m.type="instrumentName",m.text=l.readString(v),m;case 5:return m.type="lyrics",m.text=l.readString(v),m;case 6:return m.type="marker",m.text=l.readString(v),m;case 7:return m.type="cuePoint",m.text=l.readString(v),m;case 32:if(m.type="channelPrefix",v!=1)throw"Expected length for channelPrefix event is 1, got "+v;return m.channel=l.readUInt8(),m;case 33:if(m.type="portPrefix",v!=1)throw"Expected length for portPrefix event is 1, got "+v;return m.port=l.readUInt8(),m;case 47:if(m.type="endOfTrack",v!=0)throw"Expected length for endOfTrack event is 0, got "+v;return m;case 81:if(m.type="setTempo",v!=3)throw"Expected length for setTempo event is 3, got "+v;return m.microsecondsPerBeat=l.readUInt24(),m;case 84:if(m.type="smpteOffset",v!=5)throw"Expected length for smpteOffset event is 5, got "+v;var S=l.readUInt8(),b={0:24,32:25,64:29,96:30};return m.frameRate=b[S&96],m.hour=S&31,m.min=l.readUInt8(),m.sec=l.readUInt8(),m.frame=l.readUInt8(),m.subFrame=l.readUInt8(),m;case 88:if(m.type="timeSignature",v!=2&&v!=4)throw"Expected length for timeSignature event is 4 or 2, got "+v;return m.numerator=l.readUInt8(),m.denominator=1<<l.readUInt8(),v===4?(m.metronome=l.readUInt8(),m.thirtyseconds=l.readUInt8()):(m.metronome=36,m.thirtyseconds=8),m;case 89:if(m.type="keySignature",v!=2)throw"Expected length for keySignature event is 2, got "+v;return m.key=l.readInt8(),m.scale=l.readUInt8(),m;case 127:return m.type="sequencerSpecific",m.data=l.readBytes(v),m;default:return m.type="unknownMeta",m.data=l.readBytes(v),m.metatypeByte=y,m}}else if(_==240){m.type="sysEx";var v=l.readVarInt();return m.data=l.readBytes(v),m}else if(_==247){m.type="endSysEx";var v=l.readVarInt();return m.data=l.readBytes(v),m}else throw"Unrecognised MIDI event type byte: "+_;else{var x;if((_&128)===0){if(d===null)throw"Running status byte encountered before status byte";x=_,_=d,m.running=!0}else x=l.readUInt8(),d=_;var T=_>>4;switch(m.channel=_&15,T){case 8:return m.type="noteOff",m.noteNumber=x,m.velocity=l.readUInt8(),m;case 9:var N=l.readUInt8();return m.type=N===0?"noteOff":"noteOn",m.noteNumber=x,m.velocity=N,N===0&&(m.byte9=!0),m;case 10:return m.type="noteAftertouch",m.noteNumber=x,m.amount=l.readUInt8(),m;case 11:return m.type="controller",m.controllerType=x,m.value=l.readUInt8(),m;case 12:return m.type="programChange",m.programNumber=x,m;case 13:return m.type="channelAftertouch",m.amount=x,m;case 14:return m.type="pitchBend",m.value=x+(l.readUInt8()<<7)-8192,m;default:throw"Unrecognised MIDI event type: "+T}}}}function r(o){this.buffer=o,this.bufferLen=this.buffer.length,this.pos=0}return r.prototype.eof=function(){return this.pos>=this.bufferLen},r.prototype.readUInt8=function(){var o=this.buffer[this.pos];return this.pos+=1,o},r.prototype.readInt8=function(){var o=this.readUInt8();return o&128?o-256:o},r.prototype.readUInt16=function(){var o=this.readUInt8(),l=this.readUInt8();return(o<<8)+l},r.prototype.readInt16=function(){var o=this.readUInt16();return o&32768?o-65536:o},r.prototype.readUInt24=function(){var o=this.readUInt8(),l=this.readUInt8(),h=this.readUInt8();return(o<<16)+(l<<8)+h},r.prototype.readInt24=function(){var o=this.readUInt24();return o&8388608?o-16777216:o},r.prototype.readUInt32=function(){var o=this.readUInt8(),l=this.readUInt8(),h=this.readUInt8(),c=this.readUInt8();return(o<<24)+(l<<16)+(h<<8)+c},r.prototype.readBytes=function(o){var l=this.buffer.slice(this.pos,this.pos+o);return this.pos+=o,l},r.prototype.readString=function(o){var l=this.readBytes(o);return String.fromCharCode.apply(null,l)},r.prototype.readVarInt=function(){for(var o=0;!this.eof();){var l=this.readUInt8();if(l&128)o+=l&127,o<<=7;else return o+l}return o},r.prototype.readChunk=function(){var o=this.readString(4),l=this.readUInt32(),h=this.readBytes(l);return{id:o,length:l,data:h}},wh=u,wh}var Ah,a_;function ww(){if(a_)return Ah;a_=1;function u(l,h){if(typeof l!="object")throw"Invalid MIDI data";h=h||{};var c=l.header||{},d=l.tracks||[],p,m=d.length,_=new o;for(n(_,c,m),p=0;p<m;p++)i(_,d[p],h);return _.buffer}function n(l,h,c){var d=h.format==null?1:h.format,p=128;h.timeDivision?p=h.timeDivision:h.ticksPerFrame&&h.framesPerSecond?p=-(h.framesPerSecond&255)<<8|h.ticksPerFrame&255:h.ticksPerBeat&&(p=h.ticksPerBeat&32767);var m=new o;m.writeUInt16(d),m.writeUInt16(c),m.writeUInt16(p),l.writeChunk("MThd",m.buffer)}function i(l,h,c){var d=new o,p,m=h.length,_=null;for(p=0;p<m;p++)(c.running===!1||!c.running&&!h[p].running)&&(_=null),_=r(d,h[p],_,c.useByte9ForNoteOff);l.writeChunk("MTrk",d.buffer)}function r(l,h,c,d){var p=h.type,m=h.deltaTime,_=h.text||"",y=h.data||[],v=null;switch(l.writeVarInt(m),p){case"sequenceNumber":l.writeUInt8(255),l.writeUInt8(0),l.writeVarInt(2),l.writeUInt16(h.number);break;case"text":l.writeUInt8(255),l.writeUInt8(1),l.writeVarInt(_.length),l.writeString(_);break;case"copyrightNotice":l.writeUInt8(255),l.writeUInt8(2),l.writeVarInt(_.length),l.writeString(_);break;case"trackName":l.writeUInt8(255),l.writeUInt8(3),l.writeVarInt(_.length),l.writeString(_);break;case"instrumentName":l.writeUInt8(255),l.writeUInt8(4),l.writeVarInt(_.length),l.writeString(_);break;case"lyrics":l.writeUInt8(255),l.writeUInt8(5),l.writeVarInt(_.length),l.writeString(_);break;case"marker":l.writeUInt8(255),l.writeUInt8(6),l.writeVarInt(_.length),l.writeString(_);break;case"cuePoint":l.writeUInt8(255),l.writeUInt8(7),l.writeVarInt(_.length),l.writeString(_);break;case"channelPrefix":l.writeUInt8(255),l.writeUInt8(32),l.writeVarInt(1),l.writeUInt8(h.channel);break;case"portPrefix":l.writeUInt8(255),l.writeUInt8(33),l.writeVarInt(1),l.writeUInt8(h.port);break;case"endOfTrack":l.writeUInt8(255),l.writeUInt8(47),l.writeVarInt(0);break;case"setTempo":l.writeUInt8(255),l.writeUInt8(81),l.writeVarInt(3),l.writeUInt24(h.microsecondsPerBeat);break;case"smpteOffset":l.writeUInt8(255),l.writeUInt8(84),l.writeVarInt(5);var S={24:0,25:32,29:64,30:96},b=h.hour&31|S[h.frameRate];l.writeUInt8(b),l.writeUInt8(h.min),l.writeUInt8(h.sec),l.writeUInt8(h.frame),l.writeUInt8(h.subFrame);break;case"timeSignature":l.writeUInt8(255),l.writeUInt8(88),l.writeVarInt(4),l.writeUInt8(h.numerator);var x=Math.floor(Math.log(h.denominator)/Math.LN2)&255;l.writeUInt8(x),l.writeUInt8(h.metronome),l.writeUInt8(h.thirtyseconds||8);break;case"keySignature":l.writeUInt8(255),l.writeUInt8(89),l.writeVarInt(2),l.writeInt8(h.key),l.writeUInt8(h.scale);break;case"sequencerSpecific":l.writeUInt8(255),l.writeUInt8(127),l.writeVarInt(y.length),l.writeBytes(y);break;case"unknownMeta":h.metatypeByte!=null&&(l.writeUInt8(255),l.writeUInt8(h.metatypeByte),l.writeVarInt(y.length),l.writeBytes(y));break;case"sysEx":l.writeUInt8(240),l.writeVarInt(y.length),l.writeBytes(y);break;case"endSysEx":l.writeUInt8(247),l.writeVarInt(y.length),l.writeBytes(y);break;case"noteOff":var T=d!==!1&&h.byte9||d&&h.velocity==0?144:128;v=T|h.channel,v!==c&&l.writeUInt8(v),l.writeUInt8(h.noteNumber),l.writeUInt8(h.velocity);break;case"noteOn":v=144|h.channel,v!==c&&l.writeUInt8(v),l.writeUInt8(h.noteNumber),l.writeUInt8(h.velocity);break;case"noteAftertouch":v=160|h.channel,v!==c&&l.writeUInt8(v),l.writeUInt8(h.noteNumber),l.writeUInt8(h.amount);break;case"controller":v=176|h.channel,v!==c&&l.writeUInt8(v),l.writeUInt8(h.controllerType),l.writeUInt8(h.value);break;case"programChange":v=192|h.channel,v!==c&&l.writeUInt8(v),l.writeUInt8(h.programNumber);break;case"channelAftertouch":v=208|h.channel,v!==c&&l.writeUInt8(v),l.writeUInt8(h.amount);break;case"pitchBend":v=224|h.channel,v!==c&&l.writeUInt8(v);var N=8192+h.value,O=N&127,E=N>>7&127;l.writeUInt8(O),l.writeUInt8(E);break;default:throw"Unrecognized event type: "+p}return v}function o(){this.buffer=[]}return o.prototype.writeUInt8=function(l){this.buffer.push(l&255)},o.prototype.writeInt8=o.prototype.writeUInt8,o.prototype.writeUInt16=function(l){var h=l>>8&255,c=l&255;this.writeUInt8(h),this.writeUInt8(c)},o.prototype.writeInt16=o.prototype.writeUInt16,o.prototype.writeUInt24=function(l){var h=l>>16&255,c=l>>8&255,d=l&255;this.writeUInt8(h),this.writeUInt8(c),this.writeUInt8(d)},o.prototype.writeInt24=o.prototype.writeUInt24,o.prototype.writeUInt32=function(l){var h=l>>24&255,c=l>>16&255,d=l>>8&255,p=l&255;this.writeUInt8(h),this.writeUInt8(c),this.writeUInt8(d),this.writeUInt8(p)},o.prototype.writeInt32=o.prototype.writeUInt32,o.prototype.writeBytes=function(l){this.buffer=this.buffer.concat(Array.prototype.slice.call(l,0))},o.prototype.writeString=function(l){var h,c=l.length,d=[];for(h=0;h<c;h++)d.push(l.codePointAt(h));this.writeBytes(d)},o.prototype.writeVarInt=function(l){if(l<0)throw"Cannot write negative variable-length integer";if(l<=127)this.writeUInt8(l);else{var h=l,c=[];for(c.push(h&127),h>>=7;h;){var d=h&127|128;c.push(d),h>>=7}this.writeBytes(c.reverse())}},o.prototype.writeChunk=function(l,h){this.writeString(l),this.writeUInt32(h.length),this.writeBytes(h)},Ah=u,Ah}var o_;function K0(){return o_||(o_=1,kl.parseMidi=Tw(),kl.writeMidi=ww()),kl}var kh={},Ns={},l_;function J0(){if(l_)return Ns;l_=1,Object.defineProperty(Ns,"__esModule",{value:!0}),Ns.insert=Ns.search=void 0;function u(i,r,o){o===void 0&&(o="ticks");var l=0,h=i.length,c=h;if(h>0&&i[h-1][o]<=r)return h-1;for(;l<c;){var d=Math.floor(l+(c-l)/2),p=i[d],m=i[d+1];if(p[o]===r){for(var _=d;_<i.length;_++){var y=i[_];y[o]===r&&(d=_)}return d}else{if(p[o]<r&&m[o]>r)return d;p[o]>r?c=d:p[o]<r&&(l=d+1)}}return-1}Ns.search=u;function n(i,r,o){if(o===void 0&&(o="ticks"),i.length){var l=u(i,r[o],o);i.splice(l+1,0,r)}else i.push(r)}return Ns.insert=n,Ns}var u_;function tf(){return u_||(u_=1,(function(u){Object.defineProperty(u,"__esModule",{value:!0}),u.Header=u.keySignatureKeys=void 0;var n=J0(),i=new WeakMap;u.keySignatureKeys=["Cb","Gb","Db","Ab","Eb","Bb","F","C","G","D","A","E","B","F#","C#"];var r=(function(){function o(l){var h=this;if(this.tempos=[],this.timeSignatures=[],this.keySignatures=[],this.meta=[],this.name="",i.set(this,480),l){i.set(this,l.header.ticksPerBeat),l.tracks.forEach(function(d){d.forEach(function(p){p.meta&&(p.type==="timeSignature"?h.timeSignatures.push({ticks:p.absoluteTime,timeSignature:[p.numerator,p.denominator]}):p.type==="setTempo"?h.tempos.push({bpm:6e7/p.microsecondsPerBeat,ticks:p.absoluteTime}):p.type==="keySignature"&&h.keySignatures.push({key:u.keySignatureKeys[p.key+7],scale:p.scale===0?"major":"minor",ticks:p.absoluteTime}))})});var c=0;l.tracks[0].forEach(function(d){c+=d.deltaTime,d.meta&&(d.type==="trackName"?h.name=d.text:(d.type==="text"||d.type==="cuePoint"||d.type==="marker"||d.type==="lyrics")&&h.meta.push({text:d.text,ticks:c,type:d.type}))}),this.update()}}return o.prototype.update=function(){var l=this,h=0,c=0;this.tempos.sort(function(d,p){return d.ticks-p.ticks}),this.tempos.forEach(function(d,p){var m=p>0?l.tempos[p-1].bpm:l.tempos[0].bpm,_=d.ticks/l.ppq-c,y=60/m*_;d.time=y+h,h=d.time,c+=_}),this.timeSignatures.sort(function(d,p){return d.ticks-p.ticks}),this.timeSignatures.forEach(function(d,p){var m=p>0?l.timeSignatures[p-1]:l.timeSignatures[0],_=(d.ticks-m.ticks)/l.ppq,y=_/m.timeSignature[0]/(m.timeSignature[1]/4);m.measures=m.measures||0,d.measures=y+m.measures})},o.prototype.ticksToSeconds=function(l){var h=(0,n.search)(this.tempos,l);if(h!==-1){var c=this.tempos[h],d=c.time,p=(l-c.ticks)/this.ppq;return d+60/c.bpm*p}else{var m=l/this.ppq;return 60/120*m}},o.prototype.ticksToMeasures=function(l){var h=(0,n.search)(this.timeSignatures,l);if(h!==-1){var c=this.timeSignatures[h],d=(l-c.ticks)/this.ppq;return c.measures+d/(c.timeSignature[0]/c.timeSignature[1])/4}else return l/this.ppq/4},Object.defineProperty(o.prototype,"ppq",{get:function(){return i.get(this)},enumerable:!1,configurable:!0}),o.prototype.secondsToTicks=function(l){var h=(0,n.search)(this.tempos,l,"time");if(h!==-1){var c=this.tempos[h],d=c.time,p=l-d,m=p/(60/c.bpm);return Math.round(c.ticks+m*this.ppq)}else{var _=l/.5;return Math.round(_*this.ppq)}},o.prototype.toJSON=function(){return{keySignatures:this.keySignatures,meta:this.meta,name:this.name,ppq:this.ppq,tempos:this.tempos.map(function(l){return{bpm:l.bpm,ticks:l.ticks}}),timeSignatures:this.timeSignatures}},o.prototype.fromJSON=function(l){this.name=l.name,this.tempos=l.tempos.map(function(h){return Object.assign({},h)}),this.timeSignatures=l.timeSignatures.map(function(h){return Object.assign({},h)}),this.keySignatures=l.keySignatures.map(function(h){return Object.assign({},h)}),this.meta=l.meta.map(function(h){return Object.assign({},h)}),i.set(this,l.ppq),this.update()},o.prototype.setTempo=function(l){this.tempos=[{bpm:l,ticks:0}],this.update()},o})();u.Header=r})(kh)),kh}var Fa={},Ch={},c_;function $0(){return c_||(c_=1,(function(u){Object.defineProperty(u,"__esModule",{value:!0}),u.ControlChange=u.controlChangeIds=u.controlChangeNames=void 0,u.controlChangeNames={1:"modulationWheel",2:"breath",4:"footController",5:"portamentoTime",7:"volume",8:"balance",10:"pan",64:"sustain",65:"portamentoTime",66:"sostenuto",67:"softPedal",68:"legatoFootswitch",84:"portamentoControl"},u.controlChangeIds=Object.keys(u.controlChangeNames).reduce(function(o,l){return o[u.controlChangeNames[l]]=l,o},{});var n=new WeakMap,i=new WeakMap,r=(function(){function o(l,h){n.set(this,h),i.set(this,l.controllerType),this.ticks=l.absoluteTime,this.value=l.value}return Object.defineProperty(o.prototype,"number",{get:function(){return i.get(this)},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"name",{get:function(){return u.controlChangeNames[this.number]?u.controlChangeNames[this.number]:null},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"time",{get:function(){var l=n.get(this);return l.ticksToSeconds(this.ticks)},set:function(l){var h=n.get(this);this.ticks=h.secondsToTicks(l)},enumerable:!1,configurable:!0}),o.prototype.toJSON=function(){return{number:this.number,ticks:this.ticks,time:this.time,value:this.value}},o})();u.ControlChange=r})(Ch)),Ch}var Ha={},h_;function Aw(){if(h_)return Ha;h_=1,Object.defineProperty(Ha,"__esModule",{value:!0}),Ha.createControlChanges=void 0;var u=$0();function n(){return new Proxy({},{get:function(i,r){if(i[r])return i[r];if(u.controlChangeIds.hasOwnProperty(r))return i[u.controlChangeIds[r]]},set:function(i,r,o){return u.controlChangeIds.hasOwnProperty(r)?i[u.controlChangeIds[r]]=o:i[r]=o,!0}})}return Ha.createControlChanges=n,Ha}var Ga={},f_;function kw(){if(f_)return Ga;f_=1,Object.defineProperty(Ga,"__esModule",{value:!0}),Ga.PitchBend=void 0;var u=new WeakMap,n=(function(){function i(r,o){u.set(this,o),this.ticks=r.absoluteTime,this.value=r.value}return Object.defineProperty(i.prototype,"time",{get:function(){var r=u.get(this);return r.ticksToSeconds(this.ticks)},set:function(r){var o=u.get(this);this.ticks=o.secondsToTicks(r)},enumerable:!1,configurable:!0}),i.prototype.toJSON=function(){return{ticks:this.ticks,time:this.time,value:this.value}},i})();return Ga.PitchBend=n,Ga}var Za={},bi={},d_;function Cw(){return d_||(d_=1,Object.defineProperty(bi,"__esModule",{value:!0}),bi.DrumKitByPatchID=bi.InstrumentFamilyByID=bi.instrumentByPatchID=void 0,bi.instrumentByPatchID=["acoustic grand piano","bright acoustic piano","electric grand piano","honky-tonk piano","electric piano 1","electric piano 2","harpsichord","clavi","celesta","glockenspiel","music box","vibraphone","marimba","xylophone","tubular bells","dulcimer","drawbar organ","percussive organ","rock organ","church organ","reed organ","accordion","harmonica","tango accordion","acoustic guitar (nylon)","acoustic guitar (steel)","electric guitar (jazz)","electric guitar (clean)","electric guitar (muted)","overdriven guitar","distortion guitar","guitar harmonics","acoustic bass","electric bass (finger)","electric bass (pick)","fretless bass","slap bass 1","slap bass 2","synth bass 1","synth bass 2","violin","viola","cello","contrabass","tremolo strings","pizzicato strings","orchestral harp","timpani","string ensemble 1","string ensemble 2","synthstrings 1","synthstrings 2","choir aahs","voice oohs","synth voice","orchestra hit","trumpet","trombone","tuba","muted trumpet","french horn","brass section","synthbrass 1","synthbrass 2","soprano sax","alto sax","tenor sax","baritone sax","oboe","english horn","bassoon","clarinet","piccolo","flute","recorder","pan flute","blown bottle","shakuhachi","whistle","ocarina","lead 1 (square)","lead 2 (sawtooth)","lead 3 (calliope)","lead 4 (chiff)","lead 5 (charang)","lead 6 (voice)","lead 7 (fifths)","lead 8 (bass + lead)","pad 1 (new age)","pad 2 (warm)","pad 3 (polysynth)","pad 4 (choir)","pad 5 (bowed)","pad 6 (metallic)","pad 7 (halo)","pad 8 (sweep)","fx 1 (rain)","fx 2 (soundtrack)","fx 3 (crystal)","fx 4 (atmosphere)","fx 5 (brightness)","fx 6 (goblins)","fx 7 (echoes)","fx 8 (sci-fi)","sitar","banjo","shamisen","koto","kalimba","bag pipe","fiddle","shanai","tinkle bell","agogo","steel drums","woodblock","taiko drum","melodic tom","synth drum","reverse cymbal","guitar fret noise","breath noise","seashore","bird tweet","telephone ring","helicopter","applause","gunshot"],bi.InstrumentFamilyByID=["piano","chromatic percussion","organ","guitar","bass","strings","ensemble","brass","reed","pipe","synth lead","synth pad","synth effects","world","percussive","sound effects"],bi.DrumKitByPatchID={0:"standard kit",8:"room kit",16:"power kit",24:"electronic kit",25:"tr-808 kit",32:"jazz kit",40:"brush kit",48:"orchestra kit",56:"sound fx kit"}),bi}var p_;function Nw(){if(p_)return Za;p_=1,Object.defineProperty(Za,"__esModule",{value:!0}),Za.Instrument=void 0;var u=Cw(),n=new WeakMap,i=(function(){function r(o,l){if(this.number=0,n.set(this,l),this.number=0,o){var h=o.find(function(c){return c.type==="programChange"});h&&(this.number=h.programNumber)}}return Object.defineProperty(r.prototype,"name",{get:function(){return this.percussion?u.DrumKitByPatchID[this.number]:u.instrumentByPatchID[this.number]},set:function(o){var l=u.instrumentByPatchID.indexOf(o);l!==-1&&(this.number=l)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"family",{get:function(){return this.percussion?"drums":u.InstrumentFamilyByID[Math.floor(this.number/8)]},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"percussion",{get:function(){var o=n.get(this);return o.channel===9},enumerable:!1,configurable:!0}),r.prototype.toJSON=function(){return{family:this.family,number:this.number,name:this.name}},r.prototype.fromJSON=function(o){this.number=o.number},r})();return Za.Instrument=i,Za}var Ya={},m_;function Ew(){if(m_)return Ya;m_=1,Object.defineProperty(Ya,"__esModule",{value:!0}),Ya.Note=void 0;function u(h){var c=Math.floor(h/12)-1;return n(h)+c.toString()}function n(h){var c=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"],d=h%12;return c[d]}function i(h){var c=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"];return c.indexOf(h)}var r=(function(){var h=/^([a-g]{1}(?:b|#|x|bb)?)(-?[0-9]+)/i,c={cbb:-2,cb:-1,c:0,"c#":1,cx:2,dbb:0,db:1,d:2,"d#":3,dx:4,ebb:2,eb:3,e:4,"e#":5,ex:6,fbb:3,fb:4,f:5,"f#":6,fx:7,gbb:5,gb:6,g:7,"g#":8,gx:9,abb:7,ab:8,a:9,"a#":10,ax:11,bbb:9,bb:10,b:11,"b#":12,bx:13};return function(d){var p=h.exec(d),m=p[1],_=p[2],y=c[m.toLowerCase()];return y+(parseInt(_,10)+1)*12}})(),o=new WeakMap,l=(function(){function h(c,d,p){o.set(this,p),this.midi=c.midi,this.velocity=c.velocity,this.noteOffVelocity=d.velocity,this.ticks=c.ticks,this.durationTicks=d.ticks-c.ticks}return Object.defineProperty(h.prototype,"name",{get:function(){return u(this.midi)},set:function(c){this.midi=r(c)},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"octave",{get:function(){return Math.floor(this.midi/12)-1},set:function(c){var d=c-this.octave;this.midi+=d*12},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"pitch",{get:function(){return n(this.midi)},set:function(c){this.midi=12*(this.octave+1)+i(c)},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"duration",{get:function(){var c=o.get(this);return c.ticksToSeconds(this.ticks+this.durationTicks)-c.ticksToSeconds(this.ticks)},set:function(c){var d=o.get(this),p=d.secondsToTicks(this.time+c);this.durationTicks=p-this.ticks},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"time",{get:function(){var c=o.get(this);return c.ticksToSeconds(this.ticks)},set:function(c){var d=o.get(this);this.ticks=d.secondsToTicks(c)},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"bars",{get:function(){var c=o.get(this);return c.ticksToMeasures(this.ticks)},enumerable:!1,configurable:!0}),h.prototype.toJSON=function(){return{duration:this.duration,durationTicks:this.durationTicks,midi:this.midi,name:this.name,ticks:this.ticks,time:this.time,velocity:this.velocity}},h})();return Ya.Note=l,Ya}var g_;function __(){if(g_)return Fa;g_=1,Object.defineProperty(Fa,"__esModule",{value:!0}),Fa.Track=void 0;var u=J0(),n=$0(),i=Aw(),r=kw(),o=Nw(),l=Ew(),h=new WeakMap,c=(function(){function d(p,m){var _=this;if(this.name="",this.notes=[],this.controlChanges=(0,i.createControlChanges)(),this.pitchBends=[],h.set(this,m),p){var y=p.find(function(E){return E.type==="trackName"});this.name=y?y.text:""}if(this.instrument=new o.Instrument(p,this),this.channel=0,p){for(var v=p.filter(function(E){return E.type==="noteOn"}),S=p.filter(function(E){return E.type==="noteOff"}),b=function(){var E=v.shift();x.channel=E.channel;var C=S.findIndex(function(z){return z.noteNumber===E.noteNumber&&z.absoluteTime>=E.absoluteTime});if(C!==-1){var j=S.splice(C,1)[0];x.addNote({durationTicks:j.absoluteTime-E.absoluteTime,midi:E.noteNumber,noteOffVelocity:j.velocity/127,ticks:E.absoluteTime,velocity:E.velocity/127})}},x=this;v.length;)b();var T=p.filter(function(E){return E.type==="controller"});T.forEach(function(E){_.addCC({number:E.controllerType,ticks:E.absoluteTime,value:E.value/127})});var N=p.filter(function(E){return E.type==="pitchBend"});N.forEach(function(E){_.addPitchBend({ticks:E.absoluteTime,value:E.value/Math.pow(2,13)})});var O=p.find(function(E){return E.type==="endOfTrack"});this.endOfTrackTicks=O!==void 0?O.absoluteTime:void 0}}return d.prototype.addNote=function(p){var m=h.get(this),_=new l.Note({midi:0,ticks:0,velocity:1},{ticks:0,velocity:0},m);return Object.assign(_,p),(0,u.insert)(this.notes,_,"ticks"),this},d.prototype.addCC=function(p){var m=h.get(this),_=new n.ControlChange({controllerType:p.number},m);return delete p.number,Object.assign(_,p),Array.isArray(this.controlChanges[_.number])||(this.controlChanges[_.number]=[]),(0,u.insert)(this.controlChanges[_.number],_,"ticks"),this},d.prototype.addPitchBend=function(p){var m=h.get(this),_=new r.PitchBend({},m);return Object.assign(_,p),(0,u.insert)(this.pitchBends,_,"ticks"),this},Object.defineProperty(d.prototype,"duration",{get:function(){if(!this.notes.length)return 0;for(var p=this.notes[this.notes.length-1].time+this.notes[this.notes.length-1].duration,m=0;m<this.notes.length-1;m++){var _=this.notes[m].time+this.notes[m].duration;p<_&&(p=_)}return p},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"durationTicks",{get:function(){if(!this.notes.length)return 0;for(var p=this.notes[this.notes.length-1].ticks+this.notes[this.notes.length-1].durationTicks,m=0;m<this.notes.length-1;m++){var _=this.notes[m].ticks+this.notes[m].durationTicks;p<_&&(p=_)}return p},enumerable:!1,configurable:!0}),d.prototype.fromJSON=function(p){var m=this;this.name=p.name,this.channel=p.channel,this.instrument=new o.Instrument(void 0,this),this.instrument.fromJSON(p.instrument),p.endOfTrackTicks!==void 0&&(this.endOfTrackTicks=p.endOfTrackTicks);for(var _ in p.controlChanges)p.controlChanges[_]&&p.controlChanges[_].forEach(function(y){m.addCC({number:y.number,ticks:y.ticks,value:y.value})});p.notes.forEach(function(y){m.addNote({durationTicks:y.durationTicks,midi:y.midi,ticks:y.ticks,velocity:y.velocity})})},d.prototype.toJSON=function(){for(var p={},m=0;m<127;m++)this.controlChanges.hasOwnProperty(m)&&(p[m]=this.controlChanges[m].map(function(y){return y.toJSON()}));var _={channel:this.channel,controlChanges:p,pitchBends:this.pitchBends.map(function(y){return y.toJSON()}),instrument:this.instrument.toJSON(),name:this.name,notes:this.notes.map(function(y){return y.toJSON()})};return this.endOfTrackTicks!==void 0&&(_.endOfTrackTicks=this.endOfTrackTicks),_},d})();return Fa.Track=c,Fa}var Es={};function Ow(u){var n=[];return tv(u,n),n}function tv(u,n){for(var i=0;i<u.length;i++){var r=u[i];Array.isArray(r)?tv(r,n):n.push(r)}}const Mw=Object.freeze(Object.defineProperty({__proto__:null,flatten:Ow},Symbol.toStringTag,{value:"Module"})),Dw=F_(Mw);var v_;function Rw(){if(v_)return Es;v_=1;var u=Es&&Es.__spreadArray||function(T,N,O){if(O||arguments.length===2)for(var E=0,C=N.length,j;E<C;E++)(j||!(E in N))&&(j||(j=Array.prototype.slice.call(N,0,E)),j[E]=N[E]);return T.concat(j||Array.prototype.slice.call(N))};Object.defineProperty(Es,"__esModule",{value:!0}),Es.encode=void 0;var n=K0(),i=tf(),r=Dw;function o(T,N){return[{absoluteTime:T.ticks,channel:N,deltaTime:0,noteNumber:T.midi,type:"noteOn",velocity:Math.floor(T.velocity*127)},{absoluteTime:T.ticks+T.durationTicks,channel:N,deltaTime:0,noteNumber:T.midi,type:"noteOff",velocity:Math.floor(T.noteOffVelocity*127)}]}function l(T){return(0,r.flatten)(T.notes.map(function(N){return o(N,T.channel)}))}function h(T,N){return{absoluteTime:T.ticks,channel:N,controllerType:T.number,deltaTime:0,type:"controller",value:Math.floor(T.value*127)}}function c(T){for(var N=[],O=0;O<127;O++)T.controlChanges.hasOwnProperty(O)&&T.controlChanges[O].forEach(function(E){N.push(h(E,T.channel))});return N}function d(T,N){return{absoluteTime:T.ticks,channel:N,deltaTime:0,type:"pitchBend",value:T.value}}function p(T){var N=[];return T.pitchBends.forEach(function(O){N.push(d(O,T.channel))}),N}function m(T){return{absoluteTime:0,channel:T.channel,deltaTime:0,programNumber:T.instrument.number,type:"programChange"}}function _(T){return{absoluteTime:0,deltaTime:0,meta:!0,text:T,type:"trackName"}}function y(T){return{absoluteTime:T.ticks,deltaTime:0,meta:!0,microsecondsPerBeat:Math.floor(6e7/T.bpm),type:"setTempo"}}function v(T){return{absoluteTime:T.ticks,deltaTime:0,denominator:T.timeSignature[1],meta:!0,metronome:24,numerator:T.timeSignature[0],thirtyseconds:8,type:"timeSignature"}}function S(T){var N=i.keySignatureKeys.indexOf(T.key);return{absoluteTime:T.ticks,deltaTime:0,key:N+7,meta:!0,scale:T.scale==="major"?0:1,type:"keySignature"}}function b(T){return{absoluteTime:T.ticks,deltaTime:0,meta:!0,text:T.text,type:T.type}}function x(T){var N={header:{format:1,numTracks:T.tracks.length+1,ticksPerBeat:T.header.ppq},tracks:u([u(u(u(u([{absoluteTime:0,deltaTime:0,meta:!0,text:T.header.name,type:"trackName"}],T.header.keySignatures.map(function(O){return S(O)}),!0),T.header.meta.map(function(O){return b(O)}),!0),T.header.tempos.map(function(O){return y(O)}),!0),T.header.timeSignatures.map(function(O){return v(O)}),!0)],T.tracks.map(function(O){return u(u(u([_(O.name),m(O)],l(O),!0),c(O),!0),p(O),!0)}),!0)};return N.tracks=N.tracks.map(function(O){O=O.sort(function(C,j){return C.absoluteTime-j.absoluteTime});var E=0;return O.forEach(function(C){C.deltaTime=C.absoluteTime-E,E=C.absoluteTime,delete C.absoluteTime}),O.push({deltaTime:0,meta:!0,type:"endOfTrack"}),O}),new Uint8Array((0,n.writeMidi)(N))}return Es.encode=x,Es}var y_;function zw(){return y_||(y_=1,(function(u){var n=Cs&&Cs.__awaiter||function(_,y,v,S){function b(x){return x instanceof v?x:new v(function(T){T(x)})}return new(v||(v=Promise))(function(x,T){function N(C){try{E(S.next(C))}catch(j){T(j)}}function O(C){try{E(S.throw(C))}catch(j){T(j)}}function E(C){C.done?x(C.value):b(C.value).then(N,O)}E((S=S.apply(_,y||[])).next())})},i=Cs&&Cs.__generator||function(_,y){var v={label:0,sent:function(){if(x[0]&1)throw x[1];return x[1]},trys:[],ops:[]},S,b,x,T;return T={next:N(0),throw:N(1),return:N(2)},typeof Symbol=="function"&&(T[Symbol.iterator]=function(){return this}),T;function N(E){return function(C){return O([E,C])}}function O(E){if(S)throw new TypeError("Generator is already executing.");for(;v;)try{if(S=1,b&&(x=E[0]&2?b.return:E[0]?b.throw||((x=b.return)&&x.call(b),0):b.next)&&!(x=x.call(b,E[1])).done)return x;switch(b=0,x&&(E=[E[0]&2,x.value]),E[0]){case 0:case 1:x=E;break;case 4:return v.label++,{value:E[1],done:!1};case 5:v.label++,b=E[1],E=[0];continue;case 7:E=v.ops.pop(),v.trys.pop();continue;default:if(x=v.trys,!(x=x.length>0&&x[x.length-1])&&(E[0]===6||E[0]===2)){v=0;continue}if(E[0]===3&&(!x||E[1]>x[0]&&E[1]<x[3])){v.label=E[1];break}if(E[0]===6&&v.label<x[1]){v.label=x[1],x=E;break}if(x&&v.label<x[2]){v.label=x[2],v.ops.push(E);break}x[2]&&v.ops.pop(),v.trys.pop();continue}E=y.call(_,v)}catch(C){E=[6,C],b=0}finally{S=x=0}if(E[0]&5)throw E[1];return{value:E[0]?E[1]:void 0,done:!0}}};Object.defineProperty(u,"__esModule",{value:!0}),u.Header=u.Track=u.Midi=void 0;var r=K0(),o=tf(),l=__(),h=Rw(),c=(function(){function _(y){var v=this,S=null;if(y){var b=y instanceof ArrayBuffer?new Uint8Array(y):y;S=(0,r.parseMidi)(b),S.tracks.forEach(function(x){var T=0;x.forEach(function(N){T+=N.deltaTime,N.absoluteTime=T})}),S.tracks=m(S.tracks)}this.header=new o.Header(S),this.tracks=[],y&&(this.tracks=S.tracks.map(function(x){return new l.Track(x,v.header)}),S.header.format===1&&this.tracks[0].duration===0&&this.tracks.shift())}return _.fromUrl=function(y){return n(this,void 0,void 0,function(){var v,S;return i(this,function(b){switch(b.label){case 0:return[4,fetch(y)];case 1:return v=b.sent(),v.ok?[4,v.arrayBuffer()]:[3,3];case 2:return S=b.sent(),[2,new _(S)];case 3:throw new Error("Could not load '".concat(y,"'"))}})})},Object.defineProperty(_.prototype,"name",{get:function(){return this.header.name},set:function(y){this.header.name=y},enumerable:!1,configurable:!0}),Object.defineProperty(_.prototype,"duration",{get:function(){var y=this.tracks.map(function(v){return v.duration});return Math.max.apply(Math,y)},enumerable:!1,configurable:!0}),Object.defineProperty(_.prototype,"durationTicks",{get:function(){var y=this.tracks.map(function(v){return v.durationTicks});return Math.max.apply(Math,y)},enumerable:!1,configurable:!0}),_.prototype.addTrack=function(){var y=new l.Track(void 0,this.header);return this.tracks.push(y),y},_.prototype.toArray=function(){return(0,h.encode)(this)},_.prototype.toJSON=function(){return{header:this.header.toJSON(),tracks:this.tracks.map(function(y){return y.toJSON()})}},_.prototype.fromJSON=function(y){var v=this;this.header=new o.Header,this.header.fromJSON(y.header),this.tracks=y.tracks.map(function(S){var b=new l.Track(void 0,v.header);return b.fromJSON(S),b})},_.prototype.clone=function(){var y=new _;return y.fromJSON(this.toJSON()),y},_})();u.Midi=c;var d=__();Object.defineProperty(u,"Track",{enumerable:!0,get:function(){return d.Track}});var p=tf();Object.defineProperty(u,"Header",{enumerable:!0,get:function(){return p.Header}});function m(_){for(var y=[],v=0;v<_.length;v++)for(var S=y.length,b=new Map,x=Array(16).fill(0),T=0,N=_[v];T<N.length;T++){var O=N[T],E=S,C=O.channel;if(C!==void 0){O.type==="programChange"&&(x[C]=O.programNumber);var j=x[C],z="".concat(j," ").concat(C);b.has(z)?E=b.get(z):(E=S+b.size,b.set(z,E))}y[E]||y.push([]),y[E].push(O)}return y}})(Cs)),Cs}var $i=zw();function es(u){throw new Error('Could not dynamically require "'+u+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Nh={exports:{}};/*!

JSZip v3.10.1 - A JavaScript class for generating and reading zip files
<http://stuartk.com/jszip>

(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

JSZip uses the library pako released under the MIT license :
https://github.com/nodeca/pako/blob/main/LICENSE
*/var b_;function jw(){return b_||(b_=1,(function(u,n){(function(i){u.exports=i()})(function(){return(function i(r,o,l){function h(p,m){if(!o[p]){if(!r[p]){var _=typeof es=="function"&&es;if(!m&&_)return _(p,!0);if(c)return c(p,!0);var y=new Error("Cannot find module '"+p+"'");throw y.code="MODULE_NOT_FOUND",y}var v=o[p]={exports:{}};r[p][0].call(v.exports,function(S){var b=r[p][1][S];return h(b||S)},v,v.exports,i,r,o,l)}return o[p].exports}for(var c=typeof es=="function"&&es,d=0;d<l.length;d++)h(l[d]);return h})({1:[function(i,r,o){var l=i("./utils"),h=i("./support"),c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";o.encode=function(d){for(var p,m,_,y,v,S,b,x=[],T=0,N=d.length,O=N,E=l.getTypeOf(d)!=="string";T<d.length;)O=N-T,_=E?(p=d[T++],m=T<N?d[T++]:0,T<N?d[T++]:0):(p=d.charCodeAt(T++),m=T<N?d.charCodeAt(T++):0,T<N?d.charCodeAt(T++):0),y=p>>2,v=(3&p)<<4|m>>4,S=1<O?(15&m)<<2|_>>6:64,b=2<O?63&_:64,x.push(c.charAt(y)+c.charAt(v)+c.charAt(S)+c.charAt(b));return x.join("")},o.decode=function(d){var p,m,_,y,v,S,b=0,x=0,T="data:";if(d.substr(0,T.length)===T)throw new Error("Invalid base64 input, it looks like a data url.");var N,O=3*(d=d.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(d.charAt(d.length-1)===c.charAt(64)&&O--,d.charAt(d.length-2)===c.charAt(64)&&O--,O%1!=0)throw new Error("Invalid base64 input, bad content length.");for(N=h.uint8array?new Uint8Array(0|O):new Array(0|O);b<d.length;)p=c.indexOf(d.charAt(b++))<<2|(y=c.indexOf(d.charAt(b++)))>>4,m=(15&y)<<4|(v=c.indexOf(d.charAt(b++)))>>2,_=(3&v)<<6|(S=c.indexOf(d.charAt(b++))),N[x++]=p,v!==64&&(N[x++]=m),S!==64&&(N[x++]=_);return N}},{"./support":30,"./utils":32}],2:[function(i,r,o){var l=i("./external"),h=i("./stream/DataWorker"),c=i("./stream/Crc32Probe"),d=i("./stream/DataLengthProbe");function p(m,_,y,v,S){this.compressedSize=m,this.uncompressedSize=_,this.crc32=y,this.compression=v,this.compressedContent=S}p.prototype={getContentWorker:function(){var m=new h(l.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new d("data_length")),_=this;return m.on("end",function(){if(this.streamInfo.data_length!==_.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),m},getCompressedWorker:function(){return new h(l.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},p.createWorkerFrom=function(m,_,y){return m.pipe(new c).pipe(new d("uncompressedSize")).pipe(_.compressWorker(y)).pipe(new d("compressedSize")).withStreamInfo("compression",_)},r.exports=p},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(i,r,o){var l=i("./stream/GenericWorker");o.STORE={magic:"\0\0",compressWorker:function(){return new l("STORE compression")},uncompressWorker:function(){return new l("STORE decompression")}},o.DEFLATE=i("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(i,r,o){var l=i("./utils"),h=(function(){for(var c,d=[],p=0;p<256;p++){c=p;for(var m=0;m<8;m++)c=1&c?3988292384^c>>>1:c>>>1;d[p]=c}return d})();r.exports=function(c,d){return c!==void 0&&c.length?l.getTypeOf(c)!=="string"?(function(p,m,_,y){var v=h,S=y+_;p^=-1;for(var b=y;b<S;b++)p=p>>>8^v[255&(p^m[b])];return-1^p})(0|d,c,c.length,0):(function(p,m,_,y){var v=h,S=y+_;p^=-1;for(var b=y;b<S;b++)p=p>>>8^v[255&(p^m.charCodeAt(b))];return-1^p})(0|d,c,c.length,0):0}},{"./utils":32}],5:[function(i,r,o){o.base64=!1,o.binary=!1,o.dir=!1,o.createFolders=!0,o.date=null,o.compression=null,o.compressionOptions=null,o.comment=null,o.unixPermissions=null,o.dosPermissions=null},{}],6:[function(i,r,o){var l=null;l=typeof Promise<"u"?Promise:i("lie"),r.exports={Promise:l}},{lie:37}],7:[function(i,r,o){var l=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",h=i("pako"),c=i("./utils"),d=i("./stream/GenericWorker"),p=l?"uint8array":"array";function m(_,y){d.call(this,"FlateWorker/"+_),this._pako=null,this._pakoAction=_,this._pakoOptions=y,this.meta={}}o.magic="\b\0",c.inherits(m,d),m.prototype.processChunk=function(_){this.meta=_.meta,this._pako===null&&this._createPako(),this._pako.push(c.transformTo(p,_.data),!1)},m.prototype.flush=function(){d.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},m.prototype.cleanUp=function(){d.prototype.cleanUp.call(this),this._pako=null},m.prototype._createPako=function(){this._pako=new h[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var _=this;this._pako.onData=function(y){_.push({data:y,meta:_.meta})}},o.compressWorker=function(_){return new m("Deflate",_)},o.uncompressWorker=function(){return new m("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(i,r,o){function l(v,S){var b,x="";for(b=0;b<S;b++)x+=String.fromCharCode(255&v),v>>>=8;return x}function h(v,S,b,x,T,N){var O,E,C=v.file,j=v.compression,z=N!==p.utf8encode,R=c.transformTo("string",N(C.name)),V=c.transformTo("string",p.utf8encode(C.name)),P=C.comment,et=c.transformTo("string",N(P)),D=c.transformTo("string",p.utf8encode(P)),X=V.length!==C.name.length,w=D.length!==P.length,J="",G="",H="",ct=C.dir,tt=C.date,U={crc32:0,compressedSize:0,uncompressedSize:0};S&&!b||(U.crc32=v.crc32,U.compressedSize=v.compressedSize,U.uncompressedSize=v.uncompressedSize);var B=0;S&&(B|=8),z||!X&&!w||(B|=2048);var F=0,lt=0;ct&&(F|=16),T==="UNIX"?(lt=798,F|=(function(rt,dt){var xt=rt;return rt||(xt=dt?16893:33204),(65535&xt)<<16})(C.unixPermissions,ct)):(lt=20,F|=(function(rt){return 63&(rt||0)})(C.dosPermissions)),O=tt.getUTCHours(),O<<=6,O|=tt.getUTCMinutes(),O<<=5,O|=tt.getUTCSeconds()/2,E=tt.getUTCFullYear()-1980,E<<=4,E|=tt.getUTCMonth()+1,E<<=5,E|=tt.getUTCDate(),X&&(G=l(1,1)+l(m(R),4)+V,J+="up"+l(G.length,2)+G),w&&(H=l(1,1)+l(m(et),4)+D,J+="uc"+l(H.length,2)+H);var ut="";return ut+=`
\0`,ut+=l(B,2),ut+=j.magic,ut+=l(O,2),ut+=l(E,2),ut+=l(U.crc32,4),ut+=l(U.compressedSize,4),ut+=l(U.uncompressedSize,4),ut+=l(R.length,2),ut+=l(J.length,2),{fileRecord:_.LOCAL_FILE_HEADER+ut+R+J,dirRecord:_.CENTRAL_FILE_HEADER+l(lt,2)+ut+l(et.length,2)+"\0\0\0\0"+l(F,4)+l(x,4)+R+J+et}}var c=i("../utils"),d=i("../stream/GenericWorker"),p=i("../utf8"),m=i("../crc32"),_=i("../signature");function y(v,S,b,x){d.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=S,this.zipPlatform=b,this.encodeFileName=x,this.streamFiles=v,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}c.inherits(y,d),y.prototype.push=function(v){var S=v.meta.percent||0,b=this.entriesCount,x=this._sources.length;this.accumulate?this.contentBuffer.push(v):(this.bytesWritten+=v.data.length,d.prototype.push.call(this,{data:v.data,meta:{currentFile:this.currentFile,percent:b?(S+100*(b-x-1))/b:100}}))},y.prototype.openedSource=function(v){this.currentSourceOffset=this.bytesWritten,this.currentFile=v.file.name;var S=this.streamFiles&&!v.file.dir;if(S){var b=h(v,S,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:b.fileRecord,meta:{percent:0}})}else this.accumulate=!0},y.prototype.closedSource=function(v){this.accumulate=!1;var S=this.streamFiles&&!v.file.dir,b=h(v,S,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(b.dirRecord),S)this.push({data:(function(x){return _.DATA_DESCRIPTOR+l(x.crc32,4)+l(x.compressedSize,4)+l(x.uncompressedSize,4)})(v),meta:{percent:100}});else for(this.push({data:b.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},y.prototype.flush=function(){for(var v=this.bytesWritten,S=0;S<this.dirRecords.length;S++)this.push({data:this.dirRecords[S],meta:{percent:100}});var b=this.bytesWritten-v,x=(function(T,N,O,E,C){var j=c.transformTo("string",C(E));return _.CENTRAL_DIRECTORY_END+"\0\0\0\0"+l(T,2)+l(T,2)+l(N,4)+l(O,4)+l(j.length,2)+j})(this.dirRecords.length,b,v,this.zipComment,this.encodeFileName);this.push({data:x,meta:{percent:100}})},y.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},y.prototype.registerPrevious=function(v){this._sources.push(v);var S=this;return v.on("data",function(b){S.processChunk(b)}),v.on("end",function(){S.closedSource(S.previous.streamInfo),S._sources.length?S.prepareNextSource():S.end()}),v.on("error",function(b){S.error(b)}),this},y.prototype.resume=function(){return!!d.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},y.prototype.error=function(v){var S=this._sources;if(!d.prototype.error.call(this,v))return!1;for(var b=0;b<S.length;b++)try{S[b].error(v)}catch{}return!0},y.prototype.lock=function(){d.prototype.lock.call(this);for(var v=this._sources,S=0;S<v.length;S++)v[S].lock()},r.exports=y},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(i,r,o){var l=i("../compressions"),h=i("./ZipFileWorker");o.generateWorker=function(c,d,p){var m=new h(d.streamFiles,p,d.platform,d.encodeFileName),_=0;try{c.forEach(function(y,v){_++;var S=(function(N,O){var E=N||O,C=l[E];if(!C)throw new Error(E+" is not a valid compression method !");return C})(v.options.compression,d.compression),b=v.options.compressionOptions||d.compressionOptions||{},x=v.dir,T=v.date;v._compressWorker(S,b).withStreamInfo("file",{name:y,dir:x,date:T,comment:v.comment||"",unixPermissions:v.unixPermissions,dosPermissions:v.dosPermissions}).pipe(m)}),m.entriesCount=_}catch(y){m.error(y)}return m}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(i,r,o){function l(){if(!(this instanceof l))return new l;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var h=new l;for(var c in this)typeof this[c]!="function"&&(h[c]=this[c]);return h}}(l.prototype=i("./object")).loadAsync=i("./load"),l.support=i("./support"),l.defaults=i("./defaults"),l.version="3.10.1",l.loadAsync=function(h,c){return new l().loadAsync(h,c)},l.external=i("./external"),r.exports=l},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(i,r,o){var l=i("./utils"),h=i("./external"),c=i("./utf8"),d=i("./zipEntries"),p=i("./stream/Crc32Probe"),m=i("./nodejsUtils");function _(y){return new h.Promise(function(v,S){var b=y.decompressed.getContentWorker().pipe(new p);b.on("error",function(x){S(x)}).on("end",function(){b.streamInfo.crc32!==y.decompressed.crc32?S(new Error("Corrupted zip : CRC32 mismatch")):v()}).resume()})}r.exports=function(y,v){var S=this;return v=l.extend(v||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:c.utf8decode}),m.isNode&&m.isStream(y)?h.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):l.prepareContent("the loaded zip file",y,!0,v.optimizedBinaryString,v.base64).then(function(b){var x=new d(v);return x.load(b),x}).then(function(b){var x=[h.Promise.resolve(b)],T=b.files;if(v.checkCRC32)for(var N=0;N<T.length;N++)x.push(_(T[N]));return h.Promise.all(x)}).then(function(b){for(var x=b.shift(),T=x.files,N=0;N<T.length;N++){var O=T[N],E=O.fileNameStr,C=l.resolve(O.fileNameStr);S.file(C,O.decompressed,{binary:!0,optimizedBinaryString:!0,date:O.date,dir:O.dir,comment:O.fileCommentStr.length?O.fileCommentStr:null,unixPermissions:O.unixPermissions,dosPermissions:O.dosPermissions,createFolders:v.createFolders}),O.dir||(S.file(C).unsafeOriginalName=E)}return x.zipComment.length&&(S.comment=x.zipComment),S})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(i,r,o){var l=i("../utils"),h=i("../stream/GenericWorker");function c(d,p){h.call(this,"Nodejs stream input adapter for "+d),this._upstreamEnded=!1,this._bindStream(p)}l.inherits(c,h),c.prototype._bindStream=function(d){var p=this;(this._stream=d).pause(),d.on("data",function(m){p.push({data:m,meta:{percent:0}})}).on("error",function(m){p.isPaused?this.generatedError=m:p.error(m)}).on("end",function(){p.isPaused?p._upstreamEnded=!0:p.end()})},c.prototype.pause=function(){return!!h.prototype.pause.call(this)&&(this._stream.pause(),!0)},c.prototype.resume=function(){return!!h.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},r.exports=c},{"../stream/GenericWorker":28,"../utils":32}],13:[function(i,r,o){var l=i("readable-stream").Readable;function h(c,d,p){l.call(this,d),this._helper=c;var m=this;c.on("data",function(_,y){m.push(_)||m._helper.pause(),p&&p(y)}).on("error",function(_){m.emit("error",_)}).on("end",function(){m.push(null)})}i("../utils").inherits(h,l),h.prototype._read=function(){this._helper.resume()},r.exports=h},{"../utils":32,"readable-stream":16}],14:[function(i,r,o){r.exports={isNode:typeof Buffer<"u",newBufferFrom:function(l,h){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(l,h);if(typeof l=="number")throw new Error('The "data" argument must not be a number');return new Buffer(l,h)},allocBuffer:function(l){if(Buffer.alloc)return Buffer.alloc(l);var h=new Buffer(l);return h.fill(0),h},isBuffer:function(l){return Buffer.isBuffer(l)},isStream:function(l){return l&&typeof l.on=="function"&&typeof l.pause=="function"&&typeof l.resume=="function"}}},{}],15:[function(i,r,o){function l(C,j,z){var R,V=c.getTypeOf(j),P=c.extend(z||{},m);P.date=P.date||new Date,P.compression!==null&&(P.compression=P.compression.toUpperCase()),typeof P.unixPermissions=="string"&&(P.unixPermissions=parseInt(P.unixPermissions,8)),P.unixPermissions&&16384&P.unixPermissions&&(P.dir=!0),P.dosPermissions&&16&P.dosPermissions&&(P.dir=!0),P.dir&&(C=T(C)),P.createFolders&&(R=x(C))&&N.call(this,R,!0);var et=V==="string"&&P.binary===!1&&P.base64===!1;z&&z.binary!==void 0||(P.binary=!et),(j instanceof _&&j.uncompressedSize===0||P.dir||!j||j.length===0)&&(P.base64=!1,P.binary=!0,j="",P.compression="STORE",V="string");var D=null;D=j instanceof _||j instanceof d?j:S.isNode&&S.isStream(j)?new b(C,j):c.prepareContent(C,j,P.binary,P.optimizedBinaryString,P.base64);var X=new y(C,D,P);this.files[C]=X}var h=i("./utf8"),c=i("./utils"),d=i("./stream/GenericWorker"),p=i("./stream/StreamHelper"),m=i("./defaults"),_=i("./compressedObject"),y=i("./zipObject"),v=i("./generate"),S=i("./nodejsUtils"),b=i("./nodejs/NodejsStreamInputAdapter"),x=function(C){C.slice(-1)==="/"&&(C=C.substring(0,C.length-1));var j=C.lastIndexOf("/");return 0<j?C.substring(0,j):""},T=function(C){return C.slice(-1)!=="/"&&(C+="/"),C},N=function(C,j){return j=j!==void 0?j:m.createFolders,C=T(C),this.files[C]||l.call(this,C,null,{dir:!0,createFolders:j}),this.files[C]};function O(C){return Object.prototype.toString.call(C)==="[object RegExp]"}var E={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(C){var j,z,R;for(j in this.files)R=this.files[j],(z=j.slice(this.root.length,j.length))&&j.slice(0,this.root.length)===this.root&&C(z,R)},filter:function(C){var j=[];return this.forEach(function(z,R){C(z,R)&&j.push(R)}),j},file:function(C,j,z){if(arguments.length!==1)return C=this.root+C,l.call(this,C,j,z),this;if(O(C)){var R=C;return this.filter(function(P,et){return!et.dir&&R.test(P)})}var V=this.files[this.root+C];return V&&!V.dir?V:null},folder:function(C){if(!C)return this;if(O(C))return this.filter(function(V,P){return P.dir&&C.test(V)});var j=this.root+C,z=N.call(this,j),R=this.clone();return R.root=z.name,R},remove:function(C){C=this.root+C;var j=this.files[C];if(j||(C.slice(-1)!=="/"&&(C+="/"),j=this.files[C]),j&&!j.dir)delete this.files[C];else for(var z=this.filter(function(V,P){return P.name.slice(0,C.length)===C}),R=0;R<z.length;R++)delete this.files[z[R].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(C){var j,z={};try{if((z=c.extend(C||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:h.utf8encode})).type=z.type.toLowerCase(),z.compression=z.compression.toUpperCase(),z.type==="binarystring"&&(z.type="string"),!z.type)throw new Error("No output type specified.");c.checkSupport(z.type),z.platform!=="darwin"&&z.platform!=="freebsd"&&z.platform!=="linux"&&z.platform!=="sunos"||(z.platform="UNIX"),z.platform==="win32"&&(z.platform="DOS");var R=z.comment||this.comment||"";j=v.generateWorker(this,z,R)}catch(V){(j=new d("error")).error(V)}return new p(j,z.type||"string",z.mimeType)},generateAsync:function(C,j){return this.generateInternalStream(C).accumulate(j)},generateNodeStream:function(C,j){return(C=C||{}).type||(C.type="nodebuffer"),this.generateInternalStream(C).toNodejsStream(j)}};r.exports=E},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(i,r,o){r.exports=i("stream")},{stream:void 0}],17:[function(i,r,o){var l=i("./DataReader");function h(c){l.call(this,c);for(var d=0;d<this.data.length;d++)c[d]=255&c[d]}i("../utils").inherits(h,l),h.prototype.byteAt=function(c){return this.data[this.zero+c]},h.prototype.lastIndexOfSignature=function(c){for(var d=c.charCodeAt(0),p=c.charCodeAt(1),m=c.charCodeAt(2),_=c.charCodeAt(3),y=this.length-4;0<=y;--y)if(this.data[y]===d&&this.data[y+1]===p&&this.data[y+2]===m&&this.data[y+3]===_)return y-this.zero;return-1},h.prototype.readAndCheckSignature=function(c){var d=c.charCodeAt(0),p=c.charCodeAt(1),m=c.charCodeAt(2),_=c.charCodeAt(3),y=this.readData(4);return d===y[0]&&p===y[1]&&m===y[2]&&_===y[3]},h.prototype.readData=function(c){if(this.checkOffset(c),c===0)return[];var d=this.data.slice(this.zero+this.index,this.zero+this.index+c);return this.index+=c,d},r.exports=h},{"../utils":32,"./DataReader":18}],18:[function(i,r,o){var l=i("../utils");function h(c){this.data=c,this.length=c.length,this.index=0,this.zero=0}h.prototype={checkOffset:function(c){this.checkIndex(this.index+c)},checkIndex:function(c){if(this.length<this.zero+c||c<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+c+"). Corrupted zip ?")},setIndex:function(c){this.checkIndex(c),this.index=c},skip:function(c){this.setIndex(this.index+c)},byteAt:function(){},readInt:function(c){var d,p=0;for(this.checkOffset(c),d=this.index+c-1;d>=this.index;d--)p=(p<<8)+this.byteAt(d);return this.index+=c,p},readString:function(c){return l.transformTo("string",this.readData(c))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var c=this.readInt(4);return new Date(Date.UTC(1980+(c>>25&127),(c>>21&15)-1,c>>16&31,c>>11&31,c>>5&63,(31&c)<<1))}},r.exports=h},{"../utils":32}],19:[function(i,r,o){var l=i("./Uint8ArrayReader");function h(c){l.call(this,c)}i("../utils").inherits(h,l),h.prototype.readData=function(c){this.checkOffset(c);var d=this.data.slice(this.zero+this.index,this.zero+this.index+c);return this.index+=c,d},r.exports=h},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(i,r,o){var l=i("./DataReader");function h(c){l.call(this,c)}i("../utils").inherits(h,l),h.prototype.byteAt=function(c){return this.data.charCodeAt(this.zero+c)},h.prototype.lastIndexOfSignature=function(c){return this.data.lastIndexOf(c)-this.zero},h.prototype.readAndCheckSignature=function(c){return c===this.readData(4)},h.prototype.readData=function(c){this.checkOffset(c);var d=this.data.slice(this.zero+this.index,this.zero+this.index+c);return this.index+=c,d},r.exports=h},{"../utils":32,"./DataReader":18}],21:[function(i,r,o){var l=i("./ArrayReader");function h(c){l.call(this,c)}i("../utils").inherits(h,l),h.prototype.readData=function(c){if(this.checkOffset(c),c===0)return new Uint8Array(0);var d=this.data.subarray(this.zero+this.index,this.zero+this.index+c);return this.index+=c,d},r.exports=h},{"../utils":32,"./ArrayReader":17}],22:[function(i,r,o){var l=i("../utils"),h=i("../support"),c=i("./ArrayReader"),d=i("./StringReader"),p=i("./NodeBufferReader"),m=i("./Uint8ArrayReader");r.exports=function(_){var y=l.getTypeOf(_);return l.checkSupport(y),y!=="string"||h.uint8array?y==="nodebuffer"?new p(_):h.uint8array?new m(l.transformTo("uint8array",_)):new c(l.transformTo("array",_)):new d(_)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(i,r,o){o.LOCAL_FILE_HEADER="PK",o.CENTRAL_FILE_HEADER="PK",o.CENTRAL_DIRECTORY_END="PK",o.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",o.ZIP64_CENTRAL_DIRECTORY_END="PK",o.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(i,r,o){var l=i("./GenericWorker"),h=i("../utils");function c(d){l.call(this,"ConvertWorker to "+d),this.destType=d}h.inherits(c,l),c.prototype.processChunk=function(d){this.push({data:h.transformTo(this.destType,d.data),meta:d.meta})},r.exports=c},{"../utils":32,"./GenericWorker":28}],25:[function(i,r,o){var l=i("./GenericWorker"),h=i("../crc32");function c(){l.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}i("../utils").inherits(c,l),c.prototype.processChunk=function(d){this.streamInfo.crc32=h(d.data,this.streamInfo.crc32||0),this.push(d)},r.exports=c},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(i,r,o){var l=i("../utils"),h=i("./GenericWorker");function c(d){h.call(this,"DataLengthProbe for "+d),this.propName=d,this.withStreamInfo(d,0)}l.inherits(c,h),c.prototype.processChunk=function(d){if(d){var p=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=p+d.data.length}h.prototype.processChunk.call(this,d)},r.exports=c},{"../utils":32,"./GenericWorker":28}],27:[function(i,r,o){var l=i("../utils"),h=i("./GenericWorker");function c(d){h.call(this,"DataWorker");var p=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,d.then(function(m){p.dataIsReady=!0,p.data=m,p.max=m&&m.length||0,p.type=l.getTypeOf(m),p.isPaused||p._tickAndRepeat()},function(m){p.error(m)})}l.inherits(c,h),c.prototype.cleanUp=function(){h.prototype.cleanUp.call(this),this.data=null},c.prototype.resume=function(){return!!h.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,l.delay(this._tickAndRepeat,[],this)),!0)},c.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(l.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},c.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var d=null,p=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":d=this.data.substring(this.index,p);break;case"uint8array":d=this.data.subarray(this.index,p);break;case"array":case"nodebuffer":d=this.data.slice(this.index,p)}return this.index=p,this.push({data:d,meta:{percent:this.max?this.index/this.max*100:0}})},r.exports=c},{"../utils":32,"./GenericWorker":28}],28:[function(i,r,o){function l(h){this.name=h||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}l.prototype={push:function(h){this.emit("data",h)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(h){this.emit("error",h)}return!0},error:function(h){return!this.isFinished&&(this.isPaused?this.generatedError=h:(this.isFinished=!0,this.emit("error",h),this.previous&&this.previous.error(h),this.cleanUp()),!0)},on:function(h,c){return this._listeners[h].push(c),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(h,c){if(this._listeners[h])for(var d=0;d<this._listeners[h].length;d++)this._listeners[h][d].call(this,c)},pipe:function(h){return h.registerPrevious(this)},registerPrevious:function(h){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=h.streamInfo,this.mergeStreamInfo(),this.previous=h;var c=this;return h.on("data",function(d){c.processChunk(d)}),h.on("end",function(){c.end()}),h.on("error",function(d){c.error(d)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var h=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),h=!0),this.previous&&this.previous.resume(),!h},flush:function(){},processChunk:function(h){this.push(h)},withStreamInfo:function(h,c){return this.extraStreamInfo[h]=c,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var h in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,h)&&(this.streamInfo[h]=this.extraStreamInfo[h])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var h="Worker "+this.name;return this.previous?this.previous+" -> "+h:h}},r.exports=l},{}],29:[function(i,r,o){var l=i("../utils"),h=i("./ConvertWorker"),c=i("./GenericWorker"),d=i("../base64"),p=i("../support"),m=i("../external"),_=null;if(p.nodestream)try{_=i("../nodejs/NodejsStreamOutputAdapter")}catch{}function y(S,b){return new m.Promise(function(x,T){var N=[],O=S._internalType,E=S._outputType,C=S._mimeType;S.on("data",function(j,z){N.push(j),b&&b(z)}).on("error",function(j){N=[],T(j)}).on("end",function(){try{var j=(function(z,R,V){switch(z){case"blob":return l.newBlob(l.transformTo("arraybuffer",R),V);case"base64":return d.encode(R);default:return l.transformTo(z,R)}})(E,(function(z,R){var V,P=0,et=null,D=0;for(V=0;V<R.length;V++)D+=R[V].length;switch(z){case"string":return R.join("");case"array":return Array.prototype.concat.apply([],R);case"uint8array":for(et=new Uint8Array(D),V=0;V<R.length;V++)et.set(R[V],P),P+=R[V].length;return et;case"nodebuffer":return Buffer.concat(R);default:throw new Error("concat : unsupported type '"+z+"'")}})(O,N),C);x(j)}catch(z){T(z)}N=[]}).resume()})}function v(S,b,x){var T=b;switch(b){case"blob":case"arraybuffer":T="uint8array";break;case"base64":T="string"}try{this._internalType=T,this._outputType=b,this._mimeType=x,l.checkSupport(T),this._worker=S.pipe(new h(T)),S.lock()}catch(N){this._worker=new c("error"),this._worker.error(N)}}v.prototype={accumulate:function(S){return y(this,S)},on:function(S,b){var x=this;return S==="data"?this._worker.on(S,function(T){b.call(x,T.data,T.meta)}):this._worker.on(S,function(){l.delay(b,arguments,x)}),this},resume:function(){return l.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(S){if(l.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new _(this,{objectMode:this._outputType!=="nodebuffer"},S)}},r.exports=v},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(i,r,o){if(o.base64=!0,o.array=!0,o.string=!0,o.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",o.nodebuffer=typeof Buffer<"u",o.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")o.blob=!1;else{var l=new ArrayBuffer(0);try{o.blob=new Blob([l],{type:"application/zip"}).size===0}catch{try{var h=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);h.append(l),o.blob=h.getBlob("application/zip").size===0}catch{o.blob=!1}}}try{o.nodestream=!!i("readable-stream").Readable}catch{o.nodestream=!1}},{"readable-stream":16}],31:[function(i,r,o){for(var l=i("./utils"),h=i("./support"),c=i("./nodejsUtils"),d=i("./stream/GenericWorker"),p=new Array(256),m=0;m<256;m++)p[m]=252<=m?6:248<=m?5:240<=m?4:224<=m?3:192<=m?2:1;p[254]=p[254]=1;function _(){d.call(this,"utf-8 decode"),this.leftOver=null}function y(){d.call(this,"utf-8 encode")}o.utf8encode=function(v){return h.nodebuffer?c.newBufferFrom(v,"utf-8"):(function(S){var b,x,T,N,O,E=S.length,C=0;for(N=0;N<E;N++)(64512&(x=S.charCodeAt(N)))==55296&&N+1<E&&(64512&(T=S.charCodeAt(N+1)))==56320&&(x=65536+(x-55296<<10)+(T-56320),N++),C+=x<128?1:x<2048?2:x<65536?3:4;for(b=h.uint8array?new Uint8Array(C):new Array(C),N=O=0;O<C;N++)(64512&(x=S.charCodeAt(N)))==55296&&N+1<E&&(64512&(T=S.charCodeAt(N+1)))==56320&&(x=65536+(x-55296<<10)+(T-56320),N++),x<128?b[O++]=x:(x<2048?b[O++]=192|x>>>6:(x<65536?b[O++]=224|x>>>12:(b[O++]=240|x>>>18,b[O++]=128|x>>>12&63),b[O++]=128|x>>>6&63),b[O++]=128|63&x);return b})(v)},o.utf8decode=function(v){return h.nodebuffer?l.transformTo("nodebuffer",v).toString("utf-8"):(function(S){var b,x,T,N,O=S.length,E=new Array(2*O);for(b=x=0;b<O;)if((T=S[b++])<128)E[x++]=T;else if(4<(N=p[T]))E[x++]=65533,b+=N-1;else{for(T&=N===2?31:N===3?15:7;1<N&&b<O;)T=T<<6|63&S[b++],N--;1<N?E[x++]=65533:T<65536?E[x++]=T:(T-=65536,E[x++]=55296|T>>10&1023,E[x++]=56320|1023&T)}return E.length!==x&&(E.subarray?E=E.subarray(0,x):E.length=x),l.applyFromCharCode(E)})(v=l.transformTo(h.uint8array?"uint8array":"array",v))},l.inherits(_,d),_.prototype.processChunk=function(v){var S=l.transformTo(h.uint8array?"uint8array":"array",v.data);if(this.leftOver&&this.leftOver.length){if(h.uint8array){var b=S;(S=new Uint8Array(b.length+this.leftOver.length)).set(this.leftOver,0),S.set(b,this.leftOver.length)}else S=this.leftOver.concat(S);this.leftOver=null}var x=(function(N,O){var E;for((O=O||N.length)>N.length&&(O=N.length),E=O-1;0<=E&&(192&N[E])==128;)E--;return E<0||E===0?O:E+p[N[E]]>O?E:O})(S),T=S;x!==S.length&&(h.uint8array?(T=S.subarray(0,x),this.leftOver=S.subarray(x,S.length)):(T=S.slice(0,x),this.leftOver=S.slice(x,S.length))),this.push({data:o.utf8decode(T),meta:v.meta})},_.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:o.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},o.Utf8DecodeWorker=_,l.inherits(y,d),y.prototype.processChunk=function(v){this.push({data:o.utf8encode(v.data),meta:v.meta})},o.Utf8EncodeWorker=y},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(i,r,o){var l=i("./support"),h=i("./base64"),c=i("./nodejsUtils"),d=i("./external");function p(b){return b}function m(b,x){for(var T=0;T<b.length;++T)x[T]=255&b.charCodeAt(T);return x}i("setimmediate"),o.newBlob=function(b,x){o.checkSupport("blob");try{return new Blob([b],{type:x})}catch{try{var T=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return T.append(b),T.getBlob(x)}catch{throw new Error("Bug : can't construct the Blob.")}}};var _={stringifyByChunk:function(b,x,T){var N=[],O=0,E=b.length;if(E<=T)return String.fromCharCode.apply(null,b);for(;O<E;)x==="array"||x==="nodebuffer"?N.push(String.fromCharCode.apply(null,b.slice(O,Math.min(O+T,E)))):N.push(String.fromCharCode.apply(null,b.subarray(O,Math.min(O+T,E)))),O+=T;return N.join("")},stringifyByChar:function(b){for(var x="",T=0;T<b.length;T++)x+=String.fromCharCode(b[T]);return x},applyCanBeUsed:{uint8array:(function(){try{return l.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}})(),nodebuffer:(function(){try{return l.nodebuffer&&String.fromCharCode.apply(null,c.allocBuffer(1)).length===1}catch{return!1}})()}};function y(b){var x=65536,T=o.getTypeOf(b),N=!0;if(T==="uint8array"?N=_.applyCanBeUsed.uint8array:T==="nodebuffer"&&(N=_.applyCanBeUsed.nodebuffer),N)for(;1<x;)try{return _.stringifyByChunk(b,T,x)}catch{x=Math.floor(x/2)}return _.stringifyByChar(b)}function v(b,x){for(var T=0;T<b.length;T++)x[T]=b[T];return x}o.applyFromCharCode=y;var S={};S.string={string:p,array:function(b){return m(b,new Array(b.length))},arraybuffer:function(b){return S.string.uint8array(b).buffer},uint8array:function(b){return m(b,new Uint8Array(b.length))},nodebuffer:function(b){return m(b,c.allocBuffer(b.length))}},S.array={string:y,array:p,arraybuffer:function(b){return new Uint8Array(b).buffer},uint8array:function(b){return new Uint8Array(b)},nodebuffer:function(b){return c.newBufferFrom(b)}},S.arraybuffer={string:function(b){return y(new Uint8Array(b))},array:function(b){return v(new Uint8Array(b),new Array(b.byteLength))},arraybuffer:p,uint8array:function(b){return new Uint8Array(b)},nodebuffer:function(b){return c.newBufferFrom(new Uint8Array(b))}},S.uint8array={string:y,array:function(b){return v(b,new Array(b.length))},arraybuffer:function(b){return b.buffer},uint8array:p,nodebuffer:function(b){return c.newBufferFrom(b)}},S.nodebuffer={string:y,array:function(b){return v(b,new Array(b.length))},arraybuffer:function(b){return S.nodebuffer.uint8array(b).buffer},uint8array:function(b){return v(b,new Uint8Array(b.length))},nodebuffer:p},o.transformTo=function(b,x){if(x=x||"",!b)return x;o.checkSupport(b);var T=o.getTypeOf(x);return S[T][b](x)},o.resolve=function(b){for(var x=b.split("/"),T=[],N=0;N<x.length;N++){var O=x[N];O==="."||O===""&&N!==0&&N!==x.length-1||(O===".."?T.pop():T.push(O))}return T.join("/")},o.getTypeOf=function(b){return typeof b=="string"?"string":Object.prototype.toString.call(b)==="[object Array]"?"array":l.nodebuffer&&c.isBuffer(b)?"nodebuffer":l.uint8array&&b instanceof Uint8Array?"uint8array":l.arraybuffer&&b instanceof ArrayBuffer?"arraybuffer":void 0},o.checkSupport=function(b){if(!l[b.toLowerCase()])throw new Error(b+" is not supported by this platform")},o.MAX_VALUE_16BITS=65535,o.MAX_VALUE_32BITS=-1,o.pretty=function(b){var x,T,N="";for(T=0;T<(b||"").length;T++)N+="\\x"+((x=b.charCodeAt(T))<16?"0":"")+x.toString(16).toUpperCase();return N},o.delay=function(b,x,T){setImmediate(function(){b.apply(T||null,x||[])})},o.inherits=function(b,x){function T(){}T.prototype=x.prototype,b.prototype=new T},o.extend=function(){var b,x,T={};for(b=0;b<arguments.length;b++)for(x in arguments[b])Object.prototype.hasOwnProperty.call(arguments[b],x)&&T[x]===void 0&&(T[x]=arguments[b][x]);return T},o.prepareContent=function(b,x,T,N,O){return d.Promise.resolve(x).then(function(E){return l.blob&&(E instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(E))!==-1)&&typeof FileReader<"u"?new d.Promise(function(C,j){var z=new FileReader;z.onload=function(R){C(R.target.result)},z.onerror=function(R){j(R.target.error)},z.readAsArrayBuffer(E)}):E}).then(function(E){var C=o.getTypeOf(E);return C?(C==="arraybuffer"?E=o.transformTo("uint8array",E):C==="string"&&(O?E=h.decode(E):T&&N!==!0&&(E=(function(j){return m(j,l.uint8array?new Uint8Array(j.length):new Array(j.length))})(E))),E):d.Promise.reject(new Error("Can't read the data of '"+b+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(i,r,o){var l=i("./reader/readerFor"),h=i("./utils"),c=i("./signature"),d=i("./zipEntry"),p=i("./support");function m(_){this.files=[],this.loadOptions=_}m.prototype={checkSignature:function(_){if(!this.reader.readAndCheckSignature(_)){this.reader.index-=4;var y=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+h.pretty(y)+", expected "+h.pretty(_)+")")}},isSignature:function(_,y){var v=this.reader.index;this.reader.setIndex(_);var S=this.reader.readString(4)===y;return this.reader.setIndex(v),S},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var _=this.reader.readData(this.zipCommentLength),y=p.uint8array?"uint8array":"array",v=h.transformTo(y,_);this.zipComment=this.loadOptions.decodeFileName(v)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var _,y,v,S=this.zip64EndOfCentralSize-44;0<S;)_=this.reader.readInt(2),y=this.reader.readInt(4),v=this.reader.readData(y),this.zip64ExtensibleData[_]={id:_,length:y,value:v}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var _,y;for(_=0;_<this.files.length;_++)y=this.files[_],this.reader.setIndex(y.localHeaderOffset),this.checkSignature(c.LOCAL_FILE_HEADER),y.readLocalPart(this.reader),y.handleUTF8(),y.processAttributes()},readCentralDir:function(){var _;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(c.CENTRAL_FILE_HEADER);)(_=new d({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(_);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var _=this.reader.lastIndexOfSignature(c.CENTRAL_DIRECTORY_END);if(_<0)throw this.isSignature(0,c.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(_);var y=_;if(this.checkSignature(c.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===h.MAX_VALUE_16BITS||this.diskWithCentralDirStart===h.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===h.MAX_VALUE_16BITS||this.centralDirRecords===h.MAX_VALUE_16BITS||this.centralDirSize===h.MAX_VALUE_32BITS||this.centralDirOffset===h.MAX_VALUE_32BITS){if(this.zip64=!0,(_=this.reader.lastIndexOfSignature(c.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(_),this.checkSignature(c.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,c.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(c.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(c.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var v=this.centralDirOffset+this.centralDirSize;this.zip64&&(v+=20,v+=12+this.zip64EndOfCentralSize);var S=y-v;if(0<S)this.isSignature(y,c.CENTRAL_FILE_HEADER)||(this.reader.zero=S);else if(S<0)throw new Error("Corrupted zip: missing "+Math.abs(S)+" bytes.")},prepareReader:function(_){this.reader=l(_)},load:function(_){this.prepareReader(_),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},r.exports=m},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(i,r,o){var l=i("./reader/readerFor"),h=i("./utils"),c=i("./compressedObject"),d=i("./crc32"),p=i("./utf8"),m=i("./compressions"),_=i("./support");function y(v,S){this.options=v,this.loadOptions=S}y.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(v){var S,b;if(v.skip(22),this.fileNameLength=v.readInt(2),b=v.readInt(2),this.fileName=v.readData(this.fileNameLength),v.skip(b),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((S=(function(x){for(var T in m)if(Object.prototype.hasOwnProperty.call(m,T)&&m[T].magic===x)return m[T];return null})(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+h.pretty(this.compressionMethod)+" unknown (inner file : "+h.transformTo("string",this.fileName)+")");this.decompressed=new c(this.compressedSize,this.uncompressedSize,this.crc32,S,v.readData(this.compressedSize))},readCentralPart:function(v){this.versionMadeBy=v.readInt(2),v.skip(2),this.bitFlag=v.readInt(2),this.compressionMethod=v.readString(2),this.date=v.readDate(),this.crc32=v.readInt(4),this.compressedSize=v.readInt(4),this.uncompressedSize=v.readInt(4);var S=v.readInt(2);if(this.extraFieldsLength=v.readInt(2),this.fileCommentLength=v.readInt(2),this.diskNumberStart=v.readInt(2),this.internalFileAttributes=v.readInt(2),this.externalFileAttributes=v.readInt(4),this.localHeaderOffset=v.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");v.skip(S),this.readExtraFields(v),this.parseZIP64ExtraField(v),this.fileComment=v.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var v=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),v==0&&(this.dosPermissions=63&this.externalFileAttributes),v==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var v=l(this.extraFields[1].value);this.uncompressedSize===h.MAX_VALUE_32BITS&&(this.uncompressedSize=v.readInt(8)),this.compressedSize===h.MAX_VALUE_32BITS&&(this.compressedSize=v.readInt(8)),this.localHeaderOffset===h.MAX_VALUE_32BITS&&(this.localHeaderOffset=v.readInt(8)),this.diskNumberStart===h.MAX_VALUE_32BITS&&(this.diskNumberStart=v.readInt(4))}},readExtraFields:function(v){var S,b,x,T=v.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});v.index+4<T;)S=v.readInt(2),b=v.readInt(2),x=v.readData(b),this.extraFields[S]={id:S,length:b,value:x};v.setIndex(T)},handleUTF8:function(){var v=_.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=p.utf8decode(this.fileName),this.fileCommentStr=p.utf8decode(this.fileComment);else{var S=this.findExtraFieldUnicodePath();if(S!==null)this.fileNameStr=S;else{var b=h.transformTo(v,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(b)}var x=this.findExtraFieldUnicodeComment();if(x!==null)this.fileCommentStr=x;else{var T=h.transformTo(v,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(T)}}},findExtraFieldUnicodePath:function(){var v=this.extraFields[28789];if(v){var S=l(v.value);return S.readInt(1)!==1||d(this.fileName)!==S.readInt(4)?null:p.utf8decode(S.readData(v.length-5))}return null},findExtraFieldUnicodeComment:function(){var v=this.extraFields[25461];if(v){var S=l(v.value);return S.readInt(1)!==1||d(this.fileComment)!==S.readInt(4)?null:p.utf8decode(S.readData(v.length-5))}return null}},r.exports=y},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(i,r,o){function l(S,b,x){this.name=S,this.dir=x.dir,this.date=x.date,this.comment=x.comment,this.unixPermissions=x.unixPermissions,this.dosPermissions=x.dosPermissions,this._data=b,this._dataBinary=x.binary,this.options={compression:x.compression,compressionOptions:x.compressionOptions}}var h=i("./stream/StreamHelper"),c=i("./stream/DataWorker"),d=i("./utf8"),p=i("./compressedObject"),m=i("./stream/GenericWorker");l.prototype={internalStream:function(S){var b=null,x="string";try{if(!S)throw new Error("No output type specified.");var T=(x=S.toLowerCase())==="string"||x==="text";x!=="binarystring"&&x!=="text"||(x="string"),b=this._decompressWorker();var N=!this._dataBinary;N&&!T&&(b=b.pipe(new d.Utf8EncodeWorker)),!N&&T&&(b=b.pipe(new d.Utf8DecodeWorker))}catch(O){(b=new m("error")).error(O)}return new h(b,x,"")},async:function(S,b){return this.internalStream(S).accumulate(b)},nodeStream:function(S,b){return this.internalStream(S||"nodebuffer").toNodejsStream(b)},_compressWorker:function(S,b){if(this._data instanceof p&&this._data.compression.magic===S.magic)return this._data.getCompressedWorker();var x=this._decompressWorker();return this._dataBinary||(x=x.pipe(new d.Utf8EncodeWorker)),p.createWorkerFrom(x,S,b)},_decompressWorker:function(){return this._data instanceof p?this._data.getContentWorker():this._data instanceof m?this._data:new c(this._data)}};for(var _=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],y=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},v=0;v<_.length;v++)l.prototype[_[v]]=y;r.exports=l},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(i,r,o){(function(l){var h,c,d=l.MutationObserver||l.WebKitMutationObserver;if(d){var p=0,m=new d(S),_=l.document.createTextNode("");m.observe(_,{characterData:!0}),h=function(){_.data=p=++p%2}}else if(l.setImmediate||l.MessageChannel===void 0)h="document"in l&&"onreadystatechange"in l.document.createElement("script")?function(){var b=l.document.createElement("script");b.onreadystatechange=function(){S(),b.onreadystatechange=null,b.parentNode.removeChild(b),b=null},l.document.documentElement.appendChild(b)}:function(){setTimeout(S,0)};else{var y=new l.MessageChannel;y.port1.onmessage=S,h=function(){y.port2.postMessage(0)}}var v=[];function S(){var b,x;c=!0;for(var T=v.length;T;){for(x=v,v=[],b=-1;++b<T;)x[b]();T=v.length}c=!1}r.exports=function(b){v.push(b)!==1||c||h()}}).call(this,typeof Sl<"u"?Sl:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(i,r,o){var l=i("immediate");function h(){}var c={},d=["REJECTED"],p=["FULFILLED"],m=["PENDING"];function _(T){if(typeof T!="function")throw new TypeError("resolver must be a function");this.state=m,this.queue=[],this.outcome=void 0,T!==h&&b(this,T)}function y(T,N,O){this.promise=T,typeof N=="function"&&(this.onFulfilled=N,this.callFulfilled=this.otherCallFulfilled),typeof O=="function"&&(this.onRejected=O,this.callRejected=this.otherCallRejected)}function v(T,N,O){l(function(){var E;try{E=N(O)}catch(C){return c.reject(T,C)}E===T?c.reject(T,new TypeError("Cannot resolve promise with itself")):c.resolve(T,E)})}function S(T){var N=T&&T.then;if(T&&(typeof T=="object"||typeof T=="function")&&typeof N=="function")return function(){N.apply(T,arguments)}}function b(T,N){var O=!1;function E(z){O||(O=!0,c.reject(T,z))}function C(z){O||(O=!0,c.resolve(T,z))}var j=x(function(){N(C,E)});j.status==="error"&&E(j.value)}function x(T,N){var O={};try{O.value=T(N),O.status="success"}catch(E){O.status="error",O.value=E}return O}(r.exports=_).prototype.finally=function(T){if(typeof T!="function")return this;var N=this.constructor;return this.then(function(O){return N.resolve(T()).then(function(){return O})},function(O){return N.resolve(T()).then(function(){throw O})})},_.prototype.catch=function(T){return this.then(null,T)},_.prototype.then=function(T,N){if(typeof T!="function"&&this.state===p||typeof N!="function"&&this.state===d)return this;var O=new this.constructor(h);return this.state!==m?v(O,this.state===p?T:N,this.outcome):this.queue.push(new y(O,T,N)),O},y.prototype.callFulfilled=function(T){c.resolve(this.promise,T)},y.prototype.otherCallFulfilled=function(T){v(this.promise,this.onFulfilled,T)},y.prototype.callRejected=function(T){c.reject(this.promise,T)},y.prototype.otherCallRejected=function(T){v(this.promise,this.onRejected,T)},c.resolve=function(T,N){var O=x(S,N);if(O.status==="error")return c.reject(T,O.value);var E=O.value;if(E)b(T,E);else{T.state=p,T.outcome=N;for(var C=-1,j=T.queue.length;++C<j;)T.queue[C].callFulfilled(N)}return T},c.reject=function(T,N){T.state=d,T.outcome=N;for(var O=-1,E=T.queue.length;++O<E;)T.queue[O].callRejected(N);return T},_.resolve=function(T){return T instanceof this?T:c.resolve(new this(h),T)},_.reject=function(T){var N=new this(h);return c.reject(N,T)},_.all=function(T){var N=this;if(Object.prototype.toString.call(T)!=="[object Array]")return this.reject(new TypeError("must be an array"));var O=T.length,E=!1;if(!O)return this.resolve([]);for(var C=new Array(O),j=0,z=-1,R=new this(h);++z<O;)V(T[z],z);return R;function V(P,et){N.resolve(P).then(function(D){C[et]=D,++j!==O||E||(E=!0,c.resolve(R,C))},function(D){E||(E=!0,c.reject(R,D))})}},_.race=function(T){var N=this;if(Object.prototype.toString.call(T)!=="[object Array]")return this.reject(new TypeError("must be an array"));var O=T.length,E=!1;if(!O)return this.resolve([]);for(var C=-1,j=new this(h);++C<O;)z=T[C],N.resolve(z).then(function(R){E||(E=!0,c.resolve(j,R))},function(R){E||(E=!0,c.reject(j,R))});var z;return j}},{immediate:36}],38:[function(i,r,o){var l={};(0,i("./lib/utils/common").assign)(l,i("./lib/deflate"),i("./lib/inflate"),i("./lib/zlib/constants")),r.exports=l},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(i,r,o){var l=i("./zlib/deflate"),h=i("./utils/common"),c=i("./utils/strings"),d=i("./zlib/messages"),p=i("./zlib/zstream"),m=Object.prototype.toString,_=0,y=-1,v=0,S=8;function b(T){if(!(this instanceof b))return new b(T);this.options=h.assign({level:y,method:S,chunkSize:16384,windowBits:15,memLevel:8,strategy:v,to:""},T||{});var N=this.options;N.raw&&0<N.windowBits?N.windowBits=-N.windowBits:N.gzip&&0<N.windowBits&&N.windowBits<16&&(N.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new p,this.strm.avail_out=0;var O=l.deflateInit2(this.strm,N.level,N.method,N.windowBits,N.memLevel,N.strategy);if(O!==_)throw new Error(d[O]);if(N.header&&l.deflateSetHeader(this.strm,N.header),N.dictionary){var E;if(E=typeof N.dictionary=="string"?c.string2buf(N.dictionary):m.call(N.dictionary)==="[object ArrayBuffer]"?new Uint8Array(N.dictionary):N.dictionary,(O=l.deflateSetDictionary(this.strm,E))!==_)throw new Error(d[O]);this._dict_set=!0}}function x(T,N){var O=new b(N);if(O.push(T,!0),O.err)throw O.msg||d[O.err];return O.result}b.prototype.push=function(T,N){var O,E,C=this.strm,j=this.options.chunkSize;if(this.ended)return!1;E=N===~~N?N:N===!0?4:0,typeof T=="string"?C.input=c.string2buf(T):m.call(T)==="[object ArrayBuffer]"?C.input=new Uint8Array(T):C.input=T,C.next_in=0,C.avail_in=C.input.length;do{if(C.avail_out===0&&(C.output=new h.Buf8(j),C.next_out=0,C.avail_out=j),(O=l.deflate(C,E))!==1&&O!==_)return this.onEnd(O),!(this.ended=!0);C.avail_out!==0&&(C.avail_in!==0||E!==4&&E!==2)||(this.options.to==="string"?this.onData(c.buf2binstring(h.shrinkBuf(C.output,C.next_out))):this.onData(h.shrinkBuf(C.output,C.next_out)))}while((0<C.avail_in||C.avail_out===0)&&O!==1);return E===4?(O=l.deflateEnd(this.strm),this.onEnd(O),this.ended=!0,O===_):E!==2||(this.onEnd(_),!(C.avail_out=0))},b.prototype.onData=function(T){this.chunks.push(T)},b.prototype.onEnd=function(T){T===_&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=h.flattenChunks(this.chunks)),this.chunks=[],this.err=T,this.msg=this.strm.msg},o.Deflate=b,o.deflate=x,o.deflateRaw=function(T,N){return(N=N||{}).raw=!0,x(T,N)},o.gzip=function(T,N){return(N=N||{}).gzip=!0,x(T,N)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(i,r,o){var l=i("./zlib/inflate"),h=i("./utils/common"),c=i("./utils/strings"),d=i("./zlib/constants"),p=i("./zlib/messages"),m=i("./zlib/zstream"),_=i("./zlib/gzheader"),y=Object.prototype.toString;function v(b){if(!(this instanceof v))return new v(b);this.options=h.assign({chunkSize:16384,windowBits:0,to:""},b||{});var x=this.options;x.raw&&0<=x.windowBits&&x.windowBits<16&&(x.windowBits=-x.windowBits,x.windowBits===0&&(x.windowBits=-15)),!(0<=x.windowBits&&x.windowBits<16)||b&&b.windowBits||(x.windowBits+=32),15<x.windowBits&&x.windowBits<48&&(15&x.windowBits)==0&&(x.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new m,this.strm.avail_out=0;var T=l.inflateInit2(this.strm,x.windowBits);if(T!==d.Z_OK)throw new Error(p[T]);this.header=new _,l.inflateGetHeader(this.strm,this.header)}function S(b,x){var T=new v(x);if(T.push(b,!0),T.err)throw T.msg||p[T.err];return T.result}v.prototype.push=function(b,x){var T,N,O,E,C,j,z=this.strm,R=this.options.chunkSize,V=this.options.dictionary,P=!1;if(this.ended)return!1;N=x===~~x?x:x===!0?d.Z_FINISH:d.Z_NO_FLUSH,typeof b=="string"?z.input=c.binstring2buf(b):y.call(b)==="[object ArrayBuffer]"?z.input=new Uint8Array(b):z.input=b,z.next_in=0,z.avail_in=z.input.length;do{if(z.avail_out===0&&(z.output=new h.Buf8(R),z.next_out=0,z.avail_out=R),(T=l.inflate(z,d.Z_NO_FLUSH))===d.Z_NEED_DICT&&V&&(j=typeof V=="string"?c.string2buf(V):y.call(V)==="[object ArrayBuffer]"?new Uint8Array(V):V,T=l.inflateSetDictionary(this.strm,j)),T===d.Z_BUF_ERROR&&P===!0&&(T=d.Z_OK,P=!1),T!==d.Z_STREAM_END&&T!==d.Z_OK)return this.onEnd(T),!(this.ended=!0);z.next_out&&(z.avail_out!==0&&T!==d.Z_STREAM_END&&(z.avail_in!==0||N!==d.Z_FINISH&&N!==d.Z_SYNC_FLUSH)||(this.options.to==="string"?(O=c.utf8border(z.output,z.next_out),E=z.next_out-O,C=c.buf2string(z.output,O),z.next_out=E,z.avail_out=R-E,E&&h.arraySet(z.output,z.output,O,E,0),this.onData(C)):this.onData(h.shrinkBuf(z.output,z.next_out)))),z.avail_in===0&&z.avail_out===0&&(P=!0)}while((0<z.avail_in||z.avail_out===0)&&T!==d.Z_STREAM_END);return T===d.Z_STREAM_END&&(N=d.Z_FINISH),N===d.Z_FINISH?(T=l.inflateEnd(this.strm),this.onEnd(T),this.ended=!0,T===d.Z_OK):N!==d.Z_SYNC_FLUSH||(this.onEnd(d.Z_OK),!(z.avail_out=0))},v.prototype.onData=function(b){this.chunks.push(b)},v.prototype.onEnd=function(b){b===d.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=h.flattenChunks(this.chunks)),this.chunks=[],this.err=b,this.msg=this.strm.msg},o.Inflate=v,o.inflate=S,o.inflateRaw=function(b,x){return(x=x||{}).raw=!0,S(b,x)},o.ungzip=S},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(i,r,o){var l=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";o.assign=function(d){for(var p=Array.prototype.slice.call(arguments,1);p.length;){var m=p.shift();if(m){if(typeof m!="object")throw new TypeError(m+"must be non-object");for(var _ in m)m.hasOwnProperty(_)&&(d[_]=m[_])}}return d},o.shrinkBuf=function(d,p){return d.length===p?d:d.subarray?d.subarray(0,p):(d.length=p,d)};var h={arraySet:function(d,p,m,_,y){if(p.subarray&&d.subarray)d.set(p.subarray(m,m+_),y);else for(var v=0;v<_;v++)d[y+v]=p[m+v]},flattenChunks:function(d){var p,m,_,y,v,S;for(p=_=0,m=d.length;p<m;p++)_+=d[p].length;for(S=new Uint8Array(_),p=y=0,m=d.length;p<m;p++)v=d[p],S.set(v,y),y+=v.length;return S}},c={arraySet:function(d,p,m,_,y){for(var v=0;v<_;v++)d[y+v]=p[m+v]},flattenChunks:function(d){return[].concat.apply([],d)}};o.setTyped=function(d){d?(o.Buf8=Uint8Array,o.Buf16=Uint16Array,o.Buf32=Int32Array,o.assign(o,h)):(o.Buf8=Array,o.Buf16=Array,o.Buf32=Array,o.assign(o,c))},o.setTyped(l)},{}],42:[function(i,r,o){var l=i("./common"),h=!0,c=!0;try{String.fromCharCode.apply(null,[0])}catch{h=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{c=!1}for(var d=new l.Buf8(256),p=0;p<256;p++)d[p]=252<=p?6:248<=p?5:240<=p?4:224<=p?3:192<=p?2:1;function m(_,y){if(y<65537&&(_.subarray&&c||!_.subarray&&h))return String.fromCharCode.apply(null,l.shrinkBuf(_,y));for(var v="",S=0;S<y;S++)v+=String.fromCharCode(_[S]);return v}d[254]=d[254]=1,o.string2buf=function(_){var y,v,S,b,x,T=_.length,N=0;for(b=0;b<T;b++)(64512&(v=_.charCodeAt(b)))==55296&&b+1<T&&(64512&(S=_.charCodeAt(b+1)))==56320&&(v=65536+(v-55296<<10)+(S-56320),b++),N+=v<128?1:v<2048?2:v<65536?3:4;for(y=new l.Buf8(N),b=x=0;x<N;b++)(64512&(v=_.charCodeAt(b)))==55296&&b+1<T&&(64512&(S=_.charCodeAt(b+1)))==56320&&(v=65536+(v-55296<<10)+(S-56320),b++),v<128?y[x++]=v:(v<2048?y[x++]=192|v>>>6:(v<65536?y[x++]=224|v>>>12:(y[x++]=240|v>>>18,y[x++]=128|v>>>12&63),y[x++]=128|v>>>6&63),y[x++]=128|63&v);return y},o.buf2binstring=function(_){return m(_,_.length)},o.binstring2buf=function(_){for(var y=new l.Buf8(_.length),v=0,S=y.length;v<S;v++)y[v]=_.charCodeAt(v);return y},o.buf2string=function(_,y){var v,S,b,x,T=y||_.length,N=new Array(2*T);for(v=S=0;v<T;)if((b=_[v++])<128)N[S++]=b;else if(4<(x=d[b]))N[S++]=65533,v+=x-1;else{for(b&=x===2?31:x===3?15:7;1<x&&v<T;)b=b<<6|63&_[v++],x--;1<x?N[S++]=65533:b<65536?N[S++]=b:(b-=65536,N[S++]=55296|b>>10&1023,N[S++]=56320|1023&b)}return m(N,S)},o.utf8border=function(_,y){var v;for((y=y||_.length)>_.length&&(y=_.length),v=y-1;0<=v&&(192&_[v])==128;)v--;return v<0||v===0?y:v+d[_[v]]>y?v:y}},{"./common":41}],43:[function(i,r,o){r.exports=function(l,h,c,d){for(var p=65535&l|0,m=l>>>16&65535|0,_=0;c!==0;){for(c-=_=2e3<c?2e3:c;m=m+(p=p+h[d++]|0)|0,--_;);p%=65521,m%=65521}return p|m<<16|0}},{}],44:[function(i,r,o){r.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(i,r,o){var l=(function(){for(var h,c=[],d=0;d<256;d++){h=d;for(var p=0;p<8;p++)h=1&h?3988292384^h>>>1:h>>>1;c[d]=h}return c})();r.exports=function(h,c,d,p){var m=l,_=p+d;h^=-1;for(var y=p;y<_;y++)h=h>>>8^m[255&(h^c[y])];return-1^h}},{}],46:[function(i,r,o){var l,h=i("../utils/common"),c=i("./trees"),d=i("./adler32"),p=i("./crc32"),m=i("./messages"),_=0,y=4,v=0,S=-2,b=-1,x=4,T=2,N=8,O=9,E=286,C=30,j=19,z=2*E+1,R=15,V=3,P=258,et=P+V+1,D=42,X=113,w=1,J=2,G=3,H=4;function ct(A,Q){return A.msg=m[Q],Q}function tt(A){return(A<<1)-(4<A?9:0)}function U(A){for(var Q=A.length;0<=--Q;)A[Q]=0}function B(A){var Q=A.state,K=Q.pending;K>A.avail_out&&(K=A.avail_out),K!==0&&(h.arraySet(A.output,Q.pending_buf,Q.pending_out,K,A.next_out),A.next_out+=K,Q.pending_out+=K,A.total_out+=K,A.avail_out-=K,Q.pending-=K,Q.pending===0&&(Q.pending_out=0))}function F(A,Q){c._tr_flush_block(A,0<=A.block_start?A.block_start:-1,A.strstart-A.block_start,Q),A.block_start=A.strstart,B(A.strm)}function lt(A,Q){A.pending_buf[A.pending++]=Q}function ut(A,Q){A.pending_buf[A.pending++]=Q>>>8&255,A.pending_buf[A.pending++]=255&Q}function rt(A,Q){var K,q,I=A.max_chain_length,Y=A.strstart,ft=A.prev_length,mt=A.nice_match,nt=A.strstart>A.w_size-et?A.strstart-(A.w_size-et):0,vt=A.window,Tt=A.w_mask,yt=A.prev,Ct=A.strstart+P,Rt=vt[Y+ft-1],bt=vt[Y+ft];A.prev_length>=A.good_match&&(I>>=2),mt>A.lookahead&&(mt=A.lookahead);do if(vt[(K=Q)+ft]===bt&&vt[K+ft-1]===Rt&&vt[K]===vt[Y]&&vt[++K]===vt[Y+1]){Y+=2,K++;do;while(vt[++Y]===vt[++K]&&vt[++Y]===vt[++K]&&vt[++Y]===vt[++K]&&vt[++Y]===vt[++K]&&vt[++Y]===vt[++K]&&vt[++Y]===vt[++K]&&vt[++Y]===vt[++K]&&vt[++Y]===vt[++K]&&Y<Ct);if(q=P-(Ct-Y),Y=Ct-P,ft<q){if(A.match_start=Q,mt<=(ft=q))break;Rt=vt[Y+ft-1],bt=vt[Y+ft]}}while((Q=yt[Q&Tt])>nt&&--I!=0);return ft<=A.lookahead?ft:A.lookahead}function dt(A){var Q,K,q,I,Y,ft,mt,nt,vt,Tt,yt=A.w_size;do{if(I=A.window_size-A.lookahead-A.strstart,A.strstart>=yt+(yt-et)){for(h.arraySet(A.window,A.window,yt,yt,0),A.match_start-=yt,A.strstart-=yt,A.block_start-=yt,Q=K=A.hash_size;q=A.head[--Q],A.head[Q]=yt<=q?q-yt:0,--K;);for(Q=K=yt;q=A.prev[--Q],A.prev[Q]=yt<=q?q-yt:0,--K;);I+=yt}if(A.strm.avail_in===0)break;if(ft=A.strm,mt=A.window,nt=A.strstart+A.lookahead,vt=I,Tt=void 0,Tt=ft.avail_in,vt<Tt&&(Tt=vt),K=Tt===0?0:(ft.avail_in-=Tt,h.arraySet(mt,ft.input,ft.next_in,Tt,nt),ft.state.wrap===1?ft.adler=d(ft.adler,mt,Tt,nt):ft.state.wrap===2&&(ft.adler=p(ft.adler,mt,Tt,nt)),ft.next_in+=Tt,ft.total_in+=Tt,Tt),A.lookahead+=K,A.lookahead+A.insert>=V)for(Y=A.strstart-A.insert,A.ins_h=A.window[Y],A.ins_h=(A.ins_h<<A.hash_shift^A.window[Y+1])&A.hash_mask;A.insert&&(A.ins_h=(A.ins_h<<A.hash_shift^A.window[Y+V-1])&A.hash_mask,A.prev[Y&A.w_mask]=A.head[A.ins_h],A.head[A.ins_h]=Y,Y++,A.insert--,!(A.lookahead+A.insert<V)););}while(A.lookahead<et&&A.strm.avail_in!==0)}function xt(A,Q){for(var K,q;;){if(A.lookahead<et){if(dt(A),A.lookahead<et&&Q===_)return w;if(A.lookahead===0)break}if(K=0,A.lookahead>=V&&(A.ins_h=(A.ins_h<<A.hash_shift^A.window[A.strstart+V-1])&A.hash_mask,K=A.prev[A.strstart&A.w_mask]=A.head[A.ins_h],A.head[A.ins_h]=A.strstart),K!==0&&A.strstart-K<=A.w_size-et&&(A.match_length=rt(A,K)),A.match_length>=V)if(q=c._tr_tally(A,A.strstart-A.match_start,A.match_length-V),A.lookahead-=A.match_length,A.match_length<=A.max_lazy_match&&A.lookahead>=V){for(A.match_length--;A.strstart++,A.ins_h=(A.ins_h<<A.hash_shift^A.window[A.strstart+V-1])&A.hash_mask,K=A.prev[A.strstart&A.w_mask]=A.head[A.ins_h],A.head[A.ins_h]=A.strstart,--A.match_length!=0;);A.strstart++}else A.strstart+=A.match_length,A.match_length=0,A.ins_h=A.window[A.strstart],A.ins_h=(A.ins_h<<A.hash_shift^A.window[A.strstart+1])&A.hash_mask;else q=c._tr_tally(A,0,A.window[A.strstart]),A.lookahead--,A.strstart++;if(q&&(F(A,!1),A.strm.avail_out===0))return w}return A.insert=A.strstart<V-1?A.strstart:V-1,Q===y?(F(A,!0),A.strm.avail_out===0?G:H):A.last_lit&&(F(A,!1),A.strm.avail_out===0)?w:J}function ht(A,Q){for(var K,q,I;;){if(A.lookahead<et){if(dt(A),A.lookahead<et&&Q===_)return w;if(A.lookahead===0)break}if(K=0,A.lookahead>=V&&(A.ins_h=(A.ins_h<<A.hash_shift^A.window[A.strstart+V-1])&A.hash_mask,K=A.prev[A.strstart&A.w_mask]=A.head[A.ins_h],A.head[A.ins_h]=A.strstart),A.prev_length=A.match_length,A.prev_match=A.match_start,A.match_length=V-1,K!==0&&A.prev_length<A.max_lazy_match&&A.strstart-K<=A.w_size-et&&(A.match_length=rt(A,K),A.match_length<=5&&(A.strategy===1||A.match_length===V&&4096<A.strstart-A.match_start)&&(A.match_length=V-1)),A.prev_length>=V&&A.match_length<=A.prev_length){for(I=A.strstart+A.lookahead-V,q=c._tr_tally(A,A.strstart-1-A.prev_match,A.prev_length-V),A.lookahead-=A.prev_length-1,A.prev_length-=2;++A.strstart<=I&&(A.ins_h=(A.ins_h<<A.hash_shift^A.window[A.strstart+V-1])&A.hash_mask,K=A.prev[A.strstart&A.w_mask]=A.head[A.ins_h],A.head[A.ins_h]=A.strstart),--A.prev_length!=0;);if(A.match_available=0,A.match_length=V-1,A.strstart++,q&&(F(A,!1),A.strm.avail_out===0))return w}else if(A.match_available){if((q=c._tr_tally(A,0,A.window[A.strstart-1]))&&F(A,!1),A.strstart++,A.lookahead--,A.strm.avail_out===0)return w}else A.match_available=1,A.strstart++,A.lookahead--}return A.match_available&&(q=c._tr_tally(A,0,A.window[A.strstart-1]),A.match_available=0),A.insert=A.strstart<V-1?A.strstart:V-1,Q===y?(F(A,!0),A.strm.avail_out===0?G:H):A.last_lit&&(F(A,!1),A.strm.avail_out===0)?w:J}function kt(A,Q,K,q,I){this.good_length=A,this.max_lazy=Q,this.nice_length=K,this.max_chain=q,this.func=I}function jt(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=N,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new h.Buf16(2*z),this.dyn_dtree=new h.Buf16(2*(2*C+1)),this.bl_tree=new h.Buf16(2*(2*j+1)),U(this.dyn_ltree),U(this.dyn_dtree),U(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new h.Buf16(R+1),this.heap=new h.Buf16(2*E+1),U(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new h.Buf16(2*E+1),U(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function Lt(A){var Q;return A&&A.state?(A.total_in=A.total_out=0,A.data_type=T,(Q=A.state).pending=0,Q.pending_out=0,Q.wrap<0&&(Q.wrap=-Q.wrap),Q.status=Q.wrap?D:X,A.adler=Q.wrap===2?0:1,Q.last_flush=_,c._tr_init(Q),v):ct(A,S)}function Jt(A){var Q=Lt(A);return Q===v&&(function(K){K.window_size=2*K.w_size,U(K.head),K.max_lazy_match=l[K.level].max_lazy,K.good_match=l[K.level].good_length,K.nice_match=l[K.level].nice_length,K.max_chain_length=l[K.level].max_chain,K.strstart=0,K.block_start=0,K.lookahead=0,K.insert=0,K.match_length=K.prev_length=V-1,K.match_available=0,K.ins_h=0})(A.state),Q}function ve(A,Q,K,q,I,Y){if(!A)return S;var ft=1;if(Q===b&&(Q=6),q<0?(ft=0,q=-q):15<q&&(ft=2,q-=16),I<1||O<I||K!==N||q<8||15<q||Q<0||9<Q||Y<0||x<Y)return ct(A,S);q===8&&(q=9);var mt=new jt;return(A.state=mt).strm=A,mt.wrap=ft,mt.gzhead=null,mt.w_bits=q,mt.w_size=1<<mt.w_bits,mt.w_mask=mt.w_size-1,mt.hash_bits=I+7,mt.hash_size=1<<mt.hash_bits,mt.hash_mask=mt.hash_size-1,mt.hash_shift=~~((mt.hash_bits+V-1)/V),mt.window=new h.Buf8(2*mt.w_size),mt.head=new h.Buf16(mt.hash_size),mt.prev=new h.Buf16(mt.w_size),mt.lit_bufsize=1<<I+6,mt.pending_buf_size=4*mt.lit_bufsize,mt.pending_buf=new h.Buf8(mt.pending_buf_size),mt.d_buf=1*mt.lit_bufsize,mt.l_buf=3*mt.lit_bufsize,mt.level=Q,mt.strategy=Y,mt.method=K,Jt(A)}l=[new kt(0,0,0,0,function(A,Q){var K=65535;for(K>A.pending_buf_size-5&&(K=A.pending_buf_size-5);;){if(A.lookahead<=1){if(dt(A),A.lookahead===0&&Q===_)return w;if(A.lookahead===0)break}A.strstart+=A.lookahead,A.lookahead=0;var q=A.block_start+K;if((A.strstart===0||A.strstart>=q)&&(A.lookahead=A.strstart-q,A.strstart=q,F(A,!1),A.strm.avail_out===0)||A.strstart-A.block_start>=A.w_size-et&&(F(A,!1),A.strm.avail_out===0))return w}return A.insert=0,Q===y?(F(A,!0),A.strm.avail_out===0?G:H):(A.strstart>A.block_start&&(F(A,!1),A.strm.avail_out),w)}),new kt(4,4,8,4,xt),new kt(4,5,16,8,xt),new kt(4,6,32,32,xt),new kt(4,4,16,16,ht),new kt(8,16,32,32,ht),new kt(8,16,128,128,ht),new kt(8,32,128,256,ht),new kt(32,128,258,1024,ht),new kt(32,258,258,4096,ht)],o.deflateInit=function(A,Q){return ve(A,Q,N,15,8,0)},o.deflateInit2=ve,o.deflateReset=Jt,o.deflateResetKeep=Lt,o.deflateSetHeader=function(A,Q){return A&&A.state?A.state.wrap!==2?S:(A.state.gzhead=Q,v):S},o.deflate=function(A,Q){var K,q,I,Y;if(!A||!A.state||5<Q||Q<0)return A?ct(A,S):S;if(q=A.state,!A.output||!A.input&&A.avail_in!==0||q.status===666&&Q!==y)return ct(A,A.avail_out===0?-5:S);if(q.strm=A,K=q.last_flush,q.last_flush=Q,q.status===D)if(q.wrap===2)A.adler=0,lt(q,31),lt(q,139),lt(q,8),q.gzhead?(lt(q,(q.gzhead.text?1:0)+(q.gzhead.hcrc?2:0)+(q.gzhead.extra?4:0)+(q.gzhead.name?8:0)+(q.gzhead.comment?16:0)),lt(q,255&q.gzhead.time),lt(q,q.gzhead.time>>8&255),lt(q,q.gzhead.time>>16&255),lt(q,q.gzhead.time>>24&255),lt(q,q.level===9?2:2<=q.strategy||q.level<2?4:0),lt(q,255&q.gzhead.os),q.gzhead.extra&&q.gzhead.extra.length&&(lt(q,255&q.gzhead.extra.length),lt(q,q.gzhead.extra.length>>8&255)),q.gzhead.hcrc&&(A.adler=p(A.adler,q.pending_buf,q.pending,0)),q.gzindex=0,q.status=69):(lt(q,0),lt(q,0),lt(q,0),lt(q,0),lt(q,0),lt(q,q.level===9?2:2<=q.strategy||q.level<2?4:0),lt(q,3),q.status=X);else{var ft=N+(q.w_bits-8<<4)<<8;ft|=(2<=q.strategy||q.level<2?0:q.level<6?1:q.level===6?2:3)<<6,q.strstart!==0&&(ft|=32),ft+=31-ft%31,q.status=X,ut(q,ft),q.strstart!==0&&(ut(q,A.adler>>>16),ut(q,65535&A.adler)),A.adler=1}if(q.status===69)if(q.gzhead.extra){for(I=q.pending;q.gzindex<(65535&q.gzhead.extra.length)&&(q.pending!==q.pending_buf_size||(q.gzhead.hcrc&&q.pending>I&&(A.adler=p(A.adler,q.pending_buf,q.pending-I,I)),B(A),I=q.pending,q.pending!==q.pending_buf_size));)lt(q,255&q.gzhead.extra[q.gzindex]),q.gzindex++;q.gzhead.hcrc&&q.pending>I&&(A.adler=p(A.adler,q.pending_buf,q.pending-I,I)),q.gzindex===q.gzhead.extra.length&&(q.gzindex=0,q.status=73)}else q.status=73;if(q.status===73)if(q.gzhead.name){I=q.pending;do{if(q.pending===q.pending_buf_size&&(q.gzhead.hcrc&&q.pending>I&&(A.adler=p(A.adler,q.pending_buf,q.pending-I,I)),B(A),I=q.pending,q.pending===q.pending_buf_size)){Y=1;break}Y=q.gzindex<q.gzhead.name.length?255&q.gzhead.name.charCodeAt(q.gzindex++):0,lt(q,Y)}while(Y!==0);q.gzhead.hcrc&&q.pending>I&&(A.adler=p(A.adler,q.pending_buf,q.pending-I,I)),Y===0&&(q.gzindex=0,q.status=91)}else q.status=91;if(q.status===91)if(q.gzhead.comment){I=q.pending;do{if(q.pending===q.pending_buf_size&&(q.gzhead.hcrc&&q.pending>I&&(A.adler=p(A.adler,q.pending_buf,q.pending-I,I)),B(A),I=q.pending,q.pending===q.pending_buf_size)){Y=1;break}Y=q.gzindex<q.gzhead.comment.length?255&q.gzhead.comment.charCodeAt(q.gzindex++):0,lt(q,Y)}while(Y!==0);q.gzhead.hcrc&&q.pending>I&&(A.adler=p(A.adler,q.pending_buf,q.pending-I,I)),Y===0&&(q.status=103)}else q.status=103;if(q.status===103&&(q.gzhead.hcrc?(q.pending+2>q.pending_buf_size&&B(A),q.pending+2<=q.pending_buf_size&&(lt(q,255&A.adler),lt(q,A.adler>>8&255),A.adler=0,q.status=X)):q.status=X),q.pending!==0){if(B(A),A.avail_out===0)return q.last_flush=-1,v}else if(A.avail_in===0&&tt(Q)<=tt(K)&&Q!==y)return ct(A,-5);if(q.status===666&&A.avail_in!==0)return ct(A,-5);if(A.avail_in!==0||q.lookahead!==0||Q!==_&&q.status!==666){var mt=q.strategy===2?(function(nt,vt){for(var Tt;;){if(nt.lookahead===0&&(dt(nt),nt.lookahead===0)){if(vt===_)return w;break}if(nt.match_length=0,Tt=c._tr_tally(nt,0,nt.window[nt.strstart]),nt.lookahead--,nt.strstart++,Tt&&(F(nt,!1),nt.strm.avail_out===0))return w}return nt.insert=0,vt===y?(F(nt,!0),nt.strm.avail_out===0?G:H):nt.last_lit&&(F(nt,!1),nt.strm.avail_out===0)?w:J})(q,Q):q.strategy===3?(function(nt,vt){for(var Tt,yt,Ct,Rt,bt=nt.window;;){if(nt.lookahead<=P){if(dt(nt),nt.lookahead<=P&&vt===_)return w;if(nt.lookahead===0)break}if(nt.match_length=0,nt.lookahead>=V&&0<nt.strstart&&(yt=bt[Ct=nt.strstart-1])===bt[++Ct]&&yt===bt[++Ct]&&yt===bt[++Ct]){Rt=nt.strstart+P;do;while(yt===bt[++Ct]&&yt===bt[++Ct]&&yt===bt[++Ct]&&yt===bt[++Ct]&&yt===bt[++Ct]&&yt===bt[++Ct]&&yt===bt[++Ct]&&yt===bt[++Ct]&&Ct<Rt);nt.match_length=P-(Rt-Ct),nt.match_length>nt.lookahead&&(nt.match_length=nt.lookahead)}if(nt.match_length>=V?(Tt=c._tr_tally(nt,1,nt.match_length-V),nt.lookahead-=nt.match_length,nt.strstart+=nt.match_length,nt.match_length=0):(Tt=c._tr_tally(nt,0,nt.window[nt.strstart]),nt.lookahead--,nt.strstart++),Tt&&(F(nt,!1),nt.strm.avail_out===0))return w}return nt.insert=0,vt===y?(F(nt,!0),nt.strm.avail_out===0?G:H):nt.last_lit&&(F(nt,!1),nt.strm.avail_out===0)?w:J})(q,Q):l[q.level].func(q,Q);if(mt!==G&&mt!==H||(q.status=666),mt===w||mt===G)return A.avail_out===0&&(q.last_flush=-1),v;if(mt===J&&(Q===1?c._tr_align(q):Q!==5&&(c._tr_stored_block(q,0,0,!1),Q===3&&(U(q.head),q.lookahead===0&&(q.strstart=0,q.block_start=0,q.insert=0))),B(A),A.avail_out===0))return q.last_flush=-1,v}return Q!==y?v:q.wrap<=0?1:(q.wrap===2?(lt(q,255&A.adler),lt(q,A.adler>>8&255),lt(q,A.adler>>16&255),lt(q,A.adler>>24&255),lt(q,255&A.total_in),lt(q,A.total_in>>8&255),lt(q,A.total_in>>16&255),lt(q,A.total_in>>24&255)):(ut(q,A.adler>>>16),ut(q,65535&A.adler)),B(A),0<q.wrap&&(q.wrap=-q.wrap),q.pending!==0?v:1)},o.deflateEnd=function(A){var Q;return A&&A.state?(Q=A.state.status)!==D&&Q!==69&&Q!==73&&Q!==91&&Q!==103&&Q!==X&&Q!==666?ct(A,S):(A.state=null,Q===X?ct(A,-3):v):S},o.deflateSetDictionary=function(A,Q){var K,q,I,Y,ft,mt,nt,vt,Tt=Q.length;if(!A||!A.state||(Y=(K=A.state).wrap)===2||Y===1&&K.status!==D||K.lookahead)return S;for(Y===1&&(A.adler=d(A.adler,Q,Tt,0)),K.wrap=0,Tt>=K.w_size&&(Y===0&&(U(K.head),K.strstart=0,K.block_start=0,K.insert=0),vt=new h.Buf8(K.w_size),h.arraySet(vt,Q,Tt-K.w_size,K.w_size,0),Q=vt,Tt=K.w_size),ft=A.avail_in,mt=A.next_in,nt=A.input,A.avail_in=Tt,A.next_in=0,A.input=Q,dt(K);K.lookahead>=V;){for(q=K.strstart,I=K.lookahead-(V-1);K.ins_h=(K.ins_h<<K.hash_shift^K.window[q+V-1])&K.hash_mask,K.prev[q&K.w_mask]=K.head[K.ins_h],K.head[K.ins_h]=q,q++,--I;);K.strstart=q,K.lookahead=V-1,dt(K)}return K.strstart+=K.lookahead,K.block_start=K.strstart,K.insert=K.lookahead,K.lookahead=0,K.match_length=K.prev_length=V-1,K.match_available=0,A.next_in=mt,A.input=nt,A.avail_in=ft,K.wrap=Y,v},o.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(i,r,o){r.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(i,r,o){r.exports=function(l,h){var c,d,p,m,_,y,v,S,b,x,T,N,O,E,C,j,z,R,V,P,et,D,X,w,J;c=l.state,d=l.next_in,w=l.input,p=d+(l.avail_in-5),m=l.next_out,J=l.output,_=m-(h-l.avail_out),y=m+(l.avail_out-257),v=c.dmax,S=c.wsize,b=c.whave,x=c.wnext,T=c.window,N=c.hold,O=c.bits,E=c.lencode,C=c.distcode,j=(1<<c.lenbits)-1,z=(1<<c.distbits)-1;t:do{O<15&&(N+=w[d++]<<O,O+=8,N+=w[d++]<<O,O+=8),R=E[N&j];e:for(;;){if(N>>>=V=R>>>24,O-=V,(V=R>>>16&255)===0)J[m++]=65535&R;else{if(!(16&V)){if((64&V)==0){R=E[(65535&R)+(N&(1<<V)-1)];continue e}if(32&V){c.mode=12;break t}l.msg="invalid literal/length code",c.mode=30;break t}P=65535&R,(V&=15)&&(O<V&&(N+=w[d++]<<O,O+=8),P+=N&(1<<V)-1,N>>>=V,O-=V),O<15&&(N+=w[d++]<<O,O+=8,N+=w[d++]<<O,O+=8),R=C[N&z];n:for(;;){if(N>>>=V=R>>>24,O-=V,!(16&(V=R>>>16&255))){if((64&V)==0){R=C[(65535&R)+(N&(1<<V)-1)];continue n}l.msg="invalid distance code",c.mode=30;break t}if(et=65535&R,O<(V&=15)&&(N+=w[d++]<<O,(O+=8)<V&&(N+=w[d++]<<O,O+=8)),v<(et+=N&(1<<V)-1)){l.msg="invalid distance too far back",c.mode=30;break t}if(N>>>=V,O-=V,(V=m-_)<et){if(b<(V=et-V)&&c.sane){l.msg="invalid distance too far back",c.mode=30;break t}if(X=T,(D=0)===x){if(D+=S-V,V<P){for(P-=V;J[m++]=T[D++],--V;);D=m-et,X=J}}else if(x<V){if(D+=S+x-V,(V-=x)<P){for(P-=V;J[m++]=T[D++],--V;);if(D=0,x<P){for(P-=V=x;J[m++]=T[D++],--V;);D=m-et,X=J}}}else if(D+=x-V,V<P){for(P-=V;J[m++]=T[D++],--V;);D=m-et,X=J}for(;2<P;)J[m++]=X[D++],J[m++]=X[D++],J[m++]=X[D++],P-=3;P&&(J[m++]=X[D++],1<P&&(J[m++]=X[D++]))}else{for(D=m-et;J[m++]=J[D++],J[m++]=J[D++],J[m++]=J[D++],2<(P-=3););P&&(J[m++]=J[D++],1<P&&(J[m++]=J[D++]))}break}}break}}while(d<p&&m<y);d-=P=O>>3,N&=(1<<(O-=P<<3))-1,l.next_in=d,l.next_out=m,l.avail_in=d<p?p-d+5:5-(d-p),l.avail_out=m<y?y-m+257:257-(m-y),c.hold=N,c.bits=O}},{}],49:[function(i,r,o){var l=i("../utils/common"),h=i("./adler32"),c=i("./crc32"),d=i("./inffast"),p=i("./inftrees"),m=1,_=2,y=0,v=-2,S=1,b=852,x=592;function T(D){return(D>>>24&255)+(D>>>8&65280)+((65280&D)<<8)+((255&D)<<24)}function N(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new l.Buf16(320),this.work=new l.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function O(D){var X;return D&&D.state?(X=D.state,D.total_in=D.total_out=X.total=0,D.msg="",X.wrap&&(D.adler=1&X.wrap),X.mode=S,X.last=0,X.havedict=0,X.dmax=32768,X.head=null,X.hold=0,X.bits=0,X.lencode=X.lendyn=new l.Buf32(b),X.distcode=X.distdyn=new l.Buf32(x),X.sane=1,X.back=-1,y):v}function E(D){var X;return D&&D.state?((X=D.state).wsize=0,X.whave=0,X.wnext=0,O(D)):v}function C(D,X){var w,J;return D&&D.state?(J=D.state,X<0?(w=0,X=-X):(w=1+(X>>4),X<48&&(X&=15)),X&&(X<8||15<X)?v:(J.window!==null&&J.wbits!==X&&(J.window=null),J.wrap=w,J.wbits=X,E(D))):v}function j(D,X){var w,J;return D?(J=new N,(D.state=J).window=null,(w=C(D,X))!==y&&(D.state=null),w):v}var z,R,V=!0;function P(D){if(V){var X;for(z=new l.Buf32(512),R=new l.Buf32(32),X=0;X<144;)D.lens[X++]=8;for(;X<256;)D.lens[X++]=9;for(;X<280;)D.lens[X++]=7;for(;X<288;)D.lens[X++]=8;for(p(m,D.lens,0,288,z,0,D.work,{bits:9}),X=0;X<32;)D.lens[X++]=5;p(_,D.lens,0,32,R,0,D.work,{bits:5}),V=!1}D.lencode=z,D.lenbits=9,D.distcode=R,D.distbits=5}function et(D,X,w,J){var G,H=D.state;return H.window===null&&(H.wsize=1<<H.wbits,H.wnext=0,H.whave=0,H.window=new l.Buf8(H.wsize)),J>=H.wsize?(l.arraySet(H.window,X,w-H.wsize,H.wsize,0),H.wnext=0,H.whave=H.wsize):(J<(G=H.wsize-H.wnext)&&(G=J),l.arraySet(H.window,X,w-J,G,H.wnext),(J-=G)?(l.arraySet(H.window,X,w-J,J,0),H.wnext=J,H.whave=H.wsize):(H.wnext+=G,H.wnext===H.wsize&&(H.wnext=0),H.whave<H.wsize&&(H.whave+=G))),0}o.inflateReset=E,o.inflateReset2=C,o.inflateResetKeep=O,o.inflateInit=function(D){return j(D,15)},o.inflateInit2=j,o.inflate=function(D,X){var w,J,G,H,ct,tt,U,B,F,lt,ut,rt,dt,xt,ht,kt,jt,Lt,Jt,ve,A,Q,K,q,I=0,Y=new l.Buf8(4),ft=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!D||!D.state||!D.output||!D.input&&D.avail_in!==0)return v;(w=D.state).mode===12&&(w.mode=13),ct=D.next_out,G=D.output,U=D.avail_out,H=D.next_in,J=D.input,tt=D.avail_in,B=w.hold,F=w.bits,lt=tt,ut=U,Q=y;t:for(;;)switch(w.mode){case S:if(w.wrap===0){w.mode=13;break}for(;F<16;){if(tt===0)break t;tt--,B+=J[H++]<<F,F+=8}if(2&w.wrap&&B===35615){Y[w.check=0]=255&B,Y[1]=B>>>8&255,w.check=c(w.check,Y,2,0),F=B=0,w.mode=2;break}if(w.flags=0,w.head&&(w.head.done=!1),!(1&w.wrap)||(((255&B)<<8)+(B>>8))%31){D.msg="incorrect header check",w.mode=30;break}if((15&B)!=8){D.msg="unknown compression method",w.mode=30;break}if(F-=4,A=8+(15&(B>>>=4)),w.wbits===0)w.wbits=A;else if(A>w.wbits){D.msg="invalid window size",w.mode=30;break}w.dmax=1<<A,D.adler=w.check=1,w.mode=512&B?10:12,F=B=0;break;case 2:for(;F<16;){if(tt===0)break t;tt--,B+=J[H++]<<F,F+=8}if(w.flags=B,(255&w.flags)!=8){D.msg="unknown compression method",w.mode=30;break}if(57344&w.flags){D.msg="unknown header flags set",w.mode=30;break}w.head&&(w.head.text=B>>8&1),512&w.flags&&(Y[0]=255&B,Y[1]=B>>>8&255,w.check=c(w.check,Y,2,0)),F=B=0,w.mode=3;case 3:for(;F<32;){if(tt===0)break t;tt--,B+=J[H++]<<F,F+=8}w.head&&(w.head.time=B),512&w.flags&&(Y[0]=255&B,Y[1]=B>>>8&255,Y[2]=B>>>16&255,Y[3]=B>>>24&255,w.check=c(w.check,Y,4,0)),F=B=0,w.mode=4;case 4:for(;F<16;){if(tt===0)break t;tt--,B+=J[H++]<<F,F+=8}w.head&&(w.head.xflags=255&B,w.head.os=B>>8),512&w.flags&&(Y[0]=255&B,Y[1]=B>>>8&255,w.check=c(w.check,Y,2,0)),F=B=0,w.mode=5;case 5:if(1024&w.flags){for(;F<16;){if(tt===0)break t;tt--,B+=J[H++]<<F,F+=8}w.length=B,w.head&&(w.head.extra_len=B),512&w.flags&&(Y[0]=255&B,Y[1]=B>>>8&255,w.check=c(w.check,Y,2,0)),F=B=0}else w.head&&(w.head.extra=null);w.mode=6;case 6:if(1024&w.flags&&(tt<(rt=w.length)&&(rt=tt),rt&&(w.head&&(A=w.head.extra_len-w.length,w.head.extra||(w.head.extra=new Array(w.head.extra_len)),l.arraySet(w.head.extra,J,H,rt,A)),512&w.flags&&(w.check=c(w.check,J,rt,H)),tt-=rt,H+=rt,w.length-=rt),w.length))break t;w.length=0,w.mode=7;case 7:if(2048&w.flags){if(tt===0)break t;for(rt=0;A=J[H+rt++],w.head&&A&&w.length<65536&&(w.head.name+=String.fromCharCode(A)),A&&rt<tt;);if(512&w.flags&&(w.check=c(w.check,J,rt,H)),tt-=rt,H+=rt,A)break t}else w.head&&(w.head.name=null);w.length=0,w.mode=8;case 8:if(4096&w.flags){if(tt===0)break t;for(rt=0;A=J[H+rt++],w.head&&A&&w.length<65536&&(w.head.comment+=String.fromCharCode(A)),A&&rt<tt;);if(512&w.flags&&(w.check=c(w.check,J,rt,H)),tt-=rt,H+=rt,A)break t}else w.head&&(w.head.comment=null);w.mode=9;case 9:if(512&w.flags){for(;F<16;){if(tt===0)break t;tt--,B+=J[H++]<<F,F+=8}if(B!==(65535&w.check)){D.msg="header crc mismatch",w.mode=30;break}F=B=0}w.head&&(w.head.hcrc=w.flags>>9&1,w.head.done=!0),D.adler=w.check=0,w.mode=12;break;case 10:for(;F<32;){if(tt===0)break t;tt--,B+=J[H++]<<F,F+=8}D.adler=w.check=T(B),F=B=0,w.mode=11;case 11:if(w.havedict===0)return D.next_out=ct,D.avail_out=U,D.next_in=H,D.avail_in=tt,w.hold=B,w.bits=F,2;D.adler=w.check=1,w.mode=12;case 12:if(X===5||X===6)break t;case 13:if(w.last){B>>>=7&F,F-=7&F,w.mode=27;break}for(;F<3;){if(tt===0)break t;tt--,B+=J[H++]<<F,F+=8}switch(w.last=1&B,F-=1,3&(B>>>=1)){case 0:w.mode=14;break;case 1:if(P(w),w.mode=20,X!==6)break;B>>>=2,F-=2;break t;case 2:w.mode=17;break;case 3:D.msg="invalid block type",w.mode=30}B>>>=2,F-=2;break;case 14:for(B>>>=7&F,F-=7&F;F<32;){if(tt===0)break t;tt--,B+=J[H++]<<F,F+=8}if((65535&B)!=(B>>>16^65535)){D.msg="invalid stored block lengths",w.mode=30;break}if(w.length=65535&B,F=B=0,w.mode=15,X===6)break t;case 15:w.mode=16;case 16:if(rt=w.length){if(tt<rt&&(rt=tt),U<rt&&(rt=U),rt===0)break t;l.arraySet(G,J,H,rt,ct),tt-=rt,H+=rt,U-=rt,ct+=rt,w.length-=rt;break}w.mode=12;break;case 17:for(;F<14;){if(tt===0)break t;tt--,B+=J[H++]<<F,F+=8}if(w.nlen=257+(31&B),B>>>=5,F-=5,w.ndist=1+(31&B),B>>>=5,F-=5,w.ncode=4+(15&B),B>>>=4,F-=4,286<w.nlen||30<w.ndist){D.msg="too many length or distance symbols",w.mode=30;break}w.have=0,w.mode=18;case 18:for(;w.have<w.ncode;){for(;F<3;){if(tt===0)break t;tt--,B+=J[H++]<<F,F+=8}w.lens[ft[w.have++]]=7&B,B>>>=3,F-=3}for(;w.have<19;)w.lens[ft[w.have++]]=0;if(w.lencode=w.lendyn,w.lenbits=7,K={bits:w.lenbits},Q=p(0,w.lens,0,19,w.lencode,0,w.work,K),w.lenbits=K.bits,Q){D.msg="invalid code lengths set",w.mode=30;break}w.have=0,w.mode=19;case 19:for(;w.have<w.nlen+w.ndist;){for(;kt=(I=w.lencode[B&(1<<w.lenbits)-1])>>>16&255,jt=65535&I,!((ht=I>>>24)<=F);){if(tt===0)break t;tt--,B+=J[H++]<<F,F+=8}if(jt<16)B>>>=ht,F-=ht,w.lens[w.have++]=jt;else{if(jt===16){for(q=ht+2;F<q;){if(tt===0)break t;tt--,B+=J[H++]<<F,F+=8}if(B>>>=ht,F-=ht,w.have===0){D.msg="invalid bit length repeat",w.mode=30;break}A=w.lens[w.have-1],rt=3+(3&B),B>>>=2,F-=2}else if(jt===17){for(q=ht+3;F<q;){if(tt===0)break t;tt--,B+=J[H++]<<F,F+=8}F-=ht,A=0,rt=3+(7&(B>>>=ht)),B>>>=3,F-=3}else{for(q=ht+7;F<q;){if(tt===0)break t;tt--,B+=J[H++]<<F,F+=8}F-=ht,A=0,rt=11+(127&(B>>>=ht)),B>>>=7,F-=7}if(w.have+rt>w.nlen+w.ndist){D.msg="invalid bit length repeat",w.mode=30;break}for(;rt--;)w.lens[w.have++]=A}}if(w.mode===30)break;if(w.lens[256]===0){D.msg="invalid code -- missing end-of-block",w.mode=30;break}if(w.lenbits=9,K={bits:w.lenbits},Q=p(m,w.lens,0,w.nlen,w.lencode,0,w.work,K),w.lenbits=K.bits,Q){D.msg="invalid literal/lengths set",w.mode=30;break}if(w.distbits=6,w.distcode=w.distdyn,K={bits:w.distbits},Q=p(_,w.lens,w.nlen,w.ndist,w.distcode,0,w.work,K),w.distbits=K.bits,Q){D.msg="invalid distances set",w.mode=30;break}if(w.mode=20,X===6)break t;case 20:w.mode=21;case 21:if(6<=tt&&258<=U){D.next_out=ct,D.avail_out=U,D.next_in=H,D.avail_in=tt,w.hold=B,w.bits=F,d(D,ut),ct=D.next_out,G=D.output,U=D.avail_out,H=D.next_in,J=D.input,tt=D.avail_in,B=w.hold,F=w.bits,w.mode===12&&(w.back=-1);break}for(w.back=0;kt=(I=w.lencode[B&(1<<w.lenbits)-1])>>>16&255,jt=65535&I,!((ht=I>>>24)<=F);){if(tt===0)break t;tt--,B+=J[H++]<<F,F+=8}if(kt&&(240&kt)==0){for(Lt=ht,Jt=kt,ve=jt;kt=(I=w.lencode[ve+((B&(1<<Lt+Jt)-1)>>Lt)])>>>16&255,jt=65535&I,!(Lt+(ht=I>>>24)<=F);){if(tt===0)break t;tt--,B+=J[H++]<<F,F+=8}B>>>=Lt,F-=Lt,w.back+=Lt}if(B>>>=ht,F-=ht,w.back+=ht,w.length=jt,kt===0){w.mode=26;break}if(32&kt){w.back=-1,w.mode=12;break}if(64&kt){D.msg="invalid literal/length code",w.mode=30;break}w.extra=15&kt,w.mode=22;case 22:if(w.extra){for(q=w.extra;F<q;){if(tt===0)break t;tt--,B+=J[H++]<<F,F+=8}w.length+=B&(1<<w.extra)-1,B>>>=w.extra,F-=w.extra,w.back+=w.extra}w.was=w.length,w.mode=23;case 23:for(;kt=(I=w.distcode[B&(1<<w.distbits)-1])>>>16&255,jt=65535&I,!((ht=I>>>24)<=F);){if(tt===0)break t;tt--,B+=J[H++]<<F,F+=8}if((240&kt)==0){for(Lt=ht,Jt=kt,ve=jt;kt=(I=w.distcode[ve+((B&(1<<Lt+Jt)-1)>>Lt)])>>>16&255,jt=65535&I,!(Lt+(ht=I>>>24)<=F);){if(tt===0)break t;tt--,B+=J[H++]<<F,F+=8}B>>>=Lt,F-=Lt,w.back+=Lt}if(B>>>=ht,F-=ht,w.back+=ht,64&kt){D.msg="invalid distance code",w.mode=30;break}w.offset=jt,w.extra=15&kt,w.mode=24;case 24:if(w.extra){for(q=w.extra;F<q;){if(tt===0)break t;tt--,B+=J[H++]<<F,F+=8}w.offset+=B&(1<<w.extra)-1,B>>>=w.extra,F-=w.extra,w.back+=w.extra}if(w.offset>w.dmax){D.msg="invalid distance too far back",w.mode=30;break}w.mode=25;case 25:if(U===0)break t;if(rt=ut-U,w.offset>rt){if((rt=w.offset-rt)>w.whave&&w.sane){D.msg="invalid distance too far back",w.mode=30;break}dt=rt>w.wnext?(rt-=w.wnext,w.wsize-rt):w.wnext-rt,rt>w.length&&(rt=w.length),xt=w.window}else xt=G,dt=ct-w.offset,rt=w.length;for(U<rt&&(rt=U),U-=rt,w.length-=rt;G[ct++]=xt[dt++],--rt;);w.length===0&&(w.mode=21);break;case 26:if(U===0)break t;G[ct++]=w.length,U--,w.mode=21;break;case 27:if(w.wrap){for(;F<32;){if(tt===0)break t;tt--,B|=J[H++]<<F,F+=8}if(ut-=U,D.total_out+=ut,w.total+=ut,ut&&(D.adler=w.check=w.flags?c(w.check,G,ut,ct-ut):h(w.check,G,ut,ct-ut)),ut=U,(w.flags?B:T(B))!==w.check){D.msg="incorrect data check",w.mode=30;break}F=B=0}w.mode=28;case 28:if(w.wrap&&w.flags){for(;F<32;){if(tt===0)break t;tt--,B+=J[H++]<<F,F+=8}if(B!==(4294967295&w.total)){D.msg="incorrect length check",w.mode=30;break}F=B=0}w.mode=29;case 29:Q=1;break t;case 30:Q=-3;break t;case 31:return-4;case 32:default:return v}return D.next_out=ct,D.avail_out=U,D.next_in=H,D.avail_in=tt,w.hold=B,w.bits=F,(w.wsize||ut!==D.avail_out&&w.mode<30&&(w.mode<27||X!==4))&&et(D,D.output,D.next_out,ut-D.avail_out)?(w.mode=31,-4):(lt-=D.avail_in,ut-=D.avail_out,D.total_in+=lt,D.total_out+=ut,w.total+=ut,w.wrap&&ut&&(D.adler=w.check=w.flags?c(w.check,G,ut,D.next_out-ut):h(w.check,G,ut,D.next_out-ut)),D.data_type=w.bits+(w.last?64:0)+(w.mode===12?128:0)+(w.mode===20||w.mode===15?256:0),(lt==0&&ut===0||X===4)&&Q===y&&(Q=-5),Q)},o.inflateEnd=function(D){if(!D||!D.state)return v;var X=D.state;return X.window&&(X.window=null),D.state=null,y},o.inflateGetHeader=function(D,X){var w;return D&&D.state?(2&(w=D.state).wrap)==0?v:((w.head=X).done=!1,y):v},o.inflateSetDictionary=function(D,X){var w,J=X.length;return D&&D.state?(w=D.state).wrap!==0&&w.mode!==11?v:w.mode===11&&h(1,X,J,0)!==w.check?-3:et(D,X,J,J)?(w.mode=31,-4):(w.havedict=1,y):v},o.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(i,r,o){var l=i("../utils/common"),h=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],c=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],d=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],p=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];r.exports=function(m,_,y,v,S,b,x,T){var N,O,E,C,j,z,R,V,P,et=T.bits,D=0,X=0,w=0,J=0,G=0,H=0,ct=0,tt=0,U=0,B=0,F=null,lt=0,ut=new l.Buf16(16),rt=new l.Buf16(16),dt=null,xt=0;for(D=0;D<=15;D++)ut[D]=0;for(X=0;X<v;X++)ut[_[y+X]]++;for(G=et,J=15;1<=J&&ut[J]===0;J--);if(J<G&&(G=J),J===0)return S[b++]=20971520,S[b++]=20971520,T.bits=1,0;for(w=1;w<J&&ut[w]===0;w++);for(G<w&&(G=w),D=tt=1;D<=15;D++)if(tt<<=1,(tt-=ut[D])<0)return-1;if(0<tt&&(m===0||J!==1))return-1;for(rt[1]=0,D=1;D<15;D++)rt[D+1]=rt[D]+ut[D];for(X=0;X<v;X++)_[y+X]!==0&&(x[rt[_[y+X]]++]=X);if(z=m===0?(F=dt=x,19):m===1?(F=h,lt-=257,dt=c,xt-=257,256):(F=d,dt=p,-1),D=w,j=b,ct=X=B=0,E=-1,C=(U=1<<(H=G))-1,m===1&&852<U||m===2&&592<U)return 1;for(;;){for(R=D-ct,P=x[X]<z?(V=0,x[X]):x[X]>z?(V=dt[xt+x[X]],F[lt+x[X]]):(V=96,0),N=1<<D-ct,w=O=1<<H;S[j+(B>>ct)+(O-=N)]=R<<24|V<<16|P|0,O!==0;);for(N=1<<D-1;B&N;)N>>=1;if(N!==0?(B&=N-1,B+=N):B=0,X++,--ut[D]==0){if(D===J)break;D=_[y+x[X]]}if(G<D&&(B&C)!==E){for(ct===0&&(ct=G),j+=w,tt=1<<(H=D-ct);H+ct<J&&!((tt-=ut[H+ct])<=0);)H++,tt<<=1;if(U+=1<<H,m===1&&852<U||m===2&&592<U)return 1;S[E=B&C]=G<<24|H<<16|j-b|0}}return B!==0&&(S[j+B]=D-ct<<24|64<<16|0),T.bits=G,0}},{"../utils/common":41}],51:[function(i,r,o){r.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(i,r,o){var l=i("../utils/common"),h=0,c=1;function d(I){for(var Y=I.length;0<=--Y;)I[Y]=0}var p=0,m=29,_=256,y=_+1+m,v=30,S=19,b=2*y+1,x=15,T=16,N=7,O=256,E=16,C=17,j=18,z=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],R=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],V=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],P=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],et=new Array(2*(y+2));d(et);var D=new Array(2*v);d(D);var X=new Array(512);d(X);var w=new Array(256);d(w);var J=new Array(m);d(J);var G,H,ct,tt=new Array(v);function U(I,Y,ft,mt,nt){this.static_tree=I,this.extra_bits=Y,this.extra_base=ft,this.elems=mt,this.max_length=nt,this.has_stree=I&&I.length}function B(I,Y){this.dyn_tree=I,this.max_code=0,this.stat_desc=Y}function F(I){return I<256?X[I]:X[256+(I>>>7)]}function lt(I,Y){I.pending_buf[I.pending++]=255&Y,I.pending_buf[I.pending++]=Y>>>8&255}function ut(I,Y,ft){I.bi_valid>T-ft?(I.bi_buf|=Y<<I.bi_valid&65535,lt(I,I.bi_buf),I.bi_buf=Y>>T-I.bi_valid,I.bi_valid+=ft-T):(I.bi_buf|=Y<<I.bi_valid&65535,I.bi_valid+=ft)}function rt(I,Y,ft){ut(I,ft[2*Y],ft[2*Y+1])}function dt(I,Y){for(var ft=0;ft|=1&I,I>>>=1,ft<<=1,0<--Y;);return ft>>>1}function xt(I,Y,ft){var mt,nt,vt=new Array(x+1),Tt=0;for(mt=1;mt<=x;mt++)vt[mt]=Tt=Tt+ft[mt-1]<<1;for(nt=0;nt<=Y;nt++){var yt=I[2*nt+1];yt!==0&&(I[2*nt]=dt(vt[yt]++,yt))}}function ht(I){var Y;for(Y=0;Y<y;Y++)I.dyn_ltree[2*Y]=0;for(Y=0;Y<v;Y++)I.dyn_dtree[2*Y]=0;for(Y=0;Y<S;Y++)I.bl_tree[2*Y]=0;I.dyn_ltree[2*O]=1,I.opt_len=I.static_len=0,I.last_lit=I.matches=0}function kt(I){8<I.bi_valid?lt(I,I.bi_buf):0<I.bi_valid&&(I.pending_buf[I.pending++]=I.bi_buf),I.bi_buf=0,I.bi_valid=0}function jt(I,Y,ft,mt){var nt=2*Y,vt=2*ft;return I[nt]<I[vt]||I[nt]===I[vt]&&mt[Y]<=mt[ft]}function Lt(I,Y,ft){for(var mt=I.heap[ft],nt=ft<<1;nt<=I.heap_len&&(nt<I.heap_len&&jt(Y,I.heap[nt+1],I.heap[nt],I.depth)&&nt++,!jt(Y,mt,I.heap[nt],I.depth));)I.heap[ft]=I.heap[nt],ft=nt,nt<<=1;I.heap[ft]=mt}function Jt(I,Y,ft){var mt,nt,vt,Tt,yt=0;if(I.last_lit!==0)for(;mt=I.pending_buf[I.d_buf+2*yt]<<8|I.pending_buf[I.d_buf+2*yt+1],nt=I.pending_buf[I.l_buf+yt],yt++,mt===0?rt(I,nt,Y):(rt(I,(vt=w[nt])+_+1,Y),(Tt=z[vt])!==0&&ut(I,nt-=J[vt],Tt),rt(I,vt=F(--mt),ft),(Tt=R[vt])!==0&&ut(I,mt-=tt[vt],Tt)),yt<I.last_lit;);rt(I,O,Y)}function ve(I,Y){var ft,mt,nt,vt=Y.dyn_tree,Tt=Y.stat_desc.static_tree,yt=Y.stat_desc.has_stree,Ct=Y.stat_desc.elems,Rt=-1;for(I.heap_len=0,I.heap_max=b,ft=0;ft<Ct;ft++)vt[2*ft]!==0?(I.heap[++I.heap_len]=Rt=ft,I.depth[ft]=0):vt[2*ft+1]=0;for(;I.heap_len<2;)vt[2*(nt=I.heap[++I.heap_len]=Rt<2?++Rt:0)]=1,I.depth[nt]=0,I.opt_len--,yt&&(I.static_len-=Tt[2*nt+1]);for(Y.max_code=Rt,ft=I.heap_len>>1;1<=ft;ft--)Lt(I,vt,ft);for(nt=Ct;ft=I.heap[1],I.heap[1]=I.heap[I.heap_len--],Lt(I,vt,1),mt=I.heap[1],I.heap[--I.heap_max]=ft,I.heap[--I.heap_max]=mt,vt[2*nt]=vt[2*ft]+vt[2*mt],I.depth[nt]=(I.depth[ft]>=I.depth[mt]?I.depth[ft]:I.depth[mt])+1,vt[2*ft+1]=vt[2*mt+1]=nt,I.heap[1]=nt++,Lt(I,vt,1),2<=I.heap_len;);I.heap[--I.heap_max]=I.heap[1],(function(bt,St){var qt,Ut,he,zt,oe,ee,Wt=St.dyn_tree,Yt=St.max_code,je=St.stat_desc.static_tree,pn=St.stat_desc.has_stree,Ue=St.stat_desc.extra_bits,Pe=St.stat_desc.extra_base,Xe=St.stat_desc.max_length,qn=0;for(zt=0;zt<=x;zt++)bt.bl_count[zt]=0;for(Wt[2*bt.heap[bt.heap_max]+1]=0,qt=bt.heap_max+1;qt<b;qt++)Xe<(zt=Wt[2*Wt[2*(Ut=bt.heap[qt])+1]+1]+1)&&(zt=Xe,qn++),Wt[2*Ut+1]=zt,Yt<Ut||(bt.bl_count[zt]++,oe=0,Pe<=Ut&&(oe=Ue[Ut-Pe]),ee=Wt[2*Ut],bt.opt_len+=ee*(zt+oe),pn&&(bt.static_len+=ee*(je[2*Ut+1]+oe)));if(qn!==0){do{for(zt=Xe-1;bt.bl_count[zt]===0;)zt--;bt.bl_count[zt]--,bt.bl_count[zt+1]+=2,bt.bl_count[Xe]--,qn-=2}while(0<qn);for(zt=Xe;zt!==0;zt--)for(Ut=bt.bl_count[zt];Ut!==0;)Yt<(he=bt.heap[--qt])||(Wt[2*he+1]!==zt&&(bt.opt_len+=(zt-Wt[2*he+1])*Wt[2*he],Wt[2*he+1]=zt),Ut--)}})(I,Y),xt(vt,Rt,I.bl_count)}function A(I,Y,ft){var mt,nt,vt=-1,Tt=Y[1],yt=0,Ct=7,Rt=4;for(Tt===0&&(Ct=138,Rt=3),Y[2*(ft+1)+1]=65535,mt=0;mt<=ft;mt++)nt=Tt,Tt=Y[2*(mt+1)+1],++yt<Ct&&nt===Tt||(yt<Rt?I.bl_tree[2*nt]+=yt:nt!==0?(nt!==vt&&I.bl_tree[2*nt]++,I.bl_tree[2*E]++):yt<=10?I.bl_tree[2*C]++:I.bl_tree[2*j]++,vt=nt,Rt=(yt=0)===Tt?(Ct=138,3):nt===Tt?(Ct=6,3):(Ct=7,4))}function Q(I,Y,ft){var mt,nt,vt=-1,Tt=Y[1],yt=0,Ct=7,Rt=4;for(Tt===0&&(Ct=138,Rt=3),mt=0;mt<=ft;mt++)if(nt=Tt,Tt=Y[2*(mt+1)+1],!(++yt<Ct&&nt===Tt)){if(yt<Rt)for(;rt(I,nt,I.bl_tree),--yt!=0;);else nt!==0?(nt!==vt&&(rt(I,nt,I.bl_tree),yt--),rt(I,E,I.bl_tree),ut(I,yt-3,2)):yt<=10?(rt(I,C,I.bl_tree),ut(I,yt-3,3)):(rt(I,j,I.bl_tree),ut(I,yt-11,7));vt=nt,Rt=(yt=0)===Tt?(Ct=138,3):nt===Tt?(Ct=6,3):(Ct=7,4)}}d(tt);var K=!1;function q(I,Y,ft,mt){ut(I,(p<<1)+(mt?1:0),3),(function(nt,vt,Tt,yt){kt(nt),lt(nt,Tt),lt(nt,~Tt),l.arraySet(nt.pending_buf,nt.window,vt,Tt,nt.pending),nt.pending+=Tt})(I,Y,ft)}o._tr_init=function(I){K||((function(){var Y,ft,mt,nt,vt,Tt=new Array(x+1);for(nt=mt=0;nt<m-1;nt++)for(J[nt]=mt,Y=0;Y<1<<z[nt];Y++)w[mt++]=nt;for(w[mt-1]=nt,nt=vt=0;nt<16;nt++)for(tt[nt]=vt,Y=0;Y<1<<R[nt];Y++)X[vt++]=nt;for(vt>>=7;nt<v;nt++)for(tt[nt]=vt<<7,Y=0;Y<1<<R[nt]-7;Y++)X[256+vt++]=nt;for(ft=0;ft<=x;ft++)Tt[ft]=0;for(Y=0;Y<=143;)et[2*Y+1]=8,Y++,Tt[8]++;for(;Y<=255;)et[2*Y+1]=9,Y++,Tt[9]++;for(;Y<=279;)et[2*Y+1]=7,Y++,Tt[7]++;for(;Y<=287;)et[2*Y+1]=8,Y++,Tt[8]++;for(xt(et,y+1,Tt),Y=0;Y<v;Y++)D[2*Y+1]=5,D[2*Y]=dt(Y,5);G=new U(et,z,_+1,y,x),H=new U(D,R,0,v,x),ct=new U(new Array(0),V,0,S,N)})(),K=!0),I.l_desc=new B(I.dyn_ltree,G),I.d_desc=new B(I.dyn_dtree,H),I.bl_desc=new B(I.bl_tree,ct),I.bi_buf=0,I.bi_valid=0,ht(I)},o._tr_stored_block=q,o._tr_flush_block=function(I,Y,ft,mt){var nt,vt,Tt=0;0<I.level?(I.strm.data_type===2&&(I.strm.data_type=(function(yt){var Ct,Rt=4093624447;for(Ct=0;Ct<=31;Ct++,Rt>>>=1)if(1&Rt&&yt.dyn_ltree[2*Ct]!==0)return h;if(yt.dyn_ltree[18]!==0||yt.dyn_ltree[20]!==0||yt.dyn_ltree[26]!==0)return c;for(Ct=32;Ct<_;Ct++)if(yt.dyn_ltree[2*Ct]!==0)return c;return h})(I)),ve(I,I.l_desc),ve(I,I.d_desc),Tt=(function(yt){var Ct;for(A(yt,yt.dyn_ltree,yt.l_desc.max_code),A(yt,yt.dyn_dtree,yt.d_desc.max_code),ve(yt,yt.bl_desc),Ct=S-1;3<=Ct&&yt.bl_tree[2*P[Ct]+1]===0;Ct--);return yt.opt_len+=3*(Ct+1)+5+5+4,Ct})(I),nt=I.opt_len+3+7>>>3,(vt=I.static_len+3+7>>>3)<=nt&&(nt=vt)):nt=vt=ft+5,ft+4<=nt&&Y!==-1?q(I,Y,ft,mt):I.strategy===4||vt===nt?(ut(I,2+(mt?1:0),3),Jt(I,et,D)):(ut(I,4+(mt?1:0),3),(function(yt,Ct,Rt,bt){var St;for(ut(yt,Ct-257,5),ut(yt,Rt-1,5),ut(yt,bt-4,4),St=0;St<bt;St++)ut(yt,yt.bl_tree[2*P[St]+1],3);Q(yt,yt.dyn_ltree,Ct-1),Q(yt,yt.dyn_dtree,Rt-1)})(I,I.l_desc.max_code+1,I.d_desc.max_code+1,Tt+1),Jt(I,I.dyn_ltree,I.dyn_dtree)),ht(I),mt&&kt(I)},o._tr_tally=function(I,Y,ft){return I.pending_buf[I.d_buf+2*I.last_lit]=Y>>>8&255,I.pending_buf[I.d_buf+2*I.last_lit+1]=255&Y,I.pending_buf[I.l_buf+I.last_lit]=255&ft,I.last_lit++,Y===0?I.dyn_ltree[2*ft]++:(I.matches++,Y--,I.dyn_ltree[2*(w[ft]+_+1)]++,I.dyn_dtree[2*F(Y)]++),I.last_lit===I.lit_bufsize-1},o._tr_align=function(I){ut(I,2,3),rt(I,O,et),(function(Y){Y.bi_valid===16?(lt(Y,Y.bi_buf),Y.bi_buf=0,Y.bi_valid=0):8<=Y.bi_valid&&(Y.pending_buf[Y.pending++]=255&Y.bi_buf,Y.bi_buf>>=8,Y.bi_valid-=8)})(I)}},{"../utils/common":41}],53:[function(i,r,o){r.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(i,r,o){(function(l){(function(h,c){if(!h.setImmediate){var d,p,m,_,y=1,v={},S=!1,b=h.document,x=Object.getPrototypeOf&&Object.getPrototypeOf(h);x=x&&x.setTimeout?x:h,d={}.toString.call(h.process)==="[object process]"?function(E){process.nextTick(function(){N(E)})}:(function(){if(h.postMessage&&!h.importScripts){var E=!0,C=h.onmessage;return h.onmessage=function(){E=!1},h.postMessage("","*"),h.onmessage=C,E}})()?(_="setImmediate$"+Math.random()+"$",h.addEventListener?h.addEventListener("message",O,!1):h.attachEvent("onmessage",O),function(E){h.postMessage(_+E,"*")}):h.MessageChannel?((m=new MessageChannel).port1.onmessage=function(E){N(E.data)},function(E){m.port2.postMessage(E)}):b&&"onreadystatechange"in b.createElement("script")?(p=b.documentElement,function(E){var C=b.createElement("script");C.onreadystatechange=function(){N(E),C.onreadystatechange=null,p.removeChild(C),C=null},p.appendChild(C)}):function(E){setTimeout(N,0,E)},x.setImmediate=function(E){typeof E!="function"&&(E=new Function(""+E));for(var C=new Array(arguments.length-1),j=0;j<C.length;j++)C[j]=arguments[j+1];var z={callback:E,args:C};return v[y]=z,d(y),y++},x.clearImmediate=T}function T(E){delete v[E]}function N(E){if(S)setTimeout(N,0,E);else{var C=v[E];if(C){S=!0;try{(function(j){var z=j.callback,R=j.args;switch(R.length){case 0:z();break;case 1:z(R[0]);break;case 2:z(R[0],R[1]);break;case 3:z(R[0],R[1],R[2]);break;default:z.apply(c,R)}})(C)}finally{T(E),S=!1}}}}function O(E){E.source===h&&typeof E.data=="string"&&E.data.indexOf(_)===0&&N(+E.data.slice(_.length))}})(typeof self>"u"?l===void 0?this:l:self)}).call(this,typeof Sl<"u"?Sl:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})})(Nh)),Nh.exports}var Uw=jw();const Bw=Ll(Uw);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iw=u=>u.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),qw=u=>u.replace(/^([A-Z])|[\s-_]+(\w)/g,(n,i,r)=>r?r.toUpperCase():i.toLowerCase()),S_=u=>{const n=qw(u);return n.charAt(0).toUpperCase()+n.slice(1)},ev=(...u)=>u.filter((n,i,r)=>!!n&&n.trim()!==""&&r.indexOf(n)===i).join(" ").trim(),Vw=u=>{for(const n in u)if(n.startsWith("aria-")||n==="role"||n==="title")return!0};/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Lw={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fw=wt.forwardRef(({color:u="currentColor",size:n=24,strokeWidth:i=2,absoluteStrokeWidth:r,className:o="",children:l,iconNode:h,...c},d)=>wt.createElement("svg",{ref:d,...Lw,width:n,height:n,stroke:u,strokeWidth:r?Number(i)*24/Number(n):i,className:ev("lucide",o),...!l&&!Vw(c)&&{"aria-hidden":"true"},...c},[...h.map(([p,m])=>wt.createElement(p,m)),...Array.isArray(l)?l:[l]]));/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Me=(u,n)=>{const i=wt.forwardRef(({className:r,...o},l)=>wt.createElement(Fw,{ref:l,iconNode:n,className:ev(`lucide-${Iw(S_(u))}`,`lucide-${u}`,r),...o}));return i.displayName=S_(u),i};/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hw=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Vf=Me("chevron-down",Hw);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gw=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Zw=Me("chevron-right",Gw);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yw=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],nv=Me("chevron-up",Yw);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pw=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],x_=Me("circle-alert",Pw);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xw=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Ww=Me("circle-check",Xw);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qw=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Kw=Me("circle-question-mark",Qw);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jw=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],$w=Me("info",Jw);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tA=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],iv=Me("loader-circle",tA);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eA=[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]],Lf=Me("music",eA);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nA=[["rect",{x:"14",y:"3",width:"5",height:"18",rx:"1",key:"kaeet6"}],["rect",{x:"5",y:"3",width:"5",height:"18",rx:"1",key:"1wsw3u"}]],iA=Me("pause",nA);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sA=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],rA=Me("play",sA);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aA=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],oA=Me("refresh-cw",aA);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lA=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],uA=Me("settings",lA);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cA=[["path",{d:"M10 8h4",key:"1sr2af"}],["path",{d:"M12 21v-9",key:"17s77i"}],["path",{d:"M12 8V3",key:"13r4qs"}],["path",{d:"M17 16h4",key:"h1uq16"}],["path",{d:"M19 12V3",key:"o1uvq1"}],["path",{d:"M19 21v-5",key:"qua636"}],["path",{d:"M3 14h4",key:"bcjad9"}],["path",{d:"M5 10V3",key:"cb8scm"}],["path",{d:"M5 21v-7",key:"1w1uti"}]],hA=Me("sliders-vertical",cA);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fA=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]],dA=Me("square",fA);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pA=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],mA=Me("trash-2",pA);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gA=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],_A=Me("upload",gA);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vA=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]],yA=Me("volume-2",vA);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bA=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]],SA=Me("volume-x",bA);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xA=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Ff=Me("x",xA);var Eh={exports:{}},Oh={exports:{}},Mh,T_;function TA(){if(T_)return Mh;T_=1;function u(i){return i>64&&i<91?i-65:i>96&&i<123?i-71:i>47&&i<58?i+4:i===43?62:i===47?63:0}function n(i,r){for(var o=i.replace(/[^A-Za-z0-9\+\/]/g,""),l=o.length,h=r?Math.ceil((l*3+1>>2)/r)*r:l*3+1>>2,c=new Uint8Array(h),d,p,m=0,_=0,y=0;y<l;y++)if(p=y&3,m|=u(o.charCodeAt(y))<<18-6*p,p===3||l-y===1){for(d=0;d<3&&_<h;d++,_++)c[_]=m>>>(16>>>d&24)&255;m=0}return c}return Mh={decode:n},Mh}var Dh,w_;function wA(){return w_||(w_=1,Dh=function(u,n){return new Promise(function(i,r){var o=new XMLHttpRequest;n&&(o.responseType=n),o.open("GET",u),o.onload=function(){o.status===200?i(o.response):r(Error(o.statusText))},o.onerror=function(){r(Error("Network Error"))},o.send()})}),Dh}var A_;function AA(){return A_||(A_=1,(function(u){var n=TA(),i=wA();function r(z){return function(R){return typeof R=="string"&&z.test(R)}}function o(z,R){return typeof z=="string"?z+R:typeof z=="function"?z(R):R}function l(z,R,V,P){var et=h(R)?c:d(R)?p:m(R)?_:y(R)?v:S(R)?b:x(R)?T:N(R)?O:E(R)?C:null,D=V||{};return et?et(z,R,D):P?Promise.resolve(P):Promise.reject("Source not valid ("+R+")")}l.fetch=i;function h(z){return z instanceof ArrayBuffer}function c(z,R,V){return new Promise(function(P,et){z.decodeAudioData(R,function(D){P(D)},function(){et("Can't decode audio data ("+R.slice(0,30)+"...)")})})}var d=r(/\.(mp3|wav|ogg)(\?.*)?$/i);function p(z,R,V){var P=o(V.from,R);return l(z,l.fetch(P,"arraybuffer"),V)}function m(z){return z&&typeof z.then=="function"}function _(z,R,V){return R.then(function(P){return l(z,P,V)})}var y=Array.isArray;function v(z,R,V){return Promise.all(R.map(function(P){return l(z,P,V,P)}))}function S(z){return z&&typeof z=="object"}function b(z,R,V){var P={},et=Object.keys(R).map(function(D){if(V.only&&V.only.indexOf(D)===-1)return null;var X=R[D];return l(z,X,V,X).then(function(w){P[D]=w})});return Promise.all(et).then(function(){return P})}var x=r(/\.json(\?.*)?$/i);function T(z,R,V){var P=o(V.from,R);return l(z,l.fetch(P,"text").then(JSON.parse),V)}var N=r(/^data:audio/);function O(z,R,V){var P=R.indexOf(",");return l(z,n.decode(R.slice(P+1)).buffer,V)}var E=r(/\.js(\?.*)?$/i);function C(z,R,V){var P=o(V.from,R);return l(z,l.fetch(P,"text").then(j),V)}function j(z){var R=z.indexOf("MIDI.Soundfont.");if(R<0)throw Error("Invalid MIDI.js Soundfont format");R=z.indexOf("=",R)+2;var V=z.lastIndexOf(",");return JSON.parse(z.slice(R,V)+"}")}u.exports&&(u.exports=l),typeof window<"u"&&(window.loadAudio=l)})(Oh)),Oh.exports}var Rh={exports:{}},zh,k_;function kA(){if(k_)return zh;k_=1,zh=u;function u(c){var d=c.createGain(),p=d._voltage=r(c),m=o(p),_=o(p),y=o(p);return d._startAmount=o(_),d._endAmount=o(y),d._multiplier=o(m),d._multiplier.connect(d),d._startAmount.connect(d),d._endAmount.connect(d),d.value=m.gain,d.startValue=_.gain,d.endValue=y.gain,d.startValue.value=0,d.endValue.value=0,Object.defineProperties(d,n),d}var n={attack:{value:0,writable:!0},decay:{value:0,writable:!0},sustain:{value:1,writable:!0},release:{value:0,writable:!0},getReleaseDuration:{value:function(){return this.release}},start:{value:function(c){var d=this._multiplier.gain,p=this._startAmount.gain,m=this._endAmount.gain;this._voltage.start(c),this._decayFrom=this._decayFrom=c+this.attack,this._startedAt=c;var _=this.sustain;d.cancelScheduledValues(c),p.cancelScheduledValues(c),m.cancelScheduledValues(c),m.setValueAtTime(0,c),this.attack?(d.setValueAtTime(0,c),d.linearRampToValueAtTime(1,c+this.attack),p.setValueAtTime(1,c),p.linearRampToValueAtTime(0,c+this.attack)):(d.setValueAtTime(1,c),p.setValueAtTime(0,c)),this.decay&&d.setTargetAtTime(_,this._decayFrom,l(this.decay))}},stop:{value:function(c,d){d&&(c=c-this.release);var p=c+this.release;if(this.release){var m=this._multiplier.gain,_=this._startAmount.gain,y=this._endAmount.gain;m.cancelScheduledValues(c),_.cancelScheduledValues(c),y.cancelScheduledValues(c);var v=l(this.release);if(this.attack&&c<this._decayFrom){var S=h(0,1,this._startedAt,this._decayFrom,c);m.linearRampToValueAtTime(S,c),_.linearRampToValueAtTime(1-S,c),_.setTargetAtTime(0,c,v)}y.setTargetAtTime(1,c,v),m.setTargetAtTime(0,c,v)}return this._voltage.stop(p),p}},onended:{get:function(){return this._voltage.onended},set:function(c){this._voltage.onended=c}}},i=new Float32Array([1,1]);function r(c){var d=c.createBufferSource(),p=c.createBuffer(1,2,c.sampleRate);return p.getChannelData(0).set(i),d.buffer=p,d.loop=!0,d}function o(c){var d=c.context.createGain();return c.connect(d),d}function l(c){return Math.log(c+1)/Math.log(100)}function h(c,d,p,m,_){var y=d-c,v=m-p,S=_-p,b=S/v,x=c+b*y;return x<=c&&(x=c),x>=d&&(x=d),x}return zh}var jh,C_;function CA(){if(C_)return jh;C_=1;var u=kA(),n={},i={gain:1,attack:.01,decay:.1,sustain:.9,release:.3,loop:!1,cents:0,loopStart:0,loopEnd:0};function r(d,p,m){var _=!1,y=0,v={},S=d.createGain();S.gain.value=1;var b=Object.assign({},i,m),x={context:d,out:S,opts:b};return p instanceof AudioBuffer?x.buffer=p:x.buffers=p,x.start=function(O,E,C){if(x.buffer&&O!==null)return x.start(null,O,E);var j=O?x.buffers[O]:x.buffer;if(j){if(!_){console.warn("SamplePlayer not connected to any node.");return}}else{console.warn("Buffer "+O+" not found.");return}var z=C||n;E=Math.max(d.currentTime,E||0),x.emit("start",E,O,z);var R=N(O,j,z);return R.id=T(O,R),R.env.start(E),R.source.start(E),x.emit("started",E,R.id,R),z.duration&&R.stop(E+z.duration),R},x.play=function(O,E,C){return x.start(O,E,C)},x.stop=function(O,E){var C;return E=E||Object.keys(v),E.map(function(j){return C=v[j],C?(C.stop(O),C.id):null})},x.connect=function(O){return _=!0,S.connect(O),x},x.emit=function(O,E,C,j){x.onevent&&x.onevent(O,E,C,j);var z=x["on"+O];z&&z(E,C,j)},x;function T(O,E){return E.id=y++,v[E.id]=E,E.source.onended=function(){var C=d.currentTime;E.source.disconnect(),E.env.disconnect(),E.disconnect(),x.emit("ended",C,E.id,E)},E.id}function N(O,E,C){var j=d.createGain();return j.gain.value=0,j.connect(S),j.env=h(d,C,b),j.env.connect(j.gain),j.source=d.createBufferSource(),j.source.buffer=E,j.source.connect(j),j.source.loop=C.loop||b.loop,j.source.playbackRate.value=c(C.cents||b.cents),j.source.loopStart=C.loopStart||b.loopStart,j.source.loopEnd=C.loopEnd||b.loopEnd,j.stop=function(z){var R=z||d.currentTime;x.emit("stop",R,O);var V=j.env.stop(R);j.source.stop(V)},j}}function o(d){return typeof d=="number"}var l=["attack","decay","sustain","release"];function h(d,p,m){var _=u(d),y=p.adsr||m.adsr;return l.forEach(function(v,S){y?_[v]=y[S]:_[v]=p[v]||m[v]}),_.value.value=o(p.gain)?p.gain:o(m.gain)?m.gain:1,_}function c(d){return d?Math.pow(2,d/1200):1}return jh=r,jh}var Uh,N_;function NA(){if(N_)return Uh;N_=1,Uh=function(n){return n.on=function(i,r){if(arguments.length===1&&typeof i=="function")return n.on("event",i);var o="on"+i,l=n[o];return n[o]=l?u(l,r):r,n},n};function u(n,i){return function(r,o,l,h){n(r,o,l,h),i(r,o,l,h)}}return Uh}var Bh,E_;function EA(){if(E_)return Bh;E_=1;var u=/^([a-gA-G])(#{1,}|b{1,}|x{1,}|)(-?\d*)\s*(.*)\s*$/;function n(){return u}var i=[0,2,4,5,7,9,11];function r(c,d,p){if(typeof c!="string")return null;var m=u.exec(c);if(!m||!d&&m[4])return null;var _={letter:m[1].toUpperCase(),acc:m[2].replace(/x/g,"##")};return _.pc=_.letter+_.acc,_.step=(_.letter.charCodeAt(0)+3)%7,_.alt=_.acc[0]==="b"?-_.acc.length:_.acc.length,_.chroma=i[_.step]+_.alt,m[3]&&(_.oct=+m[3],_.midi=_.chroma+12*(_.oct+1),_.freq=o(_.midi,p)),d&&(_.tonicOf=m[4]),_}function o(c,d){return Math.pow(2,(c-69)/12)*(d||440)}var l={parse:r,regex:n,midiToFreq:o},h=["letter","acc","pc","step","alt","chroma","oct","midi","freq"];return h.forEach(function(c){l[c]=function(d){var p=r(d);return p&&typeof p[c]<"u"?p[c]:null}}),Bh=l,Bh}var Ih,O_;function OA(){if(O_)return Ih;O_=1;var u=EA(),n=function(o){return o!==null&&o!==[]&&o>=0&&o<129},i=function(o){return n(o)?+o:u.midi(o)};Ih=function(o){if(o.buffers){var l=o.opts.map,h=typeof l=="function"?l:i,c=function(p){return p?h(p)||p:null};o.buffers=r(o.buffers,c);var d=o.start;o.start=function(p,m,_){var y=c(p),v=y%1;return v&&(y=Math.floor(y),_=Object.assign(_||{},{cents:Math.floor(v*100)})),d(y,m,_)}}return o};function r(o,l){return Object.keys(o).reduce(function(h,c){return h[l(c)]=o[c],h},{})}return Ih}var qh,M_;function MA(){if(M_)return qh;M_=1;var u=Array.isArray,n=function(r){return r&&typeof r=="object"},i={};return qh=function(r){return r.schedule=function(o,l){var h=r.context.currentTime,c=o<h?h:o;r.emit("schedule",c,l);var d,p,m,_;return l.map(function(y){if(y)u(y)?(d=y[0],p=y[1]):(d=y.time,p=y);else return null;return n(p)?(m=p.name||p.key||p.note||p.midi||null,_=p):(m=p,_=i),r.start(m,c+(d||0),_)})},r},qh}var Vh={exports:{}},D_;function DA(){return D_||(D_=1,(function(u,n){(function(i){u.exports=i()})(function(){return(function i(r,o,l){function h(p,m){if(!o[p]){if(!r[p]){var _=typeof es=="function"&&es;if(!m&&_)return _(p,!0);if(c)return c(p,!0);var y=new Error("Cannot find module '"+p+"'");throw y.code="MODULE_NOT_FOUND",y}var v=o[p]={exports:{}};r[p][0].call(v.exports,function(S){var b=r[p][1][S];return h(b||S)},v,v.exports,i,r,o,l)}return o[p].exports}for(var c=typeof es=="function"&&es,d=0;d<l.length;d++)h(l[d]);return h})({1:[function(i,r,o){Object.defineProperty(o,"__esModule",{value:!0}),o.default=function(l){function h(c){if(this._event=c,this._data=c.data,this.receivedTime=c.receivedTime,this._data&&this._data.length<2){console.warn("Illegal MIDI message of length",this._data.length);return}switch(this._messageCode=c.data[0]&240,this.channel=c.data[0]&15,this._messageCode){case 128:this.messageType="noteoff",this.key=c.data[1]&127,this.velocity=c.data[2]&127;break;case 144:this.messageType="noteon",this.key=c.data[1]&127,this.velocity=c.data[2]&127;break;case 160:this.messageType="keypressure",this.key=c.data[1]&127,this.pressure=c.data[2]&127;break;case 176:this.messageType="controlchange",this.controllerNumber=c.data[1]&127,this.controllerValue=c.data[2]&127,this.controllerNumber===120&&this.controllerValue===0?this.channelModeMessage="allsoundoff":this.controllerNumber===121?this.channelModeMessage="resetallcontrollers":this.controllerNumber===122?this.controllerValue===0?this.channelModeMessage="localcontroloff":this.channelModeMessage="localcontrolon":this.controllerNumber===123&&this.controllerValue===0?this.channelModeMessage="allnotesoff":this.controllerNumber===124&&this.controllerValue===0?this.channelModeMessage="omnimodeoff":this.controllerNumber===125&&this.controllerValue===0?this.channelModeMessage="omnimodeon":this.controllerNumber===126?this.channelModeMessage="monomodeon":this.controllerNumber===127&&(this.channelModeMessage="polymodeon");break;case 192:this.messageType="programchange",this.program=c.data[1];break;case 208:this.messageType="channelpressure",this.pressure=c.data[1]&127;break;case 224:this.messageType="pitchbendchange";var d=c.data[2]&127,p=c.data[1]&127;this.pitchBend=(d<<8)+p;break}}return new h(l)},r.exports=o.default},{}]},{},[1])(1)})})(Vh)),Vh.exports}var Lh,R_;function RA(){if(R_)return Lh;R_=1;var u=DA();return Lh=function(n){return n.listenToMidi=function(i,r){var o={},l=r||{},h=l.gain||function(c){return c/127};return i.onmidimessage=function(c){var d=c.messageType?c:u(c);if(d.messageType==="noteon"&&d.velocity===0&&(d.messageType="noteoff"),!(l.channel&&d.channel!==l.channel))switch(d.messageType){case"noteon":o[d.key]=n.play(d.key,0,{gain:h(d.velocity)});break;case"noteoff":o[d.key]&&(o[d.key].stop(),delete o[d.key]);break}},n},n},Lh}var z_;function zA(){return z_||(z_=1,(function(u){var n=CA(),i=NA(),r=OA(),o=MA(),l=RA();function h(c,d,p){return l(o(r(i(n(c,d,p)))))}u.exports&&(u.exports=h),typeof window<"u"&&(window.SamplePlayer=h)})(Rh)),Rh.exports}function j_(u,n){return Array(n+1).join(u)}function Hf(u){return typeof u=="number"}function jA(u){return typeof u=="string"}function UA(u){return typeof u<"u"}function sv(u,n){return Math.pow(2,(u-69)/12)*(n||440)}var rv=/^([a-gA-G])(#{1,}|b{1,}|x{1,}|)(-?\d*)\s*(.*)\s*$/;function BA(){return rv}var IA=[0,2,4,5,7,9,11];function Ci(u,n,i){if(typeof u!="string")return null;var r=rv.exec(u);if(!r||!n&&r[4])return null;var o={letter:r[1].toUpperCase(),acc:r[2].replace(/x/g,"##")};o.pc=o.letter+o.acc,o.step=(o.letter.charCodeAt(0)+3)%7,o.alt=o.acc[0]==="b"?-o.acc.length:o.acc.length;var l=IA[o.step]+o.alt;return o.chroma=l<0?12+l:l%12,r[3]&&(o.oct=+r[3],o.midi=l+12*(o.oct+1),o.freq=sv(o.midi,i)),n&&(o.tonicOf=r[4]),o}var qA="CDEFGAB";function VA(u){return Hf(u)?u<0?j_("b",-u):j_("#",u):""}function LA(u){return Hf(u)?""+u:""}function av(u,n,i){return u===null||typeof u>"u"?null:u.step?av(u.step,u.alt,u.oct):u<0||u>6?null:qA.charAt(u)+VA(n)+LA(i)}function ov(u){if((Hf(u)||jA(u))&&u>=0&&u<128)return+u;var n=Ci(u);return n&&UA(n.midi)?n.midi:null}function FA(u,n){var i=ov(u);return i===null?null:sv(i,n)}function HA(u){return(Ci(u)||{}).letter}function GA(u){return(Ci(u)||{}).acc}function ZA(u){return(Ci(u)||{}).pc}function YA(u){return(Ci(u)||{}).step}function PA(u){return(Ci(u)||{}).alt}function XA(u){return(Ci(u)||{}).chroma}function WA(u){return(Ci(u)||{}).oct}const QA=Object.freeze(Object.defineProperty({__proto__:null,acc:GA,alt:PA,build:av,chroma:XA,freq:FA,letter:HA,midi:ov,oct:WA,parse:Ci,pc:ZA,regex:BA,step:YA},Symbol.toStringTag,{value:"Module"})),KA=F_(QA);var Fh,U_;function JA(){if(U_)return Fh;U_=1;var u=KA;function n(o,l){if(console.warn("new Soundfont() is deprected"),console.log("Please use Soundfont.instrument() instead of new Soundfont().instrument()"),!(this instanceof n))return new n(o);this.nameToUrl=l||n.nameToUrl,this.ctx=o,this.instruments={},this.promises=[]}n.prototype.onready=function(o){console.warn("deprecated API"),console.log("Please use Promise.all(Soundfont.instrument(), Soundfont.instrument()).then() instead of new Soundfont().onready()"),Promise.all(this.promises).then(o)},n.prototype.instrument=function(o,l){console.warn("new Soundfont().instrument() is deprecated."),console.log("Please use Soundfont.instrument() instead.");var h=this.ctx;if(o=o||"default",o in this.instruments)return this.instruments[o];var c={name:o,play:r(h,l)};if(this.instruments[o]=c,o!=="default"){var d=n.instrument(h,o,l).then(function(p){return c.play=p.play,c});this.promises.push(d),c.onready=function(p){console.warn("onready is deprecated. Use Soundfont.instrument().then()"),d.then(p)}}else c.onready=function(p){console.warn("onready is deprecated. Use Soundfont.instrument().then()"),p()};return c};function i(o,l,h){return console.warn("Soundfont.loadBuffers is deprecate."),console.log("Use Soundfont.instrument(..) and get buffers properties from the result."),n.instrument(o,l,h).then(function(c){return c.buffers})}n.loadBuffers=i;function r(o,l){return l=l||{},function(h,c,d,p){console.warn("The oscillator player is deprecated."),console.log("Starting with version 0.9.0 you will have to wait until the soundfont is loaded to play sounds.");var m=h>0&&h<129?+h:u.midi(h),_=m?u.midiToFreq(m,440):null;if(_){d=d||.2,p=p||{};var y=p.destination||l.destination||o.destination,v=p.vcoType||l.vcoType||"sine",S=p.gain||l.gain||.4,b=o.createOscillator();b.type=v,b.frequency.value=_;var x=o.createGain();return x.gain.value=S,b.connect(x),x.connect(y),b.start(c),d>0&&b.stop(c+d),b}}}return n.noteToMidi=u.midi,Fh=n,Fh}var B_;function $A(){return B_||(B_=1,(function(u){var n=AA(),i=zA();function r(c,d,p){if(arguments.length===1)return function(S,b){return r(c,S,b)};var m=p||{},_=m.isSoundfontURL||o,y=m.nameToUrl||l,v=_(d)?d:y(d,m.soundfont,m.format);return n(c,v,{only:m.only||m.notes}).then(function(S){var b=i(c,S,m).connect(m.destination?m.destination:c.destination);return b.url=v,b.name=d,b})}function o(c){return/\.js(\?.*)?$/i.test(c)}function l(c,d,p){return p=p==="ogg"?p:"mp3",d=d==="FluidR3_GM"?d:"MusyngKite","https://gleitz.github.io/midi-js-soundfonts/"+d+"/"+c+"-"+p+".js"}var h=JA();h.instrument=r,h.nameToUrl=l,u.exports&&(u.exports=h),typeof window<"u"&&(window.Soundfont=h)})(Eh)),Eh.exports}var tk=$A();const ek=Ll(tk),nk=[{key:"Space",description:"Play / Pause"},{key:"Shift + Wheel",description:"Piano Roll Horizontal Scroll"},{key:"Ctrl + Wheel",description:"Piano Roll Horizontal Zoom"},{key:"Alt + Wheel",description:"Piano Roll Vertical Zoom"}],ik=()=>{const[u,n]=wt.useState(!1),i=wt.useRef(null);return wt.useEffect(()=>{const r=o=>{i.current&&!i.current.contains(o.target)&&n(!1)};return u&&document.addEventListener("mousedown",r),()=>{document.removeEventListener("mousedown",r)}},[u]),L.jsxs("div",{className:"relative",ref:i,children:[L.jsx("button",{onClick:()=>n(!u),className:`p-2 rounded-full transition-colors ${u?"bg-surface text-primary":"text-muted hover:text-text hover:bg-surface"}`,title:"Keyboard Shortcuts",children:L.jsx(Kw,{className:"w-5 h-5"})}),u&&L.jsx("div",{className:"absolute right-0 top-full mt-2 w-80 bg-surface border border-border rounded-xl shadow-xl z-50 animate-in fade-in zoom-in-95 duration-200",children:L.jsxs("div",{className:"p-4",children:[L.jsx("h3",{className:"font-semibold mb-3 text-lg",children:"Keyboard Shortcuts"}),L.jsx("div",{className:"space-y-3",children:nk.map((r,o)=>L.jsxs("div",{className:"flex justify-between items-center text-sm",children:[L.jsx("span",{className:"font-mono bg-background px-2 py-1 rounded border border-border text-xs text-primary",children:r.key}),L.jsx("span",{className:"text-muted",children:r.description})]},o))})]})})]})},sk=()=>L.jsx("header",{className:"glass-header mb-8",children:L.jsxs("div",{className:"container mx-auto px-4 h-16 flex items-center justify-between",children:[L.jsxs("div",{className:"flex items-center gap-3",children:[L.jsx("div",{className:"p-2 bg-primary/10 rounded-lg",children:L.jsx(Lf,{className:"w-6 h-6 text-primary"})}),L.jsxs("h1",{className:"text-xl font-bold bg-gradient-to-r from-primary to-accent bg-clip-text text-transparent",children:["ConcertAI HUB ",L.jsx("span",{className:"text-sm font-medium text-muted ml-2",children:"ver.2.3.4"})]})]}),L.jsx("div",{className:"flex items-center gap-4",children:L.jsx(ik,{})})]})}),rk=({onMidiUpload:u})=>{const n=async l=>{if(l)try{const h=await l.arrayBuffer(),c=new $i.Midi(h);u(c)}catch(h){console.error("Error parsing MIDI:",h)}},i=l=>{n(l.target.files[0])},r=l=>{l.preventDefault(),l.stopPropagation();const h=l.dataTransfer.files[0];h&&(h.name.endsWith(".mid")||h.name.endsWith(".midi"))&&n(h)},o=l=>{l.preventDefault(),l.stopPropagation()};return L.jsx("div",{className:"p-10 border-2 border-dashed border-border rounded-xl bg-surface/30 hover:bg-surface/50 transition-colors group cursor-pointer h-full flex flex-col items-center justify-center",onDrop:r,onDragOver:o,children:L.jsxs("div",{className:"flex flex-col items-center justify-center gap-6 text-center max-w-md",children:[L.jsx("div",{className:"p-4 bg-primary/10 rounded-full group-hover:scale-110 transition-transform duration-300",children:L.jsx(_A,{className:"w-10 h-10 text-primary"})}),L.jsxs("div",{children:[L.jsx("h3",{className:"text-2xl font-semibold mb-2",children:"Upload MIDI File"}),L.jsx("p",{className:"text-base text-muted",children:"Drag and drop or click to browse"})]}),L.jsxs("div",{className:"flex items-center gap-4 w-full",children:[L.jsxs("label",{className:"flex-1",children:[L.jsx("input",{type:"file",hidden:!0,accept:".mid,.midi",onChange:i}),L.jsxs("div",{className:"btn-primary w-full cursor-pointer flex items-center justify-center gap-2 py-3",children:[L.jsx(Lf,{className:"w-5 h-5"}),L.jsx("span",{children:"Select File"})]})]}),L.jsx("span",{className:"text-sm text-muted font-medium",children:"OR"}),L.jsx("button",{className:"btn-secondary flex-1 py-3",children:"Sample"})]})]})})},ak=({selectedModel:u,setSelectedModel:n,modelInfo:i,debugMode:r})=>{const[o,l]=wt.useState(!1),h=wt.useMemo(()=>i?Object.values(i):[],[i]);wt.useEffect(()=>{h.length>0&&!u&&n(h[0].model_name)},[h,n]);const c=p=>{n(p),l(!1)},d=wt.useMemo(()=>h.find(p=>p.model_name===u),[h,u]);return L.jsxs("div",{className:"w-full",children:[r&&L.jsxs("div",{className:"border border-dashed border-red-500 p-2 mb-2 text-xs font-mono whitespace-pre-wrap break-all",children:[L.jsx("div",{className:"font-bold",children:"DEBUG INFO"}),`modelInfo prop: ${JSON.stringify(i)}
`,`models array (internal): ${JSON.stringify(h.map(p=>p.model_name))}
`,`selectedModel prop: ${u}
`,`selectedModelObject (internal): ${d?d.model_name:"undefined"}`]}),d?L.jsxs("div",{children:[L.jsx("div",{className:"text-xs font-medium text-muted uppercase tracking-wider mb-1.5",children:"Model"}),L.jsxs("button",{onClick:()=>l(!0),className:"w-full p-4 text-left bg-surface border border-border rounded-lg hover:bg-surface/80 transition-colors group relative",children:[L.jsx("div",{className:"font-bold text-lg group-hover:text-primary transition-colors",children:d.model_name}),L.jsx("div",{className:"text-sm text-muted mt-1",children:d.description}),L.jsxs("div",{className:"text-xs text-muted mt-2 pt-2 border-t border-border/50",children:["Instruments: ",Array.isArray(d?.tag?.instruments)?d.tag.instruments.join(", "):d?.tag?.instruments]}),L.jsx(Zw,{className:"absolute right-4 top-1/2 -translate-y-1/2 w-5 h-5 text-muted group-hover:text-primary transition-colors"})]})]}):L.jsx("div",{className:"text-muted animate-pulse",children:"Loading models..."}),o&&L.jsxs("div",{className:"fixed inset-0 z-[100] flex justify-end",children:[L.jsx("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-sm animate-in fade-in duration-200",onClick:()=>l(!1)}),L.jsxs("div",{className:"relative w-full max-w-md bg-background border-l border-border shadow-2xl h-full overflow-y-auto animate-in slide-in-from-right duration-300",children:[L.jsxs("div",{className:"sticky top-0 bg-background/95 backdrop-blur border-b border-border p-4 flex items-center justify-between z-10",children:[L.jsx("h2",{className:"text-xl font-bold",children:"Select a Model"}),L.jsx("button",{onClick:()=>l(!1),className:"p-2 hover:bg-surface rounded-full transition-colors",children:L.jsx(Ff,{className:"w-5 h-5"})})]}),L.jsx("div",{className:"p-4 space-y-3",children:h.map(p=>L.jsxs("button",{onClick:()=>c(p.model_name),className:`w-full p-4 text-left border rounded-lg transition-all duration-200 ${u===p.model_name?"bg-primary/10 border-primary ring-1 ring-primary":"bg-surface border-border hover:border-primary/50 hover:bg-surface/80"}`,children:[L.jsx("div",{className:`font-bold ${u===p.model_name?"text-primary":"text-text"}`,children:p.model_name}),L.jsx("div",{className:"text-sm text-muted mt-1",children:p.description}),L.jsxs("div",{className:"text-xs text-muted mt-2",children:["Instruments: ",Array.isArray(p?.tag?.instruments)?p.tag.instruments.join(", "):p?.tag?.instruments]})]},p.model_name))})]})]})]})},I_=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"],q_=["M","m"],ok=({open:u,onClose:n,onSave:i,currentKey:r})=>{const[o,l]=wt.useState("C"),[h,c]=wt.useState("M");wt.useEffect(()=>{if(u&&r){const[m,_]=r.split(" ");I_.includes(m)&&l(m),q_.includes(_)&&c(_)}},[u,r]);const d=()=>{i(`${o} ${h}`),n()};if(!u)return null;const p=({items:m,selected:_,onChange:y})=>L.jsx("div",{className:"flex flex-wrap justify-center gap-2 mb-4",children:m.map(v=>L.jsx("button",{onClick:()=>y(v),className:`px-3 py-1.5 rounded-md text-sm font-medium transition-all duration-200 ${_===v?"bg-primary text-white shadow-lg shadow-primary/25":"bg-surface border border-border text-text hover:bg-surface/80 hover:border-primary/50"}`,children:v},v))});return L.jsxs("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4",children:[L.jsx("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-sm animate-in fade-in duration-200",onClick:n}),L.jsxs("div",{className:"relative w-full max-w-md bg-background border border-border rounded-xl shadow-2xl overflow-hidden animate-in zoom-in-95 duration-200 flex flex-col",children:[L.jsxs("div",{className:"p-4 border-b border-border flex items-center justify-between bg-surface/30",children:[L.jsx("h2",{className:"text-xl font-bold",children:"Select Key"}),L.jsx("button",{onClick:n,className:"p-2 hover:bg-surface rounded-full transition-colors",children:L.jsx(Ff,{className:"w-5 h-5"})})]}),L.jsxs("div",{className:"p-6",children:[L.jsx("div",{className:"mb-6 p-4 bg-surface border border-border rounded-lg text-center",children:L.jsxs("div",{className:"text-4xl font-bold text-primary",children:[o," ",h]})}),L.jsxs("div",{className:"space-y-6",children:[L.jsxs("div",{children:[L.jsx("h3",{className:"text-sm font-medium text-muted uppercase tracking-wider mb-3 text-center",children:"Root"}),L.jsx(p,{items:I_,selected:o,onChange:l})]}),L.jsxs("div",{children:[L.jsx("h3",{className:"text-sm font-medium text-muted uppercase tracking-wider mb-3 text-center",children:"Scale"}),L.jsx(p,{items:q_,selected:h,onChange:c})]})]})]}),L.jsxs("div",{className:"p-4 border-t border-border bg-surface/30 flex justify-end gap-3",children:[L.jsx("button",{onClick:n,className:"btn-secondary",children:"Cancel"}),L.jsx("button",{onClick:d,className:"btn-primary",children:"Save Key"})]})]})]})},lk=({instrument:u,setInstrument:n,tempo:i,setTempo:r,selectedModel:o,setSelectedModel:l,modelInfo:h,debugMode:c,keySelection:d,setKey:p,selectedInstruments:m,setSelectedInstruments:_})=>{const[y,v]=wt.useState(!0),[S,b]=wt.useState(!1),x=h?h.find(E=>E.model_name===o):null,T=x?.tag?.instruments?Array.isArray(x.tag.instruments)?x.tag.instruments:[x.tag.instruments]:[];wt.useEffect(()=>{T.length>0?_([T[0]]):_([])},[o,h]);const N=E=>{m.includes(E)?_(m.filter(C=>C!==E)):_([...m,E])},O=E=>{const C=E.target.value;(C===""||Number.isInteger(Number(C))&&C>=0)&&r(C)};return L.jsxs("div",{className:"border border-border rounded-xl overflow-hidden bg-surface/30",children:[L.jsxs("button",{onClick:()=>v(!y),className:"w-full px-4 py-3 flex items-center justify-between bg-surface/50 hover:bg-surface transition-colors",children:[L.jsxs("div",{className:"flex items-center gap-2 font-medium",children:[L.jsx(uA,{className:"w-4 h-4 text-primary"}),L.jsx("span",{children:"Basic Settings"})]}),y?L.jsx(nv,{className:"w-4 h-4 text-muted"}):L.jsx(Vf,{className:"w-4 h-4 text-muted"})]}),y&&L.jsxs("div",{className:"p-4 space-y-4 border-t border-border",children:[L.jsx(ak,{selectedModel:o,setSelectedModel:l,modelInfo:h,debugMode:c}),L.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[L.jsxs("div",{className:"space-y-1.5",children:[L.jsx("label",{className:"text-sm font-medium text-muted",children:"Tempo (BPM)"}),L.jsx("input",{type:"number",value:i,onChange:O,min:"0",className:"input-field"})]}),L.jsxs("div",{className:"space-y-1.5",children:[L.jsx("label",{className:"text-sm font-medium text-muted",children:"Key"}),L.jsxs("button",{onClick:()=>b(!0),className:"w-full p-2.5 bg-surface border border-border rounded-lg text-left hover:bg-surface/80 transition-colors flex items-center justify-between",children:[L.jsx("span",{className:"font-medium",children:d}),L.jsx(Lf,{className:"w-4 h-4 text-muted"})]})]})]}),T.length>0&&L.jsxs("div",{className:"space-y-2",children:[L.jsx("label",{className:"text-sm font-medium text-muted",children:"Generate Instruments"}),L.jsx("div",{className:"flex flex-wrap gap-2",children:T.map(E=>L.jsx("button",{onClick:()=>N(E),className:`px-3 py-1.5 rounded-md text-sm font-medium transition-all duration-200 ${m.includes(E)?"bg-primary text-white shadow-lg shadow-primary/25":"bg-surface border border-border text-text hover:bg-surface/80 hover:border-primary/50"}`,children:E},E))})]})]}),L.jsx(ok,{open:S,onClose:()=>b(!1),onSave:p,currentKey:d})]})},uk=({temperature:u,setTemperature:n,p:i,setP:r,numGems:o,setNumGems:l,rules:h})=>{const[c,d]=wt.useState(!1);return L.jsxs("div",{className:"border border-border rounded-xl overflow-hidden bg-surface/30",children:[L.jsxs("button",{onClick:()=>d(!c),className:"w-full px-4 py-3 flex items-center justify-between bg-surface/50 hover:bg-surface transition-colors",children:[L.jsxs("div",{className:"flex items-center gap-2 font-medium",children:[L.jsx(hA,{className:"w-4 h-4 text-primary"}),L.jsx("span",{children:"Advanced Settings"})]}),c?L.jsx(nv,{className:"w-4 h-4 text-muted"}):L.jsx(Vf,{className:"w-4 h-4 text-muted"})]}),c&&L.jsxs("div",{className:"p-4 space-y-6 border-t border-border",children:[(!h||h.temperature!==!1)&&L.jsxs("div",{className:"space-y-3",children:[L.jsxs("div",{className:"flex justify-between items-center",children:[L.jsx("label",{className:"text-sm font-medium text-muted",children:"Temperature"}),L.jsx("span",{className:"text-xs font-mono bg-surface px-2 py-1 rounded border border-border",children:u})]}),L.jsx("input",{type:"range",min:"0.1",max:"1.5",step:"0.05",value:u,onChange:p=>n(parseFloat(p.target.value)),className:"w-full h-2 bg-surface rounded-lg appearance-none cursor-pointer accent-primary"})]}),(!h||h.top_p!==!1)&&L.jsxs("div",{className:"space-y-3",children:[L.jsxs("div",{className:"flex justify-between items-center",children:[L.jsx("label",{className:"text-sm font-medium text-muted",children:"Top-p"}),L.jsx("span",{className:"text-xs font-mono bg-surface px-2 py-1 rounded border border-border",children:i})]}),L.jsx("input",{type:"range",min:"0.8",max:"1.0",step:"0.01",value:i,onChange:p=>r(parseFloat(p.target.value)),className:"w-full h-2 bg-surface rounded-lg appearance-none cursor-pointer accent-primary"})]}),(!h||h.number_of_generation!==!1)&&L.jsxs("div",{className:"space-y-3",children:[L.jsxs("div",{className:"flex justify-between items-center",children:[L.jsx("label",{className:"text-sm font-medium text-muted",children:"Number of Gems"}),L.jsx("span",{className:"text-xs font-mono bg-surface px-2 py-1 rounded border border-border",children:o})]}),L.jsx("input",{type:"range",min:"1",max:"8",step:"1",value:o,onChange:p=>l(parseInt(p.target.value)),className:"w-full h-2 bg-surface rounded-lg appearance-none cursor-pointer accent-primary"})]})]})]})},ck=({onPlay:u,onPause:n,onStop:i,onGenerate:r,isGenerating:o,playbackState:l,progress:h,duration:c,generatedMidis:d,selectedGeneratedMidi:p,onSelectedGeneratedMidiChange:m})=>L.jsxs("div",{className:"space-y-6",children:[L.jsxs("div",{className:"flex items-center gap-4 flex-wrap",children:[L.jsxs("div",{className:"flex items-center gap-2 bg-surface border border-border rounded-lg p-1",children:[L.jsx("button",{onClick:u,disabled:l==="playing",className:`p-2 rounded-md transition-colors ${l==="playing"?"text-primary bg-primary/10":"text-text hover:bg-white/5 disabled:opacity-50 disabled:cursor-not-allowed"}`,title:"Play",children:L.jsx(rA,{className:"w-5 h-5 fill-current"})}),L.jsx("button",{onClick:n,disabled:l!=="playing",className:`p-2 rounded-md transition-colors ${l==="paused"?"text-primary bg-primary/10":"text-text hover:bg-white/5 disabled:opacity-50 disabled:cursor-not-allowed"}`,title:"Pause",children:L.jsx(iA,{className:"w-5 h-5 fill-current"})}),L.jsx("button",{onClick:i,disabled:l==="stopped",className:"p-2 rounded-md transition-colors text-text hover:bg-white/5 disabled:opacity-50 disabled:cursor-not-allowed",title:"Stop",children:L.jsx(dA,{className:"w-5 h-5 fill-current"})})]}),L.jsx("button",{onClick:r,disabled:o,className:"btn-primary flex items-center gap-2 min-w-[120px] justify-center",children:o?L.jsx(iv,{className:"w-5 h-5 animate-spin"}):"Generate"}),d.length>1&&L.jsxs("div",{className:"relative min-w-[160px]",children:[L.jsx("select",{value:p,onChange:_=>m(Number(_.target.value)),className:"input-field appearance-none cursor-pointer",children:d.map((_,y)=>L.jsxs("option",{value:y,children:["Variation ",y+1]},y))}),L.jsx(Vf,{className:"absolute right-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted pointer-events-none"})]})]}),L.jsxs("div",{className:"space-y-2",children:[L.jsxs("div",{className:"flex justify-between text-xs text-muted font-medium uppercase tracking-wider",children:[L.jsx("span",{children:"Playback Progress"}),L.jsxs("span",{children:[Math.floor(h*100),"%"]})]}),L.jsx("div",{className:"relative h-2 bg-surface border border-border rounded-full overflow-hidden",children:L.jsx("div",{className:"absolute top-0 left-0 h-full bg-primary transition-all duration-100 ease-linear",style:{width:`${h*100}%`}})})]})]}),hk=["C","C#","D","D#","E","E#","F","F#","G","G#","A","A#","B","Cb","Db","Eb","Fb","Gb","Ab","Bb"],fk=["/C","/C#","/D","/D#","/E","/E#","/F","/F#","/G","/G#","/A","/A#","/B","/B#","/Db","/Eb","/Fb","/Gb","/Ab","/Bb","/Cb","None"],dk=["None","m","7","maj7","m7","dim","aug","m7b5","b5","sus2","sus4","6","m6","9","maj9","m9","11","13","add9"],pk=({open:u,onClose:n,onSave:i,chord:r})=>{const[o,l]=wt.useState("C"),[h,c]=wt.useState("None"),[d,p]=wt.useState("None");wt.useEffect(()=>{u&&(l(r?.root||"C"),c(r?.quality||"None"),p(r?.base||"None"))},[u,r]);const m=()=>{i({root:o,quality:h,base:d}),n()},_=()=>`${o}${h==="None"?"":h}${d==="None"?"":d}`;if(!u)return null;const y=({items:v,selected:S,onChange:b})=>L.jsx("div",{className:"flex flex-wrap justify-center gap-2 mb-4",children:v.map(x=>L.jsx("button",{onClick:()=>b(x),className:`px-3 py-1.5 rounded-md text-sm font-medium transition-all duration-200 ${S===x?"bg-primary text-white shadow-lg shadow-primary/25":"bg-surface border border-border text-text hover:bg-surface/80 hover:border-primary/50"}`,children:x},x))});return L.jsxs("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4",children:[L.jsx("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-sm animate-in fade-in duration-200",onClick:n}),L.jsxs("div",{className:"relative w-full max-w-2xl bg-background border border-border rounded-xl shadow-2xl overflow-hidden animate-in zoom-in-95 duration-200 max-h-[90vh] flex flex-col",children:[L.jsxs("div",{className:"p-4 border-b border-border flex items-center justify-between bg-surface/30",children:[L.jsx("h2",{className:"text-xl font-bold",children:"Select Chord"}),L.jsx("button",{onClick:n,className:"p-2 hover:bg-surface rounded-full transition-colors",children:L.jsx(Ff,{className:"w-5 h-5"})})]}),L.jsxs("div",{className:"p-6 overflow-y-auto",children:[L.jsx("div",{className:"mb-6 p-4 bg-surface border border-border rounded-lg text-center",children:L.jsx("div",{className:"text-4xl font-bold text-primary",children:_()})}),L.jsxs("div",{className:"space-y-6",children:[L.jsxs("div",{children:[L.jsx("h3",{className:"text-sm font-medium text-muted uppercase tracking-wider mb-3 text-center",children:"Roots"}),L.jsx(y,{items:hk,selected:o,onChange:l})]}),L.jsxs("div",{children:[L.jsx("h3",{className:"text-sm font-medium text-muted uppercase tracking-wider mb-3 text-center",children:"Qualities"}),L.jsx(y,{items:dk,selected:h,onChange:c})]}),L.jsxs("div",{children:[L.jsx("h3",{className:"text-sm font-medium text-muted uppercase tracking-wider mb-3 text-center",children:"Bases"}),L.jsx(y,{items:fk,selected:d,onChange:p})]})]})]}),L.jsxs("div",{className:"p-4 border-t border-border bg-surface/30 flex justify-end gap-3",children:[L.jsx("button",{onClick:n,className:"btn-secondary",children:"Cancel"}),L.jsx("button",{onClick:m,className:"btn-primary",children:"Save Chord"})]})]})]})},mk=50,gk=({totalMeasures:u,pixelsPerMeasure:n,onChordsChange:i})=>{const[r,o]=wt.useState({}),[l,h]=wt.useState(!1),[c,d]=wt.useState(null),p=(v,S)=>{d(`${v}-${S}`),h(!0)},m=()=>{h(!1),d(null)},_=v=>{const S={...r,[c]:v};o(S),i&&i(S)},y=v=>{if(!v)return"";const S=v.quality==="None"?"":v.quality,b=v.base==="None"?"":v.base;return`${v.root}${S}${b}`};return L.jsxs("div",{children:[L.jsx("div",{className:"flex relative bg-background border-b border-border",style:{width:`${u*n}px`,height:`${mk}px`},children:Array.from({length:u}).map((v,S)=>L.jsx("div",{className:"h-full border-r border-border flex",style:{width:`${n}px`},children:Array.from({length:4}).map((b,x)=>L.jsx("div",{onDoubleClick:()=>p(S,x),className:`
                                    h-full flex items-center justify-center cursor-pointer transition-colors
                                    ${x<3?"border-r border-border/30 border-dashed":""}
                                    ${r[`${S}-${x}`]?"bg-primary/20 hover:bg-primary/30":"hover:bg-surface"}
                                `,style:{width:`${n/4}px`},children:L.jsx("span",{className:"text-xs font-medium text-text select-none",children:y(r[`${S}-${x}`])})},x))},S))}),L.jsx(pk,{open:l,onClose:m,onSave:_,chord:r[c]})]})},_k=30,vk=({note:u,pixelsPerSecond:n,verticalZoom:i})=>{const r=20*i,o=(127-u.midi)*r,l=u.time*n,h=u.duration*n;return L.jsx("div",{className:"absolute bg-primary rounded-sm z-10 flex items-center justify-center overflow-hidden shadow-sm border border-white/10",style:{top:`${o}px`,left:`${l}px`,width:`${h}px`,height:`${r-1}px`},children:h>20&&L.jsx("span",{className:"text-[10px] text-white font-medium select-none truncate px-1",children:u.name})})},V_=wt.forwardRef(({midiData:u,progress:n,duration:i,generationLength:r,setGenerationLength:o,onSeek:l,onChordsChange:h,onMute:c,onSolo:d,onDelete:p,onClear:m,trackMutes:_,trackSolos:y},v)=>{const[S,b]=wt.useState([0,0]),[x,T]=wt.useState(1),[N,O]=wt.useState(1),[E,C]=wt.useState({}),[j,z]=wt.useState(0);wt.useEffect(()=>{h&&h(E)},[E,h]),wt.useEffect(()=>{z(0)},[u]);const R=80*x,V=20*N,P=u?.tracks[j],et=P?P.notes:[],D=_?_[j]:!1,X=y?y[j]:!1,w=u?.header.tempos[0]?.bpm||120,J=u?.header.timeSignatures[0]?.timeSignature||[4,4],G=60/w*J[0],H=G*R,ct=i,tt=ct>0?Math.ceil(ct/G):12,U=tt*H,B=128*V,F=n*ct*R,lt=wt.useRef(null);wt.useImperativeHandle(v,()=>({getSelectedNotes:()=>{if(!u||S[0]===0&&S[1]===0)return[];const dt=S[0]*G,xt=(S[1]+1)*G;return et.filter(kt=>kt.time>=dt&&kt.time<xt)}})),wt.useEffect(()=>{const dt=lt.current,xt=ht=>{if(ht.preventDefault(),ht.ctrlKey){const kt=ht.deltaY>0?.9:1.1;T(jt=>Math.max(.1,Math.min(jt*kt,5)))}else if(ht.altKey){const kt=ht.deltaY>0?.9:1.1;O(jt=>Math.max(.1,Math.min(jt*kt,5)))}else ht.shiftKey?dt.scrollLeft+=ht.deltaY:dt.scrollTop+=ht.deltaY};return dt&&dt.addEventListener("wheel",xt,{passive:!1}),()=>{dt&&dt.removeEventListener("wheel",xt)}},[]),wt.useEffect(()=>{if(u&&lt.current&&et.length>0){const dt=Math.min(...et.map(Jt=>Jt.midi)),kt=(127-(Math.max(...et.map(Jt=>Jt.midi))+dt)/2)*V,jt=lt.current.clientHeight,Lt=kt-jt/2;lt.current.scrollTop=Lt}},[u,N,V,j]);const ut=dt=>{const xt=dt.currentTarget.getBoundingClientRect(),kt=(dt.clientX-xt.left)/R;l&&l(kt)},rt=dt=>{if(S[0]===0&&S[1]===0)b([dt,dt]);else if(dt>=S[0]&&dt<=S[1])b([0,0]);else{const xt=Math.min(S[0],dt),ht=Math.max(S[1],dt);b([xt,ht])}};return L.jsxs("div",{className:"flex flex-col h-full p-4",children:[L.jsxs("div",{className:"flex items-center gap-6 mb-4",children:[L.jsxs("div",{className:"flex items-center gap-3",children:[L.jsx("span",{className:"text-sm font-medium text-muted",children:"H-Zoom"}),L.jsx("input",{type:"range",min:"0.1",max:"5",step:"0.1",value:x,onChange:dt=>T(parseFloat(dt.target.value)),className:"w-32 h-2 bg-surface rounded-lg appearance-none cursor-pointer accent-primary"})]}),L.jsxs("div",{className:"flex items-center gap-3",children:[L.jsx("span",{className:"text-sm font-medium text-muted",children:"V-Zoom"}),L.jsx("input",{type:"range",min:"0.1",max:"5",step:"0.1",value:N,onChange:dt=>O(parseFloat(dt.target.value)),className:"w-32 h-2 bg-surface rounded-lg appearance-none cursor-pointer accent-primary"})]}),u&&u.tracks.length>0&&L.jsxs(L.Fragment,{children:[L.jsxs("div",{className:"flex items-center gap-3",children:[L.jsx("span",{className:"text-sm font-medium text-muted",children:"Track"}),L.jsx("select",{value:j,onChange:dt=>z(parseInt(dt.target.value)),className:"bg-surface text-text border border-border rounded px-2 py-1 text-sm focus:outline-none focus:border-primary",children:u.tracks.map((dt,xt)=>L.jsxs("option",{value:xt,children:[xt+1,": ",dt.name||dt.instrument.name||`Track ${xt+1}`]},xt))})]}),L.jsxs("div",{className:"flex items-center gap-2 border-l border-border pl-4",children:[L.jsx("button",{onClick:()=>c&&c(j),className:`p-2 rounded hover:bg-surface transition-colors ${D?"text-red-500":"text-muted"}`,title:D?"Unmute Track":"Mute Track",children:D?L.jsx(SA,{size:18}):L.jsx(yA,{size:18})}),L.jsx("button",{onClick:()=>d&&d(j),className:`p-2 rounded hover:bg-surface transition-colors ${X?"text-yellow-500":"text-muted"}`,title:X?"Unsolo Track":"Solo Track",children:L.jsx("span",{className:"font-bold text-sm",children:"S"})}),L.jsx("button",{onClick:()=>p&&p(j),className:"p-2 rounded hover:bg-red-500/20 text-muted hover:text-red-500 transition-colors",title:"Delete Track",children:L.jsx(mA,{size:18})})]})]}),L.jsx("div",{className:"ml-auto",children:L.jsxs("button",{onClick:m,className:"flex items-center gap-2 px-3 py-1.5 bg-surface hover:bg-surface/80 text-text rounded border border-border transition-colors text-sm",title:"Clear All",children:[L.jsx(oA,{size:14}),L.jsx("span",{children:"Clear"})]})})]}),L.jsxs("div",{className:"flex-1 border border-border rounded-lg overflow-auto relative bg-surface/20",ref:lt,children:[L.jsx("div",{className:"sticky top-0 left-0 flex bg-background z-20 border-b border-border",style:{width:`${U}px`,height:`${_k}px`},children:Array.from({length:tt}).map((dt,xt)=>L.jsx("div",{className:`
                                border-r border-border text-xs flex items-center justify-center cursor-pointer transition-colors
                                ${xt>=S[0]&&xt<=S[1]?"bg-primary/30 text-primary font-bold":"text-muted hover:bg-surface"}
                            `,style:{width:`${H}px`},onClick:()=>rt(xt),children:xt+1},xt))}),L.jsx("div",{className:"sticky top-[30px] left-0 z-20 bg-background border-b border-border",style:{width:`${U}px`},children:L.jsx(gk,{totalMeasures:tt,pixelsPerMeasure:H,onChordsChange:C})}),L.jsxs("div",{onClick:ut,className:"relative cursor-pointer",style:{width:`${U}px`,height:`${B}px`},children:[Array.from({length:tt}).map((dt,xt)=>L.jsx("div",{className:`absolute top-0 h-full border-r border-border/30 ${xt<r?"bg-primary/5":""}`,style:{left:`${xt*H}px`,width:`${H}px`}},xt)),S[0]!==0||S[1]!==0?L.jsx("div",{className:"absolute top-0 h-full bg-primary/20 pointer-events-none z-[2]",style:{left:`${S[0]*H}px`,width:`${(S[1]-S[0]+1)*H}px`}}):null,et.map((dt,xt)=>L.jsx(vk,{note:dt,pixelsPerSecond:R,verticalZoom:N},xt)),L.jsx("div",{className:"absolute top-0 h-full w-0.5 bg-red-500 z-20 pointer-events-none shadow-[0_0_10px_rgba(239,68,68,0.5)]",style:{left:`${F}px`}})]}),!u&&L.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 text-muted pointer-events-none",children:"Piano Roll Area"})]})]})}),yk=["acoustic_grand_piano","bright_acoustic_piano","electric_grand_piano","honkytonk_piano","electric_piano_1","electric_piano_2","harpsichord","clavinet","celesta","glockenspiel","music_box","vibraphone","marimba","xylophone","tubular_bells","dulcimer","drawbar_organ","percussive_organ","rock_organ","church_organ","reed_organ","accordion","harmonica","tango_accordion","acoustic_guitar_nylon","acoustic_guitar_steel","electric_guitar_jazz","electric_guitar_clean","electric_guitar_muted","overdriven_guitar","distortion_guitar","guitar_harmonics","acoustic_bass","electric_bass_finger","electric_bass_pick","fretless_bass","slap_bass_1","slap_bass_2","synth_bass_1","synth_bass_2","violin","viola","cello","contrabass","tremolo_strings","pizzicato_strings","orchestral_harp","timpani","string_ensemble_1","string_ensemble_2","synth_strings_1","synth_strings_2","choir_aahs","voice_oohs","synth_choir","orchestra_hit","trumpet","trombone","tuba","muted_trumpet","french_horn","brass_section","synth_brass_1","synth_brass_2","soprano_sax","alto_sax","tenor_sax","baritone_sax","oboe","english_horn","bassoon","clarinet","piccolo","flute","recorder","pan_flute","blown_bottle","shakuhachi","whistle","ocarina","lead_1_square","lead_2_sawtooth","lead_3_calliope","lead_4_chiff","lead_5_charang","lead_6_voice","lead_7_fifths","lead_8_bass__lead","pad_1_new_age","pad_2_warm","pad_3_polysynth","pad_4_choir","pad_5_bowed","pad_6_metallic","pad_7_halo","pad_8_sweep","fx_1_rain","fx_2_soundtrack","fx_3_crystal","fx_4_atmosphere","fx_5_brightness","fx_6_goblins","fx_7_echoes","fx_8_scifi","sitar","banjo","shamisen","koto","kalimba","bagpipe","fiddle","shanai","tinkle_bell","agogo","steel_drums","woodblock","taiko_drum","melodic_tom","synth_drum","reverse_cymbal","guitar_fret_noise","breath_noise","seashore","bird_tweet","telephone_ring","helicopter","applause","gunshot"],L_="https://c4dde3cb6edc.ngrok-free.app";function bk(){const[u,n]=wt.useState(!1);wt.useEffect(()=>{new URLSearchParams(window.location.search).get("debug")==="true"&&prompt("Enter debug code:")==="963964"&&n(!0)},[]);const[i,r]=wt.useState(null),[o,l]=wt.useState(null),[h,c]=wt.useState("stopped"),[d,p]=wt.useState(0),[m,_]=wt.useState(!1),[y,v]=wt.useState(12),[S,b]=wt.useState("piano"),[x,T]=wt.useState(120),[N,O]=wt.useState(""),[E,C]=wt.useState(.95),[j,z]=wt.useState(.95),[R,V]=wt.useState(3),[P,et]=wt.useState("C M"),[D,X]=wt.useState([]),[w,J]=wt.useState([]),[G,H]=wt.useState([]),[ct,tt]=wt.useState(0),[U,B]=wt.useState({open:!1,message:"",severity:"info"}),[F,lt]=wt.useState(!1),[ut,rt]=wt.useState({}),[dt,xt]=wt.useState(null),[ht,kt]=wt.useState({}),[jt,Lt]=wt.useState({}),Jt=wt.useRef([]),ve=wt.useRef();wt.useEffect(()=>{(async()=>{try{const St=await fetch(`${L_}/model_info`,{method:"POST"});if(!St.ok)throw new Error(`Network response was not ok: ${St.statusText}`);const qt=await St.json(),Ut=Object.values(qt);J(Ut)}catch(St){console.error("Failed to fetch model info:",St),B({open:!0,message:`Failed to load model list: ${St.message}`,severity:"error"})}})()},[]);const[A,Q]=wt.useState([]);wt.useEffect(()=>{if(console.log("Instrument loading effect running"),_(!1),A.forEach(St=>{St.type==="tone"&&St.player.dispose(),St.gain&&St.gain.disconnect()}),!i){console.log("No midiData, resetting instruments"),Q([]),_(!0);return}return(async()=>{const St=i.tracks.map(async(qt,Ut)=>{const he=qt.instrument.number,zt=qt.instrument.percussion||qt.channel===9,oe=Th.createGain();qs(oe,Sw);let ee,Wt;if(console.log(`Loading track ${Ut}: Program ${he}, Drum: ${zt}`),zt)Wt="tone",console.log("Loading Salamander Drumkit..."),ee=new qr({urls:{35:"kick_OH_FF_1.wav",36:"kick2_OH_FF_1.wav",37:"snareStick_OH_F_1.wav",38:"snare_OH_FF_1.wav",40:"snare2_OH_FF_1.wav",41:"loTom_OH_FF_1.wav",42:"hihatClosed_OH_F_1.wav",43:"loTom_OH_FF_6.wav",44:"hihatFoot_OH_MP_1.wav",45:"hiTom_OH_FF_1.wav",46:"hihatOpen_OH_FF_1.wav",47:"hiTom_OH_FF_1.wav",48:"hiTom_OH_FF_4.wav",49:"crash1_OH_FF_1.wav",50:"hiTom_OH_FF_8.wav",51:"ride1_OH_FF_1.wav",52:"china1_OH_FF_1.wav",53:"ride1Bell_OH_F_1.wav",55:"splash1_OH_F_1.wav",57:"crash2_OH_FF_1.wav",59:"ride2_OH_FF_1.wav"},baseUrl:"drums/OH/",onload:()=>{console.log("Salamander Drumkit loaded!")}}),ee.connect(oe),await s_();else if(he>=0&&he<=7)Wt="tone",ee=new qr({urls:{A0:"A0.mp3",C1:"C1.mp3","D#1":"Ds1.mp3","F#1":"Fs1.mp3",A1:"A1.mp3",C2:"C2.mp3","D#2":"Ds2.mp3","F#2":"Fs2.mp3",A2:"A2.mp3",C3:"C3.mp3","D#3":"Ds3.mp3","F#3":"Fs3.mp3",A3:"A3.mp3",C4:"C4.mp3","D#4":"Ds4.mp3","F#4":"Fs4.mp3",A4:"A4.mp3",C5:"C5.mp3","D#5":"Ds5.mp3","F#5":"Fs5.mp3",A5:"A5.mp3",C6:"C6.mp3"},release:1,baseUrl:"https://tonejs.github.io/audio/salamander/"}),ee.connect(oe),await s_();else{Wt="soundfont";const Yt=yk[he]||"acoustic_grand_piano";console.log(`Fetching Soundfont: ${Yt}`);try{ee=await ek.instrument(Th.rawContext,Yt,{destination:oe,soundfont:"FluidR3_GM"})}catch(je){console.error(`Failed to load soundfont ${Yt}, falling back to synth`,je),Wt="tone",ee=new Bf(Ir),ee.connect(oe)}}return{player:ee,gain:oe,type:Wt}});try{const qt=await Promise.all(St);console.log("All instruments loaded"),Q(qt),_(!0)}catch(qt){console.error("Error loading instruments:",qt),_(!0)}})(),()=>{}},[i]),wt.useEffect(()=>{const bt=Object.values(jt).some(St=>St);A.forEach((St,qt)=>{if(St&&St.gain){let Ut=!0;bt?Ut=jt[qt]:Ut=!ht[qt],St.gain.gain.value=Ut?1:0}})},[ht,jt,A]),wt.useEffect(()=>{if(console.log("Scheduling effect running",{midiData:!!i,samplerLoaded:m,instrumentsLength:A.length,tracksLength:i?.tracks.length}),i&&m&&A.length===i.tracks.length){console.log("Starting scheduling..."),Jt.current.forEach(St=>en.clear(St)),Jt.current=[];const bt=[];i.tracks.forEach((St,qt)=>{const Ut=A[qt];Ut&&St.notes.forEach(he=>{const zt=en.schedule(oe=>{Ut.type==="tone"?Ut.player.triggerAttackRelease(he.name,he.duration,oe,he.velocity):Ut.type==="soundfont"&&Ut.player.play(he.name,oe,{duration:he.duration,gain:he.velocity})},he.time);bt.push(zt)})}),console.log(`Scheduled ${bt.length} events`),Jt.current=bt,en.loop=!0,en.loopStart=0,en.loopEnd=i.duration}},[i,m,A]),wt.useEffect(()=>{en.bpm.value=x},[x]);const K=bt=>{h!=="stopped"&&Y(),kt({}),r(bt),l(bt),H([]),bt.header.tempos.length>0&&T(Math.round(bt.header.tempos[0].bpm))},q=async()=>{console.log("handlePlay called",{midiData:!!i,samplerLoaded:m}),!(!i||!m)&&(Th.state!=="running"&&await tw(),en.start(),c("playing"))},I=()=>{en.pause(),c("paused")},Y=()=>{en.stop(),en.position=0,p(0),c("stopped")},ft=bt=>{en.position=bt,p(en.progress)},mt=bt=>{if(!bt)return"";const St=bt.quality==="None"?"":bt.quality,qt=bt.base==="None"?"":bt.base;return`${bt.root}${St}${qt}`},nt=async()=>{if(!N){B({open:!0,message:"Please select a model from the Settings dropdown first.",severity:"warning"});return}const St=w.find(Yt=>Yt.model_name===N)?.tag?.model;if(!o&&St!=="pretrained"){B({open:!0,message:"Please upload a MIDI file first.",severity:"warning"});return}const qt=ve.current?.getSelectedNotes()||[];if(qt.length===0&&St!=="pretrained"){B({open:!0,message:"",severity:"warning"});return}lt(!0),B({open:!0,message:"Generating... Please wait.",severity:"info"}),H([]);const Ut=new $i.Midi,he=Ut.addTrack();qt.forEach(Yt=>{he.addNote({midi:Yt.midi,time:Yt.time,duration:Yt.duration,velocity:Yt.velocity})});const zt=new Blob([Ut.toArray()],{type:"audio/midi"}),oe={model_type:N,program:D,tempo:x,task:"MUSICGEM",p:j,temperature:E,split_measure:99,key:P.replace(" ",""),num_gems:R};if(St==="sft"&&o){const Yt=qt.reduce((mn,gn)=>Math.max(mn,gn.time+gn.duration),0),je=o?.header.tempos[0]?.bpm||120,Ue=(o?.header.timeSignatures[0]?.timeSignature||[4,4])[0],Pe=60/je,Xe=Pe*Ue,Ni=Object.entries(ut).map(([mn,gn])=>{const[us,uo]=mn.split("-").map(Number),ou=us*Xe+uo*Pe;return{chord:gn,startTime:ou}}).filter(mn=>mn.startTime>=Yt);oe.chord_item=Ni.map(mn=>mt(mn.chord)),oe.chord_times=Ni.map(mn=>mn.startTime-Yt)}u&&xt({meta:oe});const ee=new Blob([JSON.stringify(oe,null,2)],{type:"application/json"}),Wt=new FormData;Wt.append("midi",zt,"input.mid"),Wt.append("meta_json",ee,"meta.json");try{const Yt=await fetch(`${L_}/generate`,{method:"POST",body:Wt});if(Yt.ok){const je=Yt.headers.get("content-type");if(je&&je.includes("application/zip")){const pn=await Yt.blob(),Ue=await Bw.loadAsync(pn),Pe=[],Xe=[];Ue.forEach((mn,gn)=>{gn.name.endsWith(".mid")?Pe.push(gn.async("arraybuffer").then(us=>new $i.Midi(us))):gn.name.endsWith(".json")&&Xe.push(gn.async("string"))});const qn=await Promise.all(Pe),Ni=await Promise.all(Xe);Ni.length>0?B({open:!0,message:Ni.join(`
`),severity:"info"}):qn.length>0?(H(qn),tt(0),B({open:!0,message:`Successfully generated ${qn.length} MIDI file(s).`,severity:"success"})):B({open:!0,message:"Generation complete, but no relevant files were produced.",severity:"warning"})}else if(je&&(je.includes("audio/midi")||je.includes("application/x-midi"))){const Ue=await(await Yt.blob()).arrayBuffer(),Pe=new $i.Midi(Ue);H([Pe]),tt(0),B({open:!0,message:"Successfully generated MIDI file.",severity:"success"})}else try{const Ue=await(await Yt.blob()).arrayBuffer(),Pe=new $i.Midi(Ue);H([Pe]),tt(0),B({open:!0,message:"Successfully generated MIDI file (fallback).",severity:"success"})}catch{B({open:!0,message:`Unknown response format: ${je}`,severity:"error"})}}else{const je=await Yt.text();console.error("Generation failed response:",je);let pn=je;try{const Ue=JSON.parse(je);Ue.detail&&(pn=typeof Ue.detail=="object"?JSON.stringify(Ue.detail,null,2):Ue.detail)}catch{}B({open:!0,message:`Generation failed: ${pn||Yt.statusText}`,severity:"error"})}}catch(Yt){console.error("Error during generation:",Yt),B({open:!0,message:`An error occurred: ${Yt.message}`,severity:"error"})}finally{lt(!1)}};wt.useEffect(()=>{const St=w.find(Ut=>Ut.model_name===N)?.tag?.model,qt=G[ct];if(!(!St||!qt)){if(St==="pretrained")r(qt);else if(St==="sft"){const Ut=new $i.Midi;Ut.header=o.header;const zt=ve.current.getSelectedNotes().reduce((ee,Wt)=>Math.max(ee,Wt.time+Wt.duration),0),oe=Ut.addTrack();o.tracks.forEach((ee,Wt)=>{ht[Wt]||ee.notes.forEach(Yt=>{Yt.time<zt&&oe.addNote(Yt)})}),qt.tracks.forEach(ee=>{ee.notes.forEach(Wt=>{oe.addNote({...Wt,time:Wt.time+zt})})}),r(Ut)}}},[G,ct,o,w,N,ht]),wt.useEffect(()=>{if(h==="playing"){const bt=en.scheduleRepeat(St=>{xw.schedule(()=>p(en.progress),St)},"16n");return()=>en.clear(bt)}},[h]),wt.useEffect(()=>{const bt=St=>{St.code==="Space"&&(St.preventDefault(),h==="playing"?I():q())};return window.addEventListener("keydown",bt),()=>window.removeEventListener("keydown",bt)},[h,q,I]);const vt=bt=>{kt(St=>({...St,[bt]:!St[bt]}))},Tt=bt=>{Lt(St=>({...St,[bt]:!St[bt]}))},yt=bt=>{if(!i)return;const St={...i};St.tracks.splice(bt,1),r({...St}),kt(qt=>{const Ut={};return Object.keys(qt).forEach(he=>{const zt=parseInt(he);zt<bt?Ut[zt]=qt[zt]:zt>bt&&(Ut[zt-1]=qt[zt])}),Ut})},Ct=()=>{r(null),l(null),H([]),Q([]),Q([]),kt({}),Lt({}),Y()},Rt=i?i.duration:0;return L.jsxs("div",{className:"h-screen bg-background text-text flex flex-col overflow-hidden",children:[U.open&&L.jsxs("div",{className:`fixed top-4 right-4 z-[100] p-4 rounded-lg shadow-lg border flex items-start gap-3 max-w-md animate-in slide-in-from-right-5 fade-in duration-300 ${U.severity==="error"?"bg-red-900/90 border-red-700 text-red-100":U.severity==="warning"?"bg-yellow-900/90 border-yellow-700 text-yellow-100":U.severity==="success"?"bg-green-900/90 border-green-700 text-green-100":"bg-blue-900/90 border-blue-700 text-blue-100"}`,children:[U.severity==="error"&&L.jsx(x_,{className:"w-5 h-5 shrink-0"}),U.severity==="warning"&&L.jsx(x_,{className:"w-5 h-5 shrink-0"}),U.severity==="success"&&L.jsx(Ww,{className:"w-5 h-5 shrink-0"}),U.severity==="info"&&L.jsx($w,{className:"w-5 h-5 shrink-0"}),L.jsx("div",{className:"flex-1 text-sm whitespace-pre-wrap break-all",children:U.message}),L.jsx("button",{onClick:()=>B({...U,open:!1}),className:"text-white/70 hover:text-white",children:""})]}),L.jsx(sk,{}),L.jsx("main",{className:"flex-1 container mx-auto px-4 pb-4 max-w-[1600px] overflow-hidden",children:m?L.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-6 h-full",children:[L.jsxs("div",{className:"lg:col-span-4 space-y-6 overflow-y-auto pr-2 pb-2",children:[L.jsxs("div",{className:"card space-y-6",children:[L.jsx(lk,{tempo:x,setTempo:T,selectedModel:N,setSelectedModel:O,modelInfo:w,debugMode:u,keySelection:P,setKey:et,selectedInstruments:D,setSelectedInstruments:X}),L.jsx(uk,{temperature:E,setTemperature:C,p:j,setP:z,numGems:R,setNumGems:V,rules:w.find(bt=>bt.model_name===N)?.rule})]}),L.jsx("div",{className:"card",children:L.jsx(ck,{onPlay:q,onPause:I,onStop:Y,onGenerate:nt,isGenerating:F,playbackState:h,progress:d,duration:Rt,generatedMidis:G,selectedGeneratedMidi:ct,onSelectedGeneratedMidiChange:tt})}),u&&dt&&L.jsxs("div",{className:"p-4 border border-dashed border-border bg-surface/30 rounded-lg",children:[L.jsx("h6",{className:"text-lg font-semibold mb-2",children:"Debug Information"}),L.jsx("pre",{className:"whitespace-pre-wrap break-all text-xs font-mono text-muted",children:JSON.stringify(dt,null,2)})]})]}),L.jsx("div",{className:"lg:col-span-8 h-full flex flex-col min-h-[400px]",children:L.jsx("div",{className:"card h-full flex flex-col p-0 overflow-hidden",children:i?L.jsx(V_,{ref:ve,midiData:i,progress:d,duration:Rt,generationLength:y,setGenerationLength:v,onSeek:ft,onChordsChange:rt,onMute:vt,onSolo:Tt,onDelete:yt,onClear:Ct,trackMutes:ht,trackSolos:jt}):L.jsx("div",{className:"h-full p-6",children:(()=>{if(w.find(qt=>qt.model_name===N)?.rule?.input_midi!==!1)return L.jsx(rk,{onMidiUpload:K});{new $i.Midi().addTrack();const Ut=new $i.Midi;return Ut.addTrack(),L.jsx(V_,{ref:ve,midiData:Ut,progress:d,duration:Rt,generationLength:y,setGenerationLength:v,onSeek:ft,onChordsChange:rt,onMute:vt,onSolo:Tt,onDelete:yt,onClear:Ct,trackMutes:ht,trackSolos:jt})}})()})})})]}):L.jsxs("div",{className:"flex flex-col justify-center items-center h-full gap-4",children:[L.jsx(iv,{className:"w-12 h-12 animate-spin text-primary"}),L.jsx("p",{className:"text-xl text-muted",children:"Loading Samples..."})]})})]})}E1.createRoot(document.getElementById("root")).render(L.jsx(S1.StrictMode,{children:L.jsx(bk,{})}));
