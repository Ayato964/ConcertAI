(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const h of l.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&r(h)}).observe(document,{childList:!0,subtree:!0});function s(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function r(o){if(o.ep)return;o.ep=!0;const l=s(o);fetch(o.href,l)}})();var Ml=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ec(c){return c&&c.__esModule&&Object.prototype.hasOwnProperty.call(c,"default")?c.default:c}function $0(c){if(Object.prototype.hasOwnProperty.call(c,"__esModule"))return c;var n=c.default;if(typeof n=="function"){var s=function r(){var o=!1;try{o=this instanceof r}catch{}return o?Reflect.construct(n,arguments,this.constructor):n.apply(this,arguments)};s.prototype=n.prototype}else s={};return Object.defineProperty(s,"__esModule",{value:!0}),Object.keys(c).forEach(function(r){var o=Object.getOwnPropertyDescriptor(c,r);Object.defineProperty(s,r,o.get?o:{enumerable:!0,get:function(){return c[r]}})}),s}var Nh={exports:{}},Xa={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ig;function O1(){if(Ig)return Xa;Ig=1;var c=Symbol.for("react.transitional.element"),n=Symbol.for("react.fragment");function s(r,o,l){var h=null;if(l!==void 0&&(h=""+l),o.key!==void 0&&(h=""+o.key),"key"in o){l={};for(var u in o)u!=="key"&&(l[u]=o[u])}else l=o;return o=l.ref,{$$typeof:c,type:r,key:h,ref:o!==void 0?o:null,props:l}}return Xa.Fragment=n,Xa.jsx=s,Xa.jsxs=s,Xa}var qg;function M1(){return qg||(qg=1,Nh.exports=O1()),Nh.exports}var E=M1(),kh={exports:{}},Ge={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vg;function D1(){if(Vg)return Ge;Vg=1;var c=Symbol.for("react.transitional.element"),n=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),h=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),_=Symbol.iterator;function b(R){return R===null||typeof R!="object"?null:(R=_&&R[_]||R["@@iterator"],typeof R=="function"?R:null)}var v={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},x=Object.assign,y={};function S(R,U,L){this.props=R,this.context=U,this.refs=y,this.updater=L||v}S.prototype.isReactComponent={},S.prototype.setState=function(R,U){if(typeof R!="object"&&typeof R!="function"&&R!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,R,U,"setState")},S.prototype.forceUpdate=function(R){this.updater.enqueueForceUpdate(this,R,"forceUpdate")};function w(){}w.prototype=S.prototype;function C(R,U,L){this.props=R,this.context=U,this.refs=y,this.updater=L||v}var M=C.prototype=new w;M.constructor=C,x(M,S.prototype),M.isPureReactComponent=!0;var O=Array.isArray,k={H:null,A:null,T:null,S:null,V:null},I=Object.prototype.hasOwnProperty;function B(R,U,L,re,le,te){return L=te.ref,{$$typeof:c,type:R,key:U,ref:L!==void 0?L:null,props:te}}function D(R,U){return B(R.type,U,void 0,void 0,void 0,R.props)}function V(R){return typeof R=="object"&&R!==null&&R.$$typeof===c}function Z(R){var U={"=":"=0",":":"=2"};return"$"+R.replace(/[=:]/g,function(L){return U[L]})}var ne=/\/+/g;function j(R,U){return typeof R=="object"&&R!==null&&R.key!=null?Z(""+R.key):U.toString(36)}function X(){}function A(R){switch(R.status){case"fulfilled":return R.value;case"rejected":throw R.reason;default:switch(typeof R.status=="string"?R.then(X,X):(R.status="pending",R.then(function(U){R.status==="pending"&&(R.status="fulfilled",R.value=U)},function(U){R.status==="pending"&&(R.status="rejected",R.reason=U)})),R.status){case"fulfilled":return R.value;case"rejected":throw R.reason}}throw R}function J(R,U,L,re,le){var te=typeof R;(te==="undefined"||te==="boolean")&&(R=null);var ve=!1;if(R===null)ve=!0;else switch(te){case"bigint":case"string":case"number":ve=!0;break;case"object":switch(R.$$typeof){case c:case n:ve=!0;break;case m:return ve=R._init,J(ve(R._payload),U,L,re,le)}}if(ve)return le=le(R),ve=re===""?"."+j(R,0):re,O(le)?(L="",ve!=null&&(L=ve.replace(ne,"$&/")+"/"),J(le,U,L,"",function(be){return be})):le!=null&&(V(le)&&(le=D(le,L+(le.key==null||R&&R.key===le.key?"":(""+le.key).replace(ne,"$&/")+"/")+ve)),U.push(le)),1;ve=0;var Oe=re===""?".":re+":";if(O(R))for(var ae=0;ae<R.length;ae++)re=R[ae],te=Oe+j(re,ae),ve+=J(re,U,L,te,le);else if(ae=b(R),typeof ae=="function")for(R=ae.call(R),ae=0;!(re=R.next()).done;)re=re.value,te=Oe+j(re,ae++),ve+=J(re,U,L,te,le);else if(te==="object"){if(typeof R.then=="function")return J(A(R),U,L,re,le);throw U=String(R),Error("Objects are not valid as a React child (found: "+(U==="[object Object]"?"object with keys {"+Object.keys(R).join(", ")+"}":U)+"). If you meant to render a collection of children, use an array instead.")}return ve}function G(R,U,L){if(R==null)return R;var re=[],le=0;return J(R,re,"","",function(te){return U.call(L,te,le++)}),re}function H(R){if(R._status===-1){var U=R._result;U=U(),U.then(function(L){(R._status===0||R._status===-1)&&(R._status=1,R._result=L)},function(L){(R._status===0||R._status===-1)&&(R._status=2,R._result=L)}),R._status===-1&&(R._status=0,R._result=U)}if(R._status===1)return R._result.default;throw R._result}var ue=typeof reportError=="function"?reportError:function(R){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var U=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof R=="object"&&R!==null&&typeof R.message=="string"?String(R.message):String(R),error:R});if(!window.dispatchEvent(U))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",R);return}console.error(R)};function ee(){}return Ge.Children={map:G,forEach:function(R,U,L){G(R,function(){U.apply(this,arguments)},L)},count:function(R){var U=0;return G(R,function(){U++}),U},toArray:function(R){return G(R,function(U){return U})||[]},only:function(R){if(!V(R))throw Error("React.Children.only expected to receive a single React element child.");return R}},Ge.Component=S,Ge.Fragment=s,Ge.Profiler=o,Ge.PureComponent=C,Ge.StrictMode=r,Ge.Suspense=f,Ge.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=k,Ge.__COMPILER_RUNTIME={__proto__:null,c:function(R){return k.H.useMemoCache(R)}},Ge.cache=function(R){return function(){return R.apply(null,arguments)}},Ge.cloneElement=function(R,U,L){if(R==null)throw Error("The argument must be a React element, but you passed "+R+".");var re=x({},R.props),le=R.key,te=void 0;if(U!=null)for(ve in U.ref!==void 0&&(te=void 0),U.key!==void 0&&(le=""+U.key),U)!I.call(U,ve)||ve==="key"||ve==="__self"||ve==="__source"||ve==="ref"&&U.ref===void 0||(re[ve]=U[ve]);var ve=arguments.length-2;if(ve===1)re.children=L;else if(1<ve){for(var Oe=Array(ve),ae=0;ae<ve;ae++)Oe[ae]=arguments[ae+2];re.children=Oe}return B(R.type,le,void 0,void 0,te,re)},Ge.createContext=function(R){return R={$$typeof:h,_currentValue:R,_currentValue2:R,_threadCount:0,Provider:null,Consumer:null},R.Provider=R,R.Consumer={$$typeof:l,_context:R},R},Ge.createElement=function(R,U,L){var re,le={},te=null;if(U!=null)for(re in U.key!==void 0&&(te=""+U.key),U)I.call(U,re)&&re!=="key"&&re!=="__self"&&re!=="__source"&&(le[re]=U[re]);var ve=arguments.length-2;if(ve===1)le.children=L;else if(1<ve){for(var Oe=Array(ve),ae=0;ae<ve;ae++)Oe[ae]=arguments[ae+2];le.children=Oe}if(R&&R.defaultProps)for(re in ve=R.defaultProps,ve)le[re]===void 0&&(le[re]=ve[re]);return B(R,te,void 0,void 0,null,le)},Ge.createRef=function(){return{current:null}},Ge.forwardRef=function(R){return{$$typeof:u,render:R}},Ge.isValidElement=V,Ge.lazy=function(R){return{$$typeof:m,_payload:{_status:-1,_result:R},_init:H}},Ge.memo=function(R,U){return{$$typeof:p,type:R,compare:U===void 0?null:U}},Ge.startTransition=function(R){var U=k.T,L={};k.T=L;try{var re=R(),le=k.S;le!==null&&le(L,re),typeof re=="object"&&re!==null&&typeof re.then=="function"&&re.then(ee,ue)}catch(te){ue(te)}finally{k.T=U}},Ge.unstable_useCacheRefresh=function(){return k.H.useCacheRefresh()},Ge.use=function(R){return k.H.use(R)},Ge.useActionState=function(R,U,L){return k.H.useActionState(R,U,L)},Ge.useCallback=function(R,U){return k.H.useCallback(R,U)},Ge.useContext=function(R){return k.H.useContext(R)},Ge.useDebugValue=function(){},Ge.useDeferredValue=function(R,U){return k.H.useDeferredValue(R,U)},Ge.useEffect=function(R,U,L){var re=k.H;if(typeof L=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return re.useEffect(R,U)},Ge.useId=function(){return k.H.useId()},Ge.useImperativeHandle=function(R,U,L){return k.H.useImperativeHandle(R,U,L)},Ge.useInsertionEffect=function(R,U){return k.H.useInsertionEffect(R,U)},Ge.useLayoutEffect=function(R,U){return k.H.useLayoutEffect(R,U)},Ge.useMemo=function(R,U){return k.H.useMemo(R,U)},Ge.useOptimistic=function(R,U){return k.H.useOptimistic(R,U)},Ge.useReducer=function(R,U,L){return k.H.useReducer(R,U,L)},Ge.useRef=function(R){return k.H.useRef(R)},Ge.useState=function(R){return k.H.useState(R)},Ge.useSyncExternalStore=function(R,U,L){return k.H.useSyncExternalStore(R,U,L)},Ge.useTransition=function(){return k.H.useTransition()},Ge.version="19.1.1",Ge}var Lg;function mf(){return Lg||(Lg=1,kh.exports=D1()),kh.exports}var _e=mf();const Bl=ec(_e);var Ch={exports:{}},Wa={},Eh={exports:{}},Oh={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fg;function R1(){return Fg||(Fg=1,(function(c){function n(G,H){var ue=G.length;G.push(H);e:for(;0<ue;){var ee=ue-1>>>1,R=G[ee];if(0<o(R,H))G[ee]=H,G[ue]=R,ue=ee;else break e}}function s(G){return G.length===0?null:G[0]}function r(G){if(G.length===0)return null;var H=G[0],ue=G.pop();if(ue!==H){G[0]=ue;e:for(var ee=0,R=G.length,U=R>>>1;ee<U;){var L=2*(ee+1)-1,re=G[L],le=L+1,te=G[le];if(0>o(re,ue))le<R&&0>o(te,re)?(G[ee]=te,G[le]=ue,ee=le):(G[ee]=re,G[L]=ue,ee=L);else if(le<R&&0>o(te,ue))G[ee]=te,G[le]=ue,ee=le;else break e}}return H}function o(G,H){var ue=G.sortIndex-H.sortIndex;return ue!==0?ue:G.id-H.id}if(c.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;c.unstable_now=function(){return l.now()}}else{var h=Date,u=h.now();c.unstable_now=function(){return h.now()-u}}var f=[],p=[],m=1,_=null,b=3,v=!1,x=!1,y=!1,S=!1,w=typeof setTimeout=="function"?setTimeout:null,C=typeof clearTimeout=="function"?clearTimeout:null,M=typeof setImmediate<"u"?setImmediate:null;function O(G){for(var H=s(p);H!==null;){if(H.callback===null)r(p);else if(H.startTime<=G)r(p),H.sortIndex=H.expirationTime,n(f,H);else break;H=s(p)}}function k(G){if(y=!1,O(G),!x)if(s(f)!==null)x=!0,I||(I=!0,j());else{var H=s(p);H!==null&&J(k,H.startTime-G)}}var I=!1,B=-1,D=5,V=-1;function Z(){return S?!0:!(c.unstable_now()-V<D)}function ne(){if(S=!1,I){var G=c.unstable_now();V=G;var H=!0;try{e:{x=!1,y&&(y=!1,C(B),B=-1),v=!0;var ue=b;try{t:{for(O(G),_=s(f);_!==null&&!(_.expirationTime>G&&Z());){var ee=_.callback;if(typeof ee=="function"){_.callback=null,b=_.priorityLevel;var R=ee(_.expirationTime<=G);if(G=c.unstable_now(),typeof R=="function"){_.callback=R,O(G),H=!0;break t}_===s(f)&&r(f),O(G)}else r(f);_=s(f)}if(_!==null)H=!0;else{var U=s(p);U!==null&&J(k,U.startTime-G),H=!1}}break e}finally{_=null,b=ue,v=!1}H=void 0}}finally{H?j():I=!1}}}var j;if(typeof M=="function")j=function(){M(ne)};else if(typeof MessageChannel<"u"){var X=new MessageChannel,A=X.port2;X.port1.onmessage=ne,j=function(){A.postMessage(null)}}else j=function(){w(ne,0)};function J(G,H){B=w(function(){G(c.unstable_now())},H)}c.unstable_IdlePriority=5,c.unstable_ImmediatePriority=1,c.unstable_LowPriority=4,c.unstable_NormalPriority=3,c.unstable_Profiling=null,c.unstable_UserBlockingPriority=2,c.unstable_cancelCallback=function(G){G.callback=null},c.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<G?Math.floor(1e3/G):5},c.unstable_getCurrentPriorityLevel=function(){return b},c.unstable_next=function(G){switch(b){case 1:case 2:case 3:var H=3;break;default:H=b}var ue=b;b=H;try{return G()}finally{b=ue}},c.unstable_requestPaint=function(){S=!0},c.unstable_runWithPriority=function(G,H){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var ue=b;b=G;try{return H()}finally{b=ue}},c.unstable_scheduleCallback=function(G,H,ue){var ee=c.unstable_now();switch(typeof ue=="object"&&ue!==null?(ue=ue.delay,ue=typeof ue=="number"&&0<ue?ee+ue:ee):ue=ee,G){case 1:var R=-1;break;case 2:R=250;break;case 5:R=1073741823;break;case 4:R=1e4;break;default:R=5e3}return R=ue+R,G={id:m++,callback:H,priorityLevel:G,startTime:ue,expirationTime:R,sortIndex:-1},ue>ee?(G.sortIndex=ue,n(p,G),s(f)===null&&G===s(p)&&(y?(C(B),B=-1):y=!0,J(k,ue-ee))):(G.sortIndex=R,n(f,G),x||v||(x=!0,I||(I=!0,j()))),G},c.unstable_shouldYield=Z,c.unstable_wrapCallback=function(G){var H=b;return function(){var ue=b;b=H;try{return G.apply(this,arguments)}finally{b=ue}}}})(Oh)),Oh}var Hg;function j1(){return Hg||(Hg=1,Eh.exports=R1()),Eh.exports}var Mh={exports:{}},cn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gg;function z1(){if(Gg)return cn;Gg=1;var c=mf();function n(f){var p="https://react.dev/errors/"+f;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var m=2;m<arguments.length;m++)p+="&args[]="+encodeURIComponent(arguments[m])}return"Minified React error #"+f+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(){}var r={d:{f:s,r:function(){throw Error(n(522))},D:s,C:s,L:s,m:s,X:s,S:s,M:s},p:0,findDOMNode:null},o=Symbol.for("react.portal");function l(f,p,m){var _=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:_==null?null:""+_,children:f,containerInfo:p,implementation:m}}var h=c.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function u(f,p){if(f==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return cn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,cn.createPortal=function(f,p){var m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(n(299));return l(f,p,null,m)},cn.flushSync=function(f){var p=h.T,m=r.p;try{if(h.T=null,r.p=2,f)return f()}finally{h.T=p,r.p=m,r.d.f()}},cn.preconnect=function(f,p){typeof f=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,r.d.C(f,p))},cn.prefetchDNS=function(f){typeof f=="string"&&r.d.D(f)},cn.preinit=function(f,p){if(typeof f=="string"&&p&&typeof p.as=="string"){var m=p.as,_=u(m,p.crossOrigin),b=typeof p.integrity=="string"?p.integrity:void 0,v=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;m==="style"?r.d.S(f,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:_,integrity:b,fetchPriority:v}):m==="script"&&r.d.X(f,{crossOrigin:_,integrity:b,fetchPriority:v,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},cn.preinitModule=function(f,p){if(typeof f=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var m=u(p.as,p.crossOrigin);r.d.M(f,{crossOrigin:m,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&r.d.M(f)},cn.preload=function(f,p){if(typeof f=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var m=p.as,_=u(m,p.crossOrigin);r.d.L(f,m,{crossOrigin:_,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},cn.preloadModule=function(f,p){if(typeof f=="string")if(p){var m=u(p.as,p.crossOrigin);r.d.m(f,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:m,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else r.d.m(f)},cn.requestFormReset=function(f){r.d.r(f)},cn.unstable_batchedUpdates=function(f,p){return f(p)},cn.useFormState=function(f,p,m){return h.H.useFormState(f,p,m)},cn.useFormStatus=function(){return h.H.useHostTransitionStatus()},cn.version="19.1.1",cn}var Pg;function U1(){if(Pg)return Mh.exports;Pg=1;function c(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(c)}catch(n){console.error(n)}}return c(),Mh.exports=z1(),Mh.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zg;function B1(){if(Zg)return Wa;Zg=1;var c=j1(),n=mf(),s=U1();function r(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var i=2;i<arguments.length;i++)t+="&args[]="+encodeURIComponent(arguments[i])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function l(e){var t=e,i=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(i=t.return),e=t.return;while(e)}return t.tag===3?i:null}function h(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function u(e){if(l(e)!==e)throw Error(r(188))}function f(e){var t=e.alternate;if(!t){if(t=l(e),t===null)throw Error(r(188));return t!==e?null:e}for(var i=e,a=t;;){var d=i.return;if(d===null)break;var g=d.alternate;if(g===null){if(a=d.return,a!==null){i=a;continue}break}if(d.child===g.child){for(g=d.child;g;){if(g===i)return u(d),e;if(g===a)return u(d),t;g=g.sibling}throw Error(r(188))}if(i.return!==a.return)i=d,a=g;else{for(var N=!1,z=d.child;z;){if(z===i){N=!0,i=d,a=g;break}if(z===a){N=!0,a=d,i=g;break}z=z.sibling}if(!N){for(z=g.child;z;){if(z===i){N=!0,i=g,a=d;break}if(z===a){N=!0,a=g,i=d;break}z=z.sibling}if(!N)throw Error(r(189))}}if(i.alternate!==a)throw Error(r(190))}if(i.tag!==3)throw Error(r(188));return i.stateNode.current===i?e:t}function p(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=p(e),t!==null)return t;e=e.sibling}return null}var m=Object.assign,_=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),v=Symbol.for("react.portal"),x=Symbol.for("react.fragment"),y=Symbol.for("react.strict_mode"),S=Symbol.for("react.profiler"),w=Symbol.for("react.provider"),C=Symbol.for("react.consumer"),M=Symbol.for("react.context"),O=Symbol.for("react.forward_ref"),k=Symbol.for("react.suspense"),I=Symbol.for("react.suspense_list"),B=Symbol.for("react.memo"),D=Symbol.for("react.lazy"),V=Symbol.for("react.activity"),Z=Symbol.for("react.memo_cache_sentinel"),ne=Symbol.iterator;function j(e){return e===null||typeof e!="object"?null:(e=ne&&e[ne]||e["@@iterator"],typeof e=="function"?e:null)}var X=Symbol.for("react.client.reference");function A(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===X?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case x:return"Fragment";case S:return"Profiler";case y:return"StrictMode";case k:return"Suspense";case I:return"SuspenseList";case V:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case v:return"Portal";case M:return(e.displayName||"Context")+".Provider";case C:return(e._context.displayName||"Context")+".Consumer";case O:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case B:return t=e.displayName||null,t!==null?t:A(e.type)||"Memo";case D:t=e._payload,e=e._init;try{return A(e(t))}catch{}}return null}var J=Array.isArray,G=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,H=s.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ue={pending:!1,data:null,method:null,action:null},ee=[],R=-1;function U(e){return{current:e}}function L(e){0>R||(e.current=ee[R],ee[R]=null,R--)}function re(e,t){R++,ee[R]=e.current,e.current=t}var le=U(null),te=U(null),ve=U(null),Oe=U(null);function ae(e,t){switch(re(ve,t),re(te,e),re(le,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?fg(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=fg(t),e=dg(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}L(le),re(le,e)}function be(){L(le),L(te),L(ve)}function we(e){e.memoizedState!==null&&re(Oe,e);var t=le.current,i=dg(t,e.type);t!==i&&(re(te,e),re(le,i))}function Ce(e){te.current===e&&(L(le),L(te)),Oe.current===e&&(L(Oe),Ha._currentValue=ue)}var Ye=Object.prototype.hasOwnProperty,$e=c.unstable_scheduleCallback,T=c.unstable_cancelCallback,Q=c.unstable_shouldYield,K=c.unstable_requestPaint,F=c.unstable_now,q=c.unstable_getCurrentPriorityLevel,Y=c.unstable_ImmediatePriority,fe=c.unstable_UserBlockingPriority,de=c.unstable_NormalPriority,se=c.unstable_LowPriority,ye=c.unstable_IdlePriority,Se=c.log,xe=c.unstable_setDisableYieldValue,Te=null,Ie=null;function ze(e){if(typeof Se=="function"&&xe(e),Ie&&typeof Ie.setStrictMode=="function")try{Ie.setStrictMode(Te,e)}catch{}}var rt=Math.clz32?Math.clz32:xs,hs=Math.log,fn=Math.LN2;function xs(e){return e>>>=0,e===0?32:31-(hs(e)/fn|0)|0}var at=256,In=4194304;function _n(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function tn(e,t,i){var a=e.pendingLanes;if(a===0)return 0;var d=0,g=e.suspendedLanes,N=e.pingedLanes;e=e.warmLanes;var z=a&134217727;return z!==0?(a=z&~g,a!==0?d=_n(a):(N&=z,N!==0?d=_n(N):i||(i=z&~e,i!==0&&(d=_n(i))))):(z=a&~g,z!==0?d=_n(z):N!==0?d=_n(N):i||(i=a&~e,i!==0&&(d=_n(i)))),d===0?0:t!==0&&t!==d&&(t&g)===0&&(g=d&-d,i=t&-t,g>=i||g===32&&(i&4194048)!==0)?t:d}function qn(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function Ne(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ke(){var e=at;return at<<=1,(at&4194048)===0&&(at=256),e}function Le(){var e=In;return In<<=1,(In&62914560)===0&&(In=4194304),e}function Fe(e){for(var t=[],i=0;31>i;i++)t.push(e);return t}function Ve(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function ot(e,t,i,a,d,g){var N=e.pendingLanes;e.pendingLanes=i,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=i,e.entangledLanes&=i,e.errorRecoveryDisabledLanes&=i,e.shellSuspendCounter=0;var z=e.entanglements,P=e.expirationTimes,oe=e.hiddenUpdates;for(i=N&~i;0<i;){var pe=31-rt(i),ge=1<<pe;z[pe]=0,P[pe]=-1;var ce=oe[pe];if(ce!==null)for(oe[pe]=null,pe=0;pe<ce.length;pe++){var he=ce[pe];he!==null&&(he.lane&=-536870913)}i&=~ge}a!==0&&lt(e,a,0),g!==0&&d===0&&e.tag!==0&&(e.suspendedLanes|=g&~(N&~t))}function lt(e,t,i){e.pendingLanes|=t,e.suspendedLanes&=~t;var a=31-rt(t);e.entangledLanes|=t,e.entanglements[a]=e.entanglements[a]|1073741824|i&4194090}function bt(e,t){var i=e.entangledLanes|=t;for(e=e.entanglements;i;){var a=31-rt(i),d=1<<a;d&t|e[a]&t&&(e[a]|=t),i&=~d}}function kt(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Tt(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Kn(){var e=H.p;return e!==0?e:(e=window.event,e===void 0?32:Dg(e.type))}function vn(e,t){var i=H.p;try{return H.p=e,t()}finally{H.p=i}}var Me=Math.random().toString(36).slice(2),Ue="__reactFiber$"+Me,Pe="__reactProps$"+Me,Re="__reactContainer$"+Me,et="__reactEvents$"+Me,st="__reactListeners$"+Me,Jn="__reactHandles$"+Me,yn="__reactResources$"+Me,Ot="__reactMarker$"+Me;function Gt(e){delete e[Ue],delete e[Pe],delete e[et],delete e[st],delete e[Jn]}function on(e){var t=e[Ue];if(t)return t;for(var i=e.parentNode;i;){if(t=i[Re]||i[Ue]){if(i=t.alternate,t.child!==null||i!==null&&i.child!==null)for(e=_g(e);e!==null;){if(i=e[Ue])return i;e=_g(e)}return t}e=i,i=e.parentNode}return null}function $n(e){if(e=e[Ue]||e[Re]){var t=e.tag;if(t===5||t===6||t===13||t===26||t===27||t===3)return e}return null}function es(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(r(33))}function zt(e){var t=e[yn];return t||(t=e[yn]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function xt(e){e[Ot]=!0}var yo=new Set,bo={};function Ss(e,t){er(e,t),er(e+"Capture",t)}function er(e,t){for(bo[e]=t,e=0;e<t.length;e++)yo.add(t[e])}var Sv=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),sd={},id={};function wv(e){return Ye.call(id,e)?!0:Ye.call(sd,e)?!1:Sv.test(e)?id[e]=!0:(sd[e]=!0,!1)}function xo(e,t,i){if(wv(t))if(i===null)e.removeAttribute(t);else{switch(typeof i){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var a=t.toLowerCase().slice(0,5);if(a!=="data-"&&a!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+i)}}function So(e,t,i){if(i===null)e.removeAttribute(t);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+i)}}function ws(e,t,i,a){if(a===null)e.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(i);return}e.setAttributeNS(t,i,""+a)}}var bc,rd;function tr(e){if(bc===void 0)try{throw Error()}catch(i){var t=i.stack.trim().match(/\n( *(at )?)/);bc=t&&t[1]||"",rd=-1<i.stack.indexOf(`
    at`)?" (<anonymous>)":-1<i.stack.indexOf("@")?"@unknown:0:0":""}return`
`+bc+e+rd}var xc=!1;function Sc(e,t){if(!e||xc)return"";xc=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var a={DetermineComponentFrameRoot:function(){try{if(t){var ge=function(){throw Error()};if(Object.defineProperty(ge.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ge,[])}catch(he){var ce=he}Reflect.construct(e,[],ge)}else{try{ge.call()}catch(he){ce=he}e.call(ge.prototype)}}else{try{throw Error()}catch(he){ce=he}(ge=e())&&typeof ge.catch=="function"&&ge.catch(function(){})}}catch(he){if(he&&ce&&typeof he.stack=="string")return[he.stack,ce.stack]}return[null,null]}};a.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var d=Object.getOwnPropertyDescriptor(a.DetermineComponentFrameRoot,"name");d&&d.configurable&&Object.defineProperty(a.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var g=a.DetermineComponentFrameRoot(),N=g[0],z=g[1];if(N&&z){var P=N.split(`
`),oe=z.split(`
`);for(d=a=0;a<P.length&&!P[a].includes("DetermineComponentFrameRoot");)a++;for(;d<oe.length&&!oe[d].includes("DetermineComponentFrameRoot");)d++;if(a===P.length||d===oe.length)for(a=P.length-1,d=oe.length-1;1<=a&&0<=d&&P[a]!==oe[d];)d--;for(;1<=a&&0<=d;a--,d--)if(P[a]!==oe[d]){if(a!==1||d!==1)do if(a--,d--,0>d||P[a]!==oe[d]){var pe=`
`+P[a].replace(" at new "," at ");return e.displayName&&pe.includes("<anonymous>")&&(pe=pe.replace("<anonymous>",e.displayName)),pe}while(1<=a&&0<=d);break}}}finally{xc=!1,Error.prepareStackTrace=i}return(i=e?e.displayName||e.name:"")?tr(i):""}function Tv(e){switch(e.tag){case 26:case 27:case 5:return tr(e.type);case 16:return tr("Lazy");case 13:return tr("Suspense");case 19:return tr("SuspenseList");case 0:case 15:return Sc(e.type,!1);case 11:return Sc(e.type.render,!1);case 1:return Sc(e.type,!0);case 31:return tr("Activity");default:return""}}function ad(e){try{var t="";do t+=Tv(e),e=e.return;while(e);return t}catch(i){return`
Error generating stack: `+i.message+`
`+i.stack}}function Vn(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function od(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Av(e){var t=od(e)?"checked":"value",i=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),a=""+e[t];if(!e.hasOwnProperty(t)&&typeof i<"u"&&typeof i.get=="function"&&typeof i.set=="function"){var d=i.get,g=i.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return d.call(this)},set:function(N){a=""+N,g.call(this,N)}}),Object.defineProperty(e,t,{enumerable:i.enumerable}),{getValue:function(){return a},setValue:function(N){a=""+N},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function wo(e){e._valueTracker||(e._valueTracker=Av(e))}function ld(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var i=t.getValue(),a="";return e&&(a=od(e)?e.checked?"true":"false":e.value),e=a,e!==i?(t.setValue(e),!0):!1}function To(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Nv=/[\n"\\]/g;function Ln(e){return e.replace(Nv,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function wc(e,t,i,a,d,g,N,z){e.name="",N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"?e.type=N:e.removeAttribute("type"),t!=null?N==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+Vn(t)):e.value!==""+Vn(t)&&(e.value=""+Vn(t)):N!=="submit"&&N!=="reset"||e.removeAttribute("value"),t!=null?Tc(e,N,Vn(t)):i!=null?Tc(e,N,Vn(i)):a!=null&&e.removeAttribute("value"),d==null&&g!=null&&(e.defaultChecked=!!g),d!=null&&(e.checked=d&&typeof d!="function"&&typeof d!="symbol"),z!=null&&typeof z!="function"&&typeof z!="symbol"&&typeof z!="boolean"?e.name=""+Vn(z):e.removeAttribute("name")}function cd(e,t,i,a,d,g,N,z){if(g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(e.type=g),t!=null||i!=null){if(!(g!=="submit"&&g!=="reset"||t!=null))return;i=i!=null?""+Vn(i):"",t=t!=null?""+Vn(t):i,z||t===e.value||(e.value=t),e.defaultValue=t}a=a??d,a=typeof a!="function"&&typeof a!="symbol"&&!!a,e.checked=z?e.checked:!!a,e.defaultChecked=!!a,N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"&&(e.name=N)}function Tc(e,t,i){t==="number"&&To(e.ownerDocument)===e||e.defaultValue===""+i||(e.defaultValue=""+i)}function nr(e,t,i,a){if(e=e.options,t){t={};for(var d=0;d<i.length;d++)t["$"+i[d]]=!0;for(i=0;i<e.length;i++)d=t.hasOwnProperty("$"+e[i].value),e[i].selected!==d&&(e[i].selected=d),d&&a&&(e[i].defaultSelected=!0)}else{for(i=""+Vn(i),t=null,d=0;d<e.length;d++){if(e[d].value===i){e[d].selected=!0,a&&(e[d].defaultSelected=!0);return}t!==null||e[d].disabled||(t=e[d])}t!==null&&(t.selected=!0)}}function ud(e,t,i){if(t!=null&&(t=""+Vn(t),t!==e.value&&(e.value=t),i==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=i!=null?""+Vn(i):""}function hd(e,t,i,a){if(t==null){if(a!=null){if(i!=null)throw Error(r(92));if(J(a)){if(1<a.length)throw Error(r(93));a=a[0]}i=a}i==null&&(i=""),t=i}i=Vn(t),e.defaultValue=i,a=e.textContent,a===i&&a!==""&&a!==null&&(e.value=a)}function sr(e,t){if(t){var i=e.firstChild;if(i&&i===e.lastChild&&i.nodeType===3){i.nodeValue=t;return}}e.textContent=t}var kv=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function fd(e,t,i){var a=t.indexOf("--")===0;i==null||typeof i=="boolean"||i===""?a?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":a?e.setProperty(t,i):typeof i!="number"||i===0||kv.has(t)?t==="float"?e.cssFloat=i:e[t]=(""+i).trim():e[t]=i+"px"}function dd(e,t,i){if(t!=null&&typeof t!="object")throw Error(r(62));if(e=e.style,i!=null){for(var a in i)!i.hasOwnProperty(a)||t!=null&&t.hasOwnProperty(a)||(a.indexOf("--")===0?e.setProperty(a,""):a==="float"?e.cssFloat="":e[a]="");for(var d in t)a=t[d],t.hasOwnProperty(d)&&i[d]!==a&&fd(e,d,a)}else for(var g in t)t.hasOwnProperty(g)&&fd(e,g,t[g])}function Ac(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Cv=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ev=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ao(e){return Ev.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var Nc=null;function kc(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ir=null,rr=null;function pd(e){var t=$n(e);if(t&&(e=t.stateNode)){var i=e[Pe]||null;e:switch(e=t.stateNode,t.type){case"input":if(wc(e,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name),t=i.name,i.type==="radio"&&t!=null){for(i=e;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll('input[name="'+Ln(""+t)+'"][type="radio"]'),t=0;t<i.length;t++){var a=i[t];if(a!==e&&a.form===e.form){var d=a[Pe]||null;if(!d)throw Error(r(90));wc(a,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name)}}for(t=0;t<i.length;t++)a=i[t],a.form===e.form&&ld(a)}break e;case"textarea":ud(e,i.value,i.defaultValue);break e;case"select":t=i.value,t!=null&&nr(e,!!i.multiple,t,!1)}}}var Cc=!1;function md(e,t,i){if(Cc)return e(t,i);Cc=!0;try{var a=e(t);return a}finally{if(Cc=!1,(ir!==null||rr!==null)&&(ul(),ir&&(t=ir,e=rr,rr=ir=null,pd(t),e)))for(t=0;t<e.length;t++)pd(e[t])}}function na(e,t){var i=e.stateNode;if(i===null)return null;var a=i[Pe]||null;if(a===null)return null;i=a[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(e=e.type,a=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!a;break e;default:e=!1}if(e)return null;if(i&&typeof i!="function")throw Error(r(231,t,typeof i));return i}var Ts=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ec=!1;if(Ts)try{var sa={};Object.defineProperty(sa,"passive",{get:function(){Ec=!0}}),window.addEventListener("test",sa,sa),window.removeEventListener("test",sa,sa)}catch{Ec=!1}var Zs=null,Oc=null,No=null;function gd(){if(No)return No;var e,t=Oc,i=t.length,a,d="value"in Zs?Zs.value:Zs.textContent,g=d.length;for(e=0;e<i&&t[e]===d[e];e++);var N=i-e;for(a=1;a<=N&&t[i-a]===d[g-a];a++);return No=d.slice(e,1<a?1-a:void 0)}function ko(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Co(){return!0}function _d(){return!1}function bn(e){function t(i,a,d,g,N){this._reactName=i,this._targetInst=d,this.type=a,this.nativeEvent=g,this.target=N,this.currentTarget=null;for(var z in e)e.hasOwnProperty(z)&&(i=e[z],this[z]=i?i(g):g[z]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?Co:_d,this.isPropagationStopped=_d,this}return m(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var i=this.nativeEvent;i&&(i.preventDefault?i.preventDefault():typeof i.returnValue!="unknown"&&(i.returnValue=!1),this.isDefaultPrevented=Co)},stopPropagation:function(){var i=this.nativeEvent;i&&(i.stopPropagation?i.stopPropagation():typeof i.cancelBubble!="unknown"&&(i.cancelBubble=!0),this.isPropagationStopped=Co)},persist:function(){},isPersistent:Co}),t}var Ti={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Eo=bn(Ti),ia=m({},Ti,{view:0,detail:0}),Ov=bn(ia),Mc,Dc,ra,Oo=m({},ia,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:jc,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ra&&(ra&&e.type==="mousemove"?(Mc=e.screenX-ra.screenX,Dc=e.screenY-ra.screenY):Dc=Mc=0,ra=e),Mc)},movementY:function(e){return"movementY"in e?e.movementY:Dc}}),vd=bn(Oo),Mv=m({},Oo,{dataTransfer:0}),Dv=bn(Mv),Rv=m({},ia,{relatedTarget:0}),Rc=bn(Rv),jv=m({},Ti,{animationName:0,elapsedTime:0,pseudoElement:0}),zv=bn(jv),Uv=m({},Ti,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Bv=bn(Uv),Iv=m({},Ti,{data:0}),yd=bn(Iv),qv={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Vv={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Lv={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Fv(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Lv[e])?!!t[e]:!1}function jc(){return Fv}var Hv=m({},ia,{key:function(e){if(e.key){var t=qv[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=ko(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Vv[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:jc,charCode:function(e){return e.type==="keypress"?ko(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ko(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Gv=bn(Hv),Pv=m({},Oo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),bd=bn(Pv),Zv=m({},ia,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:jc}),Yv=bn(Zv),Xv=m({},Ti,{propertyName:0,elapsedTime:0,pseudoElement:0}),Wv=bn(Xv),Qv=m({},Oo,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Kv=bn(Qv),Jv=m({},Ti,{newState:0,oldState:0}),$v=bn(Jv),ey=[9,13,27,32],zc=Ts&&"CompositionEvent"in window,aa=null;Ts&&"documentMode"in document&&(aa=document.documentMode);var ty=Ts&&"TextEvent"in window&&!aa,xd=Ts&&(!zc||aa&&8<aa&&11>=aa),Sd=" ",wd=!1;function Td(e,t){switch(e){case"keyup":return ey.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ad(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ar=!1;function ny(e,t){switch(e){case"compositionend":return Ad(t);case"keypress":return t.which!==32?null:(wd=!0,Sd);case"textInput":return e=t.data,e===Sd&&wd?null:e;default:return null}}function sy(e,t){if(ar)return e==="compositionend"||!zc&&Td(e,t)?(e=gd(),No=Oc=Zs=null,ar=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return xd&&t.locale!=="ko"?null:t.data;default:return null}}var iy={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Nd(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!iy[e.type]:t==="textarea"}function kd(e,t,i,a){ir?rr?rr.push(a):rr=[a]:ir=a,t=gl(t,"onChange"),0<t.length&&(i=new Eo("onChange","change",null,i,a),e.push({event:i,listeners:t}))}var oa=null,la=null;function ry(e){og(e,0)}function Mo(e){var t=es(e);if(ld(t))return e}function Cd(e,t){if(e==="change")return t}var Ed=!1;if(Ts){var Uc;if(Ts){var Bc="oninput"in document;if(!Bc){var Od=document.createElement("div");Od.setAttribute("oninput","return;"),Bc=typeof Od.oninput=="function"}Uc=Bc}else Uc=!1;Ed=Uc&&(!document.documentMode||9<document.documentMode)}function Md(){oa&&(oa.detachEvent("onpropertychange",Dd),la=oa=null)}function Dd(e){if(e.propertyName==="value"&&Mo(la)){var t=[];kd(t,la,e,kc(e)),md(ry,t)}}function ay(e,t,i){e==="focusin"?(Md(),oa=t,la=i,oa.attachEvent("onpropertychange",Dd)):e==="focusout"&&Md()}function oy(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Mo(la)}function ly(e,t){if(e==="click")return Mo(t)}function cy(e,t){if(e==="input"||e==="change")return Mo(t)}function uy(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var kn=typeof Object.is=="function"?Object.is:uy;function ca(e,t){if(kn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var i=Object.keys(e),a=Object.keys(t);if(i.length!==a.length)return!1;for(a=0;a<i.length;a++){var d=i[a];if(!Ye.call(t,d)||!kn(e[d],t[d]))return!1}return!0}function Rd(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function jd(e,t){var i=Rd(e);e=0;for(var a;i;){if(i.nodeType===3){if(a=e+i.textContent.length,e<=t&&a>=t)return{node:i,offset:t-e};e=a}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=Rd(i)}}function zd(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?zd(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Ud(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=To(e.document);t instanceof e.HTMLIFrameElement;){try{var i=typeof t.contentWindow.location.href=="string"}catch{i=!1}if(i)e=t.contentWindow;else break;t=To(e.document)}return t}function Ic(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var hy=Ts&&"documentMode"in document&&11>=document.documentMode,or=null,qc=null,ua=null,Vc=!1;function Bd(e,t,i){var a=i.window===i?i.document:i.nodeType===9?i:i.ownerDocument;Vc||or==null||or!==To(a)||(a=or,"selectionStart"in a&&Ic(a)?a={start:a.selectionStart,end:a.selectionEnd}:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection(),a={anchorNode:a.anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset}),ua&&ca(ua,a)||(ua=a,a=gl(qc,"onSelect"),0<a.length&&(t=new Eo("onSelect","select",null,t,i),e.push({event:t,listeners:a}),t.target=or)))}function Ai(e,t){var i={};return i[e.toLowerCase()]=t.toLowerCase(),i["Webkit"+e]="webkit"+t,i["Moz"+e]="moz"+t,i}var lr={animationend:Ai("Animation","AnimationEnd"),animationiteration:Ai("Animation","AnimationIteration"),animationstart:Ai("Animation","AnimationStart"),transitionrun:Ai("Transition","TransitionRun"),transitionstart:Ai("Transition","TransitionStart"),transitioncancel:Ai("Transition","TransitionCancel"),transitionend:Ai("Transition","TransitionEnd")},Lc={},Id={};Ts&&(Id=document.createElement("div").style,"AnimationEvent"in window||(delete lr.animationend.animation,delete lr.animationiteration.animation,delete lr.animationstart.animation),"TransitionEvent"in window||delete lr.transitionend.transition);function Ni(e){if(Lc[e])return Lc[e];if(!lr[e])return e;var t=lr[e],i;for(i in t)if(t.hasOwnProperty(i)&&i in Id)return Lc[e]=t[i];return e}var qd=Ni("animationend"),Vd=Ni("animationiteration"),Ld=Ni("animationstart"),fy=Ni("transitionrun"),dy=Ni("transitionstart"),py=Ni("transitioncancel"),Fd=Ni("transitionend"),Hd=new Map,Fc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Fc.push("scrollEnd");function ts(e,t){Hd.set(e,t),Ss(t,[e])}var Gd=new WeakMap;function Fn(e,t){if(typeof e=="object"&&e!==null){var i=Gd.get(e);return i!==void 0?i:(t={value:e,source:t,stack:ad(t)},Gd.set(e,t),t)}return{value:e,source:t,stack:ad(t)}}var Hn=[],cr=0,Hc=0;function Do(){for(var e=cr,t=Hc=cr=0;t<e;){var i=Hn[t];Hn[t++]=null;var a=Hn[t];Hn[t++]=null;var d=Hn[t];Hn[t++]=null;var g=Hn[t];if(Hn[t++]=null,a!==null&&d!==null){var N=a.pending;N===null?d.next=d:(d.next=N.next,N.next=d),a.pending=d}g!==0&&Pd(i,d,g)}}function Ro(e,t,i,a){Hn[cr++]=e,Hn[cr++]=t,Hn[cr++]=i,Hn[cr++]=a,Hc|=a,e.lanes|=a,e=e.alternate,e!==null&&(e.lanes|=a)}function Gc(e,t,i,a){return Ro(e,t,i,a),jo(e)}function ur(e,t){return Ro(e,null,null,t),jo(e)}function Pd(e,t,i){e.lanes|=i;var a=e.alternate;a!==null&&(a.lanes|=i);for(var d=!1,g=e.return;g!==null;)g.childLanes|=i,a=g.alternate,a!==null&&(a.childLanes|=i),g.tag===22&&(e=g.stateNode,e===null||e._visibility&1||(d=!0)),e=g,g=g.return;return e.tag===3?(g=e.stateNode,d&&t!==null&&(d=31-rt(i),e=g.hiddenUpdates,a=e[d],a===null?e[d]=[t]:a.push(t),t.lane=i|536870912),g):null}function jo(e){if(50<za)throw za=0,Qu=null,Error(r(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var hr={};function my(e,t,i,a){this.tag=e,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Cn(e,t,i,a){return new my(e,t,i,a)}function Pc(e){return e=e.prototype,!(!e||!e.isReactComponent)}function As(e,t){var i=e.alternate;return i===null?(i=Cn(e.tag,t,e.key,e.mode),i.elementType=e.elementType,i.type=e.type,i.stateNode=e.stateNode,i.alternate=e,e.alternate=i):(i.pendingProps=t,i.type=e.type,i.flags=0,i.subtreeFlags=0,i.deletions=null),i.flags=e.flags&65011712,i.childLanes=e.childLanes,i.lanes=e.lanes,i.child=e.child,i.memoizedProps=e.memoizedProps,i.memoizedState=e.memoizedState,i.updateQueue=e.updateQueue,t=e.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},i.sibling=e.sibling,i.index=e.index,i.ref=e.ref,i.refCleanup=e.refCleanup,i}function Zd(e,t){e.flags&=65011714;var i=e.alternate;return i===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=i.childLanes,e.lanes=i.lanes,e.child=i.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=i.memoizedProps,e.memoizedState=i.memoizedState,e.updateQueue=i.updateQueue,e.type=i.type,t=i.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function zo(e,t,i,a,d,g){var N=0;if(a=e,typeof e=="function")Pc(e)&&(N=1);else if(typeof e=="string")N=_1(e,i,le.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case V:return e=Cn(31,i,t,d),e.elementType=V,e.lanes=g,e;case x:return ki(i.children,d,g,t);case y:N=8,d|=24;break;case S:return e=Cn(12,i,t,d|2),e.elementType=S,e.lanes=g,e;case k:return e=Cn(13,i,t,d),e.elementType=k,e.lanes=g,e;case I:return e=Cn(19,i,t,d),e.elementType=I,e.lanes=g,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case w:case M:N=10;break e;case C:N=9;break e;case O:N=11;break e;case B:N=14;break e;case D:N=16,a=null;break e}N=29,i=Error(r(130,e===null?"null":typeof e,"")),a=null}return t=Cn(N,i,t,d),t.elementType=e,t.type=a,t.lanes=g,t}function ki(e,t,i,a){return e=Cn(7,e,a,t),e.lanes=i,e}function Zc(e,t,i){return e=Cn(6,e,null,t),e.lanes=i,e}function Yc(e,t,i){return t=Cn(4,e.children!==null?e.children:[],e.key,t),t.lanes=i,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var fr=[],dr=0,Uo=null,Bo=0,Gn=[],Pn=0,Ci=null,Ns=1,ks="";function Ei(e,t){fr[dr++]=Bo,fr[dr++]=Uo,Uo=e,Bo=t}function Yd(e,t,i){Gn[Pn++]=Ns,Gn[Pn++]=ks,Gn[Pn++]=Ci,Ci=e;var a=Ns;e=ks;var d=32-rt(a)-1;a&=~(1<<d),i+=1;var g=32-rt(t)+d;if(30<g){var N=d-d%5;g=(a&(1<<N)-1).toString(32),a>>=N,d-=N,Ns=1<<32-rt(t)+d|i<<d|a,ks=g+e}else Ns=1<<g|i<<d|a,ks=e}function Xc(e){e.return!==null&&(Ei(e,1),Yd(e,1,0))}function Wc(e){for(;e===Uo;)Uo=fr[--dr],fr[dr]=null,Bo=fr[--dr],fr[dr]=null;for(;e===Ci;)Ci=Gn[--Pn],Gn[Pn]=null,ks=Gn[--Pn],Gn[Pn]=null,Ns=Gn[--Pn],Gn[Pn]=null}var dn=null,Mt=null,it=!1,Oi=null,fs=!1,Qc=Error(r(519));function Mi(e){var t=Error(r(418,""));throw da(Fn(t,e)),Qc}function Xd(e){var t=e.stateNode,i=e.type,a=e.memoizedProps;switch(t[Ue]=e,t[Pe]=a,i){case"dialog":Qe("cancel",t),Qe("close",t);break;case"iframe":case"object":case"embed":Qe("load",t);break;case"video":case"audio":for(i=0;i<Ba.length;i++)Qe(Ba[i],t);break;case"source":Qe("error",t);break;case"img":case"image":case"link":Qe("error",t),Qe("load",t);break;case"details":Qe("toggle",t);break;case"input":Qe("invalid",t),cd(t,a.value,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name,!0),wo(t);break;case"select":Qe("invalid",t);break;case"textarea":Qe("invalid",t),hd(t,a.value,a.defaultValue,a.children),wo(t)}i=a.children,typeof i!="string"&&typeof i!="number"&&typeof i!="bigint"||t.textContent===""+i||a.suppressHydrationWarning===!0||hg(t.textContent,i)?(a.popover!=null&&(Qe("beforetoggle",t),Qe("toggle",t)),a.onScroll!=null&&Qe("scroll",t),a.onScrollEnd!=null&&Qe("scrollend",t),a.onClick!=null&&(t.onclick=_l),t=!0):t=!1,t||Mi(e)}function Wd(e){for(dn=e.return;dn;)switch(dn.tag){case 5:case 13:fs=!1;return;case 27:case 3:fs=!0;return;default:dn=dn.return}}function ha(e){if(e!==dn)return!1;if(!it)return Wd(e),it=!0,!1;var t=e.tag,i;if((i=t!==3&&t!==27)&&((i=t===5)&&(i=e.type,i=!(i!=="form"&&i!=="button")||fh(e.type,e.memoizedProps)),i=!i),i&&Mt&&Mi(e),Wd(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8)if(i=e.data,i==="/$"){if(t===0){Mt=ss(e.nextSibling);break e}t--}else i!=="$"&&i!=="$!"&&i!=="$?"||t++;e=e.nextSibling}Mt=null}}else t===27?(t=Mt,li(e.type)?(e=gh,gh=null,Mt=e):Mt=t):Mt=dn?ss(e.stateNode.nextSibling):null;return!0}function fa(){Mt=dn=null,it=!1}function Qd(){var e=Oi;return e!==null&&(wn===null?wn=e:wn.push.apply(wn,e),Oi=null),e}function da(e){Oi===null?Oi=[e]:Oi.push(e)}var Kc=U(null),Di=null,Cs=null;function Ys(e,t,i){re(Kc,t._currentValue),t._currentValue=i}function Es(e){e._currentValue=Kc.current,L(Kc)}function Jc(e,t,i){for(;e!==null;){var a=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,a!==null&&(a.childLanes|=t)):a!==null&&(a.childLanes&t)!==t&&(a.childLanes|=t),e===i)break;e=e.return}}function $c(e,t,i,a){var d=e.child;for(d!==null&&(d.return=e);d!==null;){var g=d.dependencies;if(g!==null){var N=d.child;g=g.firstContext;e:for(;g!==null;){var z=g;g=d;for(var P=0;P<t.length;P++)if(z.context===t[P]){g.lanes|=i,z=g.alternate,z!==null&&(z.lanes|=i),Jc(g.return,i,e),a||(N=null);break e}g=z.next}}else if(d.tag===18){if(N=d.return,N===null)throw Error(r(341));N.lanes|=i,g=N.alternate,g!==null&&(g.lanes|=i),Jc(N,i,e),N=null}else N=d.child;if(N!==null)N.return=d;else for(N=d;N!==null;){if(N===e){N=null;break}if(d=N.sibling,d!==null){d.return=N.return,N=d;break}N=N.return}d=N}}function pa(e,t,i,a){e=null;for(var d=t,g=!1;d!==null;){if(!g){if((d.flags&524288)!==0)g=!0;else if((d.flags&262144)!==0)break}if(d.tag===10){var N=d.alternate;if(N===null)throw Error(r(387));if(N=N.memoizedProps,N!==null){var z=d.type;kn(d.pendingProps.value,N.value)||(e!==null?e.push(z):e=[z])}}else if(d===Oe.current){if(N=d.alternate,N===null)throw Error(r(387));N.memoizedState.memoizedState!==d.memoizedState.memoizedState&&(e!==null?e.push(Ha):e=[Ha])}d=d.return}e!==null&&$c(t,e,i,a),t.flags|=262144}function Io(e){for(e=e.firstContext;e!==null;){if(!kn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Ri(e){Di=e,Cs=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function ln(e){return Kd(Di,e)}function qo(e,t){return Di===null&&Ri(e),Kd(e,t)}function Kd(e,t){var i=t._currentValue;if(t={context:t,memoizedValue:i,next:null},Cs===null){if(e===null)throw Error(r(308));Cs=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else Cs=Cs.next=t;return i}var gy=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(i,a){e.push(a)}};this.abort=function(){t.aborted=!0,e.forEach(function(i){return i()})}},_y=c.unstable_scheduleCallback,vy=c.unstable_NormalPriority,Pt={$$typeof:M,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function eu(){return{controller:new gy,data:new Map,refCount:0}}function ma(e){e.refCount--,e.refCount===0&&_y(vy,function(){e.controller.abort()})}var ga=null,tu=0,pr=0,mr=null;function yy(e,t){if(ga===null){var i=ga=[];tu=0,pr=sh(),mr={status:"pending",value:void 0,then:function(a){i.push(a)}}}return tu++,t.then(Jd,Jd),t}function Jd(){if(--tu===0&&ga!==null){mr!==null&&(mr.status="fulfilled");var e=ga;ga=null,pr=0,mr=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function by(e,t){var i=[],a={status:"pending",value:null,reason:null,then:function(d){i.push(d)}};return e.then(function(){a.status="fulfilled",a.value=t;for(var d=0;d<i.length;d++)(0,i[d])(t)},function(d){for(a.status="rejected",a.reason=d,d=0;d<i.length;d++)(0,i[d])(void 0)}),a}var $d=G.S;G.S=function(e,t){typeof t=="object"&&t!==null&&typeof t.then=="function"&&yy(e,t),$d!==null&&$d(e,t)};var ji=U(null);function nu(){var e=ji.current;return e!==null?e:vt.pooledCache}function Vo(e,t){t===null?re(ji,ji.current):re(ji,t.pool)}function ep(){var e=nu();return e===null?null:{parent:Pt._currentValue,pool:e}}var _a=Error(r(460)),tp=Error(r(474)),Lo=Error(r(542)),su={then:function(){}};function np(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Fo(){}function sp(e,t,i){switch(i=e[i],i===void 0?e.push(t):i!==t&&(t.then(Fo,Fo),t=i),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,rp(e),e;default:if(typeof t.status=="string")t.then(Fo,Fo);else{if(e=vt,e!==null&&100<e.shellSuspendCounter)throw Error(r(482));e=t,e.status="pending",e.then(function(a){if(t.status==="pending"){var d=t;d.status="fulfilled",d.value=a}},function(a){if(t.status==="pending"){var d=t;d.status="rejected",d.reason=a}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,rp(e),e}throw va=t,_a}}var va=null;function ip(){if(va===null)throw Error(r(459));var e=va;return va=null,e}function rp(e){if(e===_a||e===Lo)throw Error(r(483))}var Xs=!1;function iu(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ru(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Ws(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Qs(e,t,i){var a=e.updateQueue;if(a===null)return null;if(a=a.shared,(ct&2)!==0){var d=a.pending;return d===null?t.next=t:(t.next=d.next,d.next=t),a.pending=t,t=jo(e),Pd(e,null,i),t}return Ro(e,a,t,i),jo(e)}function ya(e,t,i){if(t=t.updateQueue,t!==null&&(t=t.shared,(i&4194048)!==0)){var a=t.lanes;a&=e.pendingLanes,i|=a,t.lanes=i,bt(e,i)}}function au(e,t){var i=e.updateQueue,a=e.alternate;if(a!==null&&(a=a.updateQueue,i===a)){var d=null,g=null;if(i=i.firstBaseUpdate,i!==null){do{var N={lane:i.lane,tag:i.tag,payload:i.payload,callback:null,next:null};g===null?d=g=N:g=g.next=N,i=i.next}while(i!==null);g===null?d=g=t:g=g.next=t}else d=g=t;i={baseState:a.baseState,firstBaseUpdate:d,lastBaseUpdate:g,shared:a.shared,callbacks:a.callbacks},e.updateQueue=i;return}e=i.lastBaseUpdate,e===null?i.firstBaseUpdate=t:e.next=t,i.lastBaseUpdate=t}var ou=!1;function ba(){if(ou){var e=mr;if(e!==null)throw e}}function xa(e,t,i,a){ou=!1;var d=e.updateQueue;Xs=!1;var g=d.firstBaseUpdate,N=d.lastBaseUpdate,z=d.shared.pending;if(z!==null){d.shared.pending=null;var P=z,oe=P.next;P.next=null,N===null?g=oe:N.next=oe,N=P;var pe=e.alternate;pe!==null&&(pe=pe.updateQueue,z=pe.lastBaseUpdate,z!==N&&(z===null?pe.firstBaseUpdate=oe:z.next=oe,pe.lastBaseUpdate=P))}if(g!==null){var ge=d.baseState;N=0,pe=oe=P=null,z=g;do{var ce=z.lane&-536870913,he=ce!==z.lane;if(he?(tt&ce)===ce:(a&ce)===ce){ce!==0&&ce===pr&&(ou=!0),pe!==null&&(pe=pe.next={lane:0,tag:z.tag,payload:z.payload,callback:null,next:null});e:{var Be=e,De=z;ce=t;var dt=i;switch(De.tag){case 1:if(Be=De.payload,typeof Be=="function"){ge=Be.call(dt,ge,ce);break e}ge=Be;break e;case 3:Be.flags=Be.flags&-65537|128;case 0:if(Be=De.payload,ce=typeof Be=="function"?Be.call(dt,ge,ce):Be,ce==null)break e;ge=m({},ge,ce);break e;case 2:Xs=!0}}ce=z.callback,ce!==null&&(e.flags|=64,he&&(e.flags|=8192),he=d.callbacks,he===null?d.callbacks=[ce]:he.push(ce))}else he={lane:ce,tag:z.tag,payload:z.payload,callback:z.callback,next:null},pe===null?(oe=pe=he,P=ge):pe=pe.next=he,N|=ce;if(z=z.next,z===null){if(z=d.shared.pending,z===null)break;he=z,z=he.next,he.next=null,d.lastBaseUpdate=he,d.shared.pending=null}}while(!0);pe===null&&(P=ge),d.baseState=P,d.firstBaseUpdate=oe,d.lastBaseUpdate=pe,g===null&&(d.shared.lanes=0),ii|=N,e.lanes=N,e.memoizedState=ge}}function ap(e,t){if(typeof e!="function")throw Error(r(191,e));e.call(t)}function op(e,t){var i=e.callbacks;if(i!==null)for(e.callbacks=null,e=0;e<i.length;e++)ap(i[e],t)}var gr=U(null),Ho=U(0);function lp(e,t){e=Us,re(Ho,e),re(gr,t),Us=e|t.baseLanes}function lu(){re(Ho,Us),re(gr,gr.current)}function cu(){Us=Ho.current,L(gr),L(Ho)}var Ks=0,Ze=null,ht=null,qt=null,Go=!1,_r=!1,zi=!1,Po=0,Sa=0,vr=null,xy=0;function Ut(){throw Error(r(321))}function uu(e,t){if(t===null)return!1;for(var i=0;i<t.length&&i<e.length;i++)if(!kn(e[i],t[i]))return!1;return!0}function hu(e,t,i,a,d,g){return Ks=g,Ze=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,G.H=e===null||e.memoizedState===null?Pp:Zp,zi=!1,g=i(a,d),zi=!1,_r&&(g=up(t,i,a,d)),cp(e),g}function cp(e){G.H=Ko;var t=ht!==null&&ht.next!==null;if(Ks=0,qt=ht=Ze=null,Go=!1,Sa=0,vr=null,t)throw Error(r(300));e===null||Qt||(e=e.dependencies,e!==null&&Io(e)&&(Qt=!0))}function up(e,t,i,a){Ze=e;var d=0;do{if(_r&&(vr=null),Sa=0,_r=!1,25<=d)throw Error(r(301));if(d+=1,qt=ht=null,e.updateQueue!=null){var g=e.updateQueue;g.lastEffect=null,g.events=null,g.stores=null,g.memoCache!=null&&(g.memoCache.index=0)}G.H=Cy,g=t(i,a)}while(_r);return g}function Sy(){var e=G.H,t=e.useState()[0];return t=typeof t.then=="function"?wa(t):t,e=e.useState()[0],(ht!==null?ht.memoizedState:null)!==e&&(Ze.flags|=1024),t}function fu(){var e=Po!==0;return Po=0,e}function du(e,t,i){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i}function pu(e){if(Go){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}Go=!1}Ks=0,qt=ht=Ze=null,_r=!1,Sa=Po=0,vr=null}function xn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return qt===null?Ze.memoizedState=qt=e:qt=qt.next=e,qt}function Vt(){if(ht===null){var e=Ze.alternate;e=e!==null?e.memoizedState:null}else e=ht.next;var t=qt===null?Ze.memoizedState:qt.next;if(t!==null)qt=t,ht=e;else{if(e===null)throw Ze.alternate===null?Error(r(467)):Error(r(310));ht=e,e={memoizedState:ht.memoizedState,baseState:ht.baseState,baseQueue:ht.baseQueue,queue:ht.queue,next:null},qt===null?Ze.memoizedState=qt=e:qt=qt.next=e}return qt}function mu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function wa(e){var t=Sa;return Sa+=1,vr===null&&(vr=[]),e=sp(vr,e,t),t=Ze,(qt===null?t.memoizedState:qt.next)===null&&(t=t.alternate,G.H=t===null||t.memoizedState===null?Pp:Zp),e}function Zo(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return wa(e);if(e.$$typeof===M)return ln(e)}throw Error(r(438,String(e)))}function gu(e){var t=null,i=Ze.updateQueue;if(i!==null&&(t=i.memoCache),t==null){var a=Ze.alternate;a!==null&&(a=a.updateQueue,a!==null&&(a=a.memoCache,a!=null&&(t={data:a.data.map(function(d){return d.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),i===null&&(i=mu(),Ze.updateQueue=i),i.memoCache=t,i=t.data[t.index],i===void 0)for(i=t.data[t.index]=Array(e),a=0;a<e;a++)i[a]=Z;return t.index++,i}function Os(e,t){return typeof t=="function"?t(e):t}function Yo(e){var t=Vt();return _u(t,ht,e)}function _u(e,t,i){var a=e.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=i;var d=e.baseQueue,g=a.pending;if(g!==null){if(d!==null){var N=d.next;d.next=g.next,g.next=N}t.baseQueue=d=g,a.pending=null}if(g=e.baseState,d===null)e.memoizedState=g;else{t=d.next;var z=N=null,P=null,oe=t,pe=!1;do{var ge=oe.lane&-536870913;if(ge!==oe.lane?(tt&ge)===ge:(Ks&ge)===ge){var ce=oe.revertLane;if(ce===0)P!==null&&(P=P.next={lane:0,revertLane:0,action:oe.action,hasEagerState:oe.hasEagerState,eagerState:oe.eagerState,next:null}),ge===pr&&(pe=!0);else if((Ks&ce)===ce){oe=oe.next,ce===pr&&(pe=!0);continue}else ge={lane:0,revertLane:oe.revertLane,action:oe.action,hasEagerState:oe.hasEagerState,eagerState:oe.eagerState,next:null},P===null?(z=P=ge,N=g):P=P.next=ge,Ze.lanes|=ce,ii|=ce;ge=oe.action,zi&&i(g,ge),g=oe.hasEagerState?oe.eagerState:i(g,ge)}else ce={lane:ge,revertLane:oe.revertLane,action:oe.action,hasEagerState:oe.hasEagerState,eagerState:oe.eagerState,next:null},P===null?(z=P=ce,N=g):P=P.next=ce,Ze.lanes|=ge,ii|=ge;oe=oe.next}while(oe!==null&&oe!==t);if(P===null?N=g:P.next=z,!kn(g,e.memoizedState)&&(Qt=!0,pe&&(i=mr,i!==null)))throw i;e.memoizedState=g,e.baseState=N,e.baseQueue=P,a.lastRenderedState=g}return d===null&&(a.lanes=0),[e.memoizedState,a.dispatch]}function vu(e){var t=Vt(),i=t.queue;if(i===null)throw Error(r(311));i.lastRenderedReducer=e;var a=i.dispatch,d=i.pending,g=t.memoizedState;if(d!==null){i.pending=null;var N=d=d.next;do g=e(g,N.action),N=N.next;while(N!==d);kn(g,t.memoizedState)||(Qt=!0),t.memoizedState=g,t.baseQueue===null&&(t.baseState=g),i.lastRenderedState=g}return[g,a]}function hp(e,t,i){var a=Ze,d=Vt(),g=it;if(g){if(i===void 0)throw Error(r(407));i=i()}else i=t();var N=!kn((ht||d).memoizedState,i);N&&(d.memoizedState=i,Qt=!0),d=d.queue;var z=pp.bind(null,a,d,e);if(Ta(2048,8,z,[e]),d.getSnapshot!==t||N||qt!==null&&qt.memoizedState.tag&1){if(a.flags|=2048,yr(9,Xo(),dp.bind(null,a,d,i,t),null),vt===null)throw Error(r(349));g||(Ks&124)!==0||fp(a,t,i)}return i}function fp(e,t,i){e.flags|=16384,e={getSnapshot:t,value:i},t=Ze.updateQueue,t===null?(t=mu(),Ze.updateQueue=t,t.stores=[e]):(i=t.stores,i===null?t.stores=[e]:i.push(e))}function dp(e,t,i,a){t.value=i,t.getSnapshot=a,mp(t)&&gp(e)}function pp(e,t,i){return i(function(){mp(t)&&gp(e)})}function mp(e){var t=e.getSnapshot;e=e.value;try{var i=t();return!kn(e,i)}catch{return!0}}function gp(e){var t=ur(e,2);t!==null&&Rn(t,e,2)}function yu(e){var t=xn();if(typeof e=="function"){var i=e;if(e=i(),zi){ze(!0);try{i()}finally{ze(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Os,lastRenderedState:e},t}function _p(e,t,i,a){return e.baseState=i,_u(e,ht,typeof a=="function"?a:Os)}function wy(e,t,i,a,d){if(Qo(e))throw Error(r(485));if(e=t.action,e!==null){var g={payload:d,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(N){g.listeners.push(N)}};G.T!==null?i(!0):g.isTransition=!1,a(g),i=t.pending,i===null?(g.next=t.pending=g,vp(t,g)):(g.next=i.next,t.pending=i.next=g)}}function vp(e,t){var i=t.action,a=t.payload,d=e.state;if(t.isTransition){var g=G.T,N={};G.T=N;try{var z=i(d,a),P=G.S;P!==null&&P(N,z),yp(e,t,z)}catch(oe){bu(e,t,oe)}finally{G.T=g}}else try{g=i(d,a),yp(e,t,g)}catch(oe){bu(e,t,oe)}}function yp(e,t,i){i!==null&&typeof i=="object"&&typeof i.then=="function"?i.then(function(a){bp(e,t,a)},function(a){return bu(e,t,a)}):bp(e,t,i)}function bp(e,t,i){t.status="fulfilled",t.value=i,xp(t),e.state=i,t=e.pending,t!==null&&(i=t.next,i===t?e.pending=null:(i=i.next,t.next=i,vp(e,i)))}function bu(e,t,i){var a=e.pending;if(e.pending=null,a!==null){a=a.next;do t.status="rejected",t.reason=i,xp(t),t=t.next;while(t!==a)}e.action=null}function xp(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Sp(e,t){return t}function wp(e,t){if(it){var i=vt.formState;if(i!==null){e:{var a=Ze;if(it){if(Mt){t:{for(var d=Mt,g=fs;d.nodeType!==8;){if(!g){d=null;break t}if(d=ss(d.nextSibling),d===null){d=null;break t}}g=d.data,d=g==="F!"||g==="F"?d:null}if(d){Mt=ss(d.nextSibling),a=d.data==="F!";break e}}Mi(a)}a=!1}a&&(t=i[0])}}return i=xn(),i.memoizedState=i.baseState=t,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Sp,lastRenderedState:t},i.queue=a,i=Fp.bind(null,Ze,a),a.dispatch=i,a=yu(!1),g=Au.bind(null,Ze,!1,a.queue),a=xn(),d={state:t,dispatch:null,action:e,pending:null},a.queue=d,i=wy.bind(null,Ze,d,g,i),d.dispatch=i,a.memoizedState=e,[t,i,!1]}function Tp(e){var t=Vt();return Ap(t,ht,e)}function Ap(e,t,i){if(t=_u(e,t,Sp)[0],e=Yo(Os)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var a=wa(t)}catch(N){throw N===_a?Lo:N}else a=t;t=Vt();var d=t.queue,g=d.dispatch;return i!==t.memoizedState&&(Ze.flags|=2048,yr(9,Xo(),Ty.bind(null,d,i),null)),[a,g,e]}function Ty(e,t){e.action=t}function Np(e){var t=Vt(),i=ht;if(i!==null)return Ap(t,i,e);Vt(),t=t.memoizedState,i=Vt();var a=i.queue.dispatch;return i.memoizedState=e,[t,a,!1]}function yr(e,t,i,a){return e={tag:e,create:i,deps:a,inst:t,next:null},t=Ze.updateQueue,t===null&&(t=mu(),Ze.updateQueue=t),i=t.lastEffect,i===null?t.lastEffect=e.next=e:(a=i.next,i.next=e,e.next=a,t.lastEffect=e),e}function Xo(){return{destroy:void 0,resource:void 0}}function kp(){return Vt().memoizedState}function Wo(e,t,i,a){var d=xn();a=a===void 0?null:a,Ze.flags|=e,d.memoizedState=yr(1|t,Xo(),i,a)}function Ta(e,t,i,a){var d=Vt();a=a===void 0?null:a;var g=d.memoizedState.inst;ht!==null&&a!==null&&uu(a,ht.memoizedState.deps)?d.memoizedState=yr(t,g,i,a):(Ze.flags|=e,d.memoizedState=yr(1|t,g,i,a))}function Cp(e,t){Wo(8390656,8,e,t)}function Ep(e,t){Ta(2048,8,e,t)}function Op(e,t){return Ta(4,2,e,t)}function Mp(e,t){return Ta(4,4,e,t)}function Dp(e,t){if(typeof t=="function"){e=e();var i=t(e);return function(){typeof i=="function"?i():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Rp(e,t,i){i=i!=null?i.concat([e]):null,Ta(4,4,Dp.bind(null,t,e),i)}function xu(){}function jp(e,t){var i=Vt();t=t===void 0?null:t;var a=i.memoizedState;return t!==null&&uu(t,a[1])?a[0]:(i.memoizedState=[e,t],e)}function zp(e,t){var i=Vt();t=t===void 0?null:t;var a=i.memoizedState;if(t!==null&&uu(t,a[1]))return a[0];if(a=e(),zi){ze(!0);try{e()}finally{ze(!1)}}return i.memoizedState=[a,t],a}function Su(e,t,i){return i===void 0||(Ks&1073741824)!==0?e.memoizedState=t:(e.memoizedState=i,e=Im(),Ze.lanes|=e,ii|=e,i)}function Up(e,t,i,a){return kn(i,t)?i:gr.current!==null?(e=Su(e,i,a),kn(e,t)||(Qt=!0),e):(Ks&42)===0?(Qt=!0,e.memoizedState=i):(e=Im(),Ze.lanes|=e,ii|=e,t)}function Bp(e,t,i,a,d){var g=H.p;H.p=g!==0&&8>g?g:8;var N=G.T,z={};G.T=z,Au(e,!1,t,i);try{var P=d(),oe=G.S;if(oe!==null&&oe(z,P),P!==null&&typeof P=="object"&&typeof P.then=="function"){var pe=by(P,a);Aa(e,t,pe,Dn(e))}else Aa(e,t,a,Dn(e))}catch(ge){Aa(e,t,{then:function(){},status:"rejected",reason:ge},Dn())}finally{H.p=g,G.T=N}}function Ay(){}function wu(e,t,i,a){if(e.tag!==5)throw Error(r(476));var d=Ip(e).queue;Bp(e,d,t,ue,i===null?Ay:function(){return qp(e),i(a)})}function Ip(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:ue,baseState:ue,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Os,lastRenderedState:ue},next:null};var i={};return t.next={memoizedState:i,baseState:i,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Os,lastRenderedState:i},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function qp(e){var t=Ip(e).next.queue;Aa(e,t,{},Dn())}function Tu(){return ln(Ha)}function Vp(){return Vt().memoizedState}function Lp(){return Vt().memoizedState}function Ny(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var i=Dn();e=Ws(i);var a=Qs(t,e,i);a!==null&&(Rn(a,t,i),ya(a,t,i)),t={cache:eu()},e.payload=t;return}t=t.return}}function ky(e,t,i){var a=Dn();i={lane:a,revertLane:0,action:i,hasEagerState:!1,eagerState:null,next:null},Qo(e)?Hp(t,i):(i=Gc(e,t,i,a),i!==null&&(Rn(i,e,a),Gp(i,t,a)))}function Fp(e,t,i){var a=Dn();Aa(e,t,i,a)}function Aa(e,t,i,a){var d={lane:a,revertLane:0,action:i,hasEagerState:!1,eagerState:null,next:null};if(Qo(e))Hp(t,d);else{var g=e.alternate;if(e.lanes===0&&(g===null||g.lanes===0)&&(g=t.lastRenderedReducer,g!==null))try{var N=t.lastRenderedState,z=g(N,i);if(d.hasEagerState=!0,d.eagerState=z,kn(z,N))return Ro(e,t,d,0),vt===null&&Do(),!1}catch{}finally{}if(i=Gc(e,t,d,a),i!==null)return Rn(i,e,a),Gp(i,t,a),!0}return!1}function Au(e,t,i,a){if(a={lane:2,revertLane:sh(),action:a,hasEagerState:!1,eagerState:null,next:null},Qo(e)){if(t)throw Error(r(479))}else t=Gc(e,i,a,2),t!==null&&Rn(t,e,2)}function Qo(e){var t=e.alternate;return e===Ze||t!==null&&t===Ze}function Hp(e,t){_r=Go=!0;var i=e.pending;i===null?t.next=t:(t.next=i.next,i.next=t),e.pending=t}function Gp(e,t,i){if((i&4194048)!==0){var a=t.lanes;a&=e.pendingLanes,i|=a,t.lanes=i,bt(e,i)}}var Ko={readContext:ln,use:Zo,useCallback:Ut,useContext:Ut,useEffect:Ut,useImperativeHandle:Ut,useLayoutEffect:Ut,useInsertionEffect:Ut,useMemo:Ut,useReducer:Ut,useRef:Ut,useState:Ut,useDebugValue:Ut,useDeferredValue:Ut,useTransition:Ut,useSyncExternalStore:Ut,useId:Ut,useHostTransitionStatus:Ut,useFormState:Ut,useActionState:Ut,useOptimistic:Ut,useMemoCache:Ut,useCacheRefresh:Ut},Pp={readContext:ln,use:Zo,useCallback:function(e,t){return xn().memoizedState=[e,t===void 0?null:t],e},useContext:ln,useEffect:Cp,useImperativeHandle:function(e,t,i){i=i!=null?i.concat([e]):null,Wo(4194308,4,Dp.bind(null,t,e),i)},useLayoutEffect:function(e,t){return Wo(4194308,4,e,t)},useInsertionEffect:function(e,t){Wo(4,2,e,t)},useMemo:function(e,t){var i=xn();t=t===void 0?null:t;var a=e();if(zi){ze(!0);try{e()}finally{ze(!1)}}return i.memoizedState=[a,t],a},useReducer:function(e,t,i){var a=xn();if(i!==void 0){var d=i(t);if(zi){ze(!0);try{i(t)}finally{ze(!1)}}}else d=t;return a.memoizedState=a.baseState=d,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:d},a.queue=e,e=e.dispatch=ky.bind(null,Ze,e),[a.memoizedState,e]},useRef:function(e){var t=xn();return e={current:e},t.memoizedState=e},useState:function(e){e=yu(e);var t=e.queue,i=Fp.bind(null,Ze,t);return t.dispatch=i,[e.memoizedState,i]},useDebugValue:xu,useDeferredValue:function(e,t){var i=xn();return Su(i,e,t)},useTransition:function(){var e=yu(!1);return e=Bp.bind(null,Ze,e.queue,!0,!1),xn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,i){var a=Ze,d=xn();if(it){if(i===void 0)throw Error(r(407));i=i()}else{if(i=t(),vt===null)throw Error(r(349));(tt&124)!==0||fp(a,t,i)}d.memoizedState=i;var g={value:i,getSnapshot:t};return d.queue=g,Cp(pp.bind(null,a,g,e),[e]),a.flags|=2048,yr(9,Xo(),dp.bind(null,a,g,i,t),null),i},useId:function(){var e=xn(),t=vt.identifierPrefix;if(it){var i=ks,a=Ns;i=(a&~(1<<32-rt(a)-1)).toString(32)+i,t=""+t+"R"+i,i=Po++,0<i&&(t+="H"+i.toString(32)),t+=""}else i=xy++,t=""+t+"r"+i.toString(32)+"";return e.memoizedState=t},useHostTransitionStatus:Tu,useFormState:wp,useActionState:wp,useOptimistic:function(e){var t=xn();t.memoizedState=t.baseState=e;var i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=i,t=Au.bind(null,Ze,!0,i),i.dispatch=t,[e,t]},useMemoCache:gu,useCacheRefresh:function(){return xn().memoizedState=Ny.bind(null,Ze)}},Zp={readContext:ln,use:Zo,useCallback:jp,useContext:ln,useEffect:Ep,useImperativeHandle:Rp,useInsertionEffect:Op,useLayoutEffect:Mp,useMemo:zp,useReducer:Yo,useRef:kp,useState:function(){return Yo(Os)},useDebugValue:xu,useDeferredValue:function(e,t){var i=Vt();return Up(i,ht.memoizedState,e,t)},useTransition:function(){var e=Yo(Os)[0],t=Vt().memoizedState;return[typeof e=="boolean"?e:wa(e),t]},useSyncExternalStore:hp,useId:Vp,useHostTransitionStatus:Tu,useFormState:Tp,useActionState:Tp,useOptimistic:function(e,t){var i=Vt();return _p(i,ht,e,t)},useMemoCache:gu,useCacheRefresh:Lp},Cy={readContext:ln,use:Zo,useCallback:jp,useContext:ln,useEffect:Ep,useImperativeHandle:Rp,useInsertionEffect:Op,useLayoutEffect:Mp,useMemo:zp,useReducer:vu,useRef:kp,useState:function(){return vu(Os)},useDebugValue:xu,useDeferredValue:function(e,t){var i=Vt();return ht===null?Su(i,e,t):Up(i,ht.memoizedState,e,t)},useTransition:function(){var e=vu(Os)[0],t=Vt().memoizedState;return[typeof e=="boolean"?e:wa(e),t]},useSyncExternalStore:hp,useId:Vp,useHostTransitionStatus:Tu,useFormState:Np,useActionState:Np,useOptimistic:function(e,t){var i=Vt();return ht!==null?_p(i,ht,e,t):(i.baseState=e,[e,i.queue.dispatch])},useMemoCache:gu,useCacheRefresh:Lp},br=null,Na=0;function Jo(e){var t=Na;return Na+=1,br===null&&(br=[]),sp(br,e,t)}function ka(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function $o(e,t){throw t.$$typeof===_?Error(r(525)):(e=Object.prototype.toString.call(t),Error(r(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function Yp(e){var t=e._init;return t(e._payload)}function Xp(e){function t($,W){if(e){var ie=$.deletions;ie===null?($.deletions=[W],$.flags|=16):ie.push(W)}}function i($,W){if(!e)return null;for(;W!==null;)t($,W),W=W.sibling;return null}function a($){for(var W=new Map;$!==null;)$.key!==null?W.set($.key,$):W.set($.index,$),$=$.sibling;return W}function d($,W){return $=As($,W),$.index=0,$.sibling=null,$}function g($,W,ie){return $.index=ie,e?(ie=$.alternate,ie!==null?(ie=ie.index,ie<W?($.flags|=67108866,W):ie):($.flags|=67108866,W)):($.flags|=1048576,W)}function N($){return e&&$.alternate===null&&($.flags|=67108866),$}function z($,W,ie,me){return W===null||W.tag!==6?(W=Zc(ie,$.mode,me),W.return=$,W):(W=d(W,ie),W.return=$,W)}function P($,W,ie,me){var Ae=ie.type;return Ae===x?pe($,W,ie.props.children,me,ie.key):W!==null&&(W.elementType===Ae||typeof Ae=="object"&&Ae!==null&&Ae.$$typeof===D&&Yp(Ae)===W.type)?(W=d(W,ie.props),ka(W,ie),W.return=$,W):(W=zo(ie.type,ie.key,ie.props,null,$.mode,me),ka(W,ie),W.return=$,W)}function oe($,W,ie,me){return W===null||W.tag!==4||W.stateNode.containerInfo!==ie.containerInfo||W.stateNode.implementation!==ie.implementation?(W=Yc(ie,$.mode,me),W.return=$,W):(W=d(W,ie.children||[]),W.return=$,W)}function pe($,W,ie,me,Ae){return W===null||W.tag!==7?(W=ki(ie,$.mode,me,Ae),W.return=$,W):(W=d(W,ie),W.return=$,W)}function ge($,W,ie){if(typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint")return W=Zc(""+W,$.mode,ie),W.return=$,W;if(typeof W=="object"&&W!==null){switch(W.$$typeof){case b:return ie=zo(W.type,W.key,W.props,null,$.mode,ie),ka(ie,W),ie.return=$,ie;case v:return W=Yc(W,$.mode,ie),W.return=$,W;case D:var me=W._init;return W=me(W._payload),ge($,W,ie)}if(J(W)||j(W))return W=ki(W,$.mode,ie,null),W.return=$,W;if(typeof W.then=="function")return ge($,Jo(W),ie);if(W.$$typeof===M)return ge($,qo($,W),ie);$o($,W)}return null}function ce($,W,ie,me){var Ae=W!==null?W.key:null;if(typeof ie=="string"&&ie!==""||typeof ie=="number"||typeof ie=="bigint")return Ae!==null?null:z($,W,""+ie,me);if(typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case b:return ie.key===Ae?P($,W,ie,me):null;case v:return ie.key===Ae?oe($,W,ie,me):null;case D:return Ae=ie._init,ie=Ae(ie._payload),ce($,W,ie,me)}if(J(ie)||j(ie))return Ae!==null?null:pe($,W,ie,me,null);if(typeof ie.then=="function")return ce($,W,Jo(ie),me);if(ie.$$typeof===M)return ce($,W,qo($,ie),me);$o($,ie)}return null}function he($,W,ie,me,Ae){if(typeof me=="string"&&me!==""||typeof me=="number"||typeof me=="bigint")return $=$.get(ie)||null,z(W,$,""+me,Ae);if(typeof me=="object"&&me!==null){switch(me.$$typeof){case b:return $=$.get(me.key===null?ie:me.key)||null,P(W,$,me,Ae);case v:return $=$.get(me.key===null?ie:me.key)||null,oe(W,$,me,Ae);case D:var Xe=me._init;return me=Xe(me._payload),he($,W,ie,me,Ae)}if(J(me)||j(me))return $=$.get(ie)||null,pe(W,$,me,Ae,null);if(typeof me.then=="function")return he($,W,ie,Jo(me),Ae);if(me.$$typeof===M)return he($,W,ie,qo(W,me),Ae);$o(W,me)}return null}function Be($,W,ie,me){for(var Ae=null,Xe=null,Ee=W,je=W=0,Jt=null;Ee!==null&&je<ie.length;je++){Ee.index>je?(Jt=Ee,Ee=null):Jt=Ee.sibling;var nt=ce($,Ee,ie[je],me);if(nt===null){Ee===null&&(Ee=Jt);break}e&&Ee&&nt.alternate===null&&t($,Ee),W=g(nt,W,je),Xe===null?Ae=nt:Xe.sibling=nt,Xe=nt,Ee=Jt}if(je===ie.length)return i($,Ee),it&&Ei($,je),Ae;if(Ee===null){for(;je<ie.length;je++)Ee=ge($,ie[je],me),Ee!==null&&(W=g(Ee,W,je),Xe===null?Ae=Ee:Xe.sibling=Ee,Xe=Ee);return it&&Ei($,je),Ae}for(Ee=a(Ee);je<ie.length;je++)Jt=he(Ee,$,je,ie[je],me),Jt!==null&&(e&&Jt.alternate!==null&&Ee.delete(Jt.key===null?je:Jt.key),W=g(Jt,W,je),Xe===null?Ae=Jt:Xe.sibling=Jt,Xe=Jt);return e&&Ee.forEach(function(di){return t($,di)}),it&&Ei($,je),Ae}function De($,W,ie,me){if(ie==null)throw Error(r(151));for(var Ae=null,Xe=null,Ee=W,je=W=0,Jt=null,nt=ie.next();Ee!==null&&!nt.done;je++,nt=ie.next()){Ee.index>je?(Jt=Ee,Ee=null):Jt=Ee.sibling;var di=ce($,Ee,nt.value,me);if(di===null){Ee===null&&(Ee=Jt);break}e&&Ee&&di.alternate===null&&t($,Ee),W=g(di,W,je),Xe===null?Ae=di:Xe.sibling=di,Xe=di,Ee=Jt}if(nt.done)return i($,Ee),it&&Ei($,je),Ae;if(Ee===null){for(;!nt.done;je++,nt=ie.next())nt=ge($,nt.value,me),nt!==null&&(W=g(nt,W,je),Xe===null?Ae=nt:Xe.sibling=nt,Xe=nt);return it&&Ei($,je),Ae}for(Ee=a(Ee);!nt.done;je++,nt=ie.next())nt=he(Ee,$,je,nt.value,me),nt!==null&&(e&&nt.alternate!==null&&Ee.delete(nt.key===null?je:nt.key),W=g(nt,W,je),Xe===null?Ae=nt:Xe.sibling=nt,Xe=nt);return e&&Ee.forEach(function(E1){return t($,E1)}),it&&Ei($,je),Ae}function dt($,W,ie,me){if(typeof ie=="object"&&ie!==null&&ie.type===x&&ie.key===null&&(ie=ie.props.children),typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case b:e:{for(var Ae=ie.key;W!==null;){if(W.key===Ae){if(Ae=ie.type,Ae===x){if(W.tag===7){i($,W.sibling),me=d(W,ie.props.children),me.return=$,$=me;break e}}else if(W.elementType===Ae||typeof Ae=="object"&&Ae!==null&&Ae.$$typeof===D&&Yp(Ae)===W.type){i($,W.sibling),me=d(W,ie.props),ka(me,ie),me.return=$,$=me;break e}i($,W);break}else t($,W);W=W.sibling}ie.type===x?(me=ki(ie.props.children,$.mode,me,ie.key),me.return=$,$=me):(me=zo(ie.type,ie.key,ie.props,null,$.mode,me),ka(me,ie),me.return=$,$=me)}return N($);case v:e:{for(Ae=ie.key;W!==null;){if(W.key===Ae)if(W.tag===4&&W.stateNode.containerInfo===ie.containerInfo&&W.stateNode.implementation===ie.implementation){i($,W.sibling),me=d(W,ie.children||[]),me.return=$,$=me;break e}else{i($,W);break}else t($,W);W=W.sibling}me=Yc(ie,$.mode,me),me.return=$,$=me}return N($);case D:return Ae=ie._init,ie=Ae(ie._payload),dt($,W,ie,me)}if(J(ie))return Be($,W,ie,me);if(j(ie)){if(Ae=j(ie),typeof Ae!="function")throw Error(r(150));return ie=Ae.call(ie),De($,W,ie,me)}if(typeof ie.then=="function")return dt($,W,Jo(ie),me);if(ie.$$typeof===M)return dt($,W,qo($,ie),me);$o($,ie)}return typeof ie=="string"&&ie!==""||typeof ie=="number"||typeof ie=="bigint"?(ie=""+ie,W!==null&&W.tag===6?(i($,W.sibling),me=d(W,ie),me.return=$,$=me):(i($,W),me=Zc(ie,$.mode,me),me.return=$,$=me),N($)):i($,W)}return function($,W,ie,me){try{Na=0;var Ae=dt($,W,ie,me);return br=null,Ae}catch(Ee){if(Ee===_a||Ee===Lo)throw Ee;var Xe=Cn(29,Ee,null,$.mode);return Xe.lanes=me,Xe.return=$,Xe}finally{}}}var xr=Xp(!0),Wp=Xp(!1),Zn=U(null),ds=null;function Js(e){var t=e.alternate;re(Zt,Zt.current&1),re(Zn,e),ds===null&&(t===null||gr.current!==null||t.memoizedState!==null)&&(ds=e)}function Qp(e){if(e.tag===22){if(re(Zt,Zt.current),re(Zn,e),ds===null){var t=e.alternate;t!==null&&t.memoizedState!==null&&(ds=e)}}else $s()}function $s(){re(Zt,Zt.current),re(Zn,Zn.current)}function Ms(e){L(Zn),ds===e&&(ds=null),L(Zt)}var Zt=U(0);function el(e){for(var t=e;t!==null;){if(t.tag===13){var i=t.memoizedState;if(i!==null&&(i=i.dehydrated,i===null||i.data==="$?"||mh(i)))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function Nu(e,t,i,a){t=e.memoizedState,i=i(a,t),i=i==null?t:m({},t,i),e.memoizedState=i,e.lanes===0&&(e.updateQueue.baseState=i)}var ku={enqueueSetState:function(e,t,i){e=e._reactInternals;var a=Dn(),d=Ws(a);d.payload=t,i!=null&&(d.callback=i),t=Qs(e,d,a),t!==null&&(Rn(t,e,a),ya(t,e,a))},enqueueReplaceState:function(e,t,i){e=e._reactInternals;var a=Dn(),d=Ws(a);d.tag=1,d.payload=t,i!=null&&(d.callback=i),t=Qs(e,d,a),t!==null&&(Rn(t,e,a),ya(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var i=Dn(),a=Ws(i);a.tag=2,t!=null&&(a.callback=t),t=Qs(e,a,i),t!==null&&(Rn(t,e,i),ya(t,e,i))}};function Kp(e,t,i,a,d,g,N){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(a,g,N):t.prototype&&t.prototype.isPureReactComponent?!ca(i,a)||!ca(d,g):!0}function Jp(e,t,i,a){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(i,a),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(i,a),t.state!==e&&ku.enqueueReplaceState(t,t.state,null)}function Ui(e,t){var i=t;if("ref"in t){i={};for(var a in t)a!=="ref"&&(i[a]=t[a])}if(e=e.defaultProps){i===t&&(i=m({},i));for(var d in e)i[d]===void 0&&(i[d]=e[d])}return i}var tl=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function $p(e){tl(e)}function em(e){console.error(e)}function tm(e){tl(e)}function nl(e,t){try{var i=e.onUncaughtError;i(t.value,{componentStack:t.stack})}catch(a){setTimeout(function(){throw a})}}function nm(e,t,i){try{var a=e.onCaughtError;a(i.value,{componentStack:i.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(d){setTimeout(function(){throw d})}}function Cu(e,t,i){return i=Ws(i),i.tag=3,i.payload={element:null},i.callback=function(){nl(e,t)},i}function sm(e){return e=Ws(e),e.tag=3,e}function im(e,t,i,a){var d=i.type.getDerivedStateFromError;if(typeof d=="function"){var g=a.value;e.payload=function(){return d(g)},e.callback=function(){nm(t,i,a)}}var N=i.stateNode;N!==null&&typeof N.componentDidCatch=="function"&&(e.callback=function(){nm(t,i,a),typeof d!="function"&&(ri===null?ri=new Set([this]):ri.add(this));var z=a.stack;this.componentDidCatch(a.value,{componentStack:z!==null?z:""})})}function Ey(e,t,i,a,d){if(i.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){if(t=i.alternate,t!==null&&pa(t,i,d,!0),i=Zn.current,i!==null){switch(i.tag){case 13:return ds===null?Ju():i.alternate===null&&Dt===0&&(Dt=3),i.flags&=-257,i.flags|=65536,i.lanes=d,a===su?i.flags|=16384:(t=i.updateQueue,t===null?i.updateQueue=new Set([a]):t.add(a),eh(e,a,d)),!1;case 22:return i.flags|=65536,a===su?i.flags|=16384:(t=i.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([a])},i.updateQueue=t):(i=t.retryQueue,i===null?t.retryQueue=new Set([a]):i.add(a)),eh(e,a,d)),!1}throw Error(r(435,i.tag))}return eh(e,a,d),Ju(),!1}if(it)return t=Zn.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=d,a!==Qc&&(e=Error(r(422),{cause:a}),da(Fn(e,i)))):(a!==Qc&&(t=Error(r(423),{cause:a}),da(Fn(t,i))),e=e.current.alternate,e.flags|=65536,d&=-d,e.lanes|=d,a=Fn(a,i),d=Cu(e.stateNode,a,d),au(e,d),Dt!==4&&(Dt=2)),!1;var g=Error(r(520),{cause:a});if(g=Fn(g,i),ja===null?ja=[g]:ja.push(g),Dt!==4&&(Dt=2),t===null)return!0;a=Fn(a,i),i=t;do{switch(i.tag){case 3:return i.flags|=65536,e=d&-d,i.lanes|=e,e=Cu(i.stateNode,a,e),au(i,e),!1;case 1:if(t=i.type,g=i.stateNode,(i.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(ri===null||!ri.has(g))))return i.flags|=65536,d&=-d,i.lanes|=d,d=sm(d),im(d,e,i,a),au(i,d),!1}i=i.return}while(i!==null);return!1}var rm=Error(r(461)),Qt=!1;function nn(e,t,i,a){t.child=e===null?Wp(t,null,i,a):xr(t,e.child,i,a)}function am(e,t,i,a,d){i=i.render;var g=t.ref;if("ref"in a){var N={};for(var z in a)z!=="ref"&&(N[z]=a[z])}else N=a;return Ri(t),a=hu(e,t,i,N,g,d),z=fu(),e!==null&&!Qt?(du(e,t,d),Ds(e,t,d)):(it&&z&&Xc(t),t.flags|=1,nn(e,t,a,d),t.child)}function om(e,t,i,a,d){if(e===null){var g=i.type;return typeof g=="function"&&!Pc(g)&&g.defaultProps===void 0&&i.compare===null?(t.tag=15,t.type=g,lm(e,t,g,a,d)):(e=zo(i.type,null,a,t,t.mode,d),e.ref=t.ref,e.return=t,t.child=e)}if(g=e.child,!Uu(e,d)){var N=g.memoizedProps;if(i=i.compare,i=i!==null?i:ca,i(N,a)&&e.ref===t.ref)return Ds(e,t,d)}return t.flags|=1,e=As(g,a),e.ref=t.ref,e.return=t,t.child=e}function lm(e,t,i,a,d){if(e!==null){var g=e.memoizedProps;if(ca(g,a)&&e.ref===t.ref)if(Qt=!1,t.pendingProps=a=g,Uu(e,d))(e.flags&131072)!==0&&(Qt=!0);else return t.lanes=e.lanes,Ds(e,t,d)}return Eu(e,t,i,a,d)}function cm(e,t,i){var a=t.pendingProps,d=a.children,g=e!==null?e.memoizedState:null;if(a.mode==="hidden"){if((t.flags&128)!==0){if(a=g!==null?g.baseLanes|i:i,e!==null){for(d=t.child=e.child,g=0;d!==null;)g=g|d.lanes|d.childLanes,d=d.sibling;t.childLanes=g&~a}else t.childLanes=0,t.child=null;return um(e,t,a,i)}if((i&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&Vo(t,g!==null?g.cachePool:null),g!==null?lp(t,g):lu(),Qp(t);else return t.lanes=t.childLanes=536870912,um(e,t,g!==null?g.baseLanes|i:i,i)}else g!==null?(Vo(t,g.cachePool),lp(t,g),$s(),t.memoizedState=null):(e!==null&&Vo(t,null),lu(),$s());return nn(e,t,d,i),t.child}function um(e,t,i,a){var d=nu();return d=d===null?null:{parent:Pt._currentValue,pool:d},t.memoizedState={baseLanes:i,cachePool:d},e!==null&&Vo(t,null),lu(),Qp(t),e!==null&&pa(e,t,a,!0),null}function sl(e,t){var i=t.ref;if(i===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof i!="function"&&typeof i!="object")throw Error(r(284));(e===null||e.ref!==i)&&(t.flags|=4194816)}}function Eu(e,t,i,a,d){return Ri(t),i=hu(e,t,i,a,void 0,d),a=fu(),e!==null&&!Qt?(du(e,t,d),Ds(e,t,d)):(it&&a&&Xc(t),t.flags|=1,nn(e,t,i,d),t.child)}function hm(e,t,i,a,d,g){return Ri(t),t.updateQueue=null,i=up(t,a,i,d),cp(e),a=fu(),e!==null&&!Qt?(du(e,t,g),Ds(e,t,g)):(it&&a&&Xc(t),t.flags|=1,nn(e,t,i,g),t.child)}function fm(e,t,i,a,d){if(Ri(t),t.stateNode===null){var g=hr,N=i.contextType;typeof N=="object"&&N!==null&&(g=ln(N)),g=new i(a,g),t.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=ku,t.stateNode=g,g._reactInternals=t,g=t.stateNode,g.props=a,g.state=t.memoizedState,g.refs={},iu(t),N=i.contextType,g.context=typeof N=="object"&&N!==null?ln(N):hr,g.state=t.memoizedState,N=i.getDerivedStateFromProps,typeof N=="function"&&(Nu(t,i,N,a),g.state=t.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(N=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),N!==g.state&&ku.enqueueReplaceState(g,g.state,null),xa(t,a,g,d),ba(),g.state=t.memoizedState),typeof g.componentDidMount=="function"&&(t.flags|=4194308),a=!0}else if(e===null){g=t.stateNode;var z=t.memoizedProps,P=Ui(i,z);g.props=P;var oe=g.context,pe=i.contextType;N=hr,typeof pe=="object"&&pe!==null&&(N=ln(pe));var ge=i.getDerivedStateFromProps;pe=typeof ge=="function"||typeof g.getSnapshotBeforeUpdate=="function",z=t.pendingProps!==z,pe||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(z||oe!==N)&&Jp(t,g,a,N),Xs=!1;var ce=t.memoizedState;g.state=ce,xa(t,a,g,d),ba(),oe=t.memoizedState,z||ce!==oe||Xs?(typeof ge=="function"&&(Nu(t,i,ge,a),oe=t.memoizedState),(P=Xs||Kp(t,i,P,a,ce,oe,N))?(pe||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(t.flags|=4194308)):(typeof g.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=a,t.memoizedState=oe),g.props=a,g.state=oe,g.context=N,a=P):(typeof g.componentDidMount=="function"&&(t.flags|=4194308),a=!1)}else{g=t.stateNode,ru(e,t),N=t.memoizedProps,pe=Ui(i,N),g.props=pe,ge=t.pendingProps,ce=g.context,oe=i.contextType,P=hr,typeof oe=="object"&&oe!==null&&(P=ln(oe)),z=i.getDerivedStateFromProps,(oe=typeof z=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(N!==ge||ce!==P)&&Jp(t,g,a,P),Xs=!1,ce=t.memoizedState,g.state=ce,xa(t,a,g,d),ba();var he=t.memoizedState;N!==ge||ce!==he||Xs||e!==null&&e.dependencies!==null&&Io(e.dependencies)?(typeof z=="function"&&(Nu(t,i,z,a),he=t.memoizedState),(pe=Xs||Kp(t,i,pe,a,ce,he,P)||e!==null&&e.dependencies!==null&&Io(e.dependencies))?(oe||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(a,he,P),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(a,he,P)),typeof g.componentDidUpdate=="function"&&(t.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof g.componentDidUpdate!="function"||N===e.memoizedProps&&ce===e.memoizedState||(t.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||N===e.memoizedProps&&ce===e.memoizedState||(t.flags|=1024),t.memoizedProps=a,t.memoizedState=he),g.props=a,g.state=he,g.context=P,a=pe):(typeof g.componentDidUpdate!="function"||N===e.memoizedProps&&ce===e.memoizedState||(t.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||N===e.memoizedProps&&ce===e.memoizedState||(t.flags|=1024),a=!1)}return g=a,sl(e,t),a=(t.flags&128)!==0,g||a?(g=t.stateNode,i=a&&typeof i.getDerivedStateFromError!="function"?null:g.render(),t.flags|=1,e!==null&&a?(t.child=xr(t,e.child,null,d),t.child=xr(t,null,i,d)):nn(e,t,i,d),t.memoizedState=g.state,e=t.child):e=Ds(e,t,d),e}function dm(e,t,i,a){return fa(),t.flags|=256,nn(e,t,i,a),t.child}var Ou={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Mu(e){return{baseLanes:e,cachePool:ep()}}function Du(e,t,i){return e=e!==null?e.childLanes&~i:0,t&&(e|=Yn),e}function pm(e,t,i){var a=t.pendingProps,d=!1,g=(t.flags&128)!==0,N;if((N=g)||(N=e!==null&&e.memoizedState===null?!1:(Zt.current&2)!==0),N&&(d=!0,t.flags&=-129),N=(t.flags&32)!==0,t.flags&=-33,e===null){if(it){if(d?Js(t):$s(),it){var z=Mt,P;if(P=z){e:{for(P=z,z=fs;P.nodeType!==8;){if(!z){z=null;break e}if(P=ss(P.nextSibling),P===null){z=null;break e}}z=P}z!==null?(t.memoizedState={dehydrated:z,treeContext:Ci!==null?{id:Ns,overflow:ks}:null,retryLane:536870912,hydrationErrors:null},P=Cn(18,null,null,0),P.stateNode=z,P.return=t,t.child=P,dn=t,Mt=null,P=!0):P=!1}P||Mi(t)}if(z=t.memoizedState,z!==null&&(z=z.dehydrated,z!==null))return mh(z)?t.lanes=32:t.lanes=536870912,null;Ms(t)}return z=a.children,a=a.fallback,d?($s(),d=t.mode,z=il({mode:"hidden",children:z},d),a=ki(a,d,i,null),z.return=t,a.return=t,z.sibling=a,t.child=z,d=t.child,d.memoizedState=Mu(i),d.childLanes=Du(e,N,i),t.memoizedState=Ou,a):(Js(t),Ru(t,z))}if(P=e.memoizedState,P!==null&&(z=P.dehydrated,z!==null)){if(g)t.flags&256?(Js(t),t.flags&=-257,t=ju(e,t,i)):t.memoizedState!==null?($s(),t.child=e.child,t.flags|=128,t=null):($s(),d=a.fallback,z=t.mode,a=il({mode:"visible",children:a.children},z),d=ki(d,z,i,null),d.flags|=2,a.return=t,d.return=t,a.sibling=d,t.child=a,xr(t,e.child,null,i),a=t.child,a.memoizedState=Mu(i),a.childLanes=Du(e,N,i),t.memoizedState=Ou,t=d);else if(Js(t),mh(z)){if(N=z.nextSibling&&z.nextSibling.dataset,N)var oe=N.dgst;N=oe,a=Error(r(419)),a.stack="",a.digest=N,da({value:a,source:null,stack:null}),t=ju(e,t,i)}else if(Qt||pa(e,t,i,!1),N=(i&e.childLanes)!==0,Qt||N){if(N=vt,N!==null&&(a=i&-i,a=(a&42)!==0?1:kt(a),a=(a&(N.suspendedLanes|i))!==0?0:a,a!==0&&a!==P.retryLane))throw P.retryLane=a,ur(e,a),Rn(N,e,a),rm;z.data==="$?"||Ju(),t=ju(e,t,i)}else z.data==="$?"?(t.flags|=192,t.child=e.child,t=null):(e=P.treeContext,Mt=ss(z.nextSibling),dn=t,it=!0,Oi=null,fs=!1,e!==null&&(Gn[Pn++]=Ns,Gn[Pn++]=ks,Gn[Pn++]=Ci,Ns=e.id,ks=e.overflow,Ci=t),t=Ru(t,a.children),t.flags|=4096);return t}return d?($s(),d=a.fallback,z=t.mode,P=e.child,oe=P.sibling,a=As(P,{mode:"hidden",children:a.children}),a.subtreeFlags=P.subtreeFlags&65011712,oe!==null?d=As(oe,d):(d=ki(d,z,i,null),d.flags|=2),d.return=t,a.return=t,a.sibling=d,t.child=a,a=d,d=t.child,z=e.child.memoizedState,z===null?z=Mu(i):(P=z.cachePool,P!==null?(oe=Pt._currentValue,P=P.parent!==oe?{parent:oe,pool:oe}:P):P=ep(),z={baseLanes:z.baseLanes|i,cachePool:P}),d.memoizedState=z,d.childLanes=Du(e,N,i),t.memoizedState=Ou,a):(Js(t),i=e.child,e=i.sibling,i=As(i,{mode:"visible",children:a.children}),i.return=t,i.sibling=null,e!==null&&(N=t.deletions,N===null?(t.deletions=[e],t.flags|=16):N.push(e)),t.child=i,t.memoizedState=null,i)}function Ru(e,t){return t=il({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function il(e,t){return e=Cn(22,e,null,t),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function ju(e,t,i){return xr(t,e.child,null,i),e=Ru(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function mm(e,t,i){e.lanes|=t;var a=e.alternate;a!==null&&(a.lanes|=t),Jc(e.return,t,i)}function zu(e,t,i,a,d){var g=e.memoizedState;g===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:a,tail:i,tailMode:d}:(g.isBackwards=t,g.rendering=null,g.renderingStartTime=0,g.last=a,g.tail=i,g.tailMode=d)}function gm(e,t,i){var a=t.pendingProps,d=a.revealOrder,g=a.tail;if(nn(e,t,a.children,i),a=Zt.current,(a&2)!==0)a=a&1|2,t.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&mm(e,i,t);else if(e.tag===19)mm(e,i,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}a&=1}switch(re(Zt,a),d){case"forwards":for(i=t.child,d=null;i!==null;)e=i.alternate,e!==null&&el(e)===null&&(d=i),i=i.sibling;i=d,i===null?(d=t.child,t.child=null):(d=i.sibling,i.sibling=null),zu(t,!1,d,i,g);break;case"backwards":for(i=null,d=t.child,t.child=null;d!==null;){if(e=d.alternate,e!==null&&el(e)===null){t.child=d;break}e=d.sibling,d.sibling=i,i=d,d=e}zu(t,!0,i,null,g);break;case"together":zu(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ds(e,t,i){if(e!==null&&(t.dependencies=e.dependencies),ii|=t.lanes,(i&t.childLanes)===0)if(e!==null){if(pa(e,t,i,!1),(i&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(r(153));if(t.child!==null){for(e=t.child,i=As(e,e.pendingProps),t.child=i,i.return=t;e.sibling!==null;)e=e.sibling,i=i.sibling=As(e,e.pendingProps),i.return=t;i.sibling=null}return t.child}function Uu(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&Io(e)))}function Oy(e,t,i){switch(t.tag){case 3:ae(t,t.stateNode.containerInfo),Ys(t,Pt,e.memoizedState.cache),fa();break;case 27:case 5:we(t);break;case 4:ae(t,t.stateNode.containerInfo);break;case 10:Ys(t,t.type,t.memoizedProps.value);break;case 13:var a=t.memoizedState;if(a!==null)return a.dehydrated!==null?(Js(t),t.flags|=128,null):(i&t.child.childLanes)!==0?pm(e,t,i):(Js(t),e=Ds(e,t,i),e!==null?e.sibling:null);Js(t);break;case 19:var d=(e.flags&128)!==0;if(a=(i&t.childLanes)!==0,a||(pa(e,t,i,!1),a=(i&t.childLanes)!==0),d){if(a)return gm(e,t,i);t.flags|=128}if(d=t.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),re(Zt,Zt.current),a)break;return null;case 22:case 23:return t.lanes=0,cm(e,t,i);case 24:Ys(t,Pt,e.memoizedState.cache)}return Ds(e,t,i)}function _m(e,t,i){if(e!==null)if(e.memoizedProps!==t.pendingProps)Qt=!0;else{if(!Uu(e,i)&&(t.flags&128)===0)return Qt=!1,Oy(e,t,i);Qt=(e.flags&131072)!==0}else Qt=!1,it&&(t.flags&1048576)!==0&&Yd(t,Bo,t.index);switch(t.lanes=0,t.tag){case 16:e:{e=t.pendingProps;var a=t.elementType,d=a._init;if(a=d(a._payload),t.type=a,typeof a=="function")Pc(a)?(e=Ui(a,e),t.tag=1,t=fm(null,t,a,e,i)):(t.tag=0,t=Eu(null,t,a,e,i));else{if(a!=null){if(d=a.$$typeof,d===O){t.tag=11,t=am(null,t,a,e,i);break e}else if(d===B){t.tag=14,t=om(null,t,a,e,i);break e}}throw t=A(a)||a,Error(r(306,t,""))}}return t;case 0:return Eu(e,t,t.type,t.pendingProps,i);case 1:return a=t.type,d=Ui(a,t.pendingProps),fm(e,t,a,d,i);case 3:e:{if(ae(t,t.stateNode.containerInfo),e===null)throw Error(r(387));a=t.pendingProps;var g=t.memoizedState;d=g.element,ru(e,t),xa(t,a,null,i);var N=t.memoizedState;if(a=N.cache,Ys(t,Pt,a),a!==g.cache&&$c(t,[Pt],i,!0),ba(),a=N.element,g.isDehydrated)if(g={element:a,isDehydrated:!1,cache:N.cache},t.updateQueue.baseState=g,t.memoizedState=g,t.flags&256){t=dm(e,t,a,i);break e}else if(a!==d){d=Fn(Error(r(424)),t),da(d),t=dm(e,t,a,i);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(Mt=ss(e.firstChild),dn=t,it=!0,Oi=null,fs=!0,i=Wp(t,null,a,i),t.child=i;i;)i.flags=i.flags&-3|4096,i=i.sibling}else{if(fa(),a===d){t=Ds(e,t,i);break e}nn(e,t,a,i)}t=t.child}return t;case 26:return sl(e,t),e===null?(i=xg(t.type,null,t.pendingProps,null))?t.memoizedState=i:it||(i=t.type,e=t.pendingProps,a=vl(ve.current).createElement(i),a[Ue]=t,a[Pe]=e,rn(a,i,e),xt(a),t.stateNode=a):t.memoizedState=xg(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return we(t),e===null&&it&&(a=t.stateNode=vg(t.type,t.pendingProps,ve.current),dn=t,fs=!0,d=Mt,li(t.type)?(gh=d,Mt=ss(a.firstChild)):Mt=d),nn(e,t,t.pendingProps.children,i),sl(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&it&&((d=a=Mt)&&(a=i1(a,t.type,t.pendingProps,fs),a!==null?(t.stateNode=a,dn=t,Mt=ss(a.firstChild),fs=!1,d=!0):d=!1),d||Mi(t)),we(t),d=t.type,g=t.pendingProps,N=e!==null?e.memoizedProps:null,a=g.children,fh(d,g)?a=null:N!==null&&fh(d,N)&&(t.flags|=32),t.memoizedState!==null&&(d=hu(e,t,Sy,null,null,i),Ha._currentValue=d),sl(e,t),nn(e,t,a,i),t.child;case 6:return e===null&&it&&((e=i=Mt)&&(i=r1(i,t.pendingProps,fs),i!==null?(t.stateNode=i,dn=t,Mt=null,e=!0):e=!1),e||Mi(t)),null;case 13:return pm(e,t,i);case 4:return ae(t,t.stateNode.containerInfo),a=t.pendingProps,e===null?t.child=xr(t,null,a,i):nn(e,t,a,i),t.child;case 11:return am(e,t,t.type,t.pendingProps,i);case 7:return nn(e,t,t.pendingProps,i),t.child;case 8:return nn(e,t,t.pendingProps.children,i),t.child;case 12:return nn(e,t,t.pendingProps.children,i),t.child;case 10:return a=t.pendingProps,Ys(t,t.type,a.value),nn(e,t,a.children,i),t.child;case 9:return d=t.type._context,a=t.pendingProps.children,Ri(t),d=ln(d),a=a(d),t.flags|=1,nn(e,t,a,i),t.child;case 14:return om(e,t,t.type,t.pendingProps,i);case 15:return lm(e,t,t.type,t.pendingProps,i);case 19:return gm(e,t,i);case 31:return a=t.pendingProps,i=t.mode,a={mode:a.mode,children:a.children},e===null?(i=il(a,i),i.ref=t.ref,t.child=i,i.return=t,t=i):(i=As(e.child,a),i.ref=t.ref,t.child=i,i.return=t,t=i),t;case 22:return cm(e,t,i);case 24:return Ri(t),a=ln(Pt),e===null?(d=nu(),d===null&&(d=vt,g=eu(),d.pooledCache=g,g.refCount++,g!==null&&(d.pooledCacheLanes|=i),d=g),t.memoizedState={parent:a,cache:d},iu(t),Ys(t,Pt,d)):((e.lanes&i)!==0&&(ru(e,t),xa(t,null,null,i),ba()),d=e.memoizedState,g=t.memoizedState,d.parent!==a?(d={parent:a,cache:a},t.memoizedState=d,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=d),Ys(t,Pt,a)):(a=g.cache,Ys(t,Pt,a),a!==d.cache&&$c(t,[Pt],i,!0))),nn(e,t,t.pendingProps.children,i),t.child;case 29:throw t.pendingProps}throw Error(r(156,t.tag))}function Rs(e){e.flags|=4}function vm(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Ng(t)){if(t=Zn.current,t!==null&&((tt&4194048)===tt?ds!==null:(tt&62914560)!==tt&&(tt&536870912)===0||t!==ds))throw va=su,tp;e.flags|=8192}}function rl(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?Le():536870912,e.lanes|=t,Ar|=t)}function Ca(e,t){if(!it)switch(e.tailMode){case"hidden":t=e.tail;for(var i=null;t!==null;)t.alternate!==null&&(i=t),t=t.sibling;i===null?e.tail=null:i.sibling=null;break;case"collapsed":i=e.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:a.sibling=null}}function Ct(e){var t=e.alternate!==null&&e.alternate.child===e.child,i=0,a=0;if(t)for(var d=e.child;d!==null;)i|=d.lanes|d.childLanes,a|=d.subtreeFlags&65011712,a|=d.flags&65011712,d.return=e,d=d.sibling;else for(d=e.child;d!==null;)i|=d.lanes|d.childLanes,a|=d.subtreeFlags,a|=d.flags,d.return=e,d=d.sibling;return e.subtreeFlags|=a,e.childLanes=i,t}function My(e,t,i){var a=t.pendingProps;switch(Wc(t),t.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ct(t),null;case 1:return Ct(t),null;case 3:return i=t.stateNode,a=null,e!==null&&(a=e.memoizedState.cache),t.memoizedState.cache!==a&&(t.flags|=2048),Es(Pt),be(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(e===null||e.child===null)&&(ha(t)?Rs(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,Qd())),Ct(t),null;case 26:return i=t.memoizedState,e===null?(Rs(t),i!==null?(Ct(t),vm(t,i)):(Ct(t),t.flags&=-16777217)):i?i!==e.memoizedState?(Rs(t),Ct(t),vm(t,i)):(Ct(t),t.flags&=-16777217):(e.memoizedProps!==a&&Rs(t),Ct(t),t.flags&=-16777217),null;case 27:Ce(t),i=ve.current;var d=t.type;if(e!==null&&t.stateNode!=null)e.memoizedProps!==a&&Rs(t);else{if(!a){if(t.stateNode===null)throw Error(r(166));return Ct(t),null}e=le.current,ha(t)?Xd(t):(e=vg(d,a,i),t.stateNode=e,Rs(t))}return Ct(t),null;case 5:if(Ce(t),i=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==a&&Rs(t);else{if(!a){if(t.stateNode===null)throw Error(r(166));return Ct(t),null}if(e=le.current,ha(t))Xd(t);else{switch(d=vl(ve.current),e){case 1:e=d.createElementNS("http://www.w3.org/2000/svg",i);break;case 2:e=d.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;default:switch(i){case"svg":e=d.createElementNS("http://www.w3.org/2000/svg",i);break;case"math":e=d.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;case"script":e=d.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof a.is=="string"?d.createElement("select",{is:a.is}):d.createElement("select"),a.multiple?e.multiple=!0:a.size&&(e.size=a.size);break;default:e=typeof a.is=="string"?d.createElement(i,{is:a.is}):d.createElement(i)}}e[Ue]=t,e[Pe]=a;e:for(d=t.child;d!==null;){if(d.tag===5||d.tag===6)e.appendChild(d.stateNode);else if(d.tag!==4&&d.tag!==27&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;d=d.return}d.sibling.return=d.return,d=d.sibling}t.stateNode=e;e:switch(rn(e,i,a),i){case"button":case"input":case"select":case"textarea":e=!!a.autoFocus;break e;case"img":e=!0;break e;default:e=!1}e&&Rs(t)}}return Ct(t),t.flags&=-16777217,null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==a&&Rs(t);else{if(typeof a!="string"&&t.stateNode===null)throw Error(r(166));if(e=ve.current,ha(t)){if(e=t.stateNode,i=t.memoizedProps,a=null,d=dn,d!==null)switch(d.tag){case 27:case 5:a=d.memoizedProps}e[Ue]=t,e=!!(e.nodeValue===i||a!==null&&a.suppressHydrationWarning===!0||hg(e.nodeValue,i)),e||Mi(t)}else e=vl(e).createTextNode(a),e[Ue]=t,t.stateNode=e}return Ct(t),null;case 13:if(a=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(d=ha(t),a!==null&&a.dehydrated!==null){if(e===null){if(!d)throw Error(r(318));if(d=t.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(r(317));d[Ue]=t}else fa(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Ct(t),d=!1}else d=Qd(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=d),d=!0;if(!d)return t.flags&256?(Ms(t),t):(Ms(t),null)}if(Ms(t),(t.flags&128)!==0)return t.lanes=i,t;if(i=a!==null,e=e!==null&&e.memoizedState!==null,i){a=t.child,d=null,a.alternate!==null&&a.alternate.memoizedState!==null&&a.alternate.memoizedState.cachePool!==null&&(d=a.alternate.memoizedState.cachePool.pool);var g=null;a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(g=a.memoizedState.cachePool.pool),g!==d&&(a.flags|=2048)}return i!==e&&i&&(t.child.flags|=8192),rl(t,t.updateQueue),Ct(t),null;case 4:return be(),e===null&&oh(t.stateNode.containerInfo),Ct(t),null;case 10:return Es(t.type),Ct(t),null;case 19:if(L(Zt),d=t.memoizedState,d===null)return Ct(t),null;if(a=(t.flags&128)!==0,g=d.rendering,g===null)if(a)Ca(d,!1);else{if(Dt!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(g=el(e),g!==null){for(t.flags|=128,Ca(d,!1),e=g.updateQueue,t.updateQueue=e,rl(t,e),t.subtreeFlags=0,e=i,i=t.child;i!==null;)Zd(i,e),i=i.sibling;return re(Zt,Zt.current&1|2),t.child}e=e.sibling}d.tail!==null&&F()>ll&&(t.flags|=128,a=!0,Ca(d,!1),t.lanes=4194304)}else{if(!a)if(e=el(g),e!==null){if(t.flags|=128,a=!0,e=e.updateQueue,t.updateQueue=e,rl(t,e),Ca(d,!0),d.tail===null&&d.tailMode==="hidden"&&!g.alternate&&!it)return Ct(t),null}else 2*F()-d.renderingStartTime>ll&&i!==536870912&&(t.flags|=128,a=!0,Ca(d,!1),t.lanes=4194304);d.isBackwards?(g.sibling=t.child,t.child=g):(e=d.last,e!==null?e.sibling=g:t.child=g,d.last=g)}return d.tail!==null?(t=d.tail,d.rendering=t,d.tail=t.sibling,d.renderingStartTime=F(),t.sibling=null,e=Zt.current,re(Zt,a?e&1|2:e&1),t):(Ct(t),null);case 22:case 23:return Ms(t),cu(),a=t.memoizedState!==null,e!==null?e.memoizedState!==null!==a&&(t.flags|=8192):a&&(t.flags|=8192),a?(i&536870912)!==0&&(t.flags&128)===0&&(Ct(t),t.subtreeFlags&6&&(t.flags|=8192)):Ct(t),i=t.updateQueue,i!==null&&rl(t,i.retryQueue),i=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(i=e.memoizedState.cachePool.pool),a=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),a!==i&&(t.flags|=2048),e!==null&&L(ji),null;case 24:return i=null,e!==null&&(i=e.memoizedState.cache),t.memoizedState.cache!==i&&(t.flags|=2048),Es(Pt),Ct(t),null;case 25:return null;case 30:return null}throw Error(r(156,t.tag))}function Dy(e,t){switch(Wc(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Es(Pt),be(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return Ce(t),null;case 13:if(Ms(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(r(340));fa()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return L(Zt),null;case 4:return be(),null;case 10:return Es(t.type),null;case 22:case 23:return Ms(t),cu(),e!==null&&L(ji),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return Es(Pt),null;case 25:return null;default:return null}}function ym(e,t){switch(Wc(t),t.tag){case 3:Es(Pt),be();break;case 26:case 27:case 5:Ce(t);break;case 4:be();break;case 13:Ms(t);break;case 19:L(Zt);break;case 10:Es(t.type);break;case 22:case 23:Ms(t),cu(),e!==null&&L(ji);break;case 24:Es(Pt)}}function Ea(e,t){try{var i=t.updateQueue,a=i!==null?i.lastEffect:null;if(a!==null){var d=a.next;i=d;do{if((i.tag&e)===e){a=void 0;var g=i.create,N=i.inst;a=g(),N.destroy=a}i=i.next}while(i!==d)}}catch(z){gt(t,t.return,z)}}function ei(e,t,i){try{var a=t.updateQueue,d=a!==null?a.lastEffect:null;if(d!==null){var g=d.next;a=g;do{if((a.tag&e)===e){var N=a.inst,z=N.destroy;if(z!==void 0){N.destroy=void 0,d=t;var P=i,oe=z;try{oe()}catch(pe){gt(d,P,pe)}}}a=a.next}while(a!==g)}}catch(pe){gt(t,t.return,pe)}}function bm(e){var t=e.updateQueue;if(t!==null){var i=e.stateNode;try{op(t,i)}catch(a){gt(e,e.return,a)}}}function xm(e,t,i){i.props=Ui(e.type,e.memoizedProps),i.state=e.memoizedState;try{i.componentWillUnmount()}catch(a){gt(e,t,a)}}function Oa(e,t){try{var i=e.ref;if(i!==null){switch(e.tag){case 26:case 27:case 5:var a=e.stateNode;break;case 30:a=e.stateNode;break;default:a=e.stateNode}typeof i=="function"?e.refCleanup=i(a):i.current=a}}catch(d){gt(e,t,d)}}function ps(e,t){var i=e.ref,a=e.refCleanup;if(i!==null)if(typeof a=="function")try{a()}catch(d){gt(e,t,d)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof i=="function")try{i(null)}catch(d){gt(e,t,d)}else i.current=null}function Sm(e){var t=e.type,i=e.memoizedProps,a=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":i.autoFocus&&a.focus();break e;case"img":i.src?a.src=i.src:i.srcSet&&(a.srcset=i.srcSet)}}catch(d){gt(e,e.return,d)}}function Bu(e,t,i){try{var a=e.stateNode;$y(a,e.type,i,t),a[Pe]=t}catch(d){gt(e,e.return,d)}}function wm(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&li(e.type)||e.tag===4}function Iu(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||wm(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&li(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function qu(e,t,i){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i).insertBefore(e,t):(t=i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,t.appendChild(e),i=i._reactRootContainer,i!=null||t.onclick!==null||(t.onclick=_l));else if(a!==4&&(a===27&&li(e.type)&&(i=e.stateNode,t=null),e=e.child,e!==null))for(qu(e,t,i),e=e.sibling;e!==null;)qu(e,t,i),e=e.sibling}function al(e,t,i){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?i.insertBefore(e,t):i.appendChild(e);else if(a!==4&&(a===27&&li(e.type)&&(i=e.stateNode),e=e.child,e!==null))for(al(e,t,i),e=e.sibling;e!==null;)al(e,t,i),e=e.sibling}function Tm(e){var t=e.stateNode,i=e.memoizedProps;try{for(var a=e.type,d=t.attributes;d.length;)t.removeAttributeNode(d[0]);rn(t,a,i),t[Ue]=e,t[Pe]=i}catch(g){gt(e,e.return,g)}}var js=!1,Bt=!1,Vu=!1,Am=typeof WeakSet=="function"?WeakSet:Set,Kt=null;function Ry(e,t){if(e=e.containerInfo,uh=Tl,e=Ud(e),Ic(e)){if("selectionStart"in e)var i={start:e.selectionStart,end:e.selectionEnd};else e:{i=(i=e.ownerDocument)&&i.defaultView||window;var a=i.getSelection&&i.getSelection();if(a&&a.rangeCount!==0){i=a.anchorNode;var d=a.anchorOffset,g=a.focusNode;a=a.focusOffset;try{i.nodeType,g.nodeType}catch{i=null;break e}var N=0,z=-1,P=-1,oe=0,pe=0,ge=e,ce=null;t:for(;;){for(var he;ge!==i||d!==0&&ge.nodeType!==3||(z=N+d),ge!==g||a!==0&&ge.nodeType!==3||(P=N+a),ge.nodeType===3&&(N+=ge.nodeValue.length),(he=ge.firstChild)!==null;)ce=ge,ge=he;for(;;){if(ge===e)break t;if(ce===i&&++oe===d&&(z=N),ce===g&&++pe===a&&(P=N),(he=ge.nextSibling)!==null)break;ge=ce,ce=ge.parentNode}ge=he}i=z===-1||P===-1?null:{start:z,end:P}}else i=null}i=i||{start:0,end:0}}else i=null;for(hh={focusedElem:e,selectionRange:i},Tl=!1,Kt=t;Kt!==null;)if(t=Kt,e=t.child,(t.subtreeFlags&1024)!==0&&e!==null)e.return=t,Kt=e;else for(;Kt!==null;){switch(t=Kt,g=t.alternate,e=t.flags,t.tag){case 0:break;case 11:case 15:break;case 1:if((e&1024)!==0&&g!==null){e=void 0,i=t,d=g.memoizedProps,g=g.memoizedState,a=i.stateNode;try{var Be=Ui(i.type,d,i.elementType===i.type);e=a.getSnapshotBeforeUpdate(Be,g),a.__reactInternalSnapshotBeforeUpdate=e}catch(De){gt(i,i.return,De)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,i=e.nodeType,i===9)ph(e);else if(i===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":ph(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(r(163))}if(e=t.sibling,e!==null){e.return=t.return,Kt=e;break}Kt=t.return}}function Nm(e,t,i){var a=i.flags;switch(i.tag){case 0:case 11:case 15:ti(e,i),a&4&&Ea(5,i);break;case 1:if(ti(e,i),a&4)if(e=i.stateNode,t===null)try{e.componentDidMount()}catch(N){gt(i,i.return,N)}else{var d=Ui(i.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(d,t,e.__reactInternalSnapshotBeforeUpdate)}catch(N){gt(i,i.return,N)}}a&64&&bm(i),a&512&&Oa(i,i.return);break;case 3:if(ti(e,i),a&64&&(e=i.updateQueue,e!==null)){if(t=null,i.child!==null)switch(i.child.tag){case 27:case 5:t=i.child.stateNode;break;case 1:t=i.child.stateNode}try{op(e,t)}catch(N){gt(i,i.return,N)}}break;case 27:t===null&&a&4&&Tm(i);case 26:case 5:ti(e,i),t===null&&a&4&&Sm(i),a&512&&Oa(i,i.return);break;case 12:ti(e,i);break;case 13:ti(e,i),a&4&&Em(e,i),a&64&&(e=i.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(i=Fy.bind(null,i),a1(e,i))));break;case 22:if(a=i.memoizedState!==null||js,!a){t=t!==null&&t.memoizedState!==null||Bt,d=js;var g=Bt;js=a,(Bt=t)&&!g?ni(e,i,(i.subtreeFlags&8772)!==0):ti(e,i),js=d,Bt=g}break;case 30:break;default:ti(e,i)}}function km(e){var t=e.alternate;t!==null&&(e.alternate=null,km(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&Gt(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var At=null,Sn=!1;function zs(e,t,i){for(i=i.child;i!==null;)Cm(e,t,i),i=i.sibling}function Cm(e,t,i){if(Ie&&typeof Ie.onCommitFiberUnmount=="function")try{Ie.onCommitFiberUnmount(Te,i)}catch{}switch(i.tag){case 26:Bt||ps(i,t),zs(e,t,i),i.memoizedState?i.memoizedState.count--:i.stateNode&&(i=i.stateNode,i.parentNode.removeChild(i));break;case 27:Bt||ps(i,t);var a=At,d=Sn;li(i.type)&&(At=i.stateNode,Sn=!1),zs(e,t,i),qa(i.stateNode),At=a,Sn=d;break;case 5:Bt||ps(i,t);case 6:if(a=At,d=Sn,At=null,zs(e,t,i),At=a,Sn=d,At!==null)if(Sn)try{(At.nodeType===9?At.body:At.nodeName==="HTML"?At.ownerDocument.body:At).removeChild(i.stateNode)}catch(g){gt(i,t,g)}else try{At.removeChild(i.stateNode)}catch(g){gt(i,t,g)}break;case 18:At!==null&&(Sn?(e=At,gg(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,i.stateNode),Ya(e)):gg(At,i.stateNode));break;case 4:a=At,d=Sn,At=i.stateNode.containerInfo,Sn=!0,zs(e,t,i),At=a,Sn=d;break;case 0:case 11:case 14:case 15:Bt||ei(2,i,t),Bt||ei(4,i,t),zs(e,t,i);break;case 1:Bt||(ps(i,t),a=i.stateNode,typeof a.componentWillUnmount=="function"&&xm(i,t,a)),zs(e,t,i);break;case 21:zs(e,t,i);break;case 22:Bt=(a=Bt)||i.memoizedState!==null,zs(e,t,i),Bt=a;break;default:zs(e,t,i)}}function Em(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Ya(e)}catch(i){gt(t,t.return,i)}}function jy(e){switch(e.tag){case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new Am),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new Am),t;default:throw Error(r(435,e.tag))}}function Lu(e,t){var i=jy(e);t.forEach(function(a){var d=Hy.bind(null,e,a);i.has(a)||(i.add(a),a.then(d,d))})}function En(e,t){var i=t.deletions;if(i!==null)for(var a=0;a<i.length;a++){var d=i[a],g=e,N=t,z=N;e:for(;z!==null;){switch(z.tag){case 27:if(li(z.type)){At=z.stateNode,Sn=!1;break e}break;case 5:At=z.stateNode,Sn=!1;break e;case 3:case 4:At=z.stateNode.containerInfo,Sn=!0;break e}z=z.return}if(At===null)throw Error(r(160));Cm(g,N,d),At=null,Sn=!1,g=d.alternate,g!==null&&(g.return=null),d.return=null}if(t.subtreeFlags&13878)for(t=t.child;t!==null;)Om(t,e),t=t.sibling}var ns=null;function Om(e,t){var i=e.alternate,a=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:En(t,e),On(e),a&4&&(ei(3,e,e.return),Ea(3,e),ei(5,e,e.return));break;case 1:En(t,e),On(e),a&512&&(Bt||i===null||ps(i,i.return)),a&64&&js&&(e=e.updateQueue,e!==null&&(a=e.callbacks,a!==null&&(i=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=i===null?a:i.concat(a))));break;case 26:var d=ns;if(En(t,e),On(e),a&512&&(Bt||i===null||ps(i,i.return)),a&4){var g=i!==null?i.memoizedState:null;if(a=e.memoizedState,i===null)if(a===null)if(e.stateNode===null){e:{a=e.type,i=e.memoizedProps,d=d.ownerDocument||d;t:switch(a){case"title":g=d.getElementsByTagName("title")[0],(!g||g[Ot]||g[Ue]||g.namespaceURI==="http://www.w3.org/2000/svg"||g.hasAttribute("itemprop"))&&(g=d.createElement(a),d.head.insertBefore(g,d.querySelector("head > title"))),rn(g,a,i),g[Ue]=e,xt(g),a=g;break e;case"link":var N=Tg("link","href",d).get(a+(i.href||""));if(N){for(var z=0;z<N.length;z++)if(g=N[z],g.getAttribute("href")===(i.href==null||i.href===""?null:i.href)&&g.getAttribute("rel")===(i.rel==null?null:i.rel)&&g.getAttribute("title")===(i.title==null?null:i.title)&&g.getAttribute("crossorigin")===(i.crossOrigin==null?null:i.crossOrigin)){N.splice(z,1);break t}}g=d.createElement(a),rn(g,a,i),d.head.appendChild(g);break;case"meta":if(N=Tg("meta","content",d).get(a+(i.content||""))){for(z=0;z<N.length;z++)if(g=N[z],g.getAttribute("content")===(i.content==null?null:""+i.content)&&g.getAttribute("name")===(i.name==null?null:i.name)&&g.getAttribute("property")===(i.property==null?null:i.property)&&g.getAttribute("http-equiv")===(i.httpEquiv==null?null:i.httpEquiv)&&g.getAttribute("charset")===(i.charSet==null?null:i.charSet)){N.splice(z,1);break t}}g=d.createElement(a),rn(g,a,i),d.head.appendChild(g);break;default:throw Error(r(468,a))}g[Ue]=e,xt(g),a=g}e.stateNode=a}else Ag(d,e.type,e.stateNode);else e.stateNode=wg(d,a,e.memoizedProps);else g!==a?(g===null?i.stateNode!==null&&(i=i.stateNode,i.parentNode.removeChild(i)):g.count--,a===null?Ag(d,e.type,e.stateNode):wg(d,a,e.memoizedProps)):a===null&&e.stateNode!==null&&Bu(e,e.memoizedProps,i.memoizedProps)}break;case 27:En(t,e),On(e),a&512&&(Bt||i===null||ps(i,i.return)),i!==null&&a&4&&Bu(e,e.memoizedProps,i.memoizedProps);break;case 5:if(En(t,e),On(e),a&512&&(Bt||i===null||ps(i,i.return)),e.flags&32){d=e.stateNode;try{sr(d,"")}catch(he){gt(e,e.return,he)}}a&4&&e.stateNode!=null&&(d=e.memoizedProps,Bu(e,d,i!==null?i.memoizedProps:d)),a&1024&&(Vu=!0);break;case 6:if(En(t,e),On(e),a&4){if(e.stateNode===null)throw Error(r(162));a=e.memoizedProps,i=e.stateNode;try{i.nodeValue=a}catch(he){gt(e,e.return,he)}}break;case 3:if(xl=null,d=ns,ns=yl(t.containerInfo),En(t,e),ns=d,On(e),a&4&&i!==null&&i.memoizedState.isDehydrated)try{Ya(t.containerInfo)}catch(he){gt(e,e.return,he)}Vu&&(Vu=!1,Mm(e));break;case 4:a=ns,ns=yl(e.stateNode.containerInfo),En(t,e),On(e),ns=a;break;case 12:En(t,e),On(e);break;case 13:En(t,e),On(e),e.child.flags&8192&&e.memoizedState!==null!=(i!==null&&i.memoizedState!==null)&&(Yu=F()),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,Lu(e,a)));break;case 22:d=e.memoizedState!==null;var P=i!==null&&i.memoizedState!==null,oe=js,pe=Bt;if(js=oe||d,Bt=pe||P,En(t,e),Bt=pe,js=oe,On(e),a&8192)e:for(t=e.stateNode,t._visibility=d?t._visibility&-2:t._visibility|1,d&&(i===null||P||js||Bt||Bi(e)),i=null,t=e;;){if(t.tag===5||t.tag===26){if(i===null){P=i=t;try{if(g=P.stateNode,d)N=g.style,typeof N.setProperty=="function"?N.setProperty("display","none","important"):N.display="none";else{z=P.stateNode;var ge=P.memoizedProps.style,ce=ge!=null&&ge.hasOwnProperty("display")?ge.display:null;z.style.display=ce==null||typeof ce=="boolean"?"":(""+ce).trim()}}catch(he){gt(P,P.return,he)}}}else if(t.tag===6){if(i===null){P=t;try{P.stateNode.nodeValue=d?"":P.memoizedProps}catch(he){gt(P,P.return,he)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;i===t&&(i=null),t=t.return}i===t&&(i=null),t.sibling.return=t.return,t=t.sibling}a&4&&(a=e.updateQueue,a!==null&&(i=a.retryQueue,i!==null&&(a.retryQueue=null,Lu(e,i))));break;case 19:En(t,e),On(e),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,Lu(e,a)));break;case 30:break;case 21:break;default:En(t,e),On(e)}}function On(e){var t=e.flags;if(t&2){try{for(var i,a=e.return;a!==null;){if(wm(a)){i=a;break}a=a.return}if(i==null)throw Error(r(160));switch(i.tag){case 27:var d=i.stateNode,g=Iu(e);al(e,g,d);break;case 5:var N=i.stateNode;i.flags&32&&(sr(N,""),i.flags&=-33);var z=Iu(e);al(e,z,N);break;case 3:case 4:var P=i.stateNode.containerInfo,oe=Iu(e);qu(e,oe,P);break;default:throw Error(r(161))}}catch(pe){gt(e,e.return,pe)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Mm(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;Mm(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function ti(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)Nm(e,t.alternate,t),t=t.sibling}function Bi(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:ei(4,t,t.return),Bi(t);break;case 1:ps(t,t.return);var i=t.stateNode;typeof i.componentWillUnmount=="function"&&xm(t,t.return,i),Bi(t);break;case 27:qa(t.stateNode);case 26:case 5:ps(t,t.return),Bi(t);break;case 22:t.memoizedState===null&&Bi(t);break;case 30:Bi(t);break;default:Bi(t)}e=e.sibling}}function ni(e,t,i){for(i=i&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var a=t.alternate,d=e,g=t,N=g.flags;switch(g.tag){case 0:case 11:case 15:ni(d,g,i),Ea(4,g);break;case 1:if(ni(d,g,i),a=g,d=a.stateNode,typeof d.componentDidMount=="function")try{d.componentDidMount()}catch(oe){gt(a,a.return,oe)}if(a=g,d=a.updateQueue,d!==null){var z=a.stateNode;try{var P=d.shared.hiddenCallbacks;if(P!==null)for(d.shared.hiddenCallbacks=null,d=0;d<P.length;d++)ap(P[d],z)}catch(oe){gt(a,a.return,oe)}}i&&N&64&&bm(g),Oa(g,g.return);break;case 27:Tm(g);case 26:case 5:ni(d,g,i),i&&a===null&&N&4&&Sm(g),Oa(g,g.return);break;case 12:ni(d,g,i);break;case 13:ni(d,g,i),i&&N&4&&Em(d,g);break;case 22:g.memoizedState===null&&ni(d,g,i),Oa(g,g.return);break;case 30:break;default:ni(d,g,i)}t=t.sibling}}function Fu(e,t){var i=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(i=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==i&&(e!=null&&e.refCount++,i!=null&&ma(i))}function Hu(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&ma(e))}function ms(e,t,i,a){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Dm(e,t,i,a),t=t.sibling}function Dm(e,t,i,a){var d=t.flags;switch(t.tag){case 0:case 11:case 15:ms(e,t,i,a),d&2048&&Ea(9,t);break;case 1:ms(e,t,i,a);break;case 3:ms(e,t,i,a),d&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&ma(e)));break;case 12:if(d&2048){ms(e,t,i,a),e=t.stateNode;try{var g=t.memoizedProps,N=g.id,z=g.onPostCommit;typeof z=="function"&&z(N,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(P){gt(t,t.return,P)}}else ms(e,t,i,a);break;case 13:ms(e,t,i,a);break;case 23:break;case 22:g=t.stateNode,N=t.alternate,t.memoizedState!==null?g._visibility&2?ms(e,t,i,a):Ma(e,t):g._visibility&2?ms(e,t,i,a):(g._visibility|=2,Sr(e,t,i,a,(t.subtreeFlags&10256)!==0)),d&2048&&Fu(N,t);break;case 24:ms(e,t,i,a),d&2048&&Hu(t.alternate,t);break;default:ms(e,t,i,a)}}function Sr(e,t,i,a,d){for(d=d&&(t.subtreeFlags&10256)!==0,t=t.child;t!==null;){var g=e,N=t,z=i,P=a,oe=N.flags;switch(N.tag){case 0:case 11:case 15:Sr(g,N,z,P,d),Ea(8,N);break;case 23:break;case 22:var pe=N.stateNode;N.memoizedState!==null?pe._visibility&2?Sr(g,N,z,P,d):Ma(g,N):(pe._visibility|=2,Sr(g,N,z,P,d)),d&&oe&2048&&Fu(N.alternate,N);break;case 24:Sr(g,N,z,P,d),d&&oe&2048&&Hu(N.alternate,N);break;default:Sr(g,N,z,P,d)}t=t.sibling}}function Ma(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var i=e,a=t,d=a.flags;switch(a.tag){case 22:Ma(i,a),d&2048&&Fu(a.alternate,a);break;case 24:Ma(i,a),d&2048&&Hu(a.alternate,a);break;default:Ma(i,a)}t=t.sibling}}var Da=8192;function wr(e){if(e.subtreeFlags&Da)for(e=e.child;e!==null;)Rm(e),e=e.sibling}function Rm(e){switch(e.tag){case 26:wr(e),e.flags&Da&&e.memoizedState!==null&&y1(ns,e.memoizedState,e.memoizedProps);break;case 5:wr(e);break;case 3:case 4:var t=ns;ns=yl(e.stateNode.containerInfo),wr(e),ns=t;break;case 22:e.memoizedState===null&&(t=e.alternate,t!==null&&t.memoizedState!==null?(t=Da,Da=16777216,wr(e),Da=t):wr(e));break;default:wr(e)}}function jm(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function Ra(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var i=0;i<t.length;i++){var a=t[i];Kt=a,Um(a,e)}jm(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)zm(e),e=e.sibling}function zm(e){switch(e.tag){case 0:case 11:case 15:Ra(e),e.flags&2048&&ei(9,e,e.return);break;case 3:Ra(e);break;case 12:Ra(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,ol(e)):Ra(e);break;default:Ra(e)}}function ol(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var i=0;i<t.length;i++){var a=t[i];Kt=a,Um(a,e)}jm(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:ei(8,t,t.return),ol(t);break;case 22:i=t.stateNode,i._visibility&2&&(i._visibility&=-3,ol(t));break;default:ol(t)}e=e.sibling}}function Um(e,t){for(;Kt!==null;){var i=Kt;switch(i.tag){case 0:case 11:case 15:ei(8,i,t);break;case 23:case 22:if(i.memoizedState!==null&&i.memoizedState.cachePool!==null){var a=i.memoizedState.cachePool.pool;a!=null&&a.refCount++}break;case 24:ma(i.memoizedState.cache)}if(a=i.child,a!==null)a.return=i,Kt=a;else e:for(i=e;Kt!==null;){a=Kt;var d=a.sibling,g=a.return;if(km(a),a===i){Kt=null;break e}if(d!==null){d.return=g,Kt=d;break e}Kt=g}}}var zy={getCacheForType:function(e){var t=ln(Pt),i=t.data.get(e);return i===void 0&&(i=e(),t.data.set(e,i)),i}},Uy=typeof WeakMap=="function"?WeakMap:Map,ct=0,vt=null,We=null,tt=0,ut=0,Mn=null,si=!1,Tr=!1,Gu=!1,Us=0,Dt=0,ii=0,Ii=0,Pu=0,Yn=0,Ar=0,ja=null,wn=null,Zu=!1,Yu=0,ll=1/0,cl=null,ri=null,sn=0,ai=null,Nr=null,kr=0,Xu=0,Wu=null,Bm=null,za=0,Qu=null;function Dn(){if((ct&2)!==0&&tt!==0)return tt&-tt;if(G.T!==null){var e=pr;return e!==0?e:sh()}return Kn()}function Im(){Yn===0&&(Yn=(tt&536870912)===0||it?ke():536870912);var e=Zn.current;return e!==null&&(e.flags|=32),Yn}function Rn(e,t,i){(e===vt&&(ut===2||ut===9)||e.cancelPendingCommit!==null)&&(Cr(e,0),oi(e,tt,Yn,!1)),Ve(e,i),((ct&2)===0||e!==vt)&&(e===vt&&((ct&2)===0&&(Ii|=i),Dt===4&&oi(e,tt,Yn,!1)),gs(e))}function qm(e,t,i){if((ct&6)!==0)throw Error(r(327));var a=!i&&(t&124)===0&&(t&e.expiredLanes)===0||qn(e,t),d=a?qy(e,t):$u(e,t,!0),g=a;do{if(d===0){Tr&&!a&&oi(e,t,0,!1);break}else{if(i=e.current.alternate,g&&!By(i)){d=$u(e,t,!1),g=!1;continue}if(d===2){if(g=t,e.errorRecoveryDisabledLanes&g)var N=0;else N=e.pendingLanes&-536870913,N=N!==0?N:N&536870912?536870912:0;if(N!==0){t=N;e:{var z=e;d=ja;var P=z.current.memoizedState.isDehydrated;if(P&&(Cr(z,N).flags|=256),N=$u(z,N,!1),N!==2){if(Gu&&!P){z.errorRecoveryDisabledLanes|=g,Ii|=g,d=4;break e}g=wn,wn=d,g!==null&&(wn===null?wn=g:wn.push.apply(wn,g))}d=N}if(g=!1,d!==2)continue}}if(d===1){Cr(e,0),oi(e,t,0,!0);break}e:{switch(a=e,g=d,g){case 0:case 1:throw Error(r(345));case 4:if((t&4194048)!==t)break;case 6:oi(a,t,Yn,!si);break e;case 2:wn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((t&62914560)===t&&(d=Yu+300-F(),10<d)){if(oi(a,t,Yn,!si),tn(a,0,!0)!==0)break e;a.timeoutHandle=pg(Vm.bind(null,a,i,wn,cl,Zu,t,Yn,Ii,Ar,si,g,2,-0,0),d);break e}Vm(a,i,wn,cl,Zu,t,Yn,Ii,Ar,si,g,0,-0,0)}}break}while(!0);gs(e)}function Vm(e,t,i,a,d,g,N,z,P,oe,pe,ge,ce,he){if(e.timeoutHandle=-1,ge=t.subtreeFlags,(ge&8192||(ge&16785408)===16785408)&&(Fa={stylesheets:null,count:0,unsuspend:v1},Rm(t),ge=b1(),ge!==null)){e.cancelPendingCommit=ge(Ym.bind(null,e,t,g,i,a,d,N,z,P,pe,1,ce,he)),oi(e,g,N,!oe);return}Ym(e,t,g,i,a,d,N,z,P)}function By(e){for(var t=e;;){var i=t.tag;if((i===0||i===11||i===15)&&t.flags&16384&&(i=t.updateQueue,i!==null&&(i=i.stores,i!==null)))for(var a=0;a<i.length;a++){var d=i[a],g=d.getSnapshot;d=d.value;try{if(!kn(g(),d))return!1}catch{return!1}}if(i=t.child,t.subtreeFlags&16384&&i!==null)i.return=t,t=i;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function oi(e,t,i,a){t&=~Pu,t&=~Ii,e.suspendedLanes|=t,e.pingedLanes&=~t,a&&(e.warmLanes|=t),a=e.expirationTimes;for(var d=t;0<d;){var g=31-rt(d),N=1<<g;a[g]=-1,d&=~N}i!==0&&lt(e,i,t)}function ul(){return(ct&6)===0?(Ua(0),!1):!0}function Ku(){if(We!==null){if(ut===0)var e=We.return;else e=We,Cs=Di=null,pu(e),br=null,Na=0,e=We;for(;e!==null;)ym(e.alternate,e),e=e.return;We=null}}function Cr(e,t){var i=e.timeoutHandle;i!==-1&&(e.timeoutHandle=-1,t1(i)),i=e.cancelPendingCommit,i!==null&&(e.cancelPendingCommit=null,i()),Ku(),vt=e,We=i=As(e.current,null),tt=t,ut=0,Mn=null,si=!1,Tr=qn(e,t),Gu=!1,Ar=Yn=Pu=Ii=ii=Dt=0,wn=ja=null,Zu=!1,(t&8)!==0&&(t|=t&32);var a=e.entangledLanes;if(a!==0)for(e=e.entanglements,a&=t;0<a;){var d=31-rt(a),g=1<<d;t|=e[d],a&=~g}return Us=t,Do(),i}function Lm(e,t){Ze=null,G.H=Ko,t===_a||t===Lo?(t=ip(),ut=3):t===tp?(t=ip(),ut=4):ut=t===rm?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,Mn=t,We===null&&(Dt=1,nl(e,Fn(t,e.current)))}function Fm(){var e=G.H;return G.H=Ko,e===null?Ko:e}function Hm(){var e=G.A;return G.A=zy,e}function Ju(){Dt=4,si||(tt&4194048)!==tt&&Zn.current!==null||(Tr=!0),(ii&134217727)===0&&(Ii&134217727)===0||vt===null||oi(vt,tt,Yn,!1)}function $u(e,t,i){var a=ct;ct|=2;var d=Fm(),g=Hm();(vt!==e||tt!==t)&&(cl=null,Cr(e,t)),t=!1;var N=Dt;e:do try{if(ut!==0&&We!==null){var z=We,P=Mn;switch(ut){case 8:Ku(),N=6;break e;case 3:case 2:case 9:case 6:Zn.current===null&&(t=!0);var oe=ut;if(ut=0,Mn=null,Er(e,z,P,oe),i&&Tr){N=0;break e}break;default:oe=ut,ut=0,Mn=null,Er(e,z,P,oe)}}Iy(),N=Dt;break}catch(pe){Lm(e,pe)}while(!0);return t&&e.shellSuspendCounter++,Cs=Di=null,ct=a,G.H=d,G.A=g,We===null&&(vt=null,tt=0,Do()),N}function Iy(){for(;We!==null;)Gm(We)}function qy(e,t){var i=ct;ct|=2;var a=Fm(),d=Hm();vt!==e||tt!==t?(cl=null,ll=F()+500,Cr(e,t)):Tr=qn(e,t);e:do try{if(ut!==0&&We!==null){t=We;var g=Mn;t:switch(ut){case 1:ut=0,Mn=null,Er(e,t,g,1);break;case 2:case 9:if(np(g)){ut=0,Mn=null,Pm(t);break}t=function(){ut!==2&&ut!==9||vt!==e||(ut=7),gs(e)},g.then(t,t);break e;case 3:ut=7;break e;case 4:ut=5;break e;case 7:np(g)?(ut=0,Mn=null,Pm(t)):(ut=0,Mn=null,Er(e,t,g,7));break;case 5:var N=null;switch(We.tag){case 26:N=We.memoizedState;case 5:case 27:var z=We;if(!N||Ng(N)){ut=0,Mn=null;var P=z.sibling;if(P!==null)We=P;else{var oe=z.return;oe!==null?(We=oe,hl(oe)):We=null}break t}}ut=0,Mn=null,Er(e,t,g,5);break;case 6:ut=0,Mn=null,Er(e,t,g,6);break;case 8:Ku(),Dt=6;break e;default:throw Error(r(462))}}Vy();break}catch(pe){Lm(e,pe)}while(!0);return Cs=Di=null,G.H=a,G.A=d,ct=i,We!==null?0:(vt=null,tt=0,Do(),Dt)}function Vy(){for(;We!==null&&!Q();)Gm(We)}function Gm(e){var t=_m(e.alternate,e,Us);e.memoizedProps=e.pendingProps,t===null?hl(e):We=t}function Pm(e){var t=e,i=t.alternate;switch(t.tag){case 15:case 0:t=hm(i,t,t.pendingProps,t.type,void 0,tt);break;case 11:t=hm(i,t,t.pendingProps,t.type.render,t.ref,tt);break;case 5:pu(t);default:ym(i,t),t=We=Zd(t,Us),t=_m(i,t,Us)}e.memoizedProps=e.pendingProps,t===null?hl(e):We=t}function Er(e,t,i,a){Cs=Di=null,pu(t),br=null,Na=0;var d=t.return;try{if(Ey(e,d,t,i,tt)){Dt=1,nl(e,Fn(i,e.current)),We=null;return}}catch(g){if(d!==null)throw We=d,g;Dt=1,nl(e,Fn(i,e.current)),We=null;return}t.flags&32768?(it||a===1?e=!0:Tr||(tt&536870912)!==0?e=!1:(si=e=!0,(a===2||a===9||a===3||a===6)&&(a=Zn.current,a!==null&&a.tag===13&&(a.flags|=16384))),Zm(t,e)):hl(t)}function hl(e){var t=e;do{if((t.flags&32768)!==0){Zm(t,si);return}e=t.return;var i=My(t.alternate,t,Us);if(i!==null){We=i;return}if(t=t.sibling,t!==null){We=t;return}We=t=e}while(t!==null);Dt===0&&(Dt=5)}function Zm(e,t){do{var i=Dy(e.alternate,e);if(i!==null){i.flags&=32767,We=i;return}if(i=e.return,i!==null&&(i.flags|=32768,i.subtreeFlags=0,i.deletions=null),!t&&(e=e.sibling,e!==null)){We=e;return}We=e=i}while(e!==null);Dt=6,We=null}function Ym(e,t,i,a,d,g,N,z,P){e.cancelPendingCommit=null;do fl();while(sn!==0);if((ct&6)!==0)throw Error(r(327));if(t!==null){if(t===e.current)throw Error(r(177));if(g=t.lanes|t.childLanes,g|=Hc,ot(e,i,g,N,z,P),e===vt&&(We=vt=null,tt=0),Nr=t,ai=e,kr=i,Xu=g,Wu=d,Bm=a,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,Gy(de,function(){return Jm(),null})):(e.callbackNode=null,e.callbackPriority=0),a=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||a){a=G.T,G.T=null,d=H.p,H.p=2,N=ct,ct|=4;try{Ry(e,t,i)}finally{ct=N,H.p=d,G.T=a}}sn=1,Xm(),Wm(),Qm()}}function Xm(){if(sn===1){sn=0;var e=ai,t=Nr,i=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||i){i=G.T,G.T=null;var a=H.p;H.p=2;var d=ct;ct|=4;try{Om(t,e);var g=hh,N=Ud(e.containerInfo),z=g.focusedElem,P=g.selectionRange;if(N!==z&&z&&z.ownerDocument&&zd(z.ownerDocument.documentElement,z)){if(P!==null&&Ic(z)){var oe=P.start,pe=P.end;if(pe===void 0&&(pe=oe),"selectionStart"in z)z.selectionStart=oe,z.selectionEnd=Math.min(pe,z.value.length);else{var ge=z.ownerDocument||document,ce=ge&&ge.defaultView||window;if(ce.getSelection){var he=ce.getSelection(),Be=z.textContent.length,De=Math.min(P.start,Be),dt=P.end===void 0?De:Math.min(P.end,Be);!he.extend&&De>dt&&(N=dt,dt=De,De=N);var $=jd(z,De),W=jd(z,dt);if($&&W&&(he.rangeCount!==1||he.anchorNode!==$.node||he.anchorOffset!==$.offset||he.focusNode!==W.node||he.focusOffset!==W.offset)){var ie=ge.createRange();ie.setStart($.node,$.offset),he.removeAllRanges(),De>dt?(he.addRange(ie),he.extend(W.node,W.offset)):(ie.setEnd(W.node,W.offset),he.addRange(ie))}}}}for(ge=[],he=z;he=he.parentNode;)he.nodeType===1&&ge.push({element:he,left:he.scrollLeft,top:he.scrollTop});for(typeof z.focus=="function"&&z.focus(),z=0;z<ge.length;z++){var me=ge[z];me.element.scrollLeft=me.left,me.element.scrollTop=me.top}}Tl=!!uh,hh=uh=null}finally{ct=d,H.p=a,G.T=i}}e.current=t,sn=2}}function Wm(){if(sn===2){sn=0;var e=ai,t=Nr,i=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||i){i=G.T,G.T=null;var a=H.p;H.p=2;var d=ct;ct|=4;try{Nm(e,t.alternate,t)}finally{ct=d,H.p=a,G.T=i}}sn=3}}function Qm(){if(sn===4||sn===3){sn=0,K();var e=ai,t=Nr,i=kr,a=Bm;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?sn=5:(sn=0,Nr=ai=null,Km(e,e.pendingLanes));var d=e.pendingLanes;if(d===0&&(ri=null),Tt(i),t=t.stateNode,Ie&&typeof Ie.onCommitFiberRoot=="function")try{Ie.onCommitFiberRoot(Te,t,void 0,(t.current.flags&128)===128)}catch{}if(a!==null){t=G.T,d=H.p,H.p=2,G.T=null;try{for(var g=e.onRecoverableError,N=0;N<a.length;N++){var z=a[N];g(z.value,{componentStack:z.stack})}}finally{G.T=t,H.p=d}}(kr&3)!==0&&fl(),gs(e),d=e.pendingLanes,(i&4194090)!==0&&(d&42)!==0?e===Qu?za++:(za=0,Qu=e):za=0,Ua(0)}}function Km(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,ma(t)))}function fl(e){return Xm(),Wm(),Qm(),Jm()}function Jm(){if(sn!==5)return!1;var e=ai,t=Xu;Xu=0;var i=Tt(kr),a=G.T,d=H.p;try{H.p=32>i?32:i,G.T=null,i=Wu,Wu=null;var g=ai,N=kr;if(sn=0,Nr=ai=null,kr=0,(ct&6)!==0)throw Error(r(331));var z=ct;if(ct|=4,zm(g.current),Dm(g,g.current,N,i),ct=z,Ua(0,!1),Ie&&typeof Ie.onPostCommitFiberRoot=="function")try{Ie.onPostCommitFiberRoot(Te,g)}catch{}return!0}finally{H.p=d,G.T=a,Km(e,t)}}function $m(e,t,i){t=Fn(i,t),t=Cu(e.stateNode,t,2),e=Qs(e,t,2),e!==null&&(Ve(e,2),gs(e))}function gt(e,t,i){if(e.tag===3)$m(e,e,i);else for(;t!==null;){if(t.tag===3){$m(t,e,i);break}else if(t.tag===1){var a=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof a.componentDidCatch=="function"&&(ri===null||!ri.has(a))){e=Fn(i,e),i=sm(2),a=Qs(t,i,2),a!==null&&(im(i,a,t,e),Ve(a,2),gs(a));break}}t=t.return}}function eh(e,t,i){var a=e.pingCache;if(a===null){a=e.pingCache=new Uy;var d=new Set;a.set(t,d)}else d=a.get(t),d===void 0&&(d=new Set,a.set(t,d));d.has(i)||(Gu=!0,d.add(i),e=Ly.bind(null,e,t,i),t.then(e,e))}function Ly(e,t,i){var a=e.pingCache;a!==null&&a.delete(t),e.pingedLanes|=e.suspendedLanes&i,e.warmLanes&=~i,vt===e&&(tt&i)===i&&(Dt===4||Dt===3&&(tt&62914560)===tt&&300>F()-Yu?(ct&2)===0&&Cr(e,0):Pu|=i,Ar===tt&&(Ar=0)),gs(e)}function eg(e,t){t===0&&(t=Le()),e=ur(e,t),e!==null&&(Ve(e,t),gs(e))}function Fy(e){var t=e.memoizedState,i=0;t!==null&&(i=t.retryLane),eg(e,i)}function Hy(e,t){var i=0;switch(e.tag){case 13:var a=e.stateNode,d=e.memoizedState;d!==null&&(i=d.retryLane);break;case 19:a=e.stateNode;break;case 22:a=e.stateNode._retryCache;break;default:throw Error(r(314))}a!==null&&a.delete(t),eg(e,i)}function Gy(e,t){return $e(e,t)}var dl=null,Or=null,th=!1,pl=!1,nh=!1,qi=0;function gs(e){e!==Or&&e.next===null&&(Or===null?dl=Or=e:Or=Or.next=e),pl=!0,th||(th=!0,Zy())}function Ua(e,t){if(!nh&&pl){nh=!0;do for(var i=!1,a=dl;a!==null;){if(e!==0){var d=a.pendingLanes;if(d===0)var g=0;else{var N=a.suspendedLanes,z=a.pingedLanes;g=(1<<31-rt(42|e)+1)-1,g&=d&~(N&~z),g=g&201326741?g&201326741|1:g?g|2:0}g!==0&&(i=!0,ig(a,g))}else g=tt,g=tn(a,a===vt?g:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),(g&3)===0||qn(a,g)||(i=!0,ig(a,g));a=a.next}while(i);nh=!1}}function Py(){tg()}function tg(){pl=th=!1;var e=0;qi!==0&&(e1()&&(e=qi),qi=0);for(var t=F(),i=null,a=dl;a!==null;){var d=a.next,g=ng(a,t);g===0?(a.next=null,i===null?dl=d:i.next=d,d===null&&(Or=i)):(i=a,(e!==0||(g&3)!==0)&&(pl=!0)),a=d}Ua(e)}function ng(e,t){for(var i=e.suspendedLanes,a=e.pingedLanes,d=e.expirationTimes,g=e.pendingLanes&-62914561;0<g;){var N=31-rt(g),z=1<<N,P=d[N];P===-1?((z&i)===0||(z&a)!==0)&&(d[N]=Ne(z,t)):P<=t&&(e.expiredLanes|=z),g&=~z}if(t=vt,i=tt,i=tn(e,e===t?i:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),a=e.callbackNode,i===0||e===t&&(ut===2||ut===9)||e.cancelPendingCommit!==null)return a!==null&&a!==null&&T(a),e.callbackNode=null,e.callbackPriority=0;if((i&3)===0||qn(e,i)){if(t=i&-i,t===e.callbackPriority)return t;switch(a!==null&&T(a),Tt(i)){case 2:case 8:i=fe;break;case 32:i=de;break;case 268435456:i=ye;break;default:i=de}return a=sg.bind(null,e),i=$e(i,a),e.callbackPriority=t,e.callbackNode=i,t}return a!==null&&a!==null&&T(a),e.callbackPriority=2,e.callbackNode=null,2}function sg(e,t){if(sn!==0&&sn!==5)return e.callbackNode=null,e.callbackPriority=0,null;var i=e.callbackNode;if(fl()&&e.callbackNode!==i)return null;var a=tt;return a=tn(e,e===vt?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),a===0?null:(qm(e,a,t),ng(e,F()),e.callbackNode!=null&&e.callbackNode===i?sg.bind(null,e):null)}function ig(e,t){if(fl())return null;qm(e,t,!0)}function Zy(){n1(function(){(ct&6)!==0?$e(Y,Py):tg()})}function sh(){return qi===0&&(qi=ke()),qi}function rg(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Ao(""+e)}function ag(e,t){var i=t.ownerDocument.createElement("input");return i.name=t.name,i.value=t.value,e.id&&i.setAttribute("form",e.id),t.parentNode.insertBefore(i,t),e=new FormData(e),i.parentNode.removeChild(i),e}function Yy(e,t,i,a,d){if(t==="submit"&&i&&i.stateNode===d){var g=rg((d[Pe]||null).action),N=a.submitter;N&&(t=(t=N[Pe]||null)?rg(t.formAction):N.getAttribute("formAction"),t!==null&&(g=t,N=null));var z=new Eo("action","action",null,a,d);e.push({event:z,listeners:[{instance:null,listener:function(){if(a.defaultPrevented){if(qi!==0){var P=N?ag(d,N):new FormData(d);wu(i,{pending:!0,data:P,method:d.method,action:g},null,P)}}else typeof g=="function"&&(z.preventDefault(),P=N?ag(d,N):new FormData(d),wu(i,{pending:!0,data:P,method:d.method,action:g},g,P))},currentTarget:d}]})}}for(var ih=0;ih<Fc.length;ih++){var rh=Fc[ih],Xy=rh.toLowerCase(),Wy=rh[0].toUpperCase()+rh.slice(1);ts(Xy,"on"+Wy)}ts(qd,"onAnimationEnd"),ts(Vd,"onAnimationIteration"),ts(Ld,"onAnimationStart"),ts("dblclick","onDoubleClick"),ts("focusin","onFocus"),ts("focusout","onBlur"),ts(fy,"onTransitionRun"),ts(dy,"onTransitionStart"),ts(py,"onTransitionCancel"),ts(Fd,"onTransitionEnd"),er("onMouseEnter",["mouseout","mouseover"]),er("onMouseLeave",["mouseout","mouseover"]),er("onPointerEnter",["pointerout","pointerover"]),er("onPointerLeave",["pointerout","pointerover"]),Ss("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ss("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ss("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ss("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ss("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ss("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ba="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Qy=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ba));function og(e,t){t=(t&4)!==0;for(var i=0;i<e.length;i++){var a=e[i],d=a.event;a=a.listeners;e:{var g=void 0;if(t)for(var N=a.length-1;0<=N;N--){var z=a[N],P=z.instance,oe=z.currentTarget;if(z=z.listener,P!==g&&d.isPropagationStopped())break e;g=z,d.currentTarget=oe;try{g(d)}catch(pe){tl(pe)}d.currentTarget=null,g=P}else for(N=0;N<a.length;N++){if(z=a[N],P=z.instance,oe=z.currentTarget,z=z.listener,P!==g&&d.isPropagationStopped())break e;g=z,d.currentTarget=oe;try{g(d)}catch(pe){tl(pe)}d.currentTarget=null,g=P}}}}function Qe(e,t){var i=t[et];i===void 0&&(i=t[et]=new Set);var a=e+"__bubble";i.has(a)||(lg(t,e,2,!1),i.add(a))}function ah(e,t,i){var a=0;t&&(a|=4),lg(i,e,a,t)}var ml="_reactListening"+Math.random().toString(36).slice(2);function oh(e){if(!e[ml]){e[ml]=!0,yo.forEach(function(i){i!=="selectionchange"&&(Qy.has(i)||ah(i,!1,e),ah(i,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[ml]||(t[ml]=!0,ah("selectionchange",!1,t))}}function lg(e,t,i,a){switch(Dg(t)){case 2:var d=w1;break;case 8:d=T1;break;default:d=xh}i=d.bind(null,t,i,e),d=void 0,!Ec||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(d=!0),a?d!==void 0?e.addEventListener(t,i,{capture:!0,passive:d}):e.addEventListener(t,i,!0):d!==void 0?e.addEventListener(t,i,{passive:d}):e.addEventListener(t,i,!1)}function lh(e,t,i,a,d){var g=a;if((t&1)===0&&(t&2)===0&&a!==null)e:for(;;){if(a===null)return;var N=a.tag;if(N===3||N===4){var z=a.stateNode.containerInfo;if(z===d)break;if(N===4)for(N=a.return;N!==null;){var P=N.tag;if((P===3||P===4)&&N.stateNode.containerInfo===d)return;N=N.return}for(;z!==null;){if(N=on(z),N===null)return;if(P=N.tag,P===5||P===6||P===26||P===27){a=g=N;continue e}z=z.parentNode}}a=a.return}md(function(){var oe=g,pe=kc(i),ge=[];e:{var ce=Hd.get(e);if(ce!==void 0){var he=Eo,Be=e;switch(e){case"keypress":if(ko(i)===0)break e;case"keydown":case"keyup":he=Gv;break;case"focusin":Be="focus",he=Rc;break;case"focusout":Be="blur",he=Rc;break;case"beforeblur":case"afterblur":he=Rc;break;case"click":if(i.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":he=vd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":he=Dv;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":he=Yv;break;case qd:case Vd:case Ld:he=zv;break;case Fd:he=Wv;break;case"scroll":case"scrollend":he=Ov;break;case"wheel":he=Kv;break;case"copy":case"cut":case"paste":he=Bv;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":he=bd;break;case"toggle":case"beforetoggle":he=$v}var De=(t&4)!==0,dt=!De&&(e==="scroll"||e==="scrollend"),$=De?ce!==null?ce+"Capture":null:ce;De=[];for(var W=oe,ie;W!==null;){var me=W;if(ie=me.stateNode,me=me.tag,me!==5&&me!==26&&me!==27||ie===null||$===null||(me=na(W,$),me!=null&&De.push(Ia(W,me,ie))),dt)break;W=W.return}0<De.length&&(ce=new he(ce,Be,null,i,pe),ge.push({event:ce,listeners:De}))}}if((t&7)===0){e:{if(ce=e==="mouseover"||e==="pointerover",he=e==="mouseout"||e==="pointerout",ce&&i!==Nc&&(Be=i.relatedTarget||i.fromElement)&&(on(Be)||Be[Re]))break e;if((he||ce)&&(ce=pe.window===pe?pe:(ce=pe.ownerDocument)?ce.defaultView||ce.parentWindow:window,he?(Be=i.relatedTarget||i.toElement,he=oe,Be=Be?on(Be):null,Be!==null&&(dt=l(Be),De=Be.tag,Be!==dt||De!==5&&De!==27&&De!==6)&&(Be=null)):(he=null,Be=oe),he!==Be)){if(De=vd,me="onMouseLeave",$="onMouseEnter",W="mouse",(e==="pointerout"||e==="pointerover")&&(De=bd,me="onPointerLeave",$="onPointerEnter",W="pointer"),dt=he==null?ce:es(he),ie=Be==null?ce:es(Be),ce=new De(me,W+"leave",he,i,pe),ce.target=dt,ce.relatedTarget=ie,me=null,on(pe)===oe&&(De=new De($,W+"enter",Be,i,pe),De.target=ie,De.relatedTarget=dt,me=De),dt=me,he&&Be)t:{for(De=he,$=Be,W=0,ie=De;ie;ie=Mr(ie))W++;for(ie=0,me=$;me;me=Mr(me))ie++;for(;0<W-ie;)De=Mr(De),W--;for(;0<ie-W;)$=Mr($),ie--;for(;W--;){if(De===$||$!==null&&De===$.alternate)break t;De=Mr(De),$=Mr($)}De=null}else De=null;he!==null&&cg(ge,ce,he,De,!1),Be!==null&&dt!==null&&cg(ge,dt,Be,De,!0)}}e:{if(ce=oe?es(oe):window,he=ce.nodeName&&ce.nodeName.toLowerCase(),he==="select"||he==="input"&&ce.type==="file")var Ae=Cd;else if(Nd(ce))if(Ed)Ae=cy;else{Ae=oy;var Xe=ay}else he=ce.nodeName,!he||he.toLowerCase()!=="input"||ce.type!=="checkbox"&&ce.type!=="radio"?oe&&Ac(oe.elementType)&&(Ae=Cd):Ae=ly;if(Ae&&(Ae=Ae(e,oe))){kd(ge,Ae,i,pe);break e}Xe&&Xe(e,ce,oe),e==="focusout"&&oe&&ce.type==="number"&&oe.memoizedProps.value!=null&&Tc(ce,"number",ce.value)}switch(Xe=oe?es(oe):window,e){case"focusin":(Nd(Xe)||Xe.contentEditable==="true")&&(or=Xe,qc=oe,ua=null);break;case"focusout":ua=qc=or=null;break;case"mousedown":Vc=!0;break;case"contextmenu":case"mouseup":case"dragend":Vc=!1,Bd(ge,i,pe);break;case"selectionchange":if(hy)break;case"keydown":case"keyup":Bd(ge,i,pe)}var Ee;if(zc)e:{switch(e){case"compositionstart":var je="onCompositionStart";break e;case"compositionend":je="onCompositionEnd";break e;case"compositionupdate":je="onCompositionUpdate";break e}je=void 0}else ar?Td(e,i)&&(je="onCompositionEnd"):e==="keydown"&&i.keyCode===229&&(je="onCompositionStart");je&&(xd&&i.locale!=="ko"&&(ar||je!=="onCompositionStart"?je==="onCompositionEnd"&&ar&&(Ee=gd()):(Zs=pe,Oc="value"in Zs?Zs.value:Zs.textContent,ar=!0)),Xe=gl(oe,je),0<Xe.length&&(je=new yd(je,e,null,i,pe),ge.push({event:je,listeners:Xe}),Ee?je.data=Ee:(Ee=Ad(i),Ee!==null&&(je.data=Ee)))),(Ee=ty?ny(e,i):sy(e,i))&&(je=gl(oe,"onBeforeInput"),0<je.length&&(Xe=new yd("onBeforeInput","beforeinput",null,i,pe),ge.push({event:Xe,listeners:je}),Xe.data=Ee)),Yy(ge,e,oe,i,pe)}og(ge,t)})}function Ia(e,t,i){return{instance:e,listener:t,currentTarget:i}}function gl(e,t){for(var i=t+"Capture",a=[];e!==null;){var d=e,g=d.stateNode;if(d=d.tag,d!==5&&d!==26&&d!==27||g===null||(d=na(e,i),d!=null&&a.unshift(Ia(e,d,g)),d=na(e,t),d!=null&&a.push(Ia(e,d,g))),e.tag===3)return a;e=e.return}return[]}function Mr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function cg(e,t,i,a,d){for(var g=t._reactName,N=[];i!==null&&i!==a;){var z=i,P=z.alternate,oe=z.stateNode;if(z=z.tag,P!==null&&P===a)break;z!==5&&z!==26&&z!==27||oe===null||(P=oe,d?(oe=na(i,g),oe!=null&&N.unshift(Ia(i,oe,P))):d||(oe=na(i,g),oe!=null&&N.push(Ia(i,oe,P)))),i=i.return}N.length!==0&&e.push({event:t,listeners:N})}var Ky=/\r\n?/g,Jy=/\u0000|\uFFFD/g;function ug(e){return(typeof e=="string"?e:""+e).replace(Ky,`
`).replace(Jy,"")}function hg(e,t){return t=ug(t),ug(e)===t}function _l(){}function ft(e,t,i,a,d,g){switch(i){case"children":typeof a=="string"?t==="body"||t==="textarea"&&a===""||sr(e,a):(typeof a=="number"||typeof a=="bigint")&&t!=="body"&&sr(e,""+a);break;case"className":So(e,"class",a);break;case"tabIndex":So(e,"tabindex",a);break;case"dir":case"role":case"viewBox":case"width":case"height":So(e,i,a);break;case"style":dd(e,a,g);break;case"data":if(t!=="object"){So(e,"data",a);break}case"src":case"href":if(a===""&&(t!=="a"||i!=="href")){e.removeAttribute(i);break}if(a==null||typeof a=="function"||typeof a=="symbol"||typeof a=="boolean"){e.removeAttribute(i);break}a=Ao(""+a),e.setAttribute(i,a);break;case"action":case"formAction":if(typeof a=="function"){e.setAttribute(i,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof g=="function"&&(i==="formAction"?(t!=="input"&&ft(e,t,"name",d.name,d,null),ft(e,t,"formEncType",d.formEncType,d,null),ft(e,t,"formMethod",d.formMethod,d,null),ft(e,t,"formTarget",d.formTarget,d,null)):(ft(e,t,"encType",d.encType,d,null),ft(e,t,"method",d.method,d,null),ft(e,t,"target",d.target,d,null)));if(a==null||typeof a=="symbol"||typeof a=="boolean"){e.removeAttribute(i);break}a=Ao(""+a),e.setAttribute(i,a);break;case"onClick":a!=null&&(e.onclick=_l);break;case"onScroll":a!=null&&Qe("scroll",e);break;case"onScrollEnd":a!=null&&Qe("scrollend",e);break;case"dangerouslySetInnerHTML":if(a!=null){if(typeof a!="object"||!("__html"in a))throw Error(r(61));if(i=a.__html,i!=null){if(d.children!=null)throw Error(r(60));e.innerHTML=i}}break;case"multiple":e.multiple=a&&typeof a!="function"&&typeof a!="symbol";break;case"muted":e.muted=a&&typeof a!="function"&&typeof a!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(a==null||typeof a=="function"||typeof a=="boolean"||typeof a=="symbol"){e.removeAttribute("xlink:href");break}i=Ao(""+a),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",i);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":a!=null&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(i,""+a):e.removeAttribute(i);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":a&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(i,""):e.removeAttribute(i);break;case"capture":case"download":a===!0?e.setAttribute(i,""):a!==!1&&a!=null&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(i,a):e.removeAttribute(i);break;case"cols":case"rows":case"size":case"span":a!=null&&typeof a!="function"&&typeof a!="symbol"&&!isNaN(a)&&1<=a?e.setAttribute(i,a):e.removeAttribute(i);break;case"rowSpan":case"start":a==null||typeof a=="function"||typeof a=="symbol"||isNaN(a)?e.removeAttribute(i):e.setAttribute(i,a);break;case"popover":Qe("beforetoggle",e),Qe("toggle",e),xo(e,"popover",a);break;case"xlinkActuate":ws(e,"http://www.w3.org/1999/xlink","xlink:actuate",a);break;case"xlinkArcrole":ws(e,"http://www.w3.org/1999/xlink","xlink:arcrole",a);break;case"xlinkRole":ws(e,"http://www.w3.org/1999/xlink","xlink:role",a);break;case"xlinkShow":ws(e,"http://www.w3.org/1999/xlink","xlink:show",a);break;case"xlinkTitle":ws(e,"http://www.w3.org/1999/xlink","xlink:title",a);break;case"xlinkType":ws(e,"http://www.w3.org/1999/xlink","xlink:type",a);break;case"xmlBase":ws(e,"http://www.w3.org/XML/1998/namespace","xml:base",a);break;case"xmlLang":ws(e,"http://www.w3.org/XML/1998/namespace","xml:lang",a);break;case"xmlSpace":ws(e,"http://www.w3.org/XML/1998/namespace","xml:space",a);break;case"is":xo(e,"is",a);break;case"innerText":case"textContent":break;default:(!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(i=Cv.get(i)||i,xo(e,i,a))}}function ch(e,t,i,a,d,g){switch(i){case"style":dd(e,a,g);break;case"dangerouslySetInnerHTML":if(a!=null){if(typeof a!="object"||!("__html"in a))throw Error(r(61));if(i=a.__html,i!=null){if(d.children!=null)throw Error(r(60));e.innerHTML=i}}break;case"children":typeof a=="string"?sr(e,a):(typeof a=="number"||typeof a=="bigint")&&sr(e,""+a);break;case"onScroll":a!=null&&Qe("scroll",e);break;case"onScrollEnd":a!=null&&Qe("scrollend",e);break;case"onClick":a!=null&&(e.onclick=_l);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!bo.hasOwnProperty(i))e:{if(i[0]==="o"&&i[1]==="n"&&(d=i.endsWith("Capture"),t=i.slice(2,d?i.length-7:void 0),g=e[Pe]||null,g=g!=null?g[i]:null,typeof g=="function"&&e.removeEventListener(t,g,d),typeof a=="function")){typeof g!="function"&&g!==null&&(i in e?e[i]=null:e.hasAttribute(i)&&e.removeAttribute(i)),e.addEventListener(t,a,d);break e}i in e?e[i]=a:a===!0?e.setAttribute(i,""):xo(e,i,a)}}}function rn(e,t,i){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Qe("error",e),Qe("load",e);var a=!1,d=!1,g;for(g in i)if(i.hasOwnProperty(g)){var N=i[g];if(N!=null)switch(g){case"src":a=!0;break;case"srcSet":d=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,t));default:ft(e,t,g,N,i,null)}}d&&ft(e,t,"srcSet",i.srcSet,i,null),a&&ft(e,t,"src",i.src,i,null);return;case"input":Qe("invalid",e);var z=g=N=d=null,P=null,oe=null;for(a in i)if(i.hasOwnProperty(a)){var pe=i[a];if(pe!=null)switch(a){case"name":d=pe;break;case"type":N=pe;break;case"checked":P=pe;break;case"defaultChecked":oe=pe;break;case"value":g=pe;break;case"defaultValue":z=pe;break;case"children":case"dangerouslySetInnerHTML":if(pe!=null)throw Error(r(137,t));break;default:ft(e,t,a,pe,i,null)}}cd(e,g,z,P,oe,N,d,!1),wo(e);return;case"select":Qe("invalid",e),a=N=g=null;for(d in i)if(i.hasOwnProperty(d)&&(z=i[d],z!=null))switch(d){case"value":g=z;break;case"defaultValue":N=z;break;case"multiple":a=z;default:ft(e,t,d,z,i,null)}t=g,i=N,e.multiple=!!a,t!=null?nr(e,!!a,t,!1):i!=null&&nr(e,!!a,i,!0);return;case"textarea":Qe("invalid",e),g=d=a=null;for(N in i)if(i.hasOwnProperty(N)&&(z=i[N],z!=null))switch(N){case"value":a=z;break;case"defaultValue":d=z;break;case"children":g=z;break;case"dangerouslySetInnerHTML":if(z!=null)throw Error(r(91));break;default:ft(e,t,N,z,i,null)}hd(e,a,d,g),wo(e);return;case"option":for(P in i)if(i.hasOwnProperty(P)&&(a=i[P],a!=null))switch(P){case"selected":e.selected=a&&typeof a!="function"&&typeof a!="symbol";break;default:ft(e,t,P,a,i,null)}return;case"dialog":Qe("beforetoggle",e),Qe("toggle",e),Qe("cancel",e),Qe("close",e);break;case"iframe":case"object":Qe("load",e);break;case"video":case"audio":for(a=0;a<Ba.length;a++)Qe(Ba[a],e);break;case"image":Qe("error",e),Qe("load",e);break;case"details":Qe("toggle",e);break;case"embed":case"source":case"link":Qe("error",e),Qe("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(oe in i)if(i.hasOwnProperty(oe)&&(a=i[oe],a!=null))switch(oe){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,t));default:ft(e,t,oe,a,i,null)}return;default:if(Ac(t)){for(pe in i)i.hasOwnProperty(pe)&&(a=i[pe],a!==void 0&&ch(e,t,pe,a,i,void 0));return}}for(z in i)i.hasOwnProperty(z)&&(a=i[z],a!=null&&ft(e,t,z,a,i,null))}function $y(e,t,i,a){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var d=null,g=null,N=null,z=null,P=null,oe=null,pe=null;for(he in i){var ge=i[he];if(i.hasOwnProperty(he)&&ge!=null)switch(he){case"checked":break;case"value":break;case"defaultValue":P=ge;default:a.hasOwnProperty(he)||ft(e,t,he,null,a,ge)}}for(var ce in a){var he=a[ce];if(ge=i[ce],a.hasOwnProperty(ce)&&(he!=null||ge!=null))switch(ce){case"type":g=he;break;case"name":d=he;break;case"checked":oe=he;break;case"defaultChecked":pe=he;break;case"value":N=he;break;case"defaultValue":z=he;break;case"children":case"dangerouslySetInnerHTML":if(he!=null)throw Error(r(137,t));break;default:he!==ge&&ft(e,t,ce,he,a,ge)}}wc(e,N,z,P,oe,pe,g,d);return;case"select":he=N=z=ce=null;for(g in i)if(P=i[g],i.hasOwnProperty(g)&&P!=null)switch(g){case"value":break;case"multiple":he=P;default:a.hasOwnProperty(g)||ft(e,t,g,null,a,P)}for(d in a)if(g=a[d],P=i[d],a.hasOwnProperty(d)&&(g!=null||P!=null))switch(d){case"value":ce=g;break;case"defaultValue":z=g;break;case"multiple":N=g;default:g!==P&&ft(e,t,d,g,a,P)}t=z,i=N,a=he,ce!=null?nr(e,!!i,ce,!1):!!a!=!!i&&(t!=null?nr(e,!!i,t,!0):nr(e,!!i,i?[]:"",!1));return;case"textarea":he=ce=null;for(z in i)if(d=i[z],i.hasOwnProperty(z)&&d!=null&&!a.hasOwnProperty(z))switch(z){case"value":break;case"children":break;default:ft(e,t,z,null,a,d)}for(N in a)if(d=a[N],g=i[N],a.hasOwnProperty(N)&&(d!=null||g!=null))switch(N){case"value":ce=d;break;case"defaultValue":he=d;break;case"children":break;case"dangerouslySetInnerHTML":if(d!=null)throw Error(r(91));break;default:d!==g&&ft(e,t,N,d,a,g)}ud(e,ce,he);return;case"option":for(var Be in i)if(ce=i[Be],i.hasOwnProperty(Be)&&ce!=null&&!a.hasOwnProperty(Be))switch(Be){case"selected":e.selected=!1;break;default:ft(e,t,Be,null,a,ce)}for(P in a)if(ce=a[P],he=i[P],a.hasOwnProperty(P)&&ce!==he&&(ce!=null||he!=null))switch(P){case"selected":e.selected=ce&&typeof ce!="function"&&typeof ce!="symbol";break;default:ft(e,t,P,ce,a,he)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var De in i)ce=i[De],i.hasOwnProperty(De)&&ce!=null&&!a.hasOwnProperty(De)&&ft(e,t,De,null,a,ce);for(oe in a)if(ce=a[oe],he=i[oe],a.hasOwnProperty(oe)&&ce!==he&&(ce!=null||he!=null))switch(oe){case"children":case"dangerouslySetInnerHTML":if(ce!=null)throw Error(r(137,t));break;default:ft(e,t,oe,ce,a,he)}return;default:if(Ac(t)){for(var dt in i)ce=i[dt],i.hasOwnProperty(dt)&&ce!==void 0&&!a.hasOwnProperty(dt)&&ch(e,t,dt,void 0,a,ce);for(pe in a)ce=a[pe],he=i[pe],!a.hasOwnProperty(pe)||ce===he||ce===void 0&&he===void 0||ch(e,t,pe,ce,a,he);return}}for(var $ in i)ce=i[$],i.hasOwnProperty($)&&ce!=null&&!a.hasOwnProperty($)&&ft(e,t,$,null,a,ce);for(ge in a)ce=a[ge],he=i[ge],!a.hasOwnProperty(ge)||ce===he||ce==null&&he==null||ft(e,t,ge,ce,a,he)}var uh=null,hh=null;function vl(e){return e.nodeType===9?e:e.ownerDocument}function fg(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function dg(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function fh(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var dh=null;function e1(){var e=window.event;return e&&e.type==="popstate"?e===dh?!1:(dh=e,!0):(dh=null,!1)}var pg=typeof setTimeout=="function"?setTimeout:void 0,t1=typeof clearTimeout=="function"?clearTimeout:void 0,mg=typeof Promise=="function"?Promise:void 0,n1=typeof queueMicrotask=="function"?queueMicrotask:typeof mg<"u"?function(e){return mg.resolve(null).then(e).catch(s1)}:pg;function s1(e){setTimeout(function(){throw e})}function li(e){return e==="head"}function gg(e,t){var i=t,a=0,d=0;do{var g=i.nextSibling;if(e.removeChild(i),g&&g.nodeType===8)if(i=g.data,i==="/$"){if(0<a&&8>a){i=a;var N=e.ownerDocument;if(i&1&&qa(N.documentElement),i&2&&qa(N.body),i&4)for(i=N.head,qa(i),N=i.firstChild;N;){var z=N.nextSibling,P=N.nodeName;N[Ot]||P==="SCRIPT"||P==="STYLE"||P==="LINK"&&N.rel.toLowerCase()==="stylesheet"||i.removeChild(N),N=z}}if(d===0){e.removeChild(g),Ya(t);return}d--}else i==="$"||i==="$?"||i==="$!"?d++:a=i.charCodeAt(0)-48;else a=0;i=g}while(i);Ya(t)}function ph(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var i=t;switch(t=t.nextSibling,i.nodeName){case"HTML":case"HEAD":case"BODY":ph(i),Gt(i);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(i.rel.toLowerCase()==="stylesheet")continue}e.removeChild(i)}}function i1(e,t,i,a){for(;e.nodeType===1;){var d=i;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!a&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(a){if(!e[Ot])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(g=e.getAttribute("rel"),g==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(g!==d.rel||e.getAttribute("href")!==(d.href==null||d.href===""?null:d.href)||e.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin)||e.getAttribute("title")!==(d.title==null?null:d.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(g=e.getAttribute("src"),(g!==(d.src==null?null:d.src)||e.getAttribute("type")!==(d.type==null?null:d.type)||e.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin))&&g&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var g=d.name==null?null:""+d.name;if(d.type==="hidden"&&e.getAttribute("name")===g)return e}else return e;if(e=ss(e.nextSibling),e===null)break}return null}function r1(e,t,i){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!i||(e=ss(e.nextSibling),e===null))return null;return e}function mh(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function a1(e,t){var i=e.ownerDocument;if(e.data!=="$?"||i.readyState==="complete")t();else{var a=function(){t(),i.removeEventListener("DOMContentLoaded",a)};i.addEventListener("DOMContentLoaded",a),e._reactRetry=a}}function ss(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="F!"||t==="F")break;if(t==="/$")return null}}return e}var gh=null;function _g(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var i=e.data;if(i==="$"||i==="$!"||i==="$?"){if(t===0)return e;t--}else i==="/$"&&t++}e=e.previousSibling}return null}function vg(e,t,i){switch(t=vl(i),e){case"html":if(e=t.documentElement,!e)throw Error(r(452));return e;case"head":if(e=t.head,!e)throw Error(r(453));return e;case"body":if(e=t.body,!e)throw Error(r(454));return e;default:throw Error(r(451))}}function qa(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Gt(e)}var Xn=new Map,yg=new Set;function yl(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Bs=H.d;H.d={f:o1,r:l1,D:c1,C:u1,L:h1,m:f1,X:p1,S:d1,M:m1};function o1(){var e=Bs.f(),t=ul();return e||t}function l1(e){var t=$n(e);t!==null&&t.tag===5&&t.type==="form"?qp(t):Bs.r(e)}var Dr=typeof document>"u"?null:document;function bg(e,t,i){var a=Dr;if(a&&typeof t=="string"&&t){var d=Ln(t);d='link[rel="'+e+'"][href="'+d+'"]',typeof i=="string"&&(d+='[crossorigin="'+i+'"]'),yg.has(d)||(yg.add(d),e={rel:e,crossOrigin:i,href:t},a.querySelector(d)===null&&(t=a.createElement("link"),rn(t,"link",e),xt(t),a.head.appendChild(t)))}}function c1(e){Bs.D(e),bg("dns-prefetch",e,null)}function u1(e,t){Bs.C(e,t),bg("preconnect",e,t)}function h1(e,t,i){Bs.L(e,t,i);var a=Dr;if(a&&e&&t){var d='link[rel="preload"][as="'+Ln(t)+'"]';t==="image"&&i&&i.imageSrcSet?(d+='[imagesrcset="'+Ln(i.imageSrcSet)+'"]',typeof i.imageSizes=="string"&&(d+='[imagesizes="'+Ln(i.imageSizes)+'"]')):d+='[href="'+Ln(e)+'"]';var g=d;switch(t){case"style":g=Rr(e);break;case"script":g=jr(e)}Xn.has(g)||(e=m({rel:"preload",href:t==="image"&&i&&i.imageSrcSet?void 0:e,as:t},i),Xn.set(g,e),a.querySelector(d)!==null||t==="style"&&a.querySelector(Va(g))||t==="script"&&a.querySelector(La(g))||(t=a.createElement("link"),rn(t,"link",e),xt(t),a.head.appendChild(t)))}}function f1(e,t){Bs.m(e,t);var i=Dr;if(i&&e){var a=t&&typeof t.as=="string"?t.as:"script",d='link[rel="modulepreload"][as="'+Ln(a)+'"][href="'+Ln(e)+'"]',g=d;switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":g=jr(e)}if(!Xn.has(g)&&(e=m({rel:"modulepreload",href:e},t),Xn.set(g,e),i.querySelector(d)===null)){switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(i.querySelector(La(g)))return}a=i.createElement("link"),rn(a,"link",e),xt(a),i.head.appendChild(a)}}}function d1(e,t,i){Bs.S(e,t,i);var a=Dr;if(a&&e){var d=zt(a).hoistableStyles,g=Rr(e);t=t||"default";var N=d.get(g);if(!N){var z={loading:0,preload:null};if(N=a.querySelector(Va(g)))z.loading=5;else{e=m({rel:"stylesheet",href:e,"data-precedence":t},i),(i=Xn.get(g))&&_h(e,i);var P=N=a.createElement("link");xt(P),rn(P,"link",e),P._p=new Promise(function(oe,pe){P.onload=oe,P.onerror=pe}),P.addEventListener("load",function(){z.loading|=1}),P.addEventListener("error",function(){z.loading|=2}),z.loading|=4,bl(N,t,a)}N={type:"stylesheet",instance:N,count:1,state:z},d.set(g,N)}}}function p1(e,t){Bs.X(e,t);var i=Dr;if(i&&e){var a=zt(i).hoistableScripts,d=jr(e),g=a.get(d);g||(g=i.querySelector(La(d)),g||(e=m({src:e,async:!0},t),(t=Xn.get(d))&&vh(e,t),g=i.createElement("script"),xt(g),rn(g,"link",e),i.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},a.set(d,g))}}function m1(e,t){Bs.M(e,t);var i=Dr;if(i&&e){var a=zt(i).hoistableScripts,d=jr(e),g=a.get(d);g||(g=i.querySelector(La(d)),g||(e=m({src:e,async:!0,type:"module"},t),(t=Xn.get(d))&&vh(e,t),g=i.createElement("script"),xt(g),rn(g,"link",e),i.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},a.set(d,g))}}function xg(e,t,i,a){var d=(d=ve.current)?yl(d):null;if(!d)throw Error(r(446));switch(e){case"meta":case"title":return null;case"style":return typeof i.precedence=="string"&&typeof i.href=="string"?(t=Rr(i.href),i=zt(d).hoistableStyles,a=i.get(t),a||(a={type:"style",instance:null,count:0,state:null},i.set(t,a)),a):{type:"void",instance:null,count:0,state:null};case"link":if(i.rel==="stylesheet"&&typeof i.href=="string"&&typeof i.precedence=="string"){e=Rr(i.href);var g=zt(d).hoistableStyles,N=g.get(e);if(N||(d=d.ownerDocument||d,N={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},g.set(e,N),(g=d.querySelector(Va(e)))&&!g._p&&(N.instance=g,N.state.loading=5),Xn.has(e)||(i={rel:"preload",as:"style",href:i.href,crossOrigin:i.crossOrigin,integrity:i.integrity,media:i.media,hrefLang:i.hrefLang,referrerPolicy:i.referrerPolicy},Xn.set(e,i),g||g1(d,e,i,N.state))),t&&a===null)throw Error(r(528,""));return N}if(t&&a!==null)throw Error(r(529,""));return null;case"script":return t=i.async,i=i.src,typeof i=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=jr(i),i=zt(d).hoistableScripts,a=i.get(t),a||(a={type:"script",instance:null,count:0,state:null},i.set(t,a)),a):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,e))}}function Rr(e){return'href="'+Ln(e)+'"'}function Va(e){return'link[rel="stylesheet"]['+e+"]"}function Sg(e){return m({},e,{"data-precedence":e.precedence,precedence:null})}function g1(e,t,i,a){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?a.loading=1:(t=e.createElement("link"),a.preload=t,t.addEventListener("load",function(){return a.loading|=1}),t.addEventListener("error",function(){return a.loading|=2}),rn(t,"link",i),xt(t),e.head.appendChild(t))}function jr(e){return'[src="'+Ln(e)+'"]'}function La(e){return"script[async]"+e}function wg(e,t,i){if(t.count++,t.instance===null)switch(t.type){case"style":var a=e.querySelector('style[data-href~="'+Ln(i.href)+'"]');if(a)return t.instance=a,xt(a),a;var d=m({},i,{"data-href":i.href,"data-precedence":i.precedence,href:null,precedence:null});return a=(e.ownerDocument||e).createElement("style"),xt(a),rn(a,"style",d),bl(a,i.precedence,e),t.instance=a;case"stylesheet":d=Rr(i.href);var g=e.querySelector(Va(d));if(g)return t.state.loading|=4,t.instance=g,xt(g),g;a=Sg(i),(d=Xn.get(d))&&_h(a,d),g=(e.ownerDocument||e).createElement("link"),xt(g);var N=g;return N._p=new Promise(function(z,P){N.onload=z,N.onerror=P}),rn(g,"link",a),t.state.loading|=4,bl(g,i.precedence,e),t.instance=g;case"script":return g=jr(i.src),(d=e.querySelector(La(g)))?(t.instance=d,xt(d),d):(a=i,(d=Xn.get(g))&&(a=m({},i),vh(a,d)),e=e.ownerDocument||e,d=e.createElement("script"),xt(d),rn(d,"link",a),e.head.appendChild(d),t.instance=d);case"void":return null;default:throw Error(r(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(a=t.instance,t.state.loading|=4,bl(a,i.precedence,e));return t.instance}function bl(e,t,i){for(var a=i.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),d=a.length?a[a.length-1]:null,g=d,N=0;N<a.length;N++){var z=a[N];if(z.dataset.precedence===t)g=z;else if(g!==d)break}g?g.parentNode.insertBefore(e,g.nextSibling):(t=i.nodeType===9?i.head:i,t.insertBefore(e,t.firstChild))}function _h(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function vh(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var xl=null;function Tg(e,t,i){if(xl===null){var a=new Map,d=xl=new Map;d.set(i,a)}else d=xl,a=d.get(i),a||(a=new Map,d.set(i,a));if(a.has(e))return a;for(a.set(e,null),i=i.getElementsByTagName(e),d=0;d<i.length;d++){var g=i[d];if(!(g[Ot]||g[Ue]||e==="link"&&g.getAttribute("rel")==="stylesheet")&&g.namespaceURI!=="http://www.w3.org/2000/svg"){var N=g.getAttribute(t)||"";N=e+N;var z=a.get(N);z?z.push(g):a.set(N,[g])}}return a}function Ag(e,t,i){e=e.ownerDocument||e,e.head.insertBefore(i,t==="title"?e.querySelector("head > title"):null)}function _1(e,t,i){if(i===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function Ng(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}var Fa=null;function v1(){}function y1(e,t,i){if(Fa===null)throw Error(r(475));var a=Fa;if(t.type==="stylesheet"&&(typeof i.media!="string"||matchMedia(i.media).matches!==!1)&&(t.state.loading&4)===0){if(t.instance===null){var d=Rr(i.href),g=e.querySelector(Va(d));if(g){e=g._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(a.count++,a=Sl.bind(a),e.then(a,a)),t.state.loading|=4,t.instance=g,xt(g);return}g=e.ownerDocument||e,i=Sg(i),(d=Xn.get(d))&&_h(i,d),g=g.createElement("link"),xt(g);var N=g;N._p=new Promise(function(z,P){N.onload=z,N.onerror=P}),rn(g,"link",i),t.instance=g}a.stylesheets===null&&(a.stylesheets=new Map),a.stylesheets.set(t,e),(e=t.state.preload)&&(t.state.loading&3)===0&&(a.count++,t=Sl.bind(a),e.addEventListener("load",t),e.addEventListener("error",t))}}function b1(){if(Fa===null)throw Error(r(475));var e=Fa;return e.stylesheets&&e.count===0&&yh(e,e.stylesheets),0<e.count?function(t){var i=setTimeout(function(){if(e.stylesheets&&yh(e,e.stylesheets),e.unsuspend){var a=e.unsuspend;e.unsuspend=null,a()}},6e4);return e.unsuspend=t,function(){e.unsuspend=null,clearTimeout(i)}}:null}function Sl(){if(this.count--,this.count===0){if(this.stylesheets)yh(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var wl=null;function yh(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,wl=new Map,t.forEach(x1,e),wl=null,Sl.call(e))}function x1(e,t){if(!(t.state.loading&4)){var i=wl.get(e);if(i)var a=i.get(null);else{i=new Map,wl.set(e,i);for(var d=e.querySelectorAll("link[data-precedence],style[data-precedence]"),g=0;g<d.length;g++){var N=d[g];(N.nodeName==="LINK"||N.getAttribute("media")!=="not all")&&(i.set(N.dataset.precedence,N),a=N)}a&&i.set(null,a)}d=t.instance,N=d.getAttribute("data-precedence"),g=i.get(N)||a,g===a&&i.set(null,d),i.set(N,d),this.count++,a=Sl.bind(this),d.addEventListener("load",a),d.addEventListener("error",a),g?g.parentNode.insertBefore(d,g.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(d,e.firstChild)),t.state.loading|=4}}var Ha={$$typeof:M,Provider:null,Consumer:null,_currentValue:ue,_currentValue2:ue,_threadCount:0};function S1(e,t,i,a,d,g,N,z){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Fe(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Fe(0),this.hiddenUpdates=Fe(null),this.identifierPrefix=a,this.onUncaughtError=d,this.onCaughtError=g,this.onRecoverableError=N,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=z,this.incompleteTransitions=new Map}function kg(e,t,i,a,d,g,N,z,P,oe,pe,ge){return e=new S1(e,t,i,N,z,P,oe,ge),t=1,g===!0&&(t|=24),g=Cn(3,null,null,t),e.current=g,g.stateNode=e,t=eu(),t.refCount++,e.pooledCache=t,t.refCount++,g.memoizedState={element:a,isDehydrated:i,cache:t},iu(g),e}function Cg(e){return e?(e=hr,e):hr}function Eg(e,t,i,a,d,g){d=Cg(d),a.context===null?a.context=d:a.pendingContext=d,a=Ws(t),a.payload={element:i},g=g===void 0?null:g,g!==null&&(a.callback=g),i=Qs(e,a,t),i!==null&&(Rn(i,e,t),ya(i,e,t))}function Og(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var i=e.retryLane;e.retryLane=i!==0&&i<t?i:t}}function bh(e,t){Og(e,t),(e=e.alternate)&&Og(e,t)}function Mg(e){if(e.tag===13){var t=ur(e,67108864);t!==null&&Rn(t,e,67108864),bh(e,67108864)}}var Tl=!0;function w1(e,t,i,a){var d=G.T;G.T=null;var g=H.p;try{H.p=2,xh(e,t,i,a)}finally{H.p=g,G.T=d}}function T1(e,t,i,a){var d=G.T;G.T=null;var g=H.p;try{H.p=8,xh(e,t,i,a)}finally{H.p=g,G.T=d}}function xh(e,t,i,a){if(Tl){var d=Sh(a);if(d===null)lh(e,t,a,Al,i),Rg(e,a);else if(N1(d,e,t,i,a))a.stopPropagation();else if(Rg(e,a),t&4&&-1<A1.indexOf(e)){for(;d!==null;){var g=$n(d);if(g!==null)switch(g.tag){case 3:if(g=g.stateNode,g.current.memoizedState.isDehydrated){var N=_n(g.pendingLanes);if(N!==0){var z=g;for(z.pendingLanes|=2,z.entangledLanes|=2;N;){var P=1<<31-rt(N);z.entanglements[1]|=P,N&=~P}gs(g),(ct&6)===0&&(ll=F()+500,Ua(0))}}break;case 13:z=ur(g,2),z!==null&&Rn(z,g,2),ul(),bh(g,2)}if(g=Sh(a),g===null&&lh(e,t,a,Al,i),g===d)break;d=g}d!==null&&a.stopPropagation()}else lh(e,t,a,null,i)}}function Sh(e){return e=kc(e),wh(e)}var Al=null;function wh(e){if(Al=null,e=on(e),e!==null){var t=l(e);if(t===null)e=null;else{var i=t.tag;if(i===13){if(e=h(t),e!==null)return e;e=null}else if(i===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Al=e,null}function Dg(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(q()){case Y:return 2;case fe:return 8;case de:case se:return 32;case ye:return 268435456;default:return 32}default:return 32}}var Th=!1,ci=null,ui=null,hi=null,Ga=new Map,Pa=new Map,fi=[],A1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Rg(e,t){switch(e){case"focusin":case"focusout":ci=null;break;case"dragenter":case"dragleave":ui=null;break;case"mouseover":case"mouseout":hi=null;break;case"pointerover":case"pointerout":Ga.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pa.delete(t.pointerId)}}function Za(e,t,i,a,d,g){return e===null||e.nativeEvent!==g?(e={blockedOn:t,domEventName:i,eventSystemFlags:a,nativeEvent:g,targetContainers:[d]},t!==null&&(t=$n(t),t!==null&&Mg(t)),e):(e.eventSystemFlags|=a,t=e.targetContainers,d!==null&&t.indexOf(d)===-1&&t.push(d),e)}function N1(e,t,i,a,d){switch(t){case"focusin":return ci=Za(ci,e,t,i,a,d),!0;case"dragenter":return ui=Za(ui,e,t,i,a,d),!0;case"mouseover":return hi=Za(hi,e,t,i,a,d),!0;case"pointerover":var g=d.pointerId;return Ga.set(g,Za(Ga.get(g)||null,e,t,i,a,d)),!0;case"gotpointercapture":return g=d.pointerId,Pa.set(g,Za(Pa.get(g)||null,e,t,i,a,d)),!0}return!1}function jg(e){var t=on(e.target);if(t!==null){var i=l(t);if(i!==null){if(t=i.tag,t===13){if(t=h(i),t!==null){e.blockedOn=t,vn(e.priority,function(){if(i.tag===13){var a=Dn();a=kt(a);var d=ur(i,a);d!==null&&Rn(d,i,a),bh(i,a)}});return}}else if(t===3&&i.stateNode.current.memoizedState.isDehydrated){e.blockedOn=i.tag===3?i.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Nl(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var i=Sh(e.nativeEvent);if(i===null){i=e.nativeEvent;var a=new i.constructor(i.type,i);Nc=a,i.target.dispatchEvent(a),Nc=null}else return t=$n(i),t!==null&&Mg(t),e.blockedOn=i,!1;t.shift()}return!0}function zg(e,t,i){Nl(e)&&i.delete(t)}function k1(){Th=!1,ci!==null&&Nl(ci)&&(ci=null),ui!==null&&Nl(ui)&&(ui=null),hi!==null&&Nl(hi)&&(hi=null),Ga.forEach(zg),Pa.forEach(zg)}function kl(e,t){e.blockedOn===t&&(e.blockedOn=null,Th||(Th=!0,c.unstable_scheduleCallback(c.unstable_NormalPriority,k1)))}var Cl=null;function Ug(e){Cl!==e&&(Cl=e,c.unstable_scheduleCallback(c.unstable_NormalPriority,function(){Cl===e&&(Cl=null);for(var t=0;t<e.length;t+=3){var i=e[t],a=e[t+1],d=e[t+2];if(typeof a!="function"){if(wh(a||i)===null)continue;break}var g=$n(i);g!==null&&(e.splice(t,3),t-=3,wu(g,{pending:!0,data:d,method:i.method,action:a},a,d))}}))}function Ya(e){function t(P){return kl(P,e)}ci!==null&&kl(ci,e),ui!==null&&kl(ui,e),hi!==null&&kl(hi,e),Ga.forEach(t),Pa.forEach(t);for(var i=0;i<fi.length;i++){var a=fi[i];a.blockedOn===e&&(a.blockedOn=null)}for(;0<fi.length&&(i=fi[0],i.blockedOn===null);)jg(i),i.blockedOn===null&&fi.shift();if(i=(e.ownerDocument||e).$$reactFormReplay,i!=null)for(a=0;a<i.length;a+=3){var d=i[a],g=i[a+1],N=d[Pe]||null;if(typeof g=="function")N||Ug(i);else if(N){var z=null;if(g&&g.hasAttribute("formAction")){if(d=g,N=g[Pe]||null)z=N.formAction;else if(wh(d)!==null)continue}else z=N.action;typeof z=="function"?i[a+1]=z:(i.splice(a,3),a-=3),Ug(i)}}}function Ah(e){this._internalRoot=e}El.prototype.render=Ah.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(r(409));var i=t.current,a=Dn();Eg(i,a,e,t,null,null)},El.prototype.unmount=Ah.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Eg(e.current,2,null,e,null,null),ul(),t[Re]=null}};function El(e){this._internalRoot=e}El.prototype.unstable_scheduleHydration=function(e){if(e){var t=Kn();e={blockedOn:null,target:e,priority:t};for(var i=0;i<fi.length&&t!==0&&t<fi[i].priority;i++);fi.splice(i,0,e),i===0&&jg(e)}};var Bg=n.version;if(Bg!=="19.1.1")throw Error(r(527,Bg,"19.1.1"));H.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(r(188)):(e=Object.keys(e).join(","),Error(r(268,e)));return e=f(t),e=e!==null?p(e):null,e=e===null?null:e.stateNode,e};var C1={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:G,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ol=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ol.isDisabled&&Ol.supportsFiber)try{Te=Ol.inject(C1),Ie=Ol}catch{}}return Wa.createRoot=function(e,t){if(!o(e))throw Error(r(299));var i=!1,a="",d=$p,g=em,N=tm,z=null;return t!=null&&(t.unstable_strictMode===!0&&(i=!0),t.identifierPrefix!==void 0&&(a=t.identifierPrefix),t.onUncaughtError!==void 0&&(d=t.onUncaughtError),t.onCaughtError!==void 0&&(g=t.onCaughtError),t.onRecoverableError!==void 0&&(N=t.onRecoverableError),t.unstable_transitionCallbacks!==void 0&&(z=t.unstable_transitionCallbacks)),t=kg(e,1,!1,null,null,i,a,d,g,N,z,null),e[Re]=t.current,oh(e),new Ah(t)},Wa.hydrateRoot=function(e,t,i){if(!o(e))throw Error(r(299));var a=!1,d="",g=$p,N=em,z=tm,P=null,oe=null;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(d=i.identifierPrefix),i.onUncaughtError!==void 0&&(g=i.onUncaughtError),i.onCaughtError!==void 0&&(N=i.onCaughtError),i.onRecoverableError!==void 0&&(z=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(P=i.unstable_transitionCallbacks),i.formState!==void 0&&(oe=i.formState)),t=kg(e,1,!0,t,i??null,a,d,g,N,z,P,oe),t.context=Cg(null),i=t.current,a=Dn(),a=kt(a),d=Ws(a),d.callback=null,Qs(i,d,a),i=a,t.current.lanes=i,Ve(t,i),gs(t),e[Re]=t.current,oh(e),new El(t)},Wa.version="19.1.1",Wa}var Yg;function I1(){if(Yg)return Ch.exports;Yg=1;function c(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(c)}catch(n){console.error(n)}}return c(),Ch.exports=B1(),Ch.exports}var q1=I1();const V1=ec(q1),e_="15.1.22",Xg=(c,n,s)=>({endTime:n,insertTime:s,type:"exponentialRampToValue",value:c}),Wg=(c,n,s)=>({endTime:n,insertTime:s,type:"linearRampToValue",value:c}),ef=(c,n)=>({startTime:n,type:"setValue",value:c}),t_=(c,n,s)=>({duration:s,startTime:n,type:"setValueCurve",values:c}),n_=(c,n,{startTime:s,target:r,timeConstant:o})=>r+(n-r)*Math.exp((s-c)/o),Ur=c=>c.type==="exponentialRampToValue",Vl=c=>c.type==="linearRampToValue",mi=c=>Ur(c)||Vl(c),gf=c=>c.type==="setValue",qs=c=>c.type==="setValueCurve",Ll=(c,n,s,r)=>{const o=c[n];return o===void 0?r:mi(o)||gf(o)?o.value:qs(o)?o.values[o.values.length-1]:n_(s,Ll(c,n-1,o.startTime,r),o)},Qg=(c,n,s,r,o)=>s===void 0?[r.insertTime,o]:mi(s)?[s.endTime,s.value]:gf(s)?[s.startTime,s.value]:qs(s)?[s.startTime+s.duration,s.values[s.values.length-1]]:[s.startTime,Ll(c,n-1,s.startTime,o)],tf=c=>c.type==="cancelAndHold",nf=c=>c.type==="cancelScheduledValues",pi=c=>tf(c)||nf(c)?c.cancelTime:Ur(c)||Vl(c)?c.endTime:c.startTime,Kg=(c,n,s,{endTime:r,value:o})=>s===o?o:0<s&&0<o||s<0&&o<0?s*(o/s)**((c-n)/(r-n)):0,Jg=(c,n,s,{endTime:r,value:o})=>s+(c-n)/(r-n)*(o-s),L1=(c,n)=>{const s=Math.floor(n),r=Math.ceil(n);return s===r?c[s]:(1-(n-s))*c[s]+(1-(r-n))*c[r]},F1=(c,{duration:n,startTime:s,values:r})=>{const o=(c-s)/n*(r.length-1);return L1(r,o)},Dl=c=>c.type==="setTarget";class H1{constructor(n){this._automationEvents=[],this._currenTime=0,this._defaultValue=n}[Symbol.iterator](){return this._automationEvents[Symbol.iterator]()}add(n){const s=pi(n);if(tf(n)||nf(n)){const r=this._automationEvents.findIndex(l=>nf(n)&&qs(l)?l.startTime+l.duration>=s:pi(l)>=s),o=this._automationEvents[r];if(r!==-1&&(this._automationEvents=this._automationEvents.slice(0,r)),tf(n)){const l=this._automationEvents[this._automationEvents.length-1];if(o!==void 0&&mi(o)){if(l!==void 0&&Dl(l))throw new Error("The internal list is malformed.");const h=l===void 0?o.insertTime:qs(l)?l.startTime+l.duration:pi(l),u=l===void 0?this._defaultValue:qs(l)?l.values[l.values.length-1]:l.value,f=Ur(o)?Kg(s,h,u,o):Jg(s,h,u,o),p=Ur(o)?Xg(f,s,this._currenTime):Wg(f,s,this._currenTime);this._automationEvents.push(p)}if(l!==void 0&&Dl(l)&&this._automationEvents.push(ef(this.getValue(s),s)),l!==void 0&&qs(l)&&l.startTime+l.duration>s){const h=s-l.startTime,u=(l.values.length-1)/l.duration,f=Math.max(2,1+Math.ceil(h*u)),p=h/(f-1)*u,m=l.values.slice(0,f);if(p<1)for(let _=1;_<f;_+=1){const b=p*_%1;m[_]=l.values[_-1]*(1-b)+l.values[_]*b}this._automationEvents[this._automationEvents.length-1]=t_(m,l.startTime,h)}}}else{const r=this._automationEvents.findIndex(h=>pi(h)>s),o=r===-1?this._automationEvents[this._automationEvents.length-1]:this._automationEvents[r-1];if(o!==void 0&&qs(o)&&pi(o)+o.duration>s)return!1;const l=Ur(n)?Xg(n.value,n.endTime,this._currenTime):Vl(n)?Wg(n.value,s,this._currenTime):n;if(r===-1)this._automationEvents.push(l);else{if(qs(n)&&s+n.duration>pi(this._automationEvents[r]))return!1;this._automationEvents.splice(r,0,l)}}return!0}flush(n){const s=this._automationEvents.findIndex(r=>pi(r)>n);if(s>1){const r=this._automationEvents.slice(s-1),o=r[0];Dl(o)&&r.unshift(ef(Ll(this._automationEvents,s-2,o.startTime,this._defaultValue),o.startTime)),this._automationEvents=r}}getValue(n){if(this._automationEvents.length===0)return this._defaultValue;const s=this._automationEvents.findIndex(h=>pi(h)>n),r=this._automationEvents[s],o=(s===-1?this._automationEvents.length:s)-1,l=this._automationEvents[o];if(l!==void 0&&Dl(l)&&(r===void 0||!mi(r)||r.insertTime>n))return n_(n,Ll(this._automationEvents,o-1,l.startTime,this._defaultValue),l);if(l!==void 0&&gf(l)&&(r===void 0||!mi(r)))return l.value;if(l!==void 0&&qs(l)&&(r===void 0||!mi(r)||l.startTime+l.duration>n))return n<l.startTime+l.duration?F1(n,l):l.values[l.values.length-1];if(l!==void 0&&mi(l)&&(r===void 0||!mi(r)))return l.value;if(r!==void 0&&Ur(r)){const[h,u]=Qg(this._automationEvents,o,l,r,this._defaultValue);return Kg(n,h,u,r)}if(r!==void 0&&Vl(r)){const[h,u]=Qg(this._automationEvents,o,l,r,this._defaultValue);return Jg(n,h,u,r)}return this._defaultValue}}const G1=c=>({cancelTime:c,type:"cancelAndHold"}),P1=c=>({cancelTime:c,type:"cancelScheduledValues"}),Z1=(c,n)=>({endTime:n,type:"exponentialRampToValue",value:c}),Y1=(c,n)=>({endTime:n,type:"linearRampToValue",value:c}),X1=(c,n,s)=>({startTime:n,target:c,timeConstant:s,type:"setTarget"}),W1=()=>new DOMException("","AbortError"),Q1=c=>(n,s,[r,o,l],h)=>{c(n[o],[s,r,l],u=>u[0]===s&&u[1]===r,h)},K1=c=>(n,s,r)=>{const o=[];for(let l=0;l<r.numberOfInputs;l+=1)o.push(new Set);c.set(n,{activeInputs:o,outputs:new Set,passiveInputs:new WeakMap,renderer:s})},J1=c=>(n,s)=>{c.set(n,{activeInputs:new Set,passiveInputs:new WeakMap,renderer:s})},Lr=new WeakSet,s_=new WeakMap,_f=new WeakMap,i_=new WeakMap,vf=new WeakMap,tc=new WeakMap,r_=new WeakMap,sf=new WeakMap,rf=new WeakMap,af=new WeakMap,a_={construct(){return a_}},$1=c=>{try{const n=new Proxy(c,a_);new n}catch{return!1}return!0},$g=/^import(?:(?:[\s]+[\w]+|(?:[\s]+[\w]+[\s]*,)?[\s]*\{[\s]*[\w]+(?:[\s]+as[\s]+[\w]+)?(?:[\s]*,[\s]*[\w]+(?:[\s]+as[\s]+[\w]+)?)*[\s]*}|(?:[\s]+[\w]+[\s]*,)?[\s]*\*[\s]+as[\s]+[\w]+)[\s]+from)?(?:[\s]*)("([^"\\]|\\.)+"|'([^'\\]|\\.)+')(?:[\s]*);?/,e0=(c,n)=>{const s=[];let r=c.replace(/^[\s]+/,""),o=r.match($g);for(;o!==null;){const l=o[1].slice(1,-1),h=o[0].replace(/([\s]+)?;?$/,"").replace(l,new URL(l,n).toString());s.push(h),r=r.slice(o[0].length).replace(/^[\s]+/,""),o=r.match($g)}return[s.join(";"),r]},t0=c=>{if(c!==void 0&&!Array.isArray(c))throw new TypeError("The parameterDescriptors property of given value for processorCtor is not an array.")},n0=c=>{if(!$1(c))throw new TypeError("The given value for processorCtor should be a constructor.");if(c.prototype===null||typeof c.prototype!="object")throw new TypeError("The given value for processorCtor should have a prototype.")},eb=(c,n,s,r,o,l,h,u,f,p,m,_,b)=>{let v=0;return(x,y,S={credentials:"omit"})=>{const w=m.get(x);if(w!==void 0&&w.has(y))return Promise.resolve();const C=p.get(x);if(C!==void 0){const k=C.get(y);if(k!==void 0)return k}const M=l(x),O=M.audioWorklet===void 0?o(y).then(([k,I])=>{const[B,D]=e0(k,I),V=`${B};((a,b)=>{(a[b]=a[b]||[]).push((AudioWorkletProcessor,global,registerProcessor,sampleRate,self,window)=>{${D}
})})(window,'_AWGS')`;return s(V)}).then(()=>{const k=b._AWGS.pop();if(k===void 0)throw new SyntaxError;r(M.currentTime,M.sampleRate,()=>k(class{},void 0,(I,B)=>{if(I.trim()==="")throw n();const D=rf.get(M);if(D!==void 0){if(D.has(I))throw n();n0(B),t0(B.parameterDescriptors),D.set(I,B)}else n0(B),t0(B.parameterDescriptors),rf.set(M,new Map([[I,B]]))},M.sampleRate,void 0,void 0))}):Promise.all([o(y),Promise.resolve(c(_,_))]).then(([[k,I],B])=>{const D=v+1;v=D;const[V,Z]=e0(k,I),A=`${V};((AudioWorkletProcessor,registerProcessor)=>{${Z}
})(${B?"AudioWorkletProcessor":"class extends AudioWorkletProcessor {__b=new WeakSet();constructor(){super();(p=>p.postMessage=(q=>(m,t)=>q.call(p,m,t?t.filter(u=>!this.__b.has(u)):t))(p.postMessage))(this.port)}}"},(n,p)=>registerProcessor(n,class extends p{${B?"":"__c = (a) => a.forEach(e=>this.__b.add(e.buffer));"}process(i,o,p){${B?"":"i.forEach(this.__c);o.forEach(this.__c);this.__c(Object.values(p));"}return super.process(i.map(j=>j.some(k=>k.length===0)?[]:j),o,p)}}));registerProcessor('__sac${D}',class extends AudioWorkletProcessor{process(){return !1}})`,J=new Blob([A],{type:"application/javascript; charset=utf-8"}),G=URL.createObjectURL(J);return M.audioWorklet.addModule(G,S).then(()=>{if(u(M))return M;const H=h(M);return H.audioWorklet.addModule(G,S).then(()=>H)}).then(H=>{if(f===null)throw new SyntaxError;try{new f(H,`__sac${D}`)}catch{throw new SyntaxError}}).finally(()=>URL.revokeObjectURL(G))});return C===void 0?p.set(x,new Map([[y,O]])):C.set(y,O),O.then(()=>{const k=m.get(x);k===void 0?m.set(x,new Set([y])):k.add(y)}).finally(()=>{const k=p.get(x);k!==void 0&&k.delete(y)}),O}},os=(c,n)=>{const s=c.get(n);if(s===void 0)throw new Error("A value with the given key could not be found.");return s},nc=(c,n)=>{const s=Array.from(c).filter(n);if(s.length>1)throw Error("More than one element was found.");if(s.length===0)throw Error("No element was found.");const[r]=s;return c.delete(r),r},o_=(c,n,s,r)=>{const o=os(c,n),l=nc(o,h=>h[0]===s&&h[1]===r);return o.size===0&&c.delete(n),l},ao=c=>os(r_,c),Fr=c=>{if(Lr.has(c))throw new Error("The AudioNode is already stored.");Lr.add(c),ao(c).forEach(n=>n(!0))},l_=c=>"port"in c,oo=c=>{if(!Lr.has(c))throw new Error("The AudioNode is not stored.");Lr.delete(c),ao(c).forEach(n=>n(!1))},of=(c,n)=>{!l_(c)&&n.every(s=>s.size===0)&&oo(c)},tb=(c,n,s,r,o,l,h,u,f,p,m,_,b)=>{const v=new WeakMap;return(x,y,S,w,C)=>{const{activeInputs:M,passiveInputs:O}=l(y),{outputs:k}=l(x),I=u(x),B=D=>{const V=f(y),Z=f(x);if(D){const ne=o_(O,x,S,w);c(M,x,ne,!1),!C&&!_(x)&&s(Z,V,S,w),b(y)&&Fr(y)}else{const ne=r(M,x,S,w);n(O,w,ne,!1),!C&&!_(x)&&o(Z,V,S,w);const j=h(y);if(j===0)m(y)&&of(y,M);else{const X=v.get(y);X!==void 0&&clearTimeout(X),v.set(y,setTimeout(()=>{m(y)&&of(y,M)},j*1e3))}}};return p(k,[y,S,w],D=>D[0]===y&&D[1]===S&&D[2]===w,!0)?(I.add(B),m(x)?c(M,x,[S,w,B],!0):n(O,w,[x,S,B],!0),!0):!1}},nb=c=>(n,s,[r,o,l],h)=>{const u=n.get(r);u===void 0?n.set(r,new Set([[o,s,l]])):c(u,[o,s,l],f=>f[0]===o&&f[1]===s,h)},sb=c=>(n,s)=>{const r=c(n,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});s.connect(r).connect(n.destination);const o=()=>{s.removeEventListener("ended",o),s.disconnect(r),r.disconnect()};s.addEventListener("ended",o)},ib=c=>(n,s)=>{c(n).add(s)},rb={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",fftSize:2048,maxDecibels:-30,minDecibels:-100,smoothingTimeConstant:.8},ab=(c,n,s,r,o,l)=>class extends c{constructor(u,f){const p=o(u),m={...rb,...f},_=r(p,m),b=l(p)?n():null;super(u,!1,_,b),this._nativeAnalyserNode=_}get fftSize(){return this._nativeAnalyserNode.fftSize}set fftSize(u){this._nativeAnalyserNode.fftSize=u}get frequencyBinCount(){return this._nativeAnalyserNode.frequencyBinCount}get maxDecibels(){return this._nativeAnalyserNode.maxDecibels}set maxDecibels(u){const f=this._nativeAnalyserNode.maxDecibels;if(this._nativeAnalyserNode.maxDecibels=u,!(u>this._nativeAnalyserNode.minDecibels))throw this._nativeAnalyserNode.maxDecibels=f,s()}get minDecibels(){return this._nativeAnalyserNode.minDecibels}set minDecibels(u){const f=this._nativeAnalyserNode.minDecibels;if(this._nativeAnalyserNode.minDecibels=u,!(this._nativeAnalyserNode.maxDecibels>u))throw this._nativeAnalyserNode.minDecibels=f,s()}get smoothingTimeConstant(){return this._nativeAnalyserNode.smoothingTimeConstant}set smoothingTimeConstant(u){this._nativeAnalyserNode.smoothingTimeConstant=u}getByteFrequencyData(u){this._nativeAnalyserNode.getByteFrequencyData(u)}getByteTimeDomainData(u){this._nativeAnalyserNode.getByteTimeDomainData(u)}getFloatFrequencyData(u){this._nativeAnalyserNode.getFloatFrequencyData(u)}getFloatTimeDomainData(u){this._nativeAnalyserNode.getFloatTimeDomainData(u)}},hn=(c,n)=>c.context===n,ob=(c,n,s)=>()=>{const r=new WeakMap,o=async(l,h)=>{let u=n(l);if(!hn(u,h)){const p={channelCount:u.channelCount,channelCountMode:u.channelCountMode,channelInterpretation:u.channelInterpretation,fftSize:u.fftSize,maxDecibels:u.maxDecibels,minDecibels:u.minDecibels,smoothingTimeConstant:u.smoothingTimeConstant};u=c(h,p)}return r.set(h,u),await s(l,h,u),u};return{render(l,h){const u=r.get(h);return u!==void 0?Promise.resolve(u):o(l,h)}}},Fl=c=>{try{c.copyToChannel(new Float32Array(1),0,-1)}catch{return!1}return!0},vs=()=>new DOMException("","IndexSizeError"),yf=c=>{c.getChannelData=(n=>s=>{try{return n.call(c,s)}catch(r){throw r.code===12?vs():r}})(c.getChannelData)},lb={numberOfChannels:1},cb=(c,n,s,r,o,l,h,u)=>{let f=null;return class c_{constructor(m){if(o===null)throw new Error("Missing the native OfflineAudioContext constructor.");const{length:_,numberOfChannels:b,sampleRate:v}={...lb,...m};f===null&&(f=new o(1,1,44100));const x=r!==null&&n(l,l)?new r({length:_,numberOfChannels:b,sampleRate:v}):f.createBuffer(b,_,v);if(x.numberOfChannels===0)throw s();return typeof x.copyFromChannel!="function"?(h(x),yf(x)):n(Fl,()=>Fl(x))||u(x),c.add(x),x}static[Symbol.hasInstance](m){return m!==null&&typeof m=="object"&&Object.getPrototypeOf(m)===c_.prototype||c.has(m)}}},Tn=-34028234663852886e22,pn=-Tn,Vs=c=>Lr.has(c),ub={buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1},hb=(c,n,s,r,o,l,h,u)=>class extends c{constructor(p,m){const _=l(p),b={...ub,...m},v=o(_,b),x=h(_),y=x?n():null;super(p,!1,v,y),this._audioBufferSourceNodeRenderer=y,this._isBufferNullified=!1,this._isBufferSet=b.buffer!==null,this._nativeAudioBufferSourceNode=v,this._onended=null,this._playbackRate=s(this,x,v.playbackRate,pn,Tn)}get buffer(){return this._isBufferNullified?null:this._nativeAudioBufferSourceNode.buffer}set buffer(p){if(this._nativeAudioBufferSourceNode.buffer=p,p!==null){if(this._isBufferSet)throw r();this._isBufferSet=!0}}get loop(){return this._nativeAudioBufferSourceNode.loop}set loop(p){this._nativeAudioBufferSourceNode.loop=p}get loopEnd(){return this._nativeAudioBufferSourceNode.loopEnd}set loopEnd(p){this._nativeAudioBufferSourceNode.loopEnd=p}get loopStart(){return this._nativeAudioBufferSourceNode.loopStart}set loopStart(p){this._nativeAudioBufferSourceNode.loopStart=p}get onended(){return this._onended}set onended(p){const m=typeof p=="function"?u(this,p):null;this._nativeAudioBufferSourceNode.onended=m;const _=this._nativeAudioBufferSourceNode.onended;this._onended=_!==null&&_===m?p:_}get playbackRate(){return this._playbackRate}start(p=0,m=0,_){if(this._nativeAudioBufferSourceNode.start(p,m,_),this._audioBufferSourceNodeRenderer!==null&&(this._audioBufferSourceNodeRenderer.start=_===void 0?[p,m]:[p,m,_]),this.context.state!=="closed"){Fr(this);const b=()=>{this._nativeAudioBufferSourceNode.removeEventListener("ended",b),Vs(this)&&oo(this)};this._nativeAudioBufferSourceNode.addEventListener("ended",b)}}stop(p=0){this._nativeAudioBufferSourceNode.stop(p),this._audioBufferSourceNodeRenderer!==null&&(this._audioBufferSourceNodeRenderer.stop=p)}},fb=(c,n,s,r,o)=>()=>{const l=new WeakMap;let h=null,u=null;const f=async(p,m)=>{let _=s(p);const b=hn(_,m);if(!b){const v={buffer:_.buffer,channelCount:_.channelCount,channelCountMode:_.channelCountMode,channelInterpretation:_.channelInterpretation,loop:_.loop,loopEnd:_.loopEnd,loopStart:_.loopStart,playbackRate:_.playbackRate.value};_=n(m,v),h!==null&&_.start(...h),u!==null&&_.stop(u)}return l.set(m,_),b?await c(m,p.playbackRate,_.playbackRate):await r(m,p.playbackRate,_.playbackRate),await o(p,m,_),_};return{set start(p){h=p},set stop(p){u=p},render(p,m){const _=l.get(m);return _!==void 0?Promise.resolve(_):f(p,m)}}},db=c=>"playbackRate"in c,pb=c=>"frequency"in c&&"gain"in c,mb=c=>"offset"in c,gb=c=>!("frequency"in c)&&"gain"in c,_b=c=>"detune"in c&&"frequency"in c&&!("gain"in c),vb=c=>"pan"in c,mn=c=>os(s_,c),lo=c=>os(i_,c),lf=(c,n)=>{const{activeInputs:s}=mn(c);s.forEach(o=>o.forEach(([l])=>{n.includes(c)||lf(l,[...n,c])}));const r=db(c)?[c.playbackRate]:l_(c)?Array.from(c.parameters.values()):pb(c)?[c.Q,c.detune,c.frequency,c.gain]:mb(c)?[c.offset]:gb(c)?[c.gain]:_b(c)?[c.detune,c.frequency]:vb(c)?[c.pan]:[];for(const o of r){const l=lo(o);l!==void 0&&l.activeInputs.forEach(([h])=>lf(h,n))}Vs(c)&&oo(c)},u_=c=>{lf(c.destination,[])},yb=c=>c===void 0||typeof c=="number"||typeof c=="string"&&(c==="balanced"||c==="interactive"||c==="playback"),bb=(c,n,s,r,o,l,h,u,f)=>class extends c{constructor(m={}){if(f===null)throw new Error("Missing the native AudioContext constructor.");let _;try{_=new f(m)}catch(x){throw x.code===12&&x.message==="sampleRate is not in range"?s():x}if(_===null)throw r();if(!yb(m.latencyHint))throw new TypeError(`The provided value '${m.latencyHint}' is not a valid enum value of type AudioContextLatencyCategory.`);if(m.sampleRate!==void 0&&_.sampleRate!==m.sampleRate)throw s();super(_,2);const{latencyHint:b}=m,{sampleRate:v}=_;if(this._baseLatency=typeof _.baseLatency=="number"?_.baseLatency:b==="balanced"?512/v:b==="interactive"||b===void 0?256/v:b==="playback"?1024/v:Math.max(2,Math.min(128,Math.round(b*v/128)))*128/v,this._nativeAudioContext=_,f.name==="webkitAudioContext"?(this._nativeGainNode=_.createGain(),this._nativeOscillatorNode=_.createOscillator(),this._nativeGainNode.gain.value=1e-37,this._nativeOscillatorNode.connect(this._nativeGainNode).connect(_.destination),this._nativeOscillatorNode.start()):(this._nativeGainNode=null,this._nativeOscillatorNode=null),this._state=null,_.state==="running"){this._state="suspended";const x=()=>{this._state==="suspended"&&(this._state=null),_.removeEventListener("statechange",x)};_.addEventListener("statechange",x)}}get baseLatency(){return this._baseLatency}get state(){return this._state!==null?this._state:this._nativeAudioContext.state}close(){return this.state==="closed"?this._nativeAudioContext.close().then(()=>{throw n()}):(this._state==="suspended"&&(this._state=null),this._nativeAudioContext.close().then(()=>{this._nativeGainNode!==null&&this._nativeOscillatorNode!==null&&(this._nativeOscillatorNode.stop(),this._nativeGainNode.disconnect(),this._nativeOscillatorNode.disconnect()),u_(this)}))}createMediaElementSource(m){return new o(this,{mediaElement:m})}createMediaStreamDestination(){return new l(this)}createMediaStreamSource(m){return new h(this,{mediaStream:m})}createMediaStreamTrackSource(m){return new u(this,{mediaStreamTrack:m})}resume(){return this._state==="suspended"?new Promise((m,_)=>{const b=()=>{this._nativeAudioContext.removeEventListener("statechange",b),this._nativeAudioContext.state==="running"?m():this.resume().then(m,_)};this._nativeAudioContext.addEventListener("statechange",b)}):this._nativeAudioContext.resume().catch(m=>{throw m===void 0||m.code===15?n():m})}suspend(){return this._nativeAudioContext.suspend().catch(m=>{throw m===void 0?n():m})}},xb=(c,n,s,r,o,l,h,u)=>class extends c{constructor(p,m){const _=l(p),b=h(_),v=o(_,m,b),x=b?n(u):null;super(p,!1,v,x),this._isNodeOfNativeOfflineAudioContext=b,this._nativeAudioDestinationNode=v}get channelCount(){return this._nativeAudioDestinationNode.channelCount}set channelCount(p){if(this._isNodeOfNativeOfflineAudioContext)throw r();if(p>this._nativeAudioDestinationNode.maxChannelCount)throw s();this._nativeAudioDestinationNode.channelCount=p}get channelCountMode(){return this._nativeAudioDestinationNode.channelCountMode}set channelCountMode(p){if(this._isNodeOfNativeOfflineAudioContext)throw r();this._nativeAudioDestinationNode.channelCountMode=p}get maxChannelCount(){return this._nativeAudioDestinationNode.maxChannelCount}},Sb=c=>{const n=new WeakMap,s=async(r,o)=>{const l=o.destination;return n.set(o,l),await c(r,o,l),l};return{render(r,o){const l=n.get(o);return l!==void 0?Promise.resolve(l):s(r,o)}}},wb=(c,n,s,r,o,l,h,u)=>(f,p)=>{const m=p.listener,_=()=>{const k=new Float32Array(1),I=n(p,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:9}),B=h(p);let D=!1,V=[0,0,-1,0,1,0],Z=[0,0,0];const ne=()=>{if(D)return;D=!0;const J=r(p,256,9,0);J.onaudioprocess=({inputBuffer:G})=>{const H=[l(G,k,0),l(G,k,1),l(G,k,2),l(G,k,3),l(G,k,4),l(G,k,5)];H.some((ee,R)=>ee!==V[R])&&(m.setOrientation(...H),V=H);const ue=[l(G,k,6),l(G,k,7),l(G,k,8)];ue.some((ee,R)=>ee!==Z[R])&&(m.setPosition(...ue),Z=ue)},I.connect(J)},j=J=>G=>{G!==V[J]&&(V[J]=G,m.setOrientation(...V))},X=J=>G=>{G!==Z[J]&&(Z[J]=G,m.setPosition(...Z))},A=(J,G,H)=>{const ue=s(p,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:G});ue.connect(I,0,J),ue.start(),Object.defineProperty(ue.offset,"defaultValue",{get(){return G}});const ee=c({context:f},B,ue.offset,pn,Tn);return u(ee,"value",R=>()=>R.call(ee),R=>U=>{try{R.call(ee,U)}catch(L){if(L.code!==9)throw L}ne(),B&&H(U)}),ee.cancelAndHoldAtTime=(R=>B?()=>{throw o()}:(...U)=>{const L=R.apply(ee,U);return ne(),L})(ee.cancelAndHoldAtTime),ee.cancelScheduledValues=(R=>B?()=>{throw o()}:(...U)=>{const L=R.apply(ee,U);return ne(),L})(ee.cancelScheduledValues),ee.exponentialRampToValueAtTime=(R=>B?()=>{throw o()}:(...U)=>{const L=R.apply(ee,U);return ne(),L})(ee.exponentialRampToValueAtTime),ee.linearRampToValueAtTime=(R=>B?()=>{throw o()}:(...U)=>{const L=R.apply(ee,U);return ne(),L})(ee.linearRampToValueAtTime),ee.setTargetAtTime=(R=>B?()=>{throw o()}:(...U)=>{const L=R.apply(ee,U);return ne(),L})(ee.setTargetAtTime),ee.setValueAtTime=(R=>B?()=>{throw o()}:(...U)=>{const L=R.apply(ee,U);return ne(),L})(ee.setValueAtTime),ee.setValueCurveAtTime=(R=>B?()=>{throw o()}:(...U)=>{const L=R.apply(ee,U);return ne(),L})(ee.setValueCurveAtTime),ee};return{forwardX:A(0,0,j(0)),forwardY:A(1,0,j(1)),forwardZ:A(2,-1,j(2)),positionX:A(6,0,X(0)),positionY:A(7,0,X(1)),positionZ:A(8,0,X(2)),upX:A(3,0,j(3)),upY:A(4,1,j(4)),upZ:A(5,0,j(5))}},{forwardX:b,forwardY:v,forwardZ:x,positionX:y,positionY:S,positionZ:w,upX:C,upY:M,upZ:O}=m.forwardX===void 0?_():m;return{get forwardX(){return b},get forwardY(){return v},get forwardZ(){return x},get positionX(){return y},get positionY(){return S},get positionZ(){return w},get upX(){return C},get upY(){return M},get upZ(){return O}}},Hl=c=>"context"in c,co=c=>Hl(c[0]),Qi=(c,n,s,r)=>{for(const o of c)if(s(o)){if(r)return!1;throw Error("The set contains at least one similar element.")}return c.add(n),!0},s0=(c,n,[s,r],o)=>{Qi(c,[n,s,r],l=>l[0]===n&&l[1]===s,o)},i0=(c,[n,s,r],o)=>{const l=c.get(n);l===void 0?c.set(n,new Set([[s,r]])):Qi(l,[s,r],h=>h[0]===s,o)},Qr=c=>"inputs"in c,Gl=(c,n,s,r)=>{if(Qr(n)){const o=n.inputs[r];return c.connect(o,s,0),[o,s,0]}return c.connect(n,s,r),[n,s,r]},h_=(c,n,s)=>{for(const r of c)if(r[0]===n&&r[1]===s)return c.delete(r),r;return null},Tb=(c,n,s)=>nc(c,r=>r[0]===n&&r[1]===s),f_=(c,n)=>{if(!ao(c).delete(n))throw new Error("Missing the expected event listener.")},d_=(c,n,s)=>{const r=os(c,n),o=nc(r,l=>l[0]===s);return r.size===0&&c.delete(n),o},Pl=(c,n,s,r)=>{Qr(n)?c.disconnect(n.inputs[r],s,0):c.disconnect(n,s,r)},wt=c=>os(_f,c),no=c=>os(vf,c),Yi=c=>sf.has(c),Il=c=>!Lr.has(c),r0=(c,n)=>new Promise(s=>{if(n!==null)s(!0);else{const r=c.createScriptProcessor(256,1,1),o=c.createGain(),l=c.createBuffer(1,2,44100),h=l.getChannelData(0);h[0]=1,h[1]=1;const u=c.createBufferSource();u.buffer=l,u.loop=!0,u.connect(r).connect(c.destination),u.connect(o),u.disconnect(o),r.onaudioprocess=f=>{const p=f.inputBuffer.getChannelData(0);Array.prototype.some.call(p,m=>m===1)?s(!0):s(!1),u.stop(),r.onaudioprocess=null,u.disconnect(r),r.disconnect(c.destination)},u.start()}}),Dh=(c,n)=>{const s=new Map;for(const r of c)for(const o of r){const l=s.get(o);s.set(o,l===void 0?1:l+1)}s.forEach((r,o)=>n(o,r))},Zl=c=>"context"in c,Ab=c=>{const n=new Map;c.connect=(s=>(r,o=0,l=0)=>{const h=Zl(r)?s(r,o,l):s(r,o),u=n.get(r);return u===void 0?n.set(r,[{input:l,output:o}]):u.every(f=>f.input!==l||f.output!==o)&&u.push({input:l,output:o}),h})(c.connect.bind(c)),c.disconnect=(s=>(r,o,l)=>{if(s.apply(c),r===void 0)n.clear();else if(typeof r=="number")for(const[h,u]of n){const f=u.filter(p=>p.output!==r);f.length===0?n.delete(h):n.set(h,f)}else if(n.has(r))if(o===void 0)n.delete(r);else{const h=n.get(r);if(h!==void 0){const u=h.filter(f=>f.output!==o&&(f.input!==l||l===void 0));u.length===0?n.delete(r):n.set(r,u)}}for(const[h,u]of n)u.forEach(f=>{Zl(h)?c.connect(h,f.output,f.input):c.connect(h,f.output)})})(c.disconnect)},Nb=(c,n,s,r)=>{const{activeInputs:o,passiveInputs:l}=lo(n),{outputs:h}=mn(c),u=ao(c),f=p=>{const m=wt(c),_=no(n);if(p){const b=d_(l,c,s);s0(o,c,b,!1),!r&&!Yi(c)&&m.connect(_,s)}else{const b=Tb(o,c,s);i0(l,b,!1),!r&&!Yi(c)&&m.disconnect(_,s)}};return Qi(h,[n,s],p=>p[0]===n&&p[1]===s,!0)?(u.add(f),Vs(c)?s0(o,c,[s,f],!0):i0(l,[c,s,f],!0),!0):!1},kb=(c,n,s,r)=>{const{activeInputs:o,passiveInputs:l}=mn(n),h=h_(o[r],c,s);return h===null?[o_(l,c,s,r)[2],!1]:[h[2],!0]},Cb=(c,n,s)=>{const{activeInputs:r,passiveInputs:o}=lo(n),l=h_(r,c,s);return l===null?[d_(o,c,s)[1],!1]:[l[2],!0]},bf=(c,n,s,r,o)=>{const[l,h]=kb(c,s,r,o);if(l!==null&&(f_(c,l),h&&!n&&!Yi(c)&&Pl(wt(c),wt(s),r,o)),Vs(s)){const{activeInputs:u}=mn(s);of(s,u)}},xf=(c,n,s,r)=>{const[o,l]=Cb(c,s,r);o!==null&&(f_(c,o),l&&!n&&!Yi(c)&&wt(c).disconnect(no(s),r))},Eb=(c,n)=>{const s=mn(c),r=[];for(const o of s.outputs)co(o)?bf(c,n,...o):xf(c,n,...o),r.push(o[0]);return s.outputs.clear(),r},Ob=(c,n,s)=>{const r=mn(c),o=[];for(const l of r.outputs)l[1]===s&&(co(l)?bf(c,n,...l):xf(c,n,...l),o.push(l[0]),r.outputs.delete(l));return o},Mb=(c,n,s,r,o)=>{const l=mn(c);return Array.from(l.outputs).filter(h=>h[0]===s&&(r===void 0||h[1]===r)&&(o===void 0||h[2]===o)).map(h=>(co(h)?bf(c,n,...h):xf(c,n,...h),l.outputs.delete(h),h[0]))},Db=(c,n,s,r,o,l,h,u,f,p,m,_,b,v,x,y)=>class extends p{constructor(w,C,M,O){super(M),this._context=w,this._nativeAudioNode=M;const k=m(w);_(k)&&s(r0,()=>r0(k,y))!==!0&&Ab(M),_f.set(this,M),r_.set(this,new Set),w.state!=="closed"&&C&&Fr(this),c(this,O,M)}get channelCount(){return this._nativeAudioNode.channelCount}set channelCount(w){this._nativeAudioNode.channelCount=w}get channelCountMode(){return this._nativeAudioNode.channelCountMode}set channelCountMode(w){this._nativeAudioNode.channelCountMode=w}get channelInterpretation(){return this._nativeAudioNode.channelInterpretation}set channelInterpretation(w){this._nativeAudioNode.channelInterpretation=w}get context(){return this._context}get numberOfInputs(){return this._nativeAudioNode.numberOfInputs}get numberOfOutputs(){return this._nativeAudioNode.numberOfOutputs}connect(w,C=0,M=0){if(C<0||C>=this._nativeAudioNode.numberOfOutputs)throw o();const O=m(this._context),k=x(O);if(b(w)||v(w))throw l();if(Hl(w)){const D=wt(w);try{const Z=Gl(this._nativeAudioNode,D,C,M),ne=Il(this);(k||ne)&&this._nativeAudioNode.disconnect(...Z),this.context.state!=="closed"&&!ne&&Il(w)&&Fr(w)}catch(Z){throw Z.code===12?l():Z}if(n(this,w,C,M,k)){const Z=f([this],w);Dh(Z,r(k))}return w}const I=no(w);if(I.name==="playbackRate"&&I.maxValue===1024)throw h();try{this._nativeAudioNode.connect(I,C),(k||Il(this))&&this._nativeAudioNode.disconnect(I,C)}catch(D){throw D.code===12?l():D}if(Nb(this,w,C,k)){const D=f([this],w);Dh(D,r(k))}}disconnect(w,C,M){let O;const k=m(this._context),I=x(k);if(w===void 0)O=Eb(this,I);else if(typeof w=="number"){if(w<0||w>=this.numberOfOutputs)throw o();O=Ob(this,I,w)}else{if(C!==void 0&&(C<0||C>=this.numberOfOutputs)||Hl(w)&&M!==void 0&&(M<0||M>=w.numberOfInputs))throw o();if(O=Mb(this,I,w,C,M),O.length===0)throw l()}for(const B of O){const D=f([this],B);Dh(D,u)}}},Rb=(c,n,s,r,o,l,h,u,f,p,m,_,b)=>(v,x,y,S=null,w=null)=>{const C=y.value,M=new H1(C),O=x?r(M):null,k={get defaultValue(){return C},get maxValue(){return S===null?y.maxValue:S},get minValue(){return w===null?y.minValue:w},get value(){return y.value},set value(I){y.value=I,k.setValueAtTime(I,v.context.currentTime)},cancelAndHoldAtTime(I){if(typeof y.cancelAndHoldAtTime=="function")O===null&&M.flush(v.context.currentTime),M.add(o(I)),y.cancelAndHoldAtTime(I);else{const B=Array.from(M).pop();O===null&&M.flush(v.context.currentTime),M.add(o(I));const D=Array.from(M).pop();y.cancelScheduledValues(I),B!==D&&D!==void 0&&(D.type==="exponentialRampToValue"?y.exponentialRampToValueAtTime(D.value,D.endTime):D.type==="linearRampToValue"?y.linearRampToValueAtTime(D.value,D.endTime):D.type==="setValue"?y.setValueAtTime(D.value,D.startTime):D.type==="setValueCurve"&&y.setValueCurveAtTime(D.values,D.startTime,D.duration))}return k},cancelScheduledValues(I){return O===null&&M.flush(v.context.currentTime),M.add(l(I)),y.cancelScheduledValues(I),k},exponentialRampToValueAtTime(I,B){if(I===0)throw new RangeError;if(!Number.isFinite(B)||B<0)throw new RangeError;const D=v.context.currentTime;return O===null&&M.flush(D),Array.from(M).length===0&&(M.add(p(C,D)),y.setValueAtTime(C,D)),M.add(h(I,B)),y.exponentialRampToValueAtTime(I,B),k},linearRampToValueAtTime(I,B){const D=v.context.currentTime;return O===null&&M.flush(D),Array.from(M).length===0&&(M.add(p(C,D)),y.setValueAtTime(C,D)),M.add(u(I,B)),y.linearRampToValueAtTime(I,B),k},setTargetAtTime(I,B,D){return O===null&&M.flush(v.context.currentTime),M.add(f(I,B,D)),y.setTargetAtTime(I,B,D),k},setValueAtTime(I,B){return O===null&&M.flush(v.context.currentTime),M.add(p(I,B)),y.setValueAtTime(I,B),k},setValueCurveAtTime(I,B,D){const V=I instanceof Float32Array?I:new Float32Array(I);if(_!==null&&_.name==="webkitAudioContext"){const Z=B+D,ne=v.context.sampleRate,j=Math.ceil(B*ne),X=Math.floor(Z*ne),A=X-j,J=new Float32Array(A);for(let H=0;H<A;H+=1){const ue=(V.length-1)/D*((j+H)/ne-B),ee=Math.floor(ue),R=Math.ceil(ue);J[H]=ee===R?V[ee]:(1-(ue-ee))*V[ee]+(1-(R-ue))*V[R]}O===null&&M.flush(v.context.currentTime),M.add(m(J,B,D)),y.setValueCurveAtTime(J,B,D);const G=X/ne;G<Z&&b(k,J[J.length-1],G),b(k,V[V.length-1],Z)}else O===null&&M.flush(v.context.currentTime),M.add(m(V,B,D)),y.setValueCurveAtTime(V,B,D);return k}};return s.set(k,y),n.set(k,v),c(k,O),k},jb=c=>({replay(n){for(const s of c)if(s.type==="exponentialRampToValue"){const{endTime:r,value:o}=s;n.exponentialRampToValueAtTime(o,r)}else if(s.type==="linearRampToValue"){const{endTime:r,value:o}=s;n.linearRampToValueAtTime(o,r)}else if(s.type==="setTarget"){const{startTime:r,target:o,timeConstant:l}=s;n.setTargetAtTime(o,r,l)}else if(s.type==="setValue"){const{startTime:r,value:o}=s;n.setValueAtTime(o,r)}else if(s.type==="setValueCurve"){const{duration:r,startTime:o,values:l}=s;n.setValueCurveAtTime(l,o,r)}else throw new Error("Can't apply an unknown automation.")}});class p_{constructor(n){this._map=new Map(n)}get size(){return this._map.size}entries(){return this._map.entries()}forEach(n,s=null){return this._map.forEach((r,o)=>n.call(s,r,o,this))}get(n){return this._map.get(n)}has(n){return this._map.has(n)}keys(){return this._map.keys()}values(){return this._map.values()}}const zb={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:1,numberOfOutputs:1,parameterData:{},processorOptions:{}},Ub=(c,n,s,r,o,l,h,u,f,p,m,_,b,v)=>class extends n{constructor(y,S,w){var C;const M=u(y),O=f(M),k=m({...zb,...w});b(k);const I=rf.get(M),B=I?.get(S),D=O||M.state!=="closed"?M:(C=h(M))!==null&&C!==void 0?C:M,V=o(D,O?null:y.baseLatency,p,S,B,k),Z=O?r(S,k,B):null;super(y,!0,V,Z);const ne=[];V.parameters.forEach((X,A)=>{const J=s(this,O,X);ne.push([A,J])}),this._nativeAudioWorkletNode=V,this._onprocessorerror=null,this._parameters=new p_(ne),O&&c(M,this);const{activeInputs:j}=l(this);_(V,j)}get onprocessorerror(){return this._onprocessorerror}set onprocessorerror(y){const S=typeof y=="function"?v(this,y):null;this._nativeAudioWorkletNode.onprocessorerror=S;const w=this._nativeAudioWorkletNode.onprocessorerror;this._onprocessorerror=w!==null&&w===S?y:w}get parameters(){return this._parameters===null?this._nativeAudioWorkletNode.parameters:this._parameters}get port(){return this._nativeAudioWorkletNode.port}};function Yl(c,n,s,r,o){if(typeof c.copyFromChannel=="function")n[s].byteLength===0&&(n[s]=new Float32Array(128)),c.copyFromChannel(n[s],r,o);else{const l=c.getChannelData(r);if(n[s].byteLength===0)n[s]=l.slice(o,o+128);else{const h=new Float32Array(l.buffer,o*Float32Array.BYTES_PER_ELEMENT,128);n[s].set(h)}}}const m_=(c,n,s,r,o)=>{typeof c.copyToChannel=="function"?n[s].byteLength!==0&&c.copyToChannel(n[s],r,o):n[s].byteLength!==0&&c.getChannelData(r).set(n[s],o)},Xl=(c,n)=>{const s=[];for(let r=0;r<c;r+=1){const o=[],l=typeof n=="number"?n:n[r];for(let h=0;h<l;h+=1)o.push(new Float32Array(128));s.push(o)}return s},Bb=(c,n)=>{const s=os(af,c),r=wt(n);return os(s,r)},Ib=async(c,n,s,r,o,l,h)=>{const u=n===null?Math.ceil(c.context.length/128)*128:n.length,f=r.channelCount*r.numberOfInputs,p=o.reduce((S,w)=>S+w,0),m=p===0?null:s.createBuffer(p,u,s.sampleRate);if(l===void 0)throw new Error("Missing the processor constructor.");const _=mn(c),b=await Bb(s,c),v=Xl(r.numberOfInputs,r.channelCount),x=Xl(r.numberOfOutputs,o),y=Array.from(c.parameters.keys()).reduce((S,w)=>({...S,[w]:new Float32Array(128)}),{});for(let S=0;S<u;S+=128){if(r.numberOfInputs>0&&n!==null)for(let w=0;w<r.numberOfInputs;w+=1)for(let C=0;C<r.channelCount;C+=1)Yl(n,v[w],C,C,S);l.parameterDescriptors!==void 0&&n!==null&&l.parameterDescriptors.forEach(({name:w},C)=>{Yl(n,y,w,f+C,S)});for(let w=0;w<r.numberOfInputs;w+=1)for(let C=0;C<o[w];C+=1)x[w][C].byteLength===0&&(x[w][C]=new Float32Array(128));try{const w=v.map((M,O)=>_.activeInputs[O].size===0?[]:M),C=h(S/s.sampleRate,s.sampleRate,()=>b.process(w,x,y));if(m!==null)for(let M=0,O=0;M<r.numberOfOutputs;M+=1){for(let k=0;k<o[M];k+=1)m_(m,x[M],k,O+k,S);O+=o[M]}if(!C)break}catch(w){c.dispatchEvent(new ErrorEvent("processorerror",{colno:w.colno,filename:w.filename,lineno:w.lineno,message:w.message}));break}}return m},qb=(c,n,s,r,o,l,h,u,f,p,m,_,b,v,x,y)=>(S,w,C)=>{const M=new WeakMap;let O=null;const k=async(I,B)=>{let D=m(I),V=null;const Z=hn(D,B),ne=Array.isArray(w.outputChannelCount)?w.outputChannelCount:Array.from(w.outputChannelCount);if(_===null){const j=ne.reduce((G,H)=>G+H,0),X=o(B,{channelCount:Math.max(1,j),channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:Math.max(1,j)}),A=[];for(let G=0;G<I.numberOfOutputs;G+=1)A.push(r(B,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:ne[G]}));const J=h(B,{channelCount:w.channelCount,channelCountMode:w.channelCountMode,channelInterpretation:w.channelInterpretation,gain:1});J.connect=n.bind(null,A),J.disconnect=f.bind(null,A),V=[X,A,J]}else Z||(D=new _(B,S));if(M.set(B,V===null?D:V[2]),V!==null){if(O===null){if(C===void 0)throw new Error("Missing the processor constructor.");if(b===null)throw new Error("Missing the native OfflineAudioContext constructor.");const H=I.channelCount*I.numberOfInputs,ue=C.parameterDescriptors===void 0?0:C.parameterDescriptors.length,ee=H+ue;O=Ib(I,ee===0?null:await(async()=>{const U=new b(ee,Math.ceil(I.context.length/128)*128,B.sampleRate),L=[],re=[];for(let ve=0;ve<w.numberOfInputs;ve+=1)L.push(h(U,{channelCount:w.channelCount,channelCountMode:w.channelCountMode,channelInterpretation:w.channelInterpretation,gain:1})),re.push(o(U,{channelCount:w.channelCount,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:w.channelCount}));const le=await Promise.all(Array.from(I.parameters.values()).map(async ve=>{const Oe=l(U,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:ve.value});return await v(U,ve,Oe.offset),Oe})),te=r(U,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:Math.max(1,H+ue)});for(let ve=0;ve<w.numberOfInputs;ve+=1){L[ve].connect(re[ve]);for(let Oe=0;Oe<w.channelCount;Oe+=1)re[ve].connect(te,Oe,ve*w.channelCount+Oe)}for(const[ve,Oe]of le.entries())Oe.connect(te,0,H+ve),Oe.start(0);return te.connect(U.destination),await Promise.all(L.map(ve=>x(I,U,ve))),y(U)})(),B,w,ne,C,p)}const j=await O,X=s(B,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),[A,J,G]=V;j!==null&&(X.buffer=j,X.start(0)),X.connect(A);for(let H=0,ue=0;H<I.numberOfOutputs;H+=1){const ee=J[H];for(let R=0;R<ne[H];R+=1)A.connect(ee,ue+R,R);ue+=ne[H]}return G}if(Z)for(const[j,X]of I.parameters.entries())await c(B,X,D.parameters.get(j));else for(const[j,X]of I.parameters.entries())await v(B,X,D.parameters.get(j));return await x(I,B,D),D};return{render(I,B){u(B,I);const D=M.get(B);return D!==void 0?Promise.resolve(D):k(I,B)}}},Vb=(c,n,s,r,o,l,h,u,f,p,m,_,b,v,x,y,S,w,C,M)=>class extends x{constructor(k,I){super(k,I),this._nativeContext=k,this._audioWorklet=c===void 0?void 0:{addModule:(B,D)=>c(this,B,D)}}get audioWorklet(){return this._audioWorklet}createAnalyser(){return new n(this)}createBiquadFilter(){return new o(this)}createBuffer(k,I,B){return new s({length:I,numberOfChannels:k,sampleRate:B})}createBufferSource(){return new r(this)}createChannelMerger(k=6){return new l(this,{numberOfInputs:k})}createChannelSplitter(k=6){return new h(this,{numberOfOutputs:k})}createConstantSource(){return new u(this)}createConvolver(){return new f(this)}createDelay(k=1){return new m(this,{maxDelayTime:k})}createDynamicsCompressor(){return new _(this)}createGain(){return new b(this)}createIIRFilter(k,I){return new v(this,{feedback:I,feedforward:k})}createOscillator(){return new y(this)}createPanner(){return new S(this)}createPeriodicWave(k,I,B={disableNormalization:!1}){return new w(this,{...B,imag:I,real:k})}createStereoPanner(){return new C(this)}createWaveShaper(){return new M(this)}decodeAudioData(k,I,B){return p(this._nativeContext,k).then(D=>(typeof I=="function"&&I(D),D),D=>{throw typeof B=="function"&&B(D),D})}},Lb={Q:1,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",detune:0,frequency:350,gain:0,type:"lowpass"},Fb=(c,n,s,r,o,l,h,u)=>class extends c{constructor(p,m){const _=l(p),b={...Lb,...m},v=o(_,b),x=h(_),y=x?s():null;super(p,!1,v,y),this._Q=n(this,x,v.Q,pn,Tn),this._detune=n(this,x,v.detune,1200*Math.log2(pn),-1200*Math.log2(pn)),this._frequency=n(this,x,v.frequency,p.sampleRate/2,0),this._gain=n(this,x,v.gain,40*Math.log10(pn),Tn),this._nativeBiquadFilterNode=v,u(this,1)}get detune(){return this._detune}get frequency(){return this._frequency}get gain(){return this._gain}get Q(){return this._Q}get type(){return this._nativeBiquadFilterNode.type}set type(p){this._nativeBiquadFilterNode.type=p}getFrequencyResponse(p,m,_){try{this._nativeBiquadFilterNode.getFrequencyResponse(p,m,_)}catch(b){throw b.code===11?r():b}if(p.length!==m.length||m.length!==_.length)throw r()}},Hb=(c,n,s,r,o)=>()=>{const l=new WeakMap,h=async(u,f)=>{let p=s(u);const m=hn(p,f);if(!m){const _={Q:p.Q.value,channelCount:p.channelCount,channelCountMode:p.channelCountMode,channelInterpretation:p.channelInterpretation,detune:p.detune.value,frequency:p.frequency.value,gain:p.gain.value,type:p.type};p=n(f,_)}return l.set(f,p),m?(await c(f,u.Q,p.Q),await c(f,u.detune,p.detune),await c(f,u.frequency,p.frequency),await c(f,u.gain,p.gain)):(await r(f,u.Q,p.Q),await r(f,u.detune,p.detune),await r(f,u.frequency,p.frequency),await r(f,u.gain,p.gain)),await o(u,f,p),p};return{render(u,f){const p=l.get(f);return p!==void 0?Promise.resolve(p):h(u,f)}}},Gb=(c,n)=>(s,r)=>{const o=n.get(s);if(o!==void 0)return o;const l=c.get(s);if(l!==void 0)return l;try{const h=r();return h instanceof Promise?(c.set(s,h),h.catch(()=>!1).then(u=>(c.delete(s),n.set(s,u),u))):(n.set(s,h),h)}catch{return n.set(s,!1),!1}},Pb={channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:6},Zb=(c,n,s,r,o)=>class extends c{constructor(h,u){const f=r(h),p={...Pb,...u},m=s(f,p),_=o(f)?n():null;super(h,!1,m,_)}},Yb=(c,n,s)=>()=>{const r=new WeakMap,o=async(l,h)=>{let u=n(l);if(!hn(u,h)){const p={channelCount:u.channelCount,channelCountMode:u.channelCountMode,channelInterpretation:u.channelInterpretation,numberOfInputs:u.numberOfInputs};u=c(h,p)}return r.set(h,u),await s(l,h,u),u};return{render(l,h){const u=r.get(h);return u!==void 0?Promise.resolve(u):o(l,h)}}},Xb={channelCount:6,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:6},Wb=(c,n,s,r,o,l)=>class extends c{constructor(u,f){const p=r(u),m=l({...Xb,...f}),_=s(p,m),b=o(p)?n():null;super(u,!1,_,b)}},Qb=(c,n,s)=>()=>{const r=new WeakMap,o=async(l,h)=>{let u=n(l);if(!hn(u,h)){const p={channelCount:u.channelCount,channelCountMode:u.channelCountMode,channelInterpretation:u.channelInterpretation,numberOfOutputs:u.numberOfOutputs};u=c(h,p)}return r.set(h,u),await s(l,h,u),u};return{render(l,h){const u=r.get(h);return u!==void 0?Promise.resolve(u):o(l,h)}}},Kb=c=>(n,s,r)=>c(s,n,r),Jb=c=>(n,s,r=0,o=0)=>{const l=n[r];if(l===void 0)throw c();return Zl(s)?l.connect(s,0,o):l.connect(s,0)},$b=c=>(n,s)=>{const r=c(n,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),o=n.createBuffer(1,2,44100);return r.buffer=o,r.loop=!0,r.connect(s),r.start(),()=>{r.stop(),r.disconnect(s)}},ex={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",offset:1},tx=(c,n,s,r,o,l,h)=>class extends c{constructor(f,p){const m=o(f),_={...ex,...p},b=r(m,_),v=l(m),x=v?s():null;super(f,!1,b,x),this._constantSourceNodeRenderer=x,this._nativeConstantSourceNode=b,this._offset=n(this,v,b.offset,pn,Tn),this._onended=null}get offset(){return this._offset}get onended(){return this._onended}set onended(f){const p=typeof f=="function"?h(this,f):null;this._nativeConstantSourceNode.onended=p;const m=this._nativeConstantSourceNode.onended;this._onended=m!==null&&m===p?f:m}start(f=0){if(this._nativeConstantSourceNode.start(f),this._constantSourceNodeRenderer!==null&&(this._constantSourceNodeRenderer.start=f),this.context.state!=="closed"){Fr(this);const p=()=>{this._nativeConstantSourceNode.removeEventListener("ended",p),Vs(this)&&oo(this)};this._nativeConstantSourceNode.addEventListener("ended",p)}}stop(f=0){this._nativeConstantSourceNode.stop(f),this._constantSourceNodeRenderer!==null&&(this._constantSourceNodeRenderer.stop=f)}},nx=(c,n,s,r,o)=>()=>{const l=new WeakMap;let h=null,u=null;const f=async(p,m)=>{let _=s(p);const b=hn(_,m);if(!b){const v={channelCount:_.channelCount,channelCountMode:_.channelCountMode,channelInterpretation:_.channelInterpretation,offset:_.offset.value};_=n(m,v),h!==null&&_.start(h),u!==null&&_.stop(u)}return l.set(m,_),b?await c(m,p.offset,_.offset):await r(m,p.offset,_.offset),await o(p,m,_),_};return{set start(p){h=p},set stop(p){u=p},render(p,m){const _=l.get(m);return _!==void 0?Promise.resolve(_):f(p,m)}}},sx=c=>n=>(c[0]=n,c[0]),ix={buffer:null,channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",disableNormalization:!1},rx=(c,n,s,r,o,l)=>class extends c{constructor(u,f){const p=r(u),m={...ix,...f},_=s(p,m),v=o(p)?n():null;super(u,!1,_,v),this._isBufferNullified=!1,this._nativeConvolverNode=_,m.buffer!==null&&l(this,m.buffer.duration)}get buffer(){return this._isBufferNullified?null:this._nativeConvolverNode.buffer}set buffer(u){if(this._nativeConvolverNode.buffer=u,u===null&&this._nativeConvolverNode.buffer!==null){const f=this._nativeConvolverNode.context;this._nativeConvolverNode.buffer=f.createBuffer(1,1,f.sampleRate),this._isBufferNullified=!0,l(this,0)}else this._isBufferNullified=!1,l(this,this._nativeConvolverNode.buffer===null?0:this._nativeConvolverNode.buffer.duration)}get normalize(){return this._nativeConvolverNode.normalize}set normalize(u){this._nativeConvolverNode.normalize=u}},ax=(c,n,s)=>()=>{const r=new WeakMap,o=async(l,h)=>{let u=n(l);if(!hn(u,h)){const p={buffer:u.buffer,channelCount:u.channelCount,channelCountMode:u.channelCountMode,channelInterpretation:u.channelInterpretation,disableNormalization:!u.normalize};u=c(h,p)}return r.set(h,u),Qr(u)?await s(l,h,u.inputs[0]):await s(l,h,u),u};return{render(l,h){const u=r.get(h);return u!==void 0?Promise.resolve(u):o(l,h)}}},ox=(c,n)=>(s,r,o)=>{if(n===null)throw new Error("Missing the native OfflineAudioContext constructor.");try{return new n(s,r,o)}catch(l){throw l.name==="SyntaxError"?c():l}},lx=()=>new DOMException("","DataCloneError"),a0=c=>{const{port1:n,port2:s}=new MessageChannel;return new Promise(r=>{const o=()=>{s.onmessage=null,n.close(),s.close(),r()};s.onmessage=()=>o();try{n.postMessage(c,[c])}catch{}finally{o()}})},cx=(c,n,s,r,o,l,h,u,f,p,m)=>(_,b)=>{const v=h(_)?_:l(_);if(o.has(b)){const x=s();return Promise.reject(x)}try{o.add(b)}catch{}return n(f,()=>f(v))?v.decodeAudioData(b).then(x=>(a0(b).catch(()=>{}),n(u,()=>u(x))||m(x),c.add(x),x)):new Promise((x,y)=>{const S=async()=>{try{await a0(b)}catch{}},w=C=>{y(C),S()};try{v.decodeAudioData(b,C=>{typeof C.copyFromChannel!="function"&&(p(C),yf(C)),c.add(C),S().then(()=>x(C))},C=>{w(C===null?r():C)})}catch(C){w(C)}})},ux=(c,n,s,r,o,l,h,u)=>(f,p)=>{const m=n.get(f);if(m===void 0)throw new Error("Missing the expected cycle count.");const _=l(f.context),b=u(_);if(m===p){if(n.delete(f),!b&&h(f)){const v=r(f),{outputs:x}=s(f);for(const y of x)if(co(y)){const S=r(y[0]);c(v,S,y[1],y[2])}else{const S=o(y[0]);v.connect(S,y[1])}}}else n.set(f,m-p)},hx={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",delayTime:0,maxDelayTime:1},fx=(c,n,s,r,o,l,h)=>class extends c{constructor(f,p){const m=o(f),_={...hx,...p},b=r(m,_),v=l(m),x=v?s(_.maxDelayTime):null;super(f,!1,b,x),this._delayTime=n(this,v,b.delayTime),h(this,_.maxDelayTime)}get delayTime(){return this._delayTime}},dx=(c,n,s,r,o)=>l=>{const h=new WeakMap,u=async(f,p)=>{let m=s(f);const _=hn(m,p);if(!_){const b={channelCount:m.channelCount,channelCountMode:m.channelCountMode,channelInterpretation:m.channelInterpretation,delayTime:m.delayTime.value,maxDelayTime:l};m=n(p,b)}return h.set(p,m),_?await c(p,f.delayTime,m.delayTime):await r(p,f.delayTime,m.delayTime),await o(f,p,m),m};return{render(f,p){const m=h.get(p);return m!==void 0?Promise.resolve(m):u(f,p)}}},px=c=>(n,s,r,o)=>c(n[o],l=>l[0]===s&&l[1]===r),mx=c=>(n,s)=>{c(n).delete(s)},gx=c=>"delayTime"in c,_x=(c,n,s)=>function r(o,l){const h=Hl(l)?l:s(c,l);if(gx(h))return[];if(o[0]===h)return[o];if(o.includes(h))return[];const{outputs:u}=n(h);return Array.from(u).map(f=>r([...o,h],f[0])).reduce((f,p)=>f.concat(p),[])},Rl=(c,n,s)=>{const r=n[s];if(r===void 0)throw c();return r},vx=c=>(n,s=void 0,r=void 0,o=0)=>s===void 0?n.forEach(l=>l.disconnect()):typeof s=="number"?Rl(c,n,s).disconnect():Zl(s)?r===void 0?n.forEach(l=>l.disconnect(s)):o===void 0?Rl(c,n,r).disconnect(s,0):Rl(c,n,r).disconnect(s,0,o):r===void 0?n.forEach(l=>l.disconnect(s)):Rl(c,n,r).disconnect(s,0),yx={attack:.003,channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",knee:30,ratio:12,release:.25,threshold:-24},bx=(c,n,s,r,o,l,h,u)=>class extends c{constructor(p,m){const _=l(p),b={...yx,...m},v=r(_,b),x=h(_),y=x?s():null;super(p,!1,v,y),this._attack=n(this,x,v.attack),this._knee=n(this,x,v.knee),this._nativeDynamicsCompressorNode=v,this._ratio=n(this,x,v.ratio),this._release=n(this,x,v.release),this._threshold=n(this,x,v.threshold),u(this,.006)}get attack(){return this._attack}get channelCount(){return this._nativeDynamicsCompressorNode.channelCount}set channelCount(p){const m=this._nativeDynamicsCompressorNode.channelCount;if(this._nativeDynamicsCompressorNode.channelCount=p,p>2)throw this._nativeDynamicsCompressorNode.channelCount=m,o()}get channelCountMode(){return this._nativeDynamicsCompressorNode.channelCountMode}set channelCountMode(p){const m=this._nativeDynamicsCompressorNode.channelCountMode;if(this._nativeDynamicsCompressorNode.channelCountMode=p,p==="max")throw this._nativeDynamicsCompressorNode.channelCountMode=m,o()}get knee(){return this._knee}get ratio(){return this._ratio}get reduction(){return typeof this._nativeDynamicsCompressorNode.reduction.value=="number"?this._nativeDynamicsCompressorNode.reduction.value:this._nativeDynamicsCompressorNode.reduction}get release(){return this._release}get threshold(){return this._threshold}},xx=(c,n,s,r,o)=>()=>{const l=new WeakMap,h=async(u,f)=>{let p=s(u);const m=hn(p,f);if(!m){const _={attack:p.attack.value,channelCount:p.channelCount,channelCountMode:p.channelCountMode,channelInterpretation:p.channelInterpretation,knee:p.knee.value,ratio:p.ratio.value,release:p.release.value,threshold:p.threshold.value};p=n(f,_)}return l.set(f,p),m?(await c(f,u.attack,p.attack),await c(f,u.knee,p.knee),await c(f,u.ratio,p.ratio),await c(f,u.release,p.release),await c(f,u.threshold,p.threshold)):(await r(f,u.attack,p.attack),await r(f,u.knee,p.knee),await r(f,u.ratio,p.ratio),await r(f,u.release,p.release),await r(f,u.threshold,p.threshold)),await o(u,f,p),p};return{render(u,f){const p=l.get(f);return p!==void 0?Promise.resolve(p):h(u,f)}}},Sx=()=>new DOMException("","EncodingError"),wx=c=>n=>new Promise((s,r)=>{if(c===null){r(new SyntaxError);return}const o=c.document.head;if(o===null)r(new SyntaxError);else{const l=c.document.createElement("script"),h=new Blob([n],{type:"application/javascript"}),u=URL.createObjectURL(h),f=c.onerror,p=()=>{c.onerror=f,URL.revokeObjectURL(u)};c.onerror=(m,_,b,v,x)=>{if(_===u||_===c.location.href&&b===1&&v===1)return p(),r(x),!1;if(f!==null)return f(m,_,b,v,x)},l.onerror=()=>{p(),r(new SyntaxError)},l.onload=()=>{p(),s()},l.src=u,l.type="module",o.appendChild(l)}}),Tx=c=>class{constructor(s){this._nativeEventTarget=s,this._listeners=new WeakMap}addEventListener(s,r,o){if(r!==null){let l=this._listeners.get(r);l===void 0&&(l=c(this,r),typeof r=="function"&&this._listeners.set(r,l)),this._nativeEventTarget.addEventListener(s,l,o)}}dispatchEvent(s){return this._nativeEventTarget.dispatchEvent(s)}removeEventListener(s,r,o){const l=r===null?void 0:this._listeners.get(r);this._nativeEventTarget.removeEventListener(s,l===void 0?null:l,o)}},Ax=c=>(n,s,r)=>{Object.defineProperties(c,{currentFrame:{configurable:!0,get(){return Math.round(n*s)}},currentTime:{configurable:!0,get(){return n}}});try{return r()}finally{c!==null&&(delete c.currentFrame,delete c.currentTime)}},Nx=c=>async n=>{try{const s=await fetch(n);if(s.ok)return[await s.text(),s.url]}catch{}throw c()},kx={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",gain:1},Cx=(c,n,s,r,o,l)=>class extends c{constructor(u,f){const p=o(u),m={...kx,...f},_=r(p,m),b=l(p),v=b?s():null;super(u,!1,_,v),this._gain=n(this,b,_.gain,pn,Tn)}get gain(){return this._gain}},Ex=(c,n,s,r,o)=>()=>{const l=new WeakMap,h=async(u,f)=>{let p=s(u);const m=hn(p,f);if(!m){const _={channelCount:p.channelCount,channelCountMode:p.channelCountMode,channelInterpretation:p.channelInterpretation,gain:p.gain.value};p=n(f,_)}return l.set(f,p),m?await c(f,u.gain,p.gain):await r(f,u.gain,p.gain),await o(u,f,p),p};return{render(u,f){const p=l.get(f);return p!==void 0?Promise.resolve(p):h(u,f)}}},Ox=(c,n)=>s=>n(c,s),Mx=c=>n=>{const s=c(n);if(s.renderer===null)throw new Error("Missing the renderer of the given AudioNode in the audio graph.");return s.renderer},Dx=c=>n=>{var s;return(s=c.get(n))!==null&&s!==void 0?s:0},Rx=c=>n=>{const s=c(n);if(s.renderer===null)throw new Error("Missing the renderer of the given AudioParam in the audio graph.");return s.renderer},jx=c=>n=>c.get(n),$t=()=>new DOMException("","InvalidStateError"),zx=c=>n=>{const s=c.get(n);if(s===void 0)throw $t();return s},Ux=(c,n)=>s=>{let r=c.get(s);if(r!==void 0)return r;if(n===null)throw new Error("Missing the native OfflineAudioContext constructor.");return r=new n(1,1,44100),c.set(s,r),r},Bx=c=>n=>{const s=c.get(n);if(s===void 0)throw new Error("The context has no set of AudioWorkletNodes.");return s},sc=()=>new DOMException("","InvalidAccessError"),Ix=c=>{c.getFrequencyResponse=(n=>(s,r,o)=>{if(s.length!==r.length||r.length!==o.length)throw sc();return n.call(c,s,r,o)})(c.getFrequencyResponse)},qx={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers"},Vx=(c,n,s,r,o,l)=>class extends c{constructor(u,f){const p=r(u),m=o(p),_={...qx,...f},b=n(p,m?null:u.baseLatency,_),v=m?s(_.feedback,_.feedforward):null;super(u,!1,b,v),Ix(b),this._nativeIIRFilterNode=b,l(this,1)}getFrequencyResponse(u,f,p){return this._nativeIIRFilterNode.getFrequencyResponse(u,f,p)}},g_=(c,n,s,r,o,l,h,u,f,p,m)=>{const _=p.length;let b=u;for(let v=0;v<_;v+=1){let x=s[0]*p[v];for(let y=1;y<o;y+=1){const S=b-y&f-1;x+=s[y]*l[S],x-=c[y]*h[S]}for(let y=o;y<r;y+=1)x+=s[y]*l[b-y&f-1];for(let y=o;y<n;y+=1)x-=c[y]*h[b-y&f-1];l[b]=p[v],h[b]=x,b=b+1&f-1,m[v]=x}return b},Lx=(c,n,s,r)=>{const o=s instanceof Float64Array?s:new Float64Array(s),l=r instanceof Float64Array?r:new Float64Array(r),h=o.length,u=l.length,f=Math.min(h,u);if(o[0]!==1){for(let x=0;x<h;x+=1)l[x]/=o[0];for(let x=1;x<u;x+=1)o[x]/=o[0]}const p=32,m=new Float32Array(p),_=new Float32Array(p),b=n.createBuffer(c.numberOfChannels,c.length,c.sampleRate),v=c.numberOfChannels;for(let x=0;x<v;x+=1){const y=c.getChannelData(x),S=b.getChannelData(x);m.fill(0),_.fill(0),g_(o,h,l,u,f,m,_,0,p,y,S)}return b},Fx=(c,n,s,r,o)=>(l,h)=>{const u=new WeakMap;let f=null;const p=async(m,_)=>{let b=null,v=n(m);const x=hn(v,_);if(_.createIIRFilter===void 0?b=c(_,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}):x||(v=_.createIIRFilter(h,l)),u.set(_,b===null?v:b),b!==null){if(f===null){if(s===null)throw new Error("Missing the native OfflineAudioContext constructor.");const S=new s(m.context.destination.channelCount,m.context.length,_.sampleRate);f=(async()=>{await r(m,S,S.destination);const w=await o(S);return Lx(w,_,l,h)})()}const y=await f;return b.buffer=y,b.start(0),b}return await r(m,_,v),v};return{render(m,_){const b=u.get(_);return b!==void 0?Promise.resolve(b):p(m,_)}}},Hx=(c,n,s,r,o,l)=>h=>(u,f)=>{const p=c.get(u);if(p===void 0){if(!h&&l(u)){const m=r(u),{outputs:_}=s(u);for(const b of _)if(co(b)){const v=r(b[0]);n(m,v,b[1],b[2])}else{const v=o(b[0]);m.disconnect(v,b[1])}}c.set(u,f)}else c.set(u,p+f)},Gx=(c,n)=>s=>{const r=c.get(s);return n(r)||n(s)},Px=(c,n)=>s=>c.has(s)||n(s),Zx=(c,n)=>s=>c.has(s)||n(s),Yx=(c,n)=>s=>{const r=c.get(s);return n(r)||n(s)},Xx=c=>n=>c!==null&&n instanceof c,Wx=c=>n=>c!==null&&typeof c.AudioNode=="function"&&n instanceof c.AudioNode,Qx=c=>n=>c!==null&&typeof c.AudioParam=="function"&&n instanceof c.AudioParam,Kx=(c,n)=>s=>c(s)||n(s),Jx=c=>n=>c!==null&&n instanceof c,$x=c=>c!==null&&c.isSecureContext,e2=(c,n,s,r)=>class extends c{constructor(l,h){const u=s(l),f=n(u,h);if(r(u))throw TypeError();super(l,!0,f,null),this._nativeMediaElementAudioSourceNode=f}get mediaElement(){return this._nativeMediaElementAudioSourceNode.mediaElement}},t2={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers"},n2=(c,n,s,r)=>class extends c{constructor(l,h){const u=s(l);if(r(u))throw new TypeError;const f={...t2,...h},p=n(u,f);super(l,!1,p,null),this._nativeMediaStreamAudioDestinationNode=p}get stream(){return this._nativeMediaStreamAudioDestinationNode.stream}},s2=(c,n,s,r)=>class extends c{constructor(l,h){const u=s(l),f=n(u,h);if(r(u))throw new TypeError;super(l,!0,f,null),this._nativeMediaStreamAudioSourceNode=f}get mediaStream(){return this._nativeMediaStreamAudioSourceNode.mediaStream}},i2=(c,n,s)=>class extends c{constructor(o,l){const h=s(o),u=n(h,l);super(o,!0,u,null)}},r2=(c,n,s,r,o,l)=>class extends s{constructor(u,f){super(u),this._nativeContext=u,tc.set(this,u),r(u)&&o.set(u,new Set),this._destination=new c(this,f),this._listener=n(this,u),this._onstatechange=null}get currentTime(){return this._nativeContext.currentTime}get destination(){return this._destination}get listener(){return this._listener}get onstatechange(){return this._onstatechange}set onstatechange(u){const f=typeof u=="function"?l(this,u):null;this._nativeContext.onstatechange=f;const p=this._nativeContext.onstatechange;this._onstatechange=p!==null&&p===f?u:p}get sampleRate(){return this._nativeContext.sampleRate}get state(){return this._nativeContext.state}},so=c=>{const n=new Uint32Array([1179011410,40,1163280727,544501094,16,131073,44100,176400,1048580,1635017060,4,0]);try{const s=c.decodeAudioData(n.buffer,()=>{});return s===void 0?!1:(s.catch(()=>{}),!0)}catch{}return!1},a2=(c,n)=>(s,r,o)=>{const l=new Set;return s.connect=(h=>(u,f=0,p=0)=>{const m=l.size===0;if(n(u))return h.call(s,u,f,p),c(l,[u,f,p],_=>_[0]===u&&_[1]===f&&_[2]===p,!0),m&&r(),u;h.call(s,u,f),c(l,[u,f],_=>_[0]===u&&_[1]===f,!0),m&&r()})(s.connect),s.disconnect=(h=>(u,f,p)=>{const m=l.size>0;if(u===void 0)h.apply(s),l.clear();else if(typeof u=="number"){h.call(s,u);for(const b of l)b[1]===u&&l.delete(b)}else{n(u)?h.call(s,u,f,p):h.call(s,u,f);for(const b of l)b[0]===u&&(f===void 0||b[1]===f)&&(p===void 0||b[2]===p)&&l.delete(b)}const _=l.size===0;m&&_&&o()})(s.disconnect),s},Nt=(c,n,s)=>{const r=n[s];r!==void 0&&r!==c[s]&&(c[s]=r)},Wt=(c,n)=>{Nt(c,n,"channelCount"),Nt(c,n,"channelCountMode"),Nt(c,n,"channelInterpretation")},o0=c=>typeof c.getFloatTimeDomainData=="function",o2=c=>{c.getFloatTimeDomainData=n=>{const s=new Uint8Array(n.length);c.getByteTimeDomainData(s);const r=Math.max(s.length,c.fftSize);for(let o=0;o<r;o+=1)n[o]=(s[o]-128)*.0078125;return n}},l2=(c,n)=>(s,r)=>{const o=s.createAnalyser();if(Wt(o,r),!(r.maxDecibels>r.minDecibels))throw n();return Nt(o,r,"fftSize"),Nt(o,r,"maxDecibels"),Nt(o,r,"minDecibels"),Nt(o,r,"smoothingTimeConstant"),c(o0,()=>o0(o))||o2(o),o},c2=c=>c===null?null:c.hasOwnProperty("AudioBuffer")?c.AudioBuffer:null,Rt=(c,n,s)=>{const r=n[s];r!==void 0&&r!==c[s].value&&(c[s].value=r)},u2=c=>{c.start=(n=>{let s=!1;return(r=0,o=0,l)=>{if(s)throw $t();n.call(c,r,o,l),s=!0}})(c.start)},Sf=c=>{c.start=(n=>(s=0,r=0,o)=>{if(typeof o=="number"&&o<0||r<0||s<0)throw new RangeError("The parameters can't be negative.");n.call(c,s,r,o)})(c.start)},wf=c=>{c.stop=(n=>(s=0)=>{if(s<0)throw new RangeError("The parameter can't be negative.");n.call(c,s)})(c.stop)},h2=(c,n,s,r,o,l,h,u,f,p,m)=>(_,b)=>{const v=_.createBufferSource();return Wt(v,b),Rt(v,b,"playbackRate"),Nt(v,b,"buffer"),Nt(v,b,"loop"),Nt(v,b,"loopEnd"),Nt(v,b,"loopStart"),n(s,()=>s(_))||u2(v),n(r,()=>r(_))||f(v),n(o,()=>o(_))||p(v,_),n(l,()=>l(_))||Sf(v),n(h,()=>h(_))||m(v,_),n(u,()=>u(_))||wf(v),c(_,v),v},f2=c=>c===null?null:c.hasOwnProperty("AudioContext")?c.AudioContext:c.hasOwnProperty("webkitAudioContext")?c.webkitAudioContext:null,d2=(c,n)=>(s,r,o)=>{const l=s.destination;if(l.channelCount!==r)try{l.channelCount=r}catch{}o&&l.channelCountMode!=="explicit"&&(l.channelCountMode="explicit"),l.maxChannelCount===0&&Object.defineProperty(l,"maxChannelCount",{value:r});const h=c(s,{channelCount:r,channelCountMode:l.channelCountMode,channelInterpretation:l.channelInterpretation,gain:1});return n(h,"channelCount",u=>()=>u.call(h),u=>f=>{u.call(h,f);try{l.channelCount=f}catch(p){if(f>l.maxChannelCount)throw p}}),n(h,"channelCountMode",u=>()=>u.call(h),u=>f=>{u.call(h,f),l.channelCountMode=f}),n(h,"channelInterpretation",u=>()=>u.call(h),u=>f=>{u.call(h,f),l.channelInterpretation=f}),Object.defineProperty(h,"maxChannelCount",{get:()=>l.maxChannelCount}),h.connect(l),h},p2=c=>c===null?null:c.hasOwnProperty("AudioWorkletNode")?c.AudioWorkletNode:null,m2=c=>{const{port1:n}=new MessageChannel;try{n.postMessage(c)}finally{n.close()}},g2=(c,n,s,r,o)=>(l,h,u,f,p,m)=>{if(u!==null)try{const _=new u(l,f,m),b=new Map;let v=null;if(Object.defineProperties(_,{channelCount:{get:()=>m.channelCount,set:()=>{throw c()}},channelCountMode:{get:()=>"explicit",set:()=>{throw c()}},onprocessorerror:{get:()=>v,set:x=>{typeof v=="function"&&_.removeEventListener("processorerror",v),v=typeof x=="function"?x:null,typeof v=="function"&&_.addEventListener("processorerror",v)}}}),_.addEventListener=(x=>(...y)=>{if(y[0]==="processorerror"){const S=typeof y[1]=="function"?y[1]:typeof y[1]=="object"&&y[1]!==null&&typeof y[1].handleEvent=="function"?y[1].handleEvent:null;if(S!==null){const w=b.get(y[1]);w!==void 0?y[1]=w:(y[1]=C=>{C.type==="error"?(Object.defineProperties(C,{type:{value:"processorerror"}}),S(C)):S(new ErrorEvent(y[0],{...C}))},b.set(S,y[1]))}}return x.call(_,"error",y[1],y[2]),x.call(_,...y)})(_.addEventListener),_.removeEventListener=(x=>(...y)=>{if(y[0]==="processorerror"){const S=b.get(y[1]);S!==void 0&&(b.delete(y[1]),y[1]=S)}return x.call(_,"error",y[1],y[2]),x.call(_,y[0],y[1],y[2])})(_.removeEventListener),m.numberOfOutputs!==0){const x=s(l,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});return _.connect(x).connect(l.destination),o(_,()=>x.disconnect(),()=>x.connect(l.destination))}return _}catch(_){throw _.code===11?r():_}if(p===void 0)throw r();return m2(m),n(l,h,p,m)},__=(c,n)=>c===null?512:Math.max(512,Math.min(16384,Math.pow(2,Math.round(Math.log2(c*n))))),_2=c=>new Promise((n,s)=>{const{port1:r,port2:o}=new MessageChannel;r.onmessage=({data:l})=>{r.close(),o.close(),n(l)},r.onmessageerror=({data:l})=>{r.close(),o.close(),s(l)},o.postMessage(c)}),v2=async(c,n)=>{const s=await _2(n);return new c(s)},y2=(c,n,s,r)=>{let o=af.get(c);o===void 0&&(o=new WeakMap,af.set(c,o));const l=v2(s,r);return o.set(n,l),l},b2=(c,n,s,r,o,l,h,u,f,p,m,_,b)=>(v,x,y,S)=>{if(S.numberOfInputs===0&&S.numberOfOutputs===0)throw f();const w=Array.isArray(S.outputChannelCount)?S.outputChannelCount:Array.from(S.outputChannelCount);if(w.some(Q=>Q<1))throw f();if(w.length!==S.numberOfOutputs)throw n();if(S.channelCountMode!=="explicit")throw f();const C=S.channelCount*S.numberOfInputs,M=w.reduce((Q,K)=>Q+K,0),O=y.parameterDescriptors===void 0?0:y.parameterDescriptors.length;if(C+O>6||M>6)throw f();const k=new MessageChannel,I=[],B=[];for(let Q=0;Q<S.numberOfInputs;Q+=1)I.push(h(v,{channelCount:S.channelCount,channelCountMode:S.channelCountMode,channelInterpretation:S.channelInterpretation,gain:1})),B.push(o(v,{channelCount:S.channelCount,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:S.channelCount}));const D=[];if(y.parameterDescriptors!==void 0)for(const{defaultValue:Q,maxValue:K,minValue:F,name:q}of y.parameterDescriptors){const Y=l(v,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:S.parameterData[q]!==void 0?S.parameterData[q]:Q===void 0?0:Q});Object.defineProperties(Y.offset,{defaultValue:{get:()=>Q===void 0?0:Q},maxValue:{get:()=>K===void 0?pn:K},minValue:{get:()=>F===void 0?Tn:F}}),D.push(Y)}const V=r(v,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:Math.max(1,C+O)}),Z=__(x,v.sampleRate),ne=u(v,Z,C+O,Math.max(1,M)),j=o(v,{channelCount:Math.max(1,M),channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:Math.max(1,M)}),X=[];for(let Q=0;Q<S.numberOfOutputs;Q+=1)X.push(r(v,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:w[Q]}));for(let Q=0;Q<S.numberOfInputs;Q+=1){I[Q].connect(B[Q]);for(let K=0;K<S.channelCount;K+=1)B[Q].connect(V,K,Q*S.channelCount+K)}const A=new p_(y.parameterDescriptors===void 0?[]:y.parameterDescriptors.map(({name:Q},K)=>{const F=D[K];return F.connect(V,0,C+K),F.start(0),[Q,F.offset]}));V.connect(ne);let J=S.channelInterpretation,G=null;const H=S.numberOfOutputs===0?[ne]:X,ue={get bufferSize(){return Z},get channelCount(){return S.channelCount},set channelCount(Q){throw s()},get channelCountMode(){return S.channelCountMode},set channelCountMode(Q){throw s()},get channelInterpretation(){return J},set channelInterpretation(Q){for(const K of I)K.channelInterpretation=Q;J=Q},get context(){return ne.context},get inputs(){return I},get numberOfInputs(){return S.numberOfInputs},get numberOfOutputs(){return S.numberOfOutputs},get onprocessorerror(){return G},set onprocessorerror(Q){typeof G=="function"&&ue.removeEventListener("processorerror",G),G=typeof Q=="function"?Q:null,typeof G=="function"&&ue.addEventListener("processorerror",G)},get parameters(){return A},get port(){return k.port2},addEventListener(...Q){return ne.addEventListener(Q[0],Q[1],Q[2])},connect:c.bind(null,H),disconnect:p.bind(null,H),dispatchEvent(...Q){return ne.dispatchEvent(Q[0])},removeEventListener(...Q){return ne.removeEventListener(Q[0],Q[1],Q[2])}},ee=new Map;k.port1.addEventListener=(Q=>(...K)=>{if(K[0]==="message"){const F=typeof K[1]=="function"?K[1]:typeof K[1]=="object"&&K[1]!==null&&typeof K[1].handleEvent=="function"?K[1].handleEvent:null;if(F!==null){const q=ee.get(K[1]);q!==void 0?K[1]=q:(K[1]=Y=>{m(v.currentTime,v.sampleRate,()=>F(Y))},ee.set(F,K[1]))}}return Q.call(k.port1,K[0],K[1],K[2])})(k.port1.addEventListener),k.port1.removeEventListener=(Q=>(...K)=>{if(K[0]==="message"){const F=ee.get(K[1]);F!==void 0&&(ee.delete(K[1]),K[1]=F)}return Q.call(k.port1,K[0],K[1],K[2])})(k.port1.removeEventListener);let R=null;Object.defineProperty(k.port1,"onmessage",{get:()=>R,set:Q=>{typeof R=="function"&&k.port1.removeEventListener("message",R),R=typeof Q=="function"?Q:null,typeof R=="function"&&(k.port1.addEventListener("message",R),k.port1.start())}}),y.prototype.port=k.port1;let U=null;y2(v,ue,y,S).then(Q=>U=Q);const re=Xl(S.numberOfInputs,S.channelCount),le=Xl(S.numberOfOutputs,w),te=y.parameterDescriptors===void 0?[]:y.parameterDescriptors.reduce((Q,{name:K})=>({...Q,[K]:new Float32Array(128)}),{});let ve=!0;const Oe=()=>{S.numberOfOutputs>0&&ne.disconnect(j);for(let Q=0,K=0;Q<S.numberOfOutputs;Q+=1){const F=X[Q];for(let q=0;q<w[Q];q+=1)j.disconnect(F,K+q,q);K+=w[Q]}},ae=new Map;ne.onaudioprocess=({inputBuffer:Q,outputBuffer:K})=>{if(U!==null){const F=_(ue);for(let q=0;q<Z;q+=128){for(let Y=0;Y<S.numberOfInputs;Y+=1)for(let fe=0;fe<S.channelCount;fe+=1)Yl(Q,re[Y],fe,fe,q);y.parameterDescriptors!==void 0&&y.parameterDescriptors.forEach(({name:Y},fe)=>{Yl(Q,te,Y,C+fe,q)});for(let Y=0;Y<S.numberOfInputs;Y+=1)for(let fe=0;fe<w[Y];fe+=1)le[Y][fe].byteLength===0&&(le[Y][fe]=new Float32Array(128));try{const Y=re.map((de,se)=>{if(F[se].size>0)return ae.set(se,Z/128),de;const Se=ae.get(se);return Se===void 0?[]:(de.every(xe=>xe.every(Te=>Te===0))&&(Se===1?ae.delete(se):ae.set(se,Se-1)),de)});ve=m(v.currentTime+q/v.sampleRate,v.sampleRate,()=>U.process(Y,le,te));for(let de=0,se=0;de<S.numberOfOutputs;de+=1){for(let ye=0;ye<w[de];ye+=1)m_(K,le[de],ye,se+ye,q);se+=w[de]}}catch(Y){ve=!1,ue.dispatchEvent(new ErrorEvent("processorerror",{colno:Y.colno,filename:Y.filename,lineno:Y.lineno,message:Y.message}))}if(!ve){for(let Y=0;Y<S.numberOfInputs;Y+=1){I[Y].disconnect(B[Y]);for(let fe=0;fe<S.channelCount;fe+=1)B[q].disconnect(V,fe,Y*S.channelCount+fe)}if(y.parameterDescriptors!==void 0){const Y=y.parameterDescriptors.length;for(let fe=0;fe<Y;fe+=1){const de=D[fe];de.disconnect(V,0,C+fe),de.stop()}}V.disconnect(ne),ne.onaudioprocess=null,be?Oe():Ye();break}}}};let be=!1;const we=h(v,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0}),Ce=()=>ne.connect(we).connect(v.destination),Ye=()=>{ne.disconnect(we),we.disconnect()},$e=()=>{if(ve){Ye(),S.numberOfOutputs>0&&ne.connect(j);for(let Q=0,K=0;Q<S.numberOfOutputs;Q+=1){const F=X[Q];for(let q=0;q<w[Q];q+=1)j.connect(F,K+q,q);K+=w[Q]}}be=!0},T=()=>{ve&&(Ce(),Oe()),be=!1};return Ce(),b(ue,$e,T)},v_=(c,n)=>{const s=c.createBiquadFilter();return Wt(s,n),Rt(s,n,"Q"),Rt(s,n,"detune"),Rt(s,n,"frequency"),Rt(s,n,"gain"),Nt(s,n,"type"),s},x2=(c,n)=>(s,r)=>{const o=s.createChannelMerger(r.numberOfInputs);return c!==null&&c.name==="webkitAudioContext"&&n(s,o),Wt(o,r),o},S2=c=>{const n=c.numberOfOutputs;Object.defineProperty(c,"channelCount",{get:()=>n,set:s=>{if(s!==n)throw $t()}}),Object.defineProperty(c,"channelCountMode",{get:()=>"explicit",set:s=>{if(s!=="explicit")throw $t()}}),Object.defineProperty(c,"channelInterpretation",{get:()=>"discrete",set:s=>{if(s!=="discrete")throw $t()}})},uo=(c,n)=>{const s=c.createChannelSplitter(n.numberOfOutputs);return Wt(s,n),S2(s),s},w2=(c,n,s,r,o)=>(l,h)=>{if(l.createConstantSource===void 0)return s(l,h);const u=l.createConstantSource();return Wt(u,h),Rt(u,h,"offset"),n(r,()=>r(l))||Sf(u),n(o,()=>o(l))||wf(u),c(l,u),u},Kr=(c,n)=>(c.connect=n.connect.bind(n),c.disconnect=n.disconnect.bind(n),c),T2=(c,n,s,r)=>(o,{offset:l,...h})=>{const u=o.createBuffer(1,2,44100),f=n(o,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),p=s(o,{...h,gain:l}),m=u.getChannelData(0);m[0]=1,m[1]=1,f.buffer=u,f.loop=!0;const _={get bufferSize(){},get channelCount(){return p.channelCount},set channelCount(x){p.channelCount=x},get channelCountMode(){return p.channelCountMode},set channelCountMode(x){p.channelCountMode=x},get channelInterpretation(){return p.channelInterpretation},set channelInterpretation(x){p.channelInterpretation=x},get context(){return p.context},get inputs(){return[]},get numberOfInputs(){return f.numberOfInputs},get numberOfOutputs(){return p.numberOfOutputs},get offset(){return p.gain},get onended(){return f.onended},set onended(x){f.onended=x},addEventListener(...x){return f.addEventListener(x[0],x[1],x[2])},dispatchEvent(...x){return f.dispatchEvent(x[0])},removeEventListener(...x){return f.removeEventListener(x[0],x[1],x[2])},start(x=0){f.start.call(f,x)},stop(x=0){f.stop.call(f,x)}},b=()=>f.connect(p),v=()=>f.disconnect(p);return c(o,f),r(Kr(_,p),b,v)},A2=(c,n)=>(s,r)=>{const o=s.createConvolver();if(Wt(o,r),r.disableNormalization===o.normalize&&(o.normalize=!r.disableNormalization),Nt(o,r,"buffer"),r.channelCount>2||(n(o,"channelCount",l=>()=>l.call(o),l=>h=>{if(h>2)throw c();return l.call(o,h)}),r.channelCountMode==="max"))throw c();return n(o,"channelCountMode",l=>()=>l.call(o),l=>h=>{if(h==="max")throw c();return l.call(o,h)}),o},y_=(c,n)=>{const s=c.createDelay(n.maxDelayTime);return Wt(s,n),Rt(s,n,"delayTime"),s},N2=c=>(n,s)=>{const r=n.createDynamicsCompressor();if(Wt(r,s),s.channelCount>2||s.channelCountMode==="max")throw c();return Rt(r,s,"attack"),Rt(r,s,"knee"),Rt(r,s,"ratio"),Rt(r,s,"release"),Rt(r,s,"threshold"),r},Nn=(c,n)=>{const s=c.createGain();return Wt(s,n),Rt(s,n,"gain"),s},k2=c=>(n,s,r)=>{if(n.createIIRFilter===void 0)return c(n,s,r);const o=n.createIIRFilter(r.feedforward,r.feedback);return Wt(o,r),o};function C2(c,n){const s=n[0]*n[0]+n[1]*n[1];return[(c[0]*n[0]+c[1]*n[1])/s,(c[1]*n[0]-c[0]*n[1])/s]}function E2(c,n){return[c[0]*n[0]-c[1]*n[1],c[0]*n[1]+c[1]*n[0]]}function l0(c,n){let s=[0,0];for(let r=c.length-1;r>=0;r-=1)s=E2(s,n),s[0]+=c[r];return s}const O2=(c,n,s,r)=>(o,l,{channelCount:h,channelCountMode:u,channelInterpretation:f,feedback:p,feedforward:m})=>{const _=__(l,o.sampleRate),b=p instanceof Float64Array?p:new Float64Array(p),v=m instanceof Float64Array?m:new Float64Array(m),x=b.length,y=v.length,S=Math.min(x,y);if(x===0||x>20)throw r();if(b[0]===0)throw n();if(y===0||y>20)throw r();if(v[0]===0)throw n();if(b[0]!==1){for(let D=0;D<y;D+=1)v[D]/=b[0];for(let D=1;D<x;D+=1)b[D]/=b[0]}const w=s(o,_,h,h);w.channelCount=h,w.channelCountMode=u,w.channelInterpretation=f;const C=32,M=[],O=[],k=[];for(let D=0;D<h;D+=1){M.push(0);const V=new Float32Array(C),Z=new Float32Array(C);V.fill(0),Z.fill(0),O.push(V),k.push(Z)}w.onaudioprocess=D=>{const V=D.inputBuffer,Z=D.outputBuffer,ne=V.numberOfChannels;for(let j=0;j<ne;j+=1){const X=V.getChannelData(j),A=Z.getChannelData(j);M[j]=g_(b,x,v,y,S,O[j],k[j],M[j],C,X,A)}};const I=o.sampleRate/2;return Kr({get bufferSize(){return _},get channelCount(){return w.channelCount},set channelCount(D){w.channelCount=D},get channelCountMode(){return w.channelCountMode},set channelCountMode(D){w.channelCountMode=D},get channelInterpretation(){return w.channelInterpretation},set channelInterpretation(D){w.channelInterpretation=D},get context(){return w.context},get inputs(){return[w]},get numberOfInputs(){return w.numberOfInputs},get numberOfOutputs(){return w.numberOfOutputs},addEventListener(...D){return w.addEventListener(D[0],D[1],D[2])},dispatchEvent(...D){return w.dispatchEvent(D[0])},getFrequencyResponse(D,V,Z){if(D.length!==V.length||V.length!==Z.length)throw c();const ne=D.length;for(let j=0;j<ne;j+=1){const X=-Math.PI*(D[j]/I),A=[Math.cos(X),Math.sin(X)],J=l0(v,A),G=l0(b,A),H=C2(J,G);V[j]=Math.sqrt(H[0]*H[0]+H[1]*H[1]),Z[j]=Math.atan2(H[1],H[0])}},removeEventListener(...D){return w.removeEventListener(D[0],D[1],D[2])}},w)},M2=(c,n)=>c.createMediaElementSource(n.mediaElement),D2=(c,n)=>{const s=c.createMediaStreamDestination();return Wt(s,n),s.numberOfOutputs===1&&Object.defineProperty(s,"numberOfOutputs",{get:()=>0}),s},R2=(c,{mediaStream:n})=>{const s=n.getAudioTracks();s.sort((l,h)=>l.id<h.id?-1:l.id>h.id?1:0);const r=s.slice(0,1),o=c.createMediaStreamSource(new MediaStream(r));return Object.defineProperty(o,"mediaStream",{value:n}),o},j2=(c,n)=>(s,{mediaStreamTrack:r})=>{if(typeof s.createMediaStreamTrackSource=="function")return s.createMediaStreamTrackSource(r);const o=new MediaStream([r]),l=s.createMediaStreamSource(o);if(r.kind!=="audio")throw c();if(n(s))throw new TypeError;return l},z2=c=>c===null?null:c.hasOwnProperty("OfflineAudioContext")?c.OfflineAudioContext:c.hasOwnProperty("webkitOfflineAudioContext")?c.webkitOfflineAudioContext:null,U2=(c,n,s,r,o,l)=>(h,u)=>{const f=h.createOscillator();return Wt(f,u),Rt(f,u,"detune"),Rt(f,u,"frequency"),u.periodicWave!==void 0?f.setPeriodicWave(u.periodicWave):Nt(f,u,"type"),n(s,()=>s(h))||Sf(f),n(r,()=>r(h))||l(f,h),n(o,()=>o(h))||wf(f),c(h,f),f},B2=c=>(n,s)=>{const r=n.createPanner();return r.orientationX===void 0?c(n,s):(Wt(r,s),Rt(r,s,"orientationX"),Rt(r,s,"orientationY"),Rt(r,s,"orientationZ"),Rt(r,s,"positionX"),Rt(r,s,"positionY"),Rt(r,s,"positionZ"),Nt(r,s,"coneInnerAngle"),Nt(r,s,"coneOuterAngle"),Nt(r,s,"coneOuterGain"),Nt(r,s,"distanceModel"),Nt(r,s,"maxDistance"),Nt(r,s,"panningModel"),Nt(r,s,"refDistance"),Nt(r,s,"rolloffFactor"),r)},I2=(c,n,s,r,o,l,h,u,f,p)=>(m,{coneInnerAngle:_,coneOuterAngle:b,coneOuterGain:v,distanceModel:x,maxDistance:y,orientationX:S,orientationY:w,orientationZ:C,panningModel:M,positionX:O,positionY:k,positionZ:I,refDistance:B,rolloffFactor:D,...V})=>{const Z=m.createPanner();if(V.channelCount>2||V.channelCountMode==="max")throw h();Wt(Z,V);const ne={channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete"},j=s(m,{...ne,channelInterpretation:"speakers",numberOfInputs:6}),X=r(m,{...V,gain:1}),A=r(m,{...ne,gain:1}),J=r(m,{...ne,gain:0}),G=r(m,{...ne,gain:0}),H=r(m,{...ne,gain:0}),ue=r(m,{...ne,gain:0}),ee=r(m,{...ne,gain:0}),R=o(m,256,6,1),U=l(m,{...ne,curve:new Float32Array([1,1]),oversample:"none"});let L=[S,w,C],re=[O,k,I];const le=new Float32Array(1);R.onaudioprocess=({inputBuffer:ae})=>{const be=[f(ae,le,0),f(ae,le,1),f(ae,le,2)];be.some((Ce,Ye)=>Ce!==L[Ye])&&(Z.setOrientation(...be),L=be);const we=[f(ae,le,3),f(ae,le,4),f(ae,le,5)];we.some((Ce,Ye)=>Ce!==re[Ye])&&(Z.setPosition(...we),re=we)},Object.defineProperty(J.gain,"defaultValue",{get:()=>0}),Object.defineProperty(G.gain,"defaultValue",{get:()=>0}),Object.defineProperty(H.gain,"defaultValue",{get:()=>0}),Object.defineProperty(ue.gain,"defaultValue",{get:()=>0}),Object.defineProperty(ee.gain,"defaultValue",{get:()=>0});const te={get bufferSize(){},get channelCount(){return Z.channelCount},set channelCount(ae){if(ae>2)throw h();X.channelCount=ae,Z.channelCount=ae},get channelCountMode(){return Z.channelCountMode},set channelCountMode(ae){if(ae==="max")throw h();X.channelCountMode=ae,Z.channelCountMode=ae},get channelInterpretation(){return Z.channelInterpretation},set channelInterpretation(ae){X.channelInterpretation=ae,Z.channelInterpretation=ae},get coneInnerAngle(){return Z.coneInnerAngle},set coneInnerAngle(ae){Z.coneInnerAngle=ae},get coneOuterAngle(){return Z.coneOuterAngle},set coneOuterAngle(ae){Z.coneOuterAngle=ae},get coneOuterGain(){return Z.coneOuterGain},set coneOuterGain(ae){if(ae<0||ae>1)throw n();Z.coneOuterGain=ae},get context(){return Z.context},get distanceModel(){return Z.distanceModel},set distanceModel(ae){Z.distanceModel=ae},get inputs(){return[X]},get maxDistance(){return Z.maxDistance},set maxDistance(ae){if(ae<0)throw new RangeError;Z.maxDistance=ae},get numberOfInputs(){return Z.numberOfInputs},get numberOfOutputs(){return Z.numberOfOutputs},get orientationX(){return A.gain},get orientationY(){return J.gain},get orientationZ(){return G.gain},get panningModel(){return Z.panningModel},set panningModel(ae){Z.panningModel=ae},get positionX(){return H.gain},get positionY(){return ue.gain},get positionZ(){return ee.gain},get refDistance(){return Z.refDistance},set refDistance(ae){if(ae<0)throw new RangeError;Z.refDistance=ae},get rolloffFactor(){return Z.rolloffFactor},set rolloffFactor(ae){if(ae<0)throw new RangeError;Z.rolloffFactor=ae},addEventListener(...ae){return X.addEventListener(ae[0],ae[1],ae[2])},dispatchEvent(...ae){return X.dispatchEvent(ae[0])},removeEventListener(...ae){return X.removeEventListener(ae[0],ae[1],ae[2])}};_!==te.coneInnerAngle&&(te.coneInnerAngle=_),b!==te.coneOuterAngle&&(te.coneOuterAngle=b),v!==te.coneOuterGain&&(te.coneOuterGain=v),x!==te.distanceModel&&(te.distanceModel=x),y!==te.maxDistance&&(te.maxDistance=y),S!==te.orientationX.value&&(te.orientationX.value=S),w!==te.orientationY.value&&(te.orientationY.value=w),C!==te.orientationZ.value&&(te.orientationZ.value=C),M!==te.panningModel&&(te.panningModel=M),O!==te.positionX.value&&(te.positionX.value=O),k!==te.positionY.value&&(te.positionY.value=k),I!==te.positionZ.value&&(te.positionZ.value=I),B!==te.refDistance&&(te.refDistance=B),D!==te.rolloffFactor&&(te.rolloffFactor=D),(L[0]!==1||L[1]!==0||L[2]!==0)&&Z.setOrientation(...L),(re[0]!==0||re[1]!==0||re[2]!==0)&&Z.setPosition(...re);const ve=()=>{X.connect(Z),c(X,U,0,0),U.connect(A).connect(j,0,0),U.connect(J).connect(j,0,1),U.connect(G).connect(j,0,2),U.connect(H).connect(j,0,3),U.connect(ue).connect(j,0,4),U.connect(ee).connect(j,0,5),j.connect(R).connect(m.destination)},Oe=()=>{X.disconnect(Z),u(X,U,0,0),U.disconnect(A),A.disconnect(j),U.disconnect(J),J.disconnect(j),U.disconnect(G),G.disconnect(j),U.disconnect(H),H.disconnect(j),U.disconnect(ue),ue.disconnect(j),U.disconnect(ee),ee.disconnect(j),j.disconnect(R),R.disconnect(m.destination)};return p(Kr(te,Z),ve,Oe)},q2=c=>(n,{disableNormalization:s,imag:r,real:o})=>{const l=r instanceof Float32Array?r:new Float32Array(r),h=o instanceof Float32Array?o:new Float32Array(o),u=n.createPeriodicWave(h,l,{disableNormalization:s});if(Array.from(r).length<2)throw c();return u},ho=(c,n,s,r)=>c.createScriptProcessor(n,s,r),V2=(c,n)=>(s,r)=>{const o=r.channelCountMode;if(o==="clamped-max")throw n();if(s.createStereoPanner===void 0)return c(s,r);const l=s.createStereoPanner();return Wt(l,r),Rt(l,r,"pan"),Object.defineProperty(l,"channelCountMode",{get:()=>o,set:h=>{if(h!==o)throw n()}}),l},L2=(c,n,s,r,o,l)=>{const u=new Float32Array([1,1]),f=Math.PI/2,p={channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete"},m={...p,oversample:"none"},_=(x,y,S,w)=>{const C=new Float32Array(16385),M=new Float32Array(16385);for(let V=0;V<16385;V+=1){const Z=V/16384*f;C[V]=Math.cos(Z),M[V]=Math.sin(Z)}const O=s(x,{...p,gain:0}),k=r(x,{...m,curve:C}),I=r(x,{...m,curve:u}),B=s(x,{...p,gain:0}),D=r(x,{...m,curve:M});return{connectGraph(){y.connect(O),y.connect(I.inputs===void 0?I:I.inputs[0]),y.connect(B),I.connect(S),S.connect(k.inputs===void 0?k:k.inputs[0]),S.connect(D.inputs===void 0?D:D.inputs[0]),k.connect(O.gain),D.connect(B.gain),O.connect(w,0,0),B.connect(w,0,1)},disconnectGraph(){y.disconnect(O),y.disconnect(I.inputs===void 0?I:I.inputs[0]),y.disconnect(B),I.disconnect(S),S.disconnect(k.inputs===void 0?k:k.inputs[0]),S.disconnect(D.inputs===void 0?D:D.inputs[0]),k.disconnect(O.gain),D.disconnect(B.gain),O.disconnect(w,0,0),B.disconnect(w,0,1)}}},b=(x,y,S,w)=>{const C=new Float32Array(16385),M=new Float32Array(16385),O=new Float32Array(16385),k=new Float32Array(16385),I=Math.floor(16385/2);for(let H=0;H<16385;H+=1)if(H>I){const ue=(H-I)/(16384-I)*f;C[H]=Math.cos(ue),M[H]=Math.sin(ue),O[H]=0,k[H]=1}else{const ue=H/(16384-I)*f;C[H]=1,M[H]=0,O[H]=Math.cos(ue),k[H]=Math.sin(ue)}const B=n(x,{channelCount:2,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:2}),D=s(x,{...p,gain:0}),V=r(x,{...m,curve:C}),Z=s(x,{...p,gain:0}),ne=r(x,{...m,curve:M}),j=r(x,{...m,curve:u}),X=s(x,{...p,gain:0}),A=r(x,{...m,curve:O}),J=s(x,{...p,gain:0}),G=r(x,{...m,curve:k});return{connectGraph(){y.connect(B),y.connect(j.inputs===void 0?j:j.inputs[0]),B.connect(D,0),B.connect(Z,0),B.connect(X,1),B.connect(J,1),j.connect(S),S.connect(V.inputs===void 0?V:V.inputs[0]),S.connect(ne.inputs===void 0?ne:ne.inputs[0]),S.connect(A.inputs===void 0?A:A.inputs[0]),S.connect(G.inputs===void 0?G:G.inputs[0]),V.connect(D.gain),ne.connect(Z.gain),A.connect(X.gain),G.connect(J.gain),D.connect(w,0,0),X.connect(w,0,0),Z.connect(w,0,1),J.connect(w,0,1)},disconnectGraph(){y.disconnect(B),y.disconnect(j.inputs===void 0?j:j.inputs[0]),B.disconnect(D,0),B.disconnect(Z,0),B.disconnect(X,1),B.disconnect(J,1),j.disconnect(S),S.disconnect(V.inputs===void 0?V:V.inputs[0]),S.disconnect(ne.inputs===void 0?ne:ne.inputs[0]),S.disconnect(A.inputs===void 0?A:A.inputs[0]),S.disconnect(G.inputs===void 0?G:G.inputs[0]),V.disconnect(D.gain),ne.disconnect(Z.gain),A.disconnect(X.gain),G.disconnect(J.gain),D.disconnect(w,0,0),X.disconnect(w,0,0),Z.disconnect(w,0,1),J.disconnect(w,0,1)}}},v=(x,y,S,w,C)=>{if(y===1)return _(x,S,w,C);if(y===2)return b(x,S,w,C);throw o()};return(x,{channelCount:y,channelCountMode:S,pan:w,...C})=>{if(S==="max")throw o();const M=c(x,{...C,channelCount:1,channelCountMode:S,numberOfInputs:2}),O=s(x,{...C,channelCount:y,channelCountMode:S,gain:1}),k=s(x,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:w});let{connectGraph:I,disconnectGraph:B}=v(x,y,O,k,M);Object.defineProperty(k.gain,"defaultValue",{get:()=>0}),Object.defineProperty(k.gain,"maxValue",{get:()=>1}),Object.defineProperty(k.gain,"minValue",{get:()=>-1});const D={get bufferSize(){},get channelCount(){return O.channelCount},set channelCount(j){O.channelCount!==j&&(V&&B(),{connectGraph:I,disconnectGraph:B}=v(x,j,O,k,M),V&&I()),O.channelCount=j},get channelCountMode(){return O.channelCountMode},set channelCountMode(j){if(j==="clamped-max"||j==="max")throw o();O.channelCountMode=j},get channelInterpretation(){return O.channelInterpretation},set channelInterpretation(j){O.channelInterpretation=j},get context(){return O.context},get inputs(){return[O]},get numberOfInputs(){return O.numberOfInputs},get numberOfOutputs(){return O.numberOfOutputs},get pan(){return k.gain},addEventListener(...j){return O.addEventListener(j[0],j[1],j[2])},dispatchEvent(...j){return O.dispatchEvent(j[0])},removeEventListener(...j){return O.removeEventListener(j[0],j[1],j[2])}};let V=!1;const Z=()=>{I(),V=!0},ne=()=>{B(),V=!1};return l(Kr(D,M),Z,ne)}},F2=(c,n,s,r,o,l,h)=>(u,f)=>{const p=u.createWaveShaper();if(l!==null&&l.name==="webkitAudioContext"&&u.createGain().gain.automationRate===void 0)return s(u,f);Wt(p,f);const m=f.curve===null||f.curve instanceof Float32Array?f.curve:new Float32Array(f.curve);if(m!==null&&m.length<2)throw n();Nt(p,{curve:m},"curve"),Nt(p,f,"oversample");let _=null,b=!1;return h(p,"curve",y=>()=>y.call(p),y=>S=>(y.call(p,S),b&&(r(S)&&_===null?_=c(u,p):!r(S)&&_!==null&&(_(),_=null)),S)),o(p,()=>{b=!0,r(p.curve)&&(_=c(u,p))},()=>{b=!1,_!==null&&(_(),_=null)})},H2=(c,n,s,r,o)=>(l,{curve:h,oversample:u,...f})=>{const p=l.createWaveShaper(),m=l.createWaveShaper();Wt(p,f),Wt(m,f);const _=s(l,{...f,gain:1}),b=s(l,{...f,gain:-1}),v=s(l,{...f,gain:1}),x=s(l,{...f,gain:-1});let y=null,S=!1,w=null;const C={get bufferSize(){},get channelCount(){return p.channelCount},set channelCount(k){_.channelCount=k,b.channelCount=k,p.channelCount=k,v.channelCount=k,m.channelCount=k,x.channelCount=k},get channelCountMode(){return p.channelCountMode},set channelCountMode(k){_.channelCountMode=k,b.channelCountMode=k,p.channelCountMode=k,v.channelCountMode=k,m.channelCountMode=k,x.channelCountMode=k},get channelInterpretation(){return p.channelInterpretation},set channelInterpretation(k){_.channelInterpretation=k,b.channelInterpretation=k,p.channelInterpretation=k,v.channelInterpretation=k,m.channelInterpretation=k,x.channelInterpretation=k},get context(){return p.context},get curve(){return w},set curve(k){if(k!==null&&k.length<2)throw n();if(k===null)p.curve=k,m.curve=k;else{const I=k.length,B=new Float32Array(I+2-I%2),D=new Float32Array(I+2-I%2);B[0]=k[0],D[0]=-k[I-1];const V=Math.ceil((I+1)/2),Z=(I+1)/2-1;for(let ne=1;ne<V;ne+=1){const j=ne/V*Z,X=Math.floor(j),A=Math.ceil(j);B[ne]=X===A?k[X]:(1-(j-X))*k[X]+(1-(A-j))*k[A],D[ne]=X===A?-k[I-1-X]:-((1-(j-X))*k[I-1-X])-(1-(A-j))*k[I-1-A]}B[V]=I%2===1?k[V-1]:(k[V-2]+k[V-1])/2,p.curve=B,m.curve=D}w=k,S&&(r(w)&&y===null?y=c(l,_):y!==null&&(y(),y=null))},get inputs(){return[_]},get numberOfInputs(){return p.numberOfInputs},get numberOfOutputs(){return p.numberOfOutputs},get oversample(){return p.oversample},set oversample(k){p.oversample=k,m.oversample=k},addEventListener(...k){return _.addEventListener(k[0],k[1],k[2])},dispatchEvent(...k){return _.dispatchEvent(k[0])},removeEventListener(...k){return _.removeEventListener(k[0],k[1],k[2])}};h!==null&&(C.curve=h instanceof Float32Array?h:new Float32Array(h)),u!==C.oversample&&(C.oversample=u);const M=()=>{_.connect(p).connect(v),_.connect(b).connect(m).connect(x).connect(v),S=!0,r(w)&&(y=c(l,_))},O=()=>{_.disconnect(p),p.disconnect(v),_.disconnect(b),b.disconnect(m),m.disconnect(x),x.disconnect(v),S=!1,y!==null&&(y(),y=null)};return o(Kr(C,v),M,O)},gn=()=>new DOMException("","NotSupportedError"),G2={numberOfChannels:1},P2=(c,n,s,r,o)=>class extends c{constructor(h,u,f){let p;if(typeof h=="number"&&u!==void 0&&f!==void 0)p={length:u,numberOfChannels:h,sampleRate:f};else if(typeof h=="object")p=h;else throw new Error("The given parameters are not valid.");const{length:m,numberOfChannels:_,sampleRate:b}={...G2,...p},v=r(_,m,b);n(so,()=>so(v))||v.addEventListener("statechange",(()=>{let x=0;const y=S=>{this._state==="running"&&(x>0?(v.removeEventListener("statechange",y),S.stopImmediatePropagation(),this._waitForThePromiseToSettle(S)):x+=1)};return y})()),super(v,_),this._length=m,this._nativeOfflineAudioContext=v,this._state=null}get length(){return this._nativeOfflineAudioContext.length===void 0?this._length:this._nativeOfflineAudioContext.length}get state(){return this._state===null?this._nativeOfflineAudioContext.state:this._state}startRendering(){return this._state==="running"?Promise.reject(s()):(this._state="running",o(this.destination,this._nativeOfflineAudioContext).finally(()=>{this._state=null,u_(this)}))}_waitForThePromiseToSettle(h){this._state===null?this._nativeOfflineAudioContext.dispatchEvent(h):setTimeout(()=>this._waitForThePromiseToSettle(h))}},Z2={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",detune:0,frequency:440,periodicWave:void 0,type:"sine"},Y2=(c,n,s,r,o,l,h)=>class extends c{constructor(f,p){const m=o(f),_={...Z2,...p},b=s(m,_),v=l(m),x=v?r():null,y=f.sampleRate/2;super(f,!1,b,x),this._detune=n(this,v,b.detune,153600,-153600),this._frequency=n(this,v,b.frequency,y,-y),this._nativeOscillatorNode=b,this._onended=null,this._oscillatorNodeRenderer=x,this._oscillatorNodeRenderer!==null&&_.periodicWave!==void 0&&(this._oscillatorNodeRenderer.periodicWave=_.periodicWave)}get detune(){return this._detune}get frequency(){return this._frequency}get onended(){return this._onended}set onended(f){const p=typeof f=="function"?h(this,f):null;this._nativeOscillatorNode.onended=p;const m=this._nativeOscillatorNode.onended;this._onended=m!==null&&m===p?f:m}get type(){return this._nativeOscillatorNode.type}set type(f){this._nativeOscillatorNode.type=f,this._oscillatorNodeRenderer!==null&&(this._oscillatorNodeRenderer.periodicWave=null)}setPeriodicWave(f){this._nativeOscillatorNode.setPeriodicWave(f),this._oscillatorNodeRenderer!==null&&(this._oscillatorNodeRenderer.periodicWave=f)}start(f=0){if(this._nativeOscillatorNode.start(f),this._oscillatorNodeRenderer!==null&&(this._oscillatorNodeRenderer.start=f),this.context.state!=="closed"){Fr(this);const p=()=>{this._nativeOscillatorNode.removeEventListener("ended",p),Vs(this)&&oo(this)};this._nativeOscillatorNode.addEventListener("ended",p)}}stop(f=0){this._nativeOscillatorNode.stop(f),this._oscillatorNodeRenderer!==null&&(this._oscillatorNodeRenderer.stop=f)}},X2=(c,n,s,r,o)=>()=>{const l=new WeakMap;let h=null,u=null,f=null;const p=async(m,_)=>{let b=s(m);const v=hn(b,_);if(!v){const x={channelCount:b.channelCount,channelCountMode:b.channelCountMode,channelInterpretation:b.channelInterpretation,detune:b.detune.value,frequency:b.frequency.value,periodicWave:h===null?void 0:h,type:b.type};b=n(_,x),u!==null&&b.start(u),f!==null&&b.stop(f)}return l.set(_,b),v?(await c(_,m.detune,b.detune),await c(_,m.frequency,b.frequency)):(await r(_,m.detune,b.detune),await r(_,m.frequency,b.frequency)),await o(m,_,b),b};return{set periodicWave(m){h=m},set start(m){u=m},set stop(m){f=m},render(m,_){const b=l.get(_);return b!==void 0?Promise.resolve(b):p(m,_)}}},W2={channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",coneInnerAngle:360,coneOuterAngle:360,coneOuterGain:0,distanceModel:"inverse",maxDistance:1e4,orientationX:1,orientationY:0,orientationZ:0,panningModel:"equalpower",positionX:0,positionY:0,positionZ:0,refDistance:1,rolloffFactor:1},Q2=(c,n,s,r,o,l,h)=>class extends c{constructor(f,p){const m=o(f),_={...W2,...p},b=s(m,_),v=l(m),x=v?r():null;super(f,!1,b,x),this._nativePannerNode=b,this._orientationX=n(this,v,b.orientationX,pn,Tn),this._orientationY=n(this,v,b.orientationY,pn,Tn),this._orientationZ=n(this,v,b.orientationZ,pn,Tn),this._positionX=n(this,v,b.positionX,pn,Tn),this._positionY=n(this,v,b.positionY,pn,Tn),this._positionZ=n(this,v,b.positionZ,pn,Tn),h(this,1)}get coneInnerAngle(){return this._nativePannerNode.coneInnerAngle}set coneInnerAngle(f){this._nativePannerNode.coneInnerAngle=f}get coneOuterAngle(){return this._nativePannerNode.coneOuterAngle}set coneOuterAngle(f){this._nativePannerNode.coneOuterAngle=f}get coneOuterGain(){return this._nativePannerNode.coneOuterGain}set coneOuterGain(f){this._nativePannerNode.coneOuterGain=f}get distanceModel(){return this._nativePannerNode.distanceModel}set distanceModel(f){this._nativePannerNode.distanceModel=f}get maxDistance(){return this._nativePannerNode.maxDistance}set maxDistance(f){this._nativePannerNode.maxDistance=f}get orientationX(){return this._orientationX}get orientationY(){return this._orientationY}get orientationZ(){return this._orientationZ}get panningModel(){return this._nativePannerNode.panningModel}set panningModel(f){this._nativePannerNode.panningModel=f}get positionX(){return this._positionX}get positionY(){return this._positionY}get positionZ(){return this._positionZ}get refDistance(){return this._nativePannerNode.refDistance}set refDistance(f){this._nativePannerNode.refDistance=f}get rolloffFactor(){return this._nativePannerNode.rolloffFactor}set rolloffFactor(f){this._nativePannerNode.rolloffFactor=f}},K2=(c,n,s,r,o,l,h,u,f,p)=>()=>{const m=new WeakMap;let _=null;const b=async(v,x)=>{let y=null,S=l(v);const w={channelCount:S.channelCount,channelCountMode:S.channelCountMode,channelInterpretation:S.channelInterpretation},C={...w,coneInnerAngle:S.coneInnerAngle,coneOuterAngle:S.coneOuterAngle,coneOuterGain:S.coneOuterGain,distanceModel:S.distanceModel,maxDistance:S.maxDistance,panningModel:S.panningModel,refDistance:S.refDistance,rolloffFactor:S.rolloffFactor},M=hn(S,x);if("bufferSize"in S)y=r(x,{...w,gain:1});else if(!M){const O={...C,orientationX:S.orientationX.value,orientationY:S.orientationY.value,orientationZ:S.orientationZ.value,positionX:S.positionX.value,positionY:S.positionY.value,positionZ:S.positionZ.value};S=o(x,O)}if(m.set(x,y===null?S:y),y!==null){if(_===null){if(h===null)throw new Error("Missing the native OfflineAudioContext constructor.");const ne=new h(6,v.context.length,x.sampleRate),j=n(ne,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:6});j.connect(ne.destination),_=(async()=>{const X=await Promise.all([v.orientationX,v.orientationY,v.orientationZ,v.positionX,v.positionY,v.positionZ].map(async(A,J)=>{const G=s(ne,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:J===0?1:0});return await u(ne,A,G.offset),G}));for(let A=0;A<6;A+=1)X[A].connect(j,0,A),X[A].start(0);return p(ne)})()}const O=await _,k=r(x,{...w,gain:1});await f(v,x,k);const I=[];for(let ne=0;ne<O.numberOfChannels;ne+=1)I.push(O.getChannelData(ne));let B=[I[0][0],I[1][0],I[2][0]],D=[I[3][0],I[4][0],I[5][0]],V=r(x,{...w,gain:1}),Z=o(x,{...C,orientationX:B[0],orientationY:B[1],orientationZ:B[2],positionX:D[0],positionY:D[1],positionZ:D[2]});k.connect(V).connect(Z.inputs[0]),Z.connect(y);for(let ne=128;ne<O.length;ne+=128){const j=[I[0][ne],I[1][ne],I[2][ne]],X=[I[3][ne],I[4][ne],I[5][ne]];if(j.some((A,J)=>A!==B[J])||X.some((A,J)=>A!==D[J])){B=j,D=X;const A=ne/x.sampleRate;V.gain.setValueAtTime(0,A),V=r(x,{...w,gain:0}),Z=o(x,{...C,orientationX:B[0],orientationY:B[1],orientationZ:B[2],positionX:D[0],positionY:D[1],positionZ:D[2]}),V.gain.setValueAtTime(1,A),k.connect(V).connect(Z.inputs[0]),Z.connect(y)}}return y}return M?(await c(x,v.orientationX,S.orientationX),await c(x,v.orientationY,S.orientationY),await c(x,v.orientationZ,S.orientationZ),await c(x,v.positionX,S.positionX),await c(x,v.positionY,S.positionY),await c(x,v.positionZ,S.positionZ)):(await u(x,v.orientationX,S.orientationX),await u(x,v.orientationY,S.orientationY),await u(x,v.orientationZ,S.orientationZ),await u(x,v.positionX,S.positionX),await u(x,v.positionY,S.positionY),await u(x,v.positionZ,S.positionZ)),Qr(S)?await f(v,x,S.inputs[0]):await f(v,x,S),S};return{render(v,x){const y=m.get(x);return y!==void 0?Promise.resolve(y):b(v,x)}}},J2={disableNormalization:!1},$2=(c,n,s,r)=>class b_{constructor(l,h){const u=n(l),f=r({...J2,...h}),p=c(u,f);return s.add(p),p}static[Symbol.hasInstance](l){return l!==null&&typeof l=="object"&&Object.getPrototypeOf(l)===b_.prototype||s.has(l)}},eS=(c,n)=>(s,r,o)=>(c(r).replay(o),n(r,s,o)),tS=(c,n,s)=>async(r,o,l)=>{const h=c(r);await Promise.all(h.activeInputs.map((u,f)=>Array.from(u).map(async([p,m])=>{const b=await n(p).render(p,o),v=r.context.destination;!s(p)&&(r!==v||!s(r))&&b.connect(l,m,f)})).reduce((u,f)=>[...u,...f],[]))},nS=(c,n,s)=>async(r,o,l)=>{const h=n(r);await Promise.all(Array.from(h.activeInputs).map(async([u,f])=>{const m=await c(u).render(u,o);s(u)||m.connect(l,f)}))},sS=(c,n,s,r)=>o=>c(so,()=>so(o))?Promise.resolve(c(r,r)).then(l=>{if(!l){const h=s(o,512,0,1);o.oncomplete=()=>{h.onaudioprocess=null,h.disconnect()},h.onaudioprocess=()=>o.currentTime,h.connect(o.destination)}return o.startRendering()}):new Promise(l=>{const h=n(o,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});o.oncomplete=u=>{h.disconnect(),l(u.renderedBuffer)},h.connect(o.destination),o.startRendering()}),iS=c=>(n,s)=>{c.set(n,s)},rS=c=>(n,s)=>c.set(n,s),aS=(c,n,s,r,o,l,h,u)=>(f,p)=>s(f).render(f,p).then(()=>Promise.all(Array.from(r(p)).map(m=>s(m).render(m,p)))).then(()=>o(p)).then(m=>(typeof m.copyFromChannel!="function"?(h(m),yf(m)):n(l,()=>l(m))||u(m),c.add(m),m)),oS={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers",pan:0},lS=(c,n,s,r,o,l)=>class extends c{constructor(u,f){const p=o(u),m={...oS,...f},_=s(p,m),b=l(p),v=b?r():null;super(u,!1,_,v),this._pan=n(this,b,_.pan)}get pan(){return this._pan}},cS=(c,n,s,r,o)=>()=>{const l=new WeakMap,h=async(u,f)=>{let p=s(u);const m=hn(p,f);if(!m){const _={channelCount:p.channelCount,channelCountMode:p.channelCountMode,channelInterpretation:p.channelInterpretation,pan:p.pan.value};p=n(f,_)}return l.set(f,p),m?await c(f,u.pan,p.pan):await r(f,u.pan,p.pan),Qr(p)?await o(u,f,p.inputs[0]):await o(u,f,p),p};return{render(u,f){const p=l.get(f);return p!==void 0?Promise.resolve(p):h(u,f)}}},uS=c=>()=>{if(c===null)return!1;try{new c({length:1,sampleRate:44100})}catch{return!1}return!0},hS=(c,n)=>async()=>{if(c===null)return!0;if(n===null)return!1;const s=new Blob(['class A extends AudioWorkletProcessor{process(i){this.port.postMessage(i,[i[0][0].buffer])}}registerProcessor("a",A)'],{type:"application/javascript; charset=utf-8"}),r=new n(1,128,44100),o=URL.createObjectURL(s);let l=!1,h=!1;try{await r.audioWorklet.addModule(o);const u=new c(r,"a",{numberOfOutputs:0}),f=r.createOscillator();u.port.onmessage=()=>l=!0,u.onprocessorerror=()=>h=!0,f.connect(u),f.start(0),await r.startRendering(),await new Promise(p=>setTimeout(p))}catch{}finally{URL.revokeObjectURL(o)}return l&&!h},fS=(c,n)=>()=>{if(n===null)return Promise.resolve(!1);const s=new n(1,1,44100),r=c(s,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});return new Promise(o=>{s.oncomplete=()=>{r.disconnect(),o(s.currentTime!==0)},s.startRendering()})},dS=()=>new DOMException("","UnknownError"),pS={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",curve:null,oversample:"none"},mS=(c,n,s,r,o,l,h)=>class extends c{constructor(f,p){const m=o(f),_={...pS,...p},b=s(m,_),x=l(m)?r():null;super(f,!0,b,x),this._isCurveNullified=!1,this._nativeWaveShaperNode=b,h(this,1)}get curve(){return this._isCurveNullified?null:this._nativeWaveShaperNode.curve}set curve(f){if(f===null)this._isCurveNullified=!0,this._nativeWaveShaperNode.curve=new Float32Array([0,0]);else{if(f.length<2)throw n();this._isCurveNullified=!1,this._nativeWaveShaperNode.curve=f}}get oversample(){return this._nativeWaveShaperNode.oversample}set oversample(f){this._nativeWaveShaperNode.oversample=f}},gS=(c,n,s)=>()=>{const r=new WeakMap,o=async(l,h)=>{let u=n(l);if(!hn(u,h)){const p={channelCount:u.channelCount,channelCountMode:u.channelCountMode,channelInterpretation:u.channelInterpretation,curve:u.curve,oversample:u.oversample};u=c(h,p)}return r.set(h,u),Qr(u)?await s(l,h,u.inputs[0]):await s(l,h,u),u};return{render(l,h){const u=r.get(h);return u!==void 0?Promise.resolve(u):o(l,h)}}},_S=()=>typeof window>"u"?null:window,vS=(c,n)=>s=>{s.copyFromChannel=(r,o,l=0)=>{const h=c(l),u=c(o);if(u>=s.numberOfChannels)throw n();const f=s.length,p=s.getChannelData(u),m=r.length;for(let _=h<0?-h:0;_+h<f&&_<m;_+=1)r[_]=p[_+h]},s.copyToChannel=(r,o,l=0)=>{const h=c(l),u=c(o);if(u>=s.numberOfChannels)throw n();const f=s.length,p=s.getChannelData(u),m=r.length;for(let _=h<0?-h:0;_+h<f&&_<m;_+=1)p[_+h]=r[_]}},yS=c=>n=>{n.copyFromChannel=(s=>(r,o,l=0)=>{const h=c(l),u=c(o);if(h<n.length)return s.call(n,r,u,h)})(n.copyFromChannel),n.copyToChannel=(s=>(r,o,l=0)=>{const h=c(l),u=c(o);if(h<n.length)return s.call(n,r,u,h)})(n.copyToChannel)},bS=c=>(n,s)=>{const r=s.createBuffer(1,1,44100);n.buffer===null&&(n.buffer=r),c(n,"buffer",o=>()=>{const l=o.call(n);return l===r?null:l},o=>l=>o.call(n,l===null?r:l))},xS=(c,n)=>(s,r)=>{r.channelCount=1,r.channelCountMode="explicit",Object.defineProperty(r,"channelCount",{get:()=>1,set:()=>{throw c()}}),Object.defineProperty(r,"channelCountMode",{get:()=>"explicit",set:()=>{throw c()}});const o=s.createBufferSource();n(r,()=>{const u=r.numberOfInputs;for(let f=0;f<u;f+=1)o.connect(r,0,f)},()=>o.disconnect(r))},x_=(c,n,s)=>c.copyFromChannel===void 0?c.getChannelData(s)[0]:(c.copyFromChannel(n,s),n[0]),S_=c=>{if(c===null)return!1;const n=c.length;return n%2!==0?c[Math.floor(n/2)]!==0:c[n/2-1]+c[n/2]!==0},fo=(c,n,s,r)=>{let o=c;for(;!o.hasOwnProperty(n);)o=Object.getPrototypeOf(o);const{get:l,set:h}=Object.getOwnPropertyDescriptor(o,n);Object.defineProperty(c,n,{get:s(l),set:r(h)})},SS=c=>({...c,outputChannelCount:c.outputChannelCount!==void 0?c.outputChannelCount:c.numberOfInputs===1&&c.numberOfOutputs===1?[c.channelCount]:Array.from({length:c.numberOfOutputs},()=>1)}),wS=c=>({...c,channelCount:c.numberOfOutputs}),TS=c=>{const{imag:n,real:s}=c;return n===void 0?s===void 0?{...c,imag:[0,0],real:[0,0]}:{...c,imag:Array.from(s,()=>0),real:s}:s===void 0?{...c,imag:n,real:Array.from(n,()=>0)}:{...c,imag:n,real:s}},w_=(c,n,s)=>{try{c.setValueAtTime(n,s)}catch(r){if(r.code!==9)throw r;w_(c,n,s+1e-7)}},AS=c=>{const n=c.createBufferSource();n.start();try{n.start()}catch{return!0}return!1},NS=c=>{const n=c.createBufferSource(),s=c.createBuffer(1,1,44100);n.buffer=s;try{n.start(0,1)}catch{return!1}return!0},kS=c=>{const n=c.createBufferSource();n.start();try{n.stop()}catch{return!1}return!0},Tf=c=>{const n=c.createOscillator();try{n.start(-1)}catch(s){return s instanceof RangeError}return!1},T_=c=>{const n=c.createBuffer(1,1,44100),s=c.createBufferSource();s.buffer=n,s.start(),s.stop();try{return s.stop(),!0}catch{return!1}},Af=c=>{const n=c.createOscillator();try{n.stop(-1)}catch(s){return s instanceof RangeError}return!1},CS=c=>{const{port1:n,port2:s}=new MessageChannel;try{n.postMessage(c)}finally{n.close(),s.close()}},ES=c=>{c.start=(n=>(s=0,r=0,o)=>{const l=c.buffer,h=l===null?r:Math.min(l.duration,r);l!==null&&h>l.duration-.5/c.context.sampleRate?n.call(c,s,0,0):n.call(c,s,h,o)})(c.start)},A_=(c,n)=>{const s=n.createGain();c.connect(s);const r=(o=>()=>{o.call(c,s),c.removeEventListener("ended",r)})(c.disconnect);c.addEventListener("ended",r),Kr(c,s),c.stop=(o=>{let l=!1;return(h=0)=>{if(l)try{o.call(c,h)}catch{s.gain.setValueAtTime(0,h)}else o.call(c,h),l=!0}})(c.stop)},Jr=(c,n)=>s=>{const r={value:c};return Object.defineProperties(s,{currentTarget:r,target:r}),typeof n=="function"?n.call(c,s):n.handleEvent.call(c,s)},OS=Q1(Qi),MS=nb(Qi),DS=px(nc),N_=new WeakMap,RS=Dx(N_),ls=Gb(new Map,new WeakMap),_s=_S(),k_=l2(ls,vs),Nf=Mx(mn),an=tS(mn,Nf,Yi),jS=ob(k_,wt,an),yt=zx(tc),Fs=z2(_s),mt=Jx(Fs),C_=new WeakMap,E_=Tx(Jr),po=f2(_s),kf=Xx(po),Cf=Wx(_s),O_=Qx(_s),io=p2(_s),It=Db(K1(s_),tb(OS,MS,Gl,DS,Pl,mn,RS,ao,wt,Qi,Vs,Yi,Il),ls,Hx(sf,Pl,mn,wt,no,Vs),vs,sc,gn,ux(Gl,sf,mn,wt,no,yt,Vs,mt),_x(C_,mn,os),E_,yt,kf,Cf,O_,mt,io),zS=ab(It,jS,vs,k_,yt,mt),Ef=new WeakSet,c0=c2(_s),M_=sx(new Uint32Array(1)),Of=vS(M_,vs),Mf=yS(M_),D_=cb(Ef,ls,gn,c0,Fs,uS(c0),Of,Mf),ic=sb(Nn),R_=nS(Nf,lo,Yi),ys=Kb(R_),$r=h2(ic,ls,AS,NS,kS,Tf,T_,Af,ES,bS(fo),A_),bs=eS(Rx(lo),R_),US=fb(ys,$r,wt,bs,an),cs=Rb(J1(i_),C_,vf,jb,G1,P1,Z1,Y1,X1,ef,t_,po,w_),BS=hb(It,US,cs,$t,$r,yt,mt,Jr),IS=xb(It,Sb,vs,$t,d2(Nn,fo),yt,mt,an),qS=Hb(ys,v_,wt,bs,an),Ki=rS(N_),VS=Fb(It,cs,qS,sc,v_,yt,mt,Ki),xi=a2(Qi,Cf),LS=xS($t,xi),Si=x2(po,LS),FS=Yb(Si,wt,an),HS=Zb(It,FS,Si,yt,mt),GS=Qb(uo,wt,an),PS=Wb(It,GS,uo,yt,mt,wS),ZS=T2(ic,$r,Nn,xi),ea=w2(ic,ls,ZS,Tf,Af),YS=nx(ys,ea,wt,bs,an),XS=tx(It,cs,YS,ea,yt,mt,Jr),j_=A2(gn,fo),WS=ax(j_,wt,an),QS=rx(It,WS,j_,yt,mt,Ki),KS=dx(ys,y_,wt,bs,an),JS=fx(It,cs,KS,y_,yt,mt,Ki),z_=N2(gn),$S=xx(ys,z_,wt,bs,an),ew=bx(It,cs,$S,z_,gn,yt,mt,Ki),tw=Ex(ys,Nn,wt,bs,an),nw=Cx(It,cs,tw,Nn,yt,mt),sw=O2(sc,$t,ho,gn),rc=sS(ls,Nn,ho,fS(Nn,Fs)),iw=Fx($r,wt,Fs,an,rc),rw=k2(sw),aw=Vx(It,rw,iw,yt,mt,Ki),ow=wb(cs,Si,ea,ho,gn,x_,mt,fo),U_=new WeakMap,lw=r2(IS,ow,E_,mt,U_,Jr),B_=U2(ic,ls,Tf,T_,Af,A_),cw=X2(ys,B_,wt,bs,an),uw=Y2(It,cs,B_,cw,yt,mt,Jr),I_=$b($r),hw=H2(I_,$t,Nn,S_,xi),ac=F2(I_,$t,hw,S_,xi,po,fo),fw=I2(Gl,$t,Si,Nn,ho,ac,gn,Pl,x_,xi),q_=B2(fw),dw=K2(ys,Si,ea,Nn,q_,wt,Fs,bs,an,rc),pw=Q2(It,cs,q_,dw,yt,mt,Ki),mw=q2(vs),gw=$2(mw,yt,new WeakSet,TS),_w=L2(Si,uo,Nn,ac,gn,xi),V_=V2(_w,gn),vw=cS(ys,V_,wt,bs,an),yw=lS(It,cs,V_,vw,yt,mt),bw=gS(ac,wt,an),xw=mS(It,$t,ac,bw,yt,mt,Ki),L_=$x(_s),Df=Ax(_s),F_=new WeakMap,Sw=Ux(F_,Fs),ww=L_?eb(ls,gn,wx(_s),Df,Nx(W1),yt,Sw,mt,io,new WeakMap,new WeakMap,hS(io,Fs),_s):void 0,Tw=Kx(kf,mt),Aw=cx(Ef,ls,lx,Sx,new WeakSet,yt,Tw,Fl,so,Of,Mf),H_=Vb(ww,zS,D_,BS,VS,HS,PS,XS,QS,Aw,JS,ew,nw,aw,lw,uw,pw,gw,yw,xw),Nw=e2(It,M2,yt,mt),kw=n2(It,D2,yt,mt),Cw=s2(It,R2,yt,mt),Ew=j2($t,mt),Ow=i2(It,Ew,yt),Mw=bb(H_,$t,gn,dS,Nw,kw,Cw,Ow,po),Rf=Bx(U_),Dw=ib(Rf),G_=Jb(vs),Rw=mx(Rf),P_=vx(vs),Z_=new WeakMap,jw=Ox(Z_,os),zw=b2(G_,vs,$t,Si,uo,ea,Nn,ho,gn,P_,Df,jw,xi),Uw=g2($t,zw,Nn,gn,xi),Bw=qb(ys,G_,$r,Si,uo,ea,Nn,Rw,P_,Df,wt,io,Fs,bs,an,rc),Iw=jx(F_),qw=iS(Z_),u0=L_?Ub(Dw,It,cs,Bw,Uw,mn,Iw,yt,mt,io,SS,qw,CS,Jr):void 0,Vw=ox(gn,Fs),Lw=aS(Ef,ls,Nf,Rf,rc,Fl,Of,Mf),Fw=P2(H_,ls,$t,Vw,Lw),Hw=Gx(tc,kf),Gw=Px(_f,Cf),Pw=Zx(vf,O_),Zw=Yx(tc,mt);function Wn(c){return c===void 0}function Je(c){return c!==void 0}function Yw(c){return typeof c=="function"}function vi(c){return typeof c=="number"}function Pi(c){return Object.prototype.toString.call(c)==="[object Object]"&&c.constructor===Object}function Xw(c){return typeof c=="boolean"}function Un(c){return Array.isArray(c)}function Ls(c){return typeof c=="string"}function jl(c){return Ls(c)&&/^([a-g]{1}(?:b|#|x|bb)?)(-?[0-9]+)/i.test(c)}function qe(c,n){if(!c)throw new Error(n)}function yi(c,n,s=1/0){if(!(n<=c&&c<=s))throw new RangeError(`Value must be within [${n}, ${s}], got: ${c}`)}function Y_(c){!c.isOffline&&c.state!=="running"&&oc('The AudioContext is "suspended". Invoke Tone.start() from a user action to start the audio.')}let X_=!1,h0=!1;function f0(c){X_=c}function Ww(c){Wn(c)&&X_&&!h0&&(h0=!0,oc("Events scheduled inside of scheduled callbacks should use the passed in scheduling time. See https://github.com/Tonejs/Tone.js/wiki/Accurate-Timing"))}let W_=console;function Qw(...c){W_.log(...c)}function oc(...c){W_.warn(...c)}function Kw(c){return new Mw(c)}function Jw(c,n,s){return new Fw(c,n,s)}const jn=typeof self=="object"?self:null,$w=jn&&(jn.hasOwnProperty("AudioContext")||jn.hasOwnProperty("webkitAudioContext"));function eT(c,n,s){return qe(Je(u0),"AudioWorkletNode only works in a secure context (https or localhost)"),new(c instanceof jn?.BaseAudioContext?jn?.AudioWorkletNode:u0)(c,n,s)}function us(c,n,s,r){var o=arguments.length,l=o<3?n:r===null?r=Object.getOwnPropertyDescriptor(n,s):r,h;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")l=Reflect.decorate(c,n,s,r);else for(var u=c.length-1;u>=0;u--)(h=c[u])&&(l=(o<3?h(l):o>3?h(n,s,l):h(n,s))||l);return o>3&&l&&Object.defineProperty(n,s,l),l}function Ht(c,n,s,r){function o(l){return l instanceof s?l:new s(function(h){h(l)})}return new(s||(s=Promise))(function(l,h){function u(m){try{p(r.next(m))}catch(_){h(_)}}function f(m){try{p(r.throw(m))}catch(_){h(_)}}function p(m){m.done?l(m.value):o(m.value).then(u,f)}p((r=r.apply(c,n||[])).next())})}class tT{constructor(n,s,r,o){this._callback=n,this._type=s,this._minimumUpdateInterval=Math.max(128/(o||44100),.001),this.updateInterval=r,this._createClock()}_createWorker(){const n=new Blob([`
			// the initial timeout time
			let timeoutTime =  ${(this._updateInterval*1e3).toFixed(1)};
			// onmessage callback
			self.onmessage = function(msg){
				timeoutTime = parseInt(msg.data);
			};
			// the tick function which posts a message
			// and schedules a new tick
			function tick(){
				setTimeout(tick, timeoutTime);
				self.postMessage('tick');
			}
			// call tick initially
			tick();
			`],{type:"text/javascript"}),s=URL.createObjectURL(n),r=new Worker(s);r.onmessage=this._callback.bind(this),this._worker=r}_createTimeout(){this._timeout=setTimeout(()=>{this._createTimeout(),this._callback()},this._updateInterval*1e3)}_createClock(){if(this._type==="worker")try{this._createWorker()}catch{this._type="timeout",this._createClock()}else this._type==="timeout"&&this._createTimeout()}_disposeClock(){this._timeout&&clearTimeout(this._timeout),this._worker&&(this._worker.terminate(),this._worker.onmessage=null)}get updateInterval(){return this._updateInterval}set updateInterval(n){var s;this._updateInterval=Math.max(n,this._minimumUpdateInterval),this._type==="worker"&&((s=this._worker)===null||s===void 0||s.postMessage(this._updateInterval*1e3))}get type(){return this._type}set type(n){this._disposeClock(),this._type=n,this._createClock()}dispose(){this._disposeClock()}}function Xi(c){return Pw(c)}function _i(c){return Gw(c)}function ql(c){return Zw(c)}function zr(c){return Hw(c)}function nT(c){return c instanceof D_}function sT(c,n){return c==="value"||Xi(n)||_i(n)||nT(n)}function Zi(c,...n){if(!n.length)return c;const s=n.shift();if(Pi(c)&&Pi(s))for(const r in s)sT(r,s[r])?c[r]=s[r]:Pi(s[r])?(c[r]||Object.assign(c,{[r]:{}}),Zi(c[r],s[r])):Object.assign(c,{[r]:s[r]});return Zi(c,...n)}function iT(c,n){return c.length===n.length&&c.every((s,r)=>n[r]===s)}function He(c,n,s=[],r){const o={},l=Array.from(n);if(Pi(l[0])&&r&&!Reflect.has(l[0],r)&&(Object.keys(l[0]).some(u=>Reflect.has(c,u))||(Zi(o,{[r]:l[0]}),s.splice(s.indexOf(r),1),l.shift())),l.length===1&&Pi(l[0]))Zi(o,l[0]);else for(let h=0;h<s.length;h++)Je(l[h])&&(o[s[h]]=l[h]);return Zi(c,o)}function rT(c){return c.constructor.getDefaults()}function qr(c,n){return Wn(c)?n:c}function cf(c,n){return n.forEach(s=>{Reflect.has(c,s)&&delete c[s]}),c}/**
 * Tone.js
 * @author Yotam Mann
 * @license http://opensource.org/licenses/MIT MIT License
 * @copyright 2014-2024 Yotam Mann
 */class Hs{constructor(){this.debug=!1,this._wasDisposed=!1}static getDefaults(){return{}}log(...n){(this.debug||jn&&this.toString()===jn.TONE_DEBUG_CLASS)&&Qw(this,...n)}dispose(){return this._wasDisposed=!0,this}get disposed(){return this._wasDisposed}toString(){return this.name}}Hs.version=e_;const jf=1e-6;function Hr(c,n){return c>n+jf}function uf(c,n){return Hr(c,n)||is(c,n)}function Wl(c,n){return c+jf<n}function is(c,n){return Math.abs(c-n)<jf}function aT(c,n,s){return Math.max(Math.min(c,s),n)}class Qn extends Hs{constructor(){super(),this.name="Timeline",this._timeline=[];const n=He(Qn.getDefaults(),arguments,["memory"]);this.memory=n.memory,this.increasing=n.increasing}static getDefaults(){return{memory:1/0,increasing:!1}}get length(){return this._timeline.length}add(n){if(qe(Reflect.has(n,"time"),"Timeline: events must have a time attribute"),n.time=n.time.valueOf(),this.increasing&&this.length){const s=this._timeline[this.length-1];qe(uf(n.time,s.time),"The time must be greater than or equal to the last scheduled time"),this._timeline.push(n)}else{const s=this._search(n.time);this._timeline.splice(s+1,0,n)}if(this.length>this.memory){const s=this.length-this.memory;this._timeline.splice(0,s)}return this}remove(n){const s=this._timeline.indexOf(n);return s!==-1&&this._timeline.splice(s,1),this}get(n,s="time"){const r=this._search(n,s);return r!==-1?this._timeline[r]:null}peek(){return this._timeline[0]}shift(){return this._timeline.shift()}getAfter(n,s="time"){const r=this._search(n,s);return r+1<this._timeline.length?this._timeline[r+1]:null}getBefore(n){const s=this._timeline.length;if(s>0&&this._timeline[s-1].time<n)return this._timeline[s-1];const r=this._search(n);return r-1>=0?this._timeline[r-1]:null}cancel(n){if(this._timeline.length>1){let s=this._search(n);if(s>=0)if(is(this._timeline[s].time,n)){for(let r=s;r>=0&&is(this._timeline[r].time,n);r--)s=r;this._timeline=this._timeline.slice(0,s)}else this._timeline=this._timeline.slice(0,s+1);else this._timeline=[]}else this._timeline.length===1&&uf(this._timeline[0].time,n)&&(this._timeline=[]);return this}cancelBefore(n){const s=this._search(n);return s>=0&&(this._timeline=this._timeline.slice(s+1)),this}previousEvent(n){const s=this._timeline.indexOf(n);return s>0?this._timeline[s-1]:null}_search(n,s="time"){if(this._timeline.length===0)return-1;let r=0;const o=this._timeline.length;let l=o;if(o>0&&this._timeline[o-1][s]<=n)return o-1;for(;r<l;){let h=Math.floor(r+(l-r)/2);const u=this._timeline[h],f=this._timeline[h+1];if(is(u[s],n)){for(let p=h;p<this._timeline.length;p++){const m=this._timeline[p];if(is(m[s],n))h=p;else break}return h}else{if(Wl(u[s],n)&&Hr(f[s],n))return h;Hr(u[s],n)?l=h:r=h+1}}return-1}_iterate(n,s=0,r=this._timeline.length-1){this._timeline.slice(s,r+1).forEach(n)}forEach(n){return this._iterate(n),this}forEachBefore(n,s){const r=this._search(n);return r!==-1&&this._iterate(s,0,r),this}forEachAfter(n,s){const r=this._search(n);return this._iterate(s,r+1),this}forEachBetween(n,s,r){let o=this._search(n),l=this._search(s);return o!==-1&&l!==-1?(this._timeline[o].time!==n&&(o+=1),this._timeline[l].time===s&&(l-=1),this._iterate(r,o,l)):o===-1&&this._iterate(r,0,l),this}forEachFrom(n,s){let r=this._search(n);for(;r>=0&&this._timeline[r].time>=n;)r--;return this._iterate(s,r+1),this}forEachAtTime(n,s){const r=this._search(n);if(r!==-1&&is(this._timeline[r].time,n)){let o=r;for(let l=r;l>=0&&is(this._timeline[l].time,n);l--)o=l;this._iterate(l=>{s(l)},o,r)}return this}dispose(){return super.dispose(),this._timeline=[],this}}const Q_=[];function lc(c){Q_.push(c)}function oT(c){Q_.forEach(n=>n(c))}const K_=[];function cc(c){K_.push(c)}function lT(c){K_.forEach(n=>n(c))}class mo extends Hs{constructor(){super(...arguments),this.name="Emitter"}on(n,s){return n.split(/\W+/).forEach(o=>{Wn(this._events)&&(this._events={}),this._events.hasOwnProperty(o)||(this._events[o]=[]),this._events[o].push(s)}),this}once(n,s){const r=(...o)=>{s(...o),this.off(n,r)};return this.on(n,r),this}off(n,s){return n.split(/\W+/).forEach(o=>{if(Wn(this._events)&&(this._events={}),this._events.hasOwnProperty(o))if(Wn(s))this._events[o]=[];else{const l=this._events[o];for(let h=l.length-1;h>=0;h--)l[h]===s&&l.splice(h,1)}}),this}emit(n,...s){if(this._events&&this._events.hasOwnProperty(n)){const r=this._events[n].slice(0);for(let o=0,l=r.length;o<l;o++)r[o].apply(this,s)}return this}static mixin(n){["on","once","off","emit"].forEach(s=>{const r=Object.getOwnPropertyDescriptor(mo.prototype,s);Object.defineProperty(n.prototype,s,r)})}dispose(){return super.dispose(),this._events=void 0,this}}class J_ extends mo{constructor(){super(...arguments),this.isOffline=!1}toJSON(){return{}}}class go extends J_{constructor(){var n,s;super(),this.name="Context",this._constants=new Map,this._timeouts=new Qn,this._timeoutIds=0,this._initialized=!1,this._closeStarted=!1,this.isOffline=!1,this._workletPromise=null;const r=He(go.getDefaults(),arguments,["context"]);r.context?(this._context=r.context,this._latencyHint=((n=arguments[0])===null||n===void 0?void 0:n.latencyHint)||""):(this._context=Kw({latencyHint:r.latencyHint}),this._latencyHint=r.latencyHint),this._ticker=new tT(this.emit.bind(this,"tick"),r.clockSource,r.updateInterval,this._context.sampleRate),this.on("tick",this._timeoutLoop.bind(this)),this._context.onstatechange=()=>{this.emit("statechange",this.state)},this[!((s=arguments[0])===null||s===void 0)&&s.hasOwnProperty("updateInterval")?"_lookAhead":"lookAhead"]=r.lookAhead}static getDefaults(){return{clockSource:"worker",latencyHint:"interactive",lookAhead:.1,updateInterval:.05}}initialize(){return this._initialized||(oT(this),this._initialized=!0),this}createAnalyser(){return this._context.createAnalyser()}createOscillator(){return this._context.createOscillator()}createBufferSource(){return this._context.createBufferSource()}createBiquadFilter(){return this._context.createBiquadFilter()}createBuffer(n,s,r){return this._context.createBuffer(n,s,r)}createChannelMerger(n){return this._context.createChannelMerger(n)}createChannelSplitter(n){return this._context.createChannelSplitter(n)}createConstantSource(){return this._context.createConstantSource()}createConvolver(){return this._context.createConvolver()}createDelay(n){return this._context.createDelay(n)}createDynamicsCompressor(){return this._context.createDynamicsCompressor()}createGain(){return this._context.createGain()}createIIRFilter(n,s){return this._context.createIIRFilter(n,s)}createPanner(){return this._context.createPanner()}createPeriodicWave(n,s,r){return this._context.createPeriodicWave(n,s,r)}createStereoPanner(){return this._context.createStereoPanner()}createWaveShaper(){return this._context.createWaveShaper()}createMediaStreamSource(n){return qe(zr(this._context),"Not available if OfflineAudioContext"),this._context.createMediaStreamSource(n)}createMediaElementSource(n){return qe(zr(this._context),"Not available if OfflineAudioContext"),this._context.createMediaElementSource(n)}createMediaStreamDestination(){return qe(zr(this._context),"Not available if OfflineAudioContext"),this._context.createMediaStreamDestination()}decodeAudioData(n){return this._context.decodeAudioData(n)}get currentTime(){return this._context.currentTime}get state(){return this._context.state}get sampleRate(){return this._context.sampleRate}get listener(){return this.initialize(),this._listener}set listener(n){qe(!this._initialized,"The listener cannot be set after initialization."),this._listener=n}get transport(){return this.initialize(),this._transport}set transport(n){qe(!this._initialized,"The transport cannot be set after initialization."),this._transport=n}get draw(){return this.initialize(),this._draw}set draw(n){qe(!this._initialized,"Draw cannot be set after initialization."),this._draw=n}get destination(){return this.initialize(),this._destination}set destination(n){qe(!this._initialized,"The destination cannot be set after initialization."),this._destination=n}createAudioWorkletNode(n,s){return eT(this.rawContext,n,s)}addAudioWorkletModule(n){return Ht(this,void 0,void 0,function*(){qe(Je(this.rawContext.audioWorklet),"AudioWorkletNode is only available in a secure context (https or localhost)"),this._workletPromise||(this._workletPromise=this.rawContext.audioWorklet.addModule(n)),yield this._workletPromise})}workletsAreReady(){return Ht(this,void 0,void 0,function*(){(yield this._workletPromise)?this._workletPromise:Promise.resolve()})}get updateInterval(){return this._ticker.updateInterval}set updateInterval(n){this._ticker.updateInterval=n}get clockSource(){return this._ticker.type}set clockSource(n){this._ticker.type=n}get lookAhead(){return this._lookAhead}set lookAhead(n){this._lookAhead=n,this.updateInterval=n?n/2:.01}get latencyHint(){return this._latencyHint}get rawContext(){return this._context}now(){return this._context.currentTime+this._lookAhead}immediate(){return this._context.currentTime}resume(){return zr(this._context)?this._context.resume():Promise.resolve()}close(){return Ht(this,void 0,void 0,function*(){zr(this._context)&&this.state!=="closed"&&!this._closeStarted&&(this._closeStarted=!0,yield this._context.close()),this._initialized&&lT(this)})}getConstant(n){if(this._constants.has(n))return this._constants.get(n);{const s=this._context.createBuffer(1,128,this._context.sampleRate),r=s.getChannelData(0);for(let l=0;l<r.length;l++)r[l]=n;const o=this._context.createBufferSource();return o.channelCount=1,o.channelCountMode="explicit",o.buffer=s,o.loop=!0,o.start(0),this._constants.set(n,o),o}}dispose(){return super.dispose(),this._ticker.dispose(),this._timeouts.dispose(),Object.keys(this._constants).map(n=>this._constants[n].disconnect()),this.close(),this}_timeoutLoop(){const n=this.now();this._timeouts.forEachBefore(n,s=>{s.callback(),this._timeouts.remove(s)})}setTimeout(n,s){this._timeoutIds++;const r=this.now();return this._timeouts.add({callback:n,id:this._timeoutIds,time:r+s}),this._timeoutIds}clearTimeout(n){return this._timeouts.forEach(s=>{s.id===n&&this._timeouts.remove(s)}),this}clearInterval(n){return this.clearTimeout(n)}setInterval(n,s){const r=++this._timeoutIds,o=()=>{const l=this.now();this._timeouts.add({callback:()=>{n(),o()},id:r,time:l+s})};return o(),r}}class cT extends J_{constructor(){super(...arguments),this.lookAhead=0,this.latencyHint=0,this.isOffline=!1}createAnalyser(){return{}}createOscillator(){return{}}createBufferSource(){return{}}createBiquadFilter(){return{}}createBuffer(n,s,r){return{}}createChannelMerger(n){return{}}createChannelSplitter(n){return{}}createConstantSource(){return{}}createConvolver(){return{}}createDelay(n){return{}}createDynamicsCompressor(){return{}}createGain(){return{}}createIIRFilter(n,s){return{}}createPanner(){return{}}createPeriodicWave(n,s,r){return{}}createStereoPanner(){return{}}createWaveShaper(){return{}}createMediaStreamSource(n){return{}}createMediaElementSource(n){return{}}createMediaStreamDestination(){return{}}decodeAudioData(n){return Promise.resolve({})}createAudioWorkletNode(n,s){return{}}get rawContext(){return{}}addAudioWorkletModule(n){return Ht(this,void 0,void 0,function*(){return Promise.resolve()})}resume(){return Promise.resolve()}setTimeout(n,s){return 0}clearTimeout(n){return this}setInterval(n,s){return 0}clearInterval(n){return this}getConstant(n){return{}}get currentTime(){return 0}get state(){return{}}get sampleRate(){return 0}get listener(){return{}}get transport(){return{}}get draw(){return{}}set draw(n){}get destination(){return{}}set destination(n){}now(){return 0}immediate(){return 0}}function jt(c,n){Un(n)?n.forEach(s=>jt(c,s)):Object.defineProperty(c,n,{enumerable:!0,writable:!1})}function $_(c,n){Un(n)?n.forEach(s=>$_(c,s)):Object.defineProperty(c,n,{writable:!0})}const pt=()=>{};class St extends Hs{constructor(){super(),this.name="ToneAudioBuffer",this.onload=pt;const n=He(St.getDefaults(),arguments,["url","onload","onerror"]);this.reverse=n.reverse,this.onload=n.onload,Ls(n.url)?this.load(n.url).catch(n.onerror):n.url&&this.set(n.url)}static getDefaults(){return{onerror:pt,onload:pt,reverse:!1}}get sampleRate(){return this._buffer?this._buffer.sampleRate:rs().sampleRate}set(n){return n instanceof St?n.loaded?this._buffer=n.get():n.onload=()=>{this.set(n),this.onload(this)}:this._buffer=n,this._reversed&&this._reverse(),this}get(){return this._buffer}load(n){return Ht(this,void 0,void 0,function*(){const s=St.load(n).then(r=>{this.set(r),this.onload(this)});St.downloads.push(s);try{yield s}finally{const r=St.downloads.indexOf(s);St.downloads.splice(r,1)}return this})}dispose(){return super.dispose(),this._buffer=void 0,this}fromArray(n){const s=Un(n)&&n[0].length>0,r=s?n.length:1,o=s?n[0].length:n.length,l=rs(),h=l.createBuffer(r,o,l.sampleRate),u=!s&&r===1?[n]:n;for(let f=0;f<r;f++)h.copyToChannel(u[f],f);return this._buffer=h,this}toMono(n){if(vi(n))this.fromArray(this.toArray(n));else{let s=new Float32Array(this.length);const r=this.numberOfChannels;for(let o=0;o<r;o++){const l=this.toArray(o);for(let h=0;h<l.length;h++)s[h]+=l[h]}s=s.map(o=>o/r),this.fromArray(s)}return this}toArray(n){if(vi(n))return this.getChannelData(n);if(this.numberOfChannels===1)return this.toArray(0);{const s=[];for(let r=0;r<this.numberOfChannels;r++)s[r]=this.getChannelData(r);return s}}getChannelData(n){return this._buffer?this._buffer.getChannelData(n):new Float32Array(0)}slice(n,s=this.duration){qe(this.loaded,"Buffer is not loaded");const r=Math.floor(n*this.sampleRate),o=Math.floor(s*this.sampleRate);qe(r<o,"The start time must be less than the end time");const l=o-r,h=rs().createBuffer(this.numberOfChannels,l,this.sampleRate);for(let u=0;u<this.numberOfChannels;u++)h.copyToChannel(this.getChannelData(u).subarray(r,o),u);return new St(h)}_reverse(){if(this.loaded)for(let n=0;n<this.numberOfChannels;n++)this.getChannelData(n).reverse();return this}get loaded(){return this.length>0}get duration(){return this._buffer?this._buffer.duration:0}get length(){return this._buffer?this._buffer.length:0}get numberOfChannels(){return this._buffer?this._buffer.numberOfChannels:0}get reverse(){return this._reversed}set reverse(n){this._reversed!==n&&(this._reversed=n,this._reverse())}static fromArray(n){return new St().fromArray(n)}static fromUrl(n){return Ht(this,void 0,void 0,function*(){return yield new St().load(n)})}static load(n){return Ht(this,void 0,void 0,function*(){const s=St.baseUrl===""||St.baseUrl.endsWith("/")?St.baseUrl:St.baseUrl+"/",r=yield fetch(s+n);if(!r.ok)throw new Error(`could not load url: ${n}`);const o=yield r.arrayBuffer();return yield rs().decodeAudioData(o)})}static supportsType(n){const s=n.split("."),r=s[s.length-1];return document.createElement("audio").canPlayType("audio/"+r)!==""}static loaded(){return Ht(this,void 0,void 0,function*(){for(yield Promise.resolve();St.downloads.length;)yield St.downloads[0]})}}St.baseUrl="";St.downloads=[];class zf extends go{constructor(){super({clockSource:"offline",context:ql(arguments[0])?arguments[0]:Jw(arguments[0],arguments[1]*arguments[2],arguments[2]),lookAhead:0,updateInterval:ql(arguments[0])?128/arguments[0].sampleRate:128/arguments[2]}),this.name="OfflineContext",this._currentTime=0,this.isOffline=!0,this._duration=ql(arguments[0])?arguments[0].length/arguments[0].sampleRate:arguments[1]}now(){return this._currentTime}get currentTime(){return this._currentTime}_renderClock(n){return Ht(this,void 0,void 0,function*(){let s=0;for(;this._duration-this._currentTime>=0;){this.emit("tick"),this._currentTime+=128/this.sampleRate,s++;const r=Math.floor(this.sampleRate/128);n&&s%r===0&&(yield new Promise(o=>setTimeout(o,1)))}})}render(){return Ht(this,arguments,void 0,function*(n=!0){yield this.workletsAreReady(),yield this._renderClock(n);const s=yield this._context.startRendering();return new St(s)})}close(){return Promise.resolve()}}const ev=new cT;let Hi=ev;function rs(){return Hi===ev&&$w&&uT(new go),Hi}function uT(c,n=!1){n&&Hi.dispose(),zr(c)?Hi=new go(c):ql(c)?Hi=new zf(c):Hi=c}function hT(){return Hi.resume()}if(jn&&!jn.TONE_SILENCE_LOGGING){const n=` * Tone.js v${e_} * `;console.log(`%c${n}`,"background: #000; color: #fff")}function fT(c){return Math.pow(10,c/20)}function dT(c){return 20*(Math.log(c)/Math.LN10)}function tv(c){return Math.pow(2,c/12)}let uc=440;function pT(){return uc}function mT(c){uc=c}function Gi(c){return Math.round(nv(c))}function nv(c){return 69+12*Math.log2(c/uc)}function sv(c){return uc*Math.pow(2,(c-69)/12)}class Uf extends Hs{constructor(n,s,r){super(),this.defaultUnits="s",this._val=s,this._units=r,this.context=n,this._expressions=this._getExpressions()}_getExpressions(){return{hz:{method:n=>this._frequencyToUnits(parseFloat(n)),regexp:/^(\d+(?:\.\d+)?)hz$/i},i:{method:n=>this._ticksToUnits(parseInt(n,10)),regexp:/^(\d+)i$/i},m:{method:n=>this._beatsToUnits(parseInt(n,10)*this._getTimeSignature()),regexp:/^(\d+)m$/i},n:{method:(n,s)=>{const r=parseInt(n,10),o=s==="."?1.5:1;return r===1?this._beatsToUnits(this._getTimeSignature())*o:this._beatsToUnits(4/r)*o},regexp:/^(\d+)n(\.?)$/i},number:{method:n=>this._expressions[this.defaultUnits].method.call(this,n),regexp:/^(\d+(?:\.\d+)?)$/},s:{method:n=>this._secondsToUnits(parseFloat(n)),regexp:/^(\d+(?:\.\d+)?)s$/},samples:{method:n=>parseInt(n,10)/this.context.sampleRate,regexp:/^(\d+)samples$/},t:{method:n=>{const s=parseInt(n,10);return this._beatsToUnits(8/(Math.floor(s)*3))},regexp:/^(\d+)t$/i},tr:{method:(n,s,r)=>{let o=0;return n&&n!=="0"&&(o+=this._beatsToUnits(this._getTimeSignature()*parseFloat(n))),s&&s!=="0"&&(o+=this._beatsToUnits(parseFloat(s))),r&&r!=="0"&&(o+=this._beatsToUnits(parseFloat(r)/4)),o},regexp:/^(\d+(?:\.\d+)?):(\d+(?:\.\d+)?):?(\d+(?:\.\d+)?)?$/}}}valueOf(){if(this._val instanceof Uf&&this.fromType(this._val),Wn(this._val))return this._noArg();if(Ls(this._val)&&Wn(this._units)){for(const n in this._expressions)if(this._expressions[n].regexp.test(this._val.trim())){this._units=n;break}}else if(Pi(this._val)){let n=0;for(const s in this._val)if(Je(this._val[s])){const r=this._val[s],o=new this.constructor(this.context,s).valueOf()*r;n+=o}return n}if(Je(this._units)){const n=this._expressions[this._units],s=this._val.toString().trim().match(n.regexp);return s?n.method.apply(this,s.slice(1)):n.method.call(this,this._val)}else return Ls(this._val)?parseFloat(this._val):this._val}_frequencyToUnits(n){return 1/n}_beatsToUnits(n){return 60/this._getBpm()*n}_secondsToUnits(n){return n}_ticksToUnits(n){return n*this._beatsToUnits(1)/this._getPPQ()}_noArg(){return this._now()}_getBpm(){return this.context.transport.bpm.value}_getTimeSignature(){return this.context.transport.timeSignature}_getPPQ(){return this.context.transport.PPQ}fromType(n){switch(this._units=void 0,this.defaultUnits){case"s":this._val=n.toSeconds();break;case"i":this._val=n.toTicks();break;case"hz":this._val=n.toFrequency();break;case"midi":this._val=n.toMidi();break}return this}toFrequency(){return 1/this.toSeconds()}toSamples(){return this.toSeconds()*this.context.sampleRate}toMilliseconds(){return this.toSeconds()*1e3}}class as extends Uf{constructor(){super(...arguments),this.name="TimeClass"}_getExpressions(){return Object.assign(super._getExpressions(),{now:{method:n=>this._now()+new this.constructor(this.context,n).valueOf(),regexp:/^\+(.+)/},quantize:{method:n=>{const s=new as(this.context,n).valueOf();return this._secondsToUnits(this.context.transport.nextSubdivision(s))},regexp:/^@(.+)/}})}quantize(n,s=1){const r=new this.constructor(this.context,n).valueOf(),o=this.valueOf(),u=Math.round(o/r)*r-o;return o+u*s}toNotation(){const n=this.toSeconds(),s=["1m"];for(let l=1;l<9;l++){const h=Math.pow(2,l);s.push(h+"n."),s.push(h+"n"),s.push(h+"t")}s.push("0");let r=s[0],o=new as(this.context,s[0]).toSeconds();return s.forEach(l=>{const h=new as(this.context,l).toSeconds();Math.abs(h-n)<Math.abs(o-n)&&(r=l,o=h)}),r}toBarsBeatsSixteenths(){const n=this._beatsToUnits(1);let s=this.valueOf()/n;s=parseFloat(s.toFixed(4));const r=Math.floor(s/this._getTimeSignature());let o=s%1*4;s=Math.floor(s)%this._getTimeSignature();const l=o.toString();return l.length>3&&(o=parseFloat(parseFloat(l).toFixed(3))),[r,s,o].join(":")}toTicks(){const n=this._beatsToUnits(1);return this.valueOf()/n*this._getPPQ()}toSeconds(){return this.valueOf()}toMidi(){return Gi(this.toFrequency())}_now(){return this.context.now()}}class zn extends as{constructor(){super(...arguments),this.name="Frequency",this.defaultUnits="hz"}static get A4(){return pT()}static set A4(n){mT(n)}_getExpressions(){return Object.assign({},super._getExpressions(),{midi:{regexp:/^(\d+(?:\.\d+)?midi)/,method(n){return this.defaultUnits==="midi"?n:zn.mtof(n)}},note:{regexp:/^([a-g]{1}(?:b|#|##|x|bb|###|#x|x#|bbb)?)(-?[0-9]+)/i,method(n,s){const o=gT[n.toLowerCase()]+(parseInt(s,10)+1)*12;return this.defaultUnits==="midi"?o:zn.mtof(o)}},tr:{regexp:/^(\d+(?:\.\d+)?):(\d+(?:\.\d+)?):?(\d+(?:\.\d+)?)?/,method(n,s,r){let o=1;return n&&n!=="0"&&(o*=this._beatsToUnits(this._getTimeSignature()*parseFloat(n))),s&&s!=="0"&&(o*=this._beatsToUnits(parseFloat(s))),r&&r!=="0"&&(o*=this._beatsToUnits(parseFloat(r)/4)),o}}})}transpose(n){return new zn(this.context,this.valueOf()*tv(n))}harmonize(n){return n.map(s=>this.transpose(s))}toMidi(){return Gi(this.valueOf())}toNote(){const n=this.toFrequency(),s=Math.log2(n/zn.A4);let r=Math.round(12*s)+57;const o=Math.floor(r/12);return o<0&&(r+=-12*o),_T[r%12]+o.toString()}toSeconds(){return 1/super.toSeconds()}toTicks(){const n=this._beatsToUnits(1),s=this.valueOf()/n;return Math.floor(s*this._getPPQ())}_noArg(){return 0}_frequencyToUnits(n){return n}_ticksToUnits(n){return 1/(n*60/(this._getBpm()*this._getPPQ()))}_beatsToUnits(n){return 1/super._beatsToUnits(n)}_secondsToUnits(n){return 1/n}static mtof(n){return sv(n)}static ftom(n){return Gi(n)}}const gT={cbbb:-3,cbb:-2,cb:-1,c:0,"c#":1,cx:2,"c##":2,"c###":3,"cx#":3,"c#x":3,dbbb:-1,dbb:0,db:1,d:2,"d#":3,dx:4,"d##":4,"d###":5,"dx#":5,"d#x":5,ebbb:1,ebb:2,eb:3,e:4,"e#":5,ex:6,"e##":6,"e###":7,"ex#":7,"e#x":7,fbbb:2,fbb:3,fb:4,f:5,"f#":6,fx:7,"f##":7,"f###":8,"fx#":8,"f#x":8,gbbb:4,gbb:5,gb:6,g:7,"g#":8,gx:9,"g##":9,"g###":10,"gx#":10,"g#x":10,abbb:6,abb:7,ab:8,a:9,"a#":10,ax:11,"a##":11,"a###":12,"ax#":12,"a#x":12,bbbb:8,bbb:9,bb:10,b:11,"b#":12,bx:13,"b##":13,"b###":14,"bx#":14,"b#x":14},_T=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"];class to extends as{constructor(){super(...arguments),this.name="TransportTime"}_now(){return this.context.transport.seconds}}class An extends Hs{constructor(){super();const n=He(An.getDefaults(),arguments,["context"]);this.defaultContext?this.context=this.defaultContext:this.context=n.context}static getDefaults(){return{context:rs()}}now(){return this.context.currentTime+this.context.lookAhead}immediate(){return this.context.currentTime}get sampleTime(){return 1/this.context.sampleRate}get blockTime(){return 128/this.context.sampleRate}toSeconds(n){return Ww(n),new as(this.context,n).toSeconds()}toFrequency(n){return new zn(this.context,n).toFrequency()}toTicks(n){return new to(this.context,n).toTicks()}_getPartialProperties(n){const s=this.get();return Object.keys(s).forEach(r=>{Wn(n[r])&&delete s[r]}),s}get(){const n=rT(this);return Object.keys(n).forEach(s=>{if(Reflect.has(this,s)){const r=this[s];Je(r)&&Je(r.value)&&Je(r.setValueAtTime)?n[s]=r.value:r instanceof An?n[s]=r._getPartialProperties(n[s]):Un(r)||vi(r)||Ls(r)||Xw(r)?n[s]=r:delete n[s]}}),n}set(n){return Object.keys(n).forEach(s=>{Reflect.has(this,s)&&Je(this[s])&&(this[s]&&Je(this[s].value)&&Je(this[s].setValueAtTime)?this[s].value!==n[s]&&(this[s].value=n[s]):this[s]instanceof An?this[s].set(n[s]):this[s]=n[s])}),this}}class Bf extends Qn{constructor(n="stopped"){super(),this.name="StateTimeline",this._initial=n,this.setStateAtTime(this._initial,0)}getValueAtTime(n){const s=this.get(n);return s!==null?s.state:this._initial}setStateAtTime(n,s,r){return yi(s,0),this.add(Object.assign({},r,{state:n,time:s})),this}getLastState(n,s){const r=this._search(s);for(let o=r;o>=0;o--){const l=this._timeline[o];if(l.state===n)return l}}getNextState(n,s){const r=this._search(s);if(r!==-1)for(let o=r;o<this._timeline.length;o++){const l=this._timeline[o];if(l.state===n)return l}}}class Et extends An{constructor(){const n=He(Et.getDefaults(),arguments,["param","units","convert"]);for(super(n),this.name="Param",this.overridden=!1,this._minOutput=1e-7,qe(Je(n.param)&&(Xi(n.param)||n.param instanceof Et),"param must be an AudioParam");!Xi(n.param);)n.param=n.param._param;this._swappable=Je(n.swappable)?n.swappable:!1,this._swappable?(this.input=this.context.createGain(),this._param=n.param,this.input.connect(this._param)):this._param=this.input=n.param,this._events=new Qn(1e3),this._initialValue=this._param.defaultValue,this.units=n.units,this.convert=n.convert,this._minValue=n.minValue,this._maxValue=n.maxValue,Je(n.value)&&n.value!==this._toType(this._initialValue)&&this.setValueAtTime(n.value,0)}static getDefaults(){return Object.assign(An.getDefaults(),{convert:!0,units:"number"})}get value(){const n=this.now();return this.getValueAtTime(n)}set value(n){this.cancelScheduledValues(this.now()),this.setValueAtTime(n,this.now())}get minValue(){return Je(this._minValue)?this._minValue:this.units==="time"||this.units==="frequency"||this.units==="normalRange"||this.units==="positive"||this.units==="transportTime"||this.units==="ticks"||this.units==="bpm"||this.units==="hertz"||this.units==="samples"?0:this.units==="audioRange"?-1:this.units==="decibels"?-1/0:this._param.minValue}get maxValue(){return Je(this._maxValue)?this._maxValue:this.units==="normalRange"||this.units==="audioRange"?1:this._param.maxValue}_is(n,s){return this.units===s}_assertRange(n){return Je(this.maxValue)&&Je(this.minValue)&&yi(n,this._fromType(this.minValue),this._fromType(this.maxValue)),n}_fromType(n){return this.convert&&!this.overridden?this._is(n,"time")?this.toSeconds(n):this._is(n,"decibels")?fT(n):this._is(n,"frequency")?this.toFrequency(n):n:this.overridden?0:n}_toType(n){return this.convert&&this.units==="decibels"?dT(n):n}setValueAtTime(n,s){const r=this.toSeconds(s),o=this._fromType(n);return qe(isFinite(o)&&isFinite(r),`Invalid argument(s) to setValueAtTime: ${JSON.stringify(n)}, ${JSON.stringify(s)}`),this._assertRange(o),this.log(this.units,"setValueAtTime",n,r),this._events.add({time:r,type:"setValueAtTime",value:o}),this._param.setValueAtTime(o,r),this}getValueAtTime(n){const s=Math.max(this.toSeconds(n),0),r=this._events.getAfter(s),o=this._events.get(s);let l=this._initialValue;if(o===null)l=this._initialValue;else if(o.type==="setTargetAtTime"&&(r===null||r.type==="setValueAtTime")){const h=this._events.getBefore(o.time);let u;h===null?u=this._initialValue:u=h.value,o.type==="setTargetAtTime"&&(l=this._exponentialApproach(o.time,u,o.value,o.constant,s))}else if(r===null)l=o.value;else if(r.type==="linearRampToValueAtTime"||r.type==="exponentialRampToValueAtTime"){let h=o.value;if(o.type==="setTargetAtTime"){const u=this._events.getBefore(o.time);u===null?h=this._initialValue:h=u.value}r.type==="linearRampToValueAtTime"?l=this._linearInterpolate(o.time,h,r.time,r.value,s):l=this._exponentialInterpolate(o.time,h,r.time,r.value,s)}else l=o.value;return this._toType(l)}setRampPoint(n){n=this.toSeconds(n);let s=this.getValueAtTime(n);return this.cancelAndHoldAtTime(n),this._fromType(s)===0&&(s=this._toType(this._minOutput)),this.setValueAtTime(s,n),this}linearRampToValueAtTime(n,s){const r=this._fromType(n),o=this.toSeconds(s);return qe(isFinite(r)&&isFinite(o),`Invalid argument(s) to linearRampToValueAtTime: ${JSON.stringify(n)}, ${JSON.stringify(s)}`),this._assertRange(r),this._events.add({time:o,type:"linearRampToValueAtTime",value:r}),this.log(this.units,"linearRampToValueAtTime",n,o),this._param.linearRampToValueAtTime(r,o),this}exponentialRampToValueAtTime(n,s){let r=this._fromType(n);r=is(r,0)?this._minOutput:r,this._assertRange(r);const o=this.toSeconds(s);return qe(isFinite(r)&&isFinite(o),`Invalid argument(s) to exponentialRampToValueAtTime: ${JSON.stringify(n)}, ${JSON.stringify(s)}`),this._events.add({time:o,type:"exponentialRampToValueAtTime",value:r}),this.log(this.units,"exponentialRampToValueAtTime",n,o),this._param.exponentialRampToValueAtTime(r,o),this}exponentialRampTo(n,s,r){return r=this.toSeconds(r),this.setRampPoint(r),this.exponentialRampToValueAtTime(n,r+this.toSeconds(s)),this}linearRampTo(n,s,r){return r=this.toSeconds(r),this.setRampPoint(r),this.linearRampToValueAtTime(n,r+this.toSeconds(s)),this}targetRampTo(n,s,r){return r=this.toSeconds(r),this.setRampPoint(r),this.exponentialApproachValueAtTime(n,r,s),this}exponentialApproachValueAtTime(n,s,r){s=this.toSeconds(s),r=this.toSeconds(r);const o=Math.log(r+1)/Math.log(200);return this.setTargetAtTime(n,s,o),this.cancelAndHoldAtTime(s+r*.9),this.linearRampToValueAtTime(n,s+r),this}setTargetAtTime(n,s,r){const o=this._fromType(n);qe(isFinite(r)&&r>0,"timeConstant must be a number greater than 0");const l=this.toSeconds(s);return this._assertRange(o),qe(isFinite(o)&&isFinite(l),`Invalid argument(s) to setTargetAtTime: ${JSON.stringify(n)}, ${JSON.stringify(s)}`),this._events.add({constant:r,time:l,type:"setTargetAtTime",value:o}),this.log(this.units,"setTargetAtTime",n,l,r),this._param.setTargetAtTime(o,l,r),this}setValueCurveAtTime(n,s,r,o=1){r=this.toSeconds(r),s=this.toSeconds(s);const l=this._fromType(n[0])*o;this.setValueAtTime(this._toType(l),s);const h=r/(n.length-1);for(let u=1;u<n.length;u++){const f=this._fromType(n[u])*o;this.linearRampToValueAtTime(this._toType(f),s+u*h)}return this}cancelScheduledValues(n){const s=this.toSeconds(n);return qe(isFinite(s),`Invalid argument to cancelScheduledValues: ${JSON.stringify(n)}`),this._events.cancel(s),this._param.cancelScheduledValues(s),this.log(this.units,"cancelScheduledValues",s),this}cancelAndHoldAtTime(n){const s=this.toSeconds(n),r=this._fromType(this.getValueAtTime(s));qe(isFinite(s),`Invalid argument to cancelAndHoldAtTime: ${JSON.stringify(n)}`),this.log(this.units,"cancelAndHoldAtTime",s,"value="+r);const o=this._events.get(s),l=this._events.getAfter(s);return o&&is(o.time,s)?l?(this._param.cancelScheduledValues(l.time),this._events.cancel(l.time)):(this._param.cancelAndHoldAtTime(s),this._events.cancel(s+this.sampleTime)):l&&(this._param.cancelScheduledValues(l.time),this._events.cancel(l.time),l.type==="linearRampToValueAtTime"?this.linearRampToValueAtTime(this._toType(r),s):l.type==="exponentialRampToValueAtTime"&&this.exponentialRampToValueAtTime(this._toType(r),s)),this._events.add({time:s,type:"setValueAtTime",value:r}),this._param.setValueAtTime(r,s),this}rampTo(n,s=.1,r){return this.units==="frequency"||this.units==="bpm"||this.units==="decibels"?this.exponentialRampTo(n,s,r):this.linearRampTo(n,s,r),this}apply(n){const s=this.context.currentTime;n.setValueAtTime(this.getValueAtTime(s),s);const r=this._events.get(s);if(r&&r.type==="setTargetAtTime"){const o=this._events.getAfter(r.time),l=o?o.time:s+2,h=(l-s)/10;for(let u=s;u<l;u+=h)n.linearRampToValueAtTime(this.getValueAtTime(u),u)}return this._events.forEachAfter(this.context.currentTime,o=>{o.type==="cancelScheduledValues"?n.cancelScheduledValues(o.time):o.type==="setTargetAtTime"?n.setTargetAtTime(o.value,o.time,o.constant):n[o.type](o.value,o.time)}),this}setParam(n){qe(this._swappable,"The Param must be assigned as 'swappable' in the constructor");const s=this.input;return s.disconnect(this._param),this.apply(n),this._param=n,s.connect(this._param),this}dispose(){return super.dispose(),this._events.dispose(),this}get defaultValue(){return this._toType(this._param.defaultValue)}_exponentialApproach(n,s,r,o,l){return r+(s-r)*Math.exp(-(l-n)/o)}_linearInterpolate(n,s,r,o,l){return s+(o-s)*((l-n)/(r-n))}_exponentialInterpolate(n,s,r,o,l){return s*Math.pow(o/s,(l-n)/(r-n))}}class Ke extends An{constructor(){super(...arguments),this._internalChannels=[]}get numberOfInputs(){return Je(this.input)?Xi(this.input)||this.input instanceof Et?1:this.input.numberOfInputs:0}get numberOfOutputs(){return Je(this.output)?this.output.numberOfOutputs:0}_isAudioNode(n){return Je(n)&&(n instanceof Ke||_i(n))}_getInternalNodes(){const n=this._internalChannels.slice(0);return this._isAudioNode(this.input)&&n.push(this.input),this._isAudioNode(this.output)&&this.input!==this.output&&n.push(this.output),n}_setChannelProperties(n){this._getInternalNodes().forEach(r=>{r.channelCount=n.channelCount,r.channelCountMode=n.channelCountMode,r.channelInterpretation=n.channelInterpretation})}_getChannelProperties(){const n=this._getInternalNodes();qe(n.length>0,"ToneAudioNode does not have any internal nodes");const s=n[0];return{channelCount:s.channelCount,channelCountMode:s.channelCountMode,channelInterpretation:s.channelInterpretation}}get channelCount(){return this._getChannelProperties().channelCount}set channelCount(n){const s=this._getChannelProperties();this._setChannelProperties(Object.assign(s,{channelCount:n}))}get channelCountMode(){return this._getChannelProperties().channelCountMode}set channelCountMode(n){const s=this._getChannelProperties();this._setChannelProperties(Object.assign(s,{channelCountMode:n}))}get channelInterpretation(){return this._getChannelProperties().channelInterpretation}set channelInterpretation(n){const s=this._getChannelProperties();this._setChannelProperties(Object.assign(s,{channelInterpretation:n}))}connect(n,s=0,r=0){return Ji(this,n,s,r),this}toDestination(){return this.connect(this.context.destination),this}toMaster(){return oc("toMaster() has been renamed toDestination()"),this.toDestination()}disconnect(n,s=0,r=0){return vT(this,n,s,r),this}chain(...n){return hf(this,...n),this}fan(...n){return n.forEach(s=>this.connect(s)),this}dispose(){return super.dispose(),Je(this.input)&&(this.input instanceof Ke?this.input.dispose():_i(this.input)&&this.input.disconnect()),Je(this.output)&&(this.output instanceof Ke?this.output.dispose():_i(this.output)&&this.output.disconnect()),this._internalChannels=[],this}}function hf(...c){const n=c.shift();c.reduce((s,r)=>(s instanceof Ke?s.connect(r):_i(s)&&Ji(s,r),r),n)}function Ji(c,n,s=0,r=0){for(qe(Je(c),"Cannot connect from undefined node"),qe(Je(n),"Cannot connect to undefined node"),(n instanceof Ke||_i(n))&&qe(n.numberOfInputs>0,"Cannot connect to node with no inputs"),qe(c.numberOfOutputs>0,"Cannot connect from node with no outputs");n instanceof Ke||n instanceof Et;)Je(n.input)&&(n=n.input);for(;c instanceof Ke;)Je(c.output)&&(c=c.output);Xi(n)?c.connect(n,s):c.connect(n,s,r)}function vT(c,n,s=0,r=0){if(Je(n))for(;n instanceof Ke;)n=n.input;for(;!_i(c);)Je(c.output)&&(c=c.output);Xi(n)?c.disconnect(n,s):_i(n)?c.disconnect(n,s,r):c.disconnect()}class un extends Ke{constructor(){const n=He(un.getDefaults(),arguments,["gain","units"]);super(n),this.name="Gain",this._gainNode=this.context.createGain(),this.input=this._gainNode,this.output=this._gainNode,this.gain=new Et({context:this.context,convert:n.convert,param:this._gainNode.gain,units:n.units,value:n.gain,minValue:n.minValue,maxValue:n.maxValue}),jt(this,"gain")}static getDefaults(){return Object.assign(Ke.getDefaults(),{convert:!0,gain:1,units:"gain"})}dispose(){return super.dispose(),this._gainNode.disconnect(),this.gain.dispose(),this}}class Gr extends Ke{constructor(n){super(n),this.onended=pt,this._startTime=-1,this._stopTime=-1,this._timeout=-1,this.output=new un({context:this.context,gain:0}),this._gainNode=this.output,this.getStateAtTime=function(s){const r=this.toSeconds(s);return this._startTime!==-1&&r>=this._startTime&&(this._stopTime===-1||r<=this._stopTime)?"started":"stopped"},this._fadeIn=n.fadeIn,this._fadeOut=n.fadeOut,this._curve=n.curve,this.onended=n.onended}static getDefaults(){return Object.assign(Ke.getDefaults(),{curve:"linear",fadeIn:0,fadeOut:0,onended:pt})}_startGain(n,s=1){qe(this._startTime===-1,"Source cannot be started more than once");const r=this.toSeconds(this._fadeIn);return this._startTime=n+r,this._startTime=Math.max(this._startTime,this.context.currentTime),r>0?(this._gainNode.gain.setValueAtTime(0,n),this._curve==="linear"?this._gainNode.gain.linearRampToValueAtTime(s,n+r):this._gainNode.gain.exponentialApproachValueAtTime(s,n,r)):this._gainNode.gain.setValueAtTime(s,n),this}stop(n){return this.log("stop",n),this._stopGain(this.toSeconds(n)),this}_stopGain(n){qe(this._startTime!==-1,"'start' must be called before 'stop'"),this.cancelStop();const s=this.toSeconds(this._fadeOut);return this._stopTime=this.toSeconds(n)+s,this._stopTime=Math.max(this._stopTime,this.now()),s>0?this._curve==="linear"?this._gainNode.gain.linearRampTo(0,s,n):this._gainNode.gain.targetRampTo(0,s,n):(this._gainNode.gain.cancelAndHoldAtTime(n),this._gainNode.gain.setValueAtTime(0,n)),this.context.clearTimeout(this._timeout),this._timeout=this.context.setTimeout(()=>{const r=this._curve==="exponential"?s*2:0;this._stopSource(this.now()+r),this._onended()},this._stopTime-this.context.currentTime),this}_onended(){if(this.onended!==pt&&(this.onended(this),this.onended=pt,!this.context.isOffline)){const n=()=>this.dispose();typeof requestIdleCallback<"u"?requestIdleCallback(n):setTimeout(n,10)}}get state(){return this.getStateAtTime(this.now())}cancelStop(){return this.log("cancelStop"),qe(this._startTime!==-1,"Source is not started"),this._gainNode.gain.cancelScheduledValues(this._startTime+this.sampleTime),this.context.clearTimeout(this._timeout),this._stopTime=-1,this}dispose(){return super.dispose(),this._gainNode.dispose(),this.onended=pt,this}}class If extends Gr{constructor(){const n=He(If.getDefaults(),arguments,["offset"]);super(n),this.name="ToneConstantSource",this._source=this.context.createConstantSource(),Ji(this._source,this._gainNode),this.offset=new Et({context:this.context,convert:n.convert,param:this._source.offset,units:n.units,value:n.offset,minValue:n.minValue,maxValue:n.maxValue})}static getDefaults(){return Object.assign(Gr.getDefaults(),{convert:!0,offset:1,units:"number"})}start(n){const s=this.toSeconds(n);return this.log("start",s),this._startGain(s),this._source.start(s),this}_stopSource(n){this._source.stop(n)}dispose(){return super.dispose(),this.state==="started"&&this.stop(),this._source.disconnect(),this.offset.dispose(),this}}class en extends Ke{constructor(){const n=He(en.getDefaults(),arguments,["value","units"]);super(n),this.name="Signal",this.override=!0,this.output=this._constantSource=new If({context:this.context,convert:n.convert,offset:n.value,units:n.units,minValue:n.minValue,maxValue:n.maxValue}),this._constantSource.start(0),this.input=this._param=this._constantSource.offset}static getDefaults(){return Object.assign(Ke.getDefaults(),{convert:!0,units:"number",value:0})}connect(n,s=0,r=0){return qf(this,n,s,r),this}dispose(){return super.dispose(),this._param.dispose(),this._constantSource.dispose(),this}setValueAtTime(n,s){return this._param.setValueAtTime(n,s),this}getValueAtTime(n){return this._param.getValueAtTime(n)}setRampPoint(n){return this._param.setRampPoint(n),this}linearRampToValueAtTime(n,s){return this._param.linearRampToValueAtTime(n,s),this}exponentialRampToValueAtTime(n,s){return this._param.exponentialRampToValueAtTime(n,s),this}exponentialRampTo(n,s,r){return this._param.exponentialRampTo(n,s,r),this}linearRampTo(n,s,r){return this._param.linearRampTo(n,s,r),this}targetRampTo(n,s,r){return this._param.targetRampTo(n,s,r),this}exponentialApproachValueAtTime(n,s,r){return this._param.exponentialApproachValueAtTime(n,s,r),this}setTargetAtTime(n,s,r){return this._param.setTargetAtTime(n,s,r),this}setValueCurveAtTime(n,s,r,o){return this._param.setValueCurveAtTime(n,s,r,o),this}cancelScheduledValues(n){return this._param.cancelScheduledValues(n),this}cancelAndHoldAtTime(n){return this._param.cancelAndHoldAtTime(n),this}rampTo(n,s,r){return this._param.rampTo(n,s,r),this}get value(){return this._param.value}set value(n){this._param.value=n}get convert(){return this._param.convert}set convert(n){this._param.convert=n}get units(){return this._param.units}get overridden(){return this._param.overridden}set overridden(n){this._param.overridden=n}get maxValue(){return this._param.maxValue}get minValue(){return this._param.minValue}apply(n){return this._param.apply(n),this}}function qf(c,n,s,r){(n instanceof Et||Xi(n)||n instanceof en&&n.override)&&(n.cancelScheduledValues(0),n.setValueAtTime(0,0),n instanceof en&&(n.overridden=!0)),Ji(c,n,s,r)}class Vf extends Et{constructor(){const n=He(Vf.getDefaults(),arguments,["value"]);super(n),this.name="TickParam",this._events=new Qn(1/0),this._multiplier=1,this._multiplier=n.multiplier,this._events.cancel(0),this._events.add({ticks:0,time:0,type:"setValueAtTime",value:this._fromType(n.value)}),this.setValueAtTime(n.value,0)}static getDefaults(){return Object.assign(Et.getDefaults(),{multiplier:1,units:"hertz",value:1})}setTargetAtTime(n,s,r){s=this.toSeconds(s),this.setRampPoint(s);const o=this._fromType(n),l=this._events.get(s),h=Math.round(Math.max(1/r,1));for(let u=0;u<=h;u++){const f=r*u+s,p=this._exponentialApproach(l.time,l.value,o,r,f);this.linearRampToValueAtTime(this._toType(p),f)}return this}setValueAtTime(n,s){const r=this.toSeconds(s);super.setValueAtTime(n,s);const o=this._events.get(r),l=this._events.previousEvent(o),h=this._getTicksUntilEvent(l,r);return o.ticks=Math.max(h,0),this}linearRampToValueAtTime(n,s){const r=this.toSeconds(s);super.linearRampToValueAtTime(n,s);const o=this._events.get(r),l=this._events.previousEvent(o),h=this._getTicksUntilEvent(l,r);return o.ticks=Math.max(h,0),this}exponentialRampToValueAtTime(n,s){s=this.toSeconds(s);const r=this._fromType(n),o=this._events.get(s),l=Math.round(Math.max((s-o.time)*10,1)),h=(s-o.time)/l;for(let u=0;u<=l;u++){const f=h*u+o.time,p=this._exponentialInterpolate(o.time,o.value,s,r,f);this.linearRampToValueAtTime(this._toType(p),f)}return this}_getTicksUntilEvent(n,s){if(n===null)n={ticks:0,time:0,type:"setValueAtTime",value:0};else if(Wn(n.ticks)){const h=this._events.previousEvent(n);n.ticks=this._getTicksUntilEvent(h,n.time)}const r=this._fromType(this.getValueAtTime(n.time));let o=this._fromType(this.getValueAtTime(s));const l=this._events.get(s);return l&&l.time===s&&l.type==="setValueAtTime"&&(o=this._fromType(this.getValueAtTime(s-this.sampleTime))),.5*(s-n.time)*(r+o)+n.ticks}getTicksAtTime(n){const s=this.toSeconds(n),r=this._events.get(s);return Math.max(this._getTicksUntilEvent(r,s),0)}getDurationOfTicks(n,s){const r=this.toSeconds(s),o=this.getTicksAtTime(s);return this.getTimeOfTick(o+n)-r}getTimeOfTick(n){const s=this._events.get(n,"ticks"),r=this._events.getAfter(n,"ticks");if(s&&s.ticks===n)return s.time;if(s&&r&&r.type==="linearRampToValueAtTime"&&s.value!==r.value){const o=this._fromType(this.getValueAtTime(s.time)),h=(this._fromType(this.getValueAtTime(r.time))-o)/(r.time-s.time),u=Math.sqrt(Math.pow(o,2)-2*h*(s.ticks-n)),f=(-o+u)/h,p=(-o-u)/h;return(f>0?f:p)+s.time}else return s?s.value===0?1/0:s.time+(n-s.ticks)/s.value:n/this._initialValue}ticksToTime(n,s){return this.getDurationOfTicks(n,s)}timeToTicks(n,s){const r=this.toSeconds(s),o=this.toSeconds(n),l=this.getTicksAtTime(r);return this.getTicksAtTime(r+o)-l}_fromType(n){return this.units==="bpm"&&this.multiplier?1/(60/n/this.multiplier):super._fromType(n)}_toType(n){return this.units==="bpm"&&this.multiplier?n/this.multiplier*60:super._toType(n)}get multiplier(){return this._multiplier}set multiplier(n){const s=this.value;this._multiplier=n,this.cancelScheduledValues(0),this.setValueAtTime(s,0)}}class Lf extends en{constructor(){const n=He(Lf.getDefaults(),arguments,["value"]);super(n),this.name="TickSignal",this.input=this._param=new Vf({context:this.context,convert:n.convert,multiplier:n.multiplier,param:this._constantSource.offset,units:n.units,value:n.value})}static getDefaults(){return Object.assign(en.getDefaults(),{multiplier:1,units:"hertz",value:1})}ticksToTime(n,s){return this._param.ticksToTime(n,s)}timeToTicks(n,s){return this._param.timeToTicks(n,s)}getTimeOfTick(n){return this._param.getTimeOfTick(n)}getDurationOfTicks(n,s){return this._param.getDurationOfTicks(n,s)}getTicksAtTime(n){return this._param.getTicksAtTime(n)}get multiplier(){return this._param.multiplier}set multiplier(n){this._param.multiplier=n}dispose(){return super.dispose(),this._param.dispose(),this}}class Ff extends An{constructor(){const n=He(Ff.getDefaults(),arguments,["frequency"]);super(n),this.name="TickSource",this._state=new Bf,this._tickOffset=new Qn,this._ticksAtTime=new Qn,this._secondsAtTime=new Qn,this.frequency=new Lf({context:this.context,units:n.units,value:n.frequency}),jt(this,"frequency"),this._state.setStateAtTime("stopped",0),this.setTicksAtTime(0,0)}static getDefaults(){return Object.assign({frequency:1,units:"hertz"},An.getDefaults())}get state(){return this.getStateAtTime(this.now())}start(n,s){const r=this.toSeconds(n);return this._state.getValueAtTime(r)!=="started"&&(this._state.setStateAtTime("started",r),Je(s)&&this.setTicksAtTime(s,r),this._ticksAtTime.cancel(r),this._secondsAtTime.cancel(r)),this}stop(n){const s=this.toSeconds(n);if(this._state.getValueAtTime(s)==="stopped"){const r=this._state.get(s);r&&r.time>0&&(this._tickOffset.cancel(r.time),this._state.cancel(r.time))}return this._state.cancel(s),this._state.setStateAtTime("stopped",s),this.setTicksAtTime(0,s),this._ticksAtTime.cancel(s),this._secondsAtTime.cancel(s),this}pause(n){const s=this.toSeconds(n);return this._state.getValueAtTime(s)==="started"&&(this._state.setStateAtTime("paused",s),this._ticksAtTime.cancel(s),this._secondsAtTime.cancel(s)),this}cancel(n){return n=this.toSeconds(n),this._state.cancel(n),this._tickOffset.cancel(n),this._ticksAtTime.cancel(n),this._secondsAtTime.cancel(n),this}getTicksAtTime(n){const s=this.toSeconds(n),r=this._state.getLastState("stopped",s),o=this._ticksAtTime.get(s),l={state:"paused",time:s};this._state.add(l);let h=o||r,u=o?o.ticks:0,f=null;return this._state.forEachBetween(h.time,s+this.sampleTime,p=>{let m=h.time;const _=this._tickOffset.get(p.time);_&&_.time>=h.time&&(u=_.ticks,m=_.time),h.state==="started"&&p.state!=="started"&&(u+=this.frequency.getTicksAtTime(p.time)-this.frequency.getTicksAtTime(m),p.time!==l.time&&(f={state:p.state,time:p.time,ticks:u})),h=p}),this._state.remove(l),f&&this._ticksAtTime.add(f),u}get ticks(){return this.getTicksAtTime(this.now())}set ticks(n){this.setTicksAtTime(n,this.now())}get seconds(){return this.getSecondsAtTime(this.now())}set seconds(n){const s=this.now(),r=this.frequency.timeToTicks(n,s);this.setTicksAtTime(r,s)}getSecondsAtTime(n){n=this.toSeconds(n);const s=this._state.getLastState("stopped",n),r={state:"paused",time:n};this._state.add(r);const o=this._secondsAtTime.get(n);let l=o||s,h=o?o.seconds:0,u=null;return this._state.forEachBetween(l.time,n+this.sampleTime,f=>{let p=l.time;const m=this._tickOffset.get(f.time);m&&m.time>=l.time&&(h=m.seconds,p=m.time),l.state==="started"&&f.state!=="started"&&(h+=f.time-p,f.time!==r.time&&(u={state:f.state,time:f.time,seconds:h})),l=f}),this._state.remove(r),u&&this._secondsAtTime.add(u),h}setTicksAtTime(n,s){return s=this.toSeconds(s),this._tickOffset.cancel(s),this._tickOffset.add({seconds:this.frequency.getDurationOfTicks(n,s),ticks:n,time:s}),this._ticksAtTime.cancel(s),this._secondsAtTime.cancel(s),this}getStateAtTime(n){return n=this.toSeconds(n),this._state.getValueAtTime(n)}getTimeOfTick(n,s=this.now()){const r=this._tickOffset.get(s),o=this._state.get(s),l=Math.max(r.time,o.time),h=this.frequency.getTicksAtTime(l)+n-r.ticks;return this.frequency.getTimeOfTick(h)}forEachTickBetween(n,s,r){let o=this._state.get(n);this._state.forEachBetween(n,s,h=>{o&&o.state==="started"&&h.state!=="started"&&this.forEachTickBetween(Math.max(o.time,n),h.time-this.sampleTime,r),o=h});let l=null;if(o&&o.state==="started"){const h=Math.max(o.time,n),u=this.frequency.getTicksAtTime(h),f=this.frequency.getTicksAtTime(o.time),p=u-f;let m=Math.ceil(p)-p;m=is(m,1)?0:m;let _=this.frequency.getTimeOfTick(u+m);for(;_<s;){try{r(_,Math.round(this.getTicksAtTime(_)))}catch(b){l=b;break}_+=this.frequency.getDurationOfTicks(1,_)}}if(l)throw l;return this}dispose(){return super.dispose(),this._state.dispose(),this._tickOffset.dispose(),this._ticksAtTime.dispose(),this._secondsAtTime.dispose(),this.frequency.dispose(),this}}class hc extends An{constructor(){const n=He(hc.getDefaults(),arguments,["callback","frequency"]);super(n),this.name="Clock",this.callback=pt,this._lastUpdate=0,this._state=new Bf("stopped"),this._boundLoop=this._loop.bind(this),this.callback=n.callback,this._tickSource=new Ff({context:this.context,frequency:n.frequency,units:n.units}),this._lastUpdate=0,this.frequency=this._tickSource.frequency,jt(this,"frequency"),this._state.setStateAtTime("stopped",0),this.context.on("tick",this._boundLoop)}static getDefaults(){return Object.assign(An.getDefaults(),{callback:pt,frequency:1,units:"hertz"})}get state(){return this._state.getValueAtTime(this.now())}start(n,s){Y_(this.context);const r=this.toSeconds(n);return this.log("start",r),this._state.getValueAtTime(r)!=="started"&&(this._state.setStateAtTime("started",r),this._tickSource.start(r,s),r<this._lastUpdate&&this.emit("start",r,s)),this}stop(n){const s=this.toSeconds(n);return this.log("stop",s),this._state.cancel(s),this._state.setStateAtTime("stopped",s),this._tickSource.stop(s),s<this._lastUpdate&&this.emit("stop",s),this}pause(n){const s=this.toSeconds(n);return this._state.getValueAtTime(s)==="started"&&(this._state.setStateAtTime("paused",s),this._tickSource.pause(s),s<this._lastUpdate&&this.emit("pause",s)),this}get ticks(){return Math.ceil(this.getTicksAtTime(this.now()))}set ticks(n){this._tickSource.ticks=n}get seconds(){return this._tickSource.seconds}set seconds(n){this._tickSource.seconds=n}getSecondsAtTime(n){return this._tickSource.getSecondsAtTime(n)}setTicksAtTime(n,s){return this._tickSource.setTicksAtTime(n,s),this}getTimeOfTick(n,s=this.now()){return this._tickSource.getTimeOfTick(n,s)}getTicksAtTime(n){return this._tickSource.getTicksAtTime(n)}nextTickTime(n,s){const r=this.toSeconds(s),o=this.getTicksAtTime(r);return this._tickSource.getTimeOfTick(o+n,r)}_loop(){const n=this._lastUpdate,s=this.now();this._lastUpdate=s,this.log("loop",n,s),n!==s&&(this._state.forEachBetween(n,s,r=>{switch(r.state){case"started":const o=this._tickSource.getTicksAtTime(r.time);this.emit("start",r.time,o);break;case"stopped":r.time!==0&&this.emit("stop",r.time);break;case"paused":this.emit("pause",r.time);break}}),this._tickSource.forEachTickBetween(n,s,(r,o)=>{this.callback(r,o)}))}getStateAtTime(n){const s=this.toSeconds(n);return this._state.getValueAtTime(s)}dispose(){return super.dispose(),this.context.off("tick",this._boundLoop),this._tickSource.dispose(),this._state.dispose(),this}}mo.mixin(hc);class ta extends Ke{constructor(){const n=He(ta.getDefaults(),arguments,["volume"]);super(n),this.name="Volume",this.input=this.output=new un({context:this.context,gain:n.volume,units:"decibels"}),this.volume=this.output.gain,jt(this,"volume"),this._unmutedVolume=n.volume,this.mute=n.mute}static getDefaults(){return Object.assign(Ke.getDefaults(),{mute:!1,volume:0})}get mute(){return this.volume.value===-1/0}set mute(n){!this.mute&&n?(this._unmutedVolume=this.volume.value,this.volume.value=-1/0):this.mute&&!n&&(this.volume.value=this._unmutedVolume)}dispose(){return super.dispose(),this.input.dispose(),this.volume.dispose(),this}}class Hf extends Ke{constructor(){const n=He(Hf.getDefaults(),arguments);super(n),this.name="Destination",this.input=new ta({context:this.context}),this.output=new un({context:this.context}),this.volume=this.input.volume,hf(this.input,this.output,this.context.rawContext.destination),this.mute=n.mute,this._internalChannels=[this.input,this.context.rawContext.destination,this.output]}static getDefaults(){return Object.assign(Ke.getDefaults(),{mute:!1,volume:0})}get mute(){return this.input.mute}set mute(n){this.input.mute=n}chain(...n){return this.input.disconnect(),n.unshift(this.input),n.push(this.output),hf(...n),this}get maxChannelCount(){return this.context.rawContext.destination.maxChannelCount}dispose(){return super.dispose(),this.volume.dispose(),this}}lc(c=>{c.destination=new Hf({context:c})});cc(c=>{c.destination.dispose()});class yT extends Ke{constructor(){super(...arguments),this.name="Listener",this.positionX=new Et({context:this.context,param:this.context.rawContext.listener.positionX}),this.positionY=new Et({context:this.context,param:this.context.rawContext.listener.positionY}),this.positionZ=new Et({context:this.context,param:this.context.rawContext.listener.positionZ}),this.forwardX=new Et({context:this.context,param:this.context.rawContext.listener.forwardX}),this.forwardY=new Et({context:this.context,param:this.context.rawContext.listener.forwardY}),this.forwardZ=new Et({context:this.context,param:this.context.rawContext.listener.forwardZ}),this.upX=new Et({context:this.context,param:this.context.rawContext.listener.upX}),this.upY=new Et({context:this.context,param:this.context.rawContext.listener.upY}),this.upZ=new Et({context:this.context,param:this.context.rawContext.listener.upZ})}static getDefaults(){return Object.assign(Ke.getDefaults(),{positionX:0,positionY:0,positionZ:0,forwardX:0,forwardY:0,forwardZ:-1,upX:0,upY:1,upZ:0})}dispose(){return super.dispose(),this.positionX.dispose(),this.positionY.dispose(),this.positionZ.dispose(),this.forwardX.dispose(),this.forwardY.dispose(),this.forwardZ.dispose(),this.upX.dispose(),this.upY.dispose(),this.upZ.dispose(),this}}lc(c=>{c.listener=new yT({context:c})});cc(c=>{c.listener.dispose()});class Gf extends Hs{constructor(){super(),this.name="ToneAudioBuffers",this._buffers=new Map,this._loadingCount=0;const n=He(Gf.getDefaults(),arguments,["urls","onload","baseUrl"],"urls");this.baseUrl=n.baseUrl,Object.keys(n.urls).forEach(s=>{this._loadingCount++;const r=n.urls[s];this.add(s,r,this._bufferLoaded.bind(this,n.onload),n.onerror)})}static getDefaults(){return{baseUrl:"",onerror:pt,onload:pt,urls:{}}}has(n){return this._buffers.has(n.toString())}get(n){return qe(this.has(n),`ToneAudioBuffers has no buffer named: ${n}`),this._buffers.get(n.toString())}_bufferLoaded(n){this._loadingCount--,this._loadingCount===0&&n&&n()}get loaded(){return Array.from(this._buffers).every(([n,s])=>s.loaded)}add(n,s,r=pt,o=pt){return Ls(s)?(this.baseUrl&&s.trim().substring(0,11).toLowerCase()==="data:audio/"&&(this.baseUrl=""),this._buffers.set(n.toString(),new St(this.baseUrl+s,r,o))):this._buffers.set(n.toString(),new St(s,r,o)),this}dispose(){return super.dispose(),this._buffers.forEach(n=>n.dispose()),this._buffers.clear(),this}}class Ql extends zn{constructor(){super(...arguments),this.name="MidiClass",this.defaultUnits="midi"}_frequencyToUnits(n){return Gi(super._frequencyToUnits(n))}_ticksToUnits(n){return Gi(super._ticksToUnits(n))}_beatsToUnits(n){return Gi(super._beatsToUnits(n))}_secondsToUnits(n){return Gi(super._secondsToUnits(n))}toMidi(){return this.valueOf()}toFrequency(){return sv(this.toMidi())}transpose(n){return new Ql(this.context,this.toMidi()+n)}}class Br extends to{constructor(){super(...arguments),this.name="Ticks",this.defaultUnits="i"}_now(){return this.context.transport.ticks}_beatsToUnits(n){return this._getPPQ()*n}_secondsToUnits(n){return Math.floor(n/(60/this._getBpm())*this._getPPQ())}_ticksToUnits(n){return n}toTicks(){return this.valueOf()}toSeconds(){return this.valueOf()/this._getPPQ()*(60/this._getBpm())}}class bT extends An{constructor(){super(...arguments),this.name="Draw",this.expiration=.25,this.anticipation=.008,this._events=new Qn,this._boundDrawLoop=this._drawLoop.bind(this),this._animationFrame=-1}schedule(n,s){return this._events.add({callback:n,time:this.toSeconds(s)}),this._events.length===1&&(this._animationFrame=requestAnimationFrame(this._boundDrawLoop)),this}cancel(n){return this._events.cancel(this.toSeconds(n)),this}_drawLoop(){const n=this.context.currentTime;this._events.forEachBefore(n+this.anticipation,s=>{n-s.time<=this.expiration&&s.callback(),this._events.remove(s)}),this._events.length>0&&(this._animationFrame=requestAnimationFrame(this._boundDrawLoop))}dispose(){return super.dispose(),this._events.dispose(),cancelAnimationFrame(this._animationFrame),this}}lc(c=>{c.draw=new bT({context:c})});cc(c=>{c.draw.dispose()});class xT extends Hs{constructor(){super(...arguments),this.name="IntervalTimeline",this._root=null,this._length=0}add(n){qe(Je(n.time),"Events must have a time property"),qe(Je(n.duration),"Events must have a duration parameter"),n.time=n.time.valueOf();let s=new ST(n.time,n.time+n.duration,n);for(this._root===null?this._root=s:this._root.insert(s),this._length++;s!==null;)s.updateHeight(),s.updateMax(),this._rebalance(s),s=s.parent;return this}remove(n){if(this._root!==null){const s=[];this._root.search(n.time,s);for(const r of s)if(r.event===n){this._removeNode(r),this._length--;break}}return this}get length(){return this._length}cancel(n){return this.forEachFrom(n,s=>this.remove(s)),this}_setRoot(n){this._root=n,this._root!==null&&(this._root.parent=null)}_replaceNodeInParent(n,s){n.parent!==null?(n.isLeftChild()?n.parent.left=s:n.parent.right=s,this._rebalance(n.parent)):this._setRoot(s)}_removeNode(n){if(n.left===null&&n.right===null)this._replaceNodeInParent(n,null);else if(n.right===null)this._replaceNodeInParent(n,n.left);else if(n.left===null)this._replaceNodeInParent(n,n.right);else{const s=n.getBalance();let r,o=null;if(s>0)if(n.left.right===null)r=n.left,r.right=n.right,o=r;else{for(r=n.left.right;r.right!==null;)r=r.right;r.parent&&(r.parent.right=r.left,o=r.parent,r.left=n.left,r.right=n.right)}else if(n.right.left===null)r=n.right,r.left=n.left,o=r;else{for(r=n.right.left;r.left!==null;)r=r.left;r.parent&&(r.parent.left=r.right,o=r.parent,r.left=n.left,r.right=n.right)}n.parent!==null?n.isLeftChild()?n.parent.left=r:n.parent.right=r:this._setRoot(r),o&&this._rebalance(o)}n.dispose()}_rotateLeft(n){const s=n.parent,r=n.isLeftChild(),o=n.right;o&&(n.right=o.left,o.left=n),s!==null?r?s.left=o:s.right=o:this._setRoot(o)}_rotateRight(n){const s=n.parent,r=n.isLeftChild(),o=n.left;o&&(n.left=o.right,o.right=n),s!==null?r?s.left=o:s.right=o:this._setRoot(o)}_rebalance(n){const s=n.getBalance();s>1&&n.left?n.left.getBalance()<0?this._rotateLeft(n.left):this._rotateRight(n):s<-1&&n.right&&(n.right.getBalance()>0?this._rotateRight(n.right):this._rotateLeft(n))}get(n){if(this._root!==null){const s=[];if(this._root.search(n,s),s.length>0){let r=s[0];for(let o=1;o<s.length;o++)s[o].low>r.low&&(r=s[o]);return r.event}}return null}forEach(n){if(this._root!==null){const s=[];this._root.traverse(r=>s.push(r)),s.forEach(r=>{r.event&&n(r.event)})}return this}forEachAtTime(n,s){if(this._root!==null){const r=[];this._root.search(n,r),r.forEach(o=>{o.event&&s(o.event)})}return this}forEachFrom(n,s){if(this._root!==null){const r=[];this._root.searchAfter(n,r),r.forEach(o=>{o.event&&s(o.event)})}return this}dispose(){return super.dispose(),this._root!==null&&this._root.traverse(n=>n.dispose()),this._root=null,this}}class ST{constructor(n,s,r){this._left=null,this._right=null,this.parent=null,this.height=0,this.event=r,this.low=n,this.high=s,this.max=this.high}insert(n){n.low<=this.low?this.left===null?this.left=n:this.left.insert(n):this.right===null?this.right=n:this.right.insert(n)}search(n,s){n>this.max||(this.left!==null&&this.left.search(n,s),this.low<=n&&this.high>n&&s.push(this),!(this.low>n)&&this.right!==null&&this.right.search(n,s))}searchAfter(n,s){this.low>=n&&(s.push(this),this.left!==null&&this.left.searchAfter(n,s)),this.right!==null&&this.right.searchAfter(n,s)}traverse(n){n(this),this.left!==null&&this.left.traverse(n),this.right!==null&&this.right.traverse(n)}updateHeight(){this.left!==null&&this.right!==null?this.height=Math.max(this.left.height,this.right.height)+1:this.right!==null?this.height=this.right.height+1:this.left!==null?this.height=this.left.height+1:this.height=0}updateMax(){this.max=this.high,this.left!==null&&(this.max=Math.max(this.max,this.left.max)),this.right!==null&&(this.max=Math.max(this.max,this.right.max))}getBalance(){let n=0;return this.left!==null&&this.right!==null?n=this.left.height-this.right.height:this.left!==null?n=this.left.height+1:this.right!==null&&(n=-(this.right.height+1)),n}isLeftChild(){return this.parent!==null&&this.parent.left===this}get left(){return this._left}set left(n){this._left=n,n!==null&&(n.parent=this),this.updateHeight(),this.updateMax()}get right(){return this._right}set right(n){this._right=n,n!==null&&(n.parent=this),this.updateHeight(),this.updateMax()}dispose(){this.parent=null,this._left=null,this._right=null,this.event=null}}class wT extends Hs{constructor(n){super(),this.name="TimelineValue",this._timeline=new Qn({memory:10}),this._initialValue=n}set(n,s){return this._timeline.add({value:n,time:s}),this}get(n){const s=this._timeline.get(n);return s?s.value:this._initialValue}}class Pr extends Ke{constructor(){super(He(Pr.getDefaults(),arguments,["context"]))}connect(n,s=0,r=0){return qf(this,n,s,r),this}}class _o extends Pr{constructor(){const n=He(_o.getDefaults(),arguments,["mapping","length"]);super(n),this.name="WaveShaper",this._shaper=this.context.createWaveShaper(),this.input=this._shaper,this.output=this._shaper,Un(n.mapping)||n.mapping instanceof Float32Array?this.curve=Float32Array.from(n.mapping):Yw(n.mapping)&&this.setMap(n.mapping,n.length)}static getDefaults(){return Object.assign(en.getDefaults(),{length:1024})}setMap(n,s=1024){const r=new Float32Array(s);for(let o=0,l=s;o<l;o++){const h=o/(l-1)*2-1;r[o]=n(h,o)}return this.curve=r,this}get curve(){return this._shaper.curve}set curve(n){this._shaper.curve=n}get oversample(){return this._shaper.oversample}set oversample(n){const s=["none","2x","4x"].some(r=>r.includes(n));qe(s,"oversampling must be either 'none', '2x', or '4x'"),this._shaper.oversample=n}dispose(){return super.dispose(),this._shaper.disconnect(),this}}class Pf extends Pr{constructor(){const n=He(Pf.getDefaults(),arguments,["value"]);super(n),this.name="Pow",this._exponentScaler=this.input=this.output=new _o({context:this.context,mapping:this._expFunc(n.value),length:8192}),this._exponent=n.value}static getDefaults(){return Object.assign(Pr.getDefaults(),{value:1})}_expFunc(n){return s=>Math.pow(Math.abs(s),n)}get value(){return this._exponent}set value(n){this._exponent=n,this._exponentScaler.setMap(this._expFunc(this._exponent))}dispose(){return super.dispose(),this._exponentScaler.dispose(),this}}class bi{constructor(n,s){this.id=bi._eventId++,this._remainderTime=0;const r=Object.assign(bi.getDefaults(),s);this.transport=n,this.callback=r.callback,this._once=r.once,this.time=Math.floor(r.time),this._remainderTime=r.time-this.time}static getDefaults(){return{callback:pt,once:!1,time:0}}get floatTime(){return this.time+this._remainderTime}invoke(n){if(this.callback){const s=this.transport.bpm.getDurationOfTicks(1,n);this.callback(n+this._remainderTime*s),this._once&&this.transport.clear(this.id)}}dispose(){return this.callback=void 0,this}}bi._eventId=0;class Zf extends bi{constructor(n,s){super(n,s),this._currentId=-1,this._nextId=-1,this._nextTick=this.time,this._boundRestart=this._restart.bind(this);const r=Object.assign(Zf.getDefaults(),s);this.duration=r.duration,this._interval=r.interval,this._nextTick=r.time,this.transport.on("start",this._boundRestart),this.transport.on("loopStart",this._boundRestart),this.transport.on("ticks",this._boundRestart),this.context=this.transport.context,this._restart()}static getDefaults(){return Object.assign({},bi.getDefaults(),{duration:1/0,interval:1,once:!1})}invoke(n){this._createEvents(n),super.invoke(n)}_createEvent(){return Wl(this._nextTick,this.floatTime+this.duration)?this.transport.scheduleOnce(this.invoke.bind(this),new Br(this.context,this._nextTick).toSeconds()):-1}_createEvents(n){Wl(this._nextTick+this._interval,this.floatTime+this.duration)&&(this._nextTick+=this._interval,this._currentId=this._nextId,this._nextId=this.transport.scheduleOnce(this.invoke.bind(this),new Br(this.context,this._nextTick).toSeconds()))}_restart(n){this.transport.clear(this._currentId),this.transport.clear(this._nextId),this._nextTick=this.floatTime;const s=this.transport.getTicksAtTime(n);Hr(s,this.time)&&(this._nextTick=this.floatTime+Math.ceil((s-this.floatTime)/this._interval)*this._interval),this._currentId=this._createEvent(),this._nextTick+=this._interval,this._nextId=this._createEvent()}dispose(){return super.dispose(),this.transport.clear(this._currentId),this.transport.clear(this._nextId),this.transport.off("start",this._boundRestart),this.transport.off("loopStart",this._boundRestart),this.transport.off("ticks",this._boundRestart),this}}class fc extends An{constructor(){const n=He(fc.getDefaults(),arguments);super(n),this.name="Transport",this._loop=new wT(!1),this._loopStart=0,this._loopEnd=0,this._scheduledEvents={},this._timeline=new Qn,this._repeatedEvents=new xT,this._syncedSignals=[],this._swingAmount=0,this._ppq=n.ppq,this._clock=new hc({callback:this._processTick.bind(this),context:this.context,frequency:0,units:"bpm"}),this._bindClockEvents(),this.bpm=this._clock.frequency,this._clock.frequency.multiplier=n.ppq,this.bpm.setValueAtTime(n.bpm,0),jt(this,"bpm"),this._timeSignature=n.timeSignature,this._swingTicks=n.ppq/2}static getDefaults(){return Object.assign(An.getDefaults(),{bpm:120,loopEnd:"4m",loopStart:0,ppq:192,swing:0,swingSubdivision:"8n",timeSignature:4})}_processTick(n,s){if(this._loop.get(n)&&s>=this._loopEnd&&(this.emit("loopEnd",n),this._clock.setTicksAtTime(this._loopStart,n),s=this._loopStart,this.emit("loopStart",n,this._clock.getSecondsAtTime(n)),this.emit("loop",n)),this._swingAmount>0&&s%this._ppq!==0&&s%(this._swingTicks*2)!==0){const r=s%(this._swingTicks*2)/(this._swingTicks*2),o=Math.sin(r*Math.PI)*this._swingAmount;n+=new Br(this.context,this._swingTicks*2/3).toSeconds()*o}f0(!0),this._timeline.forEachAtTime(s,r=>r.invoke(n)),f0(!1)}schedule(n,s){const r=new bi(this,{callback:n,time:new to(this.context,s).toTicks()});return this._addEvent(r,this._timeline)}scheduleRepeat(n,s,r,o=1/0){const l=new Zf(this,{callback:n,duration:new as(this.context,o).toTicks(),interval:new as(this.context,s).toTicks(),time:new to(this.context,r).toTicks()});return this._addEvent(l,this._repeatedEvents)}scheduleOnce(n,s){const r=new bi(this,{callback:n,once:!0,time:new to(this.context,s).toTicks()});return this._addEvent(r,this._timeline)}clear(n){if(this._scheduledEvents.hasOwnProperty(n)){const s=this._scheduledEvents[n.toString()];s.timeline.remove(s.event),s.event.dispose(),delete this._scheduledEvents[n.toString()]}return this}_addEvent(n,s){return this._scheduledEvents[n.id.toString()]={event:n,timeline:s},s.add(n),n.id}cancel(n=0){const s=this.toTicks(n);return this._timeline.forEachFrom(s,r=>this.clear(r.id)),this._repeatedEvents.forEachFrom(s,r=>this.clear(r.id)),this}_bindClockEvents(){this._clock.on("start",(n,s)=>{s=new Br(this.context,s).toSeconds(),this.emit("start",n,s)}),this._clock.on("stop",n=>{this.emit("stop",n)}),this._clock.on("pause",n=>{this.emit("pause",n)})}get state(){return this._clock.getStateAtTime(this.now())}start(n,s){this.context.resume();let r;return Je(s)&&(r=this.toTicks(s)),this._clock.start(n,r),this}stop(n){return this._clock.stop(n),this}pause(n){return this._clock.pause(n),this}toggle(n){return n=this.toSeconds(n),this._clock.getStateAtTime(n)!=="started"?this.start(n):this.stop(n),this}get timeSignature(){return this._timeSignature}set timeSignature(n){Un(n)&&(n=n[0]/n[1]*4),this._timeSignature=n}get loopStart(){return new as(this.context,this._loopStart,"i").toSeconds()}set loopStart(n){this._loopStart=this.toTicks(n)}get loopEnd(){return new as(this.context,this._loopEnd,"i").toSeconds()}set loopEnd(n){this._loopEnd=this.toTicks(n)}get loop(){return this._loop.get(this.now())}set loop(n){this._loop.set(n,this.now())}setLoopPoints(n,s){return this.loopStart=n,this.loopEnd=s,this}get swing(){return this._swingAmount}set swing(n){this._swingAmount=n}get swingSubdivision(){return new Br(this.context,this._swingTicks).toNotation()}set swingSubdivision(n){this._swingTicks=this.toTicks(n)}get position(){const n=this.now(),s=this._clock.getTicksAtTime(n);return new Br(this.context,s).toBarsBeatsSixteenths()}set position(n){const s=this.toTicks(n);this.ticks=s}get seconds(){return this._clock.seconds}set seconds(n){const s=this.now(),r=this._clock.frequency.timeToTicks(n,s);this.ticks=r}get progress(){if(this.loop){const n=this.now();return(this._clock.getTicksAtTime(n)-this._loopStart)/(this._loopEnd-this._loopStart)}else return 0}get ticks(){return this._clock.ticks}set ticks(n){if(this._clock.ticks!==n){const s=this.now();if(this.state==="started"){const r=this._clock.getTicksAtTime(s),o=this._clock.frequency.getDurationOfTicks(Math.ceil(r)-r,s),l=s+o;this.emit("stop",l),this._clock.setTicksAtTime(n,l),this.emit("start",l,this._clock.getSecondsAtTime(l))}else this.emit("ticks",s),this._clock.setTicksAtTime(n,s)}}getTicksAtTime(n){return this._clock.getTicksAtTime(n)}getSecondsAtTime(n){return this._clock.getSecondsAtTime(n)}get PPQ(){return this._clock.frequency.multiplier}set PPQ(n){this._clock.frequency.multiplier=n}nextSubdivision(n){if(n=this.toTicks(n),this.state!=="started")return 0;{const s=this.now(),r=this.getTicksAtTime(s),o=n-r%n;return this._clock.nextTickTime(o,s)}}syncSignal(n,s){const r=this.now();let o=this.bpm,l=1/(60/o.getValueAtTime(r)/this.PPQ),h=[];if(n.units==="time"){const f=.015625/l,p=new un(f),m=new Pf(-1),_=new un(f);o.chain(p,m,_),o=_,l=1/l,h=[p,m,_]}s||(n.getValueAtTime(r)!==0?s=n.getValueAtTime(r)/l:s=0);const u=new un(s);return o.connect(u),u.connect(n._param),h.push(u),this._syncedSignals.push({initial:n.value,nodes:h,signal:n}),n.value=0,this}unsyncSignal(n){for(let s=this._syncedSignals.length-1;s>=0;s--){const r=this._syncedSignals[s];r.signal===n&&(r.nodes.forEach(o=>o.dispose()),r.signal.value=r.initial,this._syncedSignals.splice(s,1))}return this}dispose(){return super.dispose(),this._clock.dispose(),$_(this,"bpm"),this._timeline.dispose(),this._repeatedEvents.dispose(),this}}mo.mixin(fc);lc(c=>{c.transport=new fc({context:c})});cc(c=>{c.transport.dispose()});class Bn extends Ke{constructor(n){super(n),this.input=void 0,this._state=new Bf("stopped"),this._synced=!1,this._scheduled=[],this._syncedStart=pt,this._syncedStop=pt,this._state.memory=100,this._state.increasing=!0,this._volume=this.output=new ta({context:this.context,mute:n.mute,volume:n.volume}),this.volume=this._volume.volume,jt(this,"volume"),this.onstop=n.onstop}static getDefaults(){return Object.assign(Ke.getDefaults(),{mute:!1,onstop:pt,volume:0})}get state(){return this._synced?this.context.transport.state==="started"?this._state.getValueAtTime(this.context.transport.seconds):"stopped":this._state.getValueAtTime(this.now())}get mute(){return this._volume.mute}set mute(n){this._volume.mute=n}_clampToCurrentTime(n){return this._synced?n:Math.max(n,this.context.currentTime)}start(n,s,r){let o=Wn(n)&&this._synced?this.context.transport.seconds:this.toSeconds(n);if(o=this._clampToCurrentTime(o),!this._synced&&this._state.getValueAtTime(o)==="started")qe(Hr(o,this._state.get(o).time),"Start time must be strictly greater than previous start time"),this._state.cancel(o),this._state.setStateAtTime("started",o),this.log("restart",o),this.restart(o,s,r);else if(this.log("start",o),this._state.setStateAtTime("started",o),this._synced){const l=this._state.get(o);l&&(l.offset=this.toSeconds(qr(s,0)),l.duration=r?this.toSeconds(r):void 0);const h=this.context.transport.schedule(u=>{this._start(u,s,r)},o);this._scheduled.push(h),this.context.transport.state==="started"&&this.context.transport.getSecondsAtTime(this.immediate())>o&&this._syncedStart(this.now(),this.context.transport.seconds)}else Y_(this.context),this._start(o,s,r);return this}stop(n){let s=Wn(n)&&this._synced?this.context.transport.seconds:this.toSeconds(n);if(s=this._clampToCurrentTime(s),this._state.getValueAtTime(s)==="started"||Je(this._state.getNextState("started",s))){if(this.log("stop",s),!this._synced)this._stop(s);else{const r=this.context.transport.schedule(this._stop.bind(this),s);this._scheduled.push(r)}this._state.cancel(s),this._state.setStateAtTime("stopped",s)}return this}restart(n,s,r){return n=this.toSeconds(n),this._state.getValueAtTime(n)==="started"&&(this._state.cancel(n),this._restart(n,s,r)),this}sync(){return this._synced||(this._synced=!0,this._syncedStart=(n,s)=>{if(Hr(s,0)){const r=this._state.get(s);if(r&&r.state==="started"&&r.time!==s){const o=s-this.toSeconds(r.time);let l;r.duration&&(l=this.toSeconds(r.duration)-o),this._start(n,this.toSeconds(r.offset)+o,l)}}},this._syncedStop=n=>{const s=this.context.transport.getSecondsAtTime(Math.max(n-this.sampleTime,0));this._state.getValueAtTime(s)==="started"&&this._stop(n)},this.context.transport.on("start",this._syncedStart),this.context.transport.on("loopStart",this._syncedStart),this.context.transport.on("stop",this._syncedStop),this.context.transport.on("pause",this._syncedStop),this.context.transport.on("loopEnd",this._syncedStop)),this}unsync(){return this._synced&&(this.context.transport.off("stop",this._syncedStop),this.context.transport.off("pause",this._syncedStop),this.context.transport.off("loopEnd",this._syncedStop),this.context.transport.off("start",this._syncedStart),this.context.transport.off("loopStart",this._syncedStart)),this._synced=!1,this._scheduled.forEach(n=>this.context.transport.clear(n)),this._scheduled=[],this._state.cancel(0),this._stop(0),this}dispose(){return super.dispose(),this.onstop=pt,this.unsync(),this._volume.dispose(),this._state.dispose(),this}}class dc extends Gr{constructor(){const n=He(dc.getDefaults(),arguments,["url","onload"]);super(n),this.name="ToneBufferSource",this._source=this.context.createBufferSource(),this._internalChannels=[this._source],this._sourceStarted=!1,this._sourceStopped=!1,Ji(this._source,this._gainNode),this._source.onended=()=>this._stopSource(),this.playbackRate=new Et({context:this.context,param:this._source.playbackRate,units:"positive",value:n.playbackRate}),this.loop=n.loop,this.loopStart=n.loopStart,this.loopEnd=n.loopEnd,this._buffer=new St(n.url,n.onload,n.onerror),this._internalChannels.push(this._source)}static getDefaults(){return Object.assign(Gr.getDefaults(),{url:new St,loop:!1,loopEnd:0,loopStart:0,onload:pt,onerror:pt,playbackRate:1})}get fadeIn(){return this._fadeIn}set fadeIn(n){this._fadeIn=n}get fadeOut(){return this._fadeOut}set fadeOut(n){this._fadeOut=n}get curve(){return this._curve}set curve(n){this._curve=n}start(n,s,r,o=1){qe(this.buffer.loaded,"buffer is either not set or not loaded");const l=this.toSeconds(n);this._startGain(l,o),this.loop?s=qr(s,this.loopStart):s=qr(s,0);let h=Math.max(this.toSeconds(s),0);if(this.loop){const u=this.toSeconds(this.loopEnd)||this.buffer.duration,f=this.toSeconds(this.loopStart),p=u-f;uf(h,u)&&(h=(h-f)%p+f),is(h,this.buffer.duration)&&(h=0)}if(this._source.buffer=this.buffer.get(),this._source.loopEnd=this.toSeconds(this.loopEnd)||this.buffer.duration,Wl(h,this.buffer.duration)&&(this._sourceStarted=!0,this._source.start(l,h)),Je(r)){let u=this.toSeconds(r);u=Math.max(u,0),this.stop(l+u)}return this}_stopSource(n){!this._sourceStopped&&this._sourceStarted&&(this._sourceStopped=!0,this._source.stop(this.toSeconds(n)),this._onended())}get loopStart(){return this._source.loopStart}set loopStart(n){this._source.loopStart=this.toSeconds(n)}get loopEnd(){return this._source.loopEnd}set loopEnd(n){this._source.loopEnd=this.toSeconds(n)}get buffer(){return this._buffer}set buffer(n){this._buffer.set(n)}get loop(){return this._source.loop}set loop(n){this._source.loop=n,this._sourceStarted&&this.cancelStop()}dispose(){return super.dispose(),this._source.onended=null,this._source.disconnect(),this._buffer.dispose(),this.playbackRate.dispose(),this}}function $i(c,n){return Ht(this,void 0,void 0,function*(){const s=n/c.context.sampleRate,r=new zf(1,s,c.context.sampleRate);return new c.constructor(Object.assign(c.get(),{frequency:2/s,detune:0,context:r})).toDestination().start(0),(yield r.render()).getChannelData(0)})}class Yf extends Gr{constructor(){const n=He(Yf.getDefaults(),arguments,["frequency","type"]);super(n),this.name="ToneOscillatorNode",this._oscillator=this.context.createOscillator(),this._internalChannels=[this._oscillator],Ji(this._oscillator,this._gainNode),this.type=n.type,this.frequency=new Et({context:this.context,param:this._oscillator.frequency,units:"frequency",value:n.frequency}),this.detune=new Et({context:this.context,param:this._oscillator.detune,units:"cents",value:n.detune}),jt(this,["frequency","detune"])}static getDefaults(){return Object.assign(Gr.getDefaults(),{detune:0,frequency:440,type:"sine"})}start(n){const s=this.toSeconds(n);return this.log("start",s),this._startGain(s),this._oscillator.start(s),this}_stopSource(n){this._oscillator.stop(n)}setPeriodicWave(n){return this._oscillator.setPeriodicWave(n),this}get type(){return this._oscillator.type}set type(n){this._oscillator.type=n}dispose(){return super.dispose(),this.state==="started"&&this.stop(),this._oscillator.disconnect(),this.frequency.dispose(),this.detune.dispose(),this}}class Ft extends Bn{constructor(){const n=He(Ft.getDefaults(),arguments,["frequency","type"]);super(n),this.name="Oscillator",this._oscillator=null,this.frequency=new en({context:this.context,units:"frequency",value:n.frequency}),jt(this,"frequency"),this.detune=new en({context:this.context,units:"cents",value:n.detune}),jt(this,"detune"),this._partials=n.partials,this._partialCount=n.partialCount,this._type=n.type,n.partialCount&&n.type!=="custom"&&(this._type=this.baseType+n.partialCount.toString()),this.phase=n.phase}static getDefaults(){return Object.assign(Bn.getDefaults(),{detune:0,frequency:440,partialCount:0,partials:[],phase:0,type:"sine"})}_start(n){const s=this.toSeconds(n),r=new Yf({context:this.context,onended:()=>this.onstop(this)});this._oscillator=r,this._wave?this._oscillator.setPeriodicWave(this._wave):this._oscillator.type=this._type,this._oscillator.connect(this.output),this.frequency.connect(this._oscillator.frequency),this.detune.connect(this._oscillator.detune),this._oscillator.start(s)}_stop(n){const s=this.toSeconds(n);this._oscillator&&this._oscillator.stop(s)}_restart(n){const s=this.toSeconds(n);return this.log("restart",s),this._oscillator&&this._oscillator.cancelStop(),this._state.cancel(s),this}syncFrequency(){return this.context.transport.syncSignal(this.frequency),this}unsyncFrequency(){return this.context.transport.unsyncSignal(this.frequency),this}_getCachedPeriodicWave(){if(this._type==="custom")return Ft._periodicWaveCache.find(s=>s.phase===this._phase&&iT(s.partials,this._partials));{const n=Ft._periodicWaveCache.find(s=>s.type===this._type&&s.phase===this._phase);return this._partialCount=n?n.partialCount:this._partialCount,n}}get type(){return this._type}set type(n){this._type=n;const s=["sine","square","sawtooth","triangle"].indexOf(n)!==-1;if(this._phase===0&&s)this._wave=void 0,this._partialCount=0,this._oscillator!==null&&(this._oscillator.type=n);else{const r=this._getCachedPeriodicWave();if(Je(r)){const{partials:o,wave:l}=r;this._wave=l,this._partials=o,this._oscillator!==null&&this._oscillator.setPeriodicWave(this._wave)}else{const[o,l]=this._getRealImaginary(n,this._phase),h=this.context.createPeriodicWave(o,l);this._wave=h,this._oscillator!==null&&this._oscillator.setPeriodicWave(this._wave),Ft._periodicWaveCache.push({imag:l,partialCount:this._partialCount,partials:this._partials,phase:this._phase,real:o,type:this._type,wave:this._wave}),Ft._periodicWaveCache.length>100&&Ft._periodicWaveCache.shift()}}}get baseType(){return this._type.replace(this.partialCount.toString(),"")}set baseType(n){this.partialCount&&this._type!=="custom"&&n!=="custom"?this.type=n+this.partialCount:this.type=n}get partialCount(){return this._partialCount}set partialCount(n){yi(n,0);let s=this._type;const r=/^(sine|triangle|square|sawtooth)(\d+)$/.exec(this._type);if(r&&(s=r[1]),this._type!=="custom")n===0?this.type=s:this.type=s+n.toString();else{const o=new Float32Array(n);this._partials.forEach((l,h)=>o[h]=l),this._partials=Array.from(o),this.type=this._type}}_getRealImaginary(n,s){let o=2048;const l=new Float32Array(o),h=new Float32Array(o);let u=1;if(n==="custom"){if(u=this._partials.length+1,this._partialCount=this._partials.length,o=u,this._partials.length===0)return[l,h]}else{const f=/^(sine|triangle|square|sawtooth)(\d+)$/.exec(n);f?(u=parseInt(f[2],10)+1,this._partialCount=parseInt(f[2],10),n=f[1],u=Math.max(u,2),o=u):this._partialCount=0,this._partials=[]}for(let f=1;f<o;++f){const p=2/(f*Math.PI);let m;switch(n){case"sine":m=f<=u?1:0,this._partials[f-1]=m;break;case"square":m=f&1?2*p:0,this._partials[f-1]=m;break;case"sawtooth":m=p*(f&1?1:-1),this._partials[f-1]=m;break;case"triangle":f&1?m=2*(p*p)*(f-1>>1&1?-1:1):m=0,this._partials[f-1]=m;break;case"custom":m=this._partials[f-1];break;default:throw new TypeError("Oscillator: invalid type: "+n)}m!==0?(l[f]=-m*Math.sin(s*f),h[f]=m*Math.cos(s*f)):(l[f]=0,h[f]=0)}return[l,h]}_inverseFFT(n,s,r){let o=0;const l=n.length;for(let h=0;h<l;h++)o+=n[h]*Math.cos(h*r)+s[h]*Math.sin(h*r);return o}getInitialValue(){const[n,s]=this._getRealImaginary(this._type,0);let r=0;const o=Math.PI*2,l=32;for(let h=0;h<l;h++)r=Math.max(this._inverseFFT(n,s,h/l*o),r);return aT(-this._inverseFFT(n,s,this._phase)/r,-1,1)}get partials(){return this._partials.slice(0,this.partialCount)}set partials(n){this._partials=n,this._partialCount=this._partials.length,n.length&&(this.type="custom")}get phase(){return this._phase*(180/Math.PI)}set phase(n){this._phase=n*Math.PI/180,this.type=this._type}asArray(){return Ht(this,arguments,void 0,function*(n=1024){return $i(this,n)})}dispose(){return super.dispose(),this._oscillator!==null&&this._oscillator.dispose(),this._wave=void 0,this.frequency.dispose(),this.detune.dispose(),this}}Ft._periodicWaveCache=[];class TT extends Pr{constructor(){super(...arguments),this.name="AudioToGain",this._norm=new _o({context:this.context,mapping:n=>(n+1)/2}),this.input=this._norm,this.output=this._norm}dispose(){return super.dispose(),this._norm.dispose(),this}}class Zr extends en{constructor(){const n=He(Zr.getDefaults(),arguments,["value"]);super(n),this.name="Multiply",this.override=!1,this._mult=this.input=this.output=new un({context:this.context,minValue:n.minValue,maxValue:n.maxValue}),this.factor=this._param=this._mult.gain,this.factor.setValueAtTime(n.value,0)}static getDefaults(){return Object.assign(en.getDefaults(),{value:0})}dispose(){return super.dispose(),this._mult.dispose(),this}}class pc extends Bn{constructor(){const n=He(pc.getDefaults(),arguments,["frequency","type","modulationType"]);super(n),this.name="AMOscillator",this._modulationScale=new TT({context:this.context}),this._modulationNode=new un({context:this.context}),this._carrier=new Ft({context:this.context,detune:n.detune,frequency:n.frequency,onstop:()=>this.onstop(this),phase:n.phase,type:n.type}),this.frequency=this._carrier.frequency,this.detune=this._carrier.detune,this._modulator=new Ft({context:this.context,phase:n.phase,type:n.modulationType}),this.harmonicity=new Zr({context:this.context,units:"positive",value:n.harmonicity}),this.frequency.chain(this.harmonicity,this._modulator.frequency),this._modulator.chain(this._modulationScale,this._modulationNode.gain),this._carrier.chain(this._modulationNode,this.output),jt(this,["frequency","detune","harmonicity"])}static getDefaults(){return Object.assign(Ft.getDefaults(),{harmonicity:1,modulationType:"square"})}_start(n){this._modulator.start(n),this._carrier.start(n)}_stop(n){this._modulator.stop(n),this._carrier.stop(n)}_restart(n){this._modulator.restart(n),this._carrier.restart(n)}get type(){return this._carrier.type}set type(n){this._carrier.type=n}get baseType(){return this._carrier.baseType}set baseType(n){this._carrier.baseType=n}get partialCount(){return this._carrier.partialCount}set partialCount(n){this._carrier.partialCount=n}get modulationType(){return this._modulator.type}set modulationType(n){this._modulator.type=n}get phase(){return this._carrier.phase}set phase(n){this._carrier.phase=n,this._modulator.phase=n}get partials(){return this._carrier.partials}set partials(n){this._carrier.partials=n}asArray(){return Ht(this,arguments,void 0,function*(n=1024){return $i(this,n)})}dispose(){return super.dispose(),this.frequency.dispose(),this.detune.dispose(),this.harmonicity.dispose(),this._carrier.dispose(),this._modulator.dispose(),this._modulationNode.dispose(),this._modulationScale.dispose(),this}}class mc extends Bn{constructor(){const n=He(mc.getDefaults(),arguments,["frequency","type","modulationType"]);super(n),this.name="FMOscillator",this._modulationNode=new un({context:this.context,gain:0}),this._carrier=new Ft({context:this.context,detune:n.detune,frequency:0,onstop:()=>this.onstop(this),phase:n.phase,type:n.type}),this.detune=this._carrier.detune,this.frequency=new en({context:this.context,units:"frequency",value:n.frequency}),this._modulator=new Ft({context:this.context,phase:n.phase,type:n.modulationType}),this.harmonicity=new Zr({context:this.context,units:"positive",value:n.harmonicity}),this.modulationIndex=new Zr({context:this.context,units:"positive",value:n.modulationIndex}),this.frequency.connect(this._carrier.frequency),this.frequency.chain(this.harmonicity,this._modulator.frequency),this.frequency.chain(this.modulationIndex,this._modulationNode),this._modulator.connect(this._modulationNode.gain),this._modulationNode.connect(this._carrier.frequency),this._carrier.connect(this.output),this.detune.connect(this._modulator.detune),jt(this,["modulationIndex","frequency","detune","harmonicity"])}static getDefaults(){return Object.assign(Ft.getDefaults(),{harmonicity:1,modulationIndex:2,modulationType:"square"})}_start(n){this._modulator.start(n),this._carrier.start(n)}_stop(n){this._modulator.stop(n),this._carrier.stop(n)}_restart(n){return this._modulator.restart(n),this._carrier.restart(n),this}get type(){return this._carrier.type}set type(n){this._carrier.type=n}get baseType(){return this._carrier.baseType}set baseType(n){this._carrier.baseType=n}get partialCount(){return this._carrier.partialCount}set partialCount(n){this._carrier.partialCount=n}get modulationType(){return this._modulator.type}set modulationType(n){this._modulator.type=n}get phase(){return this._carrier.phase}set phase(n){this._carrier.phase=n,this._modulator.phase=n}get partials(){return this._carrier.partials}set partials(n){this._carrier.partials=n}asArray(){return Ht(this,arguments,void 0,function*(n=1024){return $i(this,n)})}dispose(){return super.dispose(),this.frequency.dispose(),this.harmonicity.dispose(),this._carrier.dispose(),this._modulator.dispose(),this._modulationNode.dispose(),this.modulationIndex.dispose(),this}}class vo extends Bn{constructor(){const n=He(vo.getDefaults(),arguments,["frequency","width"]);super(n),this.name="PulseOscillator",this._widthGate=new un({context:this.context,gain:0}),this._thresh=new _o({context:this.context,mapping:s=>s<=0?-1:1}),this.width=new en({context:this.context,units:"audioRange",value:n.width}),this._triangle=new Ft({context:this.context,detune:n.detune,frequency:n.frequency,onstop:()=>this.onstop(this),phase:n.phase,type:"triangle"}),this.frequency=this._triangle.frequency,this.detune=this._triangle.detune,this._triangle.chain(this._thresh,this.output),this.width.chain(this._widthGate,this._thresh),jt(this,["width","frequency","detune"])}static getDefaults(){return Object.assign(Bn.getDefaults(),{detune:0,frequency:440,phase:0,type:"pulse",width:.2})}_start(n){n=this.toSeconds(n),this._triangle.start(n),this._widthGate.gain.setValueAtTime(1,n)}_stop(n){n=this.toSeconds(n),this._triangle.stop(n),this._widthGate.gain.cancelScheduledValues(n),this._widthGate.gain.setValueAtTime(0,n)}_restart(n){this._triangle.restart(n),this._widthGate.gain.cancelScheduledValues(n),this._widthGate.gain.setValueAtTime(1,n)}get phase(){return this._triangle.phase}set phase(n){this._triangle.phase=n}get type(){return"pulse"}get baseType(){return"pulse"}get partials(){return[]}get partialCount(){return 0}set carrierType(n){this._triangle.type=n}asArray(){return Ht(this,arguments,void 0,function*(n=1024){return $i(this,n)})}dispose(){return super.dispose(),this._triangle.dispose(),this.width.dispose(),this._widthGate.dispose(),this._thresh.dispose(),this}}class gc extends Bn{constructor(){const n=He(gc.getDefaults(),arguments,["frequency","type","spread"]);super(n),this.name="FatOscillator",this._oscillators=[],this.frequency=new en({context:this.context,units:"frequency",value:n.frequency}),this.detune=new en({context:this.context,units:"cents",value:n.detune}),this._spread=n.spread,this._type=n.type,this._phase=n.phase,this._partials=n.partials,this._partialCount=n.partialCount,this.count=n.count,jt(this,["frequency","detune"])}static getDefaults(){return Object.assign(Ft.getDefaults(),{count:3,spread:20,type:"sawtooth"})}_start(n){n=this.toSeconds(n),this._forEach(s=>s.start(n))}_stop(n){n=this.toSeconds(n),this._forEach(s=>s.stop(n))}_restart(n){this._forEach(s=>s.restart(n))}_forEach(n){for(let s=0;s<this._oscillators.length;s++)n(this._oscillators[s],s)}get type(){return this._type}set type(n){this._type=n,this._forEach(s=>s.type=n)}get spread(){return this._spread}set spread(n){if(this._spread=n,this._oscillators.length>1){const s=-n/2,r=n/(this._oscillators.length-1);this._forEach((o,l)=>o.detune.value=s+r*l)}}get count(){return this._oscillators.length}set count(n){if(yi(n,1),this._oscillators.length!==n){this._forEach(s=>s.dispose()),this._oscillators=[];for(let s=0;s<n;s++){const r=new Ft({context:this.context,volume:-6-n*1.1,type:this._type,phase:this._phase+s/n*360,partialCount:this._partialCount,onstop:s===0?()=>this.onstop(this):pt});this.type==="custom"&&(r.partials=this._partials),this.frequency.connect(r.frequency),this.detune.connect(r.detune),r.detune.overridden=!1,r.connect(this.output),this._oscillators[s]=r}this.spread=this._spread,this.state==="started"&&this._forEach(s=>s.start())}}get phase(){return this._phase}set phase(n){this._phase=n,this._forEach((s,r)=>s.phase=this._phase+r/this.count*360)}get baseType(){return this._oscillators[0].baseType}set baseType(n){this._forEach(s=>s.baseType=n),this._type=this._oscillators[0].type}get partials(){return this._oscillators[0].partials}set partials(n){this._partials=n,this._partialCount=this._partials.length,n.length&&(this._type="custom",this._forEach(s=>s.partials=n))}get partialCount(){return this._oscillators[0].partialCount}set partialCount(n){this._partialCount=n,this._forEach(s=>s.partialCount=n),this._type=this._oscillators[0].type}asArray(){return Ht(this,arguments,void 0,function*(n=1024){return $i(this,n)})}dispose(){return super.dispose(),this.frequency.dispose(),this.detune.dispose(),this._forEach(n=>n.dispose()),this}}class _c extends Bn{constructor(){const n=He(_c.getDefaults(),arguments,["frequency","modulationFrequency"]);super(n),this.name="PWMOscillator",this.sourceType="pwm",this._scale=new Zr({context:this.context,value:2}),this._pulse=new vo({context:this.context,frequency:n.modulationFrequency}),this._pulse.carrierType="sine",this.modulationFrequency=this._pulse.frequency,this._modulator=new Ft({context:this.context,detune:n.detune,frequency:n.frequency,onstop:()=>this.onstop(this),phase:n.phase}),this.frequency=this._modulator.frequency,this.detune=this._modulator.detune,this._modulator.chain(this._scale,this._pulse.width),this._pulse.connect(this.output),jt(this,["modulationFrequency","frequency","detune"])}static getDefaults(){return Object.assign(Bn.getDefaults(),{detune:0,frequency:440,modulationFrequency:.4,phase:0,type:"pwm"})}_start(n){n=this.toSeconds(n),this._modulator.start(n),this._pulse.start(n)}_stop(n){n=this.toSeconds(n),this._modulator.stop(n),this._pulse.stop(n)}_restart(n){this._modulator.restart(n),this._pulse.restart(n)}get type(){return"pwm"}get baseType(){return"pwm"}get partials(){return[]}get partialCount(){return 0}get phase(){return this._modulator.phase}set phase(n){this._modulator.phase=n}asArray(){return Ht(this,arguments,void 0,function*(n=1024){return $i(this,n)})}dispose(){return super.dispose(),this._pulse.dispose(),this._scale.dispose(),this._modulator.dispose(),this}}const d0={am:pc,fat:gc,fm:mc,oscillator:Ft,pulse:vo,pwm:_c};class Kl extends Bn{constructor(){const n=He(Kl.getDefaults(),arguments,["frequency","type"]);super(n),this.name="OmniOscillator",this.frequency=new en({context:this.context,units:"frequency",value:n.frequency}),this.detune=new en({context:this.context,units:"cents",value:n.detune}),jt(this,["frequency","detune"]),this.set(n)}static getDefaults(){return Object.assign(Ft.getDefaults(),mc.getDefaults(),pc.getDefaults(),gc.getDefaults(),vo.getDefaults(),_c.getDefaults())}_start(n){this._oscillator.start(n)}_stop(n){this._oscillator.stop(n)}_restart(n){return this._oscillator.restart(n),this}get type(){let n="";return["am","fm","fat"].some(s=>this._sourceType===s)&&(n=this._sourceType),n+this._oscillator.type}set type(n){n.substr(0,2)==="fm"?(this._createNewOscillator("fm"),this._oscillator=this._oscillator,this._oscillator.type=n.substr(2)):n.substr(0,2)==="am"?(this._createNewOscillator("am"),this._oscillator=this._oscillator,this._oscillator.type=n.substr(2)):n.substr(0,3)==="fat"?(this._createNewOscillator("fat"),this._oscillator=this._oscillator,this._oscillator.type=n.substr(3)):n==="pwm"?(this._createNewOscillator("pwm"),this._oscillator=this._oscillator):n==="pulse"?this._createNewOscillator("pulse"):(this._createNewOscillator("oscillator"),this._oscillator=this._oscillator,this._oscillator.type=n)}get partials(){return this._oscillator.partials}set partials(n){!this._getOscType(this._oscillator,"pulse")&&!this._getOscType(this._oscillator,"pwm")&&(this._oscillator.partials=n)}get partialCount(){return this._oscillator.partialCount}set partialCount(n){!this._getOscType(this._oscillator,"pulse")&&!this._getOscType(this._oscillator,"pwm")&&(this._oscillator.partialCount=n)}set(n){return Reflect.has(n,"type")&&n.type&&(this.type=n.type),super.set(n),this}_createNewOscillator(n){if(n!==this._sourceType){this._sourceType=n;const s=d0[n],r=this.now();if(this._oscillator){const o=this._oscillator;o.stop(r),this.context.setTimeout(()=>o.dispose(),this.blockTime)}this._oscillator=new s({context:this.context}),this.frequency.connect(this._oscillator.frequency),this.detune.connect(this._oscillator.detune),this._oscillator.connect(this.output),this._oscillator.onstop=()=>this.onstop(this),this.state==="started"&&this._oscillator.start(r)}}get phase(){return this._oscillator.phase}set phase(n){this._oscillator.phase=n}get sourceType(){return this._sourceType}set sourceType(n){let s="sine";this._oscillator.type!=="pwm"&&this._oscillator.type!=="pulse"&&(s=this._oscillator.type),n==="fm"?this.type="fm"+s:n==="am"?this.type="am"+s:n==="fat"?this.type="fat"+s:n==="oscillator"?this.type=s:n==="pulse"?this.type="pulse":n==="pwm"&&(this.type="pwm")}_getOscType(n,s){return n instanceof d0[s]}get baseType(){return this._oscillator.baseType}set baseType(n){!this._getOscType(this._oscillator,"pulse")&&!this._getOscType(this._oscillator,"pwm")&&n!=="pulse"&&n!=="pwm"&&(this._oscillator.baseType=n)}get width(){if(this._getOscType(this._oscillator,"pulse"))return this._oscillator.width}get count(){if(this._getOscType(this._oscillator,"fat"))return this._oscillator.count}set count(n){this._getOscType(this._oscillator,"fat")&&vi(n)&&(this._oscillator.count=n)}get spread(){if(this._getOscType(this._oscillator,"fat"))return this._oscillator.spread}set spread(n){this._getOscType(this._oscillator,"fat")&&vi(n)&&(this._oscillator.spread=n)}get modulationType(){if(this._getOscType(this._oscillator,"fm")||this._getOscType(this._oscillator,"am"))return this._oscillator.modulationType}set modulationType(n){(this._getOscType(this._oscillator,"fm")||this._getOscType(this._oscillator,"am"))&&Ls(n)&&(this._oscillator.modulationType=n)}get modulationIndex(){if(this._getOscType(this._oscillator,"fm"))return this._oscillator.modulationIndex}get harmonicity(){if(this._getOscType(this._oscillator,"fm")||this._getOscType(this._oscillator,"am"))return this._oscillator.harmonicity}get modulationFrequency(){if(this._getOscType(this._oscillator,"pwm"))return this._oscillator.modulationFrequency}asArray(){return Ht(this,arguments,void 0,function*(n=1024){return $i(this,n)})}dispose(){return super.dispose(),this.detune.dispose(),this.frequency.dispose(),this._oscillator.dispose(),this}}function iv(c,n=1/0){const s=new WeakMap;return function(r,o){Reflect.defineProperty(r,o,{configurable:!0,enumerable:!0,get:function(){return s.get(this)},set:function(l){yi(l,c,n),s.set(this,l)}})}}function Gs(c,n=1/0){const s=new WeakMap;return function(r,o){Reflect.defineProperty(r,o,{configurable:!0,enumerable:!0,get:function(){return s.get(this)},set:function(l){yi(this.toSeconds(l),c,n),s.set(this,l)}})}}class vc extends Bn{constructor(){const n=He(vc.getDefaults(),arguments,["url","onload"]);super(n),this.name="Player",this._activeSources=new Set,this._buffer=new St({onload:this._onload.bind(this,n.onload),onerror:n.onerror,reverse:n.reverse,url:n.url}),this.autostart=n.autostart,this._loop=n.loop,this._loopStart=n.loopStart,this._loopEnd=n.loopEnd,this._playbackRate=n.playbackRate,this.fadeIn=n.fadeIn,this.fadeOut=n.fadeOut}static getDefaults(){return Object.assign(Bn.getDefaults(),{autostart:!1,fadeIn:0,fadeOut:0,loop:!1,loopEnd:0,loopStart:0,onload:pt,onerror:pt,playbackRate:1,reverse:!1})}load(n){return Ht(this,void 0,void 0,function*(){return yield this._buffer.load(n),this._onload(),this})}_onload(n=pt){n(),this.autostart&&this.start()}_onSourceEnd(n){this.onstop(this),this._activeSources.delete(n),this._activeSources.size===0&&!this._synced&&this._state.getValueAtTime(this.now())==="started"&&(this._state.cancel(this.now()),this._state.setStateAtTime("stopped",this.now()))}start(n,s,r){return super.start(n,s,r),this}_start(n,s,r){this._loop?s=qr(s,this._loopStart):s=qr(s,0);const o=this.toSeconds(s),l=r;r=qr(r,Math.max(this._buffer.duration-o,0));let h=this.toSeconds(r);h=h/this._playbackRate,n=this.toSeconds(n);const u=new dc({url:this._buffer,context:this.context,fadeIn:this.fadeIn,fadeOut:this.fadeOut,loop:this._loop,loopEnd:this._loopEnd,loopStart:this._loopStart,onended:this._onSourceEnd.bind(this),playbackRate:this._playbackRate}).connect(this.output);!this._loop&&!this._synced&&(this._state.cancel(n+h),this._state.setStateAtTime("stopped",n+h,{implicitEnd:!0})),this._activeSources.add(u),this._loop&&Wn(l)?u.start(n,o):u.start(n,o,h-this.toSeconds(this.fadeOut))}_stop(n){const s=this.toSeconds(n);this._activeSources.forEach(r=>r.stop(s))}restart(n,s,r){return super.restart(n,s,r),this}_restart(n,s,r){var o;(o=[...this._activeSources].pop())===null||o===void 0||o.stop(n),this._start(n,s,r)}seek(n,s){const r=this.toSeconds(s);if(this._state.getValueAtTime(r)==="started"){const o=this.toSeconds(n);this._stop(r),this._start(r,o)}return this}setLoopPoints(n,s){return this.loopStart=n,this.loopEnd=s,this}get loopStart(){return this._loopStart}set loopStart(n){this._loopStart=n,this.buffer.loaded&&yi(this.toSeconds(n),0,this.buffer.duration),this._activeSources.forEach(s=>{s.loopStart=n})}get loopEnd(){return this._loopEnd}set loopEnd(n){this._loopEnd=n,this.buffer.loaded&&yi(this.toSeconds(n),0,this.buffer.duration),this._activeSources.forEach(s=>{s.loopEnd=n})}get buffer(){return this._buffer}set buffer(n){this._buffer.set(n)}get loop(){return this._loop}set loop(n){if(this._loop!==n&&(this._loop=n,this._activeSources.forEach(s=>{s.loop=n}),n)){const s=this._state.getNextState("stopped",this.now());s&&this._state.cancel(s.time)}}get playbackRate(){return this._playbackRate}set playbackRate(n){this._playbackRate=n;const s=this.now(),r=this._state.getNextState("stopped",s);r&&r.implicitEnd&&(this._state.cancel(r.time),this._activeSources.forEach(o=>o.cancelStop())),this._activeSources.forEach(o=>{o.playbackRate.setValueAtTime(n,s)})}get reverse(){return this._buffer.reverse}set reverse(n){this._buffer.reverse=n}get loaded(){return this._buffer.loaded}dispose(){return super.dispose(),this._activeSources.forEach(n=>n.dispose()),this._activeSources.clear(),this._buffer.dispose(),this}}us([Gs(0)],vc.prototype,"fadeIn",void 0);us([Gs(0)],vc.prototype,"fadeOut",void 0);class wi extends Ke{constructor(){const n=He(wi.getDefaults(),arguments,["attack","decay","sustain","release"]);super(n),this.name="Envelope",this._sig=new en({context:this.context,value:0}),this.output=this._sig,this.input=void 0,this.attack=n.attack,this.decay=n.decay,this.sustain=n.sustain,this.release=n.release,this.attackCurve=n.attackCurve,this.releaseCurve=n.releaseCurve,this.decayCurve=n.decayCurve}static getDefaults(){return Object.assign(Ke.getDefaults(),{attack:.01,attackCurve:"linear",decay:.1,decayCurve:"exponential",release:1,releaseCurve:"exponential",sustain:.5})}get value(){return this.getValueAtTime(this.now())}_getCurve(n,s){if(Ls(n))return n;{let r;for(r in zl)if(zl[r][s]===n)return r;return n}}_setCurve(n,s,r){if(Ls(r)&&Reflect.has(zl,r)){const o=zl[r];Pi(o)?n!=="_decayCurve"&&(this[n]=o[s]):this[n]=o}else if(Un(r)&&n!=="_decayCurve")this[n]=r;else throw new Error("Envelope: invalid curve: "+r)}get attackCurve(){return this._getCurve(this._attackCurve,"In")}set attackCurve(n){this._setCurve("_attackCurve","In",n)}get releaseCurve(){return this._getCurve(this._releaseCurve,"Out")}set releaseCurve(n){this._setCurve("_releaseCurve","Out",n)}get decayCurve(){return this._getCurve(this._decayCurve,"Out")}set decayCurve(n){this._setCurve("_decayCurve","Out",n)}triggerAttack(n,s=1){this.log("triggerAttack",n,s),n=this.toSeconds(n);let o=this.toSeconds(this.attack);const l=this.toSeconds(this.decay),h=this.getValueAtTime(n);if(h>0){const u=1/o;o=(1-h)/u}if(o<this.sampleTime)this._sig.cancelScheduledValues(n),this._sig.setValueAtTime(s,n);else if(this._attackCurve==="linear")this._sig.linearRampTo(s,o,n);else if(this._attackCurve==="exponential")this._sig.targetRampTo(s,o,n);else{this._sig.cancelAndHoldAtTime(n);let u=this._attackCurve;for(let f=1;f<u.length;f++)if(u[f-1]<=h&&h<=u[f]){u=this._attackCurve.slice(f),u[0]=h;break}this._sig.setValueCurveAtTime(u,n,o,s)}if(l&&this.sustain<1){const u=s*this.sustain,f=n+o;this.log("decay",f),this._decayCurve==="linear"?this._sig.linearRampToValueAtTime(u,l+f):this._sig.exponentialApproachValueAtTime(u,f,l)}return this}triggerRelease(n){this.log("triggerRelease",n),n=this.toSeconds(n);const s=this.getValueAtTime(n);if(s>0){const r=this.toSeconds(this.release);r<this.sampleTime?this._sig.setValueAtTime(0,n):this._releaseCurve==="linear"?this._sig.linearRampTo(0,r,n):this._releaseCurve==="exponential"?this._sig.targetRampTo(0,r,n):(qe(Un(this._releaseCurve),"releaseCurve must be either 'linear', 'exponential' or an array"),this._sig.cancelAndHoldAtTime(n),this._sig.setValueCurveAtTime(this._releaseCurve,n,r,s))}return this}getValueAtTime(n){return this._sig.getValueAtTime(n)}triggerAttackRelease(n,s,r=1){return s=this.toSeconds(s),this.triggerAttack(s,r),this.triggerRelease(s+this.toSeconds(n)),this}cancel(n){return this._sig.cancelScheduledValues(this.toSeconds(n)),this}connect(n,s=0,r=0){return qf(this,n,s,r),this}asArray(){return Ht(this,arguments,void 0,function*(n=1024){const s=n/this.context.sampleRate,r=new zf(1,s,this.context.sampleRate),o=this.toSeconds(this.attack)+this.toSeconds(this.decay),l=o+this.toSeconds(this.release),h=l*.1,u=l+h,f=new this.constructor(Object.assign(this.get(),{attack:s*this.toSeconds(this.attack)/u,decay:s*this.toSeconds(this.decay)/u,release:s*this.toSeconds(this.release)/u,context:r}));return f._sig.toDestination(),f.triggerAttackRelease(s*(o+h)/u,0),(yield r.render()).getChannelData(0)})}dispose(){return super.dispose(),this._sig.dispose(),this}}us([Gs(0)],wi.prototype,"attack",void 0);us([Gs(0)],wi.prototype,"decay",void 0);us([iv(0,1)],wi.prototype,"sustain",void 0);us([Gs(0)],wi.prototype,"release",void 0);const zl=(()=>{let n,s;const r=[];for(n=0;n<128;n++)r[n]=Math.sin(n/127*(Math.PI/2));const o=[],l=6.4;for(n=0;n<127;n++){s=n/127;const b=Math.sin(s*(Math.PI*2)*l-Math.PI/2)+1;o[n]=b/10+s*.83}o[127]=1;const h=[],u=5;for(n=0;n<128;n++)h[n]=Math.ceil(n/127*u)/u;const f=[];for(n=0;n<128;n++)s=n/127,f[n]=.5*(1-Math.cos(Math.PI*s));const p=[];for(n=0;n<128;n++){s=n/127;const b=Math.pow(s,3)*4+.2,v=Math.cos(b*Math.PI*2*s);p[n]=Math.abs(v*(1-s))}function m(b){const v=new Array(b.length);for(let x=0;x<b.length;x++)v[x]=1-b[x];return v}function _(b){return b.slice(0).reverse()}return{bounce:{In:m(p),Out:p},cosine:{In:r,Out:_(r)},exponential:"exponential",linear:"linear",ripple:{In:o,Out:m(o)},sine:{In:f,Out:m(f)},step:{In:h,Out:m(h)}}})();let Yr=class rv extends Ke{constructor(){const n=He(rv.getDefaults(),arguments);super(n),this._scheduledEvents=[],this._synced=!1,this._original_triggerAttack=this.triggerAttack,this._original_triggerRelease=this.triggerRelease,this._syncedRelease=s=>this._original_triggerRelease(s),this._volume=this.output=new ta({context:this.context,volume:n.volume}),this.volume=this._volume.volume,jt(this,"volume")}static getDefaults(){return Object.assign(Ke.getDefaults(),{volume:0})}sync(){return this._syncState()&&(this._syncMethod("triggerAttack",1),this._syncMethod("triggerRelease",0),this.context.transport.on("stop",this._syncedRelease),this.context.transport.on("pause",this._syncedRelease),this.context.transport.on("loopEnd",this._syncedRelease)),this}_syncState(){let n=!1;return this._synced||(this._synced=!0,n=!0),n}_syncMethod(n,s){const r=this["_original_"+n]=this[n];this[n]=(...o)=>{const l=o[s],h=this.context.transport.schedule(u=>{o[s]=u,r.apply(this,o)},l);this._scheduledEvents.push(h)}}unsync(){return this._scheduledEvents.forEach(n=>this.context.transport.clear(n)),this._scheduledEvents=[],this._synced&&(this._synced=!1,this.triggerAttack=this._original_triggerAttack,this.triggerRelease=this._original_triggerRelease,this.context.transport.off("stop",this._syncedRelease),this.context.transport.off("pause",this._syncedRelease),this.context.transport.off("loopEnd",this._syncedRelease)),this}triggerAttackRelease(n,s,r,o){const l=this.toSeconds(r),h=this.toSeconds(s);return this.triggerAttack(n,l,o),this.triggerRelease(l+h),this}dispose(){return super.dispose(),this._volume.dispose(),this.unsync(),this._scheduledEvents=[],this}};class Wi extends Yr{constructor(){const n=He(Wi.getDefaults(),arguments);super(n),this.portamento=n.portamento,this.onsilence=n.onsilence}static getDefaults(){return Object.assign(Yr.getDefaults(),{detune:0,onsilence:pt,portamento:0})}triggerAttack(n,s,r=1){this.log("triggerAttack",n,s,r);const o=this.toSeconds(s);return this._triggerEnvelopeAttack(o,r),this.setNote(n,o),this}triggerRelease(n){this.log("triggerRelease",n);const s=this.toSeconds(n);return this._triggerEnvelopeRelease(s),this}setNote(n,s){const r=this.toSeconds(s),o=n instanceof zn?n.toFrequency():n;if(this.portamento>0&&this.getLevelAtTime(r)>.05){const l=this.toSeconds(this.portamento);this.frequency.exponentialRampTo(o,l,r)}else this.frequency.setValueAtTime(o,r);return this}}us([Gs(0)],Wi.prototype,"portamento",void 0);class Xf extends wi{constructor(){super(He(Xf.getDefaults(),arguments,["attack","decay","sustain","release"])),this.name="AmplitudeEnvelope",this._gainNode=new un({context:this.context,gain:0}),this.output=this._gainNode,this.input=this._gainNode,this._sig.connect(this._gainNode.gain),this.output=this._gainNode,this.input=this._gainNode}dispose(){return super.dispose(),this._gainNode.dispose(),this}}class Xr extends Wi{constructor(){const n=He(Xr.getDefaults(),arguments);super(n),this.name="Synth",this.oscillator=new Kl(Object.assign({context:this.context,detune:n.detune,onstop:()=>this.onsilence(this)},n.oscillator)),this.frequency=this.oscillator.frequency,this.detune=this.oscillator.detune,this.envelope=new Xf(Object.assign({context:this.context},n.envelope)),this.oscillator.chain(this.envelope,this.output),jt(this,["oscillator","frequency","detune","envelope"])}static getDefaults(){return Object.assign(Wi.getDefaults(),{envelope:Object.assign(cf(wi.getDefaults(),Object.keys(Ke.getDefaults())),{attack:.005,decay:.1,release:1,sustain:.3}),oscillator:Object.assign(cf(Kl.getDefaults(),[...Object.keys(Bn.getDefaults()),"frequency","detune"]),{type:"triangle"})})}_triggerEnvelopeAttack(n,s){if(this.envelope.triggerAttack(n,s),this.oscillator.start(n),this.envelope.sustain===0){const r=this.toSeconds(this.envelope.attack),o=this.toSeconds(this.envelope.decay);this.oscillator.stop(n+r+o)}}_triggerEnvelopeRelease(n){this.envelope.triggerRelease(n),this.oscillator.stop(n+this.toSeconds(this.envelope.release))}getLevelAtTime(n){return n=this.toSeconds(n),this.envelope.getValueAtTime(n)}dispose(){return super.dispose(),this.oscillator.dispose(),this.envelope.dispose(),this}}class yc extends Xr{constructor(){const n=He(yc.getDefaults(),arguments);super(n),this.name="MembraneSynth",this.portamento=0,this.pitchDecay=n.pitchDecay,this.octaves=n.octaves,jt(this,["oscillator","envelope"])}static getDefaults(){return Zi(Wi.getDefaults(),Xr.getDefaults(),{envelope:{attack:.001,attackCurve:"exponential",decay:.4,release:1.4,sustain:.01},octaves:10,oscillator:{type:"sine"},pitchDecay:.05})}setNote(n,s){const r=this.toSeconds(s),o=this.toFrequency(n instanceof zn?n.toFrequency():n),l=o*this.octaves;return this.oscillator.frequency.setValueAtTime(l,r),this.oscillator.frequency.exponentialRampToValueAtTime(o,r+this.toSeconds(this.pitchDecay)),this}dispose(){return super.dispose(),this}}us([iv(0)],yc.prototype,"octaves",void 0);us([Gs(0)],yc.prototype,"pitchDecay",void 0);const av=new Set;function Wf(c){av.add(c)}function ov(c,n){const s=`registerProcessor("${c}", ${n})`;av.add(s)}const AT=`
	/**
	 * The base AudioWorkletProcessor for use in Tone.js. Works with the {@link ToneAudioWorklet}. 
	 */
	class ToneAudioWorkletProcessor extends AudioWorkletProcessor {

		constructor(options) {
			
			super(options);
			/**
			 * If the processor was disposed or not. Keep alive until it's disposed.
			 */
			this.disposed = false;
		   	/** 
			 * The number of samples in the processing block
			 */
			this.blockSize = 128;
			/**
			 * the sample rate
			 */
			this.sampleRate = sampleRate;

			this.port.onmessage = (event) => {
				// when it receives a dispose 
				if (event.data === "dispose") {
					this.disposed = true;
				}
			};
		}
	}
`;Wf(AT);const NT=`
	/**
	 * Abstract class for a single input/output processor. 
	 * has a 'generate' function which processes one sample at a time
	 */
	class SingleIOProcessor extends ToneAudioWorkletProcessor {

		constructor(options) {
			super(Object.assign(options, {
				numberOfInputs: 1,
				numberOfOutputs: 1
			}));
			/**
			 * Holds the name of the parameter and a single value of that
			 * parameter at the current sample
			 * @type { [name: string]: number }
			 */
			this.params = {}
		}

		/**
		 * Generate an output sample from the input sample and parameters
		 * @abstract
		 * @param input number
		 * @param channel number
		 * @param parameters { [name: string]: number }
		 * @returns number
		 */
		generate(){}

		/**
		 * Update the private params object with the 
		 * values of the parameters at the given index
		 * @param parameters { [name: string]: Float32Array },
		 * @param index number
		 */
		updateParams(parameters, index) {
			for (const paramName in parameters) {
				const param = parameters[paramName];
				if (param.length > 1) {
					this.params[paramName] = parameters[paramName][index];
				} else {
					this.params[paramName] = parameters[paramName][0];
				}
			}
		}

		/**
		 * Process a single frame of the audio
		 * @param inputs Float32Array[][]
		 * @param outputs Float32Array[][]
		 */
		process(inputs, outputs, parameters) {
			const input = inputs[0];
			const output = outputs[0];
			// get the parameter values
			const channelCount = Math.max(input && input.length || 0, output.length);
			for (let sample = 0; sample < this.blockSize; sample++) {
				this.updateParams(parameters, sample);
				for (let channel = 0; channel < channelCount; channel++) {
					const inputSample = input && input.length ? input[channel][sample] : 0;
					output[channel][sample] = this.generate(inputSample, channel, this.params);
				}
			}
			return !this.disposed;
		}
	};
`;Wf(NT);const kT=`
	/**
	 * A multichannel buffer for use within an AudioWorkletProcessor as a delay line
	 */
	class DelayLine {
		
		constructor(size, channels) {
			this.buffer = [];
			this.writeHead = []
			this.size = size;

			// create the empty channels
			for (let i = 0; i < channels; i++) {
				this.buffer[i] = new Float32Array(this.size);
				this.writeHead[i] = 0;
			}
		}

		/**
		 * Push a value onto the end
		 * @param channel number
		 * @param value number
		 */
		push(channel, value) {
			this.writeHead[channel] += 1;
			if (this.writeHead[channel] > this.size) {
				this.writeHead[channel] = 0;
			}
			this.buffer[channel][this.writeHead[channel]] = value;
		}

		/**
		 * Get the recorded value of the channel given the delay
		 * @param channel number
		 * @param delay number delay samples
		 */
		get(channel, delay) {
			let readHead = this.writeHead[channel] - Math.floor(delay);
			if (readHead < 0) {
				readHead += this.size;
			}
			return this.buffer[channel][readHead];
		}
	}
`;Wf(kT);const CT="feedback-comb-filter",ET=`
	class FeedbackCombFilterWorklet extends SingleIOProcessor {

		constructor(options) {
			super(options);
			this.delayLine = new DelayLine(this.sampleRate, options.channelCount || 2);
		}

		static get parameterDescriptors() {
			return [{
				name: "delayTime",
				defaultValue: 0.1,
				minValue: 0,
				maxValue: 1,
				automationRate: "k-rate"
			}, {
				name: "feedback",
				defaultValue: 0.5,
				minValue: 0,
				maxValue: 0.9999,
				automationRate: "k-rate"
			}];
		}

		generate(input, channel, parameters) {
			const delayedSample = this.delayLine.get(channel, parameters.delayTime * this.sampleRate);
			this.delayLine.push(channel, input + delayedSample * parameters.feedback);
			return delayedSample;
		}
	}
`;ov(CT,ET);class Qf extends Yr{constructor(){const n=He(Qf.getDefaults(),arguments,["voice","options"]);super(n),this.name="PolySynth",this._availableVoices=[],this._activeVoices=[],this._voices=[],this._gcTimeout=-1,this._averageActiveVoices=0,this._syncedRelease=o=>this.releaseAll(o),qe(!vi(n.voice),"DEPRECATED: The polyphony count is no longer the first argument.");const s=n.voice.getDefaults();this.options=Object.assign(s,n.options),this.voice=n.voice,this.maxPolyphony=n.maxPolyphony,this._dummyVoice=this._getNextAvailableVoice();const r=this._voices.indexOf(this._dummyVoice);this._voices.splice(r,1),this._gcTimeout=this.context.setInterval(this._collectGarbage.bind(this),1)}static getDefaults(){return Object.assign(Yr.getDefaults(),{maxPolyphony:32,options:{},voice:Xr})}get activeVoices(){return this._activeVoices.length}_makeVoiceAvailable(n){this._availableVoices.push(n);const s=this._activeVoices.findIndex(r=>r.voice===n);this._activeVoices.splice(s,1)}_getNextAvailableVoice(){if(this._availableVoices.length)return this._availableVoices.shift();if(this._voices.length<this.maxPolyphony){const n=new this.voice(Object.assign(this.options,{context:this.context,onsilence:this._makeVoiceAvailable.bind(this)}));return qe(n instanceof Wi,"Voice must extend Monophonic class"),n.connect(this.output),this._voices.push(n),n}else oc("Max polyphony exceeded. Note dropped.")}_collectGarbage(){if(this._averageActiveVoices=Math.max(this._averageActiveVoices*.95,this.activeVoices),this._availableVoices.length&&this._voices.length>Math.ceil(this._averageActiveVoices+1)){const n=this._availableVoices.shift(),s=this._voices.indexOf(n);this._voices.splice(s,1),this.context.isOffline||n.dispose()}}_triggerAttack(n,s,r){n.forEach(o=>{const l=new Ql(this.context,o).toMidi(),h=this._getNextAvailableVoice();h&&(h.triggerAttack(o,s,r),this._activeVoices.push({midi:l,voice:h,released:!1}),this.log("triggerAttack",o,s))})}_triggerRelease(n,s){n.forEach(r=>{const o=new Ql(this.context,r).toMidi(),l=this._activeVoices.find(({midi:h,released:u})=>h===o&&!u);l&&(l.voice.triggerRelease(s),l.released=!0,this.log("triggerRelease",r,s))})}_scheduleEvent(n,s,r,o){qe(!this.disposed,"Synth was already disposed"),r<=this.now()?n==="attack"?this._triggerAttack(s,r,o):this._triggerRelease(s,r):this.context.setTimeout(()=>{this.disposed||this._scheduleEvent(n,s,r,o)},r-this.now())}triggerAttack(n,s,r){Array.isArray(n)||(n=[n]);const o=this.toSeconds(s);return this._scheduleEvent("attack",n,o,r),this}triggerRelease(n,s){Array.isArray(n)||(n=[n]);const r=this.toSeconds(s);return this._scheduleEvent("release",n,r),this}triggerAttackRelease(n,s,r,o){const l=this.toSeconds(r);if(this.triggerAttack(n,l,o),Un(s)){qe(Un(n),"If the duration is an array, the notes must also be an array"),n=n;for(let h=0;h<n.length;h++){const u=s[Math.min(h,s.length-1)],f=this.toSeconds(u);qe(f>0,"The duration must be greater than 0"),this.triggerRelease(n[h],l+f)}}else{const h=this.toSeconds(s);qe(h>0,"The duration must be greater than 0"),this.triggerRelease(n,l+h)}return this}sync(){return this._syncState()&&(this._syncMethod("triggerAttack",1),this._syncMethod("triggerRelease",1),this.context.transport.on("stop",this._syncedRelease),this.context.transport.on("pause",this._syncedRelease),this.context.transport.on("loopEnd",this._syncedRelease)),this}set(n){const s=cf(n,["onsilence","context"]);return this.options=Zi(this.options,s),this._voices.forEach(r=>r.set(s)),this._dummyVoice.set(s),this}get(){return this._dummyVoice.get()}releaseAll(n){const s=this.toSeconds(n);return this._activeVoices.forEach(({voice:r})=>{r.triggerRelease(s)}),this}dispose(){return super.dispose(),this._dummyVoice.dispose(),this._voices.forEach(n=>n.dispose()),this._activeVoices=[],this._availableVoices=[],this.context.clearInterval(this._gcTimeout),this}}class Wr extends Yr{constructor(){const n=He(Wr.getDefaults(),arguments,["urls","onload","baseUrl"],"urls");super(n),this.name="Sampler",this._activeSources=new Map;const s={};Object.keys(n.urls).forEach(r=>{const o=parseInt(r,10);if(qe(jl(r)||vi(o)&&isFinite(o),`url key is neither a note or midi pitch: ${r}`),jl(r)){const l=new zn(this.context,r).toMidi();s[l]=n.urls[r]}else vi(o)&&isFinite(o)&&(s[o]=n.urls[o])}),this._buffers=new Gf({urls:s,onload:n.onload,baseUrl:n.baseUrl,onerror:n.onerror}),this.attack=n.attack,this.release=n.release,this.curve=n.curve,this._buffers.loaded&&Promise.resolve().then(n.onload)}static getDefaults(){return Object.assign(Yr.getDefaults(),{attack:0,baseUrl:"",curve:"exponential",onload:pt,onerror:pt,release:.1,urls:{}})}_findClosest(n){let r=0;for(;r<96;){if(this._buffers.has(n+r))return-r;if(this._buffers.has(n-r))return r;r++}throw new Error(`No available buffers for note: ${n}`)}triggerAttack(n,s,r=1){return this.log("triggerAttack",n,s,r),Array.isArray(n)||(n=[n]),n.forEach(o=>{const l=nv(new zn(this.context,o).toFrequency()),h=Math.round(l),u=l-h,f=this._findClosest(h),p=h-f,m=this._buffers.get(p),_=tv(f+u),b=new dc({url:m,context:this.context,curve:this.curve,fadeIn:this.attack,fadeOut:this.release,playbackRate:_}).connect(this.output);b.start(s,0,m.duration/_,r),Un(this._activeSources.get(h))||this._activeSources.set(h,[]),this._activeSources.get(h).push(b),b.onended=()=>{if(this._activeSources&&this._activeSources.has(h)){const v=this._activeSources.get(h),x=v.indexOf(b);x!==-1&&v.splice(x,1)}}}),this}triggerRelease(n,s){return this.log("triggerRelease",n,s),Array.isArray(n)||(n=[n]),n.forEach(r=>{const o=new zn(this.context,r).toMidi();if(this._activeSources.has(o)&&this._activeSources.get(o).length){const l=this._activeSources.get(o);s=this.toSeconds(s),l.forEach(h=>{h.stop(s)}),this._activeSources.set(o,[])}}),this}releaseAll(n){const s=this.toSeconds(n);return this._activeSources.forEach(r=>{for(;r.length;)r.shift().stop(s)}),this}sync(){return this._syncState()&&(this._syncMethod("triggerAttack",1),this._syncMethod("triggerRelease",1)),this}triggerAttackRelease(n,s,r,o=1){const l=this.toSeconds(r);return this.triggerAttack(n,l,o),Un(s)?(qe(Un(n),"notes must be an array when duration is array"),n.forEach((h,u)=>{const f=s[Math.min(u,s.length-1)];this.triggerRelease(h,l+this.toSeconds(f))})):this.triggerRelease(n,l+this.toSeconds(s)),this}add(n,s,r){if(qe(jl(n)||isFinite(n),`note must be a pitch or midi: ${n}`),jl(n)){const o=new zn(this.context,n).toMidi();this._buffers.add(o,s,r)}else this._buffers.add(n,s,r);return this}get loaded(){return this._buffers.loaded}dispose(){return super.dispose(),this._buffers.dispose(),this._activeSources.forEach(n=>{n.forEach(s=>s.dispose())}),this._activeSources.clear(),this}}us([Gs(0)],Wr.prototype,"attack",void 0);us([Gs(0)],Wr.prototype,"release",void 0);class Kf extends Ke{constructor(){const n=He(Kf.getDefaults(),arguments,["pan"]);super(n),this.name="Panner",this._panner=this.context.createStereoPanner(),this.input=this._panner,this.output=this._panner,this.pan=new Et({context:this.context,param:this._panner.pan,value:n.pan,minValue:-1,maxValue:1}),this._panner.channelCount=n.channelCount,this._panner.channelCountMode="explicit",jt(this,"pan")}static getDefaults(){return Object.assign(Ke.getDefaults(),{pan:0,channelCount:1})}dispose(){return super.dispose(),this._panner.disconnect(),this.pan.dispose(),this}}const OT="bit-crusher",MT=`
	class BitCrusherWorklet extends SingleIOProcessor {

		static get parameterDescriptors() {
			return [{
				name: "bits",
				defaultValue: 12,
				minValue: 1,
				maxValue: 16,
				automationRate: 'k-rate'
			}];
		}

		generate(input, _channel, parameters) {
			const step = Math.pow(0.5, parameters.bits - 1);
			const val = step * Math.floor(input / step + 0.5);
			return val;
		}
	}
`;ov(OT,MT);class Lt extends Ke{constructor(){const n=He(Lt.getDefaults(),arguments,["solo"]);super(n),this.name="Solo",this.input=this.output=new un({context:this.context}),Lt._allSolos.has(this.context)||Lt._allSolos.set(this.context,new Set),Lt._allSolos.get(this.context).add(this),this.solo=n.solo}static getDefaults(){return Object.assign(Ke.getDefaults(),{solo:!1})}get solo(){return this._isSoloed()}set solo(n){n?this._addSolo():this._removeSolo(),Lt._allSolos.get(this.context).forEach(s=>s._updateSolo())}get muted(){return this.input.gain.value===0}_addSolo(){Lt._soloed.has(this.context)||Lt._soloed.set(this.context,new Set),Lt._soloed.get(this.context).add(this)}_removeSolo(){Lt._soloed.has(this.context)&&Lt._soloed.get(this.context).delete(this)}_isSoloed(){return Lt._soloed.has(this.context)&&Lt._soloed.get(this.context).has(this)}_noSolos(){return!Lt._soloed.has(this.context)||Lt._soloed.has(this.context)&&Lt._soloed.get(this.context).size===0}_updateSolo(){this._isSoloed()?this.input.gain.value=1:this._noSolos()?this.input.gain.value=1:this.input.gain.value=0}dispose(){return super.dispose(),Lt._allSolos.get(this.context).delete(this),this._removeSolo(),this}}Lt._allSolos=new Map;Lt._soloed=new Map;class Jf extends Ke{constructor(){const n=He(Jf.getDefaults(),arguments,["pan","volume"]);super(n),this.name="PanVol",this._panner=this.input=new Kf({context:this.context,pan:n.pan,channelCount:n.channelCount}),this.pan=this._panner.pan,this._volume=this.output=new ta({context:this.context,volume:n.volume}),this.volume=this._volume.volume,this._panner.connect(this._volume),this.mute=n.mute,jt(this,["pan","volume"])}static getDefaults(){return Object.assign(Ke.getDefaults(),{mute:!1,pan:0,volume:0,channelCount:1})}get mute(){return this._volume.mute}set mute(n){this._volume.mute=n}dispose(){return super.dispose(),this._panner.dispose(),this.pan.dispose(),this._volume.dispose(),this.volume.dispose(),this}}class Ir extends Ke{constructor(){const n=He(Ir.getDefaults(),arguments,["volume","pan"]);super(n),this.name="Channel",this._solo=this.input=new Lt({solo:n.solo,context:this.context}),this._panVol=this.output=new Jf({context:this.context,pan:n.pan,volume:n.volume,mute:n.mute,channelCount:n.channelCount}),this.pan=this._panVol.pan,this.volume=this._panVol.volume,this._solo.connect(this._panVol),jt(this,["pan","volume"])}static getDefaults(){return Object.assign(Ke.getDefaults(),{pan:0,volume:0,mute:!1,solo:!1,channelCount:1})}get solo(){return this._solo.solo}set solo(n){this._solo.solo=n}get muted(){return this._solo.muted||this.mute}get mute(){return this._panVol.mute}set mute(n){this._panVol.mute=n}_getBus(n){return Ir.buses.has(n)||Ir.buses.set(n,new un({context:this.context})),Ir.buses.get(n)}send(n,s=0){const r=this._getBus(n),o=new un({context:this.context,units:"decibels",gain:s});return this.connect(o),o.connect(r),o}receive(n){return this._getBus(n).connect(this),this}dispose(){return super.dispose(),this._panVol.dispose(),this.pan.dispose(),this.volume.dispose(),this._solo.dispose(),this}}Ir.buses=new Map;const Yt=rs().transport,DT=rs().destination;rs().destination;rs().listener;const RT=rs().draw,Rh=rs();function p0(){return St.loaded()}var Vi={},Ul={},jh,m0;function jT(){if(m0)return jh;m0=1;function c(o){var l=new r(o),h=l.readChunk();if(h.id!="MThd")throw"Bad MIDI file.  Expected 'MHdr', got: '"+h.id+"'";for(var u=n(h.data),f=[],p=0;!l.eof()&&p<u.numTracks;p++){var m=l.readChunk();if(m.id!="MTrk")throw"Bad MIDI file.  Expected 'MTrk', got: '"+m.id+"'";var _=s(m.data);f.push(_)}return{header:u,tracks:f}}function n(o){var l=new r(o),h=l.readUInt16(),u=l.readUInt16(),f={format:h,numTracks:u},p=l.readUInt16();return p&32768?(f.framesPerSecond=256-(p>>8),f.ticksPerFrame=p&255):f.ticksPerBeat=p,f}function s(o){for(var l=new r(o),h=[];!l.eof();){var u=p();h.push(u)}return h;var f;function p(){var m={};m.deltaTime=l.readVarInt();var _=l.readUInt8();if((_&240)===240)if(_===255){m.meta=!0;var b=l.readUInt8(),v=l.readVarInt();switch(b){case 0:if(m.type="sequenceNumber",v!==2)throw"Expected length for sequenceNumber event is 2, got "+v;return m.number=l.readUInt16(),m;case 1:return m.type="text",m.text=l.readString(v),m;case 2:return m.type="copyrightNotice",m.text=l.readString(v),m;case 3:return m.type="trackName",m.text=l.readString(v),m;case 4:return m.type="instrumentName",m.text=l.readString(v),m;case 5:return m.type="lyrics",m.text=l.readString(v),m;case 6:return m.type="marker",m.text=l.readString(v),m;case 7:return m.type="cuePoint",m.text=l.readString(v),m;case 32:if(m.type="channelPrefix",v!=1)throw"Expected length for channelPrefix event is 1, got "+v;return m.channel=l.readUInt8(),m;case 33:if(m.type="portPrefix",v!=1)throw"Expected length for portPrefix event is 1, got "+v;return m.port=l.readUInt8(),m;case 47:if(m.type="endOfTrack",v!=0)throw"Expected length for endOfTrack event is 0, got "+v;return m;case 81:if(m.type="setTempo",v!=3)throw"Expected length for setTempo event is 3, got "+v;return m.microsecondsPerBeat=l.readUInt24(),m;case 84:if(m.type="smpteOffset",v!=5)throw"Expected length for smpteOffset event is 5, got "+v;var x=l.readUInt8(),y={0:24,32:25,64:29,96:30};return m.frameRate=y[x&96],m.hour=x&31,m.min=l.readUInt8(),m.sec=l.readUInt8(),m.frame=l.readUInt8(),m.subFrame=l.readUInt8(),m;case 88:if(m.type="timeSignature",v!=2&&v!=4)throw"Expected length for timeSignature event is 4 or 2, got "+v;return m.numerator=l.readUInt8(),m.denominator=1<<l.readUInt8(),v===4?(m.metronome=l.readUInt8(),m.thirtyseconds=l.readUInt8()):(m.metronome=36,m.thirtyseconds=8),m;case 89:if(m.type="keySignature",v!=2)throw"Expected length for keySignature event is 2, got "+v;return m.key=l.readInt8(),m.scale=l.readUInt8(),m;case 127:return m.type="sequencerSpecific",m.data=l.readBytes(v),m;default:return m.type="unknownMeta",m.data=l.readBytes(v),m.metatypeByte=b,m}}else if(_==240){m.type="sysEx";var v=l.readVarInt();return m.data=l.readBytes(v),m}else if(_==247){m.type="endSysEx";var v=l.readVarInt();return m.data=l.readBytes(v),m}else throw"Unrecognised MIDI event type byte: "+_;else{var S;if((_&128)===0){if(f===null)throw"Running status byte encountered before status byte";S=_,_=f,m.running=!0}else S=l.readUInt8(),f=_;var w=_>>4;switch(m.channel=_&15,w){case 8:return m.type="noteOff",m.noteNumber=S,m.velocity=l.readUInt8(),m;case 9:var C=l.readUInt8();return m.type=C===0?"noteOff":"noteOn",m.noteNumber=S,m.velocity=C,C===0&&(m.byte9=!0),m;case 10:return m.type="noteAftertouch",m.noteNumber=S,m.amount=l.readUInt8(),m;case 11:return m.type="controller",m.controllerType=S,m.value=l.readUInt8(),m;case 12:return m.type="programChange",m.programNumber=S,m;case 13:return m.type="channelAftertouch",m.amount=S,m;case 14:return m.type="pitchBend",m.value=S+(l.readUInt8()<<7)-8192,m;default:throw"Unrecognised MIDI event type: "+w}}}}function r(o){this.buffer=o,this.bufferLen=this.buffer.length,this.pos=0}return r.prototype.eof=function(){return this.pos>=this.bufferLen},r.prototype.readUInt8=function(){var o=this.buffer[this.pos];return this.pos+=1,o},r.prototype.readInt8=function(){var o=this.readUInt8();return o&128?o-256:o},r.prototype.readUInt16=function(){var o=this.readUInt8(),l=this.readUInt8();return(o<<8)+l},r.prototype.readInt16=function(){var o=this.readUInt16();return o&32768?o-65536:o},r.prototype.readUInt24=function(){var o=this.readUInt8(),l=this.readUInt8(),h=this.readUInt8();return(o<<16)+(l<<8)+h},r.prototype.readInt24=function(){var o=this.readUInt24();return o&8388608?o-16777216:o},r.prototype.readUInt32=function(){var o=this.readUInt8(),l=this.readUInt8(),h=this.readUInt8(),u=this.readUInt8();return(o<<24)+(l<<16)+(h<<8)+u},r.prototype.readBytes=function(o){var l=this.buffer.slice(this.pos,this.pos+o);return this.pos+=o,l},r.prototype.readString=function(o){var l=this.readBytes(o);return String.fromCharCode.apply(null,l)},r.prototype.readVarInt=function(){for(var o=0;!this.eof();){var l=this.readUInt8();if(l&128)o+=l&127,o<<=7;else return o+l}return o},r.prototype.readChunk=function(){var o=this.readString(4),l=this.readUInt32(),h=this.readBytes(l);return{id:o,length:l,data:h}},jh=c,jh}var zh,g0;function zT(){if(g0)return zh;g0=1;function c(l,h){if(typeof l!="object")throw"Invalid MIDI data";h=h||{};var u=l.header||{},f=l.tracks||[],p,m=f.length,_=new o;for(n(_,u,m),p=0;p<m;p++)s(_,f[p],h);return _.buffer}function n(l,h,u){var f=h.format==null?1:h.format,p=128;h.timeDivision?p=h.timeDivision:h.ticksPerFrame&&h.framesPerSecond?p=-(h.framesPerSecond&255)<<8|h.ticksPerFrame&255:h.ticksPerBeat&&(p=h.ticksPerBeat&32767);var m=new o;m.writeUInt16(f),m.writeUInt16(u),m.writeUInt16(p),l.writeChunk("MThd",m.buffer)}function s(l,h,u){var f=new o,p,m=h.length,_=null;for(p=0;p<m;p++)(u.running===!1||!u.running&&!h[p].running)&&(_=null),_=r(f,h[p],_,u.useByte9ForNoteOff);l.writeChunk("MTrk",f.buffer)}function r(l,h,u,f){var p=h.type,m=h.deltaTime,_=h.text||"",b=h.data||[],v=null;switch(l.writeVarInt(m),p){case"sequenceNumber":l.writeUInt8(255),l.writeUInt8(0),l.writeVarInt(2),l.writeUInt16(h.number);break;case"text":l.writeUInt8(255),l.writeUInt8(1),l.writeVarInt(_.length),l.writeString(_);break;case"copyrightNotice":l.writeUInt8(255),l.writeUInt8(2),l.writeVarInt(_.length),l.writeString(_);break;case"trackName":l.writeUInt8(255),l.writeUInt8(3),l.writeVarInt(_.length),l.writeString(_);break;case"instrumentName":l.writeUInt8(255),l.writeUInt8(4),l.writeVarInt(_.length),l.writeString(_);break;case"lyrics":l.writeUInt8(255),l.writeUInt8(5),l.writeVarInt(_.length),l.writeString(_);break;case"marker":l.writeUInt8(255),l.writeUInt8(6),l.writeVarInt(_.length),l.writeString(_);break;case"cuePoint":l.writeUInt8(255),l.writeUInt8(7),l.writeVarInt(_.length),l.writeString(_);break;case"channelPrefix":l.writeUInt8(255),l.writeUInt8(32),l.writeVarInt(1),l.writeUInt8(h.channel);break;case"portPrefix":l.writeUInt8(255),l.writeUInt8(33),l.writeVarInt(1),l.writeUInt8(h.port);break;case"endOfTrack":l.writeUInt8(255),l.writeUInt8(47),l.writeVarInt(0);break;case"setTempo":l.writeUInt8(255),l.writeUInt8(81),l.writeVarInt(3),l.writeUInt24(h.microsecondsPerBeat);break;case"smpteOffset":l.writeUInt8(255),l.writeUInt8(84),l.writeVarInt(5);var x={24:0,25:32,29:64,30:96},y=h.hour&31|x[h.frameRate];l.writeUInt8(y),l.writeUInt8(h.min),l.writeUInt8(h.sec),l.writeUInt8(h.frame),l.writeUInt8(h.subFrame);break;case"timeSignature":l.writeUInt8(255),l.writeUInt8(88),l.writeVarInt(4),l.writeUInt8(h.numerator);var S=Math.floor(Math.log(h.denominator)/Math.LN2)&255;l.writeUInt8(S),l.writeUInt8(h.metronome),l.writeUInt8(h.thirtyseconds||8);break;case"keySignature":l.writeUInt8(255),l.writeUInt8(89),l.writeVarInt(2),l.writeInt8(h.key),l.writeUInt8(h.scale);break;case"sequencerSpecific":l.writeUInt8(255),l.writeUInt8(127),l.writeVarInt(b.length),l.writeBytes(b);break;case"unknownMeta":h.metatypeByte!=null&&(l.writeUInt8(255),l.writeUInt8(h.metatypeByte),l.writeVarInt(b.length),l.writeBytes(b));break;case"sysEx":l.writeUInt8(240),l.writeVarInt(b.length),l.writeBytes(b);break;case"endSysEx":l.writeUInt8(247),l.writeVarInt(b.length),l.writeBytes(b);break;case"noteOff":var w=f!==!1&&h.byte9||f&&h.velocity==0?144:128;v=w|h.channel,v!==u&&l.writeUInt8(v),l.writeUInt8(h.noteNumber),l.writeUInt8(h.velocity);break;case"noteOn":v=144|h.channel,v!==u&&l.writeUInt8(v),l.writeUInt8(h.noteNumber),l.writeUInt8(h.velocity);break;case"noteAftertouch":v=160|h.channel,v!==u&&l.writeUInt8(v),l.writeUInt8(h.noteNumber),l.writeUInt8(h.amount);break;case"controller":v=176|h.channel,v!==u&&l.writeUInt8(v),l.writeUInt8(h.controllerType),l.writeUInt8(h.value);break;case"programChange":v=192|h.channel,v!==u&&l.writeUInt8(v),l.writeUInt8(h.programNumber);break;case"channelAftertouch":v=208|h.channel,v!==u&&l.writeUInt8(v),l.writeUInt8(h.amount);break;case"pitchBend":v=224|h.channel,v!==u&&l.writeUInt8(v);var C=8192+h.value,M=C&127,O=C>>7&127;l.writeUInt8(M),l.writeUInt8(O);break;default:throw"Unrecognized event type: "+p}return v}function o(){this.buffer=[]}return o.prototype.writeUInt8=function(l){this.buffer.push(l&255)},o.prototype.writeInt8=o.prototype.writeUInt8,o.prototype.writeUInt16=function(l){var h=l>>8&255,u=l&255;this.writeUInt8(h),this.writeUInt8(u)},o.prototype.writeInt16=o.prototype.writeUInt16,o.prototype.writeUInt24=function(l){var h=l>>16&255,u=l>>8&255,f=l&255;this.writeUInt8(h),this.writeUInt8(u),this.writeUInt8(f)},o.prototype.writeInt24=o.prototype.writeUInt24,o.prototype.writeUInt32=function(l){var h=l>>24&255,u=l>>16&255,f=l>>8&255,p=l&255;this.writeUInt8(h),this.writeUInt8(u),this.writeUInt8(f),this.writeUInt8(p)},o.prototype.writeInt32=o.prototype.writeUInt32,o.prototype.writeBytes=function(l){this.buffer=this.buffer.concat(Array.prototype.slice.call(l,0))},o.prototype.writeString=function(l){var h,u=l.length,f=[];for(h=0;h<u;h++)f.push(l.codePointAt(h));this.writeBytes(f)},o.prototype.writeVarInt=function(l){if(l<0)throw"Cannot write negative variable-length integer";if(l<=127)this.writeUInt8(l);else{var h=l,u=[];for(u.push(h&127),h>>=7;h;){var f=h&127|128;u.push(f),h>>=7}this.writeBytes(u.reverse())}},o.prototype.writeChunk=function(l,h){this.writeString(l),this.writeUInt32(h.length),this.writeBytes(h)},zh=c,zh}var _0;function lv(){return _0||(_0=1,Ul.parseMidi=jT(),Ul.writeMidi=zT()),Ul}var Uh={},Li={},v0;function cv(){if(v0)return Li;v0=1,Object.defineProperty(Li,"__esModule",{value:!0}),Li.insert=Li.search=void 0;function c(s,r,o){o===void 0&&(o="ticks");var l=0,h=s.length,u=h;if(h>0&&s[h-1][o]<=r)return h-1;for(;l<u;){var f=Math.floor(l+(u-l)/2),p=s[f],m=s[f+1];if(p[o]===r){for(var _=f;_<s.length;_++){var b=s[_];b[o]===r&&(f=_)}return f}else{if(p[o]<r&&m[o]>r)return f;p[o]>r?u=f:p[o]<r&&(l=f+1)}}return-1}Li.search=c;function n(s,r,o){if(o===void 0&&(o="ticks"),s.length){var l=c(s,r[o],o);s.splice(l+1,0,r)}else s.push(r)}return Li.insert=n,Li}var y0;function ff(){return y0||(y0=1,(function(c){Object.defineProperty(c,"__esModule",{value:!0}),c.Header=c.keySignatureKeys=void 0;var n=cv(),s=new WeakMap;c.keySignatureKeys=["Cb","Gb","Db","Ab","Eb","Bb","F","C","G","D","A","E","B","F#","C#"];var r=(function(){function o(l){var h=this;if(this.tempos=[],this.timeSignatures=[],this.keySignatures=[],this.meta=[],this.name="",s.set(this,480),l){s.set(this,l.header.ticksPerBeat),l.tracks.forEach(function(f){f.forEach(function(p){p.meta&&(p.type==="timeSignature"?h.timeSignatures.push({ticks:p.absoluteTime,timeSignature:[p.numerator,p.denominator]}):p.type==="setTempo"?h.tempos.push({bpm:6e7/p.microsecondsPerBeat,ticks:p.absoluteTime}):p.type==="keySignature"&&h.keySignatures.push({key:c.keySignatureKeys[p.key+7],scale:p.scale===0?"major":"minor",ticks:p.absoluteTime}))})});var u=0;l.tracks[0].forEach(function(f){u+=f.deltaTime,f.meta&&(f.type==="trackName"?h.name=f.text:(f.type==="text"||f.type==="cuePoint"||f.type==="marker"||f.type==="lyrics")&&h.meta.push({text:f.text,ticks:u,type:f.type}))}),this.update()}}return o.prototype.update=function(){var l=this,h=0,u=0;this.tempos.sort(function(f,p){return f.ticks-p.ticks}),this.tempos.forEach(function(f,p){var m=p>0?l.tempos[p-1].bpm:l.tempos[0].bpm,_=f.ticks/l.ppq-u,b=60/m*_;f.time=b+h,h=f.time,u+=_}),this.timeSignatures.sort(function(f,p){return f.ticks-p.ticks}),this.timeSignatures.forEach(function(f,p){var m=p>0?l.timeSignatures[p-1]:l.timeSignatures[0],_=(f.ticks-m.ticks)/l.ppq,b=_/m.timeSignature[0]/(m.timeSignature[1]/4);m.measures=m.measures||0,f.measures=b+m.measures})},o.prototype.ticksToSeconds=function(l){var h=(0,n.search)(this.tempos,l);if(h!==-1){var u=this.tempos[h],f=u.time,p=(l-u.ticks)/this.ppq;return f+60/u.bpm*p}else{var m=l/this.ppq;return 60/120*m}},o.prototype.ticksToMeasures=function(l){var h=(0,n.search)(this.timeSignatures,l);if(h!==-1){var u=this.timeSignatures[h],f=(l-u.ticks)/this.ppq;return u.measures+f/(u.timeSignature[0]/u.timeSignature[1])/4}else return l/this.ppq/4},Object.defineProperty(o.prototype,"ppq",{get:function(){return s.get(this)},enumerable:!1,configurable:!0}),o.prototype.secondsToTicks=function(l){var h=(0,n.search)(this.tempos,l,"time");if(h!==-1){var u=this.tempos[h],f=u.time,p=l-f,m=p/(60/u.bpm);return Math.round(u.ticks+m*this.ppq)}else{var _=l/.5;return Math.round(_*this.ppq)}},o.prototype.toJSON=function(){return{keySignatures:this.keySignatures,meta:this.meta,name:this.name,ppq:this.ppq,tempos:this.tempos.map(function(l){return{bpm:l.bpm,ticks:l.ticks}}),timeSignatures:this.timeSignatures}},o.prototype.fromJSON=function(l){this.name=l.name,this.tempos=l.tempos.map(function(h){return Object.assign({},h)}),this.timeSignatures=l.timeSignatures.map(function(h){return Object.assign({},h)}),this.keySignatures=l.keySignatures.map(function(h){return Object.assign({},h)}),this.meta=l.meta.map(function(h){return Object.assign({},h)}),s.set(this,l.ppq),this.update()},o.prototype.setTempo=function(l){this.tempos=[{bpm:l,ticks:0}],this.update()},o})();c.Header=r})(Uh)),Uh}var Qa={},Bh={},b0;function uv(){return b0||(b0=1,(function(c){Object.defineProperty(c,"__esModule",{value:!0}),c.ControlChange=c.controlChangeIds=c.controlChangeNames=void 0,c.controlChangeNames={1:"modulationWheel",2:"breath",4:"footController",5:"portamentoTime",7:"volume",8:"balance",10:"pan",64:"sustain",65:"portamentoTime",66:"sostenuto",67:"softPedal",68:"legatoFootswitch",84:"portamentoControl"},c.controlChangeIds=Object.keys(c.controlChangeNames).reduce(function(o,l){return o[c.controlChangeNames[l]]=l,o},{});var n=new WeakMap,s=new WeakMap,r=(function(){function o(l,h){n.set(this,h),s.set(this,l.controllerType),this.ticks=l.absoluteTime,this.value=l.value}return Object.defineProperty(o.prototype,"number",{get:function(){return s.get(this)},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"name",{get:function(){return c.controlChangeNames[this.number]?c.controlChangeNames[this.number]:null},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"time",{get:function(){var l=n.get(this);return l.ticksToSeconds(this.ticks)},set:function(l){var h=n.get(this);this.ticks=h.secondsToTicks(l)},enumerable:!1,configurable:!0}),o.prototype.toJSON=function(){return{number:this.number,ticks:this.ticks,time:this.time,value:this.value}},o})();c.ControlChange=r})(Bh)),Bh}var Ka={},x0;function UT(){if(x0)return Ka;x0=1,Object.defineProperty(Ka,"__esModule",{value:!0}),Ka.createControlChanges=void 0;var c=uv();function n(){return new Proxy({},{get:function(s,r){if(s[r])return s[r];if(c.controlChangeIds.hasOwnProperty(r))return s[c.controlChangeIds[r]]},set:function(s,r,o){return c.controlChangeIds.hasOwnProperty(r)?s[c.controlChangeIds[r]]=o:s[r]=o,!0}})}return Ka.createControlChanges=n,Ka}var Ja={},S0;function BT(){if(S0)return Ja;S0=1,Object.defineProperty(Ja,"__esModule",{value:!0}),Ja.PitchBend=void 0;var c=new WeakMap,n=(function(){function s(r,o){c.set(this,o),this.ticks=r.absoluteTime,this.value=r.value}return Object.defineProperty(s.prototype,"time",{get:function(){var r=c.get(this);return r.ticksToSeconds(this.ticks)},set:function(r){var o=c.get(this);this.ticks=o.secondsToTicks(r)},enumerable:!1,configurable:!0}),s.prototype.toJSON=function(){return{ticks:this.ticks,time:this.time,value:this.value}},s})();return Ja.PitchBend=n,Ja}var $a={},Is={},w0;function IT(){return w0||(w0=1,Object.defineProperty(Is,"__esModule",{value:!0}),Is.DrumKitByPatchID=Is.InstrumentFamilyByID=Is.instrumentByPatchID=void 0,Is.instrumentByPatchID=["acoustic grand piano","bright acoustic piano","electric grand piano","honky-tonk piano","electric piano 1","electric piano 2","harpsichord","clavi","celesta","glockenspiel","music box","vibraphone","marimba","xylophone","tubular bells","dulcimer","drawbar organ","percussive organ","rock organ","church organ","reed organ","accordion","harmonica","tango accordion","acoustic guitar (nylon)","acoustic guitar (steel)","electric guitar (jazz)","electric guitar (clean)","electric guitar (muted)","overdriven guitar","distortion guitar","guitar harmonics","acoustic bass","electric bass (finger)","electric bass (pick)","fretless bass","slap bass 1","slap bass 2","synth bass 1","synth bass 2","violin","viola","cello","contrabass","tremolo strings","pizzicato strings","orchestral harp","timpani","string ensemble 1","string ensemble 2","synthstrings 1","synthstrings 2","choir aahs","voice oohs","synth voice","orchestra hit","trumpet","trombone","tuba","muted trumpet","french horn","brass section","synthbrass 1","synthbrass 2","soprano sax","alto sax","tenor sax","baritone sax","oboe","english horn","bassoon","clarinet","piccolo","flute","recorder","pan flute","blown bottle","shakuhachi","whistle","ocarina","lead 1 (square)","lead 2 (sawtooth)","lead 3 (calliope)","lead 4 (chiff)","lead 5 (charang)","lead 6 (voice)","lead 7 (fifths)","lead 8 (bass + lead)","pad 1 (new age)","pad 2 (warm)","pad 3 (polysynth)","pad 4 (choir)","pad 5 (bowed)","pad 6 (metallic)","pad 7 (halo)","pad 8 (sweep)","fx 1 (rain)","fx 2 (soundtrack)","fx 3 (crystal)","fx 4 (atmosphere)","fx 5 (brightness)","fx 6 (goblins)","fx 7 (echoes)","fx 8 (sci-fi)","sitar","banjo","shamisen","koto","kalimba","bag pipe","fiddle","shanai","tinkle bell","agogo","steel drums","woodblock","taiko drum","melodic tom","synth drum","reverse cymbal","guitar fret noise","breath noise","seashore","bird tweet","telephone ring","helicopter","applause","gunshot"],Is.InstrumentFamilyByID=["piano","chromatic percussion","organ","guitar","bass","strings","ensemble","brass","reed","pipe","synth lead","synth pad","synth effects","world","percussive","sound effects"],Is.DrumKitByPatchID={0:"standard kit",8:"room kit",16:"power kit",24:"electronic kit",25:"tr-808 kit",32:"jazz kit",40:"brush kit",48:"orchestra kit",56:"sound fx kit"}),Is}var T0;function qT(){if(T0)return $a;T0=1,Object.defineProperty($a,"__esModule",{value:!0}),$a.Instrument=void 0;var c=IT(),n=new WeakMap,s=(function(){function r(o,l){if(this.number=0,n.set(this,l),this.number=0,o){var h=o.find(function(u){return u.type==="programChange"});h&&(this.number=h.programNumber)}}return Object.defineProperty(r.prototype,"name",{get:function(){return this.percussion?c.DrumKitByPatchID[this.number]:c.instrumentByPatchID[this.number]},set:function(o){var l=c.instrumentByPatchID.indexOf(o);l!==-1&&(this.number=l)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"family",{get:function(){return this.percussion?"drums":c.InstrumentFamilyByID[Math.floor(this.number/8)]},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"percussion",{get:function(){var o=n.get(this);return o.channel===9},enumerable:!1,configurable:!0}),r.prototype.toJSON=function(){return{family:this.family,number:this.number,name:this.name}},r.prototype.fromJSON=function(o){this.number=o.number},r})();return $a.Instrument=s,$a}var eo={},A0;function VT(){if(A0)return eo;A0=1,Object.defineProperty(eo,"__esModule",{value:!0}),eo.Note=void 0;function c(h){var u=Math.floor(h/12)-1;return n(h)+u.toString()}function n(h){var u=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"],f=h%12;return u[f]}function s(h){var u=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"];return u.indexOf(h)}var r=(function(){var h=/^([a-g]{1}(?:b|#|x|bb)?)(-?[0-9]+)/i,u={cbb:-2,cb:-1,c:0,"c#":1,cx:2,dbb:0,db:1,d:2,"d#":3,dx:4,ebb:2,eb:3,e:4,"e#":5,ex:6,fbb:3,fb:4,f:5,"f#":6,fx:7,gbb:5,gb:6,g:7,"g#":8,gx:9,abb:7,ab:8,a:9,"a#":10,ax:11,bbb:9,bb:10,b:11,"b#":12,bx:13};return function(f){var p=h.exec(f),m=p[1],_=p[2],b=u[m.toLowerCase()];return b+(parseInt(_,10)+1)*12}})(),o=new WeakMap,l=(function(){function h(u,f,p){o.set(this,p),this.midi=u.midi,this.velocity=u.velocity,this.noteOffVelocity=f.velocity,this.ticks=u.ticks,this.durationTicks=f.ticks-u.ticks}return Object.defineProperty(h.prototype,"name",{get:function(){return c(this.midi)},set:function(u){this.midi=r(u)},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"octave",{get:function(){return Math.floor(this.midi/12)-1},set:function(u){var f=u-this.octave;this.midi+=f*12},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"pitch",{get:function(){return n(this.midi)},set:function(u){this.midi=12*(this.octave+1)+s(u)},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"duration",{get:function(){var u=o.get(this);return u.ticksToSeconds(this.ticks+this.durationTicks)-u.ticksToSeconds(this.ticks)},set:function(u){var f=o.get(this),p=f.secondsToTicks(this.time+u);this.durationTicks=p-this.ticks},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"time",{get:function(){var u=o.get(this);return u.ticksToSeconds(this.ticks)},set:function(u){var f=o.get(this);this.ticks=f.secondsToTicks(u)},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"bars",{get:function(){var u=o.get(this);return u.ticksToMeasures(this.ticks)},enumerable:!1,configurable:!0}),h.prototype.toJSON=function(){return{duration:this.duration,durationTicks:this.durationTicks,midi:this.midi,name:this.name,ticks:this.ticks,time:this.time,velocity:this.velocity}},h})();return eo.Note=l,eo}var N0;function k0(){if(N0)return Qa;N0=1,Object.defineProperty(Qa,"__esModule",{value:!0}),Qa.Track=void 0;var c=cv(),n=uv(),s=UT(),r=BT(),o=qT(),l=VT(),h=new WeakMap,u=(function(){function f(p,m){var _=this;if(this.name="",this.notes=[],this.controlChanges=(0,s.createControlChanges)(),this.pitchBends=[],h.set(this,m),p){var b=p.find(function(O){return O.type==="trackName"});this.name=b?b.text:""}if(this.instrument=new o.Instrument(p,this),this.channel=0,p){for(var v=p.filter(function(O){return O.type==="noteOn"}),x=p.filter(function(O){return O.type==="noteOff"}),y=function(){var O=v.shift();S.channel=O.channel;var k=x.findIndex(function(B){return B.noteNumber===O.noteNumber&&B.absoluteTime>=O.absoluteTime});if(k!==-1){var I=x.splice(k,1)[0];S.addNote({durationTicks:I.absoluteTime-O.absoluteTime,midi:O.noteNumber,noteOffVelocity:I.velocity/127,ticks:O.absoluteTime,velocity:O.velocity/127})}},S=this;v.length;)y();var w=p.filter(function(O){return O.type==="controller"});w.forEach(function(O){_.addCC({number:O.controllerType,ticks:O.absoluteTime,value:O.value/127})});var C=p.filter(function(O){return O.type==="pitchBend"});C.forEach(function(O){_.addPitchBend({ticks:O.absoluteTime,value:O.value/Math.pow(2,13)})});var M=p.find(function(O){return O.type==="endOfTrack"});this.endOfTrackTicks=M!==void 0?M.absoluteTime:void 0}}return f.prototype.addNote=function(p){var m=h.get(this),_=new l.Note({midi:0,ticks:0,velocity:1},{ticks:0,velocity:0},m);return Object.assign(_,p),(0,c.insert)(this.notes,_,"ticks"),this},f.prototype.addCC=function(p){var m=h.get(this),_=new n.ControlChange({controllerType:p.number},m);return delete p.number,Object.assign(_,p),Array.isArray(this.controlChanges[_.number])||(this.controlChanges[_.number]=[]),(0,c.insert)(this.controlChanges[_.number],_,"ticks"),this},f.prototype.addPitchBend=function(p){var m=h.get(this),_=new r.PitchBend({},m);return Object.assign(_,p),(0,c.insert)(this.pitchBends,_,"ticks"),this},Object.defineProperty(f.prototype,"duration",{get:function(){if(!this.notes.length)return 0;for(var p=this.notes[this.notes.length-1].time+this.notes[this.notes.length-1].duration,m=0;m<this.notes.length-1;m++){var _=this.notes[m].time+this.notes[m].duration;p<_&&(p=_)}return p},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"durationTicks",{get:function(){if(!this.notes.length)return 0;for(var p=this.notes[this.notes.length-1].ticks+this.notes[this.notes.length-1].durationTicks,m=0;m<this.notes.length-1;m++){var _=this.notes[m].ticks+this.notes[m].durationTicks;p<_&&(p=_)}return p},enumerable:!1,configurable:!0}),f.prototype.fromJSON=function(p){var m=this;this.name=p.name,this.channel=p.channel,this.instrument=new o.Instrument(void 0,this),this.instrument.fromJSON(p.instrument),p.endOfTrackTicks!==void 0&&(this.endOfTrackTicks=p.endOfTrackTicks);for(var _ in p.controlChanges)p.controlChanges[_]&&p.controlChanges[_].forEach(function(b){m.addCC({number:b.number,ticks:b.ticks,value:b.value})});p.notes.forEach(function(b){m.addNote({durationTicks:b.durationTicks,midi:b.midi,ticks:b.ticks,velocity:b.velocity})})},f.prototype.toJSON=function(){for(var p={},m=0;m<127;m++)this.controlChanges.hasOwnProperty(m)&&(p[m]=this.controlChanges[m].map(function(b){return b.toJSON()}));var _={channel:this.channel,controlChanges:p,pitchBends:this.pitchBends.map(function(b){return b.toJSON()}),instrument:this.instrument.toJSON(),name:this.name,notes:this.notes.map(function(b){return b.toJSON()})};return this.endOfTrackTicks!==void 0&&(_.endOfTrackTicks=this.endOfTrackTicks),_},f})();return Qa.Track=u,Qa}var Fi={};function LT(c){var n=[];return hv(c,n),n}function hv(c,n){for(var s=0;s<c.length;s++){var r=c[s];Array.isArray(r)?hv(r,n):n.push(r)}}const FT=Object.freeze(Object.defineProperty({__proto__:null,flatten:LT},Symbol.toStringTag,{value:"Module"})),HT=$0(FT);var C0;function GT(){if(C0)return Fi;C0=1;var c=Fi&&Fi.__spreadArray||function(w,C,M){if(M||arguments.length===2)for(var O=0,k=C.length,I;O<k;O++)(I||!(O in C))&&(I||(I=Array.prototype.slice.call(C,0,O)),I[O]=C[O]);return w.concat(I||Array.prototype.slice.call(C))};Object.defineProperty(Fi,"__esModule",{value:!0}),Fi.encode=void 0;var n=lv(),s=ff(),r=HT;function o(w,C){return[{absoluteTime:w.ticks,channel:C,deltaTime:0,noteNumber:w.midi,type:"noteOn",velocity:Math.floor(w.velocity*127)},{absoluteTime:w.ticks+w.durationTicks,channel:C,deltaTime:0,noteNumber:w.midi,type:"noteOff",velocity:Math.floor(w.noteOffVelocity*127)}]}function l(w){return(0,r.flatten)(w.notes.map(function(C){return o(C,w.channel)}))}function h(w,C){return{absoluteTime:w.ticks,channel:C,controllerType:w.number,deltaTime:0,type:"controller",value:Math.floor(w.value*127)}}function u(w){for(var C=[],M=0;M<127;M++)w.controlChanges.hasOwnProperty(M)&&w.controlChanges[M].forEach(function(O){C.push(h(O,w.channel))});return C}function f(w,C){return{absoluteTime:w.ticks,channel:C,deltaTime:0,type:"pitchBend",value:w.value}}function p(w){var C=[];return w.pitchBends.forEach(function(M){C.push(f(M,w.channel))}),C}function m(w){return{absoluteTime:0,channel:w.channel,deltaTime:0,programNumber:w.instrument.number,type:"programChange"}}function _(w){return{absoluteTime:0,deltaTime:0,meta:!0,text:w,type:"trackName"}}function b(w){return{absoluteTime:w.ticks,deltaTime:0,meta:!0,microsecondsPerBeat:Math.floor(6e7/w.bpm),type:"setTempo"}}function v(w){return{absoluteTime:w.ticks,deltaTime:0,denominator:w.timeSignature[1],meta:!0,metronome:24,numerator:w.timeSignature[0],thirtyseconds:8,type:"timeSignature"}}function x(w){var C=s.keySignatureKeys.indexOf(w.key);return{absoluteTime:w.ticks,deltaTime:0,key:C+7,meta:!0,scale:w.scale==="major"?0:1,type:"keySignature"}}function y(w){return{absoluteTime:w.ticks,deltaTime:0,meta:!0,text:w.text,type:w.type}}function S(w){var C={header:{format:1,numTracks:w.tracks.length+1,ticksPerBeat:w.header.ppq},tracks:c([c(c(c(c([{absoluteTime:0,deltaTime:0,meta:!0,text:w.header.name,type:"trackName"}],w.header.keySignatures.map(function(M){return x(M)}),!0),w.header.meta.map(function(M){return y(M)}),!0),w.header.tempos.map(function(M){return b(M)}),!0),w.header.timeSignatures.map(function(M){return v(M)}),!0)],w.tracks.map(function(M){return c(c(c([_(M.name),m(M)],l(M),!0),u(M),!0),p(M),!0)}),!0)};return C.tracks=C.tracks.map(function(M){M=M.sort(function(k,I){return k.absoluteTime-I.absoluteTime});var O=0;return M.forEach(function(k){k.deltaTime=k.absoluteTime-O,O=k.absoluteTime,delete k.absoluteTime}),M.push({deltaTime:0,meta:!0,type:"endOfTrack"}),M}),new Uint8Array((0,n.writeMidi)(C))}return Fi.encode=S,Fi}var E0;function PT(){return E0||(E0=1,(function(c){var n=Vi&&Vi.__awaiter||function(_,b,v,x){function y(S){return S instanceof v?S:new v(function(w){w(S)})}return new(v||(v=Promise))(function(S,w){function C(k){try{O(x.next(k))}catch(I){w(I)}}function M(k){try{O(x.throw(k))}catch(I){w(I)}}function O(k){k.done?S(k.value):y(k.value).then(C,M)}O((x=x.apply(_,b||[])).next())})},s=Vi&&Vi.__generator||function(_,b){var v={label:0,sent:function(){if(S[0]&1)throw S[1];return S[1]},trys:[],ops:[]},x,y,S,w;return w={next:C(0),throw:C(1),return:C(2)},typeof Symbol=="function"&&(w[Symbol.iterator]=function(){return this}),w;function C(O){return function(k){return M([O,k])}}function M(O){if(x)throw new TypeError("Generator is already executing.");for(;v;)try{if(x=1,y&&(S=O[0]&2?y.return:O[0]?y.throw||((S=y.return)&&S.call(y),0):y.next)&&!(S=S.call(y,O[1])).done)return S;switch(y=0,S&&(O=[O[0]&2,S.value]),O[0]){case 0:case 1:S=O;break;case 4:return v.label++,{value:O[1],done:!1};case 5:v.label++,y=O[1],O=[0];continue;case 7:O=v.ops.pop(),v.trys.pop();continue;default:if(S=v.trys,!(S=S.length>0&&S[S.length-1])&&(O[0]===6||O[0]===2)){v=0;continue}if(O[0]===3&&(!S||O[1]>S[0]&&O[1]<S[3])){v.label=O[1];break}if(O[0]===6&&v.label<S[1]){v.label=S[1],S=O;break}if(S&&v.label<S[2]){v.label=S[2],v.ops.push(O);break}S[2]&&v.ops.pop(),v.trys.pop();continue}O=b.call(_,v)}catch(k){O=[6,k],y=0}finally{x=S=0}if(O[0]&5)throw O[1];return{value:O[0]?O[1]:void 0,done:!0}}};Object.defineProperty(c,"__esModule",{value:!0}),c.Header=c.Track=c.Midi=void 0;var r=lv(),o=ff(),l=k0(),h=GT(),u=(function(){function _(b){var v=this,x=null;if(b){var y=b instanceof ArrayBuffer?new Uint8Array(b):b;x=(0,r.parseMidi)(y),x.tracks.forEach(function(S){var w=0;S.forEach(function(C){w+=C.deltaTime,C.absoluteTime=w})}),x.tracks=m(x.tracks)}this.header=new o.Header(x),this.tracks=[],b&&(this.tracks=x.tracks.map(function(S){return new l.Track(S,v.header)}),x.header.format===1&&this.tracks[0].duration===0&&this.tracks.shift())}return _.fromUrl=function(b){return n(this,void 0,void 0,function(){var v,x;return s(this,function(y){switch(y.label){case 0:return[4,fetch(b)];case 1:return v=y.sent(),v.ok?[4,v.arrayBuffer()]:[3,3];case 2:return x=y.sent(),[2,new _(x)];case 3:throw new Error("Could not load '".concat(b,"'"))}})})},Object.defineProperty(_.prototype,"name",{get:function(){return this.header.name},set:function(b){this.header.name=b},enumerable:!1,configurable:!0}),Object.defineProperty(_.prototype,"duration",{get:function(){var b=this.tracks.map(function(v){return v.duration});return Math.max.apply(Math,b)},enumerable:!1,configurable:!0}),Object.defineProperty(_.prototype,"durationTicks",{get:function(){var b=this.tracks.map(function(v){return v.durationTicks});return Math.max.apply(Math,b)},enumerable:!1,configurable:!0}),_.prototype.addTrack=function(){var b=new l.Track(void 0,this.header);return this.tracks.push(b),b},_.prototype.toArray=function(){return(0,h.encode)(this)},_.prototype.toJSON=function(){return{header:this.header.toJSON(),tracks:this.tracks.map(function(b){return b.toJSON()})}},_.prototype.fromJSON=function(b){var v=this;this.header=new o.Header,this.header.fromJSON(b.header),this.tracks=b.tracks.map(function(x){var y=new l.Track(void 0,v.header);return y.fromJSON(x),y})},_.prototype.clone=function(){var b=new _;return b.fromJSON(this.toJSON()),b},_})();c.Midi=u;var f=k0();Object.defineProperty(c,"Track",{enumerable:!0,get:function(){return f.Track}});var p=ff();Object.defineProperty(c,"Header",{enumerable:!0,get:function(){return p.Header}});function m(_){for(var b=[],v=0;v<_.length;v++)for(var x=b.length,y=new Map,S=Array(16).fill(0),w=0,C=_[v];w<C.length;w++){var M=C[w],O=x,k=M.channel;if(k!==void 0){M.type==="programChange"&&(S[k]=M.programNumber);var I=S[k],B="".concat(I," ").concat(k);y.has(B)?O=y.get(B):(O=x+y.size,y.set(B,O))}b[O]||b.push([]),b[O].push(M)}return b}})(Vi)),Vi}var Xt=PT();function gi(c){throw new Error('Could not dynamically require "'+c+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Ih={exports:{}};/*!

JSZip v3.10.1 - A JavaScript class for generating and reading zip files
<http://stuartk.com/jszip>

(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

JSZip uses the library pako released under the MIT license :
https://github.com/nodeca/pako/blob/main/LICENSE
*/var O0;function ZT(){return O0||(O0=1,(function(c,n){(function(s){c.exports=s()})(function(){return(function s(r,o,l){function h(p,m){if(!o[p]){if(!r[p]){var _=typeof gi=="function"&&gi;if(!m&&_)return _(p,!0);if(u)return u(p,!0);var b=new Error("Cannot find module '"+p+"'");throw b.code="MODULE_NOT_FOUND",b}var v=o[p]={exports:{}};r[p][0].call(v.exports,function(x){var y=r[p][1][x];return h(y||x)},v,v.exports,s,r,o,l)}return o[p].exports}for(var u=typeof gi=="function"&&gi,f=0;f<l.length;f++)h(l[f]);return h})({1:[function(s,r,o){var l=s("./utils"),h=s("./support"),u="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";o.encode=function(f){for(var p,m,_,b,v,x,y,S=[],w=0,C=f.length,M=C,O=l.getTypeOf(f)!=="string";w<f.length;)M=C-w,_=O?(p=f[w++],m=w<C?f[w++]:0,w<C?f[w++]:0):(p=f.charCodeAt(w++),m=w<C?f.charCodeAt(w++):0,w<C?f.charCodeAt(w++):0),b=p>>2,v=(3&p)<<4|m>>4,x=1<M?(15&m)<<2|_>>6:64,y=2<M?63&_:64,S.push(u.charAt(b)+u.charAt(v)+u.charAt(x)+u.charAt(y));return S.join("")},o.decode=function(f){var p,m,_,b,v,x,y=0,S=0,w="data:";if(f.substr(0,w.length)===w)throw new Error("Invalid base64 input, it looks like a data url.");var C,M=3*(f=f.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(f.charAt(f.length-1)===u.charAt(64)&&M--,f.charAt(f.length-2)===u.charAt(64)&&M--,M%1!=0)throw new Error("Invalid base64 input, bad content length.");for(C=h.uint8array?new Uint8Array(0|M):new Array(0|M);y<f.length;)p=u.indexOf(f.charAt(y++))<<2|(b=u.indexOf(f.charAt(y++)))>>4,m=(15&b)<<4|(v=u.indexOf(f.charAt(y++)))>>2,_=(3&v)<<6|(x=u.indexOf(f.charAt(y++))),C[S++]=p,v!==64&&(C[S++]=m),x!==64&&(C[S++]=_);return C}},{"./support":30,"./utils":32}],2:[function(s,r,o){var l=s("./external"),h=s("./stream/DataWorker"),u=s("./stream/Crc32Probe"),f=s("./stream/DataLengthProbe");function p(m,_,b,v,x){this.compressedSize=m,this.uncompressedSize=_,this.crc32=b,this.compression=v,this.compressedContent=x}p.prototype={getContentWorker:function(){var m=new h(l.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new f("data_length")),_=this;return m.on("end",function(){if(this.streamInfo.data_length!==_.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),m},getCompressedWorker:function(){return new h(l.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},p.createWorkerFrom=function(m,_,b){return m.pipe(new u).pipe(new f("uncompressedSize")).pipe(_.compressWorker(b)).pipe(new f("compressedSize")).withStreamInfo("compression",_)},r.exports=p},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(s,r,o){var l=s("./stream/GenericWorker");o.STORE={magic:"\0\0",compressWorker:function(){return new l("STORE compression")},uncompressWorker:function(){return new l("STORE decompression")}},o.DEFLATE=s("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(s,r,o){var l=s("./utils"),h=(function(){for(var u,f=[],p=0;p<256;p++){u=p;for(var m=0;m<8;m++)u=1&u?3988292384^u>>>1:u>>>1;f[p]=u}return f})();r.exports=function(u,f){return u!==void 0&&u.length?l.getTypeOf(u)!=="string"?(function(p,m,_,b){var v=h,x=b+_;p^=-1;for(var y=b;y<x;y++)p=p>>>8^v[255&(p^m[y])];return-1^p})(0|f,u,u.length,0):(function(p,m,_,b){var v=h,x=b+_;p^=-1;for(var y=b;y<x;y++)p=p>>>8^v[255&(p^m.charCodeAt(y))];return-1^p})(0|f,u,u.length,0):0}},{"./utils":32}],5:[function(s,r,o){o.base64=!1,o.binary=!1,o.dir=!1,o.createFolders=!0,o.date=null,o.compression=null,o.compressionOptions=null,o.comment=null,o.unixPermissions=null,o.dosPermissions=null},{}],6:[function(s,r,o){var l=null;l=typeof Promise<"u"?Promise:s("lie"),r.exports={Promise:l}},{lie:37}],7:[function(s,r,o){var l=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",h=s("pako"),u=s("./utils"),f=s("./stream/GenericWorker"),p=l?"uint8array":"array";function m(_,b){f.call(this,"FlateWorker/"+_),this._pako=null,this._pakoAction=_,this._pakoOptions=b,this.meta={}}o.magic="\b\0",u.inherits(m,f),m.prototype.processChunk=function(_){this.meta=_.meta,this._pako===null&&this._createPako(),this._pako.push(u.transformTo(p,_.data),!1)},m.prototype.flush=function(){f.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},m.prototype.cleanUp=function(){f.prototype.cleanUp.call(this),this._pako=null},m.prototype._createPako=function(){this._pako=new h[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var _=this;this._pako.onData=function(b){_.push({data:b,meta:_.meta})}},o.compressWorker=function(_){return new m("Deflate",_)},o.uncompressWorker=function(){return new m("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(s,r,o){function l(v,x){var y,S="";for(y=0;y<x;y++)S+=String.fromCharCode(255&v),v>>>=8;return S}function h(v,x,y,S,w,C){var M,O,k=v.file,I=v.compression,B=C!==p.utf8encode,D=u.transformTo("string",C(k.name)),V=u.transformTo("string",p.utf8encode(k.name)),Z=k.comment,ne=u.transformTo("string",C(Z)),j=u.transformTo("string",p.utf8encode(Z)),X=V.length!==k.name.length,A=j.length!==Z.length,J="",G="",H="",ue=k.dir,ee=k.date,R={crc32:0,compressedSize:0,uncompressedSize:0};x&&!y||(R.crc32=v.crc32,R.compressedSize=v.compressedSize,R.uncompressedSize=v.uncompressedSize);var U=0;x&&(U|=8),B||!X&&!A||(U|=2048);var L=0,re=0;ue&&(L|=16),w==="UNIX"?(re=798,L|=(function(te,ve){var Oe=te;return te||(Oe=ve?16893:33204),(65535&Oe)<<16})(k.unixPermissions,ue)):(re=20,L|=(function(te){return 63&(te||0)})(k.dosPermissions)),M=ee.getUTCHours(),M<<=6,M|=ee.getUTCMinutes(),M<<=5,M|=ee.getUTCSeconds()/2,O=ee.getUTCFullYear()-1980,O<<=4,O|=ee.getUTCMonth()+1,O<<=5,O|=ee.getUTCDate(),X&&(G=l(1,1)+l(m(D),4)+V,J+="up"+l(G.length,2)+G),A&&(H=l(1,1)+l(m(ne),4)+j,J+="uc"+l(H.length,2)+H);var le="";return le+=`
\0`,le+=l(U,2),le+=I.magic,le+=l(M,2),le+=l(O,2),le+=l(R.crc32,4),le+=l(R.compressedSize,4),le+=l(R.uncompressedSize,4),le+=l(D.length,2),le+=l(J.length,2),{fileRecord:_.LOCAL_FILE_HEADER+le+D+J,dirRecord:_.CENTRAL_FILE_HEADER+l(re,2)+le+l(ne.length,2)+"\0\0\0\0"+l(L,4)+l(S,4)+D+J+ne}}var u=s("../utils"),f=s("../stream/GenericWorker"),p=s("../utf8"),m=s("../crc32"),_=s("../signature");function b(v,x,y,S){f.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=x,this.zipPlatform=y,this.encodeFileName=S,this.streamFiles=v,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}u.inherits(b,f),b.prototype.push=function(v){var x=v.meta.percent||0,y=this.entriesCount,S=this._sources.length;this.accumulate?this.contentBuffer.push(v):(this.bytesWritten+=v.data.length,f.prototype.push.call(this,{data:v.data,meta:{currentFile:this.currentFile,percent:y?(x+100*(y-S-1))/y:100}}))},b.prototype.openedSource=function(v){this.currentSourceOffset=this.bytesWritten,this.currentFile=v.file.name;var x=this.streamFiles&&!v.file.dir;if(x){var y=h(v,x,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:y.fileRecord,meta:{percent:0}})}else this.accumulate=!0},b.prototype.closedSource=function(v){this.accumulate=!1;var x=this.streamFiles&&!v.file.dir,y=h(v,x,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(y.dirRecord),x)this.push({data:(function(S){return _.DATA_DESCRIPTOR+l(S.crc32,4)+l(S.compressedSize,4)+l(S.uncompressedSize,4)})(v),meta:{percent:100}});else for(this.push({data:y.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},b.prototype.flush=function(){for(var v=this.bytesWritten,x=0;x<this.dirRecords.length;x++)this.push({data:this.dirRecords[x],meta:{percent:100}});var y=this.bytesWritten-v,S=(function(w,C,M,O,k){var I=u.transformTo("string",k(O));return _.CENTRAL_DIRECTORY_END+"\0\0\0\0"+l(w,2)+l(w,2)+l(C,4)+l(M,4)+l(I.length,2)+I})(this.dirRecords.length,y,v,this.zipComment,this.encodeFileName);this.push({data:S,meta:{percent:100}})},b.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},b.prototype.registerPrevious=function(v){this._sources.push(v);var x=this;return v.on("data",function(y){x.processChunk(y)}),v.on("end",function(){x.closedSource(x.previous.streamInfo),x._sources.length?x.prepareNextSource():x.end()}),v.on("error",function(y){x.error(y)}),this},b.prototype.resume=function(){return!!f.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},b.prototype.error=function(v){var x=this._sources;if(!f.prototype.error.call(this,v))return!1;for(var y=0;y<x.length;y++)try{x[y].error(v)}catch{}return!0},b.prototype.lock=function(){f.prototype.lock.call(this);for(var v=this._sources,x=0;x<v.length;x++)v[x].lock()},r.exports=b},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(s,r,o){var l=s("../compressions"),h=s("./ZipFileWorker");o.generateWorker=function(u,f,p){var m=new h(f.streamFiles,p,f.platform,f.encodeFileName),_=0;try{u.forEach(function(b,v){_++;var x=(function(C,M){var O=C||M,k=l[O];if(!k)throw new Error(O+" is not a valid compression method !");return k})(v.options.compression,f.compression),y=v.options.compressionOptions||f.compressionOptions||{},S=v.dir,w=v.date;v._compressWorker(x,y).withStreamInfo("file",{name:b,dir:S,date:w,comment:v.comment||"",unixPermissions:v.unixPermissions,dosPermissions:v.dosPermissions}).pipe(m)}),m.entriesCount=_}catch(b){m.error(b)}return m}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(s,r,o){function l(){if(!(this instanceof l))return new l;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var h=new l;for(var u in this)typeof this[u]!="function"&&(h[u]=this[u]);return h}}(l.prototype=s("./object")).loadAsync=s("./load"),l.support=s("./support"),l.defaults=s("./defaults"),l.version="3.10.1",l.loadAsync=function(h,u){return new l().loadAsync(h,u)},l.external=s("./external"),r.exports=l},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(s,r,o){var l=s("./utils"),h=s("./external"),u=s("./utf8"),f=s("./zipEntries"),p=s("./stream/Crc32Probe"),m=s("./nodejsUtils");function _(b){return new h.Promise(function(v,x){var y=b.decompressed.getContentWorker().pipe(new p);y.on("error",function(S){x(S)}).on("end",function(){y.streamInfo.crc32!==b.decompressed.crc32?x(new Error("Corrupted zip : CRC32 mismatch")):v()}).resume()})}r.exports=function(b,v){var x=this;return v=l.extend(v||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:u.utf8decode}),m.isNode&&m.isStream(b)?h.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):l.prepareContent("the loaded zip file",b,!0,v.optimizedBinaryString,v.base64).then(function(y){var S=new f(v);return S.load(y),S}).then(function(y){var S=[h.Promise.resolve(y)],w=y.files;if(v.checkCRC32)for(var C=0;C<w.length;C++)S.push(_(w[C]));return h.Promise.all(S)}).then(function(y){for(var S=y.shift(),w=S.files,C=0;C<w.length;C++){var M=w[C],O=M.fileNameStr,k=l.resolve(M.fileNameStr);x.file(k,M.decompressed,{binary:!0,optimizedBinaryString:!0,date:M.date,dir:M.dir,comment:M.fileCommentStr.length?M.fileCommentStr:null,unixPermissions:M.unixPermissions,dosPermissions:M.dosPermissions,createFolders:v.createFolders}),M.dir||(x.file(k).unsafeOriginalName=O)}return S.zipComment.length&&(x.comment=S.zipComment),x})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(s,r,o){var l=s("../utils"),h=s("../stream/GenericWorker");function u(f,p){h.call(this,"Nodejs stream input adapter for "+f),this._upstreamEnded=!1,this._bindStream(p)}l.inherits(u,h),u.prototype._bindStream=function(f){var p=this;(this._stream=f).pause(),f.on("data",function(m){p.push({data:m,meta:{percent:0}})}).on("error",function(m){p.isPaused?this.generatedError=m:p.error(m)}).on("end",function(){p.isPaused?p._upstreamEnded=!0:p.end()})},u.prototype.pause=function(){return!!h.prototype.pause.call(this)&&(this._stream.pause(),!0)},u.prototype.resume=function(){return!!h.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},r.exports=u},{"../stream/GenericWorker":28,"../utils":32}],13:[function(s,r,o){var l=s("readable-stream").Readable;function h(u,f,p){l.call(this,f),this._helper=u;var m=this;u.on("data",function(_,b){m.push(_)||m._helper.pause(),p&&p(b)}).on("error",function(_){m.emit("error",_)}).on("end",function(){m.push(null)})}s("../utils").inherits(h,l),h.prototype._read=function(){this._helper.resume()},r.exports=h},{"../utils":32,"readable-stream":16}],14:[function(s,r,o){r.exports={isNode:typeof Buffer<"u",newBufferFrom:function(l,h){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(l,h);if(typeof l=="number")throw new Error('The "data" argument must not be a number');return new Buffer(l,h)},allocBuffer:function(l){if(Buffer.alloc)return Buffer.alloc(l);var h=new Buffer(l);return h.fill(0),h},isBuffer:function(l){return Buffer.isBuffer(l)},isStream:function(l){return l&&typeof l.on=="function"&&typeof l.pause=="function"&&typeof l.resume=="function"}}},{}],15:[function(s,r,o){function l(k,I,B){var D,V=u.getTypeOf(I),Z=u.extend(B||{},m);Z.date=Z.date||new Date,Z.compression!==null&&(Z.compression=Z.compression.toUpperCase()),typeof Z.unixPermissions=="string"&&(Z.unixPermissions=parseInt(Z.unixPermissions,8)),Z.unixPermissions&&16384&Z.unixPermissions&&(Z.dir=!0),Z.dosPermissions&&16&Z.dosPermissions&&(Z.dir=!0),Z.dir&&(k=w(k)),Z.createFolders&&(D=S(k))&&C.call(this,D,!0);var ne=V==="string"&&Z.binary===!1&&Z.base64===!1;B&&B.binary!==void 0||(Z.binary=!ne),(I instanceof _&&I.uncompressedSize===0||Z.dir||!I||I.length===0)&&(Z.base64=!1,Z.binary=!0,I="",Z.compression="STORE",V="string");var j=null;j=I instanceof _||I instanceof f?I:x.isNode&&x.isStream(I)?new y(k,I):u.prepareContent(k,I,Z.binary,Z.optimizedBinaryString,Z.base64);var X=new b(k,j,Z);this.files[k]=X}var h=s("./utf8"),u=s("./utils"),f=s("./stream/GenericWorker"),p=s("./stream/StreamHelper"),m=s("./defaults"),_=s("./compressedObject"),b=s("./zipObject"),v=s("./generate"),x=s("./nodejsUtils"),y=s("./nodejs/NodejsStreamInputAdapter"),S=function(k){k.slice(-1)==="/"&&(k=k.substring(0,k.length-1));var I=k.lastIndexOf("/");return 0<I?k.substring(0,I):""},w=function(k){return k.slice(-1)!=="/"&&(k+="/"),k},C=function(k,I){return I=I!==void 0?I:m.createFolders,k=w(k),this.files[k]||l.call(this,k,null,{dir:!0,createFolders:I}),this.files[k]};function M(k){return Object.prototype.toString.call(k)==="[object RegExp]"}var O={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(k){var I,B,D;for(I in this.files)D=this.files[I],(B=I.slice(this.root.length,I.length))&&I.slice(0,this.root.length)===this.root&&k(B,D)},filter:function(k){var I=[];return this.forEach(function(B,D){k(B,D)&&I.push(D)}),I},file:function(k,I,B){if(arguments.length!==1)return k=this.root+k,l.call(this,k,I,B),this;if(M(k)){var D=k;return this.filter(function(Z,ne){return!ne.dir&&D.test(Z)})}var V=this.files[this.root+k];return V&&!V.dir?V:null},folder:function(k){if(!k)return this;if(M(k))return this.filter(function(V,Z){return Z.dir&&k.test(V)});var I=this.root+k,B=C.call(this,I),D=this.clone();return D.root=B.name,D},remove:function(k){k=this.root+k;var I=this.files[k];if(I||(k.slice(-1)!=="/"&&(k+="/"),I=this.files[k]),I&&!I.dir)delete this.files[k];else for(var B=this.filter(function(V,Z){return Z.name.slice(0,k.length)===k}),D=0;D<B.length;D++)delete this.files[B[D].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(k){var I,B={};try{if((B=u.extend(k||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:h.utf8encode})).type=B.type.toLowerCase(),B.compression=B.compression.toUpperCase(),B.type==="binarystring"&&(B.type="string"),!B.type)throw new Error("No output type specified.");u.checkSupport(B.type),B.platform!=="darwin"&&B.platform!=="freebsd"&&B.platform!=="linux"&&B.platform!=="sunos"||(B.platform="UNIX"),B.platform==="win32"&&(B.platform="DOS");var D=B.comment||this.comment||"";I=v.generateWorker(this,B,D)}catch(V){(I=new f("error")).error(V)}return new p(I,B.type||"string",B.mimeType)},generateAsync:function(k,I){return this.generateInternalStream(k).accumulate(I)},generateNodeStream:function(k,I){return(k=k||{}).type||(k.type="nodebuffer"),this.generateInternalStream(k).toNodejsStream(I)}};r.exports=O},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(s,r,o){r.exports=s("stream")},{stream:void 0}],17:[function(s,r,o){var l=s("./DataReader");function h(u){l.call(this,u);for(var f=0;f<this.data.length;f++)u[f]=255&u[f]}s("../utils").inherits(h,l),h.prototype.byteAt=function(u){return this.data[this.zero+u]},h.prototype.lastIndexOfSignature=function(u){for(var f=u.charCodeAt(0),p=u.charCodeAt(1),m=u.charCodeAt(2),_=u.charCodeAt(3),b=this.length-4;0<=b;--b)if(this.data[b]===f&&this.data[b+1]===p&&this.data[b+2]===m&&this.data[b+3]===_)return b-this.zero;return-1},h.prototype.readAndCheckSignature=function(u){var f=u.charCodeAt(0),p=u.charCodeAt(1),m=u.charCodeAt(2),_=u.charCodeAt(3),b=this.readData(4);return f===b[0]&&p===b[1]&&m===b[2]&&_===b[3]},h.prototype.readData=function(u){if(this.checkOffset(u),u===0)return[];var f=this.data.slice(this.zero+this.index,this.zero+this.index+u);return this.index+=u,f},r.exports=h},{"../utils":32,"./DataReader":18}],18:[function(s,r,o){var l=s("../utils");function h(u){this.data=u,this.length=u.length,this.index=0,this.zero=0}h.prototype={checkOffset:function(u){this.checkIndex(this.index+u)},checkIndex:function(u){if(this.length<this.zero+u||u<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+u+"). Corrupted zip ?")},setIndex:function(u){this.checkIndex(u),this.index=u},skip:function(u){this.setIndex(this.index+u)},byteAt:function(){},readInt:function(u){var f,p=0;for(this.checkOffset(u),f=this.index+u-1;f>=this.index;f--)p=(p<<8)+this.byteAt(f);return this.index+=u,p},readString:function(u){return l.transformTo("string",this.readData(u))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var u=this.readInt(4);return new Date(Date.UTC(1980+(u>>25&127),(u>>21&15)-1,u>>16&31,u>>11&31,u>>5&63,(31&u)<<1))}},r.exports=h},{"../utils":32}],19:[function(s,r,o){var l=s("./Uint8ArrayReader");function h(u){l.call(this,u)}s("../utils").inherits(h,l),h.prototype.readData=function(u){this.checkOffset(u);var f=this.data.slice(this.zero+this.index,this.zero+this.index+u);return this.index+=u,f},r.exports=h},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(s,r,o){var l=s("./DataReader");function h(u){l.call(this,u)}s("../utils").inherits(h,l),h.prototype.byteAt=function(u){return this.data.charCodeAt(this.zero+u)},h.prototype.lastIndexOfSignature=function(u){return this.data.lastIndexOf(u)-this.zero},h.prototype.readAndCheckSignature=function(u){return u===this.readData(4)},h.prototype.readData=function(u){this.checkOffset(u);var f=this.data.slice(this.zero+this.index,this.zero+this.index+u);return this.index+=u,f},r.exports=h},{"../utils":32,"./DataReader":18}],21:[function(s,r,o){var l=s("./ArrayReader");function h(u){l.call(this,u)}s("../utils").inherits(h,l),h.prototype.readData=function(u){if(this.checkOffset(u),u===0)return new Uint8Array(0);var f=this.data.subarray(this.zero+this.index,this.zero+this.index+u);return this.index+=u,f},r.exports=h},{"../utils":32,"./ArrayReader":17}],22:[function(s,r,o){var l=s("../utils"),h=s("../support"),u=s("./ArrayReader"),f=s("./StringReader"),p=s("./NodeBufferReader"),m=s("./Uint8ArrayReader");r.exports=function(_){var b=l.getTypeOf(_);return l.checkSupport(b),b!=="string"||h.uint8array?b==="nodebuffer"?new p(_):h.uint8array?new m(l.transformTo("uint8array",_)):new u(l.transformTo("array",_)):new f(_)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(s,r,o){o.LOCAL_FILE_HEADER="PK",o.CENTRAL_FILE_HEADER="PK",o.CENTRAL_DIRECTORY_END="PK",o.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",o.ZIP64_CENTRAL_DIRECTORY_END="PK",o.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(s,r,o){var l=s("./GenericWorker"),h=s("../utils");function u(f){l.call(this,"ConvertWorker to "+f),this.destType=f}h.inherits(u,l),u.prototype.processChunk=function(f){this.push({data:h.transformTo(this.destType,f.data),meta:f.meta})},r.exports=u},{"../utils":32,"./GenericWorker":28}],25:[function(s,r,o){var l=s("./GenericWorker"),h=s("../crc32");function u(){l.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}s("../utils").inherits(u,l),u.prototype.processChunk=function(f){this.streamInfo.crc32=h(f.data,this.streamInfo.crc32||0),this.push(f)},r.exports=u},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(s,r,o){var l=s("../utils"),h=s("./GenericWorker");function u(f){h.call(this,"DataLengthProbe for "+f),this.propName=f,this.withStreamInfo(f,0)}l.inherits(u,h),u.prototype.processChunk=function(f){if(f){var p=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=p+f.data.length}h.prototype.processChunk.call(this,f)},r.exports=u},{"../utils":32,"./GenericWorker":28}],27:[function(s,r,o){var l=s("../utils"),h=s("./GenericWorker");function u(f){h.call(this,"DataWorker");var p=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,f.then(function(m){p.dataIsReady=!0,p.data=m,p.max=m&&m.length||0,p.type=l.getTypeOf(m),p.isPaused||p._tickAndRepeat()},function(m){p.error(m)})}l.inherits(u,h),u.prototype.cleanUp=function(){h.prototype.cleanUp.call(this),this.data=null},u.prototype.resume=function(){return!!h.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,l.delay(this._tickAndRepeat,[],this)),!0)},u.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(l.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},u.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var f=null,p=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":f=this.data.substring(this.index,p);break;case"uint8array":f=this.data.subarray(this.index,p);break;case"array":case"nodebuffer":f=this.data.slice(this.index,p)}return this.index=p,this.push({data:f,meta:{percent:this.max?this.index/this.max*100:0}})},r.exports=u},{"../utils":32,"./GenericWorker":28}],28:[function(s,r,o){function l(h){this.name=h||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}l.prototype={push:function(h){this.emit("data",h)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(h){this.emit("error",h)}return!0},error:function(h){return!this.isFinished&&(this.isPaused?this.generatedError=h:(this.isFinished=!0,this.emit("error",h),this.previous&&this.previous.error(h),this.cleanUp()),!0)},on:function(h,u){return this._listeners[h].push(u),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(h,u){if(this._listeners[h])for(var f=0;f<this._listeners[h].length;f++)this._listeners[h][f].call(this,u)},pipe:function(h){return h.registerPrevious(this)},registerPrevious:function(h){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=h.streamInfo,this.mergeStreamInfo(),this.previous=h;var u=this;return h.on("data",function(f){u.processChunk(f)}),h.on("end",function(){u.end()}),h.on("error",function(f){u.error(f)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var h=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),h=!0),this.previous&&this.previous.resume(),!h},flush:function(){},processChunk:function(h){this.push(h)},withStreamInfo:function(h,u){return this.extraStreamInfo[h]=u,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var h in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,h)&&(this.streamInfo[h]=this.extraStreamInfo[h])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var h="Worker "+this.name;return this.previous?this.previous+" -> "+h:h}},r.exports=l},{}],29:[function(s,r,o){var l=s("../utils"),h=s("./ConvertWorker"),u=s("./GenericWorker"),f=s("../base64"),p=s("../support"),m=s("../external"),_=null;if(p.nodestream)try{_=s("../nodejs/NodejsStreamOutputAdapter")}catch{}function b(x,y){return new m.Promise(function(S,w){var C=[],M=x._internalType,O=x._outputType,k=x._mimeType;x.on("data",function(I,B){C.push(I),y&&y(B)}).on("error",function(I){C=[],w(I)}).on("end",function(){try{var I=(function(B,D,V){switch(B){case"blob":return l.newBlob(l.transformTo("arraybuffer",D),V);case"base64":return f.encode(D);default:return l.transformTo(B,D)}})(O,(function(B,D){var V,Z=0,ne=null,j=0;for(V=0;V<D.length;V++)j+=D[V].length;switch(B){case"string":return D.join("");case"array":return Array.prototype.concat.apply([],D);case"uint8array":for(ne=new Uint8Array(j),V=0;V<D.length;V++)ne.set(D[V],Z),Z+=D[V].length;return ne;case"nodebuffer":return Buffer.concat(D);default:throw new Error("concat : unsupported type '"+B+"'")}})(M,C),k);S(I)}catch(B){w(B)}C=[]}).resume()})}function v(x,y,S){var w=y;switch(y){case"blob":case"arraybuffer":w="uint8array";break;case"base64":w="string"}try{this._internalType=w,this._outputType=y,this._mimeType=S,l.checkSupport(w),this._worker=x.pipe(new h(w)),x.lock()}catch(C){this._worker=new u("error"),this._worker.error(C)}}v.prototype={accumulate:function(x){return b(this,x)},on:function(x,y){var S=this;return x==="data"?this._worker.on(x,function(w){y.call(S,w.data,w.meta)}):this._worker.on(x,function(){l.delay(y,arguments,S)}),this},resume:function(){return l.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(x){if(l.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new _(this,{objectMode:this._outputType!=="nodebuffer"},x)}},r.exports=v},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(s,r,o){if(o.base64=!0,o.array=!0,o.string=!0,o.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",o.nodebuffer=typeof Buffer<"u",o.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")o.blob=!1;else{var l=new ArrayBuffer(0);try{o.blob=new Blob([l],{type:"application/zip"}).size===0}catch{try{var h=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);h.append(l),o.blob=h.getBlob("application/zip").size===0}catch{o.blob=!1}}}try{o.nodestream=!!s("readable-stream").Readable}catch{o.nodestream=!1}},{"readable-stream":16}],31:[function(s,r,o){for(var l=s("./utils"),h=s("./support"),u=s("./nodejsUtils"),f=s("./stream/GenericWorker"),p=new Array(256),m=0;m<256;m++)p[m]=252<=m?6:248<=m?5:240<=m?4:224<=m?3:192<=m?2:1;p[254]=p[254]=1;function _(){f.call(this,"utf-8 decode"),this.leftOver=null}function b(){f.call(this,"utf-8 encode")}o.utf8encode=function(v){return h.nodebuffer?u.newBufferFrom(v,"utf-8"):(function(x){var y,S,w,C,M,O=x.length,k=0;for(C=0;C<O;C++)(64512&(S=x.charCodeAt(C)))==55296&&C+1<O&&(64512&(w=x.charCodeAt(C+1)))==56320&&(S=65536+(S-55296<<10)+(w-56320),C++),k+=S<128?1:S<2048?2:S<65536?3:4;for(y=h.uint8array?new Uint8Array(k):new Array(k),C=M=0;M<k;C++)(64512&(S=x.charCodeAt(C)))==55296&&C+1<O&&(64512&(w=x.charCodeAt(C+1)))==56320&&(S=65536+(S-55296<<10)+(w-56320),C++),S<128?y[M++]=S:(S<2048?y[M++]=192|S>>>6:(S<65536?y[M++]=224|S>>>12:(y[M++]=240|S>>>18,y[M++]=128|S>>>12&63),y[M++]=128|S>>>6&63),y[M++]=128|63&S);return y})(v)},o.utf8decode=function(v){return h.nodebuffer?l.transformTo("nodebuffer",v).toString("utf-8"):(function(x){var y,S,w,C,M=x.length,O=new Array(2*M);for(y=S=0;y<M;)if((w=x[y++])<128)O[S++]=w;else if(4<(C=p[w]))O[S++]=65533,y+=C-1;else{for(w&=C===2?31:C===3?15:7;1<C&&y<M;)w=w<<6|63&x[y++],C--;1<C?O[S++]=65533:w<65536?O[S++]=w:(w-=65536,O[S++]=55296|w>>10&1023,O[S++]=56320|1023&w)}return O.length!==S&&(O.subarray?O=O.subarray(0,S):O.length=S),l.applyFromCharCode(O)})(v=l.transformTo(h.uint8array?"uint8array":"array",v))},l.inherits(_,f),_.prototype.processChunk=function(v){var x=l.transformTo(h.uint8array?"uint8array":"array",v.data);if(this.leftOver&&this.leftOver.length){if(h.uint8array){var y=x;(x=new Uint8Array(y.length+this.leftOver.length)).set(this.leftOver,0),x.set(y,this.leftOver.length)}else x=this.leftOver.concat(x);this.leftOver=null}var S=(function(C,M){var O;for((M=M||C.length)>C.length&&(M=C.length),O=M-1;0<=O&&(192&C[O])==128;)O--;return O<0||O===0?M:O+p[C[O]]>M?O:M})(x),w=x;S!==x.length&&(h.uint8array?(w=x.subarray(0,S),this.leftOver=x.subarray(S,x.length)):(w=x.slice(0,S),this.leftOver=x.slice(S,x.length))),this.push({data:o.utf8decode(w),meta:v.meta})},_.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:o.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},o.Utf8DecodeWorker=_,l.inherits(b,f),b.prototype.processChunk=function(v){this.push({data:o.utf8encode(v.data),meta:v.meta})},o.Utf8EncodeWorker=b},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(s,r,o){var l=s("./support"),h=s("./base64"),u=s("./nodejsUtils"),f=s("./external");function p(y){return y}function m(y,S){for(var w=0;w<y.length;++w)S[w]=255&y.charCodeAt(w);return S}s("setimmediate"),o.newBlob=function(y,S){o.checkSupport("blob");try{return new Blob([y],{type:S})}catch{try{var w=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return w.append(y),w.getBlob(S)}catch{throw new Error("Bug : can't construct the Blob.")}}};var _={stringifyByChunk:function(y,S,w){var C=[],M=0,O=y.length;if(O<=w)return String.fromCharCode.apply(null,y);for(;M<O;)S==="array"||S==="nodebuffer"?C.push(String.fromCharCode.apply(null,y.slice(M,Math.min(M+w,O)))):C.push(String.fromCharCode.apply(null,y.subarray(M,Math.min(M+w,O)))),M+=w;return C.join("")},stringifyByChar:function(y){for(var S="",w=0;w<y.length;w++)S+=String.fromCharCode(y[w]);return S},applyCanBeUsed:{uint8array:(function(){try{return l.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}})(),nodebuffer:(function(){try{return l.nodebuffer&&String.fromCharCode.apply(null,u.allocBuffer(1)).length===1}catch{return!1}})()}};function b(y){var S=65536,w=o.getTypeOf(y),C=!0;if(w==="uint8array"?C=_.applyCanBeUsed.uint8array:w==="nodebuffer"&&(C=_.applyCanBeUsed.nodebuffer),C)for(;1<S;)try{return _.stringifyByChunk(y,w,S)}catch{S=Math.floor(S/2)}return _.stringifyByChar(y)}function v(y,S){for(var w=0;w<y.length;w++)S[w]=y[w];return S}o.applyFromCharCode=b;var x={};x.string={string:p,array:function(y){return m(y,new Array(y.length))},arraybuffer:function(y){return x.string.uint8array(y).buffer},uint8array:function(y){return m(y,new Uint8Array(y.length))},nodebuffer:function(y){return m(y,u.allocBuffer(y.length))}},x.array={string:b,array:p,arraybuffer:function(y){return new Uint8Array(y).buffer},uint8array:function(y){return new Uint8Array(y)},nodebuffer:function(y){return u.newBufferFrom(y)}},x.arraybuffer={string:function(y){return b(new Uint8Array(y))},array:function(y){return v(new Uint8Array(y),new Array(y.byteLength))},arraybuffer:p,uint8array:function(y){return new Uint8Array(y)},nodebuffer:function(y){return u.newBufferFrom(new Uint8Array(y))}},x.uint8array={string:b,array:function(y){return v(y,new Array(y.length))},arraybuffer:function(y){return y.buffer},uint8array:p,nodebuffer:function(y){return u.newBufferFrom(y)}},x.nodebuffer={string:b,array:function(y){return v(y,new Array(y.length))},arraybuffer:function(y){return x.nodebuffer.uint8array(y).buffer},uint8array:function(y){return v(y,new Uint8Array(y.length))},nodebuffer:p},o.transformTo=function(y,S){if(S=S||"",!y)return S;o.checkSupport(y);var w=o.getTypeOf(S);return x[w][y](S)},o.resolve=function(y){for(var S=y.split("/"),w=[],C=0;C<S.length;C++){var M=S[C];M==="."||M===""&&C!==0&&C!==S.length-1||(M===".."?w.pop():w.push(M))}return w.join("/")},o.getTypeOf=function(y){return typeof y=="string"?"string":Object.prototype.toString.call(y)==="[object Array]"?"array":l.nodebuffer&&u.isBuffer(y)?"nodebuffer":l.uint8array&&y instanceof Uint8Array?"uint8array":l.arraybuffer&&y instanceof ArrayBuffer?"arraybuffer":void 0},o.checkSupport=function(y){if(!l[y.toLowerCase()])throw new Error(y+" is not supported by this platform")},o.MAX_VALUE_16BITS=65535,o.MAX_VALUE_32BITS=-1,o.pretty=function(y){var S,w,C="";for(w=0;w<(y||"").length;w++)C+="\\x"+((S=y.charCodeAt(w))<16?"0":"")+S.toString(16).toUpperCase();return C},o.delay=function(y,S,w){setImmediate(function(){y.apply(w||null,S||[])})},o.inherits=function(y,S){function w(){}w.prototype=S.prototype,y.prototype=new w},o.extend=function(){var y,S,w={};for(y=0;y<arguments.length;y++)for(S in arguments[y])Object.prototype.hasOwnProperty.call(arguments[y],S)&&w[S]===void 0&&(w[S]=arguments[y][S]);return w},o.prepareContent=function(y,S,w,C,M){return f.Promise.resolve(S).then(function(O){return l.blob&&(O instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(O))!==-1)&&typeof FileReader<"u"?new f.Promise(function(k,I){var B=new FileReader;B.onload=function(D){k(D.target.result)},B.onerror=function(D){I(D.target.error)},B.readAsArrayBuffer(O)}):O}).then(function(O){var k=o.getTypeOf(O);return k?(k==="arraybuffer"?O=o.transformTo("uint8array",O):k==="string"&&(M?O=h.decode(O):w&&C!==!0&&(O=(function(I){return m(I,l.uint8array?new Uint8Array(I.length):new Array(I.length))})(O))),O):f.Promise.reject(new Error("Can't read the data of '"+y+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(s,r,o){var l=s("./reader/readerFor"),h=s("./utils"),u=s("./signature"),f=s("./zipEntry"),p=s("./support");function m(_){this.files=[],this.loadOptions=_}m.prototype={checkSignature:function(_){if(!this.reader.readAndCheckSignature(_)){this.reader.index-=4;var b=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+h.pretty(b)+", expected "+h.pretty(_)+")")}},isSignature:function(_,b){var v=this.reader.index;this.reader.setIndex(_);var x=this.reader.readString(4)===b;return this.reader.setIndex(v),x},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var _=this.reader.readData(this.zipCommentLength),b=p.uint8array?"uint8array":"array",v=h.transformTo(b,_);this.zipComment=this.loadOptions.decodeFileName(v)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var _,b,v,x=this.zip64EndOfCentralSize-44;0<x;)_=this.reader.readInt(2),b=this.reader.readInt(4),v=this.reader.readData(b),this.zip64ExtensibleData[_]={id:_,length:b,value:v}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var _,b;for(_=0;_<this.files.length;_++)b=this.files[_],this.reader.setIndex(b.localHeaderOffset),this.checkSignature(u.LOCAL_FILE_HEADER),b.readLocalPart(this.reader),b.handleUTF8(),b.processAttributes()},readCentralDir:function(){var _;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(u.CENTRAL_FILE_HEADER);)(_=new f({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(_);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var _=this.reader.lastIndexOfSignature(u.CENTRAL_DIRECTORY_END);if(_<0)throw this.isSignature(0,u.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(_);var b=_;if(this.checkSignature(u.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===h.MAX_VALUE_16BITS||this.diskWithCentralDirStart===h.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===h.MAX_VALUE_16BITS||this.centralDirRecords===h.MAX_VALUE_16BITS||this.centralDirSize===h.MAX_VALUE_32BITS||this.centralDirOffset===h.MAX_VALUE_32BITS){if(this.zip64=!0,(_=this.reader.lastIndexOfSignature(u.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(_),this.checkSignature(u.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,u.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(u.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(u.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var v=this.centralDirOffset+this.centralDirSize;this.zip64&&(v+=20,v+=12+this.zip64EndOfCentralSize);var x=b-v;if(0<x)this.isSignature(b,u.CENTRAL_FILE_HEADER)||(this.reader.zero=x);else if(x<0)throw new Error("Corrupted zip: missing "+Math.abs(x)+" bytes.")},prepareReader:function(_){this.reader=l(_)},load:function(_){this.prepareReader(_),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},r.exports=m},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(s,r,o){var l=s("./reader/readerFor"),h=s("./utils"),u=s("./compressedObject"),f=s("./crc32"),p=s("./utf8"),m=s("./compressions"),_=s("./support");function b(v,x){this.options=v,this.loadOptions=x}b.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(v){var x,y;if(v.skip(22),this.fileNameLength=v.readInt(2),y=v.readInt(2),this.fileName=v.readData(this.fileNameLength),v.skip(y),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((x=(function(S){for(var w in m)if(Object.prototype.hasOwnProperty.call(m,w)&&m[w].magic===S)return m[w];return null})(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+h.pretty(this.compressionMethod)+" unknown (inner file : "+h.transformTo("string",this.fileName)+")");this.decompressed=new u(this.compressedSize,this.uncompressedSize,this.crc32,x,v.readData(this.compressedSize))},readCentralPart:function(v){this.versionMadeBy=v.readInt(2),v.skip(2),this.bitFlag=v.readInt(2),this.compressionMethod=v.readString(2),this.date=v.readDate(),this.crc32=v.readInt(4),this.compressedSize=v.readInt(4),this.uncompressedSize=v.readInt(4);var x=v.readInt(2);if(this.extraFieldsLength=v.readInt(2),this.fileCommentLength=v.readInt(2),this.diskNumberStart=v.readInt(2),this.internalFileAttributes=v.readInt(2),this.externalFileAttributes=v.readInt(4),this.localHeaderOffset=v.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");v.skip(x),this.readExtraFields(v),this.parseZIP64ExtraField(v),this.fileComment=v.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var v=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),v==0&&(this.dosPermissions=63&this.externalFileAttributes),v==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var v=l(this.extraFields[1].value);this.uncompressedSize===h.MAX_VALUE_32BITS&&(this.uncompressedSize=v.readInt(8)),this.compressedSize===h.MAX_VALUE_32BITS&&(this.compressedSize=v.readInt(8)),this.localHeaderOffset===h.MAX_VALUE_32BITS&&(this.localHeaderOffset=v.readInt(8)),this.diskNumberStart===h.MAX_VALUE_32BITS&&(this.diskNumberStart=v.readInt(4))}},readExtraFields:function(v){var x,y,S,w=v.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});v.index+4<w;)x=v.readInt(2),y=v.readInt(2),S=v.readData(y),this.extraFields[x]={id:x,length:y,value:S};v.setIndex(w)},handleUTF8:function(){var v=_.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=p.utf8decode(this.fileName),this.fileCommentStr=p.utf8decode(this.fileComment);else{var x=this.findExtraFieldUnicodePath();if(x!==null)this.fileNameStr=x;else{var y=h.transformTo(v,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(y)}var S=this.findExtraFieldUnicodeComment();if(S!==null)this.fileCommentStr=S;else{var w=h.transformTo(v,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(w)}}},findExtraFieldUnicodePath:function(){var v=this.extraFields[28789];if(v){var x=l(v.value);return x.readInt(1)!==1||f(this.fileName)!==x.readInt(4)?null:p.utf8decode(x.readData(v.length-5))}return null},findExtraFieldUnicodeComment:function(){var v=this.extraFields[25461];if(v){var x=l(v.value);return x.readInt(1)!==1||f(this.fileComment)!==x.readInt(4)?null:p.utf8decode(x.readData(v.length-5))}return null}},r.exports=b},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(s,r,o){function l(x,y,S){this.name=x,this.dir=S.dir,this.date=S.date,this.comment=S.comment,this.unixPermissions=S.unixPermissions,this.dosPermissions=S.dosPermissions,this._data=y,this._dataBinary=S.binary,this.options={compression:S.compression,compressionOptions:S.compressionOptions}}var h=s("./stream/StreamHelper"),u=s("./stream/DataWorker"),f=s("./utf8"),p=s("./compressedObject"),m=s("./stream/GenericWorker");l.prototype={internalStream:function(x){var y=null,S="string";try{if(!x)throw new Error("No output type specified.");var w=(S=x.toLowerCase())==="string"||S==="text";S!=="binarystring"&&S!=="text"||(S="string"),y=this._decompressWorker();var C=!this._dataBinary;C&&!w&&(y=y.pipe(new f.Utf8EncodeWorker)),!C&&w&&(y=y.pipe(new f.Utf8DecodeWorker))}catch(M){(y=new m("error")).error(M)}return new h(y,S,"")},async:function(x,y){return this.internalStream(x).accumulate(y)},nodeStream:function(x,y){return this.internalStream(x||"nodebuffer").toNodejsStream(y)},_compressWorker:function(x,y){if(this._data instanceof p&&this._data.compression.magic===x.magic)return this._data.getCompressedWorker();var S=this._decompressWorker();return this._dataBinary||(S=S.pipe(new f.Utf8EncodeWorker)),p.createWorkerFrom(S,x,y)},_decompressWorker:function(){return this._data instanceof p?this._data.getContentWorker():this._data instanceof m?this._data:new u(this._data)}};for(var _=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],b=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},v=0;v<_.length;v++)l.prototype[_[v]]=b;r.exports=l},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(s,r,o){(function(l){var h,u,f=l.MutationObserver||l.WebKitMutationObserver;if(f){var p=0,m=new f(x),_=l.document.createTextNode("");m.observe(_,{characterData:!0}),h=function(){_.data=p=++p%2}}else if(l.setImmediate||l.MessageChannel===void 0)h="document"in l&&"onreadystatechange"in l.document.createElement("script")?function(){var y=l.document.createElement("script");y.onreadystatechange=function(){x(),y.onreadystatechange=null,y.parentNode.removeChild(y),y=null},l.document.documentElement.appendChild(y)}:function(){setTimeout(x,0)};else{var b=new l.MessageChannel;b.port1.onmessage=x,h=function(){b.port2.postMessage(0)}}var v=[];function x(){var y,S;u=!0;for(var w=v.length;w;){for(S=v,v=[],y=-1;++y<w;)S[y]();w=v.length}u=!1}r.exports=function(y){v.push(y)!==1||u||h()}}).call(this,typeof Ml<"u"?Ml:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(s,r,o){var l=s("immediate");function h(){}var u={},f=["REJECTED"],p=["FULFILLED"],m=["PENDING"];function _(w){if(typeof w!="function")throw new TypeError("resolver must be a function");this.state=m,this.queue=[],this.outcome=void 0,w!==h&&y(this,w)}function b(w,C,M){this.promise=w,typeof C=="function"&&(this.onFulfilled=C,this.callFulfilled=this.otherCallFulfilled),typeof M=="function"&&(this.onRejected=M,this.callRejected=this.otherCallRejected)}function v(w,C,M){l(function(){var O;try{O=C(M)}catch(k){return u.reject(w,k)}O===w?u.reject(w,new TypeError("Cannot resolve promise with itself")):u.resolve(w,O)})}function x(w){var C=w&&w.then;if(w&&(typeof w=="object"||typeof w=="function")&&typeof C=="function")return function(){C.apply(w,arguments)}}function y(w,C){var M=!1;function O(B){M||(M=!0,u.reject(w,B))}function k(B){M||(M=!0,u.resolve(w,B))}var I=S(function(){C(k,O)});I.status==="error"&&O(I.value)}function S(w,C){var M={};try{M.value=w(C),M.status="success"}catch(O){M.status="error",M.value=O}return M}(r.exports=_).prototype.finally=function(w){if(typeof w!="function")return this;var C=this.constructor;return this.then(function(M){return C.resolve(w()).then(function(){return M})},function(M){return C.resolve(w()).then(function(){throw M})})},_.prototype.catch=function(w){return this.then(null,w)},_.prototype.then=function(w,C){if(typeof w!="function"&&this.state===p||typeof C!="function"&&this.state===f)return this;var M=new this.constructor(h);return this.state!==m?v(M,this.state===p?w:C,this.outcome):this.queue.push(new b(M,w,C)),M},b.prototype.callFulfilled=function(w){u.resolve(this.promise,w)},b.prototype.otherCallFulfilled=function(w){v(this.promise,this.onFulfilled,w)},b.prototype.callRejected=function(w){u.reject(this.promise,w)},b.prototype.otherCallRejected=function(w){v(this.promise,this.onRejected,w)},u.resolve=function(w,C){var M=S(x,C);if(M.status==="error")return u.reject(w,M.value);var O=M.value;if(O)y(w,O);else{w.state=p,w.outcome=C;for(var k=-1,I=w.queue.length;++k<I;)w.queue[k].callFulfilled(C)}return w},u.reject=function(w,C){w.state=f,w.outcome=C;for(var M=-1,O=w.queue.length;++M<O;)w.queue[M].callRejected(C);return w},_.resolve=function(w){return w instanceof this?w:u.resolve(new this(h),w)},_.reject=function(w){var C=new this(h);return u.reject(C,w)},_.all=function(w){var C=this;if(Object.prototype.toString.call(w)!=="[object Array]")return this.reject(new TypeError("must be an array"));var M=w.length,O=!1;if(!M)return this.resolve([]);for(var k=new Array(M),I=0,B=-1,D=new this(h);++B<M;)V(w[B],B);return D;function V(Z,ne){C.resolve(Z).then(function(j){k[ne]=j,++I!==M||O||(O=!0,u.resolve(D,k))},function(j){O||(O=!0,u.reject(D,j))})}},_.race=function(w){var C=this;if(Object.prototype.toString.call(w)!=="[object Array]")return this.reject(new TypeError("must be an array"));var M=w.length,O=!1;if(!M)return this.resolve([]);for(var k=-1,I=new this(h);++k<M;)B=w[k],C.resolve(B).then(function(D){O||(O=!0,u.resolve(I,D))},function(D){O||(O=!0,u.reject(I,D))});var B;return I}},{immediate:36}],38:[function(s,r,o){var l={};(0,s("./lib/utils/common").assign)(l,s("./lib/deflate"),s("./lib/inflate"),s("./lib/zlib/constants")),r.exports=l},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(s,r,o){var l=s("./zlib/deflate"),h=s("./utils/common"),u=s("./utils/strings"),f=s("./zlib/messages"),p=s("./zlib/zstream"),m=Object.prototype.toString,_=0,b=-1,v=0,x=8;function y(w){if(!(this instanceof y))return new y(w);this.options=h.assign({level:b,method:x,chunkSize:16384,windowBits:15,memLevel:8,strategy:v,to:""},w||{});var C=this.options;C.raw&&0<C.windowBits?C.windowBits=-C.windowBits:C.gzip&&0<C.windowBits&&C.windowBits<16&&(C.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new p,this.strm.avail_out=0;var M=l.deflateInit2(this.strm,C.level,C.method,C.windowBits,C.memLevel,C.strategy);if(M!==_)throw new Error(f[M]);if(C.header&&l.deflateSetHeader(this.strm,C.header),C.dictionary){var O;if(O=typeof C.dictionary=="string"?u.string2buf(C.dictionary):m.call(C.dictionary)==="[object ArrayBuffer]"?new Uint8Array(C.dictionary):C.dictionary,(M=l.deflateSetDictionary(this.strm,O))!==_)throw new Error(f[M]);this._dict_set=!0}}function S(w,C){var M=new y(C);if(M.push(w,!0),M.err)throw M.msg||f[M.err];return M.result}y.prototype.push=function(w,C){var M,O,k=this.strm,I=this.options.chunkSize;if(this.ended)return!1;O=C===~~C?C:C===!0?4:0,typeof w=="string"?k.input=u.string2buf(w):m.call(w)==="[object ArrayBuffer]"?k.input=new Uint8Array(w):k.input=w,k.next_in=0,k.avail_in=k.input.length;do{if(k.avail_out===0&&(k.output=new h.Buf8(I),k.next_out=0,k.avail_out=I),(M=l.deflate(k,O))!==1&&M!==_)return this.onEnd(M),!(this.ended=!0);k.avail_out!==0&&(k.avail_in!==0||O!==4&&O!==2)||(this.options.to==="string"?this.onData(u.buf2binstring(h.shrinkBuf(k.output,k.next_out))):this.onData(h.shrinkBuf(k.output,k.next_out)))}while((0<k.avail_in||k.avail_out===0)&&M!==1);return O===4?(M=l.deflateEnd(this.strm),this.onEnd(M),this.ended=!0,M===_):O!==2||(this.onEnd(_),!(k.avail_out=0))},y.prototype.onData=function(w){this.chunks.push(w)},y.prototype.onEnd=function(w){w===_&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=h.flattenChunks(this.chunks)),this.chunks=[],this.err=w,this.msg=this.strm.msg},o.Deflate=y,o.deflate=S,o.deflateRaw=function(w,C){return(C=C||{}).raw=!0,S(w,C)},o.gzip=function(w,C){return(C=C||{}).gzip=!0,S(w,C)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(s,r,o){var l=s("./zlib/inflate"),h=s("./utils/common"),u=s("./utils/strings"),f=s("./zlib/constants"),p=s("./zlib/messages"),m=s("./zlib/zstream"),_=s("./zlib/gzheader"),b=Object.prototype.toString;function v(y){if(!(this instanceof v))return new v(y);this.options=h.assign({chunkSize:16384,windowBits:0,to:""},y||{});var S=this.options;S.raw&&0<=S.windowBits&&S.windowBits<16&&(S.windowBits=-S.windowBits,S.windowBits===0&&(S.windowBits=-15)),!(0<=S.windowBits&&S.windowBits<16)||y&&y.windowBits||(S.windowBits+=32),15<S.windowBits&&S.windowBits<48&&(15&S.windowBits)==0&&(S.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new m,this.strm.avail_out=0;var w=l.inflateInit2(this.strm,S.windowBits);if(w!==f.Z_OK)throw new Error(p[w]);this.header=new _,l.inflateGetHeader(this.strm,this.header)}function x(y,S){var w=new v(S);if(w.push(y,!0),w.err)throw w.msg||p[w.err];return w.result}v.prototype.push=function(y,S){var w,C,M,O,k,I,B=this.strm,D=this.options.chunkSize,V=this.options.dictionary,Z=!1;if(this.ended)return!1;C=S===~~S?S:S===!0?f.Z_FINISH:f.Z_NO_FLUSH,typeof y=="string"?B.input=u.binstring2buf(y):b.call(y)==="[object ArrayBuffer]"?B.input=new Uint8Array(y):B.input=y,B.next_in=0,B.avail_in=B.input.length;do{if(B.avail_out===0&&(B.output=new h.Buf8(D),B.next_out=0,B.avail_out=D),(w=l.inflate(B,f.Z_NO_FLUSH))===f.Z_NEED_DICT&&V&&(I=typeof V=="string"?u.string2buf(V):b.call(V)==="[object ArrayBuffer]"?new Uint8Array(V):V,w=l.inflateSetDictionary(this.strm,I)),w===f.Z_BUF_ERROR&&Z===!0&&(w=f.Z_OK,Z=!1),w!==f.Z_STREAM_END&&w!==f.Z_OK)return this.onEnd(w),!(this.ended=!0);B.next_out&&(B.avail_out!==0&&w!==f.Z_STREAM_END&&(B.avail_in!==0||C!==f.Z_FINISH&&C!==f.Z_SYNC_FLUSH)||(this.options.to==="string"?(M=u.utf8border(B.output,B.next_out),O=B.next_out-M,k=u.buf2string(B.output,M),B.next_out=O,B.avail_out=D-O,O&&h.arraySet(B.output,B.output,M,O,0),this.onData(k)):this.onData(h.shrinkBuf(B.output,B.next_out)))),B.avail_in===0&&B.avail_out===0&&(Z=!0)}while((0<B.avail_in||B.avail_out===0)&&w!==f.Z_STREAM_END);return w===f.Z_STREAM_END&&(C=f.Z_FINISH),C===f.Z_FINISH?(w=l.inflateEnd(this.strm),this.onEnd(w),this.ended=!0,w===f.Z_OK):C!==f.Z_SYNC_FLUSH||(this.onEnd(f.Z_OK),!(B.avail_out=0))},v.prototype.onData=function(y){this.chunks.push(y)},v.prototype.onEnd=function(y){y===f.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=h.flattenChunks(this.chunks)),this.chunks=[],this.err=y,this.msg=this.strm.msg},o.Inflate=v,o.inflate=x,o.inflateRaw=function(y,S){return(S=S||{}).raw=!0,x(y,S)},o.ungzip=x},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(s,r,o){var l=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";o.assign=function(f){for(var p=Array.prototype.slice.call(arguments,1);p.length;){var m=p.shift();if(m){if(typeof m!="object")throw new TypeError(m+"must be non-object");for(var _ in m)m.hasOwnProperty(_)&&(f[_]=m[_])}}return f},o.shrinkBuf=function(f,p){return f.length===p?f:f.subarray?f.subarray(0,p):(f.length=p,f)};var h={arraySet:function(f,p,m,_,b){if(p.subarray&&f.subarray)f.set(p.subarray(m,m+_),b);else for(var v=0;v<_;v++)f[b+v]=p[m+v]},flattenChunks:function(f){var p,m,_,b,v,x;for(p=_=0,m=f.length;p<m;p++)_+=f[p].length;for(x=new Uint8Array(_),p=b=0,m=f.length;p<m;p++)v=f[p],x.set(v,b),b+=v.length;return x}},u={arraySet:function(f,p,m,_,b){for(var v=0;v<_;v++)f[b+v]=p[m+v]},flattenChunks:function(f){return[].concat.apply([],f)}};o.setTyped=function(f){f?(o.Buf8=Uint8Array,o.Buf16=Uint16Array,o.Buf32=Int32Array,o.assign(o,h)):(o.Buf8=Array,o.Buf16=Array,o.Buf32=Array,o.assign(o,u))},o.setTyped(l)},{}],42:[function(s,r,o){var l=s("./common"),h=!0,u=!0;try{String.fromCharCode.apply(null,[0])}catch{h=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{u=!1}for(var f=new l.Buf8(256),p=0;p<256;p++)f[p]=252<=p?6:248<=p?5:240<=p?4:224<=p?3:192<=p?2:1;function m(_,b){if(b<65537&&(_.subarray&&u||!_.subarray&&h))return String.fromCharCode.apply(null,l.shrinkBuf(_,b));for(var v="",x=0;x<b;x++)v+=String.fromCharCode(_[x]);return v}f[254]=f[254]=1,o.string2buf=function(_){var b,v,x,y,S,w=_.length,C=0;for(y=0;y<w;y++)(64512&(v=_.charCodeAt(y)))==55296&&y+1<w&&(64512&(x=_.charCodeAt(y+1)))==56320&&(v=65536+(v-55296<<10)+(x-56320),y++),C+=v<128?1:v<2048?2:v<65536?3:4;for(b=new l.Buf8(C),y=S=0;S<C;y++)(64512&(v=_.charCodeAt(y)))==55296&&y+1<w&&(64512&(x=_.charCodeAt(y+1)))==56320&&(v=65536+(v-55296<<10)+(x-56320),y++),v<128?b[S++]=v:(v<2048?b[S++]=192|v>>>6:(v<65536?b[S++]=224|v>>>12:(b[S++]=240|v>>>18,b[S++]=128|v>>>12&63),b[S++]=128|v>>>6&63),b[S++]=128|63&v);return b},o.buf2binstring=function(_){return m(_,_.length)},o.binstring2buf=function(_){for(var b=new l.Buf8(_.length),v=0,x=b.length;v<x;v++)b[v]=_.charCodeAt(v);return b},o.buf2string=function(_,b){var v,x,y,S,w=b||_.length,C=new Array(2*w);for(v=x=0;v<w;)if((y=_[v++])<128)C[x++]=y;else if(4<(S=f[y]))C[x++]=65533,v+=S-1;else{for(y&=S===2?31:S===3?15:7;1<S&&v<w;)y=y<<6|63&_[v++],S--;1<S?C[x++]=65533:y<65536?C[x++]=y:(y-=65536,C[x++]=55296|y>>10&1023,C[x++]=56320|1023&y)}return m(C,x)},o.utf8border=function(_,b){var v;for((b=b||_.length)>_.length&&(b=_.length),v=b-1;0<=v&&(192&_[v])==128;)v--;return v<0||v===0?b:v+f[_[v]]>b?v:b}},{"./common":41}],43:[function(s,r,o){r.exports=function(l,h,u,f){for(var p=65535&l|0,m=l>>>16&65535|0,_=0;u!==0;){for(u-=_=2e3<u?2e3:u;m=m+(p=p+h[f++]|0)|0,--_;);p%=65521,m%=65521}return p|m<<16|0}},{}],44:[function(s,r,o){r.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(s,r,o){var l=(function(){for(var h,u=[],f=0;f<256;f++){h=f;for(var p=0;p<8;p++)h=1&h?3988292384^h>>>1:h>>>1;u[f]=h}return u})();r.exports=function(h,u,f,p){var m=l,_=p+f;h^=-1;for(var b=p;b<_;b++)h=h>>>8^m[255&(h^u[b])];return-1^h}},{}],46:[function(s,r,o){var l,h=s("../utils/common"),u=s("./trees"),f=s("./adler32"),p=s("./crc32"),m=s("./messages"),_=0,b=4,v=0,x=-2,y=-1,S=4,w=2,C=8,M=9,O=286,k=30,I=19,B=2*O+1,D=15,V=3,Z=258,ne=Z+V+1,j=42,X=113,A=1,J=2,G=3,H=4;function ue(T,Q){return T.msg=m[Q],Q}function ee(T){return(T<<1)-(4<T?9:0)}function R(T){for(var Q=T.length;0<=--Q;)T[Q]=0}function U(T){var Q=T.state,K=Q.pending;K>T.avail_out&&(K=T.avail_out),K!==0&&(h.arraySet(T.output,Q.pending_buf,Q.pending_out,K,T.next_out),T.next_out+=K,Q.pending_out+=K,T.total_out+=K,T.avail_out-=K,Q.pending-=K,Q.pending===0&&(Q.pending_out=0))}function L(T,Q){u._tr_flush_block(T,0<=T.block_start?T.block_start:-1,T.strstart-T.block_start,Q),T.block_start=T.strstart,U(T.strm)}function re(T,Q){T.pending_buf[T.pending++]=Q}function le(T,Q){T.pending_buf[T.pending++]=Q>>>8&255,T.pending_buf[T.pending++]=255&Q}function te(T,Q){var K,F,q=T.max_chain_length,Y=T.strstart,fe=T.prev_length,de=T.nice_match,se=T.strstart>T.w_size-ne?T.strstart-(T.w_size-ne):0,ye=T.window,Se=T.w_mask,xe=T.prev,Te=T.strstart+Z,Ie=ye[Y+fe-1],ze=ye[Y+fe];T.prev_length>=T.good_match&&(q>>=2),de>T.lookahead&&(de=T.lookahead);do if(ye[(K=Q)+fe]===ze&&ye[K+fe-1]===Ie&&ye[K]===ye[Y]&&ye[++K]===ye[Y+1]){Y+=2,K++;do;while(ye[++Y]===ye[++K]&&ye[++Y]===ye[++K]&&ye[++Y]===ye[++K]&&ye[++Y]===ye[++K]&&ye[++Y]===ye[++K]&&ye[++Y]===ye[++K]&&ye[++Y]===ye[++K]&&ye[++Y]===ye[++K]&&Y<Te);if(F=Z-(Te-Y),Y=Te-Z,fe<F){if(T.match_start=Q,de<=(fe=F))break;Ie=ye[Y+fe-1],ze=ye[Y+fe]}}while((Q=xe[Q&Se])>se&&--q!=0);return fe<=T.lookahead?fe:T.lookahead}function ve(T){var Q,K,F,q,Y,fe,de,se,ye,Se,xe=T.w_size;do{if(q=T.window_size-T.lookahead-T.strstart,T.strstart>=xe+(xe-ne)){for(h.arraySet(T.window,T.window,xe,xe,0),T.match_start-=xe,T.strstart-=xe,T.block_start-=xe,Q=K=T.hash_size;F=T.head[--Q],T.head[Q]=xe<=F?F-xe:0,--K;);for(Q=K=xe;F=T.prev[--Q],T.prev[Q]=xe<=F?F-xe:0,--K;);q+=xe}if(T.strm.avail_in===0)break;if(fe=T.strm,de=T.window,se=T.strstart+T.lookahead,ye=q,Se=void 0,Se=fe.avail_in,ye<Se&&(Se=ye),K=Se===0?0:(fe.avail_in-=Se,h.arraySet(de,fe.input,fe.next_in,Se,se),fe.state.wrap===1?fe.adler=f(fe.adler,de,Se,se):fe.state.wrap===2&&(fe.adler=p(fe.adler,de,Se,se)),fe.next_in+=Se,fe.total_in+=Se,Se),T.lookahead+=K,T.lookahead+T.insert>=V)for(Y=T.strstart-T.insert,T.ins_h=T.window[Y],T.ins_h=(T.ins_h<<T.hash_shift^T.window[Y+1])&T.hash_mask;T.insert&&(T.ins_h=(T.ins_h<<T.hash_shift^T.window[Y+V-1])&T.hash_mask,T.prev[Y&T.w_mask]=T.head[T.ins_h],T.head[T.ins_h]=Y,Y++,T.insert--,!(T.lookahead+T.insert<V)););}while(T.lookahead<ne&&T.strm.avail_in!==0)}function Oe(T,Q){for(var K,F;;){if(T.lookahead<ne){if(ve(T),T.lookahead<ne&&Q===_)return A;if(T.lookahead===0)break}if(K=0,T.lookahead>=V&&(T.ins_h=(T.ins_h<<T.hash_shift^T.window[T.strstart+V-1])&T.hash_mask,K=T.prev[T.strstart&T.w_mask]=T.head[T.ins_h],T.head[T.ins_h]=T.strstart),K!==0&&T.strstart-K<=T.w_size-ne&&(T.match_length=te(T,K)),T.match_length>=V)if(F=u._tr_tally(T,T.strstart-T.match_start,T.match_length-V),T.lookahead-=T.match_length,T.match_length<=T.max_lazy_match&&T.lookahead>=V){for(T.match_length--;T.strstart++,T.ins_h=(T.ins_h<<T.hash_shift^T.window[T.strstart+V-1])&T.hash_mask,K=T.prev[T.strstart&T.w_mask]=T.head[T.ins_h],T.head[T.ins_h]=T.strstart,--T.match_length!=0;);T.strstart++}else T.strstart+=T.match_length,T.match_length=0,T.ins_h=T.window[T.strstart],T.ins_h=(T.ins_h<<T.hash_shift^T.window[T.strstart+1])&T.hash_mask;else F=u._tr_tally(T,0,T.window[T.strstart]),T.lookahead--,T.strstart++;if(F&&(L(T,!1),T.strm.avail_out===0))return A}return T.insert=T.strstart<V-1?T.strstart:V-1,Q===b?(L(T,!0),T.strm.avail_out===0?G:H):T.last_lit&&(L(T,!1),T.strm.avail_out===0)?A:J}function ae(T,Q){for(var K,F,q;;){if(T.lookahead<ne){if(ve(T),T.lookahead<ne&&Q===_)return A;if(T.lookahead===0)break}if(K=0,T.lookahead>=V&&(T.ins_h=(T.ins_h<<T.hash_shift^T.window[T.strstart+V-1])&T.hash_mask,K=T.prev[T.strstart&T.w_mask]=T.head[T.ins_h],T.head[T.ins_h]=T.strstart),T.prev_length=T.match_length,T.prev_match=T.match_start,T.match_length=V-1,K!==0&&T.prev_length<T.max_lazy_match&&T.strstart-K<=T.w_size-ne&&(T.match_length=te(T,K),T.match_length<=5&&(T.strategy===1||T.match_length===V&&4096<T.strstart-T.match_start)&&(T.match_length=V-1)),T.prev_length>=V&&T.match_length<=T.prev_length){for(q=T.strstart+T.lookahead-V,F=u._tr_tally(T,T.strstart-1-T.prev_match,T.prev_length-V),T.lookahead-=T.prev_length-1,T.prev_length-=2;++T.strstart<=q&&(T.ins_h=(T.ins_h<<T.hash_shift^T.window[T.strstart+V-1])&T.hash_mask,K=T.prev[T.strstart&T.w_mask]=T.head[T.ins_h],T.head[T.ins_h]=T.strstart),--T.prev_length!=0;);if(T.match_available=0,T.match_length=V-1,T.strstart++,F&&(L(T,!1),T.strm.avail_out===0))return A}else if(T.match_available){if((F=u._tr_tally(T,0,T.window[T.strstart-1]))&&L(T,!1),T.strstart++,T.lookahead--,T.strm.avail_out===0)return A}else T.match_available=1,T.strstart++,T.lookahead--}return T.match_available&&(F=u._tr_tally(T,0,T.window[T.strstart-1]),T.match_available=0),T.insert=T.strstart<V-1?T.strstart:V-1,Q===b?(L(T,!0),T.strm.avail_out===0?G:H):T.last_lit&&(L(T,!1),T.strm.avail_out===0)?A:J}function be(T,Q,K,F,q){this.good_length=T,this.max_lazy=Q,this.nice_length=K,this.max_chain=F,this.func=q}function we(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=C,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new h.Buf16(2*B),this.dyn_dtree=new h.Buf16(2*(2*k+1)),this.bl_tree=new h.Buf16(2*(2*I+1)),R(this.dyn_ltree),R(this.dyn_dtree),R(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new h.Buf16(D+1),this.heap=new h.Buf16(2*O+1),R(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new h.Buf16(2*O+1),R(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function Ce(T){var Q;return T&&T.state?(T.total_in=T.total_out=0,T.data_type=w,(Q=T.state).pending=0,Q.pending_out=0,Q.wrap<0&&(Q.wrap=-Q.wrap),Q.status=Q.wrap?j:X,T.adler=Q.wrap===2?0:1,Q.last_flush=_,u._tr_init(Q),v):ue(T,x)}function Ye(T){var Q=Ce(T);return Q===v&&(function(K){K.window_size=2*K.w_size,R(K.head),K.max_lazy_match=l[K.level].max_lazy,K.good_match=l[K.level].good_length,K.nice_match=l[K.level].nice_length,K.max_chain_length=l[K.level].max_chain,K.strstart=0,K.block_start=0,K.lookahead=0,K.insert=0,K.match_length=K.prev_length=V-1,K.match_available=0,K.ins_h=0})(T.state),Q}function $e(T,Q,K,F,q,Y){if(!T)return x;var fe=1;if(Q===y&&(Q=6),F<0?(fe=0,F=-F):15<F&&(fe=2,F-=16),q<1||M<q||K!==C||F<8||15<F||Q<0||9<Q||Y<0||S<Y)return ue(T,x);F===8&&(F=9);var de=new we;return(T.state=de).strm=T,de.wrap=fe,de.gzhead=null,de.w_bits=F,de.w_size=1<<de.w_bits,de.w_mask=de.w_size-1,de.hash_bits=q+7,de.hash_size=1<<de.hash_bits,de.hash_mask=de.hash_size-1,de.hash_shift=~~((de.hash_bits+V-1)/V),de.window=new h.Buf8(2*de.w_size),de.head=new h.Buf16(de.hash_size),de.prev=new h.Buf16(de.w_size),de.lit_bufsize=1<<q+6,de.pending_buf_size=4*de.lit_bufsize,de.pending_buf=new h.Buf8(de.pending_buf_size),de.d_buf=1*de.lit_bufsize,de.l_buf=3*de.lit_bufsize,de.level=Q,de.strategy=Y,de.method=K,Ye(T)}l=[new be(0,0,0,0,function(T,Q){var K=65535;for(K>T.pending_buf_size-5&&(K=T.pending_buf_size-5);;){if(T.lookahead<=1){if(ve(T),T.lookahead===0&&Q===_)return A;if(T.lookahead===0)break}T.strstart+=T.lookahead,T.lookahead=0;var F=T.block_start+K;if((T.strstart===0||T.strstart>=F)&&(T.lookahead=T.strstart-F,T.strstart=F,L(T,!1),T.strm.avail_out===0)||T.strstart-T.block_start>=T.w_size-ne&&(L(T,!1),T.strm.avail_out===0))return A}return T.insert=0,Q===b?(L(T,!0),T.strm.avail_out===0?G:H):(T.strstart>T.block_start&&(L(T,!1),T.strm.avail_out),A)}),new be(4,4,8,4,Oe),new be(4,5,16,8,Oe),new be(4,6,32,32,Oe),new be(4,4,16,16,ae),new be(8,16,32,32,ae),new be(8,16,128,128,ae),new be(8,32,128,256,ae),new be(32,128,258,1024,ae),new be(32,258,258,4096,ae)],o.deflateInit=function(T,Q){return $e(T,Q,C,15,8,0)},o.deflateInit2=$e,o.deflateReset=Ye,o.deflateResetKeep=Ce,o.deflateSetHeader=function(T,Q){return T&&T.state?T.state.wrap!==2?x:(T.state.gzhead=Q,v):x},o.deflate=function(T,Q){var K,F,q,Y;if(!T||!T.state||5<Q||Q<0)return T?ue(T,x):x;if(F=T.state,!T.output||!T.input&&T.avail_in!==0||F.status===666&&Q!==b)return ue(T,T.avail_out===0?-5:x);if(F.strm=T,K=F.last_flush,F.last_flush=Q,F.status===j)if(F.wrap===2)T.adler=0,re(F,31),re(F,139),re(F,8),F.gzhead?(re(F,(F.gzhead.text?1:0)+(F.gzhead.hcrc?2:0)+(F.gzhead.extra?4:0)+(F.gzhead.name?8:0)+(F.gzhead.comment?16:0)),re(F,255&F.gzhead.time),re(F,F.gzhead.time>>8&255),re(F,F.gzhead.time>>16&255),re(F,F.gzhead.time>>24&255),re(F,F.level===9?2:2<=F.strategy||F.level<2?4:0),re(F,255&F.gzhead.os),F.gzhead.extra&&F.gzhead.extra.length&&(re(F,255&F.gzhead.extra.length),re(F,F.gzhead.extra.length>>8&255)),F.gzhead.hcrc&&(T.adler=p(T.adler,F.pending_buf,F.pending,0)),F.gzindex=0,F.status=69):(re(F,0),re(F,0),re(F,0),re(F,0),re(F,0),re(F,F.level===9?2:2<=F.strategy||F.level<2?4:0),re(F,3),F.status=X);else{var fe=C+(F.w_bits-8<<4)<<8;fe|=(2<=F.strategy||F.level<2?0:F.level<6?1:F.level===6?2:3)<<6,F.strstart!==0&&(fe|=32),fe+=31-fe%31,F.status=X,le(F,fe),F.strstart!==0&&(le(F,T.adler>>>16),le(F,65535&T.adler)),T.adler=1}if(F.status===69)if(F.gzhead.extra){for(q=F.pending;F.gzindex<(65535&F.gzhead.extra.length)&&(F.pending!==F.pending_buf_size||(F.gzhead.hcrc&&F.pending>q&&(T.adler=p(T.adler,F.pending_buf,F.pending-q,q)),U(T),q=F.pending,F.pending!==F.pending_buf_size));)re(F,255&F.gzhead.extra[F.gzindex]),F.gzindex++;F.gzhead.hcrc&&F.pending>q&&(T.adler=p(T.adler,F.pending_buf,F.pending-q,q)),F.gzindex===F.gzhead.extra.length&&(F.gzindex=0,F.status=73)}else F.status=73;if(F.status===73)if(F.gzhead.name){q=F.pending;do{if(F.pending===F.pending_buf_size&&(F.gzhead.hcrc&&F.pending>q&&(T.adler=p(T.adler,F.pending_buf,F.pending-q,q)),U(T),q=F.pending,F.pending===F.pending_buf_size)){Y=1;break}Y=F.gzindex<F.gzhead.name.length?255&F.gzhead.name.charCodeAt(F.gzindex++):0,re(F,Y)}while(Y!==0);F.gzhead.hcrc&&F.pending>q&&(T.adler=p(T.adler,F.pending_buf,F.pending-q,q)),Y===0&&(F.gzindex=0,F.status=91)}else F.status=91;if(F.status===91)if(F.gzhead.comment){q=F.pending;do{if(F.pending===F.pending_buf_size&&(F.gzhead.hcrc&&F.pending>q&&(T.adler=p(T.adler,F.pending_buf,F.pending-q,q)),U(T),q=F.pending,F.pending===F.pending_buf_size)){Y=1;break}Y=F.gzindex<F.gzhead.comment.length?255&F.gzhead.comment.charCodeAt(F.gzindex++):0,re(F,Y)}while(Y!==0);F.gzhead.hcrc&&F.pending>q&&(T.adler=p(T.adler,F.pending_buf,F.pending-q,q)),Y===0&&(F.status=103)}else F.status=103;if(F.status===103&&(F.gzhead.hcrc?(F.pending+2>F.pending_buf_size&&U(T),F.pending+2<=F.pending_buf_size&&(re(F,255&T.adler),re(F,T.adler>>8&255),T.adler=0,F.status=X)):F.status=X),F.pending!==0){if(U(T),T.avail_out===0)return F.last_flush=-1,v}else if(T.avail_in===0&&ee(Q)<=ee(K)&&Q!==b)return ue(T,-5);if(F.status===666&&T.avail_in!==0)return ue(T,-5);if(T.avail_in!==0||F.lookahead!==0||Q!==_&&F.status!==666){var de=F.strategy===2?(function(se,ye){for(var Se;;){if(se.lookahead===0&&(ve(se),se.lookahead===0)){if(ye===_)return A;break}if(se.match_length=0,Se=u._tr_tally(se,0,se.window[se.strstart]),se.lookahead--,se.strstart++,Se&&(L(se,!1),se.strm.avail_out===0))return A}return se.insert=0,ye===b?(L(se,!0),se.strm.avail_out===0?G:H):se.last_lit&&(L(se,!1),se.strm.avail_out===0)?A:J})(F,Q):F.strategy===3?(function(se,ye){for(var Se,xe,Te,Ie,ze=se.window;;){if(se.lookahead<=Z){if(ve(se),se.lookahead<=Z&&ye===_)return A;if(se.lookahead===0)break}if(se.match_length=0,se.lookahead>=V&&0<se.strstart&&(xe=ze[Te=se.strstart-1])===ze[++Te]&&xe===ze[++Te]&&xe===ze[++Te]){Ie=se.strstart+Z;do;while(xe===ze[++Te]&&xe===ze[++Te]&&xe===ze[++Te]&&xe===ze[++Te]&&xe===ze[++Te]&&xe===ze[++Te]&&xe===ze[++Te]&&xe===ze[++Te]&&Te<Ie);se.match_length=Z-(Ie-Te),se.match_length>se.lookahead&&(se.match_length=se.lookahead)}if(se.match_length>=V?(Se=u._tr_tally(se,1,se.match_length-V),se.lookahead-=se.match_length,se.strstart+=se.match_length,se.match_length=0):(Se=u._tr_tally(se,0,se.window[se.strstart]),se.lookahead--,se.strstart++),Se&&(L(se,!1),se.strm.avail_out===0))return A}return se.insert=0,ye===b?(L(se,!0),se.strm.avail_out===0?G:H):se.last_lit&&(L(se,!1),se.strm.avail_out===0)?A:J})(F,Q):l[F.level].func(F,Q);if(de!==G&&de!==H||(F.status=666),de===A||de===G)return T.avail_out===0&&(F.last_flush=-1),v;if(de===J&&(Q===1?u._tr_align(F):Q!==5&&(u._tr_stored_block(F,0,0,!1),Q===3&&(R(F.head),F.lookahead===0&&(F.strstart=0,F.block_start=0,F.insert=0))),U(T),T.avail_out===0))return F.last_flush=-1,v}return Q!==b?v:F.wrap<=0?1:(F.wrap===2?(re(F,255&T.adler),re(F,T.adler>>8&255),re(F,T.adler>>16&255),re(F,T.adler>>24&255),re(F,255&T.total_in),re(F,T.total_in>>8&255),re(F,T.total_in>>16&255),re(F,T.total_in>>24&255)):(le(F,T.adler>>>16),le(F,65535&T.adler)),U(T),0<F.wrap&&(F.wrap=-F.wrap),F.pending!==0?v:1)},o.deflateEnd=function(T){var Q;return T&&T.state?(Q=T.state.status)!==j&&Q!==69&&Q!==73&&Q!==91&&Q!==103&&Q!==X&&Q!==666?ue(T,x):(T.state=null,Q===X?ue(T,-3):v):x},o.deflateSetDictionary=function(T,Q){var K,F,q,Y,fe,de,se,ye,Se=Q.length;if(!T||!T.state||(Y=(K=T.state).wrap)===2||Y===1&&K.status!==j||K.lookahead)return x;for(Y===1&&(T.adler=f(T.adler,Q,Se,0)),K.wrap=0,Se>=K.w_size&&(Y===0&&(R(K.head),K.strstart=0,K.block_start=0,K.insert=0),ye=new h.Buf8(K.w_size),h.arraySet(ye,Q,Se-K.w_size,K.w_size,0),Q=ye,Se=K.w_size),fe=T.avail_in,de=T.next_in,se=T.input,T.avail_in=Se,T.next_in=0,T.input=Q,ve(K);K.lookahead>=V;){for(F=K.strstart,q=K.lookahead-(V-1);K.ins_h=(K.ins_h<<K.hash_shift^K.window[F+V-1])&K.hash_mask,K.prev[F&K.w_mask]=K.head[K.ins_h],K.head[K.ins_h]=F,F++,--q;);K.strstart=F,K.lookahead=V-1,ve(K)}return K.strstart+=K.lookahead,K.block_start=K.strstart,K.insert=K.lookahead,K.lookahead=0,K.match_length=K.prev_length=V-1,K.match_available=0,T.next_in=de,T.input=se,T.avail_in=fe,K.wrap=Y,v},o.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(s,r,o){r.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(s,r,o){r.exports=function(l,h){var u,f,p,m,_,b,v,x,y,S,w,C,M,O,k,I,B,D,V,Z,ne,j,X,A,J;u=l.state,f=l.next_in,A=l.input,p=f+(l.avail_in-5),m=l.next_out,J=l.output,_=m-(h-l.avail_out),b=m+(l.avail_out-257),v=u.dmax,x=u.wsize,y=u.whave,S=u.wnext,w=u.window,C=u.hold,M=u.bits,O=u.lencode,k=u.distcode,I=(1<<u.lenbits)-1,B=(1<<u.distbits)-1;e:do{M<15&&(C+=A[f++]<<M,M+=8,C+=A[f++]<<M,M+=8),D=O[C&I];t:for(;;){if(C>>>=V=D>>>24,M-=V,(V=D>>>16&255)===0)J[m++]=65535&D;else{if(!(16&V)){if((64&V)==0){D=O[(65535&D)+(C&(1<<V)-1)];continue t}if(32&V){u.mode=12;break e}l.msg="invalid literal/length code",u.mode=30;break e}Z=65535&D,(V&=15)&&(M<V&&(C+=A[f++]<<M,M+=8),Z+=C&(1<<V)-1,C>>>=V,M-=V),M<15&&(C+=A[f++]<<M,M+=8,C+=A[f++]<<M,M+=8),D=k[C&B];n:for(;;){if(C>>>=V=D>>>24,M-=V,!(16&(V=D>>>16&255))){if((64&V)==0){D=k[(65535&D)+(C&(1<<V)-1)];continue n}l.msg="invalid distance code",u.mode=30;break e}if(ne=65535&D,M<(V&=15)&&(C+=A[f++]<<M,(M+=8)<V&&(C+=A[f++]<<M,M+=8)),v<(ne+=C&(1<<V)-1)){l.msg="invalid distance too far back",u.mode=30;break e}if(C>>>=V,M-=V,(V=m-_)<ne){if(y<(V=ne-V)&&u.sane){l.msg="invalid distance too far back",u.mode=30;break e}if(X=w,(j=0)===S){if(j+=x-V,V<Z){for(Z-=V;J[m++]=w[j++],--V;);j=m-ne,X=J}}else if(S<V){if(j+=x+S-V,(V-=S)<Z){for(Z-=V;J[m++]=w[j++],--V;);if(j=0,S<Z){for(Z-=V=S;J[m++]=w[j++],--V;);j=m-ne,X=J}}}else if(j+=S-V,V<Z){for(Z-=V;J[m++]=w[j++],--V;);j=m-ne,X=J}for(;2<Z;)J[m++]=X[j++],J[m++]=X[j++],J[m++]=X[j++],Z-=3;Z&&(J[m++]=X[j++],1<Z&&(J[m++]=X[j++]))}else{for(j=m-ne;J[m++]=J[j++],J[m++]=J[j++],J[m++]=J[j++],2<(Z-=3););Z&&(J[m++]=J[j++],1<Z&&(J[m++]=J[j++]))}break}}break}}while(f<p&&m<b);f-=Z=M>>3,C&=(1<<(M-=Z<<3))-1,l.next_in=f,l.next_out=m,l.avail_in=f<p?p-f+5:5-(f-p),l.avail_out=m<b?b-m+257:257-(m-b),u.hold=C,u.bits=M}},{}],49:[function(s,r,o){var l=s("../utils/common"),h=s("./adler32"),u=s("./crc32"),f=s("./inffast"),p=s("./inftrees"),m=1,_=2,b=0,v=-2,x=1,y=852,S=592;function w(j){return(j>>>24&255)+(j>>>8&65280)+((65280&j)<<8)+((255&j)<<24)}function C(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new l.Buf16(320),this.work=new l.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function M(j){var X;return j&&j.state?(X=j.state,j.total_in=j.total_out=X.total=0,j.msg="",X.wrap&&(j.adler=1&X.wrap),X.mode=x,X.last=0,X.havedict=0,X.dmax=32768,X.head=null,X.hold=0,X.bits=0,X.lencode=X.lendyn=new l.Buf32(y),X.distcode=X.distdyn=new l.Buf32(S),X.sane=1,X.back=-1,b):v}function O(j){var X;return j&&j.state?((X=j.state).wsize=0,X.whave=0,X.wnext=0,M(j)):v}function k(j,X){var A,J;return j&&j.state?(J=j.state,X<0?(A=0,X=-X):(A=1+(X>>4),X<48&&(X&=15)),X&&(X<8||15<X)?v:(J.window!==null&&J.wbits!==X&&(J.window=null),J.wrap=A,J.wbits=X,O(j))):v}function I(j,X){var A,J;return j?(J=new C,(j.state=J).window=null,(A=k(j,X))!==b&&(j.state=null),A):v}var B,D,V=!0;function Z(j){if(V){var X;for(B=new l.Buf32(512),D=new l.Buf32(32),X=0;X<144;)j.lens[X++]=8;for(;X<256;)j.lens[X++]=9;for(;X<280;)j.lens[X++]=7;for(;X<288;)j.lens[X++]=8;for(p(m,j.lens,0,288,B,0,j.work,{bits:9}),X=0;X<32;)j.lens[X++]=5;p(_,j.lens,0,32,D,0,j.work,{bits:5}),V=!1}j.lencode=B,j.lenbits=9,j.distcode=D,j.distbits=5}function ne(j,X,A,J){var G,H=j.state;return H.window===null&&(H.wsize=1<<H.wbits,H.wnext=0,H.whave=0,H.window=new l.Buf8(H.wsize)),J>=H.wsize?(l.arraySet(H.window,X,A-H.wsize,H.wsize,0),H.wnext=0,H.whave=H.wsize):(J<(G=H.wsize-H.wnext)&&(G=J),l.arraySet(H.window,X,A-J,G,H.wnext),(J-=G)?(l.arraySet(H.window,X,A-J,J,0),H.wnext=J,H.whave=H.wsize):(H.wnext+=G,H.wnext===H.wsize&&(H.wnext=0),H.whave<H.wsize&&(H.whave+=G))),0}o.inflateReset=O,o.inflateReset2=k,o.inflateResetKeep=M,o.inflateInit=function(j){return I(j,15)},o.inflateInit2=I,o.inflate=function(j,X){var A,J,G,H,ue,ee,R,U,L,re,le,te,ve,Oe,ae,be,we,Ce,Ye,$e,T,Q,K,F,q=0,Y=new l.Buf8(4),fe=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!j||!j.state||!j.output||!j.input&&j.avail_in!==0)return v;(A=j.state).mode===12&&(A.mode=13),ue=j.next_out,G=j.output,R=j.avail_out,H=j.next_in,J=j.input,ee=j.avail_in,U=A.hold,L=A.bits,re=ee,le=R,Q=b;e:for(;;)switch(A.mode){case x:if(A.wrap===0){A.mode=13;break}for(;L<16;){if(ee===0)break e;ee--,U+=J[H++]<<L,L+=8}if(2&A.wrap&&U===35615){Y[A.check=0]=255&U,Y[1]=U>>>8&255,A.check=u(A.check,Y,2,0),L=U=0,A.mode=2;break}if(A.flags=0,A.head&&(A.head.done=!1),!(1&A.wrap)||(((255&U)<<8)+(U>>8))%31){j.msg="incorrect header check",A.mode=30;break}if((15&U)!=8){j.msg="unknown compression method",A.mode=30;break}if(L-=4,T=8+(15&(U>>>=4)),A.wbits===0)A.wbits=T;else if(T>A.wbits){j.msg="invalid window size",A.mode=30;break}A.dmax=1<<T,j.adler=A.check=1,A.mode=512&U?10:12,L=U=0;break;case 2:for(;L<16;){if(ee===0)break e;ee--,U+=J[H++]<<L,L+=8}if(A.flags=U,(255&A.flags)!=8){j.msg="unknown compression method",A.mode=30;break}if(57344&A.flags){j.msg="unknown header flags set",A.mode=30;break}A.head&&(A.head.text=U>>8&1),512&A.flags&&(Y[0]=255&U,Y[1]=U>>>8&255,A.check=u(A.check,Y,2,0)),L=U=0,A.mode=3;case 3:for(;L<32;){if(ee===0)break e;ee--,U+=J[H++]<<L,L+=8}A.head&&(A.head.time=U),512&A.flags&&(Y[0]=255&U,Y[1]=U>>>8&255,Y[2]=U>>>16&255,Y[3]=U>>>24&255,A.check=u(A.check,Y,4,0)),L=U=0,A.mode=4;case 4:for(;L<16;){if(ee===0)break e;ee--,U+=J[H++]<<L,L+=8}A.head&&(A.head.xflags=255&U,A.head.os=U>>8),512&A.flags&&(Y[0]=255&U,Y[1]=U>>>8&255,A.check=u(A.check,Y,2,0)),L=U=0,A.mode=5;case 5:if(1024&A.flags){for(;L<16;){if(ee===0)break e;ee--,U+=J[H++]<<L,L+=8}A.length=U,A.head&&(A.head.extra_len=U),512&A.flags&&(Y[0]=255&U,Y[1]=U>>>8&255,A.check=u(A.check,Y,2,0)),L=U=0}else A.head&&(A.head.extra=null);A.mode=6;case 6:if(1024&A.flags&&(ee<(te=A.length)&&(te=ee),te&&(A.head&&(T=A.head.extra_len-A.length,A.head.extra||(A.head.extra=new Array(A.head.extra_len)),l.arraySet(A.head.extra,J,H,te,T)),512&A.flags&&(A.check=u(A.check,J,te,H)),ee-=te,H+=te,A.length-=te),A.length))break e;A.length=0,A.mode=7;case 7:if(2048&A.flags){if(ee===0)break e;for(te=0;T=J[H+te++],A.head&&T&&A.length<65536&&(A.head.name+=String.fromCharCode(T)),T&&te<ee;);if(512&A.flags&&(A.check=u(A.check,J,te,H)),ee-=te,H+=te,T)break e}else A.head&&(A.head.name=null);A.length=0,A.mode=8;case 8:if(4096&A.flags){if(ee===0)break e;for(te=0;T=J[H+te++],A.head&&T&&A.length<65536&&(A.head.comment+=String.fromCharCode(T)),T&&te<ee;);if(512&A.flags&&(A.check=u(A.check,J,te,H)),ee-=te,H+=te,T)break e}else A.head&&(A.head.comment=null);A.mode=9;case 9:if(512&A.flags){for(;L<16;){if(ee===0)break e;ee--,U+=J[H++]<<L,L+=8}if(U!==(65535&A.check)){j.msg="header crc mismatch",A.mode=30;break}L=U=0}A.head&&(A.head.hcrc=A.flags>>9&1,A.head.done=!0),j.adler=A.check=0,A.mode=12;break;case 10:for(;L<32;){if(ee===0)break e;ee--,U+=J[H++]<<L,L+=8}j.adler=A.check=w(U),L=U=0,A.mode=11;case 11:if(A.havedict===0)return j.next_out=ue,j.avail_out=R,j.next_in=H,j.avail_in=ee,A.hold=U,A.bits=L,2;j.adler=A.check=1,A.mode=12;case 12:if(X===5||X===6)break e;case 13:if(A.last){U>>>=7&L,L-=7&L,A.mode=27;break}for(;L<3;){if(ee===0)break e;ee--,U+=J[H++]<<L,L+=8}switch(A.last=1&U,L-=1,3&(U>>>=1)){case 0:A.mode=14;break;case 1:if(Z(A),A.mode=20,X!==6)break;U>>>=2,L-=2;break e;case 2:A.mode=17;break;case 3:j.msg="invalid block type",A.mode=30}U>>>=2,L-=2;break;case 14:for(U>>>=7&L,L-=7&L;L<32;){if(ee===0)break e;ee--,U+=J[H++]<<L,L+=8}if((65535&U)!=(U>>>16^65535)){j.msg="invalid stored block lengths",A.mode=30;break}if(A.length=65535&U,L=U=0,A.mode=15,X===6)break e;case 15:A.mode=16;case 16:if(te=A.length){if(ee<te&&(te=ee),R<te&&(te=R),te===0)break e;l.arraySet(G,J,H,te,ue),ee-=te,H+=te,R-=te,ue+=te,A.length-=te;break}A.mode=12;break;case 17:for(;L<14;){if(ee===0)break e;ee--,U+=J[H++]<<L,L+=8}if(A.nlen=257+(31&U),U>>>=5,L-=5,A.ndist=1+(31&U),U>>>=5,L-=5,A.ncode=4+(15&U),U>>>=4,L-=4,286<A.nlen||30<A.ndist){j.msg="too many length or distance symbols",A.mode=30;break}A.have=0,A.mode=18;case 18:for(;A.have<A.ncode;){for(;L<3;){if(ee===0)break e;ee--,U+=J[H++]<<L,L+=8}A.lens[fe[A.have++]]=7&U,U>>>=3,L-=3}for(;A.have<19;)A.lens[fe[A.have++]]=0;if(A.lencode=A.lendyn,A.lenbits=7,K={bits:A.lenbits},Q=p(0,A.lens,0,19,A.lencode,0,A.work,K),A.lenbits=K.bits,Q){j.msg="invalid code lengths set",A.mode=30;break}A.have=0,A.mode=19;case 19:for(;A.have<A.nlen+A.ndist;){for(;be=(q=A.lencode[U&(1<<A.lenbits)-1])>>>16&255,we=65535&q,!((ae=q>>>24)<=L);){if(ee===0)break e;ee--,U+=J[H++]<<L,L+=8}if(we<16)U>>>=ae,L-=ae,A.lens[A.have++]=we;else{if(we===16){for(F=ae+2;L<F;){if(ee===0)break e;ee--,U+=J[H++]<<L,L+=8}if(U>>>=ae,L-=ae,A.have===0){j.msg="invalid bit length repeat",A.mode=30;break}T=A.lens[A.have-1],te=3+(3&U),U>>>=2,L-=2}else if(we===17){for(F=ae+3;L<F;){if(ee===0)break e;ee--,U+=J[H++]<<L,L+=8}L-=ae,T=0,te=3+(7&(U>>>=ae)),U>>>=3,L-=3}else{for(F=ae+7;L<F;){if(ee===0)break e;ee--,U+=J[H++]<<L,L+=8}L-=ae,T=0,te=11+(127&(U>>>=ae)),U>>>=7,L-=7}if(A.have+te>A.nlen+A.ndist){j.msg="invalid bit length repeat",A.mode=30;break}for(;te--;)A.lens[A.have++]=T}}if(A.mode===30)break;if(A.lens[256]===0){j.msg="invalid code -- missing end-of-block",A.mode=30;break}if(A.lenbits=9,K={bits:A.lenbits},Q=p(m,A.lens,0,A.nlen,A.lencode,0,A.work,K),A.lenbits=K.bits,Q){j.msg="invalid literal/lengths set",A.mode=30;break}if(A.distbits=6,A.distcode=A.distdyn,K={bits:A.distbits},Q=p(_,A.lens,A.nlen,A.ndist,A.distcode,0,A.work,K),A.distbits=K.bits,Q){j.msg="invalid distances set",A.mode=30;break}if(A.mode=20,X===6)break e;case 20:A.mode=21;case 21:if(6<=ee&&258<=R){j.next_out=ue,j.avail_out=R,j.next_in=H,j.avail_in=ee,A.hold=U,A.bits=L,f(j,le),ue=j.next_out,G=j.output,R=j.avail_out,H=j.next_in,J=j.input,ee=j.avail_in,U=A.hold,L=A.bits,A.mode===12&&(A.back=-1);break}for(A.back=0;be=(q=A.lencode[U&(1<<A.lenbits)-1])>>>16&255,we=65535&q,!((ae=q>>>24)<=L);){if(ee===0)break e;ee--,U+=J[H++]<<L,L+=8}if(be&&(240&be)==0){for(Ce=ae,Ye=be,$e=we;be=(q=A.lencode[$e+((U&(1<<Ce+Ye)-1)>>Ce)])>>>16&255,we=65535&q,!(Ce+(ae=q>>>24)<=L);){if(ee===0)break e;ee--,U+=J[H++]<<L,L+=8}U>>>=Ce,L-=Ce,A.back+=Ce}if(U>>>=ae,L-=ae,A.back+=ae,A.length=we,be===0){A.mode=26;break}if(32&be){A.back=-1,A.mode=12;break}if(64&be){j.msg="invalid literal/length code",A.mode=30;break}A.extra=15&be,A.mode=22;case 22:if(A.extra){for(F=A.extra;L<F;){if(ee===0)break e;ee--,U+=J[H++]<<L,L+=8}A.length+=U&(1<<A.extra)-1,U>>>=A.extra,L-=A.extra,A.back+=A.extra}A.was=A.length,A.mode=23;case 23:for(;be=(q=A.distcode[U&(1<<A.distbits)-1])>>>16&255,we=65535&q,!((ae=q>>>24)<=L);){if(ee===0)break e;ee--,U+=J[H++]<<L,L+=8}if((240&be)==0){for(Ce=ae,Ye=be,$e=we;be=(q=A.distcode[$e+((U&(1<<Ce+Ye)-1)>>Ce)])>>>16&255,we=65535&q,!(Ce+(ae=q>>>24)<=L);){if(ee===0)break e;ee--,U+=J[H++]<<L,L+=8}U>>>=Ce,L-=Ce,A.back+=Ce}if(U>>>=ae,L-=ae,A.back+=ae,64&be){j.msg="invalid distance code",A.mode=30;break}A.offset=we,A.extra=15&be,A.mode=24;case 24:if(A.extra){for(F=A.extra;L<F;){if(ee===0)break e;ee--,U+=J[H++]<<L,L+=8}A.offset+=U&(1<<A.extra)-1,U>>>=A.extra,L-=A.extra,A.back+=A.extra}if(A.offset>A.dmax){j.msg="invalid distance too far back",A.mode=30;break}A.mode=25;case 25:if(R===0)break e;if(te=le-R,A.offset>te){if((te=A.offset-te)>A.whave&&A.sane){j.msg="invalid distance too far back",A.mode=30;break}ve=te>A.wnext?(te-=A.wnext,A.wsize-te):A.wnext-te,te>A.length&&(te=A.length),Oe=A.window}else Oe=G,ve=ue-A.offset,te=A.length;for(R<te&&(te=R),R-=te,A.length-=te;G[ue++]=Oe[ve++],--te;);A.length===0&&(A.mode=21);break;case 26:if(R===0)break e;G[ue++]=A.length,R--,A.mode=21;break;case 27:if(A.wrap){for(;L<32;){if(ee===0)break e;ee--,U|=J[H++]<<L,L+=8}if(le-=R,j.total_out+=le,A.total+=le,le&&(j.adler=A.check=A.flags?u(A.check,G,le,ue-le):h(A.check,G,le,ue-le)),le=R,(A.flags?U:w(U))!==A.check){j.msg="incorrect data check",A.mode=30;break}L=U=0}A.mode=28;case 28:if(A.wrap&&A.flags){for(;L<32;){if(ee===0)break e;ee--,U+=J[H++]<<L,L+=8}if(U!==(4294967295&A.total)){j.msg="incorrect length check",A.mode=30;break}L=U=0}A.mode=29;case 29:Q=1;break e;case 30:Q=-3;break e;case 31:return-4;case 32:default:return v}return j.next_out=ue,j.avail_out=R,j.next_in=H,j.avail_in=ee,A.hold=U,A.bits=L,(A.wsize||le!==j.avail_out&&A.mode<30&&(A.mode<27||X!==4))&&ne(j,j.output,j.next_out,le-j.avail_out)?(A.mode=31,-4):(re-=j.avail_in,le-=j.avail_out,j.total_in+=re,j.total_out+=le,A.total+=le,A.wrap&&le&&(j.adler=A.check=A.flags?u(A.check,G,le,j.next_out-le):h(A.check,G,le,j.next_out-le)),j.data_type=A.bits+(A.last?64:0)+(A.mode===12?128:0)+(A.mode===20||A.mode===15?256:0),(re==0&&le===0||X===4)&&Q===b&&(Q=-5),Q)},o.inflateEnd=function(j){if(!j||!j.state)return v;var X=j.state;return X.window&&(X.window=null),j.state=null,b},o.inflateGetHeader=function(j,X){var A;return j&&j.state?(2&(A=j.state).wrap)==0?v:((A.head=X).done=!1,b):v},o.inflateSetDictionary=function(j,X){var A,J=X.length;return j&&j.state?(A=j.state).wrap!==0&&A.mode!==11?v:A.mode===11&&h(1,X,J,0)!==A.check?-3:ne(j,X,J,J)?(A.mode=31,-4):(A.havedict=1,b):v},o.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(s,r,o){var l=s("../utils/common"),h=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],u=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],f=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],p=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];r.exports=function(m,_,b,v,x,y,S,w){var C,M,O,k,I,B,D,V,Z,ne=w.bits,j=0,X=0,A=0,J=0,G=0,H=0,ue=0,ee=0,R=0,U=0,L=null,re=0,le=new l.Buf16(16),te=new l.Buf16(16),ve=null,Oe=0;for(j=0;j<=15;j++)le[j]=0;for(X=0;X<v;X++)le[_[b+X]]++;for(G=ne,J=15;1<=J&&le[J]===0;J--);if(J<G&&(G=J),J===0)return x[y++]=20971520,x[y++]=20971520,w.bits=1,0;for(A=1;A<J&&le[A]===0;A++);for(G<A&&(G=A),j=ee=1;j<=15;j++)if(ee<<=1,(ee-=le[j])<0)return-1;if(0<ee&&(m===0||J!==1))return-1;for(te[1]=0,j=1;j<15;j++)te[j+1]=te[j]+le[j];for(X=0;X<v;X++)_[b+X]!==0&&(S[te[_[b+X]]++]=X);if(B=m===0?(L=ve=S,19):m===1?(L=h,re-=257,ve=u,Oe-=257,256):(L=f,ve=p,-1),j=A,I=y,ue=X=U=0,O=-1,k=(R=1<<(H=G))-1,m===1&&852<R||m===2&&592<R)return 1;for(;;){for(D=j-ue,Z=S[X]<B?(V=0,S[X]):S[X]>B?(V=ve[Oe+S[X]],L[re+S[X]]):(V=96,0),C=1<<j-ue,A=M=1<<H;x[I+(U>>ue)+(M-=C)]=D<<24|V<<16|Z|0,M!==0;);for(C=1<<j-1;U&C;)C>>=1;if(C!==0?(U&=C-1,U+=C):U=0,X++,--le[j]==0){if(j===J)break;j=_[b+S[X]]}if(G<j&&(U&k)!==O){for(ue===0&&(ue=G),I+=A,ee=1<<(H=j-ue);H+ue<J&&!((ee-=le[H+ue])<=0);)H++,ee<<=1;if(R+=1<<H,m===1&&852<R||m===2&&592<R)return 1;x[O=U&k]=G<<24|H<<16|I-y|0}}return U!==0&&(x[I+U]=j-ue<<24|64<<16|0),w.bits=G,0}},{"../utils/common":41}],51:[function(s,r,o){r.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(s,r,o){var l=s("../utils/common"),h=0,u=1;function f(q){for(var Y=q.length;0<=--Y;)q[Y]=0}var p=0,m=29,_=256,b=_+1+m,v=30,x=19,y=2*b+1,S=15,w=16,C=7,M=256,O=16,k=17,I=18,B=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],D=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],V=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],Z=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],ne=new Array(2*(b+2));f(ne);var j=new Array(2*v);f(j);var X=new Array(512);f(X);var A=new Array(256);f(A);var J=new Array(m);f(J);var G,H,ue,ee=new Array(v);function R(q,Y,fe,de,se){this.static_tree=q,this.extra_bits=Y,this.extra_base=fe,this.elems=de,this.max_length=se,this.has_stree=q&&q.length}function U(q,Y){this.dyn_tree=q,this.max_code=0,this.stat_desc=Y}function L(q){return q<256?X[q]:X[256+(q>>>7)]}function re(q,Y){q.pending_buf[q.pending++]=255&Y,q.pending_buf[q.pending++]=Y>>>8&255}function le(q,Y,fe){q.bi_valid>w-fe?(q.bi_buf|=Y<<q.bi_valid&65535,re(q,q.bi_buf),q.bi_buf=Y>>w-q.bi_valid,q.bi_valid+=fe-w):(q.bi_buf|=Y<<q.bi_valid&65535,q.bi_valid+=fe)}function te(q,Y,fe){le(q,fe[2*Y],fe[2*Y+1])}function ve(q,Y){for(var fe=0;fe|=1&q,q>>>=1,fe<<=1,0<--Y;);return fe>>>1}function Oe(q,Y,fe){var de,se,ye=new Array(S+1),Se=0;for(de=1;de<=S;de++)ye[de]=Se=Se+fe[de-1]<<1;for(se=0;se<=Y;se++){var xe=q[2*se+1];xe!==0&&(q[2*se]=ve(ye[xe]++,xe))}}function ae(q){var Y;for(Y=0;Y<b;Y++)q.dyn_ltree[2*Y]=0;for(Y=0;Y<v;Y++)q.dyn_dtree[2*Y]=0;for(Y=0;Y<x;Y++)q.bl_tree[2*Y]=0;q.dyn_ltree[2*M]=1,q.opt_len=q.static_len=0,q.last_lit=q.matches=0}function be(q){8<q.bi_valid?re(q,q.bi_buf):0<q.bi_valid&&(q.pending_buf[q.pending++]=q.bi_buf),q.bi_buf=0,q.bi_valid=0}function we(q,Y,fe,de){var se=2*Y,ye=2*fe;return q[se]<q[ye]||q[se]===q[ye]&&de[Y]<=de[fe]}function Ce(q,Y,fe){for(var de=q.heap[fe],se=fe<<1;se<=q.heap_len&&(se<q.heap_len&&we(Y,q.heap[se+1],q.heap[se],q.depth)&&se++,!we(Y,de,q.heap[se],q.depth));)q.heap[fe]=q.heap[se],fe=se,se<<=1;q.heap[fe]=de}function Ye(q,Y,fe){var de,se,ye,Se,xe=0;if(q.last_lit!==0)for(;de=q.pending_buf[q.d_buf+2*xe]<<8|q.pending_buf[q.d_buf+2*xe+1],se=q.pending_buf[q.l_buf+xe],xe++,de===0?te(q,se,Y):(te(q,(ye=A[se])+_+1,Y),(Se=B[ye])!==0&&le(q,se-=J[ye],Se),te(q,ye=L(--de),fe),(Se=D[ye])!==0&&le(q,de-=ee[ye],Se)),xe<q.last_lit;);te(q,M,Y)}function $e(q,Y){var fe,de,se,ye=Y.dyn_tree,Se=Y.stat_desc.static_tree,xe=Y.stat_desc.has_stree,Te=Y.stat_desc.elems,Ie=-1;for(q.heap_len=0,q.heap_max=y,fe=0;fe<Te;fe++)ye[2*fe]!==0?(q.heap[++q.heap_len]=Ie=fe,q.depth[fe]=0):ye[2*fe+1]=0;for(;q.heap_len<2;)ye[2*(se=q.heap[++q.heap_len]=Ie<2?++Ie:0)]=1,q.depth[se]=0,q.opt_len--,xe&&(q.static_len-=Se[2*se+1]);for(Y.max_code=Ie,fe=q.heap_len>>1;1<=fe;fe--)Ce(q,ye,fe);for(se=Te;fe=q.heap[1],q.heap[1]=q.heap[q.heap_len--],Ce(q,ye,1),de=q.heap[1],q.heap[--q.heap_max]=fe,q.heap[--q.heap_max]=de,ye[2*se]=ye[2*fe]+ye[2*de],q.depth[se]=(q.depth[fe]>=q.depth[de]?q.depth[fe]:q.depth[de])+1,ye[2*fe+1]=ye[2*de+1]=se,q.heap[1]=se++,Ce(q,ye,1),2<=q.heap_len;);q.heap[--q.heap_max]=q.heap[1],(function(ze,rt){var hs,fn,xs,at,In,_n,tn=rt.dyn_tree,qn=rt.max_code,Ne=rt.stat_desc.static_tree,ke=rt.stat_desc.has_stree,Le=rt.stat_desc.extra_bits,Fe=rt.stat_desc.extra_base,Ve=rt.stat_desc.max_length,ot=0;for(at=0;at<=S;at++)ze.bl_count[at]=0;for(tn[2*ze.heap[ze.heap_max]+1]=0,hs=ze.heap_max+1;hs<y;hs++)Ve<(at=tn[2*tn[2*(fn=ze.heap[hs])+1]+1]+1)&&(at=Ve,ot++),tn[2*fn+1]=at,qn<fn||(ze.bl_count[at]++,In=0,Fe<=fn&&(In=Le[fn-Fe]),_n=tn[2*fn],ze.opt_len+=_n*(at+In),ke&&(ze.static_len+=_n*(Ne[2*fn+1]+In)));if(ot!==0){do{for(at=Ve-1;ze.bl_count[at]===0;)at--;ze.bl_count[at]--,ze.bl_count[at+1]+=2,ze.bl_count[Ve]--,ot-=2}while(0<ot);for(at=Ve;at!==0;at--)for(fn=ze.bl_count[at];fn!==0;)qn<(xs=ze.heap[--hs])||(tn[2*xs+1]!==at&&(ze.opt_len+=(at-tn[2*xs+1])*tn[2*xs],tn[2*xs+1]=at),fn--)}})(q,Y),Oe(ye,Ie,q.bl_count)}function T(q,Y,fe){var de,se,ye=-1,Se=Y[1],xe=0,Te=7,Ie=4;for(Se===0&&(Te=138,Ie=3),Y[2*(fe+1)+1]=65535,de=0;de<=fe;de++)se=Se,Se=Y[2*(de+1)+1],++xe<Te&&se===Se||(xe<Ie?q.bl_tree[2*se]+=xe:se!==0?(se!==ye&&q.bl_tree[2*se]++,q.bl_tree[2*O]++):xe<=10?q.bl_tree[2*k]++:q.bl_tree[2*I]++,ye=se,Ie=(xe=0)===Se?(Te=138,3):se===Se?(Te=6,3):(Te=7,4))}function Q(q,Y,fe){var de,se,ye=-1,Se=Y[1],xe=0,Te=7,Ie=4;for(Se===0&&(Te=138,Ie=3),de=0;de<=fe;de++)if(se=Se,Se=Y[2*(de+1)+1],!(++xe<Te&&se===Se)){if(xe<Ie)for(;te(q,se,q.bl_tree),--xe!=0;);else se!==0?(se!==ye&&(te(q,se,q.bl_tree),xe--),te(q,O,q.bl_tree),le(q,xe-3,2)):xe<=10?(te(q,k,q.bl_tree),le(q,xe-3,3)):(te(q,I,q.bl_tree),le(q,xe-11,7));ye=se,Ie=(xe=0)===Se?(Te=138,3):se===Se?(Te=6,3):(Te=7,4)}}f(ee);var K=!1;function F(q,Y,fe,de){le(q,(p<<1)+(de?1:0),3),(function(se,ye,Se,xe){be(se),re(se,Se),re(se,~Se),l.arraySet(se.pending_buf,se.window,ye,Se,se.pending),se.pending+=Se})(q,Y,fe)}o._tr_init=function(q){K||((function(){var Y,fe,de,se,ye,Se=new Array(S+1);for(se=de=0;se<m-1;se++)for(J[se]=de,Y=0;Y<1<<B[se];Y++)A[de++]=se;for(A[de-1]=se,se=ye=0;se<16;se++)for(ee[se]=ye,Y=0;Y<1<<D[se];Y++)X[ye++]=se;for(ye>>=7;se<v;se++)for(ee[se]=ye<<7,Y=0;Y<1<<D[se]-7;Y++)X[256+ye++]=se;for(fe=0;fe<=S;fe++)Se[fe]=0;for(Y=0;Y<=143;)ne[2*Y+1]=8,Y++,Se[8]++;for(;Y<=255;)ne[2*Y+1]=9,Y++,Se[9]++;for(;Y<=279;)ne[2*Y+1]=7,Y++,Se[7]++;for(;Y<=287;)ne[2*Y+1]=8,Y++,Se[8]++;for(Oe(ne,b+1,Se),Y=0;Y<v;Y++)j[2*Y+1]=5,j[2*Y]=ve(Y,5);G=new R(ne,B,_+1,b,S),H=new R(j,D,0,v,S),ue=new R(new Array(0),V,0,x,C)})(),K=!0),q.l_desc=new U(q.dyn_ltree,G),q.d_desc=new U(q.dyn_dtree,H),q.bl_desc=new U(q.bl_tree,ue),q.bi_buf=0,q.bi_valid=0,ae(q)},o._tr_stored_block=F,o._tr_flush_block=function(q,Y,fe,de){var se,ye,Se=0;0<q.level?(q.strm.data_type===2&&(q.strm.data_type=(function(xe){var Te,Ie=4093624447;for(Te=0;Te<=31;Te++,Ie>>>=1)if(1&Ie&&xe.dyn_ltree[2*Te]!==0)return h;if(xe.dyn_ltree[18]!==0||xe.dyn_ltree[20]!==0||xe.dyn_ltree[26]!==0)return u;for(Te=32;Te<_;Te++)if(xe.dyn_ltree[2*Te]!==0)return u;return h})(q)),$e(q,q.l_desc),$e(q,q.d_desc),Se=(function(xe){var Te;for(T(xe,xe.dyn_ltree,xe.l_desc.max_code),T(xe,xe.dyn_dtree,xe.d_desc.max_code),$e(xe,xe.bl_desc),Te=x-1;3<=Te&&xe.bl_tree[2*Z[Te]+1]===0;Te--);return xe.opt_len+=3*(Te+1)+5+5+4,Te})(q),se=q.opt_len+3+7>>>3,(ye=q.static_len+3+7>>>3)<=se&&(se=ye)):se=ye=fe+5,fe+4<=se&&Y!==-1?F(q,Y,fe,de):q.strategy===4||ye===se?(le(q,2+(de?1:0),3),Ye(q,ne,j)):(le(q,4+(de?1:0),3),(function(xe,Te,Ie,ze){var rt;for(le(xe,Te-257,5),le(xe,Ie-1,5),le(xe,ze-4,4),rt=0;rt<ze;rt++)le(xe,xe.bl_tree[2*Z[rt]+1],3);Q(xe,xe.dyn_ltree,Te-1),Q(xe,xe.dyn_dtree,Ie-1)})(q,q.l_desc.max_code+1,q.d_desc.max_code+1,Se+1),Ye(q,q.dyn_ltree,q.dyn_dtree)),ae(q),de&&be(q)},o._tr_tally=function(q,Y,fe){return q.pending_buf[q.d_buf+2*q.last_lit]=Y>>>8&255,q.pending_buf[q.d_buf+2*q.last_lit+1]=255&Y,q.pending_buf[q.l_buf+q.last_lit]=255&fe,q.last_lit++,Y===0?q.dyn_ltree[2*fe]++:(q.matches++,Y--,q.dyn_ltree[2*(A[fe]+_+1)]++,q.dyn_dtree[2*L(Y)]++),q.last_lit===q.lit_bufsize-1},o._tr_align=function(q){le(q,2,3),te(q,M,ne),(function(Y){Y.bi_valid===16?(re(Y,Y.bi_buf),Y.bi_buf=0,Y.bi_valid=0):8<=Y.bi_valid&&(Y.pending_buf[Y.pending++]=255&Y.bi_buf,Y.bi_buf>>=8,Y.bi_valid-=8)})(q)}},{"../utils/common":41}],53:[function(s,r,o){r.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(s,r,o){(function(l){(function(h,u){if(!h.setImmediate){var f,p,m,_,b=1,v={},x=!1,y=h.document,S=Object.getPrototypeOf&&Object.getPrototypeOf(h);S=S&&S.setTimeout?S:h,f={}.toString.call(h.process)==="[object process]"?function(O){process.nextTick(function(){C(O)})}:(function(){if(h.postMessage&&!h.importScripts){var O=!0,k=h.onmessage;return h.onmessage=function(){O=!1},h.postMessage("","*"),h.onmessage=k,O}})()?(_="setImmediate$"+Math.random()+"$",h.addEventListener?h.addEventListener("message",M,!1):h.attachEvent("onmessage",M),function(O){h.postMessage(_+O,"*")}):h.MessageChannel?((m=new MessageChannel).port1.onmessage=function(O){C(O.data)},function(O){m.port2.postMessage(O)}):y&&"onreadystatechange"in y.createElement("script")?(p=y.documentElement,function(O){var k=y.createElement("script");k.onreadystatechange=function(){C(O),k.onreadystatechange=null,p.removeChild(k),k=null},p.appendChild(k)}):function(O){setTimeout(C,0,O)},S.setImmediate=function(O){typeof O!="function"&&(O=new Function(""+O));for(var k=new Array(arguments.length-1),I=0;I<k.length;I++)k[I]=arguments[I+1];var B={callback:O,args:k};return v[b]=B,f(b),b++},S.clearImmediate=w}function w(O){delete v[O]}function C(O){if(x)setTimeout(C,0,O);else{var k=v[O];if(k){x=!0;try{(function(I){var B=I.callback,D=I.args;switch(D.length){case 0:B();break;case 1:B(D[0]);break;case 2:B(D[0],D[1]);break;case 3:B(D[0],D[1],D[2]);break;default:B.apply(u,D)}})(k)}finally{w(O),x=!1}}}}function M(O){O.source===h&&typeof O.data=="string"&&O.data.indexOf(_)===0&&C(+O.data.slice(_.length))}})(typeof self>"u"?l===void 0?this:l:self)}).call(this,typeof Ml<"u"?Ml:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})})(Ih)),Ih.exports}var YT=ZT();const M0=ec(YT);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XT=c=>c.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),WT=c=>c.replace(/^([A-Z])|[\s-_]+(\w)/g,(n,s,r)=>r?r.toUpperCase():s.toLowerCase()),D0=c=>{const n=WT(c);return n.charAt(0).toUpperCase()+n.slice(1)},fv=(...c)=>c.filter((n,s,r)=>!!n&&n.trim()!==""&&r.indexOf(n)===s).join(" ").trim(),QT=c=>{for(const n in c)if(n.startsWith("aria-")||n==="role"||n==="title")return!0};/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var KT={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JT=_e.forwardRef(({color:c="currentColor",size:n=24,strokeWidth:s=2,absoluteStrokeWidth:r,className:o="",children:l,iconNode:h,...u},f)=>_e.createElement("svg",{ref:f,...KT,width:n,height:n,stroke:c,strokeWidth:r?Number(s)*24/Number(n):s,className:fv("lucide",o),...!l&&!QT(u)&&{"aria-hidden":"true"},...u},[...h.map(([p,m])=>_e.createElement(p,m)),...Array.isArray(l)?l:[l]]));/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _t=(c,n)=>{const s=_e.forwardRef(({className:r,...o},l)=>_e.createElement(JT,{ref:l,iconNode:n,className:fv(`lucide-${XT(D0(c))}`,`lucide-${c}`,r),...o}));return s.displayName=D0(c),s};/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $T=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],R0=_t("activity",$T);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eA=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],df=_t("arrow-left",eA);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tA=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],nA=_t("check",tA);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sA=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],$f=_t("chevron-down",sA);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iA=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],rA=_t("chevron-right",iA);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aA=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],dv=_t("chevron-up",aA);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oA=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],j0=_t("circle-alert",oA);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lA=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],cA=_t("circle-check",lA);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uA=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],hA=_t("circle-question-mark",uA);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fA=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],dA=_t("download",fA);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pA=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],mA=_t("info",pA);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gA=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],pv=_t("loader-circle",gA);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _A=[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]],ro=_t("music",_A);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vA=[["rect",{x:"14",y:"3",width:"5",height:"18",rx:"1",key:"kaeet6"}],["rect",{x:"5",y:"3",width:"5",height:"18",rx:"1",key:"1wsw3u"}]],Jl=_t("pause",vA);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yA=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],Vr=_t("play",yA);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bA=[["path",{d:"M16.247 7.761a6 6 0 0 1 0 8.478",key:"1fwjs5"}],["path",{d:"M19.075 4.933a10 10 0 0 1 0 14.134",key:"ehdyv1"}],["path",{d:"M4.925 19.067a10 10 0 0 1 0-14.134",key:"1q22gi"}],["path",{d:"M7.753 16.239a6 6 0 0 1 0-8.478",key:"r2q7qm"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],xA=_t("radio",bA);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SA=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],wA=_t("refresh-cw",SA);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TA=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],mv=_t("settings",TA);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AA=[["path",{d:"M10 8h4",key:"1sr2af"}],["path",{d:"M12 21v-9",key:"17s77i"}],["path",{d:"M12 8V3",key:"13r4qs"}],["path",{d:"M17 16h4",key:"h1uq16"}],["path",{d:"M19 12V3",key:"o1uvq1"}],["path",{d:"M19 21v-5",key:"qua636"}],["path",{d:"M3 14h4",key:"bcjad9"}],["path",{d:"M5 10V3",key:"cb8scm"}],["path",{d:"M5 21v-7",key:"1w1uti"}]],NA=_t("sliders-vertical",AA);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kA=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]],gv=_t("square",kA);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CA=[["polyline",{points:"14.5 17.5 3 6 3 3 6 3 17.5 14.5",key:"1hfsw2"}],["line",{x1:"13",x2:"19",y1:"19",y2:"13",key:"1vrmhu"}],["line",{x1:"16",x2:"20",y1:"16",y2:"20",key:"1bron3"}],["line",{x1:"19",x2:"21",y1:"21",y2:"19",key:"13pww6"}],["polyline",{points:"14.5 6.5 18 3 21 3 21 6 17.5 9.5",key:"hbey2j"}],["line",{x1:"5",x2:"9",y1:"14",y2:"18",key:"1hf58s"}],["line",{x1:"7",x2:"4",y1:"17",y2:"20",key:"pidxm4"}],["line",{x1:"3",x2:"5",y1:"19",y2:"21",key:"1pehsh"}]],EA=_t("swords",CA);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OA=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],MA=_t("trash-2",OA);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DA=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],RA=_t("upload",DA);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jA=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]],zA=_t("volume-2",jA);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UA=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]],BA=_t("volume-x",UA);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IA=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],ed=_t("x",IA);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qA=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],VA=_t("zap",qA);var qh={exports:{}},Vh={exports:{}},Lh,z0;function LA(){if(z0)return Lh;z0=1;function c(s){return s>64&&s<91?s-65:s>96&&s<123?s-71:s>47&&s<58?s+4:s===43?62:s===47?63:0}function n(s,r){for(var o=s.replace(/[^A-Za-z0-9\+\/]/g,""),l=o.length,h=r?Math.ceil((l*3+1>>2)/r)*r:l*3+1>>2,u=new Uint8Array(h),f,p,m=0,_=0,b=0;b<l;b++)if(p=b&3,m|=c(o.charCodeAt(b))<<18-6*p,p===3||l-b===1){for(f=0;f<3&&_<h;f++,_++)u[_]=m>>>(16>>>f&24)&255;m=0}return u}return Lh={decode:n},Lh}var Fh,U0;function FA(){return U0||(U0=1,Fh=function(c,n){return new Promise(function(s,r){var o=new XMLHttpRequest;n&&(o.responseType=n),o.open("GET",c),o.onload=function(){o.status===200?s(o.response):r(Error(o.statusText))},o.onerror=function(){r(Error("Network Error"))},o.send()})}),Fh}var B0;function HA(){return B0||(B0=1,(function(c){var n=LA(),s=FA();function r(B){return function(D){return typeof D=="string"&&B.test(D)}}function o(B,D){return typeof B=="string"?B+D:typeof B=="function"?B(D):D}function l(B,D,V,Z){var ne=h(D)?u:f(D)?p:m(D)?_:b(D)?v:x(D)?y:S(D)?w:C(D)?M:O(D)?k:null,j=V||{};return ne?ne(B,D,j):Z?Promise.resolve(Z):Promise.reject("Source not valid ("+D+")")}l.fetch=s;function h(B){return B instanceof ArrayBuffer}function u(B,D,V){return new Promise(function(Z,ne){B.decodeAudioData(D,function(j){Z(j)},function(){ne("Can't decode audio data ("+D.slice(0,30)+"...)")})})}var f=r(/\.(mp3|wav|ogg)(\?.*)?$/i);function p(B,D,V){var Z=o(V.from,D);return l(B,l.fetch(Z,"arraybuffer"),V)}function m(B){return B&&typeof B.then=="function"}function _(B,D,V){return D.then(function(Z){return l(B,Z,V)})}var b=Array.isArray;function v(B,D,V){return Promise.all(D.map(function(Z){return l(B,Z,V,Z)}))}function x(B){return B&&typeof B=="object"}function y(B,D,V){var Z={},ne=Object.keys(D).map(function(j){if(V.only&&V.only.indexOf(j)===-1)return null;var X=D[j];return l(B,X,V,X).then(function(A){Z[j]=A})});return Promise.all(ne).then(function(){return Z})}var S=r(/\.json(\?.*)?$/i);function w(B,D,V){var Z=o(V.from,D);return l(B,l.fetch(Z,"text").then(JSON.parse),V)}var C=r(/^data:audio/);function M(B,D,V){var Z=D.indexOf(",");return l(B,n.decode(D.slice(Z+1)).buffer,V)}var O=r(/\.js(\?.*)?$/i);function k(B,D,V){var Z=o(V.from,D);return l(B,l.fetch(Z,"text").then(I),V)}function I(B){var D=B.indexOf("MIDI.Soundfont.");if(D<0)throw Error("Invalid MIDI.js Soundfont format");D=B.indexOf("=",D)+2;var V=B.lastIndexOf(",");return JSON.parse(B.slice(D,V)+"}")}c.exports&&(c.exports=l),typeof window<"u"&&(window.loadAudio=l)})(Vh)),Vh.exports}var Hh={exports:{}},Gh,I0;function GA(){if(I0)return Gh;I0=1,Gh=c;function c(u){var f=u.createGain(),p=f._voltage=r(u),m=o(p),_=o(p),b=o(p);return f._startAmount=o(_),f._endAmount=o(b),f._multiplier=o(m),f._multiplier.connect(f),f._startAmount.connect(f),f._endAmount.connect(f),f.value=m.gain,f.startValue=_.gain,f.endValue=b.gain,f.startValue.value=0,f.endValue.value=0,Object.defineProperties(f,n),f}var n={attack:{value:0,writable:!0},decay:{value:0,writable:!0},sustain:{value:1,writable:!0},release:{value:0,writable:!0},getReleaseDuration:{value:function(){return this.release}},start:{value:function(u){var f=this._multiplier.gain,p=this._startAmount.gain,m=this._endAmount.gain;this._voltage.start(u),this._decayFrom=this._decayFrom=u+this.attack,this._startedAt=u;var _=this.sustain;f.cancelScheduledValues(u),p.cancelScheduledValues(u),m.cancelScheduledValues(u),m.setValueAtTime(0,u),this.attack?(f.setValueAtTime(0,u),f.linearRampToValueAtTime(1,u+this.attack),p.setValueAtTime(1,u),p.linearRampToValueAtTime(0,u+this.attack)):(f.setValueAtTime(1,u),p.setValueAtTime(0,u)),this.decay&&f.setTargetAtTime(_,this._decayFrom,l(this.decay))}},stop:{value:function(u,f){f&&(u=u-this.release);var p=u+this.release;if(this.release){var m=this._multiplier.gain,_=this._startAmount.gain,b=this._endAmount.gain;m.cancelScheduledValues(u),_.cancelScheduledValues(u),b.cancelScheduledValues(u);var v=l(this.release);if(this.attack&&u<this._decayFrom){var x=h(0,1,this._startedAt,this._decayFrom,u);m.linearRampToValueAtTime(x,u),_.linearRampToValueAtTime(1-x,u),_.setTargetAtTime(0,u,v)}b.setTargetAtTime(1,u,v),m.setTargetAtTime(0,u,v)}return this._voltage.stop(p),p}},onended:{get:function(){return this._voltage.onended},set:function(u){this._voltage.onended=u}}},s=new Float32Array([1,1]);function r(u){var f=u.createBufferSource(),p=u.createBuffer(1,2,u.sampleRate);return p.getChannelData(0).set(s),f.buffer=p,f.loop=!0,f}function o(u){var f=u.context.createGain();return u.connect(f),f}function l(u){return Math.log(u+1)/Math.log(100)}function h(u,f,p,m,_){var b=f-u,v=m-p,x=_-p,y=x/v,S=u+y*b;return S<=u&&(S=u),S>=f&&(S=f),S}return Gh}var Ph,q0;function PA(){if(q0)return Ph;q0=1;var c=GA(),n={},s={gain:1,attack:.01,decay:.1,sustain:.9,release:.3,loop:!1,cents:0,loopStart:0,loopEnd:0};function r(f,p,m){var _=!1,b=0,v={},x=f.createGain();x.gain.value=1;var y=Object.assign({},s,m),S={context:f,out:x,opts:y};return p instanceof AudioBuffer?S.buffer=p:S.buffers=p,S.start=function(M,O,k){if(S.buffer&&M!==null)return S.start(null,M,O);var I=M?S.buffers[M]:S.buffer;if(I){if(!_){console.warn("SamplePlayer not connected to any node.");return}}else{console.warn("Buffer "+M+" not found.");return}var B=k||n;O=Math.max(f.currentTime,O||0),S.emit("start",O,M,B);var D=C(M,I,B);return D.id=w(M,D),D.env.start(O),D.source.start(O),S.emit("started",O,D.id,D),B.duration&&D.stop(O+B.duration),D},S.play=function(M,O,k){return S.start(M,O,k)},S.stop=function(M,O){var k;return O=O||Object.keys(v),O.map(function(I){return k=v[I],k?(k.stop(M),k.id):null})},S.connect=function(M){return _=!0,x.connect(M),S},S.emit=function(M,O,k,I){S.onevent&&S.onevent(M,O,k,I);var B=S["on"+M];B&&B(O,k,I)},S;function w(M,O){return O.id=b++,v[O.id]=O,O.source.onended=function(){var k=f.currentTime;O.source.disconnect(),O.env.disconnect(),O.disconnect(),S.emit("ended",k,O.id,O)},O.id}function C(M,O,k){var I=f.createGain();return I.gain.value=0,I.connect(x),I.env=h(f,k,y),I.env.connect(I.gain),I.source=f.createBufferSource(),I.source.buffer=O,I.source.connect(I),I.source.loop=k.loop||y.loop,I.source.playbackRate.value=u(k.cents||y.cents),I.source.loopStart=k.loopStart||y.loopStart,I.source.loopEnd=k.loopEnd||y.loopEnd,I.stop=function(B){var D=B||f.currentTime;S.emit("stop",D,M);var V=I.env.stop(D);I.source.stop(V)},I}}function o(f){return typeof f=="number"}var l=["attack","decay","sustain","release"];function h(f,p,m){var _=c(f),b=p.adsr||m.adsr;return l.forEach(function(v,x){b?_[v]=b[x]:_[v]=p[v]||m[v]}),_.value.value=o(p.gain)?p.gain:o(m.gain)?m.gain:1,_}function u(f){return f?Math.pow(2,f/1200):1}return Ph=r,Ph}var Zh,V0;function ZA(){if(V0)return Zh;V0=1,Zh=function(n){return n.on=function(s,r){if(arguments.length===1&&typeof s=="function")return n.on("event",s);var o="on"+s,l=n[o];return n[o]=l?c(l,r):r,n},n};function c(n,s){return function(r,o,l,h){n(r,o,l,h),s(r,o,l,h)}}return Zh}var Yh,L0;function YA(){if(L0)return Yh;L0=1;var c=/^([a-gA-G])(#{1,}|b{1,}|x{1,}|)(-?\d*)\s*(.*)\s*$/;function n(){return c}var s=[0,2,4,5,7,9,11];function r(u,f,p){if(typeof u!="string")return null;var m=c.exec(u);if(!m||!f&&m[4])return null;var _={letter:m[1].toUpperCase(),acc:m[2].replace(/x/g,"##")};return _.pc=_.letter+_.acc,_.step=(_.letter.charCodeAt(0)+3)%7,_.alt=_.acc[0]==="b"?-_.acc.length:_.acc.length,_.chroma=s[_.step]+_.alt,m[3]&&(_.oct=+m[3],_.midi=_.chroma+12*(_.oct+1),_.freq=o(_.midi,p)),f&&(_.tonicOf=m[4]),_}function o(u,f){return Math.pow(2,(u-69)/12)*(f||440)}var l={parse:r,regex:n,midiToFreq:o},h=["letter","acc","pc","step","alt","chroma","oct","midi","freq"];return h.forEach(function(u){l[u]=function(f){var p=r(f);return p&&typeof p[u]<"u"?p[u]:null}}),Yh=l,Yh}var Xh,F0;function XA(){if(F0)return Xh;F0=1;var c=YA(),n=function(o){return o!==null&&o!==[]&&o>=0&&o<129},s=function(o){return n(o)?+o:c.midi(o)};Xh=function(o){if(o.buffers){var l=o.opts.map,h=typeof l=="function"?l:s,u=function(p){return p?h(p)||p:null};o.buffers=r(o.buffers,u);var f=o.start;o.start=function(p,m,_){var b=u(p),v=b%1;return v&&(b=Math.floor(b),_=Object.assign(_||{},{cents:Math.floor(v*100)})),f(b,m,_)}}return o};function r(o,l){return Object.keys(o).reduce(function(h,u){return h[l(u)]=o[u],h},{})}return Xh}var Wh,H0;function WA(){if(H0)return Wh;H0=1;var c=Array.isArray,n=function(r){return r&&typeof r=="object"},s={};return Wh=function(r){return r.schedule=function(o,l){var h=r.context.currentTime,u=o<h?h:o;r.emit("schedule",u,l);var f,p,m,_;return l.map(function(b){if(b)c(b)?(f=b[0],p=b[1]):(f=b.time,p=b);else return null;return n(p)?(m=p.name||p.key||p.note||p.midi||null,_=p):(m=p,_=s),r.start(m,u+(f||0),_)})},r},Wh}var Qh={exports:{}},G0;function QA(){return G0||(G0=1,(function(c,n){(function(s){c.exports=s()})(function(){return(function s(r,o,l){function h(p,m){if(!o[p]){if(!r[p]){var _=typeof gi=="function"&&gi;if(!m&&_)return _(p,!0);if(u)return u(p,!0);var b=new Error("Cannot find module '"+p+"'");throw b.code="MODULE_NOT_FOUND",b}var v=o[p]={exports:{}};r[p][0].call(v.exports,function(x){var y=r[p][1][x];return h(y||x)},v,v.exports,s,r,o,l)}return o[p].exports}for(var u=typeof gi=="function"&&gi,f=0;f<l.length;f++)h(l[f]);return h})({1:[function(s,r,o){Object.defineProperty(o,"__esModule",{value:!0}),o.default=function(l){function h(u){if(this._event=u,this._data=u.data,this.receivedTime=u.receivedTime,this._data&&this._data.length<2){console.warn("Illegal MIDI message of length",this._data.length);return}switch(this._messageCode=u.data[0]&240,this.channel=u.data[0]&15,this._messageCode){case 128:this.messageType="noteoff",this.key=u.data[1]&127,this.velocity=u.data[2]&127;break;case 144:this.messageType="noteon",this.key=u.data[1]&127,this.velocity=u.data[2]&127;break;case 160:this.messageType="keypressure",this.key=u.data[1]&127,this.pressure=u.data[2]&127;break;case 176:this.messageType="controlchange",this.controllerNumber=u.data[1]&127,this.controllerValue=u.data[2]&127,this.controllerNumber===120&&this.controllerValue===0?this.channelModeMessage="allsoundoff":this.controllerNumber===121?this.channelModeMessage="resetallcontrollers":this.controllerNumber===122?this.controllerValue===0?this.channelModeMessage="localcontroloff":this.channelModeMessage="localcontrolon":this.controllerNumber===123&&this.controllerValue===0?this.channelModeMessage="allnotesoff":this.controllerNumber===124&&this.controllerValue===0?this.channelModeMessage="omnimodeoff":this.controllerNumber===125&&this.controllerValue===0?this.channelModeMessage="omnimodeon":this.controllerNumber===126?this.channelModeMessage="monomodeon":this.controllerNumber===127&&(this.channelModeMessage="polymodeon");break;case 192:this.messageType="programchange",this.program=u.data[1];break;case 208:this.messageType="channelpressure",this.pressure=u.data[1]&127;break;case 224:this.messageType="pitchbendchange";var f=u.data[2]&127,p=u.data[1]&127;this.pitchBend=(f<<8)+p;break}}return new h(l)},r.exports=o.default},{}]},{},[1])(1)})})(Qh)),Qh.exports}var Kh,P0;function KA(){if(P0)return Kh;P0=1;var c=QA();return Kh=function(n){return n.listenToMidi=function(s,r){var o={},l=r||{},h=l.gain||function(u){return u/127};return s.onmidimessage=function(u){var f=u.messageType?u:c(u);if(f.messageType==="noteon"&&f.velocity===0&&(f.messageType="noteoff"),!(l.channel&&f.channel!==l.channel))switch(f.messageType){case"noteon":o[f.key]=n.play(f.key,0,{gain:h(f.velocity)});break;case"noteoff":o[f.key]&&(o[f.key].stop(),delete o[f.key]);break}},n},n},Kh}var Z0;function JA(){return Z0||(Z0=1,(function(c){var n=PA(),s=ZA(),r=XA(),o=WA(),l=KA();function h(u,f,p){return l(o(r(s(n(u,f,p)))))}c.exports&&(c.exports=h),typeof window<"u"&&(window.SamplePlayer=h)})(Hh)),Hh.exports}function Y0(c,n){return Array(n+1).join(c)}function td(c){return typeof c=="number"}function $A(c){return typeof c=="string"}function eN(c){return typeof c<"u"}function _v(c,n){return Math.pow(2,(c-69)/12)*(n||440)}var vv=/^([a-gA-G])(#{1,}|b{1,}|x{1,}|)(-?\d*)\s*(.*)\s*$/;function tN(){return vv}var nN=[0,2,4,5,7,9,11];function Ps(c,n,s){if(typeof c!="string")return null;var r=vv.exec(c);if(!r||!n&&r[4])return null;var o={letter:r[1].toUpperCase(),acc:r[2].replace(/x/g,"##")};o.pc=o.letter+o.acc,o.step=(o.letter.charCodeAt(0)+3)%7,o.alt=o.acc[0]==="b"?-o.acc.length:o.acc.length;var l=nN[o.step]+o.alt;return o.chroma=l<0?12+l:l%12,r[3]&&(o.oct=+r[3],o.midi=l+12*(o.oct+1),o.freq=_v(o.midi,s)),n&&(o.tonicOf=r[4]),o}var sN="CDEFGAB";function iN(c){return td(c)?c<0?Y0("b",-c):Y0("#",c):""}function rN(c){return td(c)?""+c:""}function yv(c,n,s){return c===null||typeof c>"u"?null:c.step?yv(c.step,c.alt,c.oct):c<0||c>6?null:sN.charAt(c)+iN(n)+rN(s)}function bv(c){if((td(c)||$A(c))&&c>=0&&c<128)return+c;var n=Ps(c);return n&&eN(n.midi)?n.midi:null}function aN(c,n){var s=bv(c);return s===null?null:_v(s,n)}function oN(c){return(Ps(c)||{}).letter}function lN(c){return(Ps(c)||{}).acc}function cN(c){return(Ps(c)||{}).pc}function uN(c){return(Ps(c)||{}).step}function hN(c){return(Ps(c)||{}).alt}function fN(c){return(Ps(c)||{}).chroma}function dN(c){return(Ps(c)||{}).oct}const pN=Object.freeze(Object.defineProperty({__proto__:null,acc:lN,alt:hN,build:yv,chroma:fN,freq:aN,letter:oN,midi:bv,oct:dN,parse:Ps,pc:cN,regex:tN,step:uN},Symbol.toStringTag,{value:"Module"})),mN=$0(pN);var Jh,X0;function gN(){if(X0)return Jh;X0=1;var c=mN;function n(o,l){if(console.warn("new Soundfont() is deprected"),console.log("Please use Soundfont.instrument() instead of new Soundfont().instrument()"),!(this instanceof n))return new n(o);this.nameToUrl=l||n.nameToUrl,this.ctx=o,this.instruments={},this.promises=[]}n.prototype.onready=function(o){console.warn("deprecated API"),console.log("Please use Promise.all(Soundfont.instrument(), Soundfont.instrument()).then() instead of new Soundfont().onready()"),Promise.all(this.promises).then(o)},n.prototype.instrument=function(o,l){console.warn("new Soundfont().instrument() is deprecated."),console.log("Please use Soundfont.instrument() instead.");var h=this.ctx;if(o=o||"default",o in this.instruments)return this.instruments[o];var u={name:o,play:r(h,l)};if(this.instruments[o]=u,o!=="default"){var f=n.instrument(h,o,l).then(function(p){return u.play=p.play,u});this.promises.push(f),u.onready=function(p){console.warn("onready is deprecated. Use Soundfont.instrument().then()"),f.then(p)}}else u.onready=function(p){console.warn("onready is deprecated. Use Soundfont.instrument().then()"),p()};return u};function s(o,l,h){return console.warn("Soundfont.loadBuffers is deprecate."),console.log("Use Soundfont.instrument(..) and get buffers properties from the result."),n.instrument(o,l,h).then(function(u){return u.buffers})}n.loadBuffers=s;function r(o,l){return l=l||{},function(h,u,f,p){console.warn("The oscillator player is deprecated."),console.log("Starting with version 0.9.0 you will have to wait until the soundfont is loaded to play sounds.");var m=h>0&&h<129?+h:c.midi(h),_=m?c.midiToFreq(m,440):null;if(_){f=f||.2,p=p||{};var b=p.destination||l.destination||o.destination,v=p.vcoType||l.vcoType||"sine",x=p.gain||l.gain||.4,y=o.createOscillator();y.type=v,y.frequency.value=_;var S=o.createGain();return S.gain.value=x,y.connect(S),S.connect(b),y.start(u),f>0&&y.stop(u+f),y}}}return n.noteToMidi=c.midi,Jh=n,Jh}var W0;function _N(){return W0||(W0=1,(function(c){var n=HA(),s=JA();function r(u,f,p){if(arguments.length===1)return function(x,y){return r(u,x,y)};var m=p||{},_=m.isSoundfontURL||o,b=m.nameToUrl||l,v=_(f)?f:b(f,m.soundfont,m.format);return n(u,v,{only:m.only||m.notes}).then(function(x){var y=s(u,x,m).connect(m.destination?m.destination:u.destination);return y.url=v,y.name=f,y})}function o(u){return/\.js(\?.*)?$/i.test(u)}function l(u,f,p){return p=p==="ogg"?p:"mp3",f=f==="FluidR3_GM"?f:"MusyngKite","https://gleitz.github.io/midi-js-soundfonts/"+f+"/"+u+"-"+p+".js"}var h=gN();h.instrument=r,h.nameToUrl=l,c.exports&&(c.exports=h),typeof window<"u"&&(window.Soundfont=h)})(qh)),qh.exports}var vN=_N();const yN=ec(vN),bN=[{key:"Space",description:"Play / Pause"},{key:"Shift + Wheel",description:"Piano Roll Horizontal Scroll"},{key:"Ctrl + Wheel",description:"Piano Roll Horizontal Zoom"},{key:"Alt + Wheel",description:"Piano Roll Vertical Zoom"}],xN=()=>{const[c,n]=_e.useState(!1),s=_e.useRef(null);return _e.useEffect(()=>{const r=o=>{s.current&&!s.current.contains(o.target)&&n(!1)};return c&&document.addEventListener("mousedown",r),()=>{document.removeEventListener("mousedown",r)}},[c]),E.jsxs("div",{className:"relative",ref:s,children:[E.jsx("button",{onClick:()=>n(!c),className:`p-2 rounded-full transition-colors ${c?"bg-surface text-primary":"text-muted hover:text-text hover:bg-surface"}`,title:"Keyboard Shortcuts",children:E.jsx(hA,{className:"w-5 h-5"})}),c&&E.jsx("div",{className:"absolute right-0 top-full mt-2 w-80 bg-surface border border-border rounded-xl shadow-xl z-50 animate-in fade-in zoom-in-95 duration-200",children:E.jsxs("div",{className:"p-4",children:[E.jsx("h3",{className:"font-semibold mb-3 text-lg",children:"Keyboard Shortcuts"}),E.jsx("div",{className:"space-y-3",children:bN.map((r,o)=>E.jsxs("div",{className:"flex justify-between items-center text-sm",children:[E.jsx("span",{className:"font-mono bg-background px-2 py-1 rounded border border-border text-xs text-primary",children:r.key}),E.jsx("span",{className:"text-muted",children:r.description})]},o))})]})})]})},SN=()=>E.jsx("header",{className:"glass-header mb-8",children:E.jsxs("div",{className:"container mx-auto px-4 h-16 flex items-center justify-between",children:[E.jsxs("div",{className:"flex items-center gap-3",children:[E.jsx("div",{className:"p-2 bg-primary/10 rounded-lg",children:E.jsx(ro,{className:"w-6 h-6 text-primary"})}),E.jsxs("h1",{className:"text-xl font-bold bg-gradient-to-r from-primary to-accent bg-clip-text text-transparent",children:["ConcertAI HUB ",E.jsx("span",{className:"text-sm font-medium text-muted ml-2",children:"ver.4.0.6"})]})]}),E.jsx("div",{className:"flex items-center gap-4",children:E.jsx(xN,{})})]})}),wN=({onMidiUpload:c})=>{const n=async l=>{if(l)try{const h=await l.arrayBuffer(),u=new Xt.Midi(h);c(u)}catch(h){console.error("Error parsing MIDI:",h)}},s=l=>{n(l.target.files[0])},r=l=>{l.preventDefault(),l.stopPropagation();const h=l.dataTransfer.files[0];h&&(h.name.endsWith(".mid")||h.name.endsWith(".midi"))&&n(h)},o=l=>{l.preventDefault(),l.stopPropagation()};return E.jsx("div",{className:"p-10 border-2 border-dashed border-border rounded-xl bg-surface/30 hover:bg-surface/50 transition-colors group cursor-pointer h-full flex flex-col items-center justify-center",onDrop:r,onDragOver:o,children:E.jsxs("div",{className:"flex flex-col items-center justify-center gap-6 text-center max-w-md",children:[E.jsx("div",{className:"p-4 bg-primary/10 rounded-full group-hover:scale-110 transition-transform duration-300",children:E.jsx(RA,{className:"w-10 h-10 text-primary"})}),E.jsxs("div",{children:[E.jsx("h3",{className:"text-2xl font-semibold mb-2",children:"Upload MIDI File"}),E.jsx("p",{className:"text-base text-muted",children:"Drag and drop or click to browse"})]}),E.jsxs("div",{className:"flex items-center gap-4 w-full",children:[E.jsxs("label",{className:"flex-1",children:[E.jsx("input",{type:"file",hidden:!0,accept:".mid,.midi",onChange:s}),E.jsxs("div",{className:"btn-primary w-full cursor-pointer flex items-center justify-center gap-2 py-3",children:[E.jsx(ro,{className:"w-5 h-5"}),E.jsx("span",{children:"Select File"})]})]}),E.jsx("span",{className:"text-sm text-muted font-medium",children:"OR"}),E.jsx("button",{className:"btn-secondary flex-1 py-3",children:"Sample"})]})]})})},TN=({selectedModel:c,setSelectedModel:n,modelInfo:s,debugMode:r})=>{const[o,l]=_e.useState(!1),h=_e.useMemo(()=>s?Object.values(s):[],[s]);_e.useEffect(()=>{h.length>0&&!c&&n(h[0].model_name)},[h,n]);const u=p=>{n(p),l(!1)},f=_e.useMemo(()=>h.find(p=>p.model_name===c),[h,c]);return E.jsxs("div",{className:"w-full",children:[r&&E.jsxs("div",{className:"border border-dashed border-red-500 p-2 mb-2 text-xs font-mono whitespace-pre-wrap break-all",children:[E.jsx("div",{className:"font-bold",children:"DEBUG INFO"}),`modelInfo prop: ${JSON.stringify(s)}
`,`models array (internal): ${JSON.stringify(h.map(p=>p.model_name))}
`,`selectedModel prop: ${c}
`,`selectedModelObject (internal): ${f?f.model_name:"undefined"}`]}),f?E.jsxs("div",{children:[E.jsx("div",{className:"text-xs font-medium text-muted uppercase tracking-wider mb-1.5",children:"Model"}),E.jsxs("button",{onClick:()=>l(!0),className:"w-full p-4 text-left bg-surface border border-border rounded-lg hover:bg-surface/80 transition-colors group relative",children:[E.jsx("div",{className:"font-bold text-lg group-hover:text-primary transition-colors",children:f.model_name}),E.jsx("div",{className:"text-sm text-muted mt-1",children:f.description}),E.jsxs("div",{className:"text-xs text-muted mt-2 pt-2 border-t border-border/50",children:["Instruments: ",Array.isArray(f?.tag?.instruments)?f.tag.instruments.join(", "):f?.tag?.instruments]}),E.jsx(rA,{className:"absolute right-4 top-1/2 -translate-y-1/2 w-5 h-5 text-muted group-hover:text-primary transition-colors"})]})]}):E.jsx("div",{className:"text-muted animate-pulse",children:"Loading models..."}),o&&E.jsxs("div",{className:"fixed inset-0 z-[100] flex justify-end",children:[E.jsx("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-sm animate-in fade-in duration-200",onClick:()=>l(!1)}),E.jsxs("div",{className:"relative w-full max-w-md bg-background border-l border-border shadow-2xl h-full overflow-y-auto animate-in slide-in-from-right duration-300",children:[E.jsxs("div",{className:"sticky top-0 bg-background/95 backdrop-blur border-b border-border p-4 flex items-center justify-between z-10",children:[E.jsx("h2",{className:"text-xl font-bold",children:"Select a Model"}),E.jsx("button",{onClick:()=>l(!1),className:"p-2 hover:bg-surface rounded-full transition-colors",children:E.jsx(ed,{className:"w-5 h-5"})})]}),E.jsx("div",{className:"p-4 space-y-3",children:h.map(p=>E.jsxs("button",{onClick:()=>u(p.model_name),className:`w-full p-4 text-left border rounded-lg transition-all duration-200 ${c===p.model_name?"bg-primary/10 border-primary ring-1 ring-primary":"bg-surface border-border hover:border-primary/50 hover:bg-surface/80"}`,children:[E.jsx("div",{className:`font-bold ${c===p.model_name?"text-primary":"text-text"}`,children:p.model_name}),E.jsx("div",{className:"text-sm text-muted mt-1",children:p.description}),E.jsxs("div",{className:"text-xs text-muted mt-2",children:["Instruments: ",Array.isArray(p?.tag?.instruments)?p.tag.instruments.join(", "):p?.tag?.instruments]})]},p.model_name))})]})]})]})},Q0=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"],K0=["M","m"],xv=({open:c,onClose:n,onSave:s,currentKey:r})=>{const[o,l]=_e.useState("C"),[h,u]=_e.useState("M");_e.useEffect(()=>{if(c&&r){const[m,_]=r.split(" ");Q0.includes(m)&&l(m),K0.includes(_)&&u(_)}},[c,r]);const f=()=>{s(`${o} ${h}`),n()};if(!c)return null;const p=({items:m,selected:_,onChange:b})=>E.jsx("div",{className:"flex flex-wrap justify-center gap-2 mb-4",children:m.map(v=>E.jsx("button",{onClick:()=>b(v),className:`px-3 py-1.5 rounded-md text-sm font-medium transition-all duration-200 ${_===v?"bg-primary text-white shadow-lg shadow-primary/25":"bg-surface border border-border text-text hover:bg-surface/80 hover:border-primary/50"}`,children:v},v))});return E.jsxs("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4",children:[E.jsx("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-sm animate-in fade-in duration-200",onClick:n}),E.jsxs("div",{className:"relative w-full max-w-md bg-background border border-border rounded-xl shadow-2xl overflow-hidden animate-in zoom-in-95 duration-200 flex flex-col",children:[E.jsxs("div",{className:"p-4 border-b border-border flex items-center justify-between bg-surface/30",children:[E.jsx("h2",{className:"text-xl font-bold",children:"Select Key"}),E.jsx("button",{onClick:n,className:"p-2 hover:bg-surface rounded-full transition-colors",children:E.jsx(ed,{className:"w-5 h-5"})})]}),E.jsxs("div",{className:"p-6",children:[E.jsx("div",{className:"mb-6 p-4 bg-surface border border-border rounded-lg text-center",children:E.jsxs("div",{className:"text-4xl font-bold text-primary",children:[o," ",h]})}),E.jsxs("div",{className:"space-y-6",children:[E.jsxs("div",{children:[E.jsx("h3",{className:"text-sm font-medium text-muted uppercase tracking-wider mb-3 text-center",children:"Root"}),E.jsx(p,{items:Q0,selected:o,onChange:l})]}),E.jsxs("div",{children:[E.jsx("h3",{className:"text-sm font-medium text-muted uppercase tracking-wider mb-3 text-center",children:"Scale"}),E.jsx(p,{items:K0,selected:h,onChange:u})]})]})]}),E.jsxs("div",{className:"p-4 border-t border-border bg-surface/30 flex justify-end gap-3",children:[E.jsx("button",{onClick:n,className:"btn-secondary",children:"Cancel"}),E.jsx("button",{onClick:f,className:"btn-primary",children:"Save Key"})]})]})]})},AN=({instrument:c,setInstrument:n,tempo:s,setTempo:r,selectedModel:o,setSelectedModel:l,modelInfo:h,debugMode:u,keySelection:f,setKey:p,selectedInstruments:m,setSelectedInstruments:_,densities:b,setDensities:v})=>{const[x,y]=_e.useState(!0),[S,w]=_e.useState(!1),C=h?h.find(D=>D.model_name===o):null,M=C?.tag?.instruments?Array.isArray(C.tag.instruments)?C.tag.instruments:[C.tag.instruments]:[],O=C?.rule?.gen_note_dense===!0;_e.useEffect(()=>{M.length>0?_([M[0]]):_([])},[o,h]),_e.useEffect(()=>{if(O){const D={...b};let V=!1;m.forEach(Z=>{D[Z]===void 0&&(D[Z]=4,V=!0)}),V&&v(D)}},[m,O]);const k=D=>{m.includes(D)?_(m.filter(V=>V!==D)):_([...m,D])},I=(D,V)=>{v(Z=>({...Z,[D]:parseInt(V)}))},B=D=>{const V=D.target.value;(V===""||Number.isInteger(Number(V))&&V>=0)&&r(V)};return E.jsxs("div",{className:"border border-border rounded-xl overflow-hidden bg-surface/30",children:[E.jsxs("button",{onClick:()=>y(!x),className:"w-full px-4 py-3 flex items-center justify-between bg-surface/50 hover:bg-surface transition-colors",children:[E.jsxs("div",{className:"flex items-center gap-2 font-medium",children:[E.jsx(mv,{className:"w-4 h-4 text-primary"}),E.jsx("span",{children:"Basic Settings"})]}),x?E.jsx(dv,{className:"w-4 h-4 text-muted"}):E.jsx($f,{className:"w-4 h-4 text-muted"})]}),x&&E.jsxs("div",{className:"p-4 space-y-4 border-t border-border",children:[E.jsx(TN,{selectedModel:o,setSelectedModel:l,modelInfo:h,debugMode:u}),E.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[E.jsxs("div",{className:"space-y-1.5",children:[E.jsx("label",{className:"text-sm font-medium text-muted",children:"Tempo (BPM)"}),E.jsx("input",{type:"number",value:s,onChange:B,min:"0",className:"input-field"})]}),E.jsxs("div",{className:"space-y-1.5",children:[E.jsx("label",{className:"text-sm font-medium text-muted",children:"Key"}),E.jsxs("button",{onClick:()=>w(!0),className:"w-full p-2.5 bg-surface border border-border rounded-lg text-left hover:bg-surface/80 transition-colors flex items-center justify-between",children:[E.jsx("span",{className:"font-medium",children:f}),E.jsx(ro,{className:"w-4 h-4 text-muted"})]})]})]}),M.length>0&&E.jsxs("div",{className:"space-y-2",children:[E.jsx("label",{className:"text-sm font-medium text-muted",children:"Generate Instruments"}),E.jsx("div",{className:"flex flex-wrap gap-2",children:M.map(D=>E.jsx("button",{onClick:()=>k(D),className:`px-3 py-1.5 rounded-md text-sm font-medium transition-all duration-200 ${m.includes(D)?"bg-primary text-white shadow-lg shadow-primary/25":"bg-surface border border-border text-text hover:bg-surface/80 hover:border-primary/50"}`,children:D},D))})]}),O&&m.length>0&&E.jsxs("div",{className:"space-y-3 pt-2 border-t border-border",children:[E.jsx("label",{className:"text-sm font-medium text-muted",children:"Note Density (1-8)"}),E.jsx("div",{className:"space-y-2",children:m.map(D=>E.jsxs("div",{className:"space-y-1",children:[E.jsxs("div",{className:"flex justify-between items-center text-xs",children:[E.jsx("span",{className:"font-mono text-primary",children:D}),E.jsx("span",{className:"font-mono text-muted",children:b[D]||4})]}),E.jsx("input",{type:"range",min:"1",max:"8",step:"1",value:b[D]||4,onChange:V=>I(D,V.target.value),className:"w-full h-1.5 bg-surface rounded-lg appearance-none cursor-pointer accent-primary"})]},D))})]})]}),E.jsx(xv,{open:S,onClose:()=>w(!1),onSave:p,currentKey:f})]})},nd=({temperature:c,setTemperature:n,p:s,setP:r,numGems:o,setNumGems:l,rules:h})=>{const[u,f]=_e.useState(!1);return E.jsxs("div",{className:"border border-border rounded-xl overflow-hidden bg-surface/30",children:[E.jsxs("button",{onClick:()=>f(!u),className:"w-full px-4 py-3 flex items-center justify-between bg-surface/50 hover:bg-surface transition-colors",children:[E.jsxs("div",{className:"flex items-center gap-2 font-medium",children:[E.jsx(NA,{className:"w-4 h-4 text-primary"}),E.jsx("span",{children:"Advanced Settings"})]}),u?E.jsx(dv,{className:"w-4 h-4 text-muted"}):E.jsx($f,{className:"w-4 h-4 text-muted"})]}),u&&E.jsxs("div",{className:"p-4 space-y-6 border-t border-border",children:[(!h||h.temperature!==!1)&&E.jsxs("div",{className:"space-y-3",children:[E.jsxs("div",{className:"flex justify-between items-center",children:[E.jsx("label",{className:"text-sm font-medium text-muted",children:"Temperature"}),E.jsx("span",{className:"text-xs font-mono bg-surface px-2 py-1 rounded border border-border",children:c})]}),E.jsx("input",{type:"range",min:"0.1",max:"1.5",step:"0.05",value:c,onChange:p=>n(parseFloat(p.target.value)),className:"w-full h-2 bg-surface rounded-lg appearance-none cursor-pointer accent-primary"})]}),(!h||h.top_p!==!1)&&E.jsxs("div",{className:"space-y-3",children:[E.jsxs("div",{className:"flex justify-between items-center",children:[E.jsx("label",{className:"text-sm font-medium text-muted",children:"Top-p"}),E.jsx("span",{className:"text-xs font-mono bg-surface px-2 py-1 rounded border border-border",children:s})]}),E.jsx("input",{type:"range",min:"0.8",max:"1.0",step:"0.01",value:s,onChange:p=>r(parseFloat(p.target.value)),className:"w-full h-2 bg-surface rounded-lg appearance-none cursor-pointer accent-primary"})]}),(!h||h.number_of_generation!==!1)&&E.jsxs("div",{className:"space-y-3",children:[E.jsxs("div",{className:"flex justify-between items-center",children:[E.jsx("label",{className:"text-sm font-medium text-muted",children:"Number of Gems"}),E.jsx("span",{className:"text-xs font-mono bg-surface px-2 py-1 rounded border border-border",children:o})]}),E.jsx("input",{type:"range",min:"1",max:"8",step:"1",value:o,onChange:p=>l(parseInt(p.target.value)),className:"w-full h-2 bg-surface rounded-lg appearance-none cursor-pointer accent-primary"})]})]})]})},NN=({onPlay:c,onPause:n,onStop:s,onGenerate:r,isGenerating:o,playbackState:l,progress:h,duration:u,generatedMidis:f,selectedGeneratedMidi:p,onSelectedGeneratedMidiChange:m})=>E.jsxs("div",{className:"space-y-6",children:[E.jsxs("div",{className:"flex items-center gap-4 flex-wrap",children:[E.jsxs("div",{className:"flex items-center gap-2 bg-surface border border-border rounded-lg p-1",children:[E.jsx("button",{onClick:c,disabled:l==="playing",className:`p-2 rounded-md transition-colors ${l==="playing"?"text-primary bg-primary/10":"text-text hover:bg-white/5 disabled:opacity-50 disabled:cursor-not-allowed"}`,title:"Play",children:E.jsx(Vr,{className:"w-5 h-5 fill-current"})}),E.jsx("button",{onClick:n,disabled:l!=="playing",className:`p-2 rounded-md transition-colors ${l==="paused"?"text-primary bg-primary/10":"text-text hover:bg-white/5 disabled:opacity-50 disabled:cursor-not-allowed"}`,title:"Pause",children:E.jsx(Jl,{className:"w-5 h-5 fill-current"})}),E.jsx("button",{onClick:s,disabled:l==="stopped",className:"p-2 rounded-md transition-colors text-text hover:bg-white/5 disabled:opacity-50 disabled:cursor-not-allowed",title:"Stop",children:E.jsx(gv,{className:"w-5 h-5 fill-current"})})]}),E.jsx("button",{onClick:r,disabled:o,className:"btn-primary flex items-center gap-2 min-w-[120px] justify-center",children:o?E.jsx(pv,{className:"w-5 h-5 animate-spin"}):"Generate"}),f.length>1&&E.jsxs("div",{className:"relative min-w-[160px]",children:[E.jsx("select",{value:p,onChange:_=>m(Number(_.target.value)),className:"input-field appearance-none cursor-pointer",children:f.map((_,b)=>E.jsxs("option",{value:b,children:["Variation ",b+1]},b))}),E.jsx($f,{className:"absolute right-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted pointer-events-none"})]})]}),E.jsxs("div",{className:"space-y-2",children:[E.jsxs("div",{className:"flex justify-between text-xs text-muted font-medium uppercase tracking-wider",children:[E.jsx("span",{children:"Playback Progress"}),E.jsxs("span",{children:[Math.floor(h*100),"%"]})]}),E.jsx("div",{className:"relative h-2 bg-surface border border-border rounded-full overflow-hidden",children:E.jsx("div",{className:"absolute top-0 left-0 h-full bg-primary transition-all duration-100 ease-linear",style:{width:`${h*100}%`}})})]})]}),kN=["C","C#","D","D#","E","E#","F","F#","G","G#","A","A#","B","Cb","Db","Eb","Fb","Gb","Ab","Bb"],CN=["/C","/C#","/D","/D#","/E","/E#","/F","/F#","/G","/G#","/A","/A#","/B","/B#","/Db","/Eb","/Fb","/Gb","/Ab","/Bb","/Cb","None"],EN=["None","m","7","maj7","m7","dim","aug","m7b5","b5","sus2","sus4","6","m6","9","maj9","m9","11","13","add9"],ON=({open:c,onClose:n,onSave:s,chord:r})=>{const[o,l]=_e.useState("C"),[h,u]=_e.useState("None"),[f,p]=_e.useState("None");_e.useEffect(()=>{c&&(l(r?.root||"C"),u(r?.quality||"None"),p(r?.base||"None"))},[c,r]);const m=()=>{s({root:o,quality:h,base:f}),n()},_=()=>`${o}${h==="None"?"":h}${f==="None"?"":f}`;if(!c)return null;const b=({items:v,selected:x,onChange:y})=>E.jsx("div",{className:"flex flex-wrap justify-center gap-2 mb-4",children:v.map(S=>E.jsx("button",{onClick:()=>y(S),className:`px-3 py-1.5 rounded-md text-sm font-medium transition-all duration-200 ${x===S?"bg-primary text-white shadow-lg shadow-primary/25":"bg-surface border border-border text-text hover:bg-surface/80 hover:border-primary/50"}`,children:S},S))});return E.jsxs("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4",children:[E.jsx("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-sm animate-in fade-in duration-200",onClick:n}),E.jsxs("div",{className:"relative w-full max-w-2xl bg-background border border-border rounded-xl shadow-2xl overflow-hidden animate-in zoom-in-95 duration-200 max-h-[90vh] flex flex-col",children:[E.jsxs("div",{className:"p-4 border-b border-border flex items-center justify-between bg-surface/30",children:[E.jsx("h2",{className:"text-xl font-bold",children:"Select Chord"}),E.jsx("button",{onClick:n,className:"p-2 hover:bg-surface rounded-full transition-colors",children:E.jsx(ed,{className:"w-5 h-5"})})]}),E.jsxs("div",{className:"p-6 overflow-y-auto",children:[E.jsx("div",{className:"mb-6 p-4 bg-surface border border-border rounded-lg text-center",children:E.jsx("div",{className:"text-4xl font-bold text-primary",children:_()})}),E.jsxs("div",{className:"space-y-6",children:[E.jsxs("div",{children:[E.jsx("h3",{className:"text-sm font-medium text-muted uppercase tracking-wider mb-3 text-center",children:"Roots"}),E.jsx(b,{items:kN,selected:o,onChange:l})]}),E.jsxs("div",{children:[E.jsx("h3",{className:"text-sm font-medium text-muted uppercase tracking-wider mb-3 text-center",children:"Qualities"}),E.jsx(b,{items:EN,selected:h,onChange:u})]}),E.jsxs("div",{children:[E.jsx("h3",{className:"text-sm font-medium text-muted uppercase tracking-wider mb-3 text-center",children:"Bases"}),E.jsx(b,{items:CN,selected:f,onChange:p})]})]})]}),E.jsxs("div",{className:"p-4 border-t border-border bg-surface/30 flex justify-end gap-3",children:[E.jsx("button",{onClick:n,className:"btn-secondary",children:"Cancel"}),E.jsx("button",{onClick:m,className:"btn-primary",children:"Save Chord"})]})]})]})},MN=50,DN=({totalMeasures:c,pixelsPerMeasure:n,onChordsChange:s})=>{const[r,o]=_e.useState({}),[l,h]=_e.useState(!1),[u,f]=_e.useState(null),p=(v,x)=>{f(`${v}-${x}`),h(!0)},m=()=>{h(!1),f(null)},_=v=>{const x={...r,[u]:v};o(x),s&&s(x)},b=v=>{if(!v)return"";const x=v.quality==="None"?"":v.quality,y=v.base==="None"?"":v.base;return`${v.root}${x}${y}`};return E.jsxs("div",{children:[E.jsx("div",{className:"flex relative bg-background border-b border-border",style:{width:`${c*n}px`,height:`${MN}px`},children:Array.from({length:c}).map((v,x)=>E.jsx("div",{className:"h-full border-r border-border flex",style:{width:`${n}px`},children:Array.from({length:4}).map((y,S)=>E.jsx("div",{onDoubleClick:()=>p(x,S),className:`
                                    h-full flex items-center justify-center cursor-pointer transition-colors
                                    ${S<3?"border-r border-border/30 border-dashed":""}
                                    ${r[`${x}-${S}`]?"bg-primary/20 hover:bg-primary/30":"hover:bg-surface"}
                                `,style:{width:`${n/4}px`},children:E.jsx("span",{className:"text-xs font-medium text-text select-none",children:b(r[`${x}-${S}`])})},S))},x))}),E.jsx(ON,{open:l,onClose:m,onSave:_,chord:r[u]})]})},RN=30,jN=({note:c,pixelsPerSecond:n,verticalZoom:s})=>{const r=20*s,o=(127-c.midi)*r,l=c.time*n,h=c.duration*n;return E.jsx("div",{className:"absolute bg-primary rounded-sm z-10 flex items-center justify-center overflow-hidden shadow-sm border border-white/10",style:{top:`${o}px`,left:`${l}px`,width:`${h}px`,height:`${r-1}px`},children:h>20&&E.jsx("span",{className:"text-[10px] text-white font-medium select-none truncate px-1",children:c.name})})},$l=_e.forwardRef(({midiData:c,progress:n,duration:s,generationLength:r,setGenerationLength:o,onSeek:l,onChordsChange:h,onMute:u,onSolo:f,onDelete:p,onClear:m,trackMutes:_,trackSolos:b,selectionEnabled:v=!0},x)=>{const[y,S]=_e.useState([0,0]),[w,C]=_e.useState(1),[M,O]=_e.useState(1),[k,I]=_e.useState({}),[B,D]=_e.useState(0);_e.useEffect(()=>{h&&h(k)},[k,h]),_e.useEffect(()=>{D(0)},[c]);const V=80*w,Z=20*M,j=c?.tracks?.[B]?.notes||[],X=_?_[B]:!1,A=b?b[B]:!1,J=c?.header?.tempos?.[0]?.bpm||120,G=c?.header?.timeSignatures?.[0]?.timeSignature||[4,4],H=60/J*G[0],ue=H*V,ee=s,R=ee>0?Math.ceil(ee/H):12,U=Math.max(R,96),L=U*ue,re=128*Z,le=n*ee*V,te=_e.useRef(null);_e.useImperativeHandle(x,()=>({getSelectedNotes:()=>{if(!c||y[0]===0&&y[1]===0)return[];const ae=y[0]*H,be=(y[1]+1)*H;return j.filter(Ce=>Ce.time>=ae&&Ce.time<be)},getPastNotes:(ae=8)=>{if(!c||y[0]===0&&y[1]===0)return[];const be=y[0]*H,we=Math.max(0,(y[0]-ae)*H);return j.filter(Ce=>Ce.time>=we&&Ce.time<be)},getFutureNotes:(ae=8)=>{if(!c||y[0]===0&&y[1]===0)return[];const be=(y[1]+1)*H,we=(y[1]+1+ae)*H;return j.filter(Ce=>Ce.time>=be&&Ce.time<we)},getSelectedRange:()=>y,getSelectedTrackIndex:()=>B})),_e.useEffect(()=>{const ae=te.current,be=we=>{if(we.preventDefault(),we.ctrlKey){const Ce=we.deltaY>0?.9:1.1;C(Ye=>Math.max(.1,Math.min(Ye*Ce,5)))}else if(we.altKey){const Ce=we.deltaY>0?.9:1.1;O(Ye=>Math.max(.1,Math.min(Ye*Ce,5)))}else we.shiftKey?ae.scrollLeft+=we.deltaY:ae.scrollTop+=we.deltaY};return ae&&ae.addEventListener("wheel",be,{passive:!1}),()=>{ae&&ae.removeEventListener("wheel",be)}},[]),_e.useEffect(()=>{if(c&&te.current&&j.length>0){const ae=Math.min(...j.map(T=>T.midi)),Ce=(127-(Math.max(...j.map(T=>T.midi))+ae)/2)*Z,Ye=te.current.clientHeight,$e=Ce-Ye/2;te.current.scrollTop=$e}},[c,M,Z,B]);const ve=ae=>{const be=ae.currentTarget.getBoundingClientRect(),Ce=(ae.clientX-be.left)/V;l&&l(Ce)},Oe=ae=>{if(v)if(y[0]===0&&y[1]===0)S([ae,ae]);else if(ae>=y[0]&&ae<=y[1])S([0,0]);else{const be=Math.min(y[0],ae),we=Math.max(y[1],ae);S([be,we])}};return E.jsxs("div",{className:"flex flex-col h-full p-4",children:[E.jsxs("div",{className:"flex items-center gap-6 mb-4",children:[E.jsxs("div",{className:"flex items-center gap-3",children:[E.jsx("span",{className:"text-sm font-medium text-muted",children:"H-Zoom"}),E.jsx("input",{type:"range",min:"0.1",max:"5",step:"0.1",value:w,onChange:ae=>C(parseFloat(ae.target.value)),className:"w-32 h-2 bg-surface rounded-lg appearance-none cursor-pointer accent-primary"})]}),E.jsxs("div",{className:"flex items-center gap-3",children:[E.jsx("span",{className:"text-sm font-medium text-muted",children:"V-Zoom"}),E.jsx("input",{type:"range",min:"0.1",max:"5",step:"0.1",value:M,onChange:ae=>O(parseFloat(ae.target.value)),className:"w-32 h-2 bg-surface rounded-lg appearance-none cursor-pointer accent-primary"})]}),c&&c.tracks.length>0&&E.jsxs(E.Fragment,{children:[E.jsxs("div",{className:"flex items-center gap-3",children:[E.jsx("span",{className:"text-sm font-medium text-muted",children:"Track"}),E.jsx("select",{value:B,onChange:ae=>D(parseInt(ae.target.value)),className:"bg-surface text-text border border-border rounded px-2 py-1 text-sm focus:outline-none focus:border-primary",children:c.tracks.map((ae,be)=>E.jsxs("option",{value:be,children:[be+1,": ",ae.name||ae.instrument.name||`Track ${be+1}`]},be))})]}),E.jsxs("div",{className:"flex items-center gap-2 border-l border-border pl-4",children:[E.jsx("button",{onClick:()=>u&&u(B),className:`p-2 rounded hover:bg-surface transition-colors ${X?"text-red-500":"text-muted"}`,title:X?"Unmute Track":"Mute Track",children:X?E.jsx(BA,{size:18}):E.jsx(zA,{size:18})}),E.jsx("button",{onClick:()=>f&&f(B),className:`p-2 rounded hover:bg-surface transition-colors ${A?"text-yellow-500":"text-muted"}`,title:A?"Unsolo Track":"Solo Track",children:E.jsx("span",{className:"font-bold text-sm",children:"S"})}),E.jsx("button",{onClick:()=>p&&p(B),className:"p-2 rounded hover:bg-red-500/20 text-muted hover:text-red-500 transition-colors",title:"Delete Track",children:E.jsx(MA,{size:18})})]})]}),E.jsxs("div",{className:"ml-auto",children:[E.jsxs("button",{onClick:m,className:"flex items-center gap-2 px-3 py-1.5 bg-surface hover:bg-surface/80 text-text rounded border border-border transition-colors text-sm",title:"Clear All",children:[E.jsx(wA,{size:14}),E.jsx("span",{children:"Clear"})]}),E.jsx("button",{onClick:()=>{if(c){const ae=new Blob([c.toArray()],{type:"audio/midi"}),be=URL.createObjectURL(ae),we=document.createElement("a");we.href=be,we.download="output.mid",document.body.appendChild(we),we.click(),document.body.removeChild(we),URL.revokeObjectURL(be)}},className:"flex items-center gap-2 px-3 py-1.5 bg-surface hover:bg-surface/80 text-text rounded border border-border transition-colors text-sm ml-2",title:"Download MIDI",children:E.jsx(dA,{size:14})})]})]}),E.jsxs("div",{className:"flex-1 border border-border rounded-lg overflow-auto relative bg-surface/20",ref:te,children:[E.jsx("div",{className:"sticky top-0 left-0 flex bg-background z-20 border-b border-border",style:{width:`${L}px`,height:`${RN}px`},children:Array.from({length:U}).map((ae,be)=>E.jsx("div",{className:`
                                border-r border-border text-xs flex items-center justify-center cursor-pointer transition-colors
                                ${be>=y[0]&&be<=y[1]?"bg-primary/30 text-primary font-bold":"text-muted hover:bg-surface"}
                            `,style:{width:`${ue}px`},onClick:()=>Oe(be),children:be+1},be))}),E.jsx("div",{className:"sticky top-[30px] left-0 z-20 bg-background border-b border-border",style:{width:`${L}px`},children:E.jsx(DN,{totalMeasures:U,pixelsPerMeasure:ue,onChordsChange:I})}),E.jsxs("div",{onClick:ve,className:"relative cursor-pointer",style:{width:`${L}px`,height:`${re}px`},children:[Array.from({length:U}).map((ae,be)=>E.jsx("div",{className:`absolute top-0 h-full border-r border-border/30 ${be<r?"bg-primary/5":""}`,style:{left:`${be*ue}px`,width:`${ue}px`}},be)),y[0]!==0||y[1]!==0?E.jsx("div",{className:"absolute top-0 h-full bg-primary/20 pointer-events-none z-[2]",style:{left:`${y[0]*ue}px`,width:`${(y[1]-y[0]+1)*ue}px`}}):null,j.map((ae,be)=>E.jsx(jN,{note:ae,pixelsPerSecond:V,verticalZoom:M},be)),E.jsx("div",{className:"absolute top-0 h-full w-0.5 bg-red-500 z-20 pointer-events-none shadow-[0_0_10px_rgba(239,68,68,0.5)]",style:{left:`${le}px`}})]}),!c&&E.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 text-muted pointer-events-none",children:"Piano Roll Area"})]})]})}),zN=["acoustic_grand_piano","bright_acoustic_piano","electric_grand_piano","honkytonk_piano","electric_piano_1","electric_piano_2","harpsichord","clavinet","celesta","glockenspiel","music_box","vibraphone","marimba","xylophone","tubular_bells","dulcimer","drawbar_organ","percussive_organ","rock_organ","church_organ","reed_organ","accordion","harmonica","tango_accordion","acoustic_guitar_nylon","acoustic_guitar_steel","electric_guitar_jazz","electric_guitar_clean","electric_guitar_muted","overdriven_guitar","distortion_guitar","guitar_harmonics","acoustic_bass","electric_bass_finger","electric_bass_pick","fretless_bass","slap_bass_1","slap_bass_2","synth_bass_1","synth_bass_2","violin","viola","cello","contrabass","tremolo_strings","pizzicato_strings","orchestral_harp","timpani","string_ensemble_1","string_ensemble_2","synth_strings_1","synth_strings_2","choir_aahs","voice_oohs","synth_choir","orchestra_hit","trumpet","trombone","tuba","muted_trumpet","french_horn","brass_section","synth_brass_1","synth_brass_2","soprano_sax","alto_sax","tenor_sax","baritone_sax","oboe","english_horn","bassoon","clarinet","piccolo","flute","recorder","pan_flute","blown_bottle","shakuhachi","whistle","ocarina","lead_1_square","lead_2_sawtooth","lead_3_calliope","lead_4_chiff","lead_5_charang","lead_6_voice","lead_7_fifths","lead_8_bass__lead","pad_1_new_age","pad_2_warm","pad_3_polysynth","pad_4_choir","pad_5_bowed","pad_6_metallic","pad_7_halo","pad_8_sweep","fx_1_rain","fx_2_soundtrack","fx_3_crystal","fx_4_atmosphere","fx_5_brightness","fx_6_goblins","fx_7_echoes","fx_8_scifi","sitar","banjo","shamisen","koto","kalimba","bagpipe","fiddle","shanai","tinkle_bell","agogo","steel_drums","woodblock","taiko_drum","melodic_tom","synth_drum","reverse_cymbal","guitar_fret_noise","breath_noise","seashore","bird_tweet","telephone_ring","helicopter","applause","gunshot"],UN=({activeMode:c,setActiveMode:n})=>{const s=[{id:"DEMO",label:"DEMO",icon:Vr},{id:"VS",label:"VS",icon:EA},{id:"PODCAST",label:"PODCAST",icon:xA}];return E.jsx("div",{className:"w-16 md:w-20 bg-surface border-r border-border flex flex-col items-center py-4 gap-4 z-50",children:s.map(r=>{const o=r.icon,l=c===r.id;return E.jsxs("button",{onClick:()=>n(r.id),className:`
              flex flex-col items-center justify-center w-12 h-12 md:w-14 md:h-14 rounded-xl transition-all duration-200
              ${l?"bg-primary text-white shadow-lg shadow-primary/20 scale-105":"text-muted hover:text-text hover:bg-white/5"}
            `,title:r.label,children:[E.jsx(o,{className:"w-6 h-6 mb-1"}),E.jsx("span",{className:"text-[10px] font-bold",children:r.label})]},r.id)})})},pf=({models:c,onSelect:n,title:s,selectedModelId:r})=>E.jsx("div",{className:"flex flex-col h-full bg-background p-6 overflow-y-auto animate-in fade-in duration-300",children:E.jsxs("div",{className:"max-w-5xl mx-auto w-full space-y-8",children:[E.jsxs("div",{className:"text-center space-y-2",children:[E.jsx("h2",{className:"text-3xl font-bold tracking-tight bg-gradient-to-r from-blue-400 to-purple-600 bg-clip-text text-transparent",children:s}),E.jsx("p",{className:"text-muted",children:"Select a model to use for comparison."})]}),E.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:c.map(o=>{const l=r===o.model_name;return E.jsxs("button",{onClick:()=>n(o),className:`
                  relative flex flex-col items-start text-left p-6 rounded-xl border transition-all duration-200 h-full
                  ${l?"bg-primary/10 border-primary shadow-lg shadow-primary/10 ring-1 ring-primary scale-[1.02]":"bg-surface border-border hover:border-primary/50 hover:bg-surface/80 hover:scale-[1.01] group"}
                `,children:[l&&E.jsx("div",{className:"absolute top-4 right-4 text-primary bg-background rounded-full p-1 shadow-sm",children:E.jsx(nA,{className:"w-5 h-5"})}),E.jsx("h3",{className:`font-semibold text-xl mb-2 group-hover:text-primary transition-colors ${l?"text-primary":"text-text"}`,children:o.title||o.model_name}),E.jsxs("div",{className:"flex flex-wrap gap-2 mb-4",children:[E.jsx("span",{className:"px-2.5 py-1 rounded-full bg-background border border-border text-xs text-muted font-medium uppercase tracking-wide",children:o.tag?.model}),o.tag?.genres?.map(h=>E.jsx("span",{className:"px-2.5 py-1 rounded-full bg-secondary/20 text-secondary text-xs font-medium",children:h},h))]}),E.jsx("p",{className:"text-sm text-muted-foreground line-clamp-4 leading-relaxed",children:o.description}),E.jsxs("div",{className:"mt-auto pt-4 w-full text-xs text-muted/70 border-t border-border/30",children:["Instruments: ",Array.isArray(o?.tag?.instruments)?o.tag.instruments.join(", "):o?.tag?.instruments]})]},o.model_name)})})]})}),BN=({modelInfo:c,midiData:n,setMidiData:s,pianoRollProps:r,settings:o,onGenerate:l,playbackState:h,onPlay:u,onPause:f,onStop:p})=>{const[m,_]=_e.useState(1),[b,v]=_e.useState(null),[x,y]=_e.useState(null),[S,w]=_e.useState(null),[C,M]=_e.useState(null),[O,k]=_e.useState(!1),[I,B]=_e.useState({}),D=Bl.useRef(null),V=Bl.useRef(null),Z=Bl.useRef(null),[ne,j]=_e.useState(null);_e.useEffect(()=>{m===3&&n&&!Z.current&&(Z.current=n)},[m,n]),_e.useEffect(()=>{w(null),M(null),Z.current=null,j(null)},[b,x]);const X=U=>{const L=U===1?S||Z.current:C||Z.current;L&&(s(L),j(U),setTimeout(()=>{u()},50))},A=()=>{f()},J=()=>{p(),j(null)},G=async()=>{if(!(!l||!b||!x)){k(!0);try{const U=D.current?.getSelectedNotes()||[],L=D.current?.getSelectedRange()||null,re=await l(b.model_name,U,L,I,n);re&&re.length>0&&w(re[0]);const le=await l(x.model_name,U,L,I,n);le&&le.length>0&&M(le[0])}catch(U){console.error("VS Mode Generation Error",U)}finally{k(!1)}}},H=_e.useMemo(()=>!b||!c?[]:c.filter(U=>U.tag?.model===b.tag?.model&&U.model_name!==b.model_name),[b,c]),ue=U=>{v(U),_(2)},ee=U=>{y(U),_(3)},R=()=>{_(1),v(null),y(null)};return m===1?E.jsx(pf,{models:c||[],onSelect:ue,title:"Select Model 1 (Base)",selectedModelId:b?.model_name}):m===2?E.jsxs("div",{className:"h-full flex flex-col",children:[E.jsxs("div",{className:"p-4 border-b border-border flex items-center gap-4 bg-surface/50 backdrop-blur-sm",children:[E.jsxs("button",{onClick:()=>_(1),className:"flex items-center gap-2 text-sm text-muted hover:text-text transition-colors",children:[E.jsx(df,{className:"w-4 h-4"})," Back to Model 1"]}),E.jsx("div",{className:"h-4 w-[1px] bg-border"}),E.jsxs("span",{className:"text-sm font-medium",children:["Model 1: ",E.jsx("span",{className:"text-primary",children:b?.model_name})]})]}),E.jsx(pf,{models:H,onSelect:ee,title:`Select Model 2 (Vs ${b?.model_name})`,selectedModelId:x?.model_name})]}):m===3?E.jsxs("div",{className:"h-full flex flex-col animate-in fade-in zoom-in-95 duration-300",children:[E.jsx("div",{className:"p-4 border-b border-border flex items-center justify-between bg-surface/50 backdrop-blur-sm shrink-0",children:E.jsxs("div",{className:"flex items-center gap-4",children:[E.jsxs("button",{onClick:R,className:"flex items-center gap-2 text-sm text-muted hover:text-text transition-colors",children:[E.jsx(df,{className:"w-4 h-4"})," Reset Models"]}),E.jsxs("div",{className:"flex items-center gap-3",children:[E.jsx("div",{className:"px-3 py-1 rounded-full bg-primary/10 text-primary text-xs font-bold border border-primary/20",children:b?.model_name}),E.jsx("span",{className:"text-muted font-mono text-xs",children:"VS"}),E.jsx("div",{className:"px-3 py-1 rounded-full bg-purple-500/10 text-purple-400 text-xs font-bold border border-purple-500/20",children:x?.model_name})]})]})}),E.jsxs("div",{className:"flex-1 flex overflow-hidden",children:[E.jsxs("div",{className:"flex-1 border-r border-border flex flex-col min-w-0 bg-background/50",children:[E.jsx("div",{className:"p-2 text-center text-xs font-bold text-primary uppercase tracking-widest border-b border-border/50 bg-primary/5",children:b?.model_name}),E.jsx(J0,{isPlaying:h==="playing"&&ne===1,onPlay:()=>X(1),onPause:A,onStop:J,progress:r.progress}),E.jsx("div",{className:"flex-1 relative overflow-hidden",children:E.jsx($l,{ref:D,...r,midiData:S||Z.current||n,selectionEnabled:!0,onChordsChange:B})})]}),E.jsxs("div",{className:"flex-1 flex flex-col min-w-0 bg-background/50",children:[E.jsx("div",{className:"p-2 text-center text-xs font-bold text-purple-400 uppercase tracking-widest border-b border-border/50 bg-purple-500/5",children:x?.model_name}),E.jsx(J0,{isPlaying:h==="playing"&&ne===2,onPlay:()=>X(2),onPause:A,onStop:J,progress:r.progress}),E.jsx("div",{className:"flex-1 relative overflow-hidden",children:E.jsx($l,{ref:V,...r,midiData:C||Z.current||n,selectionEnabled:!0})})]})]}),E.jsxs("div",{className:"h-64 border-t border-border bg-surface shrink-0 p-4 grid grid-cols-12 gap-6 overflow-y-auto",children:[E.jsxs("div",{className:"col-span-4 overflow-y-auto max-h-full",children:[o&&E.jsx("div",{className:"scale-90 origin-top-left w-[110%]",children:E.jsx(nd,{temperature:o.temperature,setTemperature:o.setTemperature,p:o.p,setP:o.setP,numGems:o.numGems,setNumGems:o.setNumGems,rules:b?.rule})}),!o&&E.jsxs("div",{className:"card h-full flex flex-col justify-center items-center text-muted",children:[E.jsx(IN,{}),E.jsx("p",{className:"mt-2",children:"Settings Unavailable"})]})]}),E.jsx("div",{className:"col-span-8",children:E.jsx("div",{className:"card h-full flex items-center justify-center",children:E.jsxs("button",{onClick:G,disabled:O,className:`btn-primary w-full h-16 text-lg shadow-xl shadow-primary/20 flex items-center justify-center gap-3 transition-all ${O?"opacity-50":"hover:scale-[1.02]"}`,children:[E.jsx(VA,{className:`w-6 h-6 ${O?"animate-pulse":""}`}),O?"Generating Model 1 & 2...":"Generate Both Models (Sequential)"]})})})]})]}):null},IN=()=>E.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-sliders-horizontal",children:[E.jsx("line",{x1:"21",x2:"14",y1:"4",y2:"4"}),E.jsx("line",{x1:"10",x2:"3",y1:"4",y2:"4"}),E.jsx("line",{x1:"21",x2:"12",y1:"12",y2:"12"}),E.jsx("line",{x1:"8",x2:"3",y1:"12",y2:"12"}),E.jsx("line",{x1:"21",x2:"16",y1:"20",y2:"20"}),E.jsx("line",{x1:"12",x2:"3",y1:"20",y2:"20"}),E.jsx("line",{x1:"14",x2:"14",y1:"2",y2:"6"}),E.jsx("line",{x1:"8",x2:"8",y1:"10",y2:"14"}),E.jsx("line",{x1:"16",x2:"16",y1:"18",y2:"22"})]}),J0=({isPlaying:c,onPlay:n,onPause:s,onStop:r,progress:o})=>E.jsxs("div",{className:"px-4 py-2 border-b border-border bg-surface flex items-center justify-between gap-4",children:[E.jsxs("div",{className:"flex items-center gap-2",children:[c?E.jsx("button",{onClick:s,className:"p-1 hover:bg-white/10 rounded text-primary transition-colors",title:"Pause",children:E.jsx(Jl,{className:"w-4 h-4 fill-current"})}):E.jsx("button",{onClick:n,className:"p-1 hover:bg-white/10 rounded text-text transition-colors",title:"Play",children:E.jsx(Vr,{className:"w-4 h-4 fill-current"})}),E.jsx("button",{onClick:r,className:"p-1 hover:bg-white/10 rounded text-text transition-colors",title:"Stop",children:E.jsx(gv,{className:"w-4 h-4 fill-current"})})]}),E.jsx("div",{className:"flex-1 flex flex-col justify-center gap-1",children:E.jsx("div",{className:"h-1.5 w-full bg-surface border border-border/50 rounded-full overflow-hidden",children:E.jsx("div",{className:"h-full bg-primary transition-all duration-100 ease-linear",style:{width:`${o*100}%`}})})}),E.jsxs("div",{className:"text-[10px] font-mono text-muted w-8 text-right",children:[Math.floor(o*100),"%"]})]}),qN=({modelInfo:c,onGenerate:n,midiData:s,setMidiData:r,settings:o,playbackState:l,onPlay:h,onPause:u,onStop:f,setNotification:p,onAppendMidi:m})=>{const[_,b]=_e.useState(1),[v,x]=_e.useState(null),y=c?c.filter(C=>C.tag?.model==="pretrained"):[],S=C=>{x(C),b(2)},w=()=>{b(1),x(null),f()};return E.jsx("div",{className:"h-full flex flex-col",children:_===1?E.jsx(pf,{models:y,onSelect:S,title:"Select Podcast Model (Pretrained Series)",selectedModelId:v?.model_name}):E.jsx(VN,{model:v,onBack:w,settings:o,onGenerate:n,setNotification:p,playbackState:l,onPlay:h,onPause:u,onStop:f,midiData:s,setMidiData:r,onAppendMidi:m})})},VN=({model:c,onBack:n,settings:s,onGenerate:r,setNotification:o,playbackState:l,onPlay:h,onPause:u,onStop:f,midiData:p,setMidiData:m,onAppendMidi:_})=>{const[b,v]=_e.useState([]),[x,y]=_e.useState(!1),[S,w]=_e.useState({measures:0,duration:0}),[C,M]=_e.useState(!1),[O,k]=_e.useState(null),[I,B]=_e.useState(!1),D=_e.useRef(null),V=_e.useRef(!1);_e.useEffect(()=>{M(l==="playing")},[l]);const Z=c?.rule?.gen_note_dense===!0;_e.useEffect(()=>{if(Z&&s.selectedInstruments){const R={...s.densities||{}};let U=!1;s.selectedInstruments.forEach(L=>{R[L]===void 0&&(R[L]=4,U=!0)}),U&&s.setDensities&&s.setDensities(R)}},[s.selectedInstruments,Z]);const ne=c?.tag?.instruments?Array.isArray(c.tag.instruments)?c.tag.instruments:[c.tag.instruments]:[],j=R=>{const{selectedInstruments:U,setSelectedInstruments:L}=s;U.includes(R)?L(U.filter(re=>re!==R)):L([...U,R])},X=async()=>{if(!(x||!c)){y(!0),f(),v([]);try{const R={num_gems:3,key:s.key.replace(" ",""),temperature:s.temperature,p:s.p};if(c?.rule?.gen_note_dense&&s.densities){const L={};s.selectedInstruments&&s.selectedInstruments.length>0&&s.selectedInstruments.forEach(re=>{s.densities[re]&&(L[re]=s.densities[re])}),R.gen_note_dense=L,R.genfield_note_dense=L,R.note_density=L}console.log("Generating initial 3 clips...");const U=await r(c.model_name,[],null,{},null,R);U&&U.length>0&&v(U)}catch(R){console.error(R),o({open:!0,message:"Podcast generation failed",severity:"error"})}finally{y(!1)}}},A=(R,U)=>{R.stopPropagation(),O===U&&l==="playing"?u():(k(U),m(U),setTimeout(()=>{h()},50))},J=async R=>{console.log("Selected clip, starting podcast loop..."),f(),v([]),k(null);const U=new Xt.Midi(R.toArray());D.current=U,m(U),G(U),V.current=!0,H()},G=R=>{if(!R||!R.header)return;const U=R.header.tempos[0]?.bpm||120,L=R.duration,re=L/(60/U*4);w({measures:Math.floor(re),duration:Math.floor(L)})},H=async()=>{if(V.current)try{const R=D.current;if(!R)return;G(R);const L=60/(R.header.tempos[0]?.bpm||120)*4,re=R.duration/L;re>16&&Yt.state!=="started"&&(console.log("Music length > 16 measures, starting playback..."),h());const te=Yt.seconds/L,ve=re-te;if(ve>16){console.log(`[Podcast] Future buffer is ${ve.toFixed(1)} bars. Waiting for playback to catch up...`),setTimeout(()=>{requestAnimationFrame(()=>H())},2e3);return}const Oe=L*4,ae=Math.max(0,R.duration-Oe),be=new Xt.Midi;R.header&&(be.header.tempos=JSON.parse(JSON.stringify(R.header.tempos)),be.header.timeSignatures=JSON.parse(JSON.stringify(R.header.timeSignatures)),be.header.name=R.header.name),R.tracks.forEach($e=>{const T=be.addTrack();T.instrument=$e.instrument,T.channel=$e.channel,$e.notes.forEach(Q=>{Q.time>=ae&&T.addNote({midi:Q.midi,time:Q.time-ae,duration:Q.duration,velocity:Q.velocity})})});const we=new Blob([be.toArray()],{type:"audio/midi"});if(!c){console.warn("Model unavailable, stopping loop."),V.current=!1;return}y(!0);const Ce={ai_continue_mode:!0,generate_count:8,genfield_measure:8,num_gems:1,key:s.key.replace(" ",""),temperature:s.temperature,p:s.p};if(c?.rule?.gen_note_dense&&s.densities){const $e={};s.selectedInstruments&&s.selectedInstruments.length>0&&s.selectedInstruments.forEach(T=>{s.densities[T]&&($e[T]=s.densities[T])}),Ce.gen_note_dense=$e,Ce.genfield_note_dense=$e,Ce.note_density=$e}const Ye=await r(c.model_name,[],null,{},null,Ce,{pastMidiBlob:we});if(Ye&&Ye.length>0){const $e=Ye[0];ue($e),requestAnimationFrame(()=>H())}else console.log("No result returned, satisfying loop?"),y(!1)}catch(R){console.error("Recursive loop error:",R),o({open:!0,message:`Podcast loop error: ${R.message}`,severity:"error"}),V.current=!1}},ue=R=>{const U=D.current,le=60/(U.header.tempos[0]?.bpm||120)*4*4,te=U.duration-le;U.tracks.forEach((Oe,ae)=>{const be=R.tracks.find(we=>we.channel===Oe.channel)||R.tracks[ae];be&&be.notes.forEach(we=>{we.time>=le-.1&&Oe.addNote({midi:we.midi,time:we.time+te,duration:we.duration,velocity:we.velocity})})});const ve=new Xt.Midi(U.toArray());D.current=ve,V.current&&(_?_(ve):m(ve),G(ve))},ee=()=>{V.current=!1,y(!1),f()};return _e.useEffect(()=>()=>{V.current=!1},[]),E.jsxs("div",{className:"flex flex-col h-full animate-in fade-in zoom-in-95 duration-300",children:[E.jsxs("div",{className:"p-4 border-b border-border flex items-center justify-between bg-surface/50 backdrop-blur-sm shrink-0",children:[E.jsxs("div",{className:"flex items-center gap-4",children:[E.jsxs("button",{onClick:ee,className:"flex items-center gap-2 text-sm text-muted hover:text-text transition-colors",children:[E.jsx(df,{className:"w-4 h-4"})," Exit"]}),E.jsx("div",{className:"h-4 w-[1px] bg-border"}),E.jsxs("span",{className:"flex items-center gap-2 text-sm font-medium",children:["Model: ",E.jsx("span",{className:"text-primary",children:c?.model_name}),x&&E.jsx("span",{className:"text-xs text-muted animate-pulse ml-2",children:"Generating..."})]})]}),D.current&&E.jsxs("div",{className:"flex items-center gap-4 text-xs font-mono text-muted",children:[E.jsxs("span",{className:"flex items-center gap-1",children:[E.jsx(R0,{className:"w-3 h-3"})," ",S.measures," Bars"]}),E.jsxs("span",{className:"flex items-center gap-1",children:[E.jsx(ro,{className:"w-3 h-3"})," ",S.duration,"s"]})]})]}),E.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center p-8 overflow-y-auto w-full relative",children:[E.jsxs("div",{className:"w-full max-w-2xl h-64 bg-black/40 rounded-3xl border border-white/5 flex items-center justify-center mb-8 relative overflow-hidden group",children:[E.jsx("div",{className:`flex items-end gap-1 h-32 ${C?"opacity-100":"opacity-30"}`,children:[...Array(20)].map((R,U)=>E.jsx("div",{className:`w-3 bg-primary/80 rounded-full transition-all duration-300 ${C?"animate-pulse":""}`,style:{height:C?`${20+Math.random()*80}%`:"20%",animationDelay:`${U*.1}s`,transition:"height 0.1s ease"}},U))}),b.length===0&&!D.current&&!x&&E.jsxs("button",{onClick:X,className:"absolute inset-0 flex items-center justify-center bg-black/50 hover:bg-black/40 transition-all text-white backdrop-blur-sm",children:[E.jsx(Vr,{className:"w-20 h-20 fill-white drop-shadow-lg scale-100 hover:scale-110 transition-transform"}),E.jsx("span",{className:"absolute mt-24 text-lg font-bold",children:"Start Podcast"})]}),x&&E.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black/50 backdrop-blur-sm z-10",children:E.jsx(R0,{className:"w-12 h-12 text-primary animate-spin"})})]}),b.length>0&&E.jsxs("div",{className:"w-full max-w-4xl",children:[E.jsx("h3",{className:"text-center text-lg font-medium mb-4 text-white",children:"Select a starting theme"}),E.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 animate-in slide-in-from-bottom-4",children:b.map((R,U)=>{const L=O===R&&l==="playing";return E.jsxs("div",{className:"bg-surface border border-border rounded-xl p-4 hover:border-primary transition-all cursor-pointer group hover:-translate-y-1 hover:shadow-xl hover:shadow-primary/10 relative",children:[E.jsxs("div",{className:"text-center text-sm font-medium text-muted mb-2",children:["Option ",U+1]}),E.jsx("div",{className:"h-24 bg-black/20 rounded-lg flex items-center justify-center group-hover:bg-primary/10 transition-colors mb-4 relative overflow-hidden",children:E.jsx("div",{onClick:re=>A(re,R),className:"cursor-pointer p-4 rounded-full bg-black/40 hover:bg-primary hover:text-white transition-all z-10",children:L?E.jsx(Jl,{className:"w-6 h-6"}):E.jsx(Vr,{className:"w-6 h-6"})})}),E.jsx("div",{className:"flex gap-2",children:E.jsx("button",{onClick:()=>J(R),className:"flex-1 py-2 bg-primary/10 text-primary rounded-lg text-sm font-bold group-hover:bg-primary group-hover:text-white transition-all",children:"Select & Start Loop"})})]},U)})})]}),D.current&&E.jsxs("div",{className:"w-full max-w-2xl text-center text-muted text-sm mt-4 animate-in fade-in",children:[E.jsx("p",{children:"Podcast is running. Sit back and listen."}),E.jsx("p",{className:"text-xs opacity-50 mt-1",children:"Generating continuation every 4 bars..."})]})]}),E.jsx("div",{className:"h-auto border-t border-border bg-surface shrink-0 p-4",children:E.jsxs("div",{className:"container mx-auto max-w-6xl grid grid-cols-1 md:grid-cols-12 gap-6",children:[E.jsxs("div",{className:"col-span-12 md:col-span-4 space-y-4",children:[E.jsxs("div",{className:"bg-surface/50 rounded-xl p-4 border border-border space-y-4",children:[E.jsxs("h4",{className:"text-sm font-medium text-muted mb-2 flex items-center gap-2",children:[E.jsx(mv,{className:"w-3 h-3"})," Basic Settings"]}),E.jsxs("div",{className:"space-y-1.5",children:[E.jsx("label",{className:"text-xs font-medium text-muted",children:"Key"}),E.jsxs("button",{onClick:()=>B(!0),className:"w-full p-2 bg-surface border border-border rounded-lg text-left hover:bg-surface/80 transition-colors flex items-center justify-between text-sm",children:[E.jsx("span",{className:"font-medium",children:s.key}),E.jsx(ro,{className:"w-3 h-3 text-muted"})]})]}),ne.length>0&&E.jsxs("div",{className:"space-y-2",children:[E.jsx("label",{className:"text-xs font-medium text-muted",children:"Instruments"}),E.jsx("div",{className:"flex flex-wrap gap-2",children:ne.map(R=>E.jsx("button",{disabled:!!D.current,onClick:()=>j(R),className:`px-2 py-1 rounded-md text-xs font-medium transition-all duration-200 ${s.selectedInstruments?.includes(R)?"bg-primary text-white shadow-sm":"bg-surface border border-border text-text hover:bg-surface/80"} ${D.current?"opacity-50 cursor-not-allowed":""}`,children:R},R))})]}),c?.rule?.gen_note_dense&&s.selectedInstruments?.length>0&&E.jsxs("div",{className:"space-y-3 pt-2 border-t border-border mt-4",children:[E.jsx("label",{className:"text-xs font-medium text-muted",children:"Note Density (1-8)"}),E.jsx("div",{className:"space-y-2",children:s.selectedInstruments.map(R=>E.jsxs("div",{className:"space-y-1",children:[E.jsxs("div",{className:"flex justify-between items-center text-xs",children:[E.jsx("span",{className:"font-mono text-primary",children:R}),E.jsx("span",{className:"font-mono text-muted",children:s.densities?.[R]||4})]}),E.jsx("input",{type:"range",min:"1",max:"8",step:"1",value:s.densities?.[R]||4,onChange:U=>{const L={...s.densities||{},[R]:parseInt(U.target.value)};s.setDensities(L)},className:"w-full h-1.5 bg-surface rounded-lg appearance-none cursor-pointer accent-primary"})]},R))})]})]}),E.jsx(nd,{...s,rules:{...c?.rule,number_of_generation:!1}})]}),E.jsx("div",{className:"col-span-12 md:col-span-8 flex items-center justify-center gap-4",children:E.jsx("button",{onClick:l==="playing"?u:h,disabled:!D.current&&!O,className:`w-20 h-20 rounded-full flex items-center justify-center transition-all shadow-xl ${l==="playing"?"bg-primary text-white scale-100":"bg-surface border border-border text-primary hover:scale-105 disabled:opacity-50 disabled:hover:scale-100"}`,children:l==="playing"?E.jsx(Jl,{className:"w-8 h-8 fill-current"}):E.jsx(Vr,{className:"w-8 h-8 fill-current ml-1"})})})]})}),E.jsx(xv,{open:I,onClose:()=>B(!1),onSave:s.setKey,currentKey:s.key})]})},$h="https://e762-133-43-172-128.ngrok-free.app";function LN(){const[c,n]=_e.useState(!1),[s,r]=_e.useState("DEMO");_e.useEffect(()=>{new URLSearchParams(window.location.search).get("debug")==="true"&&prompt("Enter debug code:")==="963964"&&n(!0)},[]);const[o,l]=_e.useState(null),[h,u]=_e.useState(null),[f,p]=_e.useState("stopped"),[m,_]=_e.useState(0),[b,v]=_e.useState(!1),[x,y]=_e.useState(12),[S,w]=_e.useState("piano"),[C,M]=_e.useState(120),[O,k]=_e.useState(""),[I,B]=_e.useState(.95),[D,V]=_e.useState(.95),[Z,ne]=_e.useState(3),[j,X]=_e.useState("C M"),[A,J]=_e.useState([]),[G,H]=_e.useState({}),[ue,ee]=_e.useState([]),[R,U]=_e.useState([]),[L,re]=_e.useState(0),[le,te]=_e.useState({open:!1,message:"",severity:"info"}),[ve,Oe]=_e.useState(!1),[ae,be]=_e.useState({}),[we,Ce]=_e.useState(null),[Ye,$e]=_e.useState({}),[T,Q]=_e.useState({}),[K,F]=_e.useState(null),q=_e.useRef([]),Y=_e.useRef(),fe=_e.useRef("replace"),de=_e.useRef(0),se=Ne=>{fe.current="append",l(Ne)};_e.useEffect(()=>{(async()=>{try{const ke=await fetch(`${$h}/model_info`,{method:"POST"});if(!ke.ok)throw new Error(`Network response was not ok: ${ke.statusText}`);const Le=await ke.json(),Fe=Object.values(Le);ee(Fe)}catch(ke){console.error("Failed to fetch model info:",ke),te({open:!0,message:`Failed to load model list: ${ke.message}`,severity:"error"})}})()},[]);const[ye,Se]=_e.useState([]);_e.useEffect(()=>{if(fe.current==="append"){console.log("Skipping instrument reload (Append Mode)");return}if(console.log("Instrument loading effect running"),v(!1),ye.forEach(ke=>{ke.type==="tone"&&ke.player.dispose(),ke.gain&&ke.gain.disconnect()}),!o){console.log("No midiData, resetting instruments"),Se([]),v(!0);return}return(async()=>{const ke=o.tracks.map(async(Le,Fe)=>{const Ve=Le.instrument.number,ot=Le.instrument.percussion||Le.channel===9,lt=Rh.createGain();Ji(lt,DT);let bt,kt;if(console.log(`Loading track ${Fe}: Program ${Ve}, Drum: ${ot}`),ot)kt="tone",console.log("Loading Salamander Drumkit..."),bt=new Wr({urls:{35:"kick_OH_FF_1.wav",36:"kick2_OH_FF_1.wav",37:"snareStick_OH_F_1.wav",38:"snare_OH_FF_1.wav",40:"snare2_OH_FF_1.wav",41:"loTom_OH_FF_1.wav",42:"hihatClosed_OH_F_1.wav",43:"loTom_OH_FF_6.wav",44:"hihatFoot_OH_MP_1.wav",45:"hiTom_OH_FF_1.wav",46:"hihatOpen_OH_FF_1.wav",47:"hiTom_OH_FF_1.wav",48:"hiTom_OH_FF_4.wav",49:"crash1_OH_FF_1.wav",50:"hiTom_OH_FF_8.wav",51:"ride1_OH_FF_1.wav",52:"china1_OH_FF_1.wav",53:"ride1Bell_OH_F_1.wav",55:"splash1_OH_F_1.wav",57:"crash2_OH_FF_1.wav",59:"ride2_OH_FF_1.wav"},baseUrl:"drums/OH/",onload:()=>{console.log("Salamander Drumkit loaded!")}}),bt.connect(lt),await p0();else if(Ve>=0&&Ve<=7)kt="tone",bt=new Wr({urls:{A0:"A0.mp3",C1:"C1.mp3","D#1":"Ds1.mp3","F#1":"Fs1.mp3",A1:"A1.mp3",C2:"C2.mp3","D#2":"Ds2.mp3","F#2":"Fs2.mp3",A2:"A2.mp3",C3:"C3.mp3","D#3":"Ds3.mp3","F#3":"Fs3.mp3",A3:"A3.mp3",C4:"C4.mp3","D#4":"Ds4.mp3","F#4":"Fs4.mp3",A4:"A4.mp3",C5:"C5.mp3","D#5":"Ds5.mp3","F#5":"Fs5.mp3",A5:"A5.mp3",C6:"C6.mp3"},release:1,baseUrl:"https://tonejs.github.io/audio/salamander/"}),bt.connect(lt),await p0();else{kt="soundfont";const Tt=zN[Ve]||"acoustic_grand_piano";console.log(`Fetching Soundfont: ${Tt}`);try{bt=await yN.instrument(Rh.rawContext,Tt,{destination:lt,soundfont:"FluidR3_GM"})}catch(Kn){console.error(`Failed to load soundfont ${Tt}, falling back to synth`,Kn),kt="tone",bt=new Qf(Xr),bt.connect(lt)}}return{player:bt,gain:lt,type:kt}});try{const Le=await Promise.all(ke);console.log("All instruments loaded"),Se(Le),v(!0)}catch(Le){console.error("Error loading instruments:",Le),v(!0)}})(),()=>{}},[o]),_e.useEffect(()=>{const Ne=Object.values(T).some(ke=>ke);ye.forEach((ke,Le)=>{if(ke&&ke.gain){let Fe=!0;Ne?Fe=T[Le]:Fe=!Ye[Le],ke.gain.gain.value=Fe?1:0}})},[Ye,T,ye]),_e.useEffect(()=>{if(console.log("Scheduling effect running",{midiData:!!o,samplerLoaded:b,instrumentsLength:ye.length,tracksLength:o?.tracks.length}),o&&b&&ye.length===o.tracks.length){console.log(`Starting scheduling (Strategy: ${fe.current})...`);let Ne=[];fe.current==="replace"?(q.current.forEach(ke=>Yt.clear(ke)),q.current=[],de.current=0):Ne=[...q.current],o.tracks.forEach((ke,Le)=>{const Fe=ye[Le];Fe&&ke.notes.forEach(Ve=>{if(Ve.time>=de.current-.001){const ot=Yt.schedule(lt=>{Fe.type==="tone"?Fe.player.triggerAttackRelease(Ve.name,Ve.duration,lt,Ve.velocity):Fe.type==="soundfont"&&Fe.player.play(Ve.name,lt,{duration:Ve.duration,gain:Ve.velocity})},Ve.time);Ne.push(ot)}})}),console.log(`Scheduled ${Ne.length-(fe.current==="append"?q.current.length:0)} new events`),q.current=Ne,de.current=o.duration,Yt.loop=!0,Yt.loopStart=0,Yt.loopEnd=o.duration,fe.current="replace"}else q.current.length>0&&(console.log("Clearing scheduled events (conditions not met)..."),q.current.forEach(Ne=>Yt.clear(Ne)),q.current=[],de.current=0)},[o,b,ye]),_e.useEffect(()=>{Yt.bpm.value=C},[C]);const xe=Ne=>{f!=="stopped"&&ze(),$e({}),l(Ne),u(Ne),U([]),Ne.header.tempos.length>0&&M(Math.round(Ne.header.tempos[0].bpm))},Te=async()=>{console.log("handlePlay called",{midiData:!!o,samplerLoaded:b}),!(!o||!b)&&(Rh.state!=="running"&&await hT(),Yt.start(),p("playing"))},Ie=()=>{Yt.pause(),p("paused")},ze=()=>{Yt.stop(),Yt.position=0,_(0),p("stopped")},rt=Ne=>{Yt.position=Ne,_(Yt.progress)},hs=Ne=>{if(!Ne)return"";const ke=Ne.quality==="None"?"":Ne.quality,Le=Ne.base==="None"?"":Ne.base;return`${Ne.root}${ke}${Le}`},fn=async(Ne,ke,Le,Fe,Ve,ot={},lt={})=>{if(!Ne)return te({open:!0,message:"Model not selected.",severity:"warning"}),null;const bt=ue.find(st=>st.model_name===Ne),kt=bt?.tag?.model,Tt=bt?.rule||{},Kn=new Xt.Midi,vn=Kn.addTrack();ke.forEach(st=>{vn.addNote({midi:st.midi,time:st.time,duration:st.duration,velocity:st.velocity})});const Me=new Blob([Kn.toArray()],{type:"audio/midi"}),Ue={model_type:Ne,program:A,tempo:C,task:"MUSICGEM",p:D,temperature:I,split_measure:99,key:j.replace(" ",""),num_gems:Z};if(Tt.gen_measure_count&&Le){const st=Le[1]-Le[0]+1;Ue.generate_count=st,Ue.genfield_measure=st}if(kt==="sft"&&Ve){const st=ke.reduce((zt,xt)=>Math.max(zt,xt.time+xt.duration),0),Jn=Ve.header.tempos[0]?.bpm||120,Ot=(Ve.header.timeSignatures[0]?.timeSignature||[4,4])[0],Gt=60/Jn,on=Gt*Ot,es=Object.entries(Fe||{}).map(([zt,xt])=>{const[yo,bo]=zt.split("-").map(Number),Ss=yo*on+bo*Gt;return{chord:xt,startTime:Ss}}).filter(zt=>zt.startTime>=st);Ue.chord_item=es.map(zt=>hs(zt.chord)),Ue.chord_times=es.map(zt=>zt.startTime-st)}const Pe={...Ue,...ot},Re=new Blob([JSON.stringify(Pe,null,2)],{type:"application/json"}),et=new FormData;et.append("midi",Me,"input.mid"),et.append("meta_json",Re,"meta.json"),lt?.pastMidiBlob&&et.append("past_midi",lt.pastMidiBlob,"past.mid"),lt?.conditionsMidiBlob&&et.append("conditions_midi",lt.conditionsMidiBlob,"conditions.mid"),lt?.futureMidiBlob&&et.append("future_midi",lt.futureMidiBlob,"future.mid");try{const st=await fetch(`${$h}/generate`,{method:"POST",body:et});if(!st.ok){const yn=await st.text();throw new Error(yn)}const Jn=st.headers.get("content-type");if(Jn&&Jn.includes("application/zip")){const yn=await st.blob(),Ot=await M0.loadAsync(yn),Gt=[];let on="";const $n=Object.entries(Ot.files);for(const[es,zt]of $n)if(zt.name.endsWith(".mid")){const xt=await zt.async("arraybuffer");Gt.push(new Xt.Midi(xt))}else zt.name.endsWith(".json")&&(on+=await zt.async("string")+`
`);return on&&te({open:!0,message:on,severity:"info"}),Gt}else{const Ot=await(await st.blob()).arrayBuffer();return[new Xt.Midi(Ot)]}}catch(st){return console.error(st),te({open:!0,message:`Generation failed: ${st.message}`,severity:"error"}),null}},xs=async()=>{if(!O){te({open:!0,message:"Please select a model from the Settings dropdown first.",severity:"warning"});return}const Ne=ue.find(Me=>Me.model_name===O),ke=Ne?.tag?.model,Le=Ne?.rule||{};if(!h&&ke!=="pretrained"){te({open:!0,message:"Please upload a MIDI file first.",severity:"warning"});return}const Fe=Y.current?.getSelectedNotes()||[],Ve=Y.current?.getSelectedRange()||[0,0],ot=Ve[0]!==0||Ve[1]!==0;if(!ot&&ke!=="pretrained"&&!Le.gen_measure_count){te({open:!0,message:"",severity:"warning"});return}if(Le.gen_measure_count&&!ot){te({open:!0,message:"",severity:"warning"});return}Oe(!0),te({open:!0,message:"Generating... Please wait.",severity:"info"}),o&&u(new Xt.Midi(o.toArray())),U([]);const lt=new Xt.Midi,bt=lt.addTrack();Fe.forEach(Me=>{bt.addNote({midi:Me.midi,time:Me.time,duration:Me.duration,velocity:Me.velocity})});const kt=new Blob([lt.toArray()],{type:"audio/midi"}),Tt={model_type:O,program:A,tempo:C,task:"MUSICGEM",p:D,temperature:I,split_measure:99,key:j.replace(" ",""),num_gems:Z};if(Le.gen_note_dense){const Me={};A.forEach(Ue=>{G[Ue]&&(Me[Ue]=G[Ue])}),Tt.gen_note_dense=Me,Tt.genfield_note_dense=Me,Tt.note_density=Me}if(Le.gen_measure_count&&ot){const Me=Ve[1]-Ve[0]+1;Tt.generate_count=Me,Tt.genfield_measure=Me,F(Ve)}else F(null);if(ke==="sft"&&h){const Me=Fe.reduce((Ot,Gt)=>Math.max(Ot,Gt.time+Gt.duration),0),Ue=h?.header.tempos[0]?.bpm||120,Re=(h?.header.timeSignatures[0]?.timeSignature||[4,4])[0],et=60/Ue,st=et*Re,yn=Object.entries(ae).map(([Ot,Gt])=>{const[on,$n]=Ot.split("-").map(Number),es=on*st+$n*et;return{chord:Gt,startTime:es}}).filter(Ot=>Ot.startTime>=Me);Tt.chord_item=yn.map(Ot=>hs(Ot.chord)),Tt.chord_times=yn.map(Ot=>Ot.startTime-Me)}c&&Ce({meta:Tt}),console.log("Sending Generation Request with Meta:",Tt);const Kn=new Blob([JSON.stringify(Tt,null,2)],{type:"application/json"}),vn=new FormData;if(vn.append("midi",kt,"input.mid"),vn.append("meta_json",Kn,"meta.json"),Le.send_context_past){const Me=Y.current?.getPastNotes(8)||[];if(Me.length>0){const Ue=new Xt.Midi,Pe=Ue.addTrack();Me.forEach(et=>{Pe.addNote({midi:et.midi,time:et.time,duration:et.duration,velocity:et.velocity})});const Re=new Blob([Ue.toArray()],{type:"audio/midi"});vn.append("past_midi",Re,"past.mid")}}if(Le.send_context_condition&&Fe.length>0){const Me=new Xt.Midi,Ue=Me.addTrack();Fe.forEach(Re=>{Ue.addNote({midi:Re.midi,time:Re.time,duration:Re.duration,velocity:Re.velocity})});const Pe=new Blob([Me.toArray()],{type:"audio/midi"});vn.append("conditions_midi",Pe,"conditions.mid")}if(Le.send_context_future){const Me=Y.current?.getFutureNotes(8)||[];if(Me.length>0){const Ue=new Xt.Midi,Pe=Ue.addTrack();Me.forEach(et=>{Pe.addNote({midi:et.midi,time:et.time,duration:et.duration,velocity:et.velocity})});const Re=new Blob([Ue.toArray()],{type:"audio/midi"});vn.append("future_midi",Re,"future.mid")}}try{const Me=await fetch(`${$h}/generate`,{method:"POST",body:vn});if(Me.ok){const Ue=Me.headers.get("content-type");if(Ue&&Ue.includes("application/zip")){const Pe=await Me.blob(),Re=await M0.loadAsync(Pe),et=[],st=[];Re.forEach((Ot,Gt)=>{Gt.name.endsWith(".mid")?et.push(Gt.async("arraybuffer").then(on=>new Xt.Midi(on))):Gt.name.endsWith(".json")&&st.push(Gt.async("string"))});const Jn=await Promise.all(et),yn=await Promise.all(st);yn.length>0?te({open:!0,message:yn.join(`
`),severity:"info"}):Jn.length>0?(U(Jn),re(0),te({open:!0,message:`Successfully generated ${Jn.length} MIDI file(s).`,severity:"success"})):te({open:!0,message:"Generation complete, but no relevant files were produced.",severity:"warning"})}else if(Ue&&(Ue.includes("audio/midi")||Ue.includes("application/x-midi"))){const Re=await(await Me.blob()).arrayBuffer(),et=new Xt.Midi(Re);U([et]),re(0),te({open:!0,message:"Successfully generated MIDI file.",severity:"success"})}else try{const Re=await(await Me.blob()).arrayBuffer(),et=new Xt.Midi(Re);U([et]),re(0),te({open:!0,message:"Successfully generated MIDI file (fallback).",severity:"success"})}catch{te({open:!0,message:`Unknown response format: ${Ue}`,severity:"error"})}}else{const Ue=await Me.text();console.error("Generation failed response:",Ue);let Pe=Ue;try{const Re=JSON.parse(Ue);Re.detail&&(Pe=typeof Re.detail=="object"?JSON.stringify(Re.detail,null,2):Re.detail)}catch{}te({open:!0,message:`Generation failed: ${Pe||Me.statusText}`,severity:"error"})}}catch(Me){console.error("Error during generation:",Me),te({open:!0,message:`An error occurred: ${Me.message}`,severity:"error"})}finally{Oe(!1)}};_e.useEffect(()=>{const ke=ue.find(Fe=>Fe.model_name===O)?.tag?.model,Le=R[L];if(!(!ke||!Le)){if(ke==="pretrained")l(Le);else if(ke==="sft"){const Fe=new Xt.Midi;Fe.header=h.header;const ot=Y.current.getSelectedNotes().reduce((bt,kt)=>Math.max(bt,kt.time+kt.duration),0),lt=Fe.addTrack();h.tracks.forEach((bt,kt)=>{Ye[kt]||bt.notes.forEach(Tt=>{Tt.time<ot&&lt.addNote(Tt)})}),Le.tracks.forEach(bt=>{bt.notes.forEach(kt=>{lt.addNote({...kt,time:kt.time+ot})})}),l(Fe)}else if(K&&h){const Fe=Y.current?.getSelectedTrackIndex()||0,Ve=h.header.tempos[0]?.bpm||120,ot=h.header.timeSignatures[0]?.timeSignature||[4,4],lt=60/Ve*ot[0],bt=K[0]*lt,kt=(K[1]+1)*lt,Kn=Math.max(0,K[0]-1)*lt,vn=new Xt.Midi;vn.header=h.header,h.tracks.forEach((Me,Ue)=>{const Pe=vn.addTrack();Pe.instrument=Me.instrument,Pe.name=Me.name,Pe.channel=Me.channel,Ue===Fe?(Me.notes.forEach(Re=>{Re.time<bt&&Pe.addNote({midi:Re.midi,time:Re.time,duration:Re.duration,velocity:Re.velocity})}),Le.tracks.forEach(Re=>{Re.notes.forEach(et=>{const st=et.time+Kn;st>=bt&&Pe.addNote({midi:et.midi,time:st,duration:et.duration,velocity:et.velocity})})}),Me.notes.forEach(Re=>{Re.time>=kt&&Pe.addNote({midi:Re.midi,time:Re.time,duration:Re.duration,velocity:Re.velocity})})):Me.notes.forEach(Re=>{Pe.addNote({midi:Re.midi,time:Re.time,duration:Re.duration,velocity:Re.velocity})})}),l(vn)}}},[R,L,h,ue,O,Ye,K]),_e.useEffect(()=>{if(f==="playing"){const Ne=Yt.scheduleRepeat(ke=>{RT.schedule(()=>_(Yt.progress),ke)},"16n");return()=>Yt.clear(Ne)}},[f]),_e.useEffect(()=>{const Ne=ke=>{ke.code==="Space"&&(ke.preventDefault(),f==="playing"?Ie():Te())};return window.addEventListener("keydown",Ne),()=>window.removeEventListener("keydown",Ne)},[f,Te,Ie]);const at=Ne=>{$e(ke=>({...ke,[Ne]:!ke[Ne]}))},In=Ne=>{Q(ke=>({...ke,[Ne]:!ke[Ne]}))},_n=Ne=>{if(!o)return;const ke={...o};ke.tracks.splice(Ne,1),l({...ke}),$e(Le=>{const Fe={};return Object.keys(Le).forEach(Ve=>{const ot=parseInt(Ve);ot<Ne?Fe[ot]=Le[ot]:ot>Ne&&(Fe[ot-1]=Le[ot])}),Fe})},tn=()=>{l(null),u(null),U([]),Se([]),Se([]),$e({}),Q({}),ze()},qn=o?o.duration:0;return E.jsxs("div",{className:"h-screen bg-background text-text flex flex-col overflow-hidden",children:[le.open&&E.jsxs("div",{className:`fixed top-4 right-4 z-[100] p-4 rounded-lg shadow-lg border flex items-start gap-3 max-w-md animate-in slide-in-from-right-5 fade-in duration-300 ${le.severity==="error"?"bg-red-900/90 border-red-700 text-red-100":le.severity==="warning"?"bg-yellow-900/90 border-yellow-700 text-yellow-100":le.severity==="success"?"bg-green-900/90 border-green-700 text-green-100":"bg-blue-900/90 border-blue-700 text-blue-100"}`,children:[le.severity==="error"&&E.jsx(j0,{className:"w-5 h-5 shrink-0"}),le.severity==="warning"&&E.jsx(j0,{className:"w-5 h-5 shrink-0"}),le.severity==="success"&&E.jsx(cA,{className:"w-5 h-5 shrink-0"}),le.severity==="info"&&E.jsx(mA,{className:"w-5 h-5 shrink-0"}),E.jsx("div",{className:"flex-1 text-sm whitespace-pre-wrap break-all",children:le.message}),E.jsx("button",{onClick:()=>te({...le,open:!1}),className:"text-white/70 hover:text-white",children:""})]}),E.jsx(SN,{}),E.jsxs("main",{className:"flex-1 flex overflow-hidden",children:[E.jsx(UN,{activeMode:s,setActiveMode:r}),E.jsx("div",{className:"flex-1 overflow-hidden relative",children:s==="DEMO"?E.jsx("div",{className:"h-full overflow-hidden container mx-auto px-4 pb-4 max-w-[1600px] flex flex-col",children:b?E.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-6 h-full overflow-hidden pt-4",children:[E.jsxs("div",{className:"lg:col-span-4 space-y-6 overflow-y-auto pr-2 pb-2 h-full",children:[E.jsxs("div",{className:"card space-y-6",children:[E.jsx(AN,{instrument:S,setInstrument:w,tempo:C,setTempo:M,selectedModel:O,setSelectedModel:k,modelInfo:ue,debugMode:c,keySelection:j,setKey:X,selectedInstruments:A,setSelectedInstruments:J,densities:G,setDensities:H}),E.jsx(nd,{temperature:I,setTemperature:B,p:D,setP:V,numGems:Z,setNumGems:ne,rules:ue.find(Ne=>Ne.model_name===O)?.rule})]}),E.jsx("div",{className:"card",children:E.jsx(NN,{onPlay:Te,onPause:Ie,onStop:ze,onGenerate:xs,isGenerating:ve,playbackState:f,progress:m,duration:qn,generatedMidis:R,selectedGeneratedMidi:L,onSelectedGeneratedMidiChange:re})}),c&&we&&E.jsxs("div",{className:"p-4 border border-dashed border-border bg-surface/30 rounded-lg",children:[E.jsx("h6",{className:"text-lg font-semibold mb-2",children:"Debug Information"}),E.jsx("pre",{className:"whitespace-pre-wrap break-all text-xs font-mono text-muted",children:JSON.stringify(we,null,2)})]})]}),E.jsx("div",{className:"lg:col-span-8 h-full flex flex-col min-h-[400px]",children:E.jsx("div",{className:"card h-full flex flex-col p-0 overflow-hidden",children:o?E.jsx($l,{ref:Y,midiData:o,progress:m,duration:qn,generationLength:x,setGenerationLength:y,onSeek:rt,onChordsChange:be,onMute:at,onSolo:In,onDelete:_n,onClear:tn,trackMutes:Ye,trackSolos:T,selectionEnabled:ue.find(Ne=>Ne.model_name===O)?.rule?.gen_measure_count===!0}):E.jsx("div",{className:"h-full p-6",children:(()=>{const Ne=ue.find(Fe=>Fe.model_name===O),ke=Ne?.rule?.input_midi!==!1,Le=Ne?.rule?.gen_measure_count===!0;if(ke)return E.jsx(wN,{onMidiUpload:xe});{new Xt.Midi().addTrack();const Ve=new Xt.Midi;return Ve.header.tempos.push({bpm:C||120,ticks:0}),Ve.header.timeSignatures.push({timeSignature:[4,4],ticks:0}),Ve.addTrack(),E.jsx($l,{ref:Y,midiData:Ve,progress:m,duration:qn,generationLength:x,setGenerationLength:y,onSeek:rt,onChordsChange:be,onMute:at,onSolo:In,onDelete:_n,onClear:tn,trackMutes:Ye,trackSolos:T,selectionEnabled:Le})}})()})})})]}):E.jsxs("div",{className:"flex flex-col justify-center items-center h-full gap-4",children:[E.jsx(pv,{className:"w-12 h-12 animate-spin text-primary"}),E.jsx("p",{className:"text-xl text-muted",children:"Loading Samples..."})]})}):E.jsxs(E.Fragment,{children:[s==="VS"&&E.jsx(BN,{modelInfo:ue,midiData:o,setMidiData:l,pianoRollProps:{midiData:o,setMidiData:l,isPlaying:f==="playing",playbackTime:Yt.seconds,progress:m,onSeek:rt},settings:{temperature:I,setTemperature:B,p:D,setP:V,numGems:Z,setNumGems:ne},onGenerate:fn,playbackState:f,onPlay:Te,onPause:Ie,onStop:ze}),s==="PODCAST"&&E.jsx(qN,{modelInfo:ue,onGenerate:fn,midiData:o,setMidiData:l,settings:{temperature:I,setTemperature:B,p:D,setP:V,numGems:Z,setNumGems:ne,tempo:C,setTempo:M,key:j,setKey:X,selectedInstruments:A,setSelectedInstruments:J,densities:G,setDensities:H},playbackState:f,onPlay:Te,onPause:Ie,onStop:ze,setNotification:te,onAppendMidi:se})]})})]})]})}V1.createRoot(document.getElementById("root")).render(E.jsx(Bl.StrictMode,{children:E.jsx(LN,{})}));
