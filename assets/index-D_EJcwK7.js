(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const h of l.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&r(h)}).observe(document,{childList:!0,subtree:!0});function i(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function r(o){if(o.ep)return;o.ep=!0;const l=i(o);fetch(o.href,l)}})();var xl=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Fl(u){return u&&u.__esModule&&Object.prototype.hasOwnProperty.call(u,"default")?u.default:u}function F_(u){if(Object.prototype.hasOwnProperty.call(u,"__esModule"))return u;var n=u.default;if(typeof n=="function"){var i=function r(){var o=!1;try{o=this instanceof r}catch{}return o?Reflect.construct(n,arguments,this.constructor):n.apply(this,arguments)};i.prototype=n.prototype}else i={};return Object.defineProperty(i,"__esModule",{value:!0}),Object.keys(u).forEach(function(r){var o=Object.getOwnPropertyDescriptor(u,r);Object.defineProperty(i,r,o.get?o:{enumerable:!0,get:function(){return u[r]}})}),i}var gh={exports:{}},Fa={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ng;function v1(){if(Ng)return Fa;Ng=1;var u=Symbol.for("react.transitional.element"),n=Symbol.for("react.fragment");function i(r,o,l){var h=null;if(l!==void 0&&(h=""+l),o.key!==void 0&&(h=""+o.key),"key"in o){l={};for(var c in o)c!=="key"&&(l[c]=o[c])}else l=o;return o=l.ref,{$$typeof:u,type:r,key:h,ref:o!==void 0?o:null,props:l}}return Fa.Fragment=n,Fa.jsx=i,Fa.jsxs=i,Fa}var Eg;function y1(){return Eg||(Eg=1,gh.exports=v1()),gh.exports}var L=y1(),_h={exports:{}},Vt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Og;function b1(){if(Og)return Vt;Og=1;var u=Symbol.for("react.transitional.element"),n=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),h=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),_=Symbol.iterator;function b(j){return j===null||typeof j!="object"?null:(j=_&&j[_]||j["@@iterator"],typeof j=="function"?j:null)}var v={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},x=Object.assign,y={};function S(j,B,F){this.props=j,this.context=B,this.refs=y,this.updater=F||v}S.prototype.isReactComponent={},S.prototype.setState=function(j,B){if(typeof j!="object"&&typeof j!="function"&&j!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,j,B,"setState")},S.prototype.forceUpdate=function(j){this.updater.enqueueForceUpdate(this,j,"forceUpdate")};function T(){}T.prototype=S.prototype;function N(j,B,F){this.props=j,this.context=B,this.refs=y,this.updater=F||v}var O=N.prototype=new T;O.constructor=N,x(O,S.prototype),O.isPureReactComponent=!0;var E=Array.isArray,C={H:null,A:null,T:null,S:null,V:null},U=Object.prototype.hasOwnProperty;function R(j,B,F,ut,ct,rt){return F=rt.ref,{$$typeof:u,type:j,key:B,ref:F!==void 0?F:null,props:rt}}function z(j,B){return R(j.type,B,void 0,void 0,void 0,j.props)}function V(j){return typeof j=="object"&&j!==null&&j.$$typeof===u}function P(j){var B={"=":"=0",":":"=2"};return"$"+j.replace(/[=:]/g,function(F){return B[F]})}var et=/\/+/g;function D(j,B){return typeof j=="object"&&j!==null&&j.key!=null?P(""+j.key):B.toString(36)}function X(){}function w(j){switch(j.status){case"fulfilled":return j.value;case"rejected":throw j.reason;default:switch(typeof j.status=="string"?j.then(X,X):(j.status="pending",j.then(function(B){j.status==="pending"&&(j.status="fulfilled",j.value=B)},function(B){j.status==="pending"&&(j.status="rejected",j.reason=B)})),j.status){case"fulfilled":return j.value;case"rejected":throw j.reason}}throw j}function J(j,B,F,ut,ct){var rt=typeof j;(rt==="undefined"||rt==="boolean")&&(j=null);var vt=!1;if(j===null)vt=!0;else switch(rt){case"bigint":case"string":case"number":vt=!0;break;case"object":switch(j.$$typeof){case u:case n:vt=!0;break;case m:return vt=j._init,J(vt(j._payload),B,F,ut,ct)}}if(vt)return ct=ct(j),vt=ut===""?"."+D(j,0):ut,E(ct)?(F="",vt!=null&&(F=vt.replace(et,"$&/")+"/"),J(ct,B,F,"",function(At){return At})):ct!=null&&(V(ct)&&(ct=z(ct,F+(ct.key==null||j&&j.key===ct.key?"":(""+ct.key).replace(et,"$&/")+"/")+vt)),B.push(ct)),1;vt=0;var St=ut===""?".":ut+":";if(E(j))for(var ot=0;ot<j.length;ot++)ut=j[ot],rt=St+D(ut,ot),vt+=J(ut,B,F,rt,ct);else if(ot=b(j),typeof ot=="function")for(j=ot.call(j),ot=0;!(ut=j.next()).done;)ut=ut.value,rt=St+D(ut,ot++),vt+=J(ut,B,F,rt,ct);else if(rt==="object"){if(typeof j.then=="function")return J(w(j),B,F,ut,ct);throw B=String(j),Error("Objects are not valid as a React child (found: "+(B==="[object Object]"?"object with keys {"+Object.keys(j).join(", ")+"}":B)+"). If you meant to render a collection of children, use an array instead.")}return vt}function Z(j,B,F){if(j==null)return j;var ut=[],ct=0;return J(j,ut,"","",function(rt){return B.call(F,rt,ct++)}),ut}function H(j){if(j._status===-1){var B=j._result;B=B(),B.then(function(F){(j._status===0||j._status===-1)&&(j._status=1,j._result=F)},function(F){(j._status===0||j._status===-1)&&(j._status=2,j._result=F)}),j._status===-1&&(j._status=0,j._result=B)}if(j._status===1)return j._result.default;throw j._result}var ht=typeof reportError=="function"?reportError:function(j){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var B=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof j=="object"&&j!==null&&typeof j.message=="string"?String(j.message):String(j),error:j});if(!window.dispatchEvent(B))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",j);return}console.error(j)};function tt(){}return Vt.Children={map:Z,forEach:function(j,B,F){Z(j,function(){B.apply(this,arguments)},F)},count:function(j){var B=0;return Z(j,function(){B++}),B},toArray:function(j){return Z(j,function(B){return B})||[]},only:function(j){if(!V(j))throw Error("React.Children.only expected to receive a single React element child.");return j}},Vt.Component=S,Vt.Fragment=i,Vt.Profiler=o,Vt.PureComponent=N,Vt.StrictMode=r,Vt.Suspense=d,Vt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=C,Vt.__COMPILER_RUNTIME={__proto__:null,c:function(j){return C.H.useMemoCache(j)}},Vt.cache=function(j){return function(){return j.apply(null,arguments)}},Vt.cloneElement=function(j,B,F){if(j==null)throw Error("The argument must be a React element, but you passed "+j+".");var ut=x({},j.props),ct=j.key,rt=void 0;if(B!=null)for(vt in B.ref!==void 0&&(rt=void 0),B.key!==void 0&&(ct=""+B.key),B)!U.call(B,vt)||vt==="key"||vt==="__self"||vt==="__source"||vt==="ref"&&B.ref===void 0||(ut[vt]=B[vt]);var vt=arguments.length-2;if(vt===1)ut.children=F;else if(1<vt){for(var St=Array(vt),ot=0;ot<vt;ot++)St[ot]=arguments[ot+2];ut.children=St}return R(j.type,ct,void 0,void 0,rt,ut)},Vt.createContext=function(j){return j={$$typeof:h,_currentValue:j,_currentValue2:j,_threadCount:0,Provider:null,Consumer:null},j.Provider=j,j.Consumer={$$typeof:l,_context:j},j},Vt.createElement=function(j,B,F){var ut,ct={},rt=null;if(B!=null)for(ut in B.key!==void 0&&(rt=""+B.key),B)U.call(B,ut)&&ut!=="key"&&ut!=="__self"&&ut!=="__source"&&(ct[ut]=B[ut]);var vt=arguments.length-2;if(vt===1)ct.children=F;else if(1<vt){for(var St=Array(vt),ot=0;ot<vt;ot++)St[ot]=arguments[ot+2];ct.children=St}if(j&&j.defaultProps)for(ut in vt=j.defaultProps,vt)ct[ut]===void 0&&(ct[ut]=vt[ut]);return R(j,rt,void 0,void 0,null,ct)},Vt.createRef=function(){return{current:null}},Vt.forwardRef=function(j){return{$$typeof:c,render:j}},Vt.isValidElement=V,Vt.lazy=function(j){return{$$typeof:m,_payload:{_status:-1,_result:j},_init:H}},Vt.memo=function(j,B){return{$$typeof:p,type:j,compare:B===void 0?null:B}},Vt.startTransition=function(j){var B=C.T,F={};C.T=F;try{var ut=j(),ct=C.S;ct!==null&&ct(F,ut),typeof ut=="object"&&ut!==null&&typeof ut.then=="function"&&ut.then(tt,ht)}catch(rt){ht(rt)}finally{C.T=B}},Vt.unstable_useCacheRefresh=function(){return C.H.useCacheRefresh()},Vt.use=function(j){return C.H.use(j)},Vt.useActionState=function(j,B,F){return C.H.useActionState(j,B,F)},Vt.useCallback=function(j,B){return C.H.useCallback(j,B)},Vt.useContext=function(j){return C.H.useContext(j)},Vt.useDebugValue=function(){},Vt.useDeferredValue=function(j,B){return C.H.useDeferredValue(j,B)},Vt.useEffect=function(j,B,F){var ut=C.H;if(typeof F=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return ut.useEffect(j,B)},Vt.useId=function(){return C.H.useId()},Vt.useImperativeHandle=function(j,B,F){return C.H.useImperativeHandle(j,B,F)},Vt.useInsertionEffect=function(j,B){return C.H.useInsertionEffect(j,B)},Vt.useLayoutEffect=function(j,B){return C.H.useLayoutEffect(j,B)},Vt.useMemo=function(j,B){return C.H.useMemo(j,B)},Vt.useOptimistic=function(j,B){return C.H.useOptimistic(j,B)},Vt.useReducer=function(j,B,F){return C.H.useReducer(j,B,F)},Vt.useRef=function(j){return C.H.useRef(j)},Vt.useState=function(j){return C.H.useState(j)},Vt.useSyncExternalStore=function(j,B,F){return C.H.useSyncExternalStore(j,B,F)},Vt.useTransition=function(){return C.H.useTransition()},Vt.version="19.1.1",Vt}var Mg;function ef(){return Mg||(Mg=1,_h.exports=b1()),_h.exports}var wt=ef();const S1=Fl(wt);var vh={exports:{}},Ha={},yh={exports:{}},bh={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dg;function x1(){return Dg||(Dg=1,(function(u){function n(Z,H){var ht=Z.length;Z.push(H);t:for(;0<ht;){var tt=ht-1>>>1,j=Z[tt];if(0<o(j,H))Z[tt]=H,Z[ht]=j,ht=tt;else break t}}function i(Z){return Z.length===0?null:Z[0]}function r(Z){if(Z.length===0)return null;var H=Z[0],ht=Z.pop();if(ht!==H){Z[0]=ht;t:for(var tt=0,j=Z.length,B=j>>>1;tt<B;){var F=2*(tt+1)-1,ut=Z[F],ct=F+1,rt=Z[ct];if(0>o(ut,ht))ct<j&&0>o(rt,ut)?(Z[tt]=rt,Z[ct]=ht,tt=ct):(Z[tt]=ut,Z[F]=ht,tt=F);else if(ct<j&&0>o(rt,ht))Z[tt]=rt,Z[ct]=ht,tt=ct;else break t}}return H}function o(Z,H){var ht=Z.sortIndex-H.sortIndex;return ht!==0?ht:Z.id-H.id}if(u.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;u.unstable_now=function(){return l.now()}}else{var h=Date,c=h.now();u.unstable_now=function(){return h.now()-c}}var d=[],p=[],m=1,_=null,b=3,v=!1,x=!1,y=!1,S=!1,T=typeof setTimeout=="function"?setTimeout:null,N=typeof clearTimeout=="function"?clearTimeout:null,O=typeof setImmediate<"u"?setImmediate:null;function E(Z){for(var H=i(p);H!==null;){if(H.callback===null)r(p);else if(H.startTime<=Z)r(p),H.sortIndex=H.expirationTime,n(d,H);else break;H=i(p)}}function C(Z){if(y=!1,E(Z),!x)if(i(d)!==null)x=!0,U||(U=!0,D());else{var H=i(p);H!==null&&J(C,H.startTime-Z)}}var U=!1,R=-1,z=5,V=-1;function P(){return S?!0:!(u.unstable_now()-V<z)}function et(){if(S=!1,U){var Z=u.unstable_now();V=Z;var H=!0;try{t:{x=!1,y&&(y=!1,N(R),R=-1),v=!0;var ht=b;try{e:{for(E(Z),_=i(d);_!==null&&!(_.expirationTime>Z&&P());){var tt=_.callback;if(typeof tt=="function"){_.callback=null,b=_.priorityLevel;var j=tt(_.expirationTime<=Z);if(Z=u.unstable_now(),typeof j=="function"){_.callback=j,E(Z),H=!0;break e}_===i(d)&&r(d),E(Z)}else r(d);_=i(d)}if(_!==null)H=!0;else{var B=i(p);B!==null&&J(C,B.startTime-Z),H=!1}}break t}finally{_=null,b=ht,v=!1}H=void 0}}finally{H?D():U=!1}}}var D;if(typeof O=="function")D=function(){O(et)};else if(typeof MessageChannel<"u"){var X=new MessageChannel,w=X.port2;X.port1.onmessage=et,D=function(){w.postMessage(null)}}else D=function(){T(et,0)};function J(Z,H){R=T(function(){Z(u.unstable_now())},H)}u.unstable_IdlePriority=5,u.unstable_ImmediatePriority=1,u.unstable_LowPriority=4,u.unstable_NormalPriority=3,u.unstable_Profiling=null,u.unstable_UserBlockingPriority=2,u.unstable_cancelCallback=function(Z){Z.callback=null},u.unstable_forceFrameRate=function(Z){0>Z||125<Z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):z=0<Z?Math.floor(1e3/Z):5},u.unstable_getCurrentPriorityLevel=function(){return b},u.unstable_next=function(Z){switch(b){case 1:case 2:case 3:var H=3;break;default:H=b}var ht=b;b=H;try{return Z()}finally{b=ht}},u.unstable_requestPaint=function(){S=!0},u.unstable_runWithPriority=function(Z,H){switch(Z){case 1:case 2:case 3:case 4:case 5:break;default:Z=3}var ht=b;b=Z;try{return H()}finally{b=ht}},u.unstable_scheduleCallback=function(Z,H,ht){var tt=u.unstable_now();switch(typeof ht=="object"&&ht!==null?(ht=ht.delay,ht=typeof ht=="number"&&0<ht?tt+ht:tt):ht=tt,Z){case 1:var j=-1;break;case 2:j=250;break;case 5:j=1073741823;break;case 4:j=1e4;break;default:j=5e3}return j=ht+j,Z={id:m++,callback:H,priorityLevel:Z,startTime:ht,expirationTime:j,sortIndex:-1},ht>tt?(Z.sortIndex=ht,n(p,Z),i(d)===null&&Z===i(p)&&(y?(N(R),R=-1):y=!0,J(C,ht-tt))):(Z.sortIndex=j,n(d,Z),x||v||(x=!0,U||(U=!0,D()))),Z},u.unstable_shouldYield=P,u.unstable_wrapCallback=function(Z){var H=b;return function(){var ht=b;b=H;try{return Z.apply(this,arguments)}finally{b=ht}}}})(bh)),bh}var Rg;function T1(){return Rg||(Rg=1,yh.exports=x1()),yh.exports}var Sh={exports:{}},$e={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zg;function w1(){if(zg)return $e;zg=1;var u=ef();function n(d){var p="https://react.dev/errors/"+d;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var m=2;m<arguments.length;m++)p+="&args[]="+encodeURIComponent(arguments[m])}return"Minified React error #"+d+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var r={d:{f:i,r:function(){throw Error(n(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function l(d,p,m){var _=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:_==null?null:""+_,children:d,containerInfo:p,implementation:m}}var h=u.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(d,p){if(d==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return $e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,$e.createPortal=function(d,p){var m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(n(299));return l(d,p,null,m)},$e.flushSync=function(d){var p=h.T,m=r.p;try{if(h.T=null,r.p=2,d)return d()}finally{h.T=p,r.p=m,r.d.f()}},$e.preconnect=function(d,p){typeof d=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,r.d.C(d,p))},$e.prefetchDNS=function(d){typeof d=="string"&&r.d.D(d)},$e.preinit=function(d,p){if(typeof d=="string"&&p&&typeof p.as=="string"){var m=p.as,_=c(m,p.crossOrigin),b=typeof p.integrity=="string"?p.integrity:void 0,v=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;m==="style"?r.d.S(d,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:_,integrity:b,fetchPriority:v}):m==="script"&&r.d.X(d,{crossOrigin:_,integrity:b,fetchPriority:v,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},$e.preinitModule=function(d,p){if(typeof d=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var m=c(p.as,p.crossOrigin);r.d.M(d,{crossOrigin:m,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&r.d.M(d)},$e.preload=function(d,p){if(typeof d=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var m=p.as,_=c(m,p.crossOrigin);r.d.L(d,m,{crossOrigin:_,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},$e.preloadModule=function(d,p){if(typeof d=="string")if(p){var m=c(p.as,p.crossOrigin);r.d.m(d,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:m,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else r.d.m(d)},$e.requestFormReset=function(d){r.d.r(d)},$e.unstable_batchedUpdates=function(d,p){return d(p)},$e.useFormState=function(d,p,m){return h.H.useFormState(d,p,m)},$e.useFormStatus=function(){return h.H.useHostTransitionStatus()},$e.version="19.1.1",$e}var jg;function A1(){if(jg)return Sh.exports;jg=1;function u(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(u)}catch(n){console.error(n)}}return u(),Sh.exports=w1(),Sh.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ug;function k1(){if(Ug)return Ha;Ug=1;var u=T1(),n=ef(),i=A1();function r(t){var e="https://react.dev/errors/"+t;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)e+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function l(t){var e=t,s=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,(e.flags&4098)!==0&&(s=e.return),t=e.return;while(t)}return e.tag===3?s:null}function h(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function c(t){if(l(t)!==t)throw Error(r(188))}function d(t){var e=t.alternate;if(!e){if(e=l(t),e===null)throw Error(r(188));return e!==t?null:t}for(var s=t,a=e;;){var f=s.return;if(f===null)break;var g=f.alternate;if(g===null){if(a=f.return,a!==null){s=a;continue}break}if(f.child===g.child){for(g=f.child;g;){if(g===s)return c(f),t;if(g===a)return c(f),e;g=g.sibling}throw Error(r(188))}if(s.return!==a.return)s=f,a=g;else{for(var k=!1,M=f.child;M;){if(M===s){k=!0,s=f,a=g;break}if(M===a){k=!0,a=f,s=g;break}M=M.sibling}if(!k){for(M=g.child;M;){if(M===s){k=!0,s=g,a=f;break}if(M===a){k=!0,a=g,s=f;break}M=M.sibling}if(!k)throw Error(r(189))}}if(s.alternate!==a)throw Error(r(190))}if(s.tag!==3)throw Error(r(188));return s.stateNode.current===s?t:e}function p(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t;for(t=t.child;t!==null;){if(e=p(t),e!==null)return e;t=t.sibling}return null}var m=Object.assign,_=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),v=Symbol.for("react.portal"),x=Symbol.for("react.fragment"),y=Symbol.for("react.strict_mode"),S=Symbol.for("react.profiler"),T=Symbol.for("react.provider"),N=Symbol.for("react.consumer"),O=Symbol.for("react.context"),E=Symbol.for("react.forward_ref"),C=Symbol.for("react.suspense"),U=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),z=Symbol.for("react.lazy"),V=Symbol.for("react.activity"),P=Symbol.for("react.memo_cache_sentinel"),et=Symbol.iterator;function D(t){return t===null||typeof t!="object"?null:(t=et&&t[et]||t["@@iterator"],typeof t=="function"?t:null)}var X=Symbol.for("react.client.reference");function w(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===X?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case x:return"Fragment";case S:return"Profiler";case y:return"StrictMode";case C:return"Suspense";case U:return"SuspenseList";case V:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case v:return"Portal";case O:return(t.displayName||"Context")+".Provider";case N:return(t._context.displayName||"Context")+".Consumer";case E:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case R:return e=t.displayName||null,e!==null?e:w(t.type)||"Memo";case z:e=t._payload,t=t._init;try{return w(t(e))}catch{}}return null}var J=Array.isArray,Z=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,H=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ht={pending:!1,data:null,method:null,action:null},tt=[],j=-1;function B(t){return{current:t}}function F(t){0>j||(t.current=tt[j],tt[j]=null,j--)}function ut(t,e){j++,tt[j]=t.current,t.current=e}var ct=B(null),rt=B(null),vt=B(null),St=B(null);function ot(t,e){switch(ut(vt,e),ut(rt,t),ut(ct,null),e.nodeType){case 9:case 11:t=(t=e.documentElement)&&(t=t.namespaceURI)?ng(t):0;break;default:if(t=e.tagName,e=e.namespaceURI)e=ng(e),t=ig(e,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}F(ct),ut(ct,t)}function At(){F(ct),F(rt),F(vt)}function Et(t){t.memoizedState!==null&&ut(St,t);var e=ct.current,s=ig(e,t.type);e!==s&&(ut(rt,t),ut(ct,s))}function Bt(t){rt.current===t&&(F(ct),F(rt)),St.current===t&&(F(St),Ba._currentValue=ht)}var ue=Object.prototype.hasOwnProperty,$t=u.unstable_scheduleCallback,A=u.unstable_cancelCallback,Q=u.unstable_shouldYield,K=u.unstable_requestPaint,q=u.unstable_now,I=u.unstable_getCurrentPriorityLevel,Y=u.unstable_ImmediatePriority,ft=u.unstable_UserBlockingPriority,pt=u.unstable_NormalPriority,nt=u.unstable_LowPriority,_t=u.unstable_IdlePriority,Tt=u.log,bt=u.unstable_setDisableYieldValue,Ct=null,jt=null;function yt(t){if(typeof Tt=="function"&&bt(t),jt&&typeof jt.setStrictMode=="function")try{jt.setStrictMode(Ct,t)}catch{}}var xt=Math.clz32?Math.clz32:Qt,qt=Math.log,Ut=Math.LN2;function Qt(t){return t>>>=0,t===0?32:31-(qt(t)/Ut|0)|0}var zt=256,me=4194304;function ie(t){var e=t&42;if(e!==0)return e;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Jt(t,e,s){var a=t.pendingLanes;if(a===0)return 0;var f=0,g=t.suspendedLanes,k=t.pingedLanes;t=t.warmLanes;var M=a&134217727;return M!==0?(a=M&~g,a!==0?f=ie(a):(k&=M,k!==0?f=ie(k):s||(s=M&~t,s!==0&&(f=ie(s))))):(M=a&~g,M!==0?f=ie(M):k!==0?f=ie(k):s||(s=a&~t,s!==0&&(f=ie(s)))),f===0?0:e!==0&&e!==f&&(e&g)===0&&(g=f&-f,s=e&-e,g>=s||g===32&&(s&4194048)!==0)?e:f}function Ce(t,e){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&e)===0}function cs(t,e){switch(t){case 1:case 2:case 4:case 8:case 64:return e+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function qn(){var t=zt;return zt<<=1,(zt&4194048)===0&&(zt=256),t}function Yt(){var t=me;return me<<=1,(me&62914560)===0&&(me=4194304),t}function ce(t){for(var e=[],s=0;31>s;s++)e.push(t);return e}function fe(t,e){t.pendingLanes|=e,e!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function te(t,e,s,a,f,g){var k=t.pendingLanes;t.pendingLanes=s,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=s,t.entangledLanes&=s,t.errorRecoveryDisabledLanes&=s,t.shellSuspendCounter=0;var M=t.entanglements,G=t.expirationTimes,st=t.hiddenUpdates;for(s=k&~s;0<s;){var dt=31-xt(s),gt=1<<dt;M[dt]=0,G[dt]=-1;var at=st[dt];if(at!==null)for(st[dt]=null,dt=0;dt<at.length;dt++){var lt=at[dt];lt!==null&&(lt.lane&=-536870913)}s&=~gt}a!==0&&xe(t,a,0),g!==0&&f===0&&t.tag!==0&&(t.suspendedLanes|=g&~(k&~e))}function xe(t,e,s){t.pendingLanes|=e,t.suspendedLanes&=~e;var a=31-xt(e);t.entangledLanes|=e,t.entanglements[a]=t.entanglements[a]|1073741824|s&4194090}function hs(t,e){var s=t.entangledLanes|=e;for(t=t.entanglements;s;){var a=31-xt(s),f=1<<a;f&e|t[a]&e&&(t[a]|=e),s&=~f}}function Mi(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function oi(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function mn(){var t=H.p;return t!==0?t:(t=window.event,t===void 0?32:xg(t.type))}function Vn(t,e){var s=H.p;try{return H.p=t,e()}finally{H.p=s}}var Cn=Math.random().toString(36).slice(2),Ve="__reactFiber$"+Cn,Ke="__reactProps$"+Cn,Hs="__reactContainer$"+Cn,lu="__reactEvents$"+Cn,lv="__reactListeners$"+Cn,uv="__reactHandles$"+Cn,Gf="__reactResources$"+Cn,Xr="__reactMarker$"+Cn;function uu(t){delete t[Ve],delete t[Ke],delete t[lu],delete t[lv],delete t[uv]}function Gs(t){var e=t[Ve];if(e)return e;for(var s=t.parentNode;s;){if(e=s[Hs]||s[Ve]){if(s=e.alternate,e.child!==null||s!==null&&s.child!==null)for(t=og(t);t!==null;){if(s=t[Ve])return s;t=og(t)}return e}t=s,s=t.parentNode}return null}function Zs(t){if(t=t[Ve]||t[Hs]){var e=t.tag;if(e===5||e===6||e===13||e===26||e===27||e===3)return t}return null}function Wr(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t.stateNode;throw Error(r(33))}function Ys(t){var e=t[Gf];return e||(e=t[Gf]={hoistableStyles:new Map,hoistableScripts:new Map}),e}function Le(t){t[Xr]=!0}var Zf=new Set,Yf={};function fs(t,e){Ps(t,e),Ps(t+"Capture",e)}function Ps(t,e){for(Yf[t]=e,t=0;t<e.length;t++)Zf.add(e[t])}var cv=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Pf={},Xf={};function hv(t){return ue.call(Xf,t)?!0:ue.call(Pf,t)?!1:cv.test(t)?Xf[t]=!0:(Pf[t]=!0,!1)}function ho(t,e,s){if(hv(e))if(s===null)t.removeAttribute(e);else{switch(typeof s){case"undefined":case"function":case"symbol":t.removeAttribute(e);return;case"boolean":var a=e.toLowerCase().slice(0,5);if(a!=="data-"&&a!=="aria-"){t.removeAttribute(e);return}}t.setAttribute(e,""+s)}}function fo(t,e,s){if(s===null)t.removeAttribute(e);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(e);return}t.setAttribute(e,""+s)}}function li(t,e,s,a){if(a===null)t.removeAttribute(s);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(s);return}t.setAttributeNS(e,s,""+a)}}var cu,Wf;function Xs(t){if(cu===void 0)try{throw Error()}catch(s){var e=s.stack.trim().match(/\n( *(at )?)/);cu=e&&e[1]||"",Wf=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+cu+t+Wf}var hu=!1;function fu(t,e){if(!t||hu)return"";hu=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var a={DetermineComponentFrameRoot:function(){try{if(e){var gt=function(){throw Error()};if(Object.defineProperty(gt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(gt,[])}catch(lt){var at=lt}Reflect.construct(t,[],gt)}else{try{gt.call()}catch(lt){at=lt}t.call(gt.prototype)}}else{try{throw Error()}catch(lt){at=lt}(gt=t())&&typeof gt.catch=="function"&&gt.catch(function(){})}}catch(lt){if(lt&&at&&typeof lt.stack=="string")return[lt.stack,at.stack]}return[null,null]}};a.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(a.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(a.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var g=a.DetermineComponentFrameRoot(),k=g[0],M=g[1];if(k&&M){var G=k.split(`
`),st=M.split(`
`);for(f=a=0;a<G.length&&!G[a].includes("DetermineComponentFrameRoot");)a++;for(;f<st.length&&!st[f].includes("DetermineComponentFrameRoot");)f++;if(a===G.length||f===st.length)for(a=G.length-1,f=st.length-1;1<=a&&0<=f&&G[a]!==st[f];)f--;for(;1<=a&&0<=f;a--,f--)if(G[a]!==st[f]){if(a!==1||f!==1)do if(a--,f--,0>f||G[a]!==st[f]){var dt=`
`+G[a].replace(" at new "," at ");return t.displayName&&dt.includes("<anonymous>")&&(dt=dt.replace("<anonymous>",t.displayName)),dt}while(1<=a&&0<=f);break}}}finally{hu=!1,Error.prepareStackTrace=s}return(s=t?t.displayName||t.name:"")?Xs(s):""}function fv(t){switch(t.tag){case 26:case 27:case 5:return Xs(t.type);case 16:return Xs("Lazy");case 13:return Xs("Suspense");case 19:return Xs("SuspenseList");case 0:case 15:return fu(t.type,!1);case 11:return fu(t.type.render,!1);case 1:return fu(t.type,!0);case 31:return Xs("Activity");default:return""}}function Qf(t){try{var e="";do e+=fv(t),t=t.return;while(t);return e}catch(s){return`
Error generating stack: `+s.message+`
`+s.stack}}function Nn(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Kf(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function dv(t){var e=Kf(t)?"checked":"value",s=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),a=""+t[e];if(!t.hasOwnProperty(e)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var f=s.get,g=s.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return f.call(this)},set:function(k){a=""+k,g.call(this,k)}}),Object.defineProperty(t,e,{enumerable:s.enumerable}),{getValue:function(){return a},setValue:function(k){a=""+k},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function po(t){t._valueTracker||(t._valueTracker=dv(t))}function Jf(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var s=e.getValue(),a="";return t&&(a=Kf(t)?t.checked?"true":"false":t.value),t=a,t!==s?(e.setValue(t),!0):!1}function mo(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var pv=/[\n"\\]/g;function En(t){return t.replace(pv,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function du(t,e,s,a,f,g,k,M){t.name="",k!=null&&typeof k!="function"&&typeof k!="symbol"&&typeof k!="boolean"?t.type=k:t.removeAttribute("type"),e!=null?k==="number"?(e===0&&t.value===""||t.value!=e)&&(t.value=""+Nn(e)):t.value!==""+Nn(e)&&(t.value=""+Nn(e)):k!=="submit"&&k!=="reset"||t.removeAttribute("value"),e!=null?pu(t,k,Nn(e)):s!=null?pu(t,k,Nn(s)):a!=null&&t.removeAttribute("value"),f==null&&g!=null&&(t.defaultChecked=!!g),f!=null&&(t.checked=f&&typeof f!="function"&&typeof f!="symbol"),M!=null&&typeof M!="function"&&typeof M!="symbol"&&typeof M!="boolean"?t.name=""+Nn(M):t.removeAttribute("name")}function $f(t,e,s,a,f,g,k,M){if(g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(t.type=g),e!=null||s!=null){if(!(g!=="submit"&&g!=="reset"||e!=null))return;s=s!=null?""+Nn(s):"",e=e!=null?""+Nn(e):s,M||e===t.value||(t.value=e),t.defaultValue=e}a=a??f,a=typeof a!="function"&&typeof a!="symbol"&&!!a,t.checked=M?t.checked:!!a,t.defaultChecked=!!a,k!=null&&typeof k!="function"&&typeof k!="symbol"&&typeof k!="boolean"&&(t.name=k)}function pu(t,e,s){e==="number"&&mo(t.ownerDocument)===t||t.defaultValue===""+s||(t.defaultValue=""+s)}function Ws(t,e,s,a){if(t=t.options,e){e={};for(var f=0;f<s.length;f++)e["$"+s[f]]=!0;for(s=0;s<t.length;s++)f=e.hasOwnProperty("$"+t[s].value),t[s].selected!==f&&(t[s].selected=f),f&&a&&(t[s].defaultSelected=!0)}else{for(s=""+Nn(s),e=null,f=0;f<t.length;f++){if(t[f].value===s){t[f].selected=!0,a&&(t[f].defaultSelected=!0);return}e!==null||t[f].disabled||(e=t[f])}e!==null&&(e.selected=!0)}}function td(t,e,s){if(e!=null&&(e=""+Nn(e),e!==t.value&&(t.value=e),s==null)){t.defaultValue!==e&&(t.defaultValue=e);return}t.defaultValue=s!=null?""+Nn(s):""}function ed(t,e,s,a){if(e==null){if(a!=null){if(s!=null)throw Error(r(92));if(J(a)){if(1<a.length)throw Error(r(93));a=a[0]}s=a}s==null&&(s=""),e=s}s=Nn(e),t.defaultValue=s,a=t.textContent,a===s&&a!==""&&a!==null&&(t.value=a)}function Qs(t,e){if(e){var s=t.firstChild;if(s&&s===t.lastChild&&s.nodeType===3){s.nodeValue=e;return}}t.textContent=e}var mv=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function nd(t,e,s){var a=e.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?a?t.setProperty(e,""):e==="float"?t.cssFloat="":t[e]="":a?t.setProperty(e,s):typeof s!="number"||s===0||mv.has(e)?e==="float"?t.cssFloat=s:t[e]=(""+s).trim():t[e]=s+"px"}function id(t,e,s){if(e!=null&&typeof e!="object")throw Error(r(62));if(t=t.style,s!=null){for(var a in s)!s.hasOwnProperty(a)||e!=null&&e.hasOwnProperty(a)||(a.indexOf("--")===0?t.setProperty(a,""):a==="float"?t.cssFloat="":t[a]="");for(var f in e)a=e[f],e.hasOwnProperty(f)&&s[f]!==a&&nd(t,f,a)}else for(var g in e)e.hasOwnProperty(g)&&nd(t,g,e[g])}function mu(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var gv=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),_v=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function go(t){return _v.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var gu=null;function _u(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ks=null,Js=null;function sd(t){var e=Zs(t);if(e&&(t=e.stateNode)){var s=t[Ke]||null;t:switch(t=e.stateNode,e.type){case"input":if(du(t,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),e=s.name,s.type==="radio"&&e!=null){for(s=t;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+En(""+e)+'"][type="radio"]'),e=0;e<s.length;e++){var a=s[e];if(a!==t&&a.form===t.form){var f=a[Ke]||null;if(!f)throw Error(r(90));du(a,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(e=0;e<s.length;e++)a=s[e],a.form===t.form&&Jf(a)}break t;case"textarea":td(t,s.value,s.defaultValue);break t;case"select":e=s.value,e!=null&&Ws(t,!!s.multiple,e,!1)}}}var vu=!1;function rd(t,e,s){if(vu)return t(e,s);vu=!0;try{var a=t(e);return a}finally{if(vu=!1,(Ks!==null||Js!==null)&&(el(),Ks&&(e=Ks,t=Js,Js=Ks=null,sd(e),t)))for(e=0;e<t.length;e++)sd(t[e])}}function Qr(t,e){var s=t.stateNode;if(s===null)return null;var a=s[Ke]||null;if(a===null)return null;s=a[e];t:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(t=t.type,a=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!a;break t;default:t=!1}if(t)return null;if(s&&typeof s!="function")throw Error(r(231,e,typeof s));return s}var ui=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),yu=!1;if(ui)try{var Kr={};Object.defineProperty(Kr,"passive",{get:function(){yu=!0}}),window.addEventListener("test",Kr,Kr),window.removeEventListener("test",Kr,Kr)}catch{yu=!1}var Di=null,bu=null,_o=null;function ad(){if(_o)return _o;var t,e=bu,s=e.length,a,f="value"in Di?Di.value:Di.textContent,g=f.length;for(t=0;t<s&&e[t]===f[t];t++);var k=s-t;for(a=1;a<=k&&e[s-a]===f[g-a];a++);return _o=f.slice(t,1<a?1-a:void 0)}function vo(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function yo(){return!0}function od(){return!1}function ln(t){function e(s,a,f,g,k){this._reactName=s,this._targetInst=f,this.type=a,this.nativeEvent=g,this.target=k,this.currentTarget=null;for(var M in t)t.hasOwnProperty(M)&&(s=t[M],this[M]=s?s(g):g[M]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?yo:od,this.isPropagationStopped=od,this}return m(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=yo)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=yo)},persist:function(){},isPersistent:yo}),e}var ds={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},bo=ln(ds),Jr=m({},ds,{view:0,detail:0}),vv=ln(Jr),Su,xu,$r,So=m({},Jr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:wu,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==$r&&($r&&t.type==="mousemove"?(Su=t.screenX-$r.screenX,xu=t.screenY-$r.screenY):xu=Su=0,$r=t),Su)},movementY:function(t){return"movementY"in t?t.movementY:xu}}),ld=ln(So),yv=m({},So,{dataTransfer:0}),bv=ln(yv),Sv=m({},Jr,{relatedTarget:0}),Tu=ln(Sv),xv=m({},ds,{animationName:0,elapsedTime:0,pseudoElement:0}),Tv=ln(xv),wv=m({},ds,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Av=ln(wv),kv=m({},ds,{data:0}),ud=ln(kv),Cv={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Nv={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ev={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ov(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Ev[t])?!!e[t]:!1}function wu(){return Ov}var Mv=m({},Jr,{key:function(t){if(t.key){var e=Cv[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=vo(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Nv[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:wu,charCode:function(t){return t.type==="keypress"?vo(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?vo(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Dv=ln(Mv),Rv=m({},So,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),cd=ln(Rv),zv=m({},Jr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:wu}),jv=ln(zv),Uv=m({},ds,{propertyName:0,elapsedTime:0,pseudoElement:0}),Bv=ln(Uv),Iv=m({},So,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),qv=ln(Iv),Vv=m({},ds,{newState:0,oldState:0}),Lv=ln(Vv),Fv=[9,13,27,32],Au=ui&&"CompositionEvent"in window,ta=null;ui&&"documentMode"in document&&(ta=document.documentMode);var Hv=ui&&"TextEvent"in window&&!ta,hd=ui&&(!Au||ta&&8<ta&&11>=ta),fd=" ",dd=!1;function pd(t,e){switch(t){case"keyup":return Fv.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function md(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var $s=!1;function Gv(t,e){switch(t){case"compositionend":return md(e);case"keypress":return e.which!==32?null:(dd=!0,fd);case"textInput":return t=e.data,t===fd&&dd?null:t;default:return null}}function Zv(t,e){if($s)return t==="compositionend"||!Au&&pd(t,e)?(t=ad(),_o=bu=Di=null,$s=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return hd&&e.locale!=="ko"?null:e.data;default:return null}}var Yv={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function gd(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!Yv[t.type]:e==="textarea"}function _d(t,e,s,a){Ks?Js?Js.push(a):Js=[a]:Ks=a,e=ol(e,"onChange"),0<e.length&&(s=new bo("onChange","change",null,s,a),t.push({event:s,listeners:e}))}var ea=null,na=null;function Pv(t){Km(t,0)}function xo(t){var e=Wr(t);if(Jf(e))return t}function vd(t,e){if(t==="change")return e}var yd=!1;if(ui){var ku;if(ui){var Cu="oninput"in document;if(!Cu){var bd=document.createElement("div");bd.setAttribute("oninput","return;"),Cu=typeof bd.oninput=="function"}ku=Cu}else ku=!1;yd=ku&&(!document.documentMode||9<document.documentMode)}function Sd(){ea&&(ea.detachEvent("onpropertychange",xd),na=ea=null)}function xd(t){if(t.propertyName==="value"&&xo(na)){var e=[];_d(e,na,t,_u(t)),rd(Pv,e)}}function Xv(t,e,s){t==="focusin"?(Sd(),ea=e,na=s,ea.attachEvent("onpropertychange",xd)):t==="focusout"&&Sd()}function Wv(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return xo(na)}function Qv(t,e){if(t==="click")return xo(e)}function Kv(t,e){if(t==="input"||t==="change")return xo(e)}function Jv(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var gn=typeof Object.is=="function"?Object.is:Jv;function ia(t,e){if(gn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var s=Object.keys(t),a=Object.keys(e);if(s.length!==a.length)return!1;for(a=0;a<s.length;a++){var f=s[a];if(!ue.call(e,f)||!gn(t[f],e[f]))return!1}return!0}function Td(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function wd(t,e){var s=Td(t);t=0;for(var a;s;){if(s.nodeType===3){if(a=t+s.textContent.length,t<=e&&a>=e)return{node:s,offset:e-t};t=a}t:{for(;s;){if(s.nextSibling){s=s.nextSibling;break t}s=s.parentNode}s=void 0}s=Td(s)}}function Ad(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Ad(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function kd(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var e=mo(t.document);e instanceof t.HTMLIFrameElement;){try{var s=typeof e.contentWindow.location.href=="string"}catch{s=!1}if(s)t=e.contentWindow;else break;e=mo(t.document)}return e}function Nu(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}var $v=ui&&"documentMode"in document&&11>=document.documentMode,tr=null,Eu=null,sa=null,Ou=!1;function Cd(t,e,s){var a=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;Ou||tr==null||tr!==mo(a)||(a=tr,"selectionStart"in a&&Nu(a)?a={start:a.selectionStart,end:a.selectionEnd}:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection(),a={anchorNode:a.anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset}),sa&&ia(sa,a)||(sa=a,a=ol(Eu,"onSelect"),0<a.length&&(e=new bo("onSelect","select",null,e,s),t.push({event:e,listeners:a}),e.target=tr)))}function ps(t,e){var s={};return s[t.toLowerCase()]=e.toLowerCase(),s["Webkit"+t]="webkit"+e,s["Moz"+t]="moz"+e,s}var er={animationend:ps("Animation","AnimationEnd"),animationiteration:ps("Animation","AnimationIteration"),animationstart:ps("Animation","AnimationStart"),transitionrun:ps("Transition","TransitionRun"),transitionstart:ps("Transition","TransitionStart"),transitioncancel:ps("Transition","TransitionCancel"),transitionend:ps("Transition","TransitionEnd")},Mu={},Nd={};ui&&(Nd=document.createElement("div").style,"AnimationEvent"in window||(delete er.animationend.animation,delete er.animationiteration.animation,delete er.animationstart.animation),"TransitionEvent"in window||delete er.transitionend.transition);function ms(t){if(Mu[t])return Mu[t];if(!er[t])return t;var e=er[t],s;for(s in e)if(e.hasOwnProperty(s)&&s in Nd)return Mu[t]=e[s];return t}var Ed=ms("animationend"),Od=ms("animationiteration"),Md=ms("animationstart"),ty=ms("transitionrun"),ey=ms("transitionstart"),ny=ms("transitioncancel"),Dd=ms("transitionend"),Rd=new Map,Du="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Du.push("scrollEnd");function Ln(t,e){Rd.set(t,e),fs(e,[t])}var zd=new WeakMap;function On(t,e){if(typeof t=="object"&&t!==null){var s=zd.get(t);return s!==void 0?s:(e={value:t,source:e,stack:Qf(e)},zd.set(t,e),e)}return{value:t,source:e,stack:Qf(e)}}var Mn=[],nr=0,Ru=0;function To(){for(var t=nr,e=Ru=nr=0;e<t;){var s=Mn[e];Mn[e++]=null;var a=Mn[e];Mn[e++]=null;var f=Mn[e];Mn[e++]=null;var g=Mn[e];if(Mn[e++]=null,a!==null&&f!==null){var k=a.pending;k===null?f.next=f:(f.next=k.next,k.next=f),a.pending=f}g!==0&&jd(s,f,g)}}function wo(t,e,s,a){Mn[nr++]=t,Mn[nr++]=e,Mn[nr++]=s,Mn[nr++]=a,Ru|=a,t.lanes|=a,t=t.alternate,t!==null&&(t.lanes|=a)}function zu(t,e,s,a){return wo(t,e,s,a),Ao(t)}function ir(t,e){return wo(t,null,null,e),Ao(t)}function jd(t,e,s){t.lanes|=s;var a=t.alternate;a!==null&&(a.lanes|=s);for(var f=!1,g=t.return;g!==null;)g.childLanes|=s,a=g.alternate,a!==null&&(a.childLanes|=s),g.tag===22&&(t=g.stateNode,t===null||t._visibility&1||(f=!0)),t=g,g=g.return;return t.tag===3?(g=t.stateNode,f&&e!==null&&(f=31-xt(s),t=g.hiddenUpdates,a=t[f],a===null?t[f]=[e]:a.push(e),e.lane=s|536870912),g):null}function Ao(t){if(50<Ea)throw Ea=0,Vc=null,Error(r(185));for(var e=t.return;e!==null;)t=e,e=t.return;return t.tag===3?t.stateNode:null}var sr={};function iy(t,e,s,a){this.tag=t,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function _n(t,e,s,a){return new iy(t,e,s,a)}function ju(t){return t=t.prototype,!(!t||!t.isReactComponent)}function ci(t,e){var s=t.alternate;return s===null?(s=_n(t.tag,e,t.key,t.mode),s.elementType=t.elementType,s.type=t.type,s.stateNode=t.stateNode,s.alternate=t,t.alternate=s):(s.pendingProps=e,s.type=t.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=t.flags&65011712,s.childLanes=t.childLanes,s.lanes=t.lanes,s.child=t.child,s.memoizedProps=t.memoizedProps,s.memoizedState=t.memoizedState,s.updateQueue=t.updateQueue,e=t.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},s.sibling=t.sibling,s.index=t.index,s.ref=t.ref,s.refCleanup=t.refCleanup,s}function Ud(t,e){t.flags&=65011714;var s=t.alternate;return s===null?(t.childLanes=0,t.lanes=e,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=s.childLanes,t.lanes=s.lanes,t.child=s.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=s.memoizedProps,t.memoizedState=s.memoizedState,t.updateQueue=s.updateQueue,t.type=s.type,e=s.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),t}function ko(t,e,s,a,f,g){var k=0;if(a=t,typeof t=="function")ju(t)&&(k=1);else if(typeof t=="string")k=r1(t,s,ct.current)?26:t==="html"||t==="head"||t==="body"?27:5;else t:switch(t){case V:return t=_n(31,s,e,f),t.elementType=V,t.lanes=g,t;case x:return gs(s.children,f,g,e);case y:k=8,f|=24;break;case S:return t=_n(12,s,e,f|2),t.elementType=S,t.lanes=g,t;case C:return t=_n(13,s,e,f),t.elementType=C,t.lanes=g,t;case U:return t=_n(19,s,e,f),t.elementType=U,t.lanes=g,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case T:case O:k=10;break t;case N:k=9;break t;case E:k=11;break t;case R:k=14;break t;case z:k=16,a=null;break t}k=29,s=Error(r(130,t===null?"null":typeof t,"")),a=null}return e=_n(k,s,e,f),e.elementType=t,e.type=a,e.lanes=g,e}function gs(t,e,s,a){return t=_n(7,t,a,e),t.lanes=s,t}function Uu(t,e,s){return t=_n(6,t,null,e),t.lanes=s,t}function Bu(t,e,s){return e=_n(4,t.children!==null?t.children:[],t.key,e),e.lanes=s,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}var rr=[],ar=0,Co=null,No=0,Dn=[],Rn=0,_s=null,hi=1,fi="";function vs(t,e){rr[ar++]=No,rr[ar++]=Co,Co=t,No=e}function Bd(t,e,s){Dn[Rn++]=hi,Dn[Rn++]=fi,Dn[Rn++]=_s,_s=t;var a=hi;t=fi;var f=32-xt(a)-1;a&=~(1<<f),s+=1;var g=32-xt(e)+f;if(30<g){var k=f-f%5;g=(a&(1<<k)-1).toString(32),a>>=k,f-=k,hi=1<<32-xt(e)+f|s<<f|a,fi=g+t}else hi=1<<g|s<<f|a,fi=t}function Iu(t){t.return!==null&&(vs(t,1),Bd(t,1,0))}function qu(t){for(;t===Co;)Co=rr[--ar],rr[ar]=null,No=rr[--ar],rr[ar]=null;for(;t===_s;)_s=Dn[--Rn],Dn[Rn]=null,fi=Dn[--Rn],Dn[Rn]=null,hi=Dn[--Rn],Dn[Rn]=null}var nn=null,Te=null,Kt=!1,ys=null,Jn=!1,Vu=Error(r(519));function bs(t){var e=Error(r(418,""));throw oa(On(e,t)),Vu}function Id(t){var e=t.stateNode,s=t.type,a=t.memoizedProps;switch(e[Ve]=t,e[Ke]=a,s){case"dialog":Gt("cancel",e),Gt("close",e);break;case"iframe":case"object":case"embed":Gt("load",e);break;case"video":case"audio":for(s=0;s<Ma.length;s++)Gt(Ma[s],e);break;case"source":Gt("error",e);break;case"img":case"image":case"link":Gt("error",e),Gt("load",e);break;case"details":Gt("toggle",e);break;case"input":Gt("invalid",e),$f(e,a.value,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name,!0),po(e);break;case"select":Gt("invalid",e);break;case"textarea":Gt("invalid",e),ed(e,a.value,a.defaultValue,a.children),po(e)}s=a.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||e.textContent===""+s||a.suppressHydrationWarning===!0||eg(e.textContent,s)?(a.popover!=null&&(Gt("beforetoggle",e),Gt("toggle",e)),a.onScroll!=null&&Gt("scroll",e),a.onScrollEnd!=null&&Gt("scrollend",e),a.onClick!=null&&(e.onclick=ll),e=!0):e=!1,e||bs(t)}function qd(t){for(nn=t.return;nn;)switch(nn.tag){case 5:case 13:Jn=!1;return;case 27:case 3:Jn=!0;return;default:nn=nn.return}}function ra(t){if(t!==nn)return!1;if(!Kt)return qd(t),Kt=!0,!1;var e=t.tag,s;if((s=e!==3&&e!==27)&&((s=e===5)&&(s=t.type,s=!(s!=="form"&&s!=="button")||nh(t.type,t.memoizedProps)),s=!s),s&&Te&&bs(t),qd(t),e===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));t:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8)if(s=t.data,s==="/$"){if(e===0){Te=Hn(t.nextSibling);break t}e--}else s!=="$"&&s!=="$!"&&s!=="$?"||e++;t=t.nextSibling}Te=null}}else e===27?(e=Te,Xi(t.type)?(t=ah,ah=null,Te=t):Te=e):Te=nn?Hn(t.stateNode.nextSibling):null;return!0}function aa(){Te=nn=null,Kt=!1}function Vd(){var t=ys;return t!==null&&(hn===null?hn=t:hn.push.apply(hn,t),ys=null),t}function oa(t){ys===null?ys=[t]:ys.push(t)}var Lu=B(null),Ss=null,di=null;function Ri(t,e,s){ut(Lu,e._currentValue),e._currentValue=s}function pi(t){t._currentValue=Lu.current,F(Lu)}function Fu(t,e,s){for(;t!==null;){var a=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,a!==null&&(a.childLanes|=e)):a!==null&&(a.childLanes&e)!==e&&(a.childLanes|=e),t===s)break;t=t.return}}function Hu(t,e,s,a){var f=t.child;for(f!==null&&(f.return=t);f!==null;){var g=f.dependencies;if(g!==null){var k=f.child;g=g.firstContext;t:for(;g!==null;){var M=g;g=f;for(var G=0;G<e.length;G++)if(M.context===e[G]){g.lanes|=s,M=g.alternate,M!==null&&(M.lanes|=s),Fu(g.return,s,t),a||(k=null);break t}g=M.next}}else if(f.tag===18){if(k=f.return,k===null)throw Error(r(341));k.lanes|=s,g=k.alternate,g!==null&&(g.lanes|=s),Fu(k,s,t),k=null}else k=f.child;if(k!==null)k.return=f;else for(k=f;k!==null;){if(k===t){k=null;break}if(f=k.sibling,f!==null){f.return=k.return,k=f;break}k=k.return}f=k}}function la(t,e,s,a){t=null;for(var f=e,g=!1;f!==null;){if(!g){if((f.flags&524288)!==0)g=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var k=f.alternate;if(k===null)throw Error(r(387));if(k=k.memoizedProps,k!==null){var M=f.type;gn(f.pendingProps.value,k.value)||(t!==null?t.push(M):t=[M])}}else if(f===St.current){if(k=f.alternate,k===null)throw Error(r(387));k.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(t!==null?t.push(Ba):t=[Ba])}f=f.return}t!==null&&Hu(e,t,s,a),e.flags|=262144}function Eo(t){for(t=t.firstContext;t!==null;){if(!gn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function xs(t){Ss=t,di=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Je(t){return Ld(Ss,t)}function Oo(t,e){return Ss===null&&xs(t),Ld(t,e)}function Ld(t,e){var s=e._currentValue;if(e={context:e,memoizedValue:s,next:null},di===null){if(t===null)throw Error(r(308));di=e,t.dependencies={lanes:0,firstContext:e},t.flags|=524288}else di=di.next=e;return s}var sy=typeof AbortController<"u"?AbortController:function(){var t=[],e=this.signal={aborted:!1,addEventListener:function(s,a){t.push(a)}};this.abort=function(){e.aborted=!0,t.forEach(function(s){return s()})}},ry=u.unstable_scheduleCallback,ay=u.unstable_NormalPriority,Be={$$typeof:O,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Gu(){return{controller:new sy,data:new Map,refCount:0}}function ua(t){t.refCount--,t.refCount===0&&ry(ay,function(){t.controller.abort()})}var ca=null,Zu=0,or=0,lr=null;function oy(t,e){if(ca===null){var s=ca=[];Zu=0,or=Pc(),lr={status:"pending",value:void 0,then:function(a){s.push(a)}}}return Zu++,e.then(Fd,Fd),e}function Fd(){if(--Zu===0&&ca!==null){lr!==null&&(lr.status="fulfilled");var t=ca;ca=null,or=0,lr=null;for(var e=0;e<t.length;e++)(0,t[e])()}}function ly(t,e){var s=[],a={status:"pending",value:null,reason:null,then:function(f){s.push(f)}};return t.then(function(){a.status="fulfilled",a.value=e;for(var f=0;f<s.length;f++)(0,s[f])(e)},function(f){for(a.status="rejected",a.reason=f,f=0;f<s.length;f++)(0,s[f])(void 0)}),a}var Hd=Z.S;Z.S=function(t,e){typeof e=="object"&&e!==null&&typeof e.then=="function"&&oy(t,e),Hd!==null&&Hd(t,e)};var Ts=B(null);function Yu(){var t=Ts.current;return t!==null?t:de.pooledCache}function Mo(t,e){e===null?ut(Ts,Ts.current):ut(Ts,e.pool)}function Gd(){var t=Yu();return t===null?null:{parent:Be._currentValue,pool:t}}var ha=Error(r(460)),Zd=Error(r(474)),Do=Error(r(542)),Pu={then:function(){}};function Yd(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Ro(){}function Pd(t,e,s){switch(s=t[s],s===void 0?t.push(e):s!==e&&(e.then(Ro,Ro),e=s),e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,Wd(t),t;default:if(typeof e.status=="string")e.then(Ro,Ro);else{if(t=de,t!==null&&100<t.shellSuspendCounter)throw Error(r(482));t=e,t.status="pending",t.then(function(a){if(e.status==="pending"){var f=e;f.status="fulfilled",f.value=a}},function(a){if(e.status==="pending"){var f=e;f.status="rejected",f.reason=a}})}switch(e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,Wd(t),t}throw fa=e,ha}}var fa=null;function Xd(){if(fa===null)throw Error(r(459));var t=fa;return fa=null,t}function Wd(t){if(t===ha||t===Do)throw Error(r(483))}var zi=!1;function Xu(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Wu(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function ji(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Ui(t,e,s){var a=t.updateQueue;if(a===null)return null;if(a=a.shared,(ee&2)!==0){var f=a.pending;return f===null?e.next=e:(e.next=f.next,f.next=e),a.pending=e,e=Ao(t),jd(t,null,s),e}return wo(t,a,e,s),Ao(t)}function da(t,e,s){if(e=e.updateQueue,e!==null&&(e=e.shared,(s&4194048)!==0)){var a=e.lanes;a&=t.pendingLanes,s|=a,e.lanes=s,hs(t,s)}}function Qu(t,e){var s=t.updateQueue,a=t.alternate;if(a!==null&&(a=a.updateQueue,s===a)){var f=null,g=null;if(s=s.firstBaseUpdate,s!==null){do{var k={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};g===null?f=g=k:g=g.next=k,s=s.next}while(s!==null);g===null?f=g=e:g=g.next=e}else f=g=e;s={baseState:a.baseState,firstBaseUpdate:f,lastBaseUpdate:g,shared:a.shared,callbacks:a.callbacks},t.updateQueue=s;return}t=s.lastBaseUpdate,t===null?s.firstBaseUpdate=e:t.next=e,s.lastBaseUpdate=e}var Ku=!1;function pa(){if(Ku){var t=lr;if(t!==null)throw t}}function ma(t,e,s,a){Ku=!1;var f=t.updateQueue;zi=!1;var g=f.firstBaseUpdate,k=f.lastBaseUpdate,M=f.shared.pending;if(M!==null){f.shared.pending=null;var G=M,st=G.next;G.next=null,k===null?g=st:k.next=st,k=G;var dt=t.alternate;dt!==null&&(dt=dt.updateQueue,M=dt.lastBaseUpdate,M!==k&&(M===null?dt.firstBaseUpdate=st:M.next=st,dt.lastBaseUpdate=G))}if(g!==null){var gt=f.baseState;k=0,dt=st=G=null,M=g;do{var at=M.lane&-536870913,lt=at!==M.lane;if(lt?(Xt&at)===at:(a&at)===at){at!==0&&at===or&&(Ku=!0),dt!==null&&(dt=dt.next={lane:0,tag:M.tag,payload:M.payload,callback:null,next:null});t:{var Dt=t,Ot=M;at=e;var ae=s;switch(Ot.tag){case 1:if(Dt=Ot.payload,typeof Dt=="function"){gt=Dt.call(ae,gt,at);break t}gt=Dt;break t;case 3:Dt.flags=Dt.flags&-65537|128;case 0:if(Dt=Ot.payload,at=typeof Dt=="function"?Dt.call(ae,gt,at):Dt,at==null)break t;gt=m({},gt,at);break t;case 2:zi=!0}}at=M.callback,at!==null&&(t.flags|=64,lt&&(t.flags|=8192),lt=f.callbacks,lt===null?f.callbacks=[at]:lt.push(at))}else lt={lane:at,tag:M.tag,payload:M.payload,callback:M.callback,next:null},dt===null?(st=dt=lt,G=gt):dt=dt.next=lt,k|=at;if(M=M.next,M===null){if(M=f.shared.pending,M===null)break;lt=M,M=lt.next,lt.next=null,f.lastBaseUpdate=lt,f.shared.pending=null}}while(!0);dt===null&&(G=gt),f.baseState=G,f.firstBaseUpdate=st,f.lastBaseUpdate=dt,g===null&&(f.shared.lanes=0),Gi|=k,t.lanes=k,t.memoizedState=gt}}function Qd(t,e){if(typeof t!="function")throw Error(r(191,t));t.call(e)}function Kd(t,e){var s=t.callbacks;if(s!==null)for(t.callbacks=null,t=0;t<s.length;t++)Qd(s[t],e)}var ur=B(null),zo=B(0);function Jd(t,e){t=Si,ut(zo,t),ut(ur,e),Si=t|e.baseLanes}function Ju(){ut(zo,Si),ut(ur,ur.current)}function $u(){Si=zo.current,F(ur),F(zo)}var Bi=0,Lt=null,se=null,Me=null,jo=!1,cr=!1,ws=!1,Uo=0,ga=0,hr=null,uy=0;function Ne(){throw Error(r(321))}function tc(t,e){if(e===null)return!1;for(var s=0;s<e.length&&s<t.length;s++)if(!gn(t[s],e[s]))return!1;return!0}function ec(t,e,s,a,f,g){return Bi=g,Lt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Z.H=t===null||t.memoizedState===null?jp:Up,ws=!1,g=s(a,f),ws=!1,cr&&(g=tp(e,s,a,f)),$d(t),g}function $d(t){Z.H=Fo;var e=se!==null&&se.next!==null;if(Bi=0,Me=se=Lt=null,jo=!1,ga=0,hr=null,e)throw Error(r(300));t===null||Fe||(t=t.dependencies,t!==null&&Eo(t)&&(Fe=!0))}function tp(t,e,s,a){Lt=t;var f=0;do{if(cr&&(hr=null),ga=0,cr=!1,25<=f)throw Error(r(301));if(f+=1,Me=se=null,t.updateQueue!=null){var g=t.updateQueue;g.lastEffect=null,g.events=null,g.stores=null,g.memoCache!=null&&(g.memoCache.index=0)}Z.H=gy,g=e(s,a)}while(cr);return g}function cy(){var t=Z.H,e=t.useState()[0];return e=typeof e.then=="function"?_a(e):e,t=t.useState()[0],(se!==null?se.memoizedState:null)!==t&&(Lt.flags|=1024),e}function nc(){var t=Uo!==0;return Uo=0,t}function ic(t,e,s){e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s}function sc(t){if(jo){for(t=t.memoizedState;t!==null;){var e=t.queue;e!==null&&(e.pending=null),t=t.next}jo=!1}Bi=0,Me=se=Lt=null,cr=!1,ga=Uo=0,hr=null}function un(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Me===null?Lt.memoizedState=Me=t:Me=Me.next=t,Me}function De(){if(se===null){var t=Lt.alternate;t=t!==null?t.memoizedState:null}else t=se.next;var e=Me===null?Lt.memoizedState:Me.next;if(e!==null)Me=e,se=t;else{if(t===null)throw Lt.alternate===null?Error(r(467)):Error(r(310));se=t,t={memoizedState:se.memoizedState,baseState:se.baseState,baseQueue:se.baseQueue,queue:se.queue,next:null},Me===null?Lt.memoizedState=Me=t:Me=Me.next=t}return Me}function rc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function _a(t){var e=ga;return ga+=1,hr===null&&(hr=[]),t=Pd(hr,t,e),e=Lt,(Me===null?e.memoizedState:Me.next)===null&&(e=e.alternate,Z.H=e===null||e.memoizedState===null?jp:Up),t}function Bo(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return _a(t);if(t.$$typeof===O)return Je(t)}throw Error(r(438,String(t)))}function ac(t){var e=null,s=Lt.updateQueue;if(s!==null&&(e=s.memoCache),e==null){var a=Lt.alternate;a!==null&&(a=a.updateQueue,a!==null&&(a=a.memoCache,a!=null&&(e={data:a.data.map(function(f){return f.slice()}),index:0})))}if(e==null&&(e={data:[],index:0}),s===null&&(s=rc(),Lt.updateQueue=s),s.memoCache=e,s=e.data[e.index],s===void 0)for(s=e.data[e.index]=Array(t),a=0;a<t;a++)s[a]=P;return e.index++,s}function mi(t,e){return typeof e=="function"?e(t):e}function Io(t){var e=De();return oc(e,se,t)}function oc(t,e,s){var a=t.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=s;var f=t.baseQueue,g=a.pending;if(g!==null){if(f!==null){var k=f.next;f.next=g.next,g.next=k}e.baseQueue=f=g,a.pending=null}if(g=t.baseState,f===null)t.memoizedState=g;else{e=f.next;var M=k=null,G=null,st=e,dt=!1;do{var gt=st.lane&-536870913;if(gt!==st.lane?(Xt&gt)===gt:(Bi&gt)===gt){var at=st.revertLane;if(at===0)G!==null&&(G=G.next={lane:0,revertLane:0,action:st.action,hasEagerState:st.hasEagerState,eagerState:st.eagerState,next:null}),gt===or&&(dt=!0);else if((Bi&at)===at){st=st.next,at===or&&(dt=!0);continue}else gt={lane:0,revertLane:st.revertLane,action:st.action,hasEagerState:st.hasEagerState,eagerState:st.eagerState,next:null},G===null?(M=G=gt,k=g):G=G.next=gt,Lt.lanes|=at,Gi|=at;gt=st.action,ws&&s(g,gt),g=st.hasEagerState?st.eagerState:s(g,gt)}else at={lane:gt,revertLane:st.revertLane,action:st.action,hasEagerState:st.hasEagerState,eagerState:st.eagerState,next:null},G===null?(M=G=at,k=g):G=G.next=at,Lt.lanes|=gt,Gi|=gt;st=st.next}while(st!==null&&st!==e);if(G===null?k=g:G.next=M,!gn(g,t.memoizedState)&&(Fe=!0,dt&&(s=lr,s!==null)))throw s;t.memoizedState=g,t.baseState=k,t.baseQueue=G,a.lastRenderedState=g}return f===null&&(a.lanes=0),[t.memoizedState,a.dispatch]}function lc(t){var e=De(),s=e.queue;if(s===null)throw Error(r(311));s.lastRenderedReducer=t;var a=s.dispatch,f=s.pending,g=e.memoizedState;if(f!==null){s.pending=null;var k=f=f.next;do g=t(g,k.action),k=k.next;while(k!==f);gn(g,e.memoizedState)||(Fe=!0),e.memoizedState=g,e.baseQueue===null&&(e.baseState=g),s.lastRenderedState=g}return[g,a]}function ep(t,e,s){var a=Lt,f=De(),g=Kt;if(g){if(s===void 0)throw Error(r(407));s=s()}else s=e();var k=!gn((se||f).memoizedState,s);k&&(f.memoizedState=s,Fe=!0),f=f.queue;var M=sp.bind(null,a,f,t);if(va(2048,8,M,[t]),f.getSnapshot!==e||k||Me!==null&&Me.memoizedState.tag&1){if(a.flags|=2048,fr(9,qo(),ip.bind(null,a,f,s,e),null),de===null)throw Error(r(349));g||(Bi&124)!==0||np(a,e,s)}return s}function np(t,e,s){t.flags|=16384,t={getSnapshot:e,value:s},e=Lt.updateQueue,e===null?(e=rc(),Lt.updateQueue=e,e.stores=[t]):(s=e.stores,s===null?e.stores=[t]:s.push(t))}function ip(t,e,s,a){e.value=s,e.getSnapshot=a,rp(e)&&ap(t)}function sp(t,e,s){return s(function(){rp(e)&&ap(t)})}function rp(t){var e=t.getSnapshot;t=t.value;try{var s=e();return!gn(t,s)}catch{return!0}}function ap(t){var e=ir(t,2);e!==null&&xn(e,t,2)}function uc(t){var e=un();if(typeof t=="function"){var s=t;if(t=s(),ws){yt(!0);try{s()}finally{yt(!1)}}}return e.memoizedState=e.baseState=t,e.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:mi,lastRenderedState:t},e}function op(t,e,s,a){return t.baseState=s,oc(t,se,typeof a=="function"?a:mi)}function hy(t,e,s,a,f){if(Lo(t))throw Error(r(485));if(t=e.action,t!==null){var g={payload:f,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(k){g.listeners.push(k)}};Z.T!==null?s(!0):g.isTransition=!1,a(g),s=e.pending,s===null?(g.next=e.pending=g,lp(e,g)):(g.next=s.next,e.pending=s.next=g)}}function lp(t,e){var s=e.action,a=e.payload,f=t.state;if(e.isTransition){var g=Z.T,k={};Z.T=k;try{var M=s(f,a),G=Z.S;G!==null&&G(k,M),up(t,e,M)}catch(st){cc(t,e,st)}finally{Z.T=g}}else try{g=s(f,a),up(t,e,g)}catch(st){cc(t,e,st)}}function up(t,e,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(a){cp(t,e,a)},function(a){return cc(t,e,a)}):cp(t,e,s)}function cp(t,e,s){e.status="fulfilled",e.value=s,hp(e),t.state=s,e=t.pending,e!==null&&(s=e.next,s===e?t.pending=null:(s=s.next,e.next=s,lp(t,s)))}function cc(t,e,s){var a=t.pending;if(t.pending=null,a!==null){a=a.next;do e.status="rejected",e.reason=s,hp(e),e=e.next;while(e!==a)}t.action=null}function hp(t){t=t.listeners;for(var e=0;e<t.length;e++)(0,t[e])()}function fp(t,e){return e}function dp(t,e){if(Kt){var s=de.formState;if(s!==null){t:{var a=Lt;if(Kt){if(Te){e:{for(var f=Te,g=Jn;f.nodeType!==8;){if(!g){f=null;break e}if(f=Hn(f.nextSibling),f===null){f=null;break e}}g=f.data,f=g==="F!"||g==="F"?f:null}if(f){Te=Hn(f.nextSibling),a=f.data==="F!";break t}}bs(a)}a=!1}a&&(e=s[0])}}return s=un(),s.memoizedState=s.baseState=e,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:fp,lastRenderedState:e},s.queue=a,s=Dp.bind(null,Lt,a),a.dispatch=s,a=uc(!1),g=mc.bind(null,Lt,!1,a.queue),a=un(),f={state:e,dispatch:null,action:t,pending:null},a.queue=f,s=hy.bind(null,Lt,f,g,s),f.dispatch=s,a.memoizedState=t,[e,s,!1]}function pp(t){var e=De();return mp(e,se,t)}function mp(t,e,s){if(e=oc(t,e,fp)[0],t=Io(mi)[0],typeof e=="object"&&e!==null&&typeof e.then=="function")try{var a=_a(e)}catch(k){throw k===ha?Do:k}else a=e;e=De();var f=e.queue,g=f.dispatch;return s!==e.memoizedState&&(Lt.flags|=2048,fr(9,qo(),fy.bind(null,f,s),null)),[a,g,t]}function fy(t,e){t.action=e}function gp(t){var e=De(),s=se;if(s!==null)return mp(e,s,t);De(),e=e.memoizedState,s=De();var a=s.queue.dispatch;return s.memoizedState=t,[e,a,!1]}function fr(t,e,s,a){return t={tag:t,create:s,deps:a,inst:e,next:null},e=Lt.updateQueue,e===null&&(e=rc(),Lt.updateQueue=e),s=e.lastEffect,s===null?e.lastEffect=t.next=t:(a=s.next,s.next=t,t.next=a,e.lastEffect=t),t}function qo(){return{destroy:void 0,resource:void 0}}function _p(){return De().memoizedState}function Vo(t,e,s,a){var f=un();a=a===void 0?null:a,Lt.flags|=t,f.memoizedState=fr(1|e,qo(),s,a)}function va(t,e,s,a){var f=De();a=a===void 0?null:a;var g=f.memoizedState.inst;se!==null&&a!==null&&tc(a,se.memoizedState.deps)?f.memoizedState=fr(e,g,s,a):(Lt.flags|=t,f.memoizedState=fr(1|e,g,s,a))}function vp(t,e){Vo(8390656,8,t,e)}function yp(t,e){va(2048,8,t,e)}function bp(t,e){return va(4,2,t,e)}function Sp(t,e){return va(4,4,t,e)}function xp(t,e){if(typeof e=="function"){t=t();var s=e(t);return function(){typeof s=="function"?s():e(null)}}if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Tp(t,e,s){s=s!=null?s.concat([t]):null,va(4,4,xp.bind(null,e,t),s)}function hc(){}function wp(t,e){var s=De();e=e===void 0?null:e;var a=s.memoizedState;return e!==null&&tc(e,a[1])?a[0]:(s.memoizedState=[t,e],t)}function Ap(t,e){var s=De();e=e===void 0?null:e;var a=s.memoizedState;if(e!==null&&tc(e,a[1]))return a[0];if(a=t(),ws){yt(!0);try{t()}finally{yt(!1)}}return s.memoizedState=[a,e],a}function fc(t,e,s){return s===void 0||(Bi&1073741824)!==0?t.memoizedState=e:(t.memoizedState=s,t=Nm(),Lt.lanes|=t,Gi|=t,s)}function kp(t,e,s,a){return gn(s,e)?s:ur.current!==null?(t=fc(t,s,a),gn(t,e)||(Fe=!0),t):(Bi&42)===0?(Fe=!0,t.memoizedState=s):(t=Nm(),Lt.lanes|=t,Gi|=t,e)}function Cp(t,e,s,a,f){var g=H.p;H.p=g!==0&&8>g?g:8;var k=Z.T,M={};Z.T=M,mc(t,!1,e,s);try{var G=f(),st=Z.S;if(st!==null&&st(M,G),G!==null&&typeof G=="object"&&typeof G.then=="function"){var dt=ly(G,a);ya(t,e,dt,Sn(t))}else ya(t,e,a,Sn(t))}catch(gt){ya(t,e,{then:function(){},status:"rejected",reason:gt},Sn())}finally{H.p=g,Z.T=k}}function dy(){}function dc(t,e,s,a){if(t.tag!==5)throw Error(r(476));var f=Np(t).queue;Cp(t,f,e,ht,s===null?dy:function(){return Ep(t),s(a)})}function Np(t){var e=t.memoizedState;if(e!==null)return e;e={memoizedState:ht,baseState:ht,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:mi,lastRenderedState:ht},next:null};var s={};return e.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:mi,lastRenderedState:s},next:null},t.memoizedState=e,t=t.alternate,t!==null&&(t.memoizedState=e),e}function Ep(t){var e=Np(t).next.queue;ya(t,e,{},Sn())}function pc(){return Je(Ba)}function Op(){return De().memoizedState}function Mp(){return De().memoizedState}function py(t){for(var e=t.return;e!==null;){switch(e.tag){case 24:case 3:var s=Sn();t=ji(s);var a=Ui(e,t,s);a!==null&&(xn(a,e,s),da(a,e,s)),e={cache:Gu()},t.payload=e;return}e=e.return}}function my(t,e,s){var a=Sn();s={lane:a,revertLane:0,action:s,hasEagerState:!1,eagerState:null,next:null},Lo(t)?Rp(e,s):(s=zu(t,e,s,a),s!==null&&(xn(s,t,a),zp(s,e,a)))}function Dp(t,e,s){var a=Sn();ya(t,e,s,a)}function ya(t,e,s,a){var f={lane:a,revertLane:0,action:s,hasEagerState:!1,eagerState:null,next:null};if(Lo(t))Rp(e,f);else{var g=t.alternate;if(t.lanes===0&&(g===null||g.lanes===0)&&(g=e.lastRenderedReducer,g!==null))try{var k=e.lastRenderedState,M=g(k,s);if(f.hasEagerState=!0,f.eagerState=M,gn(M,k))return wo(t,e,f,0),de===null&&To(),!1}catch{}finally{}if(s=zu(t,e,f,a),s!==null)return xn(s,t,a),zp(s,e,a),!0}return!1}function mc(t,e,s,a){if(a={lane:2,revertLane:Pc(),action:a,hasEagerState:!1,eagerState:null,next:null},Lo(t)){if(e)throw Error(r(479))}else e=zu(t,s,a,2),e!==null&&xn(e,t,2)}function Lo(t){var e=t.alternate;return t===Lt||e!==null&&e===Lt}function Rp(t,e){cr=jo=!0;var s=t.pending;s===null?e.next=e:(e.next=s.next,s.next=e),t.pending=e}function zp(t,e,s){if((s&4194048)!==0){var a=e.lanes;a&=t.pendingLanes,s|=a,e.lanes=s,hs(t,s)}}var Fo={readContext:Je,use:Bo,useCallback:Ne,useContext:Ne,useEffect:Ne,useImperativeHandle:Ne,useLayoutEffect:Ne,useInsertionEffect:Ne,useMemo:Ne,useReducer:Ne,useRef:Ne,useState:Ne,useDebugValue:Ne,useDeferredValue:Ne,useTransition:Ne,useSyncExternalStore:Ne,useId:Ne,useHostTransitionStatus:Ne,useFormState:Ne,useActionState:Ne,useOptimistic:Ne,useMemoCache:Ne,useCacheRefresh:Ne},jp={readContext:Je,use:Bo,useCallback:function(t,e){return un().memoizedState=[t,e===void 0?null:e],t},useContext:Je,useEffect:vp,useImperativeHandle:function(t,e,s){s=s!=null?s.concat([t]):null,Vo(4194308,4,xp.bind(null,e,t),s)},useLayoutEffect:function(t,e){return Vo(4194308,4,t,e)},useInsertionEffect:function(t,e){Vo(4,2,t,e)},useMemo:function(t,e){var s=un();e=e===void 0?null:e;var a=t();if(ws){yt(!0);try{t()}finally{yt(!1)}}return s.memoizedState=[a,e],a},useReducer:function(t,e,s){var a=un();if(s!==void 0){var f=s(e);if(ws){yt(!0);try{s(e)}finally{yt(!1)}}}else f=e;return a.memoizedState=a.baseState=f,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:f},a.queue=t,t=t.dispatch=my.bind(null,Lt,t),[a.memoizedState,t]},useRef:function(t){var e=un();return t={current:t},e.memoizedState=t},useState:function(t){t=uc(t);var e=t.queue,s=Dp.bind(null,Lt,e);return e.dispatch=s,[t.memoizedState,s]},useDebugValue:hc,useDeferredValue:function(t,e){var s=un();return fc(s,t,e)},useTransition:function(){var t=uc(!1);return t=Cp.bind(null,Lt,t.queue,!0,!1),un().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,e,s){var a=Lt,f=un();if(Kt){if(s===void 0)throw Error(r(407));s=s()}else{if(s=e(),de===null)throw Error(r(349));(Xt&124)!==0||np(a,e,s)}f.memoizedState=s;var g={value:s,getSnapshot:e};return f.queue=g,vp(sp.bind(null,a,g,t),[t]),a.flags|=2048,fr(9,qo(),ip.bind(null,a,g,s,e),null),s},useId:function(){var t=un(),e=de.identifierPrefix;if(Kt){var s=fi,a=hi;s=(a&~(1<<32-xt(a)-1)).toString(32)+s,e=""+e+"R"+s,s=Uo++,0<s&&(e+="H"+s.toString(32)),e+=""}else s=uy++,e=""+e+"r"+s.toString(32)+"";return t.memoizedState=e},useHostTransitionStatus:pc,useFormState:dp,useActionState:dp,useOptimistic:function(t){var e=un();e.memoizedState=e.baseState=t;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return e.queue=s,e=mc.bind(null,Lt,!0,s),s.dispatch=e,[t,e]},useMemoCache:ac,useCacheRefresh:function(){return un().memoizedState=py.bind(null,Lt)}},Up={readContext:Je,use:Bo,useCallback:wp,useContext:Je,useEffect:yp,useImperativeHandle:Tp,useInsertionEffect:bp,useLayoutEffect:Sp,useMemo:Ap,useReducer:Io,useRef:_p,useState:function(){return Io(mi)},useDebugValue:hc,useDeferredValue:function(t,e){var s=De();return kp(s,se.memoizedState,t,e)},useTransition:function(){var t=Io(mi)[0],e=De().memoizedState;return[typeof t=="boolean"?t:_a(t),e]},useSyncExternalStore:ep,useId:Op,useHostTransitionStatus:pc,useFormState:pp,useActionState:pp,useOptimistic:function(t,e){var s=De();return op(s,se,t,e)},useMemoCache:ac,useCacheRefresh:Mp},gy={readContext:Je,use:Bo,useCallback:wp,useContext:Je,useEffect:yp,useImperativeHandle:Tp,useInsertionEffect:bp,useLayoutEffect:Sp,useMemo:Ap,useReducer:lc,useRef:_p,useState:function(){return lc(mi)},useDebugValue:hc,useDeferredValue:function(t,e){var s=De();return se===null?fc(s,t,e):kp(s,se.memoizedState,t,e)},useTransition:function(){var t=lc(mi)[0],e=De().memoizedState;return[typeof t=="boolean"?t:_a(t),e]},useSyncExternalStore:ep,useId:Op,useHostTransitionStatus:pc,useFormState:gp,useActionState:gp,useOptimistic:function(t,e){var s=De();return se!==null?op(s,se,t,e):(s.baseState=t,[t,s.queue.dispatch])},useMemoCache:ac,useCacheRefresh:Mp},dr=null,ba=0;function Ho(t){var e=ba;return ba+=1,dr===null&&(dr=[]),Pd(dr,t,e)}function Sa(t,e){e=e.props.ref,t.ref=e!==void 0?e:null}function Go(t,e){throw e.$$typeof===_?Error(r(525)):(t=Object.prototype.toString.call(e),Error(r(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)))}function Bp(t){var e=t._init;return e(t._payload)}function Ip(t){function e($,W){if(t){var it=$.deletions;it===null?($.deletions=[W],$.flags|=16):it.push(W)}}function s($,W){if(!t)return null;for(;W!==null;)e($,W),W=W.sibling;return null}function a($){for(var W=new Map;$!==null;)$.key!==null?W.set($.key,$):W.set($.index,$),$=$.sibling;return W}function f($,W){return $=ci($,W),$.index=0,$.sibling=null,$}function g($,W,it){return $.index=it,t?(it=$.alternate,it!==null?(it=it.index,it<W?($.flags|=67108866,W):it):($.flags|=67108866,W)):($.flags|=1048576,W)}function k($){return t&&$.alternate===null&&($.flags|=67108866),$}function M($,W,it,mt){return W===null||W.tag!==6?(W=Uu(it,$.mode,mt),W.return=$,W):(W=f(W,it),W.return=$,W)}function G($,W,it,mt){var kt=it.type;return kt===x?dt($,W,it.props.children,mt,it.key):W!==null&&(W.elementType===kt||typeof kt=="object"&&kt!==null&&kt.$$typeof===z&&Bp(kt)===W.type)?(W=f(W,it.props),Sa(W,it),W.return=$,W):(W=ko(it.type,it.key,it.props,null,$.mode,mt),Sa(W,it),W.return=$,W)}function st($,W,it,mt){return W===null||W.tag!==4||W.stateNode.containerInfo!==it.containerInfo||W.stateNode.implementation!==it.implementation?(W=Bu(it,$.mode,mt),W.return=$,W):(W=f(W,it.children||[]),W.return=$,W)}function dt($,W,it,mt,kt){return W===null||W.tag!==7?(W=gs(it,$.mode,mt,kt),W.return=$,W):(W=f(W,it),W.return=$,W)}function gt($,W,it){if(typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint")return W=Uu(""+W,$.mode,it),W.return=$,W;if(typeof W=="object"&&W!==null){switch(W.$$typeof){case b:return it=ko(W.type,W.key,W.props,null,$.mode,it),Sa(it,W),it.return=$,it;case v:return W=Bu(W,$.mode,it),W.return=$,W;case z:var mt=W._init;return W=mt(W._payload),gt($,W,it)}if(J(W)||D(W))return W=gs(W,$.mode,it,null),W.return=$,W;if(typeof W.then=="function")return gt($,Ho(W),it);if(W.$$typeof===O)return gt($,Oo($,W),it);Go($,W)}return null}function at($,W,it,mt){var kt=W!==null?W.key:null;if(typeof it=="string"&&it!==""||typeof it=="number"||typeof it=="bigint")return kt!==null?null:M($,W,""+it,mt);if(typeof it=="object"&&it!==null){switch(it.$$typeof){case b:return it.key===kt?G($,W,it,mt):null;case v:return it.key===kt?st($,W,it,mt):null;case z:return kt=it._init,it=kt(it._payload),at($,W,it,mt)}if(J(it)||D(it))return kt!==null?null:dt($,W,it,mt,null);if(typeof it.then=="function")return at($,W,Ho(it),mt);if(it.$$typeof===O)return at($,W,Oo($,it),mt);Go($,it)}return null}function lt($,W,it,mt,kt){if(typeof mt=="string"&&mt!==""||typeof mt=="number"||typeof mt=="bigint")return $=$.get(it)||null,M(W,$,""+mt,kt);if(typeof mt=="object"&&mt!==null){switch(mt.$$typeof){case b:return $=$.get(mt.key===null?it:mt.key)||null,G(W,$,mt,kt);case v:return $=$.get(mt.key===null?it:mt.key)||null,st(W,$,mt,kt);case z:var Ft=mt._init;return mt=Ft(mt._payload),lt($,W,it,mt,kt)}if(J(mt)||D(mt))return $=$.get(it)||null,dt(W,$,mt,kt,null);if(typeof mt.then=="function")return lt($,W,it,Ho(mt),kt);if(mt.$$typeof===O)return lt($,W,it,Oo(W,mt),kt);Go(W,mt)}return null}function Dt($,W,it,mt){for(var kt=null,Ft=null,Nt=W,Mt=W=0,Ge=null;Nt!==null&&Mt<it.length;Mt++){Nt.index>Mt?(Ge=Nt,Nt=null):Ge=Nt.sibling;var Wt=at($,Nt,it[Mt],mt);if(Wt===null){Nt===null&&(Nt=Ge);break}t&&Nt&&Wt.alternate===null&&e($,Nt),W=g(Wt,W,Mt),Ft===null?kt=Wt:Ft.sibling=Wt,Ft=Wt,Nt=Ge}if(Mt===it.length)return s($,Nt),Kt&&vs($,Mt),kt;if(Nt===null){for(;Mt<it.length;Mt++)Nt=gt($,it[Mt],mt),Nt!==null&&(W=g(Nt,W,Mt),Ft===null?kt=Nt:Ft.sibling=Nt,Ft=Nt);return Kt&&vs($,Mt),kt}for(Nt=a(Nt);Mt<it.length;Mt++)Ge=lt(Nt,$,Mt,it[Mt],mt),Ge!==null&&(t&&Ge.alternate!==null&&Nt.delete(Ge.key===null?Mt:Ge.key),W=g(Ge,W,Mt),Ft===null?kt=Ge:Ft.sibling=Ge,Ft=Ge);return t&&Nt.forEach(function($i){return e($,$i)}),Kt&&vs($,Mt),kt}function Ot($,W,it,mt){if(it==null)throw Error(r(151));for(var kt=null,Ft=null,Nt=W,Mt=W=0,Ge=null,Wt=it.next();Nt!==null&&!Wt.done;Mt++,Wt=it.next()){Nt.index>Mt?(Ge=Nt,Nt=null):Ge=Nt.sibling;var $i=at($,Nt,Wt.value,mt);if($i===null){Nt===null&&(Nt=Ge);break}t&&Nt&&$i.alternate===null&&e($,Nt),W=g($i,W,Mt),Ft===null?kt=$i:Ft.sibling=$i,Ft=$i,Nt=Ge}if(Wt.done)return s($,Nt),Kt&&vs($,Mt),kt;if(Nt===null){for(;!Wt.done;Mt++,Wt=it.next())Wt=gt($,Wt.value,mt),Wt!==null&&(W=g(Wt,W,Mt),Ft===null?kt=Wt:Ft.sibling=Wt,Ft=Wt);return Kt&&vs($,Mt),kt}for(Nt=a(Nt);!Wt.done;Mt++,Wt=it.next())Wt=lt(Nt,$,Mt,Wt.value,mt),Wt!==null&&(t&&Wt.alternate!==null&&Nt.delete(Wt.key===null?Mt:Wt.key),W=g(Wt,W,Mt),Ft===null?kt=Wt:Ft.sibling=Wt,Ft=Wt);return t&&Nt.forEach(function(_1){return e($,_1)}),Kt&&vs($,Mt),kt}function ae($,W,it,mt){if(typeof it=="object"&&it!==null&&it.type===x&&it.key===null&&(it=it.props.children),typeof it=="object"&&it!==null){switch(it.$$typeof){case b:t:{for(var kt=it.key;W!==null;){if(W.key===kt){if(kt=it.type,kt===x){if(W.tag===7){s($,W.sibling),mt=f(W,it.props.children),mt.return=$,$=mt;break t}}else if(W.elementType===kt||typeof kt=="object"&&kt!==null&&kt.$$typeof===z&&Bp(kt)===W.type){s($,W.sibling),mt=f(W,it.props),Sa(mt,it),mt.return=$,$=mt;break t}s($,W);break}else e($,W);W=W.sibling}it.type===x?(mt=gs(it.props.children,$.mode,mt,it.key),mt.return=$,$=mt):(mt=ko(it.type,it.key,it.props,null,$.mode,mt),Sa(mt,it),mt.return=$,$=mt)}return k($);case v:t:{for(kt=it.key;W!==null;){if(W.key===kt)if(W.tag===4&&W.stateNode.containerInfo===it.containerInfo&&W.stateNode.implementation===it.implementation){s($,W.sibling),mt=f(W,it.children||[]),mt.return=$,$=mt;break t}else{s($,W);break}else e($,W);W=W.sibling}mt=Bu(it,$.mode,mt),mt.return=$,$=mt}return k($);case z:return kt=it._init,it=kt(it._payload),ae($,W,it,mt)}if(J(it))return Dt($,W,it,mt);if(D(it)){if(kt=D(it),typeof kt!="function")throw Error(r(150));return it=kt.call(it),Ot($,W,it,mt)}if(typeof it.then=="function")return ae($,W,Ho(it),mt);if(it.$$typeof===O)return ae($,W,Oo($,it),mt);Go($,it)}return typeof it=="string"&&it!==""||typeof it=="number"||typeof it=="bigint"?(it=""+it,W!==null&&W.tag===6?(s($,W.sibling),mt=f(W,it),mt.return=$,$=mt):(s($,W),mt=Uu(it,$.mode,mt),mt.return=$,$=mt),k($)):s($,W)}return function($,W,it,mt){try{ba=0;var kt=ae($,W,it,mt);return dr=null,kt}catch(Nt){if(Nt===ha||Nt===Do)throw Nt;var Ft=_n(29,Nt,null,$.mode);return Ft.lanes=mt,Ft.return=$,Ft}finally{}}}var pr=Ip(!0),qp=Ip(!1),zn=B(null),$n=null;function Ii(t){var e=t.alternate;ut(Ie,Ie.current&1),ut(zn,t),$n===null&&(e===null||ur.current!==null||e.memoizedState!==null)&&($n=t)}function Vp(t){if(t.tag===22){if(ut(Ie,Ie.current),ut(zn,t),$n===null){var e=t.alternate;e!==null&&e.memoizedState!==null&&($n=t)}}else qi()}function qi(){ut(Ie,Ie.current),ut(zn,zn.current)}function gi(t){F(zn),$n===t&&($n=null),F(Ie)}var Ie=B(0);function Zo(t){for(var e=t;e!==null;){if(e.tag===13){var s=e.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||rh(s)))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if((e.flags&128)!==0)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}function gc(t,e,s,a){e=t.memoizedState,s=s(a,e),s=s==null?e:m({},e,s),t.memoizedState=s,t.lanes===0&&(t.updateQueue.baseState=s)}var _c={enqueueSetState:function(t,e,s){t=t._reactInternals;var a=Sn(),f=ji(a);f.payload=e,s!=null&&(f.callback=s),e=Ui(t,f,a),e!==null&&(xn(e,t,a),da(e,t,a))},enqueueReplaceState:function(t,e,s){t=t._reactInternals;var a=Sn(),f=ji(a);f.tag=1,f.payload=e,s!=null&&(f.callback=s),e=Ui(t,f,a),e!==null&&(xn(e,t,a),da(e,t,a))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var s=Sn(),a=ji(s);a.tag=2,e!=null&&(a.callback=e),e=Ui(t,a,s),e!==null&&(xn(e,t,s),da(e,t,s))}};function Lp(t,e,s,a,f,g,k){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(a,g,k):e.prototype&&e.prototype.isPureReactComponent?!ia(s,a)||!ia(f,g):!0}function Fp(t,e,s,a){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(s,a),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(s,a),e.state!==t&&_c.enqueueReplaceState(e,e.state,null)}function As(t,e){var s=e;if("ref"in e){s={};for(var a in e)a!=="ref"&&(s[a]=e[a])}if(t=t.defaultProps){s===e&&(s=m({},s));for(var f in t)s[f]===void 0&&(s[f]=t[f])}return s}var Yo=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function Hp(t){Yo(t)}function Gp(t){console.error(t)}function Zp(t){Yo(t)}function Po(t,e){try{var s=t.onUncaughtError;s(e.value,{componentStack:e.stack})}catch(a){setTimeout(function(){throw a})}}function Yp(t,e,s){try{var a=t.onCaughtError;a(s.value,{componentStack:s.stack,errorBoundary:e.tag===1?e.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function vc(t,e,s){return s=ji(s),s.tag=3,s.payload={element:null},s.callback=function(){Po(t,e)},s}function Pp(t){return t=ji(t),t.tag=3,t}function Xp(t,e,s,a){var f=s.type.getDerivedStateFromError;if(typeof f=="function"){var g=a.value;t.payload=function(){return f(g)},t.callback=function(){Yp(e,s,a)}}var k=s.stateNode;k!==null&&typeof k.componentDidCatch=="function"&&(t.callback=function(){Yp(e,s,a),typeof f!="function"&&(Zi===null?Zi=new Set([this]):Zi.add(this));var M=a.stack;this.componentDidCatch(a.value,{componentStack:M!==null?M:""})})}function _y(t,e,s,a,f){if(s.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){if(e=s.alternate,e!==null&&la(e,s,f,!0),s=zn.current,s!==null){switch(s.tag){case 13:return $n===null?Fc():s.alternate===null&&we===0&&(we=3),s.flags&=-257,s.flags|=65536,s.lanes=f,a===Pu?s.flags|=16384:(e=s.updateQueue,e===null?s.updateQueue=new Set([a]):e.add(a),Gc(t,a,f)),!1;case 22:return s.flags|=65536,a===Pu?s.flags|=16384:(e=s.updateQueue,e===null?(e={transitions:null,markerInstances:null,retryQueue:new Set([a])},s.updateQueue=e):(s=e.retryQueue,s===null?e.retryQueue=new Set([a]):s.add(a)),Gc(t,a,f)),!1}throw Error(r(435,s.tag))}return Gc(t,a,f),Fc(),!1}if(Kt)return e=zn.current,e!==null?((e.flags&65536)===0&&(e.flags|=256),e.flags|=65536,e.lanes=f,a!==Vu&&(t=Error(r(422),{cause:a}),oa(On(t,s)))):(a!==Vu&&(e=Error(r(423),{cause:a}),oa(On(e,s))),t=t.current.alternate,t.flags|=65536,f&=-f,t.lanes|=f,a=On(a,s),f=vc(t.stateNode,a,f),Qu(t,f),we!==4&&(we=2)),!1;var g=Error(r(520),{cause:a});if(g=On(g,s),Na===null?Na=[g]:Na.push(g),we!==4&&(we=2),e===null)return!0;a=On(a,s),s=e;do{switch(s.tag){case 3:return s.flags|=65536,t=f&-f,s.lanes|=t,t=vc(s.stateNode,a,t),Qu(s,t),!1;case 1:if(e=s.type,g=s.stateNode,(s.flags&128)===0&&(typeof e.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(Zi===null||!Zi.has(g))))return s.flags|=65536,f&=-f,s.lanes|=f,f=Pp(f),Xp(f,t,s,a),Qu(s,f),!1}s=s.return}while(s!==null);return!1}var Wp=Error(r(461)),Fe=!1;function Pe(t,e,s,a){e.child=t===null?qp(e,null,s,a):pr(e,t.child,s,a)}function Qp(t,e,s,a,f){s=s.render;var g=e.ref;if("ref"in a){var k={};for(var M in a)M!=="ref"&&(k[M]=a[M])}else k=a;return xs(e),a=ec(t,e,s,k,g,f),M=nc(),t!==null&&!Fe?(ic(t,e,f),_i(t,e,f)):(Kt&&M&&Iu(e),e.flags|=1,Pe(t,e,a,f),e.child)}function Kp(t,e,s,a,f){if(t===null){var g=s.type;return typeof g=="function"&&!ju(g)&&g.defaultProps===void 0&&s.compare===null?(e.tag=15,e.type=g,Jp(t,e,g,a,f)):(t=ko(s.type,null,a,e,e.mode,f),t.ref=e.ref,t.return=e,e.child=t)}if(g=t.child,!kc(t,f)){var k=g.memoizedProps;if(s=s.compare,s=s!==null?s:ia,s(k,a)&&t.ref===e.ref)return _i(t,e,f)}return e.flags|=1,t=ci(g,a),t.ref=e.ref,t.return=e,e.child=t}function Jp(t,e,s,a,f){if(t!==null){var g=t.memoizedProps;if(ia(g,a)&&t.ref===e.ref)if(Fe=!1,e.pendingProps=a=g,kc(t,f))(t.flags&131072)!==0&&(Fe=!0);else return e.lanes=t.lanes,_i(t,e,f)}return yc(t,e,s,a,f)}function $p(t,e,s){var a=e.pendingProps,f=a.children,g=t!==null?t.memoizedState:null;if(a.mode==="hidden"){if((e.flags&128)!==0){if(a=g!==null?g.baseLanes|s:s,t!==null){for(f=e.child=t.child,g=0;f!==null;)g=g|f.lanes|f.childLanes,f=f.sibling;e.childLanes=g&~a}else e.childLanes=0,e.child=null;return tm(t,e,a,s)}if((s&536870912)!==0)e.memoizedState={baseLanes:0,cachePool:null},t!==null&&Mo(e,g!==null?g.cachePool:null),g!==null?Jd(e,g):Ju(),Vp(e);else return e.lanes=e.childLanes=536870912,tm(t,e,g!==null?g.baseLanes|s:s,s)}else g!==null?(Mo(e,g.cachePool),Jd(e,g),qi(),e.memoizedState=null):(t!==null&&Mo(e,null),Ju(),qi());return Pe(t,e,f,s),e.child}function tm(t,e,s,a){var f=Yu();return f=f===null?null:{parent:Be._currentValue,pool:f},e.memoizedState={baseLanes:s,cachePool:f},t!==null&&Mo(e,null),Ju(),Vp(e),t!==null&&la(t,e,a,!0),null}function Xo(t,e){var s=e.ref;if(s===null)t!==null&&t.ref!==null&&(e.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(r(284));(t===null||t.ref!==s)&&(e.flags|=4194816)}}function yc(t,e,s,a,f){return xs(e),s=ec(t,e,s,a,void 0,f),a=nc(),t!==null&&!Fe?(ic(t,e,f),_i(t,e,f)):(Kt&&a&&Iu(e),e.flags|=1,Pe(t,e,s,f),e.child)}function em(t,e,s,a,f,g){return xs(e),e.updateQueue=null,s=tp(e,a,s,f),$d(t),a=nc(),t!==null&&!Fe?(ic(t,e,g),_i(t,e,g)):(Kt&&a&&Iu(e),e.flags|=1,Pe(t,e,s,g),e.child)}function nm(t,e,s,a,f){if(xs(e),e.stateNode===null){var g=sr,k=s.contextType;typeof k=="object"&&k!==null&&(g=Je(k)),g=new s(a,g),e.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=_c,e.stateNode=g,g._reactInternals=e,g=e.stateNode,g.props=a,g.state=e.memoizedState,g.refs={},Xu(e),k=s.contextType,g.context=typeof k=="object"&&k!==null?Je(k):sr,g.state=e.memoizedState,k=s.getDerivedStateFromProps,typeof k=="function"&&(gc(e,s,k,a),g.state=e.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(k=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),k!==g.state&&_c.enqueueReplaceState(g,g.state,null),ma(e,a,g,f),pa(),g.state=e.memoizedState),typeof g.componentDidMount=="function"&&(e.flags|=4194308),a=!0}else if(t===null){g=e.stateNode;var M=e.memoizedProps,G=As(s,M);g.props=G;var st=g.context,dt=s.contextType;k=sr,typeof dt=="object"&&dt!==null&&(k=Je(dt));var gt=s.getDerivedStateFromProps;dt=typeof gt=="function"||typeof g.getSnapshotBeforeUpdate=="function",M=e.pendingProps!==M,dt||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(M||st!==k)&&Fp(e,g,a,k),zi=!1;var at=e.memoizedState;g.state=at,ma(e,a,g,f),pa(),st=e.memoizedState,M||at!==st||zi?(typeof gt=="function"&&(gc(e,s,gt,a),st=e.memoizedState),(G=zi||Lp(e,s,G,a,at,st,k))?(dt||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(e.flags|=4194308)):(typeof g.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=a,e.memoizedState=st),g.props=a,g.state=st,g.context=k,a=G):(typeof g.componentDidMount=="function"&&(e.flags|=4194308),a=!1)}else{g=e.stateNode,Wu(t,e),k=e.memoizedProps,dt=As(s,k),g.props=dt,gt=e.pendingProps,at=g.context,st=s.contextType,G=sr,typeof st=="object"&&st!==null&&(G=Je(st)),M=s.getDerivedStateFromProps,(st=typeof M=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(k!==gt||at!==G)&&Fp(e,g,a,G),zi=!1,at=e.memoizedState,g.state=at,ma(e,a,g,f),pa();var lt=e.memoizedState;k!==gt||at!==lt||zi||t!==null&&t.dependencies!==null&&Eo(t.dependencies)?(typeof M=="function"&&(gc(e,s,M,a),lt=e.memoizedState),(dt=zi||Lp(e,s,dt,a,at,lt,G)||t!==null&&t.dependencies!==null&&Eo(t.dependencies))?(st||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(a,lt,G),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(a,lt,G)),typeof g.componentDidUpdate=="function"&&(e.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof g.componentDidUpdate!="function"||k===t.memoizedProps&&at===t.memoizedState||(e.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||k===t.memoizedProps&&at===t.memoizedState||(e.flags|=1024),e.memoizedProps=a,e.memoizedState=lt),g.props=a,g.state=lt,g.context=G,a=dt):(typeof g.componentDidUpdate!="function"||k===t.memoizedProps&&at===t.memoizedState||(e.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||k===t.memoizedProps&&at===t.memoizedState||(e.flags|=1024),a=!1)}return g=a,Xo(t,e),a=(e.flags&128)!==0,g||a?(g=e.stateNode,s=a&&typeof s.getDerivedStateFromError!="function"?null:g.render(),e.flags|=1,t!==null&&a?(e.child=pr(e,t.child,null,f),e.child=pr(e,null,s,f)):Pe(t,e,s,f),e.memoizedState=g.state,t=e.child):t=_i(t,e,f),t}function im(t,e,s,a){return aa(),e.flags|=256,Pe(t,e,s,a),e.child}var bc={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Sc(t){return{baseLanes:t,cachePool:Gd()}}function xc(t,e,s){return t=t!==null?t.childLanes&~s:0,e&&(t|=jn),t}function sm(t,e,s){var a=e.pendingProps,f=!1,g=(e.flags&128)!==0,k;if((k=g)||(k=t!==null&&t.memoizedState===null?!1:(Ie.current&2)!==0),k&&(f=!0,e.flags&=-129),k=(e.flags&32)!==0,e.flags&=-33,t===null){if(Kt){if(f?Ii(e):qi(),Kt){var M=Te,G;if(G=M){t:{for(G=M,M=Jn;G.nodeType!==8;){if(!M){M=null;break t}if(G=Hn(G.nextSibling),G===null){M=null;break t}}M=G}M!==null?(e.memoizedState={dehydrated:M,treeContext:_s!==null?{id:hi,overflow:fi}:null,retryLane:536870912,hydrationErrors:null},G=_n(18,null,null,0),G.stateNode=M,G.return=e,e.child=G,nn=e,Te=null,G=!0):G=!1}G||bs(e)}if(M=e.memoizedState,M!==null&&(M=M.dehydrated,M!==null))return rh(M)?e.lanes=32:e.lanes=536870912,null;gi(e)}return M=a.children,a=a.fallback,f?(qi(),f=e.mode,M=Wo({mode:"hidden",children:M},f),a=gs(a,f,s,null),M.return=e,a.return=e,M.sibling=a,e.child=M,f=e.child,f.memoizedState=Sc(s),f.childLanes=xc(t,k,s),e.memoizedState=bc,a):(Ii(e),Tc(e,M))}if(G=t.memoizedState,G!==null&&(M=G.dehydrated,M!==null)){if(g)e.flags&256?(Ii(e),e.flags&=-257,e=wc(t,e,s)):e.memoizedState!==null?(qi(),e.child=t.child,e.flags|=128,e=null):(qi(),f=a.fallback,M=e.mode,a=Wo({mode:"visible",children:a.children},M),f=gs(f,M,s,null),f.flags|=2,a.return=e,f.return=e,a.sibling=f,e.child=a,pr(e,t.child,null,s),a=e.child,a.memoizedState=Sc(s),a.childLanes=xc(t,k,s),e.memoizedState=bc,e=f);else if(Ii(e),rh(M)){if(k=M.nextSibling&&M.nextSibling.dataset,k)var st=k.dgst;k=st,a=Error(r(419)),a.stack="",a.digest=k,oa({value:a,source:null,stack:null}),e=wc(t,e,s)}else if(Fe||la(t,e,s,!1),k=(s&t.childLanes)!==0,Fe||k){if(k=de,k!==null&&(a=s&-s,a=(a&42)!==0?1:Mi(a),a=(a&(k.suspendedLanes|s))!==0?0:a,a!==0&&a!==G.retryLane))throw G.retryLane=a,ir(t,a),xn(k,t,a),Wp;M.data==="$?"||Fc(),e=wc(t,e,s)}else M.data==="$?"?(e.flags|=192,e.child=t.child,e=null):(t=G.treeContext,Te=Hn(M.nextSibling),nn=e,Kt=!0,ys=null,Jn=!1,t!==null&&(Dn[Rn++]=hi,Dn[Rn++]=fi,Dn[Rn++]=_s,hi=t.id,fi=t.overflow,_s=e),e=Tc(e,a.children),e.flags|=4096);return e}return f?(qi(),f=a.fallback,M=e.mode,G=t.child,st=G.sibling,a=ci(G,{mode:"hidden",children:a.children}),a.subtreeFlags=G.subtreeFlags&65011712,st!==null?f=ci(st,f):(f=gs(f,M,s,null),f.flags|=2),f.return=e,a.return=e,a.sibling=f,e.child=a,a=f,f=e.child,M=t.child.memoizedState,M===null?M=Sc(s):(G=M.cachePool,G!==null?(st=Be._currentValue,G=G.parent!==st?{parent:st,pool:st}:G):G=Gd(),M={baseLanes:M.baseLanes|s,cachePool:G}),f.memoizedState=M,f.childLanes=xc(t,k,s),e.memoizedState=bc,a):(Ii(e),s=t.child,t=s.sibling,s=ci(s,{mode:"visible",children:a.children}),s.return=e,s.sibling=null,t!==null&&(k=e.deletions,k===null?(e.deletions=[t],e.flags|=16):k.push(t)),e.child=s,e.memoizedState=null,s)}function Tc(t,e){return e=Wo({mode:"visible",children:e},t.mode),e.return=t,t.child=e}function Wo(t,e){return t=_n(22,t,null,e),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function wc(t,e,s){return pr(e,t.child,null,s),t=Tc(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function rm(t,e,s){t.lanes|=e;var a=t.alternate;a!==null&&(a.lanes|=e),Fu(t.return,e,s)}function Ac(t,e,s,a,f){var g=t.memoizedState;g===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:a,tail:s,tailMode:f}:(g.isBackwards=e,g.rendering=null,g.renderingStartTime=0,g.last=a,g.tail=s,g.tailMode=f)}function am(t,e,s){var a=e.pendingProps,f=a.revealOrder,g=a.tail;if(Pe(t,e,a.children,s),a=Ie.current,(a&2)!==0)a=a&1|2,e.flags|=128;else{if(t!==null&&(t.flags&128)!==0)t:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&rm(t,s,e);else if(t.tag===19)rm(t,s,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break t;for(;t.sibling===null;){if(t.return===null||t.return===e)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}a&=1}switch(ut(Ie,a),f){case"forwards":for(s=e.child,f=null;s!==null;)t=s.alternate,t!==null&&Zo(t)===null&&(f=s),s=s.sibling;s=f,s===null?(f=e.child,e.child=null):(f=s.sibling,s.sibling=null),Ac(e,!1,f,s,g);break;case"backwards":for(s=null,f=e.child,e.child=null;f!==null;){if(t=f.alternate,t!==null&&Zo(t)===null){e.child=f;break}t=f.sibling,f.sibling=s,s=f,f=t}Ac(e,!0,s,null,g);break;case"together":Ac(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function _i(t,e,s){if(t!==null&&(e.dependencies=t.dependencies),Gi|=e.lanes,(s&e.childLanes)===0)if(t!==null){if(la(t,e,s,!1),(s&e.childLanes)===0)return null}else return null;if(t!==null&&e.child!==t.child)throw Error(r(153));if(e.child!==null){for(t=e.child,s=ci(t,t.pendingProps),e.child=s,s.return=e;t.sibling!==null;)t=t.sibling,s=s.sibling=ci(t,t.pendingProps),s.return=e;s.sibling=null}return e.child}function kc(t,e){return(t.lanes&e)!==0?!0:(t=t.dependencies,!!(t!==null&&Eo(t)))}function vy(t,e,s){switch(e.tag){case 3:ot(e,e.stateNode.containerInfo),Ri(e,Be,t.memoizedState.cache),aa();break;case 27:case 5:Et(e);break;case 4:ot(e,e.stateNode.containerInfo);break;case 10:Ri(e,e.type,e.memoizedProps.value);break;case 13:var a=e.memoizedState;if(a!==null)return a.dehydrated!==null?(Ii(e),e.flags|=128,null):(s&e.child.childLanes)!==0?sm(t,e,s):(Ii(e),t=_i(t,e,s),t!==null?t.sibling:null);Ii(e);break;case 19:var f=(t.flags&128)!==0;if(a=(s&e.childLanes)!==0,a||(la(t,e,s,!1),a=(s&e.childLanes)!==0),f){if(a)return am(t,e,s);e.flags|=128}if(f=e.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),ut(Ie,Ie.current),a)break;return null;case 22:case 23:return e.lanes=0,$p(t,e,s);case 24:Ri(e,Be,t.memoizedState.cache)}return _i(t,e,s)}function om(t,e,s){if(t!==null)if(t.memoizedProps!==e.pendingProps)Fe=!0;else{if(!kc(t,s)&&(e.flags&128)===0)return Fe=!1,vy(t,e,s);Fe=(t.flags&131072)!==0}else Fe=!1,Kt&&(e.flags&1048576)!==0&&Bd(e,No,e.index);switch(e.lanes=0,e.tag){case 16:t:{t=e.pendingProps;var a=e.elementType,f=a._init;if(a=f(a._payload),e.type=a,typeof a=="function")ju(a)?(t=As(a,t),e.tag=1,e=nm(null,e,a,t,s)):(e.tag=0,e=yc(null,e,a,t,s));else{if(a!=null){if(f=a.$$typeof,f===E){e.tag=11,e=Qp(null,e,a,t,s);break t}else if(f===R){e.tag=14,e=Kp(null,e,a,t,s);break t}}throw e=w(a)||a,Error(r(306,e,""))}}return e;case 0:return yc(t,e,e.type,e.pendingProps,s);case 1:return a=e.type,f=As(a,e.pendingProps),nm(t,e,a,f,s);case 3:t:{if(ot(e,e.stateNode.containerInfo),t===null)throw Error(r(387));a=e.pendingProps;var g=e.memoizedState;f=g.element,Wu(t,e),ma(e,a,null,s);var k=e.memoizedState;if(a=k.cache,Ri(e,Be,a),a!==g.cache&&Hu(e,[Be],s,!0),pa(),a=k.element,g.isDehydrated)if(g={element:a,isDehydrated:!1,cache:k.cache},e.updateQueue.baseState=g,e.memoizedState=g,e.flags&256){e=im(t,e,a,s);break t}else if(a!==f){f=On(Error(r(424)),e),oa(f),e=im(t,e,a,s);break t}else{switch(t=e.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(Te=Hn(t.firstChild),nn=e,Kt=!0,ys=null,Jn=!0,s=qp(e,null,a,s),e.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling}else{if(aa(),a===f){e=_i(t,e,s);break t}Pe(t,e,a,s)}e=e.child}return e;case 26:return Xo(t,e),t===null?(s=hg(e.type,null,e.pendingProps,null))?e.memoizedState=s:Kt||(s=e.type,t=e.pendingProps,a=ul(vt.current).createElement(s),a[Ve]=e,a[Ke]=t,We(a,s,t),Le(a),e.stateNode=a):e.memoizedState=hg(e.type,t.memoizedProps,e.pendingProps,t.memoizedState),null;case 27:return Et(e),t===null&&Kt&&(a=e.stateNode=lg(e.type,e.pendingProps,vt.current),nn=e,Jn=!0,f=Te,Xi(e.type)?(ah=f,Te=Hn(a.firstChild)):Te=f),Pe(t,e,e.pendingProps.children,s),Xo(t,e),t===null&&(e.flags|=4194304),e.child;case 5:return t===null&&Kt&&((f=a=Te)&&(a=Yy(a,e.type,e.pendingProps,Jn),a!==null?(e.stateNode=a,nn=e,Te=Hn(a.firstChild),Jn=!1,f=!0):f=!1),f||bs(e)),Et(e),f=e.type,g=e.pendingProps,k=t!==null?t.memoizedProps:null,a=g.children,nh(f,g)?a=null:k!==null&&nh(f,k)&&(e.flags|=32),e.memoizedState!==null&&(f=ec(t,e,cy,null,null,s),Ba._currentValue=f),Xo(t,e),Pe(t,e,a,s),e.child;case 6:return t===null&&Kt&&((t=s=Te)&&(s=Py(s,e.pendingProps,Jn),s!==null?(e.stateNode=s,nn=e,Te=null,t=!0):t=!1),t||bs(e)),null;case 13:return sm(t,e,s);case 4:return ot(e,e.stateNode.containerInfo),a=e.pendingProps,t===null?e.child=pr(e,null,a,s):Pe(t,e,a,s),e.child;case 11:return Qp(t,e,e.type,e.pendingProps,s);case 7:return Pe(t,e,e.pendingProps,s),e.child;case 8:return Pe(t,e,e.pendingProps.children,s),e.child;case 12:return Pe(t,e,e.pendingProps.children,s),e.child;case 10:return a=e.pendingProps,Ri(e,e.type,a.value),Pe(t,e,a.children,s),e.child;case 9:return f=e.type._context,a=e.pendingProps.children,xs(e),f=Je(f),a=a(f),e.flags|=1,Pe(t,e,a,s),e.child;case 14:return Kp(t,e,e.type,e.pendingProps,s);case 15:return Jp(t,e,e.type,e.pendingProps,s);case 19:return am(t,e,s);case 31:return a=e.pendingProps,s=e.mode,a={mode:a.mode,children:a.children},t===null?(s=Wo(a,s),s.ref=e.ref,e.child=s,s.return=e,e=s):(s=ci(t.child,a),s.ref=e.ref,e.child=s,s.return=e,e=s),e;case 22:return $p(t,e,s);case 24:return xs(e),a=Je(Be),t===null?(f=Yu(),f===null&&(f=de,g=Gu(),f.pooledCache=g,g.refCount++,g!==null&&(f.pooledCacheLanes|=s),f=g),e.memoizedState={parent:a,cache:f},Xu(e),Ri(e,Be,f)):((t.lanes&s)!==0&&(Wu(t,e),ma(e,null,null,s),pa()),f=t.memoizedState,g=e.memoizedState,f.parent!==a?(f={parent:a,cache:a},e.memoizedState=f,e.lanes===0&&(e.memoizedState=e.updateQueue.baseState=f),Ri(e,Be,a)):(a=g.cache,Ri(e,Be,a),a!==f.cache&&Hu(e,[Be],s,!0))),Pe(t,e,e.pendingProps.children,s),e.child;case 29:throw e.pendingProps}throw Error(r(156,e.tag))}function vi(t){t.flags|=4}function lm(t,e){if(e.type!=="stylesheet"||(e.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!gg(e)){if(e=zn.current,e!==null&&((Xt&4194048)===Xt?$n!==null:(Xt&62914560)!==Xt&&(Xt&536870912)===0||e!==$n))throw fa=Pu,Zd;t.flags|=8192}}function Qo(t,e){e!==null&&(t.flags|=4),t.flags&16384&&(e=t.tag!==22?Yt():536870912,t.lanes|=e,vr|=e)}function xa(t,e){if(!Kt)switch(t.tailMode){case"hidden":e=t.tail;for(var s=null;e!==null;)e.alternate!==null&&(s=e),e=e.sibling;s===null?t.tail=null:s.sibling=null;break;case"collapsed":s=t.tail;for(var a=null;s!==null;)s.alternate!==null&&(a=s),s=s.sibling;a===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:a.sibling=null}}function be(t){var e=t.alternate!==null&&t.alternate.child===t.child,s=0,a=0;if(e)for(var f=t.child;f!==null;)s|=f.lanes|f.childLanes,a|=f.subtreeFlags&65011712,a|=f.flags&65011712,f.return=t,f=f.sibling;else for(f=t.child;f!==null;)s|=f.lanes|f.childLanes,a|=f.subtreeFlags,a|=f.flags,f.return=t,f=f.sibling;return t.subtreeFlags|=a,t.childLanes=s,e}function yy(t,e,s){var a=e.pendingProps;switch(qu(e),e.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return be(e),null;case 1:return be(e),null;case 3:return s=e.stateNode,a=null,t!==null&&(a=t.memoizedState.cache),e.memoizedState.cache!==a&&(e.flags|=2048),pi(Be),At(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(t===null||t.child===null)&&(ra(e)?vi(e):t===null||t.memoizedState.isDehydrated&&(e.flags&256)===0||(e.flags|=1024,Vd())),be(e),null;case 26:return s=e.memoizedState,t===null?(vi(e),s!==null?(be(e),lm(e,s)):(be(e),e.flags&=-16777217)):s?s!==t.memoizedState?(vi(e),be(e),lm(e,s)):(be(e),e.flags&=-16777217):(t.memoizedProps!==a&&vi(e),be(e),e.flags&=-16777217),null;case 27:Bt(e),s=vt.current;var f=e.type;if(t!==null&&e.stateNode!=null)t.memoizedProps!==a&&vi(e);else{if(!a){if(e.stateNode===null)throw Error(r(166));return be(e),null}t=ct.current,ra(e)?Id(e):(t=lg(f,a,s),e.stateNode=t,vi(e))}return be(e),null;case 5:if(Bt(e),s=e.type,t!==null&&e.stateNode!=null)t.memoizedProps!==a&&vi(e);else{if(!a){if(e.stateNode===null)throw Error(r(166));return be(e),null}if(t=ct.current,ra(e))Id(e);else{switch(f=ul(vt.current),t){case 1:t=f.createElementNS("http://www.w3.org/2000/svg",s);break;case 2:t=f.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;default:switch(s){case"svg":t=f.createElementNS("http://www.w3.org/2000/svg",s);break;case"math":t=f.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;case"script":t=f.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof a.is=="string"?f.createElement("select",{is:a.is}):f.createElement("select"),a.multiple?t.multiple=!0:a.size&&(t.size=a.size);break;default:t=typeof a.is=="string"?f.createElement(s,{is:a.is}):f.createElement(s)}}t[Ve]=e,t[Ke]=a;t:for(f=e.child;f!==null;){if(f.tag===5||f.tag===6)t.appendChild(f.stateNode);else if(f.tag!==4&&f.tag!==27&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break t;for(;f.sibling===null;){if(f.return===null||f.return===e)break t;f=f.return}f.sibling.return=f.return,f=f.sibling}e.stateNode=t;t:switch(We(t,s,a),s){case"button":case"input":case"select":case"textarea":t=!!a.autoFocus;break t;case"img":t=!0;break t;default:t=!1}t&&vi(e)}}return be(e),e.flags&=-16777217,null;case 6:if(t&&e.stateNode!=null)t.memoizedProps!==a&&vi(e);else{if(typeof a!="string"&&e.stateNode===null)throw Error(r(166));if(t=vt.current,ra(e)){if(t=e.stateNode,s=e.memoizedProps,a=null,f=nn,f!==null)switch(f.tag){case 27:case 5:a=f.memoizedProps}t[Ve]=e,t=!!(t.nodeValue===s||a!==null&&a.suppressHydrationWarning===!0||eg(t.nodeValue,s)),t||bs(e)}else t=ul(t).createTextNode(a),t[Ve]=e,e.stateNode=t}return be(e),null;case 13:if(a=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(f=ra(e),a!==null&&a.dehydrated!==null){if(t===null){if(!f)throw Error(r(318));if(f=e.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(r(317));f[Ve]=e}else aa(),(e.flags&128)===0&&(e.memoizedState=null),e.flags|=4;be(e),f=!1}else f=Vd(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=f),f=!0;if(!f)return e.flags&256?(gi(e),e):(gi(e),null)}if(gi(e),(e.flags&128)!==0)return e.lanes=s,e;if(s=a!==null,t=t!==null&&t.memoizedState!==null,s){a=e.child,f=null,a.alternate!==null&&a.alternate.memoizedState!==null&&a.alternate.memoizedState.cachePool!==null&&(f=a.alternate.memoizedState.cachePool.pool);var g=null;a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(g=a.memoizedState.cachePool.pool),g!==f&&(a.flags|=2048)}return s!==t&&s&&(e.child.flags|=8192),Qo(e,e.updateQueue),be(e),null;case 4:return At(),t===null&&Kc(e.stateNode.containerInfo),be(e),null;case 10:return pi(e.type),be(e),null;case 19:if(F(Ie),f=e.memoizedState,f===null)return be(e),null;if(a=(e.flags&128)!==0,g=f.rendering,g===null)if(a)xa(f,!1);else{if(we!==0||t!==null&&(t.flags&128)!==0)for(t=e.child;t!==null;){if(g=Zo(t),g!==null){for(e.flags|=128,xa(f,!1),t=g.updateQueue,e.updateQueue=t,Qo(e,t),e.subtreeFlags=0,t=s,s=e.child;s!==null;)Ud(s,t),s=s.sibling;return ut(Ie,Ie.current&1|2),e.child}t=t.sibling}f.tail!==null&&q()>$o&&(e.flags|=128,a=!0,xa(f,!1),e.lanes=4194304)}else{if(!a)if(t=Zo(g),t!==null){if(e.flags|=128,a=!0,t=t.updateQueue,e.updateQueue=t,Qo(e,t),xa(f,!0),f.tail===null&&f.tailMode==="hidden"&&!g.alternate&&!Kt)return be(e),null}else 2*q()-f.renderingStartTime>$o&&s!==536870912&&(e.flags|=128,a=!0,xa(f,!1),e.lanes=4194304);f.isBackwards?(g.sibling=e.child,e.child=g):(t=f.last,t!==null?t.sibling=g:e.child=g,f.last=g)}return f.tail!==null?(e=f.tail,f.rendering=e,f.tail=e.sibling,f.renderingStartTime=q(),e.sibling=null,t=Ie.current,ut(Ie,a?t&1|2:t&1),e):(be(e),null);case 22:case 23:return gi(e),$u(),a=e.memoizedState!==null,t!==null?t.memoizedState!==null!==a&&(e.flags|=8192):a&&(e.flags|=8192),a?(s&536870912)!==0&&(e.flags&128)===0&&(be(e),e.subtreeFlags&6&&(e.flags|=8192)):be(e),s=e.updateQueue,s!==null&&Qo(e,s.retryQueue),s=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),a=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),a!==s&&(e.flags|=2048),t!==null&&F(Ts),null;case 24:return s=null,t!==null&&(s=t.memoizedState.cache),e.memoizedState.cache!==s&&(e.flags|=2048),pi(Be),be(e),null;case 25:return null;case 30:return null}throw Error(r(156,e.tag))}function by(t,e){switch(qu(e),e.tag){case 1:return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return pi(Be),At(),t=e.flags,(t&65536)!==0&&(t&128)===0?(e.flags=t&-65537|128,e):null;case 26:case 27:case 5:return Bt(e),null;case 13:if(gi(e),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(r(340));aa()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return F(Ie),null;case 4:return At(),null;case 10:return pi(e.type),null;case 22:case 23:return gi(e),$u(),t!==null&&F(Ts),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 24:return pi(Be),null;case 25:return null;default:return null}}function um(t,e){switch(qu(e),e.tag){case 3:pi(Be),At();break;case 26:case 27:case 5:Bt(e);break;case 4:At();break;case 13:gi(e);break;case 19:F(Ie);break;case 10:pi(e.type);break;case 22:case 23:gi(e),$u(),t!==null&&F(Ts);break;case 24:pi(Be)}}function Ta(t,e){try{var s=e.updateQueue,a=s!==null?s.lastEffect:null;if(a!==null){var f=a.next;s=f;do{if((s.tag&t)===t){a=void 0;var g=s.create,k=s.inst;a=g(),k.destroy=a}s=s.next}while(s!==f)}}catch(M){he(e,e.return,M)}}function Vi(t,e,s){try{var a=e.updateQueue,f=a!==null?a.lastEffect:null;if(f!==null){var g=f.next;a=g;do{if((a.tag&t)===t){var k=a.inst,M=k.destroy;if(M!==void 0){k.destroy=void 0,f=e;var G=s,st=M;try{st()}catch(dt){he(f,G,dt)}}}a=a.next}while(a!==g)}}catch(dt){he(e,e.return,dt)}}function cm(t){var e=t.updateQueue;if(e!==null){var s=t.stateNode;try{Kd(e,s)}catch(a){he(t,t.return,a)}}}function hm(t,e,s){s.props=As(t.type,t.memoizedProps),s.state=t.memoizedState;try{s.componentWillUnmount()}catch(a){he(t,e,a)}}function wa(t,e){try{var s=t.ref;if(s!==null){switch(t.tag){case 26:case 27:case 5:var a=t.stateNode;break;case 30:a=t.stateNode;break;default:a=t.stateNode}typeof s=="function"?t.refCleanup=s(a):s.current=a}}catch(f){he(t,e,f)}}function ti(t,e){var s=t.ref,a=t.refCleanup;if(s!==null)if(typeof a=="function")try{a()}catch(f){he(t,e,f)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(f){he(t,e,f)}else s.current=null}function fm(t){var e=t.type,s=t.memoizedProps,a=t.stateNode;try{t:switch(e){case"button":case"input":case"select":case"textarea":s.autoFocus&&a.focus();break t;case"img":s.src?a.src=s.src:s.srcSet&&(a.srcset=s.srcSet)}}catch(f){he(t,t.return,f)}}function Cc(t,e,s){try{var a=t.stateNode;Ly(a,t.type,s,e),a[Ke]=e}catch(f){he(t,t.return,f)}}function dm(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Xi(t.type)||t.tag===4}function Nc(t){t:for(;;){for(;t.sibling===null;){if(t.return===null||dm(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Xi(t.type)||t.flags&2||t.child===null||t.tag===4)continue t;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Ec(t,e,s){var a=t.tag;if(a===5||a===6)t=t.stateNode,e?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(t,e):(e=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,e.appendChild(t),s=s._reactRootContainer,s!=null||e.onclick!==null||(e.onclick=ll));else if(a!==4&&(a===27&&Xi(t.type)&&(s=t.stateNode,e=null),t=t.child,t!==null))for(Ec(t,e,s),t=t.sibling;t!==null;)Ec(t,e,s),t=t.sibling}function Ko(t,e,s){var a=t.tag;if(a===5||a===6)t=t.stateNode,e?s.insertBefore(t,e):s.appendChild(t);else if(a!==4&&(a===27&&Xi(t.type)&&(s=t.stateNode),t=t.child,t!==null))for(Ko(t,e,s),t=t.sibling;t!==null;)Ko(t,e,s),t=t.sibling}function pm(t){var e=t.stateNode,s=t.memoizedProps;try{for(var a=t.type,f=e.attributes;f.length;)e.removeAttributeNode(f[0]);We(e,a,s),e[Ve]=t,e[Ke]=s}catch(g){he(t,t.return,g)}}var yi=!1,Ee=!1,Oc=!1,mm=typeof WeakSet=="function"?WeakSet:Set,He=null;function Sy(t,e){if(t=t.containerInfo,th=ml,t=kd(t),Nu(t)){if("selectionStart"in t)var s={start:t.selectionStart,end:t.selectionEnd};else t:{s=(s=t.ownerDocument)&&s.defaultView||window;var a=s.getSelection&&s.getSelection();if(a&&a.rangeCount!==0){s=a.anchorNode;var f=a.anchorOffset,g=a.focusNode;a=a.focusOffset;try{s.nodeType,g.nodeType}catch{s=null;break t}var k=0,M=-1,G=-1,st=0,dt=0,gt=t,at=null;e:for(;;){for(var lt;gt!==s||f!==0&&gt.nodeType!==3||(M=k+f),gt!==g||a!==0&&gt.nodeType!==3||(G=k+a),gt.nodeType===3&&(k+=gt.nodeValue.length),(lt=gt.firstChild)!==null;)at=gt,gt=lt;for(;;){if(gt===t)break e;if(at===s&&++st===f&&(M=k),at===g&&++dt===a&&(G=k),(lt=gt.nextSibling)!==null)break;gt=at,at=gt.parentNode}gt=lt}s=M===-1||G===-1?null:{start:M,end:G}}else s=null}s=s||{start:0,end:0}}else s=null;for(eh={focusedElem:t,selectionRange:s},ml=!1,He=e;He!==null;)if(e=He,t=e.child,(e.subtreeFlags&1024)!==0&&t!==null)t.return=e,He=t;else for(;He!==null;){switch(e=He,g=e.alternate,t=e.flags,e.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&g!==null){t=void 0,s=e,f=g.memoizedProps,g=g.memoizedState,a=s.stateNode;try{var Dt=As(s.type,f,s.elementType===s.type);t=a.getSnapshotBeforeUpdate(Dt,g),a.__reactInternalSnapshotBeforeUpdate=t}catch(Ot){he(s,s.return,Ot)}}break;case 3:if((t&1024)!==0){if(t=e.stateNode.containerInfo,s=t.nodeType,s===9)sh(t);else if(s===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":sh(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(r(163))}if(t=e.sibling,t!==null){t.return=e.return,He=t;break}He=e.return}}function gm(t,e,s){var a=s.flags;switch(s.tag){case 0:case 11:case 15:Li(t,s),a&4&&Ta(5,s);break;case 1:if(Li(t,s),a&4)if(t=s.stateNode,e===null)try{t.componentDidMount()}catch(k){he(s,s.return,k)}else{var f=As(s.type,e.memoizedProps);e=e.memoizedState;try{t.componentDidUpdate(f,e,t.__reactInternalSnapshotBeforeUpdate)}catch(k){he(s,s.return,k)}}a&64&&cm(s),a&512&&wa(s,s.return);break;case 3:if(Li(t,s),a&64&&(t=s.updateQueue,t!==null)){if(e=null,s.child!==null)switch(s.child.tag){case 27:case 5:e=s.child.stateNode;break;case 1:e=s.child.stateNode}try{Kd(t,e)}catch(k){he(s,s.return,k)}}break;case 27:e===null&&a&4&&pm(s);case 26:case 5:Li(t,s),e===null&&a&4&&fm(s),a&512&&wa(s,s.return);break;case 12:Li(t,s);break;case 13:Li(t,s),a&4&&ym(t,s),a&64&&(t=s.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(s=Oy.bind(null,s),Xy(t,s))));break;case 22:if(a=s.memoizedState!==null||yi,!a){e=e!==null&&e.memoizedState!==null||Ee,f=yi;var g=Ee;yi=a,(Ee=e)&&!g?Fi(t,s,(s.subtreeFlags&8772)!==0):Li(t,s),yi=f,Ee=g}break;case 30:break;default:Li(t,s)}}function _m(t){var e=t.alternate;e!==null&&(t.alternate=null,_m(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&uu(e)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var ve=null,cn=!1;function bi(t,e,s){for(s=s.child;s!==null;)vm(t,e,s),s=s.sibling}function vm(t,e,s){if(jt&&typeof jt.onCommitFiberUnmount=="function")try{jt.onCommitFiberUnmount(Ct,s)}catch{}switch(s.tag){case 26:Ee||ti(s,e),bi(t,e,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:Ee||ti(s,e);var a=ve,f=cn;Xi(s.type)&&(ve=s.stateNode,cn=!1),bi(t,e,s),Ra(s.stateNode),ve=a,cn=f;break;case 5:Ee||ti(s,e);case 6:if(a=ve,f=cn,ve=null,bi(t,e,s),ve=a,cn=f,ve!==null)if(cn)try{(ve.nodeType===9?ve.body:ve.nodeName==="HTML"?ve.ownerDocument.body:ve).removeChild(s.stateNode)}catch(g){he(s,e,g)}else try{ve.removeChild(s.stateNode)}catch(g){he(s,e,g)}break;case 18:ve!==null&&(cn?(t=ve,ag(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,s.stateNode),La(t)):ag(ve,s.stateNode));break;case 4:a=ve,f=cn,ve=s.stateNode.containerInfo,cn=!0,bi(t,e,s),ve=a,cn=f;break;case 0:case 11:case 14:case 15:Ee||Vi(2,s,e),Ee||Vi(4,s,e),bi(t,e,s);break;case 1:Ee||(ti(s,e),a=s.stateNode,typeof a.componentWillUnmount=="function"&&hm(s,e,a)),bi(t,e,s);break;case 21:bi(t,e,s);break;case 22:Ee=(a=Ee)||s.memoizedState!==null,bi(t,e,s),Ee=a;break;default:bi(t,e,s)}}function ym(t,e){if(e.memoizedState===null&&(t=e.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{La(t)}catch(s){he(e,e.return,s)}}function xy(t){switch(t.tag){case 13:case 19:var e=t.stateNode;return e===null&&(e=t.stateNode=new mm),e;case 22:return t=t.stateNode,e=t._retryCache,e===null&&(e=t._retryCache=new mm),e;default:throw Error(r(435,t.tag))}}function Mc(t,e){var s=xy(t);e.forEach(function(a){var f=My.bind(null,t,a);s.has(a)||(s.add(a),a.then(f,f))})}function vn(t,e){var s=e.deletions;if(s!==null)for(var a=0;a<s.length;a++){var f=s[a],g=t,k=e,M=k;t:for(;M!==null;){switch(M.tag){case 27:if(Xi(M.type)){ve=M.stateNode,cn=!1;break t}break;case 5:ve=M.stateNode,cn=!1;break t;case 3:case 4:ve=M.stateNode.containerInfo,cn=!0;break t}M=M.return}if(ve===null)throw Error(r(160));vm(g,k,f),ve=null,cn=!1,g=f.alternate,g!==null&&(g.return=null),f.return=null}if(e.subtreeFlags&13878)for(e=e.child;e!==null;)bm(e,t),e=e.sibling}var Fn=null;function bm(t,e){var s=t.alternate,a=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:vn(e,t),yn(t),a&4&&(Vi(3,t,t.return),Ta(3,t),Vi(5,t,t.return));break;case 1:vn(e,t),yn(t),a&512&&(Ee||s===null||ti(s,s.return)),a&64&&yi&&(t=t.updateQueue,t!==null&&(a=t.callbacks,a!==null&&(s=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=s===null?a:s.concat(a))));break;case 26:var f=Fn;if(vn(e,t),yn(t),a&512&&(Ee||s===null||ti(s,s.return)),a&4){var g=s!==null?s.memoizedState:null;if(a=t.memoizedState,s===null)if(a===null)if(t.stateNode===null){t:{a=t.type,s=t.memoizedProps,f=f.ownerDocument||f;e:switch(a){case"title":g=f.getElementsByTagName("title")[0],(!g||g[Xr]||g[Ve]||g.namespaceURI==="http://www.w3.org/2000/svg"||g.hasAttribute("itemprop"))&&(g=f.createElement(a),f.head.insertBefore(g,f.querySelector("head > title"))),We(g,a,s),g[Ve]=t,Le(g),a=g;break t;case"link":var k=pg("link","href",f).get(a+(s.href||""));if(k){for(var M=0;M<k.length;M++)if(g=k[M],g.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&g.getAttribute("rel")===(s.rel==null?null:s.rel)&&g.getAttribute("title")===(s.title==null?null:s.title)&&g.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){k.splice(M,1);break e}}g=f.createElement(a),We(g,a,s),f.head.appendChild(g);break;case"meta":if(k=pg("meta","content",f).get(a+(s.content||""))){for(M=0;M<k.length;M++)if(g=k[M],g.getAttribute("content")===(s.content==null?null:""+s.content)&&g.getAttribute("name")===(s.name==null?null:s.name)&&g.getAttribute("property")===(s.property==null?null:s.property)&&g.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&g.getAttribute("charset")===(s.charSet==null?null:s.charSet)){k.splice(M,1);break e}}g=f.createElement(a),We(g,a,s),f.head.appendChild(g);break;default:throw Error(r(468,a))}g[Ve]=t,Le(g),a=g}t.stateNode=a}else mg(f,t.type,t.stateNode);else t.stateNode=dg(f,a,t.memoizedProps);else g!==a?(g===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):g.count--,a===null?mg(f,t.type,t.stateNode):dg(f,a,t.memoizedProps)):a===null&&t.stateNode!==null&&Cc(t,t.memoizedProps,s.memoizedProps)}break;case 27:vn(e,t),yn(t),a&512&&(Ee||s===null||ti(s,s.return)),s!==null&&a&4&&Cc(t,t.memoizedProps,s.memoizedProps);break;case 5:if(vn(e,t),yn(t),a&512&&(Ee||s===null||ti(s,s.return)),t.flags&32){f=t.stateNode;try{Qs(f,"")}catch(lt){he(t,t.return,lt)}}a&4&&t.stateNode!=null&&(f=t.memoizedProps,Cc(t,f,s!==null?s.memoizedProps:f)),a&1024&&(Oc=!0);break;case 6:if(vn(e,t),yn(t),a&4){if(t.stateNode===null)throw Error(r(162));a=t.memoizedProps,s=t.stateNode;try{s.nodeValue=a}catch(lt){he(t,t.return,lt)}}break;case 3:if(fl=null,f=Fn,Fn=cl(e.containerInfo),vn(e,t),Fn=f,yn(t),a&4&&s!==null&&s.memoizedState.isDehydrated)try{La(e.containerInfo)}catch(lt){he(t,t.return,lt)}Oc&&(Oc=!1,Sm(t));break;case 4:a=Fn,Fn=cl(t.stateNode.containerInfo),vn(e,t),yn(t),Fn=a;break;case 12:vn(e,t),yn(t);break;case 13:vn(e,t),yn(t),t.child.flags&8192&&t.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(Bc=q()),a&4&&(a=t.updateQueue,a!==null&&(t.updateQueue=null,Mc(t,a)));break;case 22:f=t.memoizedState!==null;var G=s!==null&&s.memoizedState!==null,st=yi,dt=Ee;if(yi=st||f,Ee=dt||G,vn(e,t),Ee=dt,yi=st,yn(t),a&8192)t:for(e=t.stateNode,e._visibility=f?e._visibility&-2:e._visibility|1,f&&(s===null||G||yi||Ee||ks(t)),s=null,e=t;;){if(e.tag===5||e.tag===26){if(s===null){G=s=e;try{if(g=G.stateNode,f)k=g.style,typeof k.setProperty=="function"?k.setProperty("display","none","important"):k.display="none";else{M=G.stateNode;var gt=G.memoizedProps.style,at=gt!=null&&gt.hasOwnProperty("display")?gt.display:null;M.style.display=at==null||typeof at=="boolean"?"":(""+at).trim()}}catch(lt){he(G,G.return,lt)}}}else if(e.tag===6){if(s===null){G=e;try{G.stateNode.nodeValue=f?"":G.memoizedProps}catch(lt){he(G,G.return,lt)}}}else if((e.tag!==22&&e.tag!==23||e.memoizedState===null||e===t)&&e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break t;for(;e.sibling===null;){if(e.return===null||e.return===t)break t;s===e&&(s=null),e=e.return}s===e&&(s=null),e.sibling.return=e.return,e=e.sibling}a&4&&(a=t.updateQueue,a!==null&&(s=a.retryQueue,s!==null&&(a.retryQueue=null,Mc(t,s))));break;case 19:vn(e,t),yn(t),a&4&&(a=t.updateQueue,a!==null&&(t.updateQueue=null,Mc(t,a)));break;case 30:break;case 21:break;default:vn(e,t),yn(t)}}function yn(t){var e=t.flags;if(e&2){try{for(var s,a=t.return;a!==null;){if(dm(a)){s=a;break}a=a.return}if(s==null)throw Error(r(160));switch(s.tag){case 27:var f=s.stateNode,g=Nc(t);Ko(t,g,f);break;case 5:var k=s.stateNode;s.flags&32&&(Qs(k,""),s.flags&=-33);var M=Nc(t);Ko(t,M,k);break;case 3:case 4:var G=s.stateNode.containerInfo,st=Nc(t);Ec(t,st,G);break;default:throw Error(r(161))}}catch(dt){he(t,t.return,dt)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function Sm(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var e=t;Sm(e),e.tag===5&&e.flags&1024&&e.stateNode.reset(),t=t.sibling}}function Li(t,e){if(e.subtreeFlags&8772)for(e=e.child;e!==null;)gm(t,e.alternate,e),e=e.sibling}function ks(t){for(t=t.child;t!==null;){var e=t;switch(e.tag){case 0:case 11:case 14:case 15:Vi(4,e,e.return),ks(e);break;case 1:ti(e,e.return);var s=e.stateNode;typeof s.componentWillUnmount=="function"&&hm(e,e.return,s),ks(e);break;case 27:Ra(e.stateNode);case 26:case 5:ti(e,e.return),ks(e);break;case 22:e.memoizedState===null&&ks(e);break;case 30:ks(e);break;default:ks(e)}t=t.sibling}}function Fi(t,e,s){for(s=s&&(e.subtreeFlags&8772)!==0,e=e.child;e!==null;){var a=e.alternate,f=t,g=e,k=g.flags;switch(g.tag){case 0:case 11:case 15:Fi(f,g,s),Ta(4,g);break;case 1:if(Fi(f,g,s),a=g,f=a.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(st){he(a,a.return,st)}if(a=g,f=a.updateQueue,f!==null){var M=a.stateNode;try{var G=f.shared.hiddenCallbacks;if(G!==null)for(f.shared.hiddenCallbacks=null,f=0;f<G.length;f++)Qd(G[f],M)}catch(st){he(a,a.return,st)}}s&&k&64&&cm(g),wa(g,g.return);break;case 27:pm(g);case 26:case 5:Fi(f,g,s),s&&a===null&&k&4&&fm(g),wa(g,g.return);break;case 12:Fi(f,g,s);break;case 13:Fi(f,g,s),s&&k&4&&ym(f,g);break;case 22:g.memoizedState===null&&Fi(f,g,s),wa(g,g.return);break;case 30:break;default:Fi(f,g,s)}e=e.sibling}}function Dc(t,e){var s=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),t=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(t=e.memoizedState.cachePool.pool),t!==s&&(t!=null&&t.refCount++,s!=null&&ua(s))}function Rc(t,e){t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&ua(t))}function ei(t,e,s,a){if(e.subtreeFlags&10256)for(e=e.child;e!==null;)xm(t,e,s,a),e=e.sibling}function xm(t,e,s,a){var f=e.flags;switch(e.tag){case 0:case 11:case 15:ei(t,e,s,a),f&2048&&Ta(9,e);break;case 1:ei(t,e,s,a);break;case 3:ei(t,e,s,a),f&2048&&(t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&ua(t)));break;case 12:if(f&2048){ei(t,e,s,a),t=e.stateNode;try{var g=e.memoizedProps,k=g.id,M=g.onPostCommit;typeof M=="function"&&M(k,e.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(G){he(e,e.return,G)}}else ei(t,e,s,a);break;case 13:ei(t,e,s,a);break;case 23:break;case 22:g=e.stateNode,k=e.alternate,e.memoizedState!==null?g._visibility&2?ei(t,e,s,a):Aa(t,e):g._visibility&2?ei(t,e,s,a):(g._visibility|=2,mr(t,e,s,a,(e.subtreeFlags&10256)!==0)),f&2048&&Dc(k,e);break;case 24:ei(t,e,s,a),f&2048&&Rc(e.alternate,e);break;default:ei(t,e,s,a)}}function mr(t,e,s,a,f){for(f=f&&(e.subtreeFlags&10256)!==0,e=e.child;e!==null;){var g=t,k=e,M=s,G=a,st=k.flags;switch(k.tag){case 0:case 11:case 15:mr(g,k,M,G,f),Ta(8,k);break;case 23:break;case 22:var dt=k.stateNode;k.memoizedState!==null?dt._visibility&2?mr(g,k,M,G,f):Aa(g,k):(dt._visibility|=2,mr(g,k,M,G,f)),f&&st&2048&&Dc(k.alternate,k);break;case 24:mr(g,k,M,G,f),f&&st&2048&&Rc(k.alternate,k);break;default:mr(g,k,M,G,f)}e=e.sibling}}function Aa(t,e){if(e.subtreeFlags&10256)for(e=e.child;e!==null;){var s=t,a=e,f=a.flags;switch(a.tag){case 22:Aa(s,a),f&2048&&Dc(a.alternate,a);break;case 24:Aa(s,a),f&2048&&Rc(a.alternate,a);break;default:Aa(s,a)}e=e.sibling}}var ka=8192;function gr(t){if(t.subtreeFlags&ka)for(t=t.child;t!==null;)Tm(t),t=t.sibling}function Tm(t){switch(t.tag){case 26:gr(t),t.flags&ka&&t.memoizedState!==null&&o1(Fn,t.memoizedState,t.memoizedProps);break;case 5:gr(t);break;case 3:case 4:var e=Fn;Fn=cl(t.stateNode.containerInfo),gr(t),Fn=e;break;case 22:t.memoizedState===null&&(e=t.alternate,e!==null&&e.memoizedState!==null?(e=ka,ka=16777216,gr(t),ka=e):gr(t));break;default:gr(t)}}function wm(t){var e=t.alternate;if(e!==null&&(t=e.child,t!==null)){e.child=null;do e=t.sibling,t.sibling=null,t=e;while(t!==null)}}function Ca(t){var e=t.deletions;if((t.flags&16)!==0){if(e!==null)for(var s=0;s<e.length;s++){var a=e[s];He=a,km(a,t)}wm(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Am(t),t=t.sibling}function Am(t){switch(t.tag){case 0:case 11:case 15:Ca(t),t.flags&2048&&Vi(9,t,t.return);break;case 3:Ca(t);break;case 12:Ca(t);break;case 22:var e=t.stateNode;t.memoizedState!==null&&e._visibility&2&&(t.return===null||t.return.tag!==13)?(e._visibility&=-3,Jo(t)):Ca(t);break;default:Ca(t)}}function Jo(t){var e=t.deletions;if((t.flags&16)!==0){if(e!==null)for(var s=0;s<e.length;s++){var a=e[s];He=a,km(a,t)}wm(t)}for(t=t.child;t!==null;){switch(e=t,e.tag){case 0:case 11:case 15:Vi(8,e,e.return),Jo(e);break;case 22:s=e.stateNode,s._visibility&2&&(s._visibility&=-3,Jo(e));break;default:Jo(e)}t=t.sibling}}function km(t,e){for(;He!==null;){var s=He;switch(s.tag){case 0:case 11:case 15:Vi(8,s,e);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var a=s.memoizedState.cachePool.pool;a!=null&&a.refCount++}break;case 24:ua(s.memoizedState.cache)}if(a=s.child,a!==null)a.return=s,He=a;else t:for(s=t;He!==null;){a=He;var f=a.sibling,g=a.return;if(_m(a),a===s){He=null;break t}if(f!==null){f.return=g,He=f;break t}He=g}}}var Ty={getCacheForType:function(t){var e=Je(Be),s=e.data.get(t);return s===void 0&&(s=t(),e.data.set(t,s)),s}},wy=typeof WeakMap=="function"?WeakMap:Map,ee=0,de=null,Ht=null,Xt=0,ne=0,bn=null,Hi=!1,_r=!1,zc=!1,Si=0,we=0,Gi=0,Cs=0,jc=0,jn=0,vr=0,Na=null,hn=null,Uc=!1,Bc=0,$o=1/0,tl=null,Zi=null,Xe=0,Yi=null,yr=null,br=0,Ic=0,qc=null,Cm=null,Ea=0,Vc=null;function Sn(){if((ee&2)!==0&&Xt!==0)return Xt&-Xt;if(Z.T!==null){var t=or;return t!==0?t:Pc()}return mn()}function Nm(){jn===0&&(jn=(Xt&536870912)===0||Kt?qn():536870912);var t=zn.current;return t!==null&&(t.flags|=32),jn}function xn(t,e,s){(t===de&&(ne===2||ne===9)||t.cancelPendingCommit!==null)&&(Sr(t,0),Pi(t,Xt,jn,!1)),fe(t,s),((ee&2)===0||t!==de)&&(t===de&&((ee&2)===0&&(Cs|=s),we===4&&Pi(t,Xt,jn,!1)),ni(t))}function Em(t,e,s){if((ee&6)!==0)throw Error(r(327));var a=!s&&(e&124)===0&&(e&t.expiredLanes)===0||Ce(t,e),f=a?Cy(t,e):Hc(t,e,!0),g=a;do{if(f===0){_r&&!a&&Pi(t,e,0,!1);break}else{if(s=t.current.alternate,g&&!Ay(s)){f=Hc(t,e,!1),g=!1;continue}if(f===2){if(g=e,t.errorRecoveryDisabledLanes&g)var k=0;else k=t.pendingLanes&-536870913,k=k!==0?k:k&536870912?536870912:0;if(k!==0){e=k;t:{var M=t;f=Na;var G=M.current.memoizedState.isDehydrated;if(G&&(Sr(M,k).flags|=256),k=Hc(M,k,!1),k!==2){if(zc&&!G){M.errorRecoveryDisabledLanes|=g,Cs|=g,f=4;break t}g=hn,hn=f,g!==null&&(hn===null?hn=g:hn.push.apply(hn,g))}f=k}if(g=!1,f!==2)continue}}if(f===1){Sr(t,0),Pi(t,e,0,!0);break}t:{switch(a=t,g=f,g){case 0:case 1:throw Error(r(345));case 4:if((e&4194048)!==e)break;case 6:Pi(a,e,jn,!Hi);break t;case 2:hn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((e&62914560)===e&&(f=Bc+300-q(),10<f)){if(Pi(a,e,jn,!Hi),Jt(a,0,!0)!==0)break t;a.timeoutHandle=sg(Om.bind(null,a,s,hn,tl,Uc,e,jn,Cs,vr,Hi,g,2,-0,0),f);break t}Om(a,s,hn,tl,Uc,e,jn,Cs,vr,Hi,g,0,-0,0)}}break}while(!0);ni(t)}function Om(t,e,s,a,f,g,k,M,G,st,dt,gt,at,lt){if(t.timeoutHandle=-1,gt=e.subtreeFlags,(gt&8192||(gt&16785408)===16785408)&&(Ua={stylesheets:null,count:0,unsuspend:a1},Tm(e),gt=l1(),gt!==null)){t.cancelPendingCommit=gt(Bm.bind(null,t,e,g,s,a,f,k,M,G,dt,1,at,lt)),Pi(t,g,k,!st);return}Bm(t,e,g,s,a,f,k,M,G)}function Ay(t){for(var e=t;;){var s=e.tag;if((s===0||s===11||s===15)&&e.flags&16384&&(s=e.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var a=0;a<s.length;a++){var f=s[a],g=f.getSnapshot;f=f.value;try{if(!gn(g(),f))return!1}catch{return!1}}if(s=e.child,e.subtreeFlags&16384&&s!==null)s.return=e,e=s;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Pi(t,e,s,a){e&=~jc,e&=~Cs,t.suspendedLanes|=e,t.pingedLanes&=~e,a&&(t.warmLanes|=e),a=t.expirationTimes;for(var f=e;0<f;){var g=31-xt(f),k=1<<g;a[g]=-1,f&=~k}s!==0&&xe(t,s,e)}function el(){return(ee&6)===0?(Oa(0),!1):!0}function Lc(){if(Ht!==null){if(ne===0)var t=Ht.return;else t=Ht,di=Ss=null,sc(t),dr=null,ba=0,t=Ht;for(;t!==null;)um(t.alternate,t),t=t.return;Ht=null}}function Sr(t,e){var s=t.timeoutHandle;s!==-1&&(t.timeoutHandle=-1,Hy(s)),s=t.cancelPendingCommit,s!==null&&(t.cancelPendingCommit=null,s()),Lc(),de=t,Ht=s=ci(t.current,null),Xt=e,ne=0,bn=null,Hi=!1,_r=Ce(t,e),zc=!1,vr=jn=jc=Cs=Gi=we=0,hn=Na=null,Uc=!1,(e&8)!==0&&(e|=e&32);var a=t.entangledLanes;if(a!==0)for(t=t.entanglements,a&=e;0<a;){var f=31-xt(a),g=1<<f;e|=t[f],a&=~g}return Si=e,To(),s}function Mm(t,e){Lt=null,Z.H=Fo,e===ha||e===Do?(e=Xd(),ne=3):e===Zd?(e=Xd(),ne=4):ne=e===Wp?8:e!==null&&typeof e=="object"&&typeof e.then=="function"?6:1,bn=e,Ht===null&&(we=1,Po(t,On(e,t.current)))}function Dm(){var t=Z.H;return Z.H=Fo,t===null?Fo:t}function Rm(){var t=Z.A;return Z.A=Ty,t}function Fc(){we=4,Hi||(Xt&4194048)!==Xt&&zn.current!==null||(_r=!0),(Gi&134217727)===0&&(Cs&134217727)===0||de===null||Pi(de,Xt,jn,!1)}function Hc(t,e,s){var a=ee;ee|=2;var f=Dm(),g=Rm();(de!==t||Xt!==e)&&(tl=null,Sr(t,e)),e=!1;var k=we;t:do try{if(ne!==0&&Ht!==null){var M=Ht,G=bn;switch(ne){case 8:Lc(),k=6;break t;case 3:case 2:case 9:case 6:zn.current===null&&(e=!0);var st=ne;if(ne=0,bn=null,xr(t,M,G,st),s&&_r){k=0;break t}break;default:st=ne,ne=0,bn=null,xr(t,M,G,st)}}ky(),k=we;break}catch(dt){Mm(t,dt)}while(!0);return e&&t.shellSuspendCounter++,di=Ss=null,ee=a,Z.H=f,Z.A=g,Ht===null&&(de=null,Xt=0,To()),k}function ky(){for(;Ht!==null;)zm(Ht)}function Cy(t,e){var s=ee;ee|=2;var a=Dm(),f=Rm();de!==t||Xt!==e?(tl=null,$o=q()+500,Sr(t,e)):_r=Ce(t,e);t:do try{if(ne!==0&&Ht!==null){e=Ht;var g=bn;e:switch(ne){case 1:ne=0,bn=null,xr(t,e,g,1);break;case 2:case 9:if(Yd(g)){ne=0,bn=null,jm(e);break}e=function(){ne!==2&&ne!==9||de!==t||(ne=7),ni(t)},g.then(e,e);break t;case 3:ne=7;break t;case 4:ne=5;break t;case 7:Yd(g)?(ne=0,bn=null,jm(e)):(ne=0,bn=null,xr(t,e,g,7));break;case 5:var k=null;switch(Ht.tag){case 26:k=Ht.memoizedState;case 5:case 27:var M=Ht;if(!k||gg(k)){ne=0,bn=null;var G=M.sibling;if(G!==null)Ht=G;else{var st=M.return;st!==null?(Ht=st,nl(st)):Ht=null}break e}}ne=0,bn=null,xr(t,e,g,5);break;case 6:ne=0,bn=null,xr(t,e,g,6);break;case 8:Lc(),we=6;break t;default:throw Error(r(462))}}Ny();break}catch(dt){Mm(t,dt)}while(!0);return di=Ss=null,Z.H=a,Z.A=f,ee=s,Ht!==null?0:(de=null,Xt=0,To(),we)}function Ny(){for(;Ht!==null&&!Q();)zm(Ht)}function zm(t){var e=om(t.alternate,t,Si);t.memoizedProps=t.pendingProps,e===null?nl(t):Ht=e}function jm(t){var e=t,s=e.alternate;switch(e.tag){case 15:case 0:e=em(s,e,e.pendingProps,e.type,void 0,Xt);break;case 11:e=em(s,e,e.pendingProps,e.type.render,e.ref,Xt);break;case 5:sc(e);default:um(s,e),e=Ht=Ud(e,Si),e=om(s,e,Si)}t.memoizedProps=t.pendingProps,e===null?nl(t):Ht=e}function xr(t,e,s,a){di=Ss=null,sc(e),dr=null,ba=0;var f=e.return;try{if(_y(t,f,e,s,Xt)){we=1,Po(t,On(s,t.current)),Ht=null;return}}catch(g){if(f!==null)throw Ht=f,g;we=1,Po(t,On(s,t.current)),Ht=null;return}e.flags&32768?(Kt||a===1?t=!0:_r||(Xt&536870912)!==0?t=!1:(Hi=t=!0,(a===2||a===9||a===3||a===6)&&(a=zn.current,a!==null&&a.tag===13&&(a.flags|=16384))),Um(e,t)):nl(e)}function nl(t){var e=t;do{if((e.flags&32768)!==0){Um(e,Hi);return}t=e.return;var s=yy(e.alternate,e,Si);if(s!==null){Ht=s;return}if(e=e.sibling,e!==null){Ht=e;return}Ht=e=t}while(e!==null);we===0&&(we=5)}function Um(t,e){do{var s=by(t.alternate,t);if(s!==null){s.flags&=32767,Ht=s;return}if(s=t.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!e&&(t=t.sibling,t!==null)){Ht=t;return}Ht=t=s}while(t!==null);we=6,Ht=null}function Bm(t,e,s,a,f,g,k,M,G){t.cancelPendingCommit=null;do il();while(Xe!==0);if((ee&6)!==0)throw Error(r(327));if(e!==null){if(e===t.current)throw Error(r(177));if(g=e.lanes|e.childLanes,g|=Ru,te(t,s,g,k,M,G),t===de&&(Ht=de=null,Xt=0),yr=e,Yi=t,br=s,Ic=g,qc=f,Cm=a,(e.subtreeFlags&10256)!==0||(e.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,Dy(pt,function(){return Fm(),null})):(t.callbackNode=null,t.callbackPriority=0),a=(e.flags&13878)!==0,(e.subtreeFlags&13878)!==0||a){a=Z.T,Z.T=null,f=H.p,H.p=2,k=ee,ee|=4;try{Sy(t,e,s)}finally{ee=k,H.p=f,Z.T=a}}Xe=1,Im(),qm(),Vm()}}function Im(){if(Xe===1){Xe=0;var t=Yi,e=yr,s=(e.flags&13878)!==0;if((e.subtreeFlags&13878)!==0||s){s=Z.T,Z.T=null;var a=H.p;H.p=2;var f=ee;ee|=4;try{bm(e,t);var g=eh,k=kd(t.containerInfo),M=g.focusedElem,G=g.selectionRange;if(k!==M&&M&&M.ownerDocument&&Ad(M.ownerDocument.documentElement,M)){if(G!==null&&Nu(M)){var st=G.start,dt=G.end;if(dt===void 0&&(dt=st),"selectionStart"in M)M.selectionStart=st,M.selectionEnd=Math.min(dt,M.value.length);else{var gt=M.ownerDocument||document,at=gt&&gt.defaultView||window;if(at.getSelection){var lt=at.getSelection(),Dt=M.textContent.length,Ot=Math.min(G.start,Dt),ae=G.end===void 0?Ot:Math.min(G.end,Dt);!lt.extend&&Ot>ae&&(k=ae,ae=Ot,Ot=k);var $=wd(M,Ot),W=wd(M,ae);if($&&W&&(lt.rangeCount!==1||lt.anchorNode!==$.node||lt.anchorOffset!==$.offset||lt.focusNode!==W.node||lt.focusOffset!==W.offset)){var it=gt.createRange();it.setStart($.node,$.offset),lt.removeAllRanges(),Ot>ae?(lt.addRange(it),lt.extend(W.node,W.offset)):(it.setEnd(W.node,W.offset),lt.addRange(it))}}}}for(gt=[],lt=M;lt=lt.parentNode;)lt.nodeType===1&&gt.push({element:lt,left:lt.scrollLeft,top:lt.scrollTop});for(typeof M.focus=="function"&&M.focus(),M=0;M<gt.length;M++){var mt=gt[M];mt.element.scrollLeft=mt.left,mt.element.scrollTop=mt.top}}ml=!!th,eh=th=null}finally{ee=f,H.p=a,Z.T=s}}t.current=e,Xe=2}}function qm(){if(Xe===2){Xe=0;var t=Yi,e=yr,s=(e.flags&8772)!==0;if((e.subtreeFlags&8772)!==0||s){s=Z.T,Z.T=null;var a=H.p;H.p=2;var f=ee;ee|=4;try{gm(t,e.alternate,e)}finally{ee=f,H.p=a,Z.T=s}}Xe=3}}function Vm(){if(Xe===4||Xe===3){Xe=0,K();var t=Yi,e=yr,s=br,a=Cm;(e.subtreeFlags&10256)!==0||(e.flags&10256)!==0?Xe=5:(Xe=0,yr=Yi=null,Lm(t,t.pendingLanes));var f=t.pendingLanes;if(f===0&&(Zi=null),oi(s),e=e.stateNode,jt&&typeof jt.onCommitFiberRoot=="function")try{jt.onCommitFiberRoot(Ct,e,void 0,(e.current.flags&128)===128)}catch{}if(a!==null){e=Z.T,f=H.p,H.p=2,Z.T=null;try{for(var g=t.onRecoverableError,k=0;k<a.length;k++){var M=a[k];g(M.value,{componentStack:M.stack})}}finally{Z.T=e,H.p=f}}(br&3)!==0&&il(),ni(t),f=t.pendingLanes,(s&4194090)!==0&&(f&42)!==0?t===Vc?Ea++:(Ea=0,Vc=t):Ea=0,Oa(0)}}function Lm(t,e){(t.pooledCacheLanes&=e)===0&&(e=t.pooledCache,e!=null&&(t.pooledCache=null,ua(e)))}function il(t){return Im(),qm(),Vm(),Fm()}function Fm(){if(Xe!==5)return!1;var t=Yi,e=Ic;Ic=0;var s=oi(br),a=Z.T,f=H.p;try{H.p=32>s?32:s,Z.T=null,s=qc,qc=null;var g=Yi,k=br;if(Xe=0,yr=Yi=null,br=0,(ee&6)!==0)throw Error(r(331));var M=ee;if(ee|=4,Am(g.current),xm(g,g.current,k,s),ee=M,Oa(0,!1),jt&&typeof jt.onPostCommitFiberRoot=="function")try{jt.onPostCommitFiberRoot(Ct,g)}catch{}return!0}finally{H.p=f,Z.T=a,Lm(t,e)}}function Hm(t,e,s){e=On(s,e),e=vc(t.stateNode,e,2),t=Ui(t,e,2),t!==null&&(fe(t,2),ni(t))}function he(t,e,s){if(t.tag===3)Hm(t,t,s);else for(;e!==null;){if(e.tag===3){Hm(e,t,s);break}else if(e.tag===1){var a=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof a.componentDidCatch=="function"&&(Zi===null||!Zi.has(a))){t=On(s,t),s=Pp(2),a=Ui(e,s,2),a!==null&&(Xp(s,a,e,t),fe(a,2),ni(a));break}}e=e.return}}function Gc(t,e,s){var a=t.pingCache;if(a===null){a=t.pingCache=new wy;var f=new Set;a.set(e,f)}else f=a.get(e),f===void 0&&(f=new Set,a.set(e,f));f.has(s)||(zc=!0,f.add(s),t=Ey.bind(null,t,e,s),e.then(t,t))}function Ey(t,e,s){var a=t.pingCache;a!==null&&a.delete(e),t.pingedLanes|=t.suspendedLanes&s,t.warmLanes&=~s,de===t&&(Xt&s)===s&&(we===4||we===3&&(Xt&62914560)===Xt&&300>q()-Bc?(ee&2)===0&&Sr(t,0):jc|=s,vr===Xt&&(vr=0)),ni(t)}function Gm(t,e){e===0&&(e=Yt()),t=ir(t,e),t!==null&&(fe(t,e),ni(t))}function Oy(t){var e=t.memoizedState,s=0;e!==null&&(s=e.retryLane),Gm(t,s)}function My(t,e){var s=0;switch(t.tag){case 13:var a=t.stateNode,f=t.memoizedState;f!==null&&(s=f.retryLane);break;case 19:a=t.stateNode;break;case 22:a=t.stateNode._retryCache;break;default:throw Error(r(314))}a!==null&&a.delete(e),Gm(t,s)}function Dy(t,e){return $t(t,e)}var sl=null,Tr=null,Zc=!1,rl=!1,Yc=!1,Ns=0;function ni(t){t!==Tr&&t.next===null&&(Tr===null?sl=Tr=t:Tr=Tr.next=t),rl=!0,Zc||(Zc=!0,zy())}function Oa(t,e){if(!Yc&&rl){Yc=!0;do for(var s=!1,a=sl;a!==null;){if(t!==0){var f=a.pendingLanes;if(f===0)var g=0;else{var k=a.suspendedLanes,M=a.pingedLanes;g=(1<<31-xt(42|t)+1)-1,g&=f&~(k&~M),g=g&201326741?g&201326741|1:g?g|2:0}g!==0&&(s=!0,Xm(a,g))}else g=Xt,g=Jt(a,a===de?g:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),(g&3)===0||Ce(a,g)||(s=!0,Xm(a,g));a=a.next}while(s);Yc=!1}}function Ry(){Zm()}function Zm(){rl=Zc=!1;var t=0;Ns!==0&&(Fy()&&(t=Ns),Ns=0);for(var e=q(),s=null,a=sl;a!==null;){var f=a.next,g=Ym(a,e);g===0?(a.next=null,s===null?sl=f:s.next=f,f===null&&(Tr=s)):(s=a,(t!==0||(g&3)!==0)&&(rl=!0)),a=f}Oa(t)}function Ym(t,e){for(var s=t.suspendedLanes,a=t.pingedLanes,f=t.expirationTimes,g=t.pendingLanes&-62914561;0<g;){var k=31-xt(g),M=1<<k,G=f[k];G===-1?((M&s)===0||(M&a)!==0)&&(f[k]=cs(M,e)):G<=e&&(t.expiredLanes|=M),g&=~M}if(e=de,s=Xt,s=Jt(t,t===e?s:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),a=t.callbackNode,s===0||t===e&&(ne===2||ne===9)||t.cancelPendingCommit!==null)return a!==null&&a!==null&&A(a),t.callbackNode=null,t.callbackPriority=0;if((s&3)===0||Ce(t,s)){if(e=s&-s,e===t.callbackPriority)return e;switch(a!==null&&A(a),oi(s)){case 2:case 8:s=ft;break;case 32:s=pt;break;case 268435456:s=_t;break;default:s=pt}return a=Pm.bind(null,t),s=$t(s,a),t.callbackPriority=e,t.callbackNode=s,e}return a!==null&&a!==null&&A(a),t.callbackPriority=2,t.callbackNode=null,2}function Pm(t,e){if(Xe!==0&&Xe!==5)return t.callbackNode=null,t.callbackPriority=0,null;var s=t.callbackNode;if(il()&&t.callbackNode!==s)return null;var a=Xt;return a=Jt(t,t===de?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),a===0?null:(Em(t,a,e),Ym(t,q()),t.callbackNode!=null&&t.callbackNode===s?Pm.bind(null,t):null)}function Xm(t,e){if(il())return null;Em(t,e,!0)}function zy(){Gy(function(){(ee&6)!==0?$t(Y,Ry):Zm()})}function Pc(){return Ns===0&&(Ns=qn()),Ns}function Wm(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:go(""+t)}function Qm(t,e){var s=e.ownerDocument.createElement("input");return s.name=e.name,s.value=e.value,t.id&&s.setAttribute("form",t.id),e.parentNode.insertBefore(s,e),t=new FormData(t),s.parentNode.removeChild(s),t}function jy(t,e,s,a,f){if(e==="submit"&&s&&s.stateNode===f){var g=Wm((f[Ke]||null).action),k=a.submitter;k&&(e=(e=k[Ke]||null)?Wm(e.formAction):k.getAttribute("formAction"),e!==null&&(g=e,k=null));var M=new bo("action","action",null,a,f);t.push({event:M,listeners:[{instance:null,listener:function(){if(a.defaultPrevented){if(Ns!==0){var G=k?Qm(f,k):new FormData(f);dc(s,{pending:!0,data:G,method:f.method,action:g},null,G)}}else typeof g=="function"&&(M.preventDefault(),G=k?Qm(f,k):new FormData(f),dc(s,{pending:!0,data:G,method:f.method,action:g},g,G))},currentTarget:f}]})}}for(var Xc=0;Xc<Du.length;Xc++){var Wc=Du[Xc],Uy=Wc.toLowerCase(),By=Wc[0].toUpperCase()+Wc.slice(1);Ln(Uy,"on"+By)}Ln(Ed,"onAnimationEnd"),Ln(Od,"onAnimationIteration"),Ln(Md,"onAnimationStart"),Ln("dblclick","onDoubleClick"),Ln("focusin","onFocus"),Ln("focusout","onBlur"),Ln(ty,"onTransitionRun"),Ln(ey,"onTransitionStart"),Ln(ny,"onTransitionCancel"),Ln(Dd,"onTransitionEnd"),Ps("onMouseEnter",["mouseout","mouseover"]),Ps("onMouseLeave",["mouseout","mouseover"]),Ps("onPointerEnter",["pointerout","pointerover"]),Ps("onPointerLeave",["pointerout","pointerover"]),fs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),fs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),fs("onBeforeInput",["compositionend","keypress","textInput","paste"]),fs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),fs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),fs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ma="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Iy=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ma));function Km(t,e){e=(e&4)!==0;for(var s=0;s<t.length;s++){var a=t[s],f=a.event;a=a.listeners;t:{var g=void 0;if(e)for(var k=a.length-1;0<=k;k--){var M=a[k],G=M.instance,st=M.currentTarget;if(M=M.listener,G!==g&&f.isPropagationStopped())break t;g=M,f.currentTarget=st;try{g(f)}catch(dt){Yo(dt)}f.currentTarget=null,g=G}else for(k=0;k<a.length;k++){if(M=a[k],G=M.instance,st=M.currentTarget,M=M.listener,G!==g&&f.isPropagationStopped())break t;g=M,f.currentTarget=st;try{g(f)}catch(dt){Yo(dt)}f.currentTarget=null,g=G}}}}function Gt(t,e){var s=e[lu];s===void 0&&(s=e[lu]=new Set);var a=t+"__bubble";s.has(a)||(Jm(e,t,2,!1),s.add(a))}function Qc(t,e,s){var a=0;e&&(a|=4),Jm(s,t,a,e)}var al="_reactListening"+Math.random().toString(36).slice(2);function Kc(t){if(!t[al]){t[al]=!0,Zf.forEach(function(s){s!=="selectionchange"&&(Iy.has(s)||Qc(s,!1,t),Qc(s,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[al]||(e[al]=!0,Qc("selectionchange",!1,e))}}function Jm(t,e,s,a){switch(xg(e)){case 2:var f=h1;break;case 8:f=f1;break;default:f=hh}s=f.bind(null,e,s,t),f=void 0,!yu||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(f=!0),a?f!==void 0?t.addEventListener(e,s,{capture:!0,passive:f}):t.addEventListener(e,s,!0):f!==void 0?t.addEventListener(e,s,{passive:f}):t.addEventListener(e,s,!1)}function Jc(t,e,s,a,f){var g=a;if((e&1)===0&&(e&2)===0&&a!==null)t:for(;;){if(a===null)return;var k=a.tag;if(k===3||k===4){var M=a.stateNode.containerInfo;if(M===f)break;if(k===4)for(k=a.return;k!==null;){var G=k.tag;if((G===3||G===4)&&k.stateNode.containerInfo===f)return;k=k.return}for(;M!==null;){if(k=Gs(M),k===null)return;if(G=k.tag,G===5||G===6||G===26||G===27){a=g=k;continue t}M=M.parentNode}}a=a.return}rd(function(){var st=g,dt=_u(s),gt=[];t:{var at=Rd.get(t);if(at!==void 0){var lt=bo,Dt=t;switch(t){case"keypress":if(vo(s)===0)break t;case"keydown":case"keyup":lt=Dv;break;case"focusin":Dt="focus",lt=Tu;break;case"focusout":Dt="blur",lt=Tu;break;case"beforeblur":case"afterblur":lt=Tu;break;case"click":if(s.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":lt=ld;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":lt=bv;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":lt=jv;break;case Ed:case Od:case Md:lt=Tv;break;case Dd:lt=Bv;break;case"scroll":case"scrollend":lt=vv;break;case"wheel":lt=qv;break;case"copy":case"cut":case"paste":lt=Av;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":lt=cd;break;case"toggle":case"beforetoggle":lt=Lv}var Ot=(e&4)!==0,ae=!Ot&&(t==="scroll"||t==="scrollend"),$=Ot?at!==null?at+"Capture":null:at;Ot=[];for(var W=st,it;W!==null;){var mt=W;if(it=mt.stateNode,mt=mt.tag,mt!==5&&mt!==26&&mt!==27||it===null||$===null||(mt=Qr(W,$),mt!=null&&Ot.push(Da(W,mt,it))),ae)break;W=W.return}0<Ot.length&&(at=new lt(at,Dt,null,s,dt),gt.push({event:at,listeners:Ot}))}}if((e&7)===0){t:{if(at=t==="mouseover"||t==="pointerover",lt=t==="mouseout"||t==="pointerout",at&&s!==gu&&(Dt=s.relatedTarget||s.fromElement)&&(Gs(Dt)||Dt[Hs]))break t;if((lt||at)&&(at=dt.window===dt?dt:(at=dt.ownerDocument)?at.defaultView||at.parentWindow:window,lt?(Dt=s.relatedTarget||s.toElement,lt=st,Dt=Dt?Gs(Dt):null,Dt!==null&&(ae=l(Dt),Ot=Dt.tag,Dt!==ae||Ot!==5&&Ot!==27&&Ot!==6)&&(Dt=null)):(lt=null,Dt=st),lt!==Dt)){if(Ot=ld,mt="onMouseLeave",$="onMouseEnter",W="mouse",(t==="pointerout"||t==="pointerover")&&(Ot=cd,mt="onPointerLeave",$="onPointerEnter",W="pointer"),ae=lt==null?at:Wr(lt),it=Dt==null?at:Wr(Dt),at=new Ot(mt,W+"leave",lt,s,dt),at.target=ae,at.relatedTarget=it,mt=null,Gs(dt)===st&&(Ot=new Ot($,W+"enter",Dt,s,dt),Ot.target=it,Ot.relatedTarget=ae,mt=Ot),ae=mt,lt&&Dt)e:{for(Ot=lt,$=Dt,W=0,it=Ot;it;it=wr(it))W++;for(it=0,mt=$;mt;mt=wr(mt))it++;for(;0<W-it;)Ot=wr(Ot),W--;for(;0<it-W;)$=wr($),it--;for(;W--;){if(Ot===$||$!==null&&Ot===$.alternate)break e;Ot=wr(Ot),$=wr($)}Ot=null}else Ot=null;lt!==null&&$m(gt,at,lt,Ot,!1),Dt!==null&&ae!==null&&$m(gt,ae,Dt,Ot,!0)}}t:{if(at=st?Wr(st):window,lt=at.nodeName&&at.nodeName.toLowerCase(),lt==="select"||lt==="input"&&at.type==="file")var kt=vd;else if(gd(at))if(yd)kt=Kv;else{kt=Wv;var Ft=Xv}else lt=at.nodeName,!lt||lt.toLowerCase()!=="input"||at.type!=="checkbox"&&at.type!=="radio"?st&&mu(st.elementType)&&(kt=vd):kt=Qv;if(kt&&(kt=kt(t,st))){_d(gt,kt,s,dt);break t}Ft&&Ft(t,at,st),t==="focusout"&&st&&at.type==="number"&&st.memoizedProps.value!=null&&pu(at,"number",at.value)}switch(Ft=st?Wr(st):window,t){case"focusin":(gd(Ft)||Ft.contentEditable==="true")&&(tr=Ft,Eu=st,sa=null);break;case"focusout":sa=Eu=tr=null;break;case"mousedown":Ou=!0;break;case"contextmenu":case"mouseup":case"dragend":Ou=!1,Cd(gt,s,dt);break;case"selectionchange":if($v)break;case"keydown":case"keyup":Cd(gt,s,dt)}var Nt;if(Au)t:{switch(t){case"compositionstart":var Mt="onCompositionStart";break t;case"compositionend":Mt="onCompositionEnd";break t;case"compositionupdate":Mt="onCompositionUpdate";break t}Mt=void 0}else $s?pd(t,s)&&(Mt="onCompositionEnd"):t==="keydown"&&s.keyCode===229&&(Mt="onCompositionStart");Mt&&(hd&&s.locale!=="ko"&&($s||Mt!=="onCompositionStart"?Mt==="onCompositionEnd"&&$s&&(Nt=ad()):(Di=dt,bu="value"in Di?Di.value:Di.textContent,$s=!0)),Ft=ol(st,Mt),0<Ft.length&&(Mt=new ud(Mt,t,null,s,dt),gt.push({event:Mt,listeners:Ft}),Nt?Mt.data=Nt:(Nt=md(s),Nt!==null&&(Mt.data=Nt)))),(Nt=Hv?Gv(t,s):Zv(t,s))&&(Mt=ol(st,"onBeforeInput"),0<Mt.length&&(Ft=new ud("onBeforeInput","beforeinput",null,s,dt),gt.push({event:Ft,listeners:Mt}),Ft.data=Nt)),jy(gt,t,st,s,dt)}Km(gt,e)})}function Da(t,e,s){return{instance:t,listener:e,currentTarget:s}}function ol(t,e){for(var s=e+"Capture",a=[];t!==null;){var f=t,g=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||g===null||(f=Qr(t,s),f!=null&&a.unshift(Da(t,f,g)),f=Qr(t,e),f!=null&&a.push(Da(t,f,g))),t.tag===3)return a;t=t.return}return[]}function wr(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function $m(t,e,s,a,f){for(var g=e._reactName,k=[];s!==null&&s!==a;){var M=s,G=M.alternate,st=M.stateNode;if(M=M.tag,G!==null&&G===a)break;M!==5&&M!==26&&M!==27||st===null||(G=st,f?(st=Qr(s,g),st!=null&&k.unshift(Da(s,st,G))):f||(st=Qr(s,g),st!=null&&k.push(Da(s,st,G)))),s=s.return}k.length!==0&&t.push({event:e,listeners:k})}var qy=/\r\n?/g,Vy=/\u0000|\uFFFD/g;function tg(t){return(typeof t=="string"?t:""+t).replace(qy,`
`).replace(Vy,"")}function eg(t,e){return e=tg(e),tg(t)===e}function ll(){}function re(t,e,s,a,f,g){switch(s){case"children":typeof a=="string"?e==="body"||e==="textarea"&&a===""||Qs(t,a):(typeof a=="number"||typeof a=="bigint")&&e!=="body"&&Qs(t,""+a);break;case"className":fo(t,"class",a);break;case"tabIndex":fo(t,"tabindex",a);break;case"dir":case"role":case"viewBox":case"width":case"height":fo(t,s,a);break;case"style":id(t,a,g);break;case"data":if(e!=="object"){fo(t,"data",a);break}case"src":case"href":if(a===""&&(e!=="a"||s!=="href")){t.removeAttribute(s);break}if(a==null||typeof a=="function"||typeof a=="symbol"||typeof a=="boolean"){t.removeAttribute(s);break}a=go(""+a),t.setAttribute(s,a);break;case"action":case"formAction":if(typeof a=="function"){t.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof g=="function"&&(s==="formAction"?(e!=="input"&&re(t,e,"name",f.name,f,null),re(t,e,"formEncType",f.formEncType,f,null),re(t,e,"formMethod",f.formMethod,f,null),re(t,e,"formTarget",f.formTarget,f,null)):(re(t,e,"encType",f.encType,f,null),re(t,e,"method",f.method,f,null),re(t,e,"target",f.target,f,null)));if(a==null||typeof a=="symbol"||typeof a=="boolean"){t.removeAttribute(s);break}a=go(""+a),t.setAttribute(s,a);break;case"onClick":a!=null&&(t.onclick=ll);break;case"onScroll":a!=null&&Gt("scroll",t);break;case"onScrollEnd":a!=null&&Gt("scrollend",t);break;case"dangerouslySetInnerHTML":if(a!=null){if(typeof a!="object"||!("__html"in a))throw Error(r(61));if(s=a.__html,s!=null){if(f.children!=null)throw Error(r(60));t.innerHTML=s}}break;case"multiple":t.multiple=a&&typeof a!="function"&&typeof a!="symbol";break;case"muted":t.muted=a&&typeof a!="function"&&typeof a!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(a==null||typeof a=="function"||typeof a=="boolean"||typeof a=="symbol"){t.removeAttribute("xlink:href");break}s=go(""+a),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":a!=null&&typeof a!="function"&&typeof a!="symbol"?t.setAttribute(s,""+a):t.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":a&&typeof a!="function"&&typeof a!="symbol"?t.setAttribute(s,""):t.removeAttribute(s);break;case"capture":case"download":a===!0?t.setAttribute(s,""):a!==!1&&a!=null&&typeof a!="function"&&typeof a!="symbol"?t.setAttribute(s,a):t.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":a!=null&&typeof a!="function"&&typeof a!="symbol"&&!isNaN(a)&&1<=a?t.setAttribute(s,a):t.removeAttribute(s);break;case"rowSpan":case"start":a==null||typeof a=="function"||typeof a=="symbol"||isNaN(a)?t.removeAttribute(s):t.setAttribute(s,a);break;case"popover":Gt("beforetoggle",t),Gt("toggle",t),ho(t,"popover",a);break;case"xlinkActuate":li(t,"http://www.w3.org/1999/xlink","xlink:actuate",a);break;case"xlinkArcrole":li(t,"http://www.w3.org/1999/xlink","xlink:arcrole",a);break;case"xlinkRole":li(t,"http://www.w3.org/1999/xlink","xlink:role",a);break;case"xlinkShow":li(t,"http://www.w3.org/1999/xlink","xlink:show",a);break;case"xlinkTitle":li(t,"http://www.w3.org/1999/xlink","xlink:title",a);break;case"xlinkType":li(t,"http://www.w3.org/1999/xlink","xlink:type",a);break;case"xmlBase":li(t,"http://www.w3.org/XML/1998/namespace","xml:base",a);break;case"xmlLang":li(t,"http://www.w3.org/XML/1998/namespace","xml:lang",a);break;case"xmlSpace":li(t,"http://www.w3.org/XML/1998/namespace","xml:space",a);break;case"is":ho(t,"is",a);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=gv.get(s)||s,ho(t,s,a))}}function $c(t,e,s,a,f,g){switch(s){case"style":id(t,a,g);break;case"dangerouslySetInnerHTML":if(a!=null){if(typeof a!="object"||!("__html"in a))throw Error(r(61));if(s=a.__html,s!=null){if(f.children!=null)throw Error(r(60));t.innerHTML=s}}break;case"children":typeof a=="string"?Qs(t,a):(typeof a=="number"||typeof a=="bigint")&&Qs(t,""+a);break;case"onScroll":a!=null&&Gt("scroll",t);break;case"onScrollEnd":a!=null&&Gt("scrollend",t);break;case"onClick":a!=null&&(t.onclick=ll);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Yf.hasOwnProperty(s))t:{if(s[0]==="o"&&s[1]==="n"&&(f=s.endsWith("Capture"),e=s.slice(2,f?s.length-7:void 0),g=t[Ke]||null,g=g!=null?g[s]:null,typeof g=="function"&&t.removeEventListener(e,g,f),typeof a=="function")){typeof g!="function"&&g!==null&&(s in t?t[s]=null:t.hasAttribute(s)&&t.removeAttribute(s)),t.addEventListener(e,a,f);break t}s in t?t[s]=a:a===!0?t.setAttribute(s,""):ho(t,s,a)}}}function We(t,e,s){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Gt("error",t),Gt("load",t);var a=!1,f=!1,g;for(g in s)if(s.hasOwnProperty(g)){var k=s[g];if(k!=null)switch(g){case"src":a=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,e));default:re(t,e,g,k,s,null)}}f&&re(t,e,"srcSet",s.srcSet,s,null),a&&re(t,e,"src",s.src,s,null);return;case"input":Gt("invalid",t);var M=g=k=f=null,G=null,st=null;for(a in s)if(s.hasOwnProperty(a)){var dt=s[a];if(dt!=null)switch(a){case"name":f=dt;break;case"type":k=dt;break;case"checked":G=dt;break;case"defaultChecked":st=dt;break;case"value":g=dt;break;case"defaultValue":M=dt;break;case"children":case"dangerouslySetInnerHTML":if(dt!=null)throw Error(r(137,e));break;default:re(t,e,a,dt,s,null)}}$f(t,g,M,G,st,k,f,!1),po(t);return;case"select":Gt("invalid",t),a=k=g=null;for(f in s)if(s.hasOwnProperty(f)&&(M=s[f],M!=null))switch(f){case"value":g=M;break;case"defaultValue":k=M;break;case"multiple":a=M;default:re(t,e,f,M,s,null)}e=g,s=k,t.multiple=!!a,e!=null?Ws(t,!!a,e,!1):s!=null&&Ws(t,!!a,s,!0);return;case"textarea":Gt("invalid",t),g=f=a=null;for(k in s)if(s.hasOwnProperty(k)&&(M=s[k],M!=null))switch(k){case"value":a=M;break;case"defaultValue":f=M;break;case"children":g=M;break;case"dangerouslySetInnerHTML":if(M!=null)throw Error(r(91));break;default:re(t,e,k,M,s,null)}ed(t,a,f,g),po(t);return;case"option":for(G in s)if(s.hasOwnProperty(G)&&(a=s[G],a!=null))switch(G){case"selected":t.selected=a&&typeof a!="function"&&typeof a!="symbol";break;default:re(t,e,G,a,s,null)}return;case"dialog":Gt("beforetoggle",t),Gt("toggle",t),Gt("cancel",t),Gt("close",t);break;case"iframe":case"object":Gt("load",t);break;case"video":case"audio":for(a=0;a<Ma.length;a++)Gt(Ma[a],t);break;case"image":Gt("error",t),Gt("load",t);break;case"details":Gt("toggle",t);break;case"embed":case"source":case"link":Gt("error",t),Gt("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(st in s)if(s.hasOwnProperty(st)&&(a=s[st],a!=null))switch(st){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,e));default:re(t,e,st,a,s,null)}return;default:if(mu(e)){for(dt in s)s.hasOwnProperty(dt)&&(a=s[dt],a!==void 0&&$c(t,e,dt,a,s,void 0));return}}for(M in s)s.hasOwnProperty(M)&&(a=s[M],a!=null&&re(t,e,M,a,s,null))}function Ly(t,e,s,a){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,g=null,k=null,M=null,G=null,st=null,dt=null;for(lt in s){var gt=s[lt];if(s.hasOwnProperty(lt)&&gt!=null)switch(lt){case"checked":break;case"value":break;case"defaultValue":G=gt;default:a.hasOwnProperty(lt)||re(t,e,lt,null,a,gt)}}for(var at in a){var lt=a[at];if(gt=s[at],a.hasOwnProperty(at)&&(lt!=null||gt!=null))switch(at){case"type":g=lt;break;case"name":f=lt;break;case"checked":st=lt;break;case"defaultChecked":dt=lt;break;case"value":k=lt;break;case"defaultValue":M=lt;break;case"children":case"dangerouslySetInnerHTML":if(lt!=null)throw Error(r(137,e));break;default:lt!==gt&&re(t,e,at,lt,a,gt)}}du(t,k,M,G,st,dt,g,f);return;case"select":lt=k=M=at=null;for(g in s)if(G=s[g],s.hasOwnProperty(g)&&G!=null)switch(g){case"value":break;case"multiple":lt=G;default:a.hasOwnProperty(g)||re(t,e,g,null,a,G)}for(f in a)if(g=a[f],G=s[f],a.hasOwnProperty(f)&&(g!=null||G!=null))switch(f){case"value":at=g;break;case"defaultValue":M=g;break;case"multiple":k=g;default:g!==G&&re(t,e,f,g,a,G)}e=M,s=k,a=lt,at!=null?Ws(t,!!s,at,!1):!!a!=!!s&&(e!=null?Ws(t,!!s,e,!0):Ws(t,!!s,s?[]:"",!1));return;case"textarea":lt=at=null;for(M in s)if(f=s[M],s.hasOwnProperty(M)&&f!=null&&!a.hasOwnProperty(M))switch(M){case"value":break;case"children":break;default:re(t,e,M,null,a,f)}for(k in a)if(f=a[k],g=s[k],a.hasOwnProperty(k)&&(f!=null||g!=null))switch(k){case"value":at=f;break;case"defaultValue":lt=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(r(91));break;default:f!==g&&re(t,e,k,f,a,g)}td(t,at,lt);return;case"option":for(var Dt in s)if(at=s[Dt],s.hasOwnProperty(Dt)&&at!=null&&!a.hasOwnProperty(Dt))switch(Dt){case"selected":t.selected=!1;break;default:re(t,e,Dt,null,a,at)}for(G in a)if(at=a[G],lt=s[G],a.hasOwnProperty(G)&&at!==lt&&(at!=null||lt!=null))switch(G){case"selected":t.selected=at&&typeof at!="function"&&typeof at!="symbol";break;default:re(t,e,G,at,a,lt)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ot in s)at=s[Ot],s.hasOwnProperty(Ot)&&at!=null&&!a.hasOwnProperty(Ot)&&re(t,e,Ot,null,a,at);for(st in a)if(at=a[st],lt=s[st],a.hasOwnProperty(st)&&at!==lt&&(at!=null||lt!=null))switch(st){case"children":case"dangerouslySetInnerHTML":if(at!=null)throw Error(r(137,e));break;default:re(t,e,st,at,a,lt)}return;default:if(mu(e)){for(var ae in s)at=s[ae],s.hasOwnProperty(ae)&&at!==void 0&&!a.hasOwnProperty(ae)&&$c(t,e,ae,void 0,a,at);for(dt in a)at=a[dt],lt=s[dt],!a.hasOwnProperty(dt)||at===lt||at===void 0&&lt===void 0||$c(t,e,dt,at,a,lt);return}}for(var $ in s)at=s[$],s.hasOwnProperty($)&&at!=null&&!a.hasOwnProperty($)&&re(t,e,$,null,a,at);for(gt in a)at=a[gt],lt=s[gt],!a.hasOwnProperty(gt)||at===lt||at==null&&lt==null||re(t,e,gt,at,a,lt)}var th=null,eh=null;function ul(t){return t.nodeType===9?t:t.ownerDocument}function ng(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function ig(t,e){if(t===0)switch(e){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&e==="foreignObject"?0:t}function nh(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.children=="bigint"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var ih=null;function Fy(){var t=window.event;return t&&t.type==="popstate"?t===ih?!1:(ih=t,!0):(ih=null,!1)}var sg=typeof setTimeout=="function"?setTimeout:void 0,Hy=typeof clearTimeout=="function"?clearTimeout:void 0,rg=typeof Promise=="function"?Promise:void 0,Gy=typeof queueMicrotask=="function"?queueMicrotask:typeof rg<"u"?function(t){return rg.resolve(null).then(t).catch(Zy)}:sg;function Zy(t){setTimeout(function(){throw t})}function Xi(t){return t==="head"}function ag(t,e){var s=e,a=0,f=0;do{var g=s.nextSibling;if(t.removeChild(s),g&&g.nodeType===8)if(s=g.data,s==="/$"){if(0<a&&8>a){s=a;var k=t.ownerDocument;if(s&1&&Ra(k.documentElement),s&2&&Ra(k.body),s&4)for(s=k.head,Ra(s),k=s.firstChild;k;){var M=k.nextSibling,G=k.nodeName;k[Xr]||G==="SCRIPT"||G==="STYLE"||G==="LINK"&&k.rel.toLowerCase()==="stylesheet"||s.removeChild(k),k=M}}if(f===0){t.removeChild(g),La(e);return}f--}else s==="$"||s==="$?"||s==="$!"?f++:a=s.charCodeAt(0)-48;else a=0;s=g}while(s);La(e)}function sh(t){var e=t.firstChild;for(e&&e.nodeType===10&&(e=e.nextSibling);e;){var s=e;switch(e=e.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":sh(s),uu(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}t.removeChild(s)}}function Yy(t,e,s,a){for(;t.nodeType===1;){var f=s;if(t.nodeName.toLowerCase()!==e.toLowerCase()){if(!a&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(a){if(!t[Xr])switch(e){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(g=t.getAttribute("rel"),g==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(g!==f.rel||t.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||t.getAttribute("title")!==(f.title==null?null:f.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(g=t.getAttribute("src"),(g!==(f.src==null?null:f.src)||t.getAttribute("type")!==(f.type==null?null:f.type)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&g&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(e==="input"&&t.type==="hidden"){var g=f.name==null?null:""+f.name;if(f.type==="hidden"&&t.getAttribute("name")===g)return t}else return t;if(t=Hn(t.nextSibling),t===null)break}return null}function Py(t,e,s){if(e==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!s||(t=Hn(t.nextSibling),t===null))return null;return t}function rh(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function Xy(t,e){var s=t.ownerDocument;if(t.data!=="$?"||s.readyState==="complete")e();else{var a=function(){e(),s.removeEventListener("DOMContentLoaded",a)};s.addEventListener("DOMContentLoaded",a),t._reactRetry=a}}function Hn(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?"||e==="F!"||e==="F")break;if(e==="/$")return null}}return t}var ah=null;function og(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var s=t.data;if(s==="$"||s==="$!"||s==="$?"){if(e===0)return t;e--}else s==="/$"&&e++}t=t.previousSibling}return null}function lg(t,e,s){switch(e=ul(s),t){case"html":if(t=e.documentElement,!t)throw Error(r(452));return t;case"head":if(t=e.head,!t)throw Error(r(453));return t;case"body":if(t=e.body,!t)throw Error(r(454));return t;default:throw Error(r(451))}}function Ra(t){for(var e=t.attributes;e.length;)t.removeAttributeNode(e[0]);uu(t)}var Un=new Map,ug=new Set;function cl(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var xi=H.d;H.d={f:Wy,r:Qy,D:Ky,C:Jy,L:$y,m:t1,X:n1,S:e1,M:i1};function Wy(){var t=xi.f(),e=el();return t||e}function Qy(t){var e=Zs(t);e!==null&&e.tag===5&&e.type==="form"?Ep(e):xi.r(t)}var Ar=typeof document>"u"?null:document;function cg(t,e,s){var a=Ar;if(a&&typeof e=="string"&&e){var f=En(e);f='link[rel="'+t+'"][href="'+f+'"]',typeof s=="string"&&(f+='[crossorigin="'+s+'"]'),ug.has(f)||(ug.add(f),t={rel:t,crossOrigin:s,href:e},a.querySelector(f)===null&&(e=a.createElement("link"),We(e,"link",t),Le(e),a.head.appendChild(e)))}}function Ky(t){xi.D(t),cg("dns-prefetch",t,null)}function Jy(t,e){xi.C(t,e),cg("preconnect",t,e)}function $y(t,e,s){xi.L(t,e,s);var a=Ar;if(a&&t&&e){var f='link[rel="preload"][as="'+En(e)+'"]';e==="image"&&s&&s.imageSrcSet?(f+='[imagesrcset="'+En(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(f+='[imagesizes="'+En(s.imageSizes)+'"]')):f+='[href="'+En(t)+'"]';var g=f;switch(e){case"style":g=kr(t);break;case"script":g=Cr(t)}Un.has(g)||(t=m({rel:"preload",href:e==="image"&&s&&s.imageSrcSet?void 0:t,as:e},s),Un.set(g,t),a.querySelector(f)!==null||e==="style"&&a.querySelector(za(g))||e==="script"&&a.querySelector(ja(g))||(e=a.createElement("link"),We(e,"link",t),Le(e),a.head.appendChild(e)))}}function t1(t,e){xi.m(t,e);var s=Ar;if(s&&t){var a=e&&typeof e.as=="string"?e.as:"script",f='link[rel="modulepreload"][as="'+En(a)+'"][href="'+En(t)+'"]',g=f;switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":g=Cr(t)}if(!Un.has(g)&&(t=m({rel:"modulepreload",href:t},e),Un.set(g,t),s.querySelector(f)===null)){switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(ja(g)))return}a=s.createElement("link"),We(a,"link",t),Le(a),s.head.appendChild(a)}}}function e1(t,e,s){xi.S(t,e,s);var a=Ar;if(a&&t){var f=Ys(a).hoistableStyles,g=kr(t);e=e||"default";var k=f.get(g);if(!k){var M={loading:0,preload:null};if(k=a.querySelector(za(g)))M.loading=5;else{t=m({rel:"stylesheet",href:t,"data-precedence":e},s),(s=Un.get(g))&&oh(t,s);var G=k=a.createElement("link");Le(G),We(G,"link",t),G._p=new Promise(function(st,dt){G.onload=st,G.onerror=dt}),G.addEventListener("load",function(){M.loading|=1}),G.addEventListener("error",function(){M.loading|=2}),M.loading|=4,hl(k,e,a)}k={type:"stylesheet",instance:k,count:1,state:M},f.set(g,k)}}}function n1(t,e){xi.X(t,e);var s=Ar;if(s&&t){var a=Ys(s).hoistableScripts,f=Cr(t),g=a.get(f);g||(g=s.querySelector(ja(f)),g||(t=m({src:t,async:!0},e),(e=Un.get(f))&&lh(t,e),g=s.createElement("script"),Le(g),We(g,"link",t),s.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},a.set(f,g))}}function i1(t,e){xi.M(t,e);var s=Ar;if(s&&t){var a=Ys(s).hoistableScripts,f=Cr(t),g=a.get(f);g||(g=s.querySelector(ja(f)),g||(t=m({src:t,async:!0,type:"module"},e),(e=Un.get(f))&&lh(t,e),g=s.createElement("script"),Le(g),We(g,"link",t),s.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},a.set(f,g))}}function hg(t,e,s,a){var f=(f=vt.current)?cl(f):null;if(!f)throw Error(r(446));switch(t){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(e=kr(s.href),s=Ys(f).hoistableStyles,a=s.get(e),a||(a={type:"style",instance:null,count:0,state:null},s.set(e,a)),a):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){t=kr(s.href);var g=Ys(f).hoistableStyles,k=g.get(t);if(k||(f=f.ownerDocument||f,k={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},g.set(t,k),(g=f.querySelector(za(t)))&&!g._p&&(k.instance=g,k.state.loading=5),Un.has(t)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},Un.set(t,s),g||s1(f,t,s,k.state))),e&&a===null)throw Error(r(528,""));return k}if(e&&a!==null)throw Error(r(529,""));return null;case"script":return e=s.async,s=s.src,typeof s=="string"&&e&&typeof e!="function"&&typeof e!="symbol"?(e=Cr(s),s=Ys(f).hoistableScripts,a=s.get(e),a||(a={type:"script",instance:null,count:0,state:null},s.set(e,a)),a):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,t))}}function kr(t){return'href="'+En(t)+'"'}function za(t){return'link[rel="stylesheet"]['+t+"]"}function fg(t){return m({},t,{"data-precedence":t.precedence,precedence:null})}function s1(t,e,s,a){t.querySelector('link[rel="preload"][as="style"]['+e+"]")?a.loading=1:(e=t.createElement("link"),a.preload=e,e.addEventListener("load",function(){return a.loading|=1}),e.addEventListener("error",function(){return a.loading|=2}),We(e,"link",s),Le(e),t.head.appendChild(e))}function Cr(t){return'[src="'+En(t)+'"]'}function ja(t){return"script[async]"+t}function dg(t,e,s){if(e.count++,e.instance===null)switch(e.type){case"style":var a=t.querySelector('style[data-href~="'+En(s.href)+'"]');if(a)return e.instance=a,Le(a),a;var f=m({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return a=(t.ownerDocument||t).createElement("style"),Le(a),We(a,"style",f),hl(a,s.precedence,t),e.instance=a;case"stylesheet":f=kr(s.href);var g=t.querySelector(za(f));if(g)return e.state.loading|=4,e.instance=g,Le(g),g;a=fg(s),(f=Un.get(f))&&oh(a,f),g=(t.ownerDocument||t).createElement("link"),Le(g);var k=g;return k._p=new Promise(function(M,G){k.onload=M,k.onerror=G}),We(g,"link",a),e.state.loading|=4,hl(g,s.precedence,t),e.instance=g;case"script":return g=Cr(s.src),(f=t.querySelector(ja(g)))?(e.instance=f,Le(f),f):(a=s,(f=Un.get(g))&&(a=m({},s),lh(a,f)),t=t.ownerDocument||t,f=t.createElement("script"),Le(f),We(f,"link",a),t.head.appendChild(f),e.instance=f);case"void":return null;default:throw Error(r(443,e.type))}else e.type==="stylesheet"&&(e.state.loading&4)===0&&(a=e.instance,e.state.loading|=4,hl(a,s.precedence,t));return e.instance}function hl(t,e,s){for(var a=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=a.length?a[a.length-1]:null,g=f,k=0;k<a.length;k++){var M=a[k];if(M.dataset.precedence===e)g=M;else if(g!==f)break}g?g.parentNode.insertBefore(t,g.nextSibling):(e=s.nodeType===9?s.head:s,e.insertBefore(t,e.firstChild))}function oh(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.title==null&&(t.title=e.title)}function lh(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.integrity==null&&(t.integrity=e.integrity)}var fl=null;function pg(t,e,s){if(fl===null){var a=new Map,f=fl=new Map;f.set(s,a)}else f=fl,a=f.get(s),a||(a=new Map,f.set(s,a));if(a.has(t))return a;for(a.set(t,null),s=s.getElementsByTagName(t),f=0;f<s.length;f++){var g=s[f];if(!(g[Xr]||g[Ve]||t==="link"&&g.getAttribute("rel")==="stylesheet")&&g.namespaceURI!=="http://www.w3.org/2000/svg"){var k=g.getAttribute(e)||"";k=t+k;var M=a.get(k);M?M.push(g):a.set(k,[g])}}return a}function mg(t,e,s){t=t.ownerDocument||t,t.head.insertBefore(s,e==="title"?t.querySelector("head > title"):null)}function r1(t,e,s){if(s===1||e.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof e.precedence!="string"||typeof e.href!="string"||e.href==="")break;return!0;case"link":if(typeof e.rel!="string"||typeof e.href!="string"||e.href===""||e.onLoad||e.onError)break;switch(e.rel){case"stylesheet":return t=e.disabled,typeof e.precedence=="string"&&t==null;default:return!0}case"script":if(e.async&&typeof e.async!="function"&&typeof e.async!="symbol"&&!e.onLoad&&!e.onError&&e.src&&typeof e.src=="string")return!0}return!1}function gg(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var Ua=null;function a1(){}function o1(t,e,s){if(Ua===null)throw Error(r(475));var a=Ua;if(e.type==="stylesheet"&&(typeof s.media!="string"||matchMedia(s.media).matches!==!1)&&(e.state.loading&4)===0){if(e.instance===null){var f=kr(s.href),g=t.querySelector(za(f));if(g){t=g._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(a.count++,a=dl.bind(a),t.then(a,a)),e.state.loading|=4,e.instance=g,Le(g);return}g=t.ownerDocument||t,s=fg(s),(f=Un.get(f))&&oh(s,f),g=g.createElement("link"),Le(g);var k=g;k._p=new Promise(function(M,G){k.onload=M,k.onerror=G}),We(g,"link",s),e.instance=g}a.stylesheets===null&&(a.stylesheets=new Map),a.stylesheets.set(e,t),(t=e.state.preload)&&(e.state.loading&3)===0&&(a.count++,e=dl.bind(a),t.addEventListener("load",e),t.addEventListener("error",e))}}function l1(){if(Ua===null)throw Error(r(475));var t=Ua;return t.stylesheets&&t.count===0&&uh(t,t.stylesheets),0<t.count?function(e){var s=setTimeout(function(){if(t.stylesheets&&uh(t,t.stylesheets),t.unsuspend){var a=t.unsuspend;t.unsuspend=null,a()}},6e4);return t.unsuspend=e,function(){t.unsuspend=null,clearTimeout(s)}}:null}function dl(){if(this.count--,this.count===0){if(this.stylesheets)uh(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var pl=null;function uh(t,e){t.stylesheets=null,t.unsuspend!==null&&(t.count++,pl=new Map,e.forEach(u1,t),pl=null,dl.call(t))}function u1(t,e){if(!(e.state.loading&4)){var s=pl.get(t);if(s)var a=s.get(null);else{s=new Map,pl.set(t,s);for(var f=t.querySelectorAll("link[data-precedence],style[data-precedence]"),g=0;g<f.length;g++){var k=f[g];(k.nodeName==="LINK"||k.getAttribute("media")!=="not all")&&(s.set(k.dataset.precedence,k),a=k)}a&&s.set(null,a)}f=e.instance,k=f.getAttribute("data-precedence"),g=s.get(k)||a,g===a&&s.set(null,f),s.set(k,f),this.count++,a=dl.bind(this),f.addEventListener("load",a),f.addEventListener("error",a),g?g.parentNode.insertBefore(f,g.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(f,t.firstChild)),e.state.loading|=4}}var Ba={$$typeof:O,Provider:null,Consumer:null,_currentValue:ht,_currentValue2:ht,_threadCount:0};function c1(t,e,s,a,f,g,k,M){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ce(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ce(0),this.hiddenUpdates=ce(null),this.identifierPrefix=a,this.onUncaughtError=f,this.onCaughtError=g,this.onRecoverableError=k,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=M,this.incompleteTransitions=new Map}function _g(t,e,s,a,f,g,k,M,G,st,dt,gt){return t=new c1(t,e,s,k,M,G,st,gt),e=1,g===!0&&(e|=24),g=_n(3,null,null,e),t.current=g,g.stateNode=t,e=Gu(),e.refCount++,t.pooledCache=e,e.refCount++,g.memoizedState={element:a,isDehydrated:s,cache:e},Xu(g),t}function vg(t){return t?(t=sr,t):sr}function yg(t,e,s,a,f,g){f=vg(f),a.context===null?a.context=f:a.pendingContext=f,a=ji(e),a.payload={element:s},g=g===void 0?null:g,g!==null&&(a.callback=g),s=Ui(t,a,e),s!==null&&(xn(s,t,e),da(s,t,e))}function bg(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var s=t.retryLane;t.retryLane=s!==0&&s<e?s:e}}function ch(t,e){bg(t,e),(t=t.alternate)&&bg(t,e)}function Sg(t){if(t.tag===13){var e=ir(t,67108864);e!==null&&xn(e,t,67108864),ch(t,67108864)}}var ml=!0;function h1(t,e,s,a){var f=Z.T;Z.T=null;var g=H.p;try{H.p=2,hh(t,e,s,a)}finally{H.p=g,Z.T=f}}function f1(t,e,s,a){var f=Z.T;Z.T=null;var g=H.p;try{H.p=8,hh(t,e,s,a)}finally{H.p=g,Z.T=f}}function hh(t,e,s,a){if(ml){var f=fh(a);if(f===null)Jc(t,e,a,gl,s),Tg(t,a);else if(p1(f,t,e,s,a))a.stopPropagation();else if(Tg(t,a),e&4&&-1<d1.indexOf(t)){for(;f!==null;){var g=Zs(f);if(g!==null)switch(g.tag){case 3:if(g=g.stateNode,g.current.memoizedState.isDehydrated){var k=ie(g.pendingLanes);if(k!==0){var M=g;for(M.pendingLanes|=2,M.entangledLanes|=2;k;){var G=1<<31-xt(k);M.entanglements[1]|=G,k&=~G}ni(g),(ee&6)===0&&($o=q()+500,Oa(0))}}break;case 13:M=ir(g,2),M!==null&&xn(M,g,2),el(),ch(g,2)}if(g=fh(a),g===null&&Jc(t,e,a,gl,s),g===f)break;f=g}f!==null&&a.stopPropagation()}else Jc(t,e,a,null,s)}}function fh(t){return t=_u(t),dh(t)}var gl=null;function dh(t){if(gl=null,t=Gs(t),t!==null){var e=l(t);if(e===null)t=null;else{var s=e.tag;if(s===13){if(t=h(e),t!==null)return t;t=null}else if(s===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null)}}return gl=t,null}function xg(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(I()){case Y:return 2;case ft:return 8;case pt:case nt:return 32;case _t:return 268435456;default:return 32}default:return 32}}var ph=!1,Wi=null,Qi=null,Ki=null,Ia=new Map,qa=new Map,Ji=[],d1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Tg(t,e){switch(t){case"focusin":case"focusout":Wi=null;break;case"dragenter":case"dragleave":Qi=null;break;case"mouseover":case"mouseout":Ki=null;break;case"pointerover":case"pointerout":Ia.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":qa.delete(e.pointerId)}}function Va(t,e,s,a,f,g){return t===null||t.nativeEvent!==g?(t={blockedOn:e,domEventName:s,eventSystemFlags:a,nativeEvent:g,targetContainers:[f]},e!==null&&(e=Zs(e),e!==null&&Sg(e)),t):(t.eventSystemFlags|=a,e=t.targetContainers,f!==null&&e.indexOf(f)===-1&&e.push(f),t)}function p1(t,e,s,a,f){switch(e){case"focusin":return Wi=Va(Wi,t,e,s,a,f),!0;case"dragenter":return Qi=Va(Qi,t,e,s,a,f),!0;case"mouseover":return Ki=Va(Ki,t,e,s,a,f),!0;case"pointerover":var g=f.pointerId;return Ia.set(g,Va(Ia.get(g)||null,t,e,s,a,f)),!0;case"gotpointercapture":return g=f.pointerId,qa.set(g,Va(qa.get(g)||null,t,e,s,a,f)),!0}return!1}function wg(t){var e=Gs(t.target);if(e!==null){var s=l(e);if(s!==null){if(e=s.tag,e===13){if(e=h(s),e!==null){t.blockedOn=e,Vn(t.priority,function(){if(s.tag===13){var a=Sn();a=Mi(a);var f=ir(s,a);f!==null&&xn(f,s,a),ch(s,a)}});return}}else if(e===3&&s.stateNode.current.memoizedState.isDehydrated){t.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}t.blockedOn=null}function _l(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var s=fh(t.nativeEvent);if(s===null){s=t.nativeEvent;var a=new s.constructor(s.type,s);gu=a,s.target.dispatchEvent(a),gu=null}else return e=Zs(s),e!==null&&Sg(e),t.blockedOn=s,!1;e.shift()}return!0}function Ag(t,e,s){_l(t)&&s.delete(e)}function m1(){ph=!1,Wi!==null&&_l(Wi)&&(Wi=null),Qi!==null&&_l(Qi)&&(Qi=null),Ki!==null&&_l(Ki)&&(Ki=null),Ia.forEach(Ag),qa.forEach(Ag)}function vl(t,e){t.blockedOn===e&&(t.blockedOn=null,ph||(ph=!0,u.unstable_scheduleCallback(u.unstable_NormalPriority,m1)))}var yl=null;function kg(t){yl!==t&&(yl=t,u.unstable_scheduleCallback(u.unstable_NormalPriority,function(){yl===t&&(yl=null);for(var e=0;e<t.length;e+=3){var s=t[e],a=t[e+1],f=t[e+2];if(typeof a!="function"){if(dh(a||s)===null)continue;break}var g=Zs(s);g!==null&&(t.splice(e,3),e-=3,dc(g,{pending:!0,data:f,method:s.method,action:a},a,f))}}))}function La(t){function e(G){return vl(G,t)}Wi!==null&&vl(Wi,t),Qi!==null&&vl(Qi,t),Ki!==null&&vl(Ki,t),Ia.forEach(e),qa.forEach(e);for(var s=0;s<Ji.length;s++){var a=Ji[s];a.blockedOn===t&&(a.blockedOn=null)}for(;0<Ji.length&&(s=Ji[0],s.blockedOn===null);)wg(s),s.blockedOn===null&&Ji.shift();if(s=(t.ownerDocument||t).$$reactFormReplay,s!=null)for(a=0;a<s.length;a+=3){var f=s[a],g=s[a+1],k=f[Ke]||null;if(typeof g=="function")k||kg(s);else if(k){var M=null;if(g&&g.hasAttribute("formAction")){if(f=g,k=g[Ke]||null)M=k.formAction;else if(dh(f)!==null)continue}else M=k.action;typeof M=="function"?s[a+1]=M:(s.splice(a,3),a-=3),kg(s)}}}function mh(t){this._internalRoot=t}bl.prototype.render=mh.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(r(409));var s=e.current,a=Sn();yg(s,a,t,e,null,null)},bl.prototype.unmount=mh.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;yg(t.current,2,null,t,null,null),el(),e[Hs]=null}};function bl(t){this._internalRoot=t}bl.prototype.unstable_scheduleHydration=function(t){if(t){var e=mn();t={blockedOn:null,target:t,priority:e};for(var s=0;s<Ji.length&&e!==0&&e<Ji[s].priority;s++);Ji.splice(s,0,t),s===0&&wg(t)}};var Cg=n.version;if(Cg!=="19.1.1")throw Error(r(527,Cg,"19.1.1"));H.findDOMNode=function(t){var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(r(188)):(t=Object.keys(t).join(","),Error(r(268,t)));return t=d(e),t=t!==null?p(t):null,t=t===null?null:t.stateNode,t};var g1={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:Z,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Sl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Sl.isDisabled&&Sl.supportsFiber)try{Ct=Sl.inject(g1),jt=Sl}catch{}}return Ha.createRoot=function(t,e){if(!o(t))throw Error(r(299));var s=!1,a="",f=Hp,g=Gp,k=Zp,M=null;return e!=null&&(e.unstable_strictMode===!0&&(s=!0),e.identifierPrefix!==void 0&&(a=e.identifierPrefix),e.onUncaughtError!==void 0&&(f=e.onUncaughtError),e.onCaughtError!==void 0&&(g=e.onCaughtError),e.onRecoverableError!==void 0&&(k=e.onRecoverableError),e.unstable_transitionCallbacks!==void 0&&(M=e.unstable_transitionCallbacks)),e=_g(t,1,!1,null,null,s,a,f,g,k,M,null),t[Hs]=e.current,Kc(t),new mh(e)},Ha.hydrateRoot=function(t,e,s){if(!o(t))throw Error(r(299));var a=!1,f="",g=Hp,k=Gp,M=Zp,G=null,st=null;return s!=null&&(s.unstable_strictMode===!0&&(a=!0),s.identifierPrefix!==void 0&&(f=s.identifierPrefix),s.onUncaughtError!==void 0&&(g=s.onUncaughtError),s.onCaughtError!==void 0&&(k=s.onCaughtError),s.onRecoverableError!==void 0&&(M=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(G=s.unstable_transitionCallbacks),s.formState!==void 0&&(st=s.formState)),e=_g(t,1,!0,e,s??null,a,f,g,k,M,G,st),e.context=vg(null),s=e.current,a=Sn(),a=Mi(a),f=ji(a),f.callback=null,Ui(s,f,a),s=a,e.current.lanes=s,fe(e,s),ni(e),t[Hs]=e.current,Kc(t),new bl(e)},Ha.version="19.1.1",Ha}var Bg;function C1(){if(Bg)return vh.exports;Bg=1;function u(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(u)}catch(n){console.error(n)}}return u(),vh.exports=k1(),vh.exports}var N1=C1();const E1=Fl(N1),H_="15.1.22",Ig=(u,n,i)=>({endTime:n,insertTime:i,type:"exponentialRampToValue",value:u}),qg=(u,n,i)=>({endTime:n,insertTime:i,type:"linearRampToValue",value:u}),Hh=(u,n)=>({startTime:n,type:"setValue",value:u}),G_=(u,n,i)=>({duration:i,startTime:n,type:"setValueCurve",values:u}),Z_=(u,n,{startTime:i,target:r,timeConstant:o})=>r+(n-r)*Math.exp((i-u)/o),Er=u=>u.type==="exponentialRampToValue",Ol=u=>u.type==="linearRampToValue",es=u=>Er(u)||Ol(u),nf=u=>u.type==="setValue",wi=u=>u.type==="setValueCurve",Ml=(u,n,i,r)=>{const o=u[n];return o===void 0?r:es(o)||nf(o)?o.value:wi(o)?o.values[o.values.length-1]:Z_(i,Ml(u,n-1,o.startTime,r),o)},Vg=(u,n,i,r,o)=>i===void 0?[r.insertTime,o]:es(i)?[i.endTime,i.value]:nf(i)?[i.startTime,i.value]:wi(i)?[i.startTime+i.duration,i.values[i.values.length-1]]:[i.startTime,Ml(u,n-1,i.startTime,o)],Gh=u=>u.type==="cancelAndHold",Zh=u=>u.type==="cancelScheduledValues",ts=u=>Gh(u)||Zh(u)?u.cancelTime:Er(u)||Ol(u)?u.endTime:u.startTime,Lg=(u,n,i,{endTime:r,value:o})=>i===o?o:0<i&&0<o||i<0&&o<0?i*(o/i)**((u-n)/(r-n)):0,Fg=(u,n,i,{endTime:r,value:o})=>i+(u-n)/(r-n)*(o-i),O1=(u,n)=>{const i=Math.floor(n),r=Math.ceil(n);return i===r?u[i]:(1-(n-i))*u[i]+(1-(r-n))*u[r]},M1=(u,{duration:n,startTime:i,values:r})=>{const o=(u-i)/n*(r.length-1);return O1(r,o)},Tl=u=>u.type==="setTarget";class D1{constructor(n){this._automationEvents=[],this._currenTime=0,this._defaultValue=n}[Symbol.iterator](){return this._automationEvents[Symbol.iterator]()}add(n){const i=ts(n);if(Gh(n)||Zh(n)){const r=this._automationEvents.findIndex(l=>Zh(n)&&wi(l)?l.startTime+l.duration>=i:ts(l)>=i),o=this._automationEvents[r];if(r!==-1&&(this._automationEvents=this._automationEvents.slice(0,r)),Gh(n)){const l=this._automationEvents[this._automationEvents.length-1];if(o!==void 0&&es(o)){if(l!==void 0&&Tl(l))throw new Error("The internal list is malformed.");const h=l===void 0?o.insertTime:wi(l)?l.startTime+l.duration:ts(l),c=l===void 0?this._defaultValue:wi(l)?l.values[l.values.length-1]:l.value,d=Er(o)?Lg(i,h,c,o):Fg(i,h,c,o),p=Er(o)?Ig(d,i,this._currenTime):qg(d,i,this._currenTime);this._automationEvents.push(p)}if(l!==void 0&&Tl(l)&&this._automationEvents.push(Hh(this.getValue(i),i)),l!==void 0&&wi(l)&&l.startTime+l.duration>i){const h=i-l.startTime,c=(l.values.length-1)/l.duration,d=Math.max(2,1+Math.ceil(h*c)),p=h/(d-1)*c,m=l.values.slice(0,d);if(p<1)for(let _=1;_<d;_+=1){const b=p*_%1;m[_]=l.values[_-1]*(1-b)+l.values[_]*b}this._automationEvents[this._automationEvents.length-1]=G_(m,l.startTime,h)}}}else{const r=this._automationEvents.findIndex(h=>ts(h)>i),o=r===-1?this._automationEvents[this._automationEvents.length-1]:this._automationEvents[r-1];if(o!==void 0&&wi(o)&&ts(o)+o.duration>i)return!1;const l=Er(n)?Ig(n.value,n.endTime,this._currenTime):Ol(n)?qg(n.value,i,this._currenTime):n;if(r===-1)this._automationEvents.push(l);else{if(wi(n)&&i+n.duration>ts(this._automationEvents[r]))return!1;this._automationEvents.splice(r,0,l)}}return!0}flush(n){const i=this._automationEvents.findIndex(r=>ts(r)>n);if(i>1){const r=this._automationEvents.slice(i-1),o=r[0];Tl(o)&&r.unshift(Hh(Ml(this._automationEvents,i-2,o.startTime,this._defaultValue),o.startTime)),this._automationEvents=r}}getValue(n){if(this._automationEvents.length===0)return this._defaultValue;const i=this._automationEvents.findIndex(h=>ts(h)>n),r=this._automationEvents[i],o=(i===-1?this._automationEvents.length:i)-1,l=this._automationEvents[o];if(l!==void 0&&Tl(l)&&(r===void 0||!es(r)||r.insertTime>n))return Z_(n,Ml(this._automationEvents,o-1,l.startTime,this._defaultValue),l);if(l!==void 0&&nf(l)&&(r===void 0||!es(r)))return l.value;if(l!==void 0&&wi(l)&&(r===void 0||!es(r)||l.startTime+l.duration>n))return n<l.startTime+l.duration?M1(n,l):l.values[l.values.length-1];if(l!==void 0&&es(l)&&(r===void 0||!es(r)))return l.value;if(r!==void 0&&Er(r)){const[h,c]=Vg(this._automationEvents,o,l,r,this._defaultValue);return Lg(n,h,c,r)}if(r!==void 0&&Ol(r)){const[h,c]=Vg(this._automationEvents,o,l,r,this._defaultValue);return Fg(n,h,c,r)}return this._defaultValue}}const R1=u=>({cancelTime:u,type:"cancelAndHold"}),z1=u=>({cancelTime:u,type:"cancelScheduledValues"}),j1=(u,n)=>({endTime:n,type:"exponentialRampToValue",value:u}),U1=(u,n)=>({endTime:n,type:"linearRampToValue",value:u}),B1=(u,n,i)=>({startTime:n,target:u,timeConstant:i,type:"setTarget"}),I1=()=>new DOMException("","AbortError"),q1=u=>(n,i,[r,o,l],h)=>{u(n[o],[i,r,l],c=>c[0]===i&&c[1]===r,h)},V1=u=>(n,i,r)=>{const o=[];for(let l=0;l<r.numberOfInputs;l+=1)o.push(new Set);u.set(n,{activeInputs:o,outputs:new Set,passiveInputs:new WeakMap,renderer:i})},L1=u=>(n,i)=>{u.set(n,{activeInputs:new Set,passiveInputs:new WeakMap,renderer:i})},Rr=new WeakSet,Y_=new WeakMap,sf=new WeakMap,P_=new WeakMap,rf=new WeakMap,Hl=new WeakMap,X_=new WeakMap,Yh=new WeakMap,Ph=new WeakMap,Xh=new WeakMap,W_={construct(){return W_}},F1=u=>{try{const n=new Proxy(u,W_);new n}catch{return!1}return!0},Hg=/^import(?:(?:[\s]+[\w]+|(?:[\s]+[\w]+[\s]*,)?[\s]*\{[\s]*[\w]+(?:[\s]+as[\s]+[\w]+)?(?:[\s]*,[\s]*[\w]+(?:[\s]+as[\s]+[\w]+)?)*[\s]*}|(?:[\s]+[\w]+[\s]*,)?[\s]*\*[\s]+as[\s]+[\w]+)[\s]+from)?(?:[\s]*)("([^"\\]|\\.)+"|'([^'\\]|\\.)+')(?:[\s]*);?/,Gg=(u,n)=>{const i=[];let r=u.replace(/^[\s]+/,""),o=r.match(Hg);for(;o!==null;){const l=o[1].slice(1,-1),h=o[0].replace(/([\s]+)?;?$/,"").replace(l,new URL(l,n).toString());i.push(h),r=r.slice(o[0].length).replace(/^[\s]+/,""),o=r.match(Hg)}return[i.join(";"),r]},Zg=u=>{if(u!==void 0&&!Array.isArray(u))throw new TypeError("The parameterDescriptors property of given value for processorCtor is not an array.")},Yg=u=>{if(!F1(u))throw new TypeError("The given value for processorCtor should be a constructor.");if(u.prototype===null||typeof u.prototype!="object")throw new TypeError("The given value for processorCtor should have a prototype.")},H1=(u,n,i,r,o,l,h,c,d,p,m,_,b)=>{let v=0;return(x,y,S={credentials:"omit"})=>{const T=m.get(x);if(T!==void 0&&T.has(y))return Promise.resolve();const N=p.get(x);if(N!==void 0){const C=N.get(y);if(C!==void 0)return C}const O=l(x),E=O.audioWorklet===void 0?o(y).then(([C,U])=>{const[R,z]=Gg(C,U),V=`${R};((a,b)=>{(a[b]=a[b]||[]).push((AudioWorkletProcessor,global,registerProcessor,sampleRate,self,window)=>{${z}
})})(window,'_AWGS')`;return i(V)}).then(()=>{const C=b._AWGS.pop();if(C===void 0)throw new SyntaxError;r(O.currentTime,O.sampleRate,()=>C(class{},void 0,(U,R)=>{if(U.trim()==="")throw n();const z=Ph.get(O);if(z!==void 0){if(z.has(U))throw n();Yg(R),Zg(R.parameterDescriptors),z.set(U,R)}else Yg(R),Zg(R.parameterDescriptors),Ph.set(O,new Map([[U,R]]))},O.sampleRate,void 0,void 0))}):Promise.all([o(y),Promise.resolve(u(_,_))]).then(([[C,U],R])=>{const z=v+1;v=z;const[V,P]=Gg(C,U),w=`${V};((AudioWorkletProcessor,registerProcessor)=>{${P}
})(${R?"AudioWorkletProcessor":"class extends AudioWorkletProcessor {__b=new WeakSet();constructor(){super();(p=>p.postMessage=(q=>(m,t)=>q.call(p,m,t?t.filter(u=>!this.__b.has(u)):t))(p.postMessage))(this.port)}}"},(n,p)=>registerProcessor(n,class extends p{${R?"":"__c = (a) => a.forEach(e=>this.__b.add(e.buffer));"}process(i,o,p){${R?"":"i.forEach(this.__c);o.forEach(this.__c);this.__c(Object.values(p));"}return super.process(i.map(j=>j.some(k=>k.length===0)?[]:j),o,p)}}));registerProcessor('__sac${z}',class extends AudioWorkletProcessor{process(){return !1}})`,J=new Blob([w],{type:"application/javascript; charset=utf-8"}),Z=URL.createObjectURL(J);return O.audioWorklet.addModule(Z,S).then(()=>{if(c(O))return O;const H=h(O);return H.audioWorklet.addModule(Z,S).then(()=>H)}).then(H=>{if(d===null)throw new SyntaxError;try{new d(H,`__sac${z}`)}catch{throw new SyntaxError}}).finally(()=>URL.revokeObjectURL(Z))});return N===void 0?p.set(x,new Map([[y,E]])):N.set(y,E),E.then(()=>{const C=m.get(x);C===void 0?m.set(x,new Set([y])):C.add(y)}).finally(()=>{const C=p.get(x);C!==void 0&&C.delete(y)}),E}},Xn=(u,n)=>{const i=u.get(n);if(i===void 0)throw new Error("A value with the given key could not be found.");return i},Gl=(u,n)=>{const i=Array.from(u).filter(n);if(i.length>1)throw Error("More than one element was found.");if(i.length===0)throw Error("No element was found.");const[r]=i;return u.delete(r),r},Q_=(u,n,i,r)=>{const o=Xn(u,n),l=Gl(o,h=>h[0]===i&&h[1]===r);return o.size===0&&u.delete(n),l},$a=u=>Xn(X_,u),zr=u=>{if(Rr.has(u))throw new Error("The AudioNode is already stored.");Rr.add(u),$a(u).forEach(n=>n(!0))},K_=u=>"port"in u,to=u=>{if(!Rr.has(u))throw new Error("The AudioNode is not stored.");Rr.delete(u),$a(u).forEach(n=>n(!1))},Wh=(u,n)=>{!K_(u)&&n.every(i=>i.size===0)&&to(u)},G1=(u,n,i,r,o,l,h,c,d,p,m,_,b)=>{const v=new WeakMap;return(x,y,S,T,N)=>{const{activeInputs:O,passiveInputs:E}=l(y),{outputs:C}=l(x),U=c(x),R=z=>{const V=d(y),P=d(x);if(z){const et=Q_(E,x,S,T);u(O,x,et,!1),!N&&!_(x)&&i(P,V,S,T),b(y)&&zr(y)}else{const et=r(O,x,S,T);n(E,T,et,!1),!N&&!_(x)&&o(P,V,S,T);const D=h(y);if(D===0)m(y)&&Wh(y,O);else{const X=v.get(y);X!==void 0&&clearTimeout(X),v.set(y,setTimeout(()=>{m(y)&&Wh(y,O)},D*1e3))}}};return p(C,[y,S,T],z=>z[0]===y&&z[1]===S&&z[2]===T,!0)?(U.add(R),m(x)?u(O,x,[S,T,R],!0):n(E,T,[x,S,R],!0),!0):!1}},Z1=u=>(n,i,[r,o,l],h)=>{const c=n.get(r);c===void 0?n.set(r,new Set([[o,i,l]])):u(c,[o,i,l],d=>d[0]===o&&d[1]===i,h)},Y1=u=>(n,i)=>{const r=u(n,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});i.connect(r).connect(n.destination);const o=()=>{i.removeEventListener("ended",o),i.disconnect(r),r.disconnect()};i.addEventListener("ended",o)},P1=u=>(n,i)=>{u(n).add(i)},X1={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",fftSize:2048,maxDecibels:-30,minDecibels:-100,smoothingTimeConstant:.8},W1=(u,n,i,r,o,l)=>class extends u{constructor(c,d){const p=o(c),m={...X1,...d},_=r(p,m),b=l(p)?n():null;super(c,!1,_,b),this._nativeAnalyserNode=_}get fftSize(){return this._nativeAnalyserNode.fftSize}set fftSize(c){this._nativeAnalyserNode.fftSize=c}get frequencyBinCount(){return this._nativeAnalyserNode.frequencyBinCount}get maxDecibels(){return this._nativeAnalyserNode.maxDecibels}set maxDecibels(c){const d=this._nativeAnalyserNode.maxDecibels;if(this._nativeAnalyserNode.maxDecibels=c,!(c>this._nativeAnalyserNode.minDecibels))throw this._nativeAnalyserNode.maxDecibels=d,i()}get minDecibels(){return this._nativeAnalyserNode.minDecibels}set minDecibels(c){const d=this._nativeAnalyserNode.minDecibels;if(this._nativeAnalyserNode.minDecibels=c,!(this._nativeAnalyserNode.maxDecibels>c))throw this._nativeAnalyserNode.minDecibels=d,i()}get smoothingTimeConstant(){return this._nativeAnalyserNode.smoothingTimeConstant}set smoothingTimeConstant(c){this._nativeAnalyserNode.smoothingTimeConstant=c}getByteFrequencyData(c){this._nativeAnalyserNode.getByteFrequencyData(c)}getByteTimeDomainData(c){this._nativeAnalyserNode.getByteTimeDomainData(c)}getFloatFrequencyData(c){this._nativeAnalyserNode.getFloatFrequencyData(c)}getFloatTimeDomainData(c){this._nativeAnalyserNode.getFloatTimeDomainData(c)}},en=(u,n)=>u.context===n,Q1=(u,n,i)=>()=>{const r=new WeakMap,o=async(l,h)=>{let c=n(l);if(!en(c,h)){const p={channelCount:c.channelCount,channelCountMode:c.channelCountMode,channelInterpretation:c.channelInterpretation,fftSize:c.fftSize,maxDecibels:c.maxDecibels,minDecibels:c.minDecibels,smoothingTimeConstant:c.smoothingTimeConstant};c=u(h,p)}return r.set(h,c),await i(l,h,c),c};return{render(l,h){const c=r.get(h);return c!==void 0?Promise.resolve(c):o(l,h)}}},Dl=u=>{try{u.copyToChannel(new Float32Array(1),0,-1)}catch{return!1}return!0},si=()=>new DOMException("","IndexSizeError"),af=u=>{u.getChannelData=(n=>i=>{try{return n.call(u,i)}catch(r){throw r.code===12?si():r}})(u.getChannelData)},K1={numberOfChannels:1},J1=(u,n,i,r,o,l,h,c)=>{let d=null;return class J_{constructor(m){if(o===null)throw new Error("Missing the native OfflineAudioContext constructor.");const{length:_,numberOfChannels:b,sampleRate:v}={...K1,...m};d===null&&(d=new o(1,1,44100));const x=r!==null&&n(l,l)?new r({length:_,numberOfChannels:b,sampleRate:v}):d.createBuffer(b,_,v);if(x.numberOfChannels===0)throw i();return typeof x.copyFromChannel!="function"?(h(x),af(x)):n(Dl,()=>Dl(x))||c(x),u.add(x),x}static[Symbol.hasInstance](m){return m!==null&&typeof m=="object"&&Object.getPrototypeOf(m)===J_.prototype||u.has(m)}}},fn=-34028234663852886e22,rn=-fn,Ai=u=>Rr.has(u),$1={buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1},tb=(u,n,i,r,o,l,h,c)=>class extends u{constructor(p,m){const _=l(p),b={...$1,...m},v=o(_,b),x=h(_),y=x?n():null;super(p,!1,v,y),this._audioBufferSourceNodeRenderer=y,this._isBufferNullified=!1,this._isBufferSet=b.buffer!==null,this._nativeAudioBufferSourceNode=v,this._onended=null,this._playbackRate=i(this,x,v.playbackRate,rn,fn)}get buffer(){return this._isBufferNullified?null:this._nativeAudioBufferSourceNode.buffer}set buffer(p){if(this._nativeAudioBufferSourceNode.buffer=p,p!==null){if(this._isBufferSet)throw r();this._isBufferSet=!0}}get loop(){return this._nativeAudioBufferSourceNode.loop}set loop(p){this._nativeAudioBufferSourceNode.loop=p}get loopEnd(){return this._nativeAudioBufferSourceNode.loopEnd}set loopEnd(p){this._nativeAudioBufferSourceNode.loopEnd=p}get loopStart(){return this._nativeAudioBufferSourceNode.loopStart}set loopStart(p){this._nativeAudioBufferSourceNode.loopStart=p}get onended(){return this._onended}set onended(p){const m=typeof p=="function"?c(this,p):null;this._nativeAudioBufferSourceNode.onended=m;const _=this._nativeAudioBufferSourceNode.onended;this._onended=_!==null&&_===m?p:_}get playbackRate(){return this._playbackRate}start(p=0,m=0,_){if(this._nativeAudioBufferSourceNode.start(p,m,_),this._audioBufferSourceNodeRenderer!==null&&(this._audioBufferSourceNodeRenderer.start=_===void 0?[p,m]:[p,m,_]),this.context.state!=="closed"){zr(this);const b=()=>{this._nativeAudioBufferSourceNode.removeEventListener("ended",b),Ai(this)&&to(this)};this._nativeAudioBufferSourceNode.addEventListener("ended",b)}}stop(p=0){this._nativeAudioBufferSourceNode.stop(p),this._audioBufferSourceNodeRenderer!==null&&(this._audioBufferSourceNodeRenderer.stop=p)}},eb=(u,n,i,r,o)=>()=>{const l=new WeakMap;let h=null,c=null;const d=async(p,m)=>{let _=i(p);const b=en(_,m);if(!b){const v={buffer:_.buffer,channelCount:_.channelCount,channelCountMode:_.channelCountMode,channelInterpretation:_.channelInterpretation,loop:_.loop,loopEnd:_.loopEnd,loopStart:_.loopStart,playbackRate:_.playbackRate.value};_=n(m,v),h!==null&&_.start(...h),c!==null&&_.stop(c)}return l.set(m,_),b?await u(m,p.playbackRate,_.playbackRate):await r(m,p.playbackRate,_.playbackRate),await o(p,m,_),_};return{set start(p){h=p},set stop(p){c=p},render(p,m){const _=l.get(m);return _!==void 0?Promise.resolve(_):d(p,m)}}},nb=u=>"playbackRate"in u,ib=u=>"frequency"in u&&"gain"in u,sb=u=>"offset"in u,rb=u=>!("frequency"in u)&&"gain"in u,ab=u=>"detune"in u&&"frequency"in u&&!("gain"in u),ob=u=>"pan"in u,an=u=>Xn(Y_,u),eo=u=>Xn(P_,u),Qh=(u,n)=>{const{activeInputs:i}=an(u);i.forEach(o=>o.forEach(([l])=>{n.includes(u)||Qh(l,[...n,u])}));const r=nb(u)?[u.playbackRate]:K_(u)?Array.from(u.parameters.values()):ib(u)?[u.Q,u.detune,u.frequency,u.gain]:sb(u)?[u.offset]:rb(u)?[u.gain]:ab(u)?[u.detune,u.frequency]:ob(u)?[u.pan]:[];for(const o of r){const l=eo(o);l!==void 0&&l.activeInputs.forEach(([h])=>Qh(h,n))}Ai(u)&&to(u)},$_=u=>{Qh(u.destination,[])},lb=u=>u===void 0||typeof u=="number"||typeof u=="string"&&(u==="balanced"||u==="interactive"||u==="playback"),ub=(u,n,i,r,o,l,h,c,d)=>class extends u{constructor(m={}){if(d===null)throw new Error("Missing the native AudioContext constructor.");let _;try{_=new d(m)}catch(x){throw x.code===12&&x.message==="sampleRate is not in range"?i():x}if(_===null)throw r();if(!lb(m.latencyHint))throw new TypeError(`The provided value '${m.latencyHint}' is not a valid enum value of type AudioContextLatencyCategory.`);if(m.sampleRate!==void 0&&_.sampleRate!==m.sampleRate)throw i();super(_,2);const{latencyHint:b}=m,{sampleRate:v}=_;if(this._baseLatency=typeof _.baseLatency=="number"?_.baseLatency:b==="balanced"?512/v:b==="interactive"||b===void 0?256/v:b==="playback"?1024/v:Math.max(2,Math.min(128,Math.round(b*v/128)))*128/v,this._nativeAudioContext=_,d.name==="webkitAudioContext"?(this._nativeGainNode=_.createGain(),this._nativeOscillatorNode=_.createOscillator(),this._nativeGainNode.gain.value=1e-37,this._nativeOscillatorNode.connect(this._nativeGainNode).connect(_.destination),this._nativeOscillatorNode.start()):(this._nativeGainNode=null,this._nativeOscillatorNode=null),this._state=null,_.state==="running"){this._state="suspended";const x=()=>{this._state==="suspended"&&(this._state=null),_.removeEventListener("statechange",x)};_.addEventListener("statechange",x)}}get baseLatency(){return this._baseLatency}get state(){return this._state!==null?this._state:this._nativeAudioContext.state}close(){return this.state==="closed"?this._nativeAudioContext.close().then(()=>{throw n()}):(this._state==="suspended"&&(this._state=null),this._nativeAudioContext.close().then(()=>{this._nativeGainNode!==null&&this._nativeOscillatorNode!==null&&(this._nativeOscillatorNode.stop(),this._nativeGainNode.disconnect(),this._nativeOscillatorNode.disconnect()),$_(this)}))}createMediaElementSource(m){return new o(this,{mediaElement:m})}createMediaStreamDestination(){return new l(this)}createMediaStreamSource(m){return new h(this,{mediaStream:m})}createMediaStreamTrackSource(m){return new c(this,{mediaStreamTrack:m})}resume(){return this._state==="suspended"?new Promise((m,_)=>{const b=()=>{this._nativeAudioContext.removeEventListener("statechange",b),this._nativeAudioContext.state==="running"?m():this.resume().then(m,_)};this._nativeAudioContext.addEventListener("statechange",b)}):this._nativeAudioContext.resume().catch(m=>{throw m===void 0||m.code===15?n():m})}suspend(){return this._nativeAudioContext.suspend().catch(m=>{throw m===void 0?n():m})}},cb=(u,n,i,r,o,l,h,c)=>class extends u{constructor(p,m){const _=l(p),b=h(_),v=o(_,m,b),x=b?n(c):null;super(p,!1,v,x),this._isNodeOfNativeOfflineAudioContext=b,this._nativeAudioDestinationNode=v}get channelCount(){return this._nativeAudioDestinationNode.channelCount}set channelCount(p){if(this._isNodeOfNativeOfflineAudioContext)throw r();if(p>this._nativeAudioDestinationNode.maxChannelCount)throw i();this._nativeAudioDestinationNode.channelCount=p}get channelCountMode(){return this._nativeAudioDestinationNode.channelCountMode}set channelCountMode(p){if(this._isNodeOfNativeOfflineAudioContext)throw r();this._nativeAudioDestinationNode.channelCountMode=p}get maxChannelCount(){return this._nativeAudioDestinationNode.maxChannelCount}},hb=u=>{const n=new WeakMap,i=async(r,o)=>{const l=o.destination;return n.set(o,l),await u(r,o,l),l};return{render(r,o){const l=n.get(o);return l!==void 0?Promise.resolve(l):i(r,o)}}},fb=(u,n,i,r,o,l,h,c)=>(d,p)=>{const m=p.listener,_=()=>{const C=new Float32Array(1),U=n(p,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:9}),R=h(p);let z=!1,V=[0,0,-1,0,1,0],P=[0,0,0];const et=()=>{if(z)return;z=!0;const J=r(p,256,9,0);J.onaudioprocess=({inputBuffer:Z})=>{const H=[l(Z,C,0),l(Z,C,1),l(Z,C,2),l(Z,C,3),l(Z,C,4),l(Z,C,5)];H.some((tt,j)=>tt!==V[j])&&(m.setOrientation(...H),V=H);const ht=[l(Z,C,6),l(Z,C,7),l(Z,C,8)];ht.some((tt,j)=>tt!==P[j])&&(m.setPosition(...ht),P=ht)},U.connect(J)},D=J=>Z=>{Z!==V[J]&&(V[J]=Z,m.setOrientation(...V))},X=J=>Z=>{Z!==P[J]&&(P[J]=Z,m.setPosition(...P))},w=(J,Z,H)=>{const ht=i(p,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:Z});ht.connect(U,0,J),ht.start(),Object.defineProperty(ht.offset,"defaultValue",{get(){return Z}});const tt=u({context:d},R,ht.offset,rn,fn);return c(tt,"value",j=>()=>j.call(tt),j=>B=>{try{j.call(tt,B)}catch(F){if(F.code!==9)throw F}et(),R&&H(B)}),tt.cancelAndHoldAtTime=(j=>R?()=>{throw o()}:(...B)=>{const F=j.apply(tt,B);return et(),F})(tt.cancelAndHoldAtTime),tt.cancelScheduledValues=(j=>R?()=>{throw o()}:(...B)=>{const F=j.apply(tt,B);return et(),F})(tt.cancelScheduledValues),tt.exponentialRampToValueAtTime=(j=>R?()=>{throw o()}:(...B)=>{const F=j.apply(tt,B);return et(),F})(tt.exponentialRampToValueAtTime),tt.linearRampToValueAtTime=(j=>R?()=>{throw o()}:(...B)=>{const F=j.apply(tt,B);return et(),F})(tt.linearRampToValueAtTime),tt.setTargetAtTime=(j=>R?()=>{throw o()}:(...B)=>{const F=j.apply(tt,B);return et(),F})(tt.setTargetAtTime),tt.setValueAtTime=(j=>R?()=>{throw o()}:(...B)=>{const F=j.apply(tt,B);return et(),F})(tt.setValueAtTime),tt.setValueCurveAtTime=(j=>R?()=>{throw o()}:(...B)=>{const F=j.apply(tt,B);return et(),F})(tt.setValueCurveAtTime),tt};return{forwardX:w(0,0,D(0)),forwardY:w(1,0,D(1)),forwardZ:w(2,-1,D(2)),positionX:w(6,0,X(0)),positionY:w(7,0,X(1)),positionZ:w(8,0,X(2)),upX:w(3,0,D(3)),upY:w(4,1,D(4)),upZ:w(5,0,D(5))}},{forwardX:b,forwardY:v,forwardZ:x,positionX:y,positionY:S,positionZ:T,upX:N,upY:O,upZ:E}=m.forwardX===void 0?_():m;return{get forwardX(){return b},get forwardY(){return v},get forwardZ(){return x},get positionX(){return y},get positionY(){return S},get positionZ(){return T},get upX(){return N},get upY(){return O},get upZ(){return E}}},Rl=u=>"context"in u,no=u=>Rl(u[0]),qs=(u,n,i,r)=>{for(const o of u)if(i(o)){if(r)return!1;throw Error("The set contains at least one similar element.")}return u.add(n),!0},Pg=(u,n,[i,r],o)=>{qs(u,[n,i,r],l=>l[0]===n&&l[1]===i,o)},Xg=(u,[n,i,r],o)=>{const l=u.get(n);l===void 0?u.set(n,new Set([[i,r]])):qs(l,[i,r],h=>h[0]===i,o)},Fr=u=>"inputs"in u,zl=(u,n,i,r)=>{if(Fr(n)){const o=n.inputs[r];return u.connect(o,i,0),[o,i,0]}return u.connect(n,i,r),[n,i,r]},t0=(u,n,i)=>{for(const r of u)if(r[0]===n&&r[1]===i)return u.delete(r),r;return null},db=(u,n,i)=>Gl(u,r=>r[0]===n&&r[1]===i),e0=(u,n)=>{if(!$a(u).delete(n))throw new Error("Missing the expected event listener.")},n0=(u,n,i)=>{const r=Xn(u,n),o=Gl(r,l=>l[0]===i);return r.size===0&&u.delete(n),o},jl=(u,n,i,r)=>{Fr(n)?u.disconnect(n.inputs[r],i,0):u.disconnect(n,i,r)},_e=u=>Xn(sf,u),Qa=u=>Xn(rf,u),Us=u=>Yh.has(u),Nl=u=>!Rr.has(u),Wg=(u,n)=>new Promise(i=>{if(n!==null)i(!0);else{const r=u.createScriptProcessor(256,1,1),o=u.createGain(),l=u.createBuffer(1,2,44100),h=l.getChannelData(0);h[0]=1,h[1]=1;const c=u.createBufferSource();c.buffer=l,c.loop=!0,c.connect(r).connect(u.destination),c.connect(o),c.disconnect(o),r.onaudioprocess=d=>{const p=d.inputBuffer.getChannelData(0);Array.prototype.some.call(p,m=>m===1)?i(!0):i(!1),c.stop(),r.onaudioprocess=null,c.disconnect(r),r.disconnect(u.destination)},c.start()}}),xh=(u,n)=>{const i=new Map;for(const r of u)for(const o of r){const l=i.get(o);i.set(o,l===void 0?1:l+1)}i.forEach((r,o)=>n(o,r))},Ul=u=>"context"in u,pb=u=>{const n=new Map;u.connect=(i=>(r,o=0,l=0)=>{const h=Ul(r)?i(r,o,l):i(r,o),c=n.get(r);return c===void 0?n.set(r,[{input:l,output:o}]):c.every(d=>d.input!==l||d.output!==o)&&c.push({input:l,output:o}),h})(u.connect.bind(u)),u.disconnect=(i=>(r,o,l)=>{if(i.apply(u),r===void 0)n.clear();else if(typeof r=="number")for(const[h,c]of n){const d=c.filter(p=>p.output!==r);d.length===0?n.delete(h):n.set(h,d)}else if(n.has(r))if(o===void 0)n.delete(r);else{const h=n.get(r);if(h!==void 0){const c=h.filter(d=>d.output!==o&&(d.input!==l||l===void 0));c.length===0?n.delete(r):n.set(r,c)}}for(const[h,c]of n)c.forEach(d=>{Ul(h)?u.connect(h,d.output,d.input):u.connect(h,d.output)})})(u.disconnect)},mb=(u,n,i,r)=>{const{activeInputs:o,passiveInputs:l}=eo(n),{outputs:h}=an(u),c=$a(u),d=p=>{const m=_e(u),_=Qa(n);if(p){const b=n0(l,u,i);Pg(o,u,b,!1),!r&&!Us(u)&&m.connect(_,i)}else{const b=db(o,u,i);Xg(l,b,!1),!r&&!Us(u)&&m.disconnect(_,i)}};return qs(h,[n,i],p=>p[0]===n&&p[1]===i,!0)?(c.add(d),Ai(u)?Pg(o,u,[i,d],!0):Xg(l,[u,i,d],!0),!0):!1},gb=(u,n,i,r)=>{const{activeInputs:o,passiveInputs:l}=an(n),h=t0(o[r],u,i);return h===null?[Q_(l,u,i,r)[2],!1]:[h[2],!0]},_b=(u,n,i)=>{const{activeInputs:r,passiveInputs:o}=eo(n),l=t0(r,u,i);return l===null?[n0(o,u,i)[1],!1]:[l[2],!0]},of=(u,n,i,r,o)=>{const[l,h]=gb(u,i,r,o);if(l!==null&&(e0(u,l),h&&!n&&!Us(u)&&jl(_e(u),_e(i),r,o)),Ai(i)){const{activeInputs:c}=an(i);Wh(i,c)}},lf=(u,n,i,r)=>{const[o,l]=_b(u,i,r);o!==null&&(e0(u,o),l&&!n&&!Us(u)&&_e(u).disconnect(Qa(i),r))},vb=(u,n)=>{const i=an(u),r=[];for(const o of i.outputs)no(o)?of(u,n,...o):lf(u,n,...o),r.push(o[0]);return i.outputs.clear(),r},yb=(u,n,i)=>{const r=an(u),o=[];for(const l of r.outputs)l[1]===i&&(no(l)?of(u,n,...l):lf(u,n,...l),o.push(l[0]),r.outputs.delete(l));return o},bb=(u,n,i,r,o)=>{const l=an(u);return Array.from(l.outputs).filter(h=>h[0]===i&&(r===void 0||h[1]===r)&&(o===void 0||h[2]===o)).map(h=>(no(h)?of(u,n,...h):lf(u,n,...h),l.outputs.delete(h),h[0]))},Sb=(u,n,i,r,o,l,h,c,d,p,m,_,b,v,x,y)=>class extends p{constructor(T,N,O,E){super(O),this._context=T,this._nativeAudioNode=O;const C=m(T);_(C)&&i(Wg,()=>Wg(C,y))!==!0&&pb(O),sf.set(this,O),X_.set(this,new Set),T.state!=="closed"&&N&&zr(this),u(this,E,O)}get channelCount(){return this._nativeAudioNode.channelCount}set channelCount(T){this._nativeAudioNode.channelCount=T}get channelCountMode(){return this._nativeAudioNode.channelCountMode}set channelCountMode(T){this._nativeAudioNode.channelCountMode=T}get channelInterpretation(){return this._nativeAudioNode.channelInterpretation}set channelInterpretation(T){this._nativeAudioNode.channelInterpretation=T}get context(){return this._context}get numberOfInputs(){return this._nativeAudioNode.numberOfInputs}get numberOfOutputs(){return this._nativeAudioNode.numberOfOutputs}connect(T,N=0,O=0){if(N<0||N>=this._nativeAudioNode.numberOfOutputs)throw o();const E=m(this._context),C=x(E);if(b(T)||v(T))throw l();if(Rl(T)){const z=_e(T);try{const P=zl(this._nativeAudioNode,z,N,O),et=Nl(this);(C||et)&&this._nativeAudioNode.disconnect(...P),this.context.state!=="closed"&&!et&&Nl(T)&&zr(T)}catch(P){throw P.code===12?l():P}if(n(this,T,N,O,C)){const P=d([this],T);xh(P,r(C))}return T}const U=Qa(T);if(U.name==="playbackRate"&&U.maxValue===1024)throw h();try{this._nativeAudioNode.connect(U,N),(C||Nl(this))&&this._nativeAudioNode.disconnect(U,N)}catch(z){throw z.code===12?l():z}if(mb(this,T,N,C)){const z=d([this],T);xh(z,r(C))}}disconnect(T,N,O){let E;const C=m(this._context),U=x(C);if(T===void 0)E=vb(this,U);else if(typeof T=="number"){if(T<0||T>=this.numberOfOutputs)throw o();E=yb(this,U,T)}else{if(N!==void 0&&(N<0||N>=this.numberOfOutputs)||Rl(T)&&O!==void 0&&(O<0||O>=T.numberOfInputs))throw o();if(E=bb(this,U,T,N,O),E.length===0)throw l()}for(const R of E){const z=d([this],R);xh(z,c)}}},xb=(u,n,i,r,o,l,h,c,d,p,m,_,b)=>(v,x,y,S=null,T=null)=>{const N=y.value,O=new D1(N),E=x?r(O):null,C={get defaultValue(){return N},get maxValue(){return S===null?y.maxValue:S},get minValue(){return T===null?y.minValue:T},get value(){return y.value},set value(U){y.value=U,C.setValueAtTime(U,v.context.currentTime)},cancelAndHoldAtTime(U){if(typeof y.cancelAndHoldAtTime=="function")E===null&&O.flush(v.context.currentTime),O.add(o(U)),y.cancelAndHoldAtTime(U);else{const R=Array.from(O).pop();E===null&&O.flush(v.context.currentTime),O.add(o(U));const z=Array.from(O).pop();y.cancelScheduledValues(U),R!==z&&z!==void 0&&(z.type==="exponentialRampToValue"?y.exponentialRampToValueAtTime(z.value,z.endTime):z.type==="linearRampToValue"?y.linearRampToValueAtTime(z.value,z.endTime):z.type==="setValue"?y.setValueAtTime(z.value,z.startTime):z.type==="setValueCurve"&&y.setValueCurveAtTime(z.values,z.startTime,z.duration))}return C},cancelScheduledValues(U){return E===null&&O.flush(v.context.currentTime),O.add(l(U)),y.cancelScheduledValues(U),C},exponentialRampToValueAtTime(U,R){if(U===0)throw new RangeError;if(!Number.isFinite(R)||R<0)throw new RangeError;const z=v.context.currentTime;return E===null&&O.flush(z),Array.from(O).length===0&&(O.add(p(N,z)),y.setValueAtTime(N,z)),O.add(h(U,R)),y.exponentialRampToValueAtTime(U,R),C},linearRampToValueAtTime(U,R){const z=v.context.currentTime;return E===null&&O.flush(z),Array.from(O).length===0&&(O.add(p(N,z)),y.setValueAtTime(N,z)),O.add(c(U,R)),y.linearRampToValueAtTime(U,R),C},setTargetAtTime(U,R,z){return E===null&&O.flush(v.context.currentTime),O.add(d(U,R,z)),y.setTargetAtTime(U,R,z),C},setValueAtTime(U,R){return E===null&&O.flush(v.context.currentTime),O.add(p(U,R)),y.setValueAtTime(U,R),C},setValueCurveAtTime(U,R,z){const V=U instanceof Float32Array?U:new Float32Array(U);if(_!==null&&_.name==="webkitAudioContext"){const P=R+z,et=v.context.sampleRate,D=Math.ceil(R*et),X=Math.floor(P*et),w=X-D,J=new Float32Array(w);for(let H=0;H<w;H+=1){const ht=(V.length-1)/z*((D+H)/et-R),tt=Math.floor(ht),j=Math.ceil(ht);J[H]=tt===j?V[tt]:(1-(ht-tt))*V[tt]+(1-(j-ht))*V[j]}E===null&&O.flush(v.context.currentTime),O.add(m(J,R,z)),y.setValueCurveAtTime(J,R,z);const Z=X/et;Z<P&&b(C,J[J.length-1],Z),b(C,V[V.length-1],P)}else E===null&&O.flush(v.context.currentTime),O.add(m(V,R,z)),y.setValueCurveAtTime(V,R,z);return C}};return i.set(C,y),n.set(C,v),u(C,E),C},Tb=u=>({replay(n){for(const i of u)if(i.type==="exponentialRampToValue"){const{endTime:r,value:o}=i;n.exponentialRampToValueAtTime(o,r)}else if(i.type==="linearRampToValue"){const{endTime:r,value:o}=i;n.linearRampToValueAtTime(o,r)}else if(i.type==="setTarget"){const{startTime:r,target:o,timeConstant:l}=i;n.setTargetAtTime(o,r,l)}else if(i.type==="setValue"){const{startTime:r,value:o}=i;n.setValueAtTime(o,r)}else if(i.type==="setValueCurve"){const{duration:r,startTime:o,values:l}=i;n.setValueCurveAtTime(l,o,r)}else throw new Error("Can't apply an unknown automation.")}});class i0{constructor(n){this._map=new Map(n)}get size(){return this._map.size}entries(){return this._map.entries()}forEach(n,i=null){return this._map.forEach((r,o)=>n.call(i,r,o,this))}get(n){return this._map.get(n)}has(n){return this._map.has(n)}keys(){return this._map.keys()}values(){return this._map.values()}}const wb={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:1,numberOfOutputs:1,parameterData:{},processorOptions:{}},Ab=(u,n,i,r,o,l,h,c,d,p,m,_,b,v)=>class extends n{constructor(y,S,T){var N;const O=c(y),E=d(O),C=m({...wb,...T});b(C);const U=Ph.get(O),R=U?.get(S),z=E||O.state!=="closed"?O:(N=h(O))!==null&&N!==void 0?N:O,V=o(z,E?null:y.baseLatency,p,S,R,C),P=E?r(S,C,R):null;super(y,!0,V,P);const et=[];V.parameters.forEach((X,w)=>{const J=i(this,E,X);et.push([w,J])}),this._nativeAudioWorkletNode=V,this._onprocessorerror=null,this._parameters=new i0(et),E&&u(O,this);const{activeInputs:D}=l(this);_(V,D)}get onprocessorerror(){return this._onprocessorerror}set onprocessorerror(y){const S=typeof y=="function"?v(this,y):null;this._nativeAudioWorkletNode.onprocessorerror=S;const T=this._nativeAudioWorkletNode.onprocessorerror;this._onprocessorerror=T!==null&&T===S?y:T}get parameters(){return this._parameters===null?this._nativeAudioWorkletNode.parameters:this._parameters}get port(){return this._nativeAudioWorkletNode.port}};function Bl(u,n,i,r,o){if(typeof u.copyFromChannel=="function")n[i].byteLength===0&&(n[i]=new Float32Array(128)),u.copyFromChannel(n[i],r,o);else{const l=u.getChannelData(r);if(n[i].byteLength===0)n[i]=l.slice(o,o+128);else{const h=new Float32Array(l.buffer,o*Float32Array.BYTES_PER_ELEMENT,128);n[i].set(h)}}}const s0=(u,n,i,r,o)=>{typeof u.copyToChannel=="function"?n[i].byteLength!==0&&u.copyToChannel(n[i],r,o):n[i].byteLength!==0&&u.getChannelData(r).set(n[i],o)},Il=(u,n)=>{const i=[];for(let r=0;r<u;r+=1){const o=[],l=typeof n=="number"?n:n[r];for(let h=0;h<l;h+=1)o.push(new Float32Array(128));i.push(o)}return i},kb=(u,n)=>{const i=Xn(Xh,u),r=_e(n);return Xn(i,r)},Cb=async(u,n,i,r,o,l,h)=>{const c=n===null?Math.ceil(u.context.length/128)*128:n.length,d=r.channelCount*r.numberOfInputs,p=o.reduce((S,T)=>S+T,0),m=p===0?null:i.createBuffer(p,c,i.sampleRate);if(l===void 0)throw new Error("Missing the processor constructor.");const _=an(u),b=await kb(i,u),v=Il(r.numberOfInputs,r.channelCount),x=Il(r.numberOfOutputs,o),y=Array.from(u.parameters.keys()).reduce((S,T)=>({...S,[T]:new Float32Array(128)}),{});for(let S=0;S<c;S+=128){if(r.numberOfInputs>0&&n!==null)for(let T=0;T<r.numberOfInputs;T+=1)for(let N=0;N<r.channelCount;N+=1)Bl(n,v[T],N,N,S);l.parameterDescriptors!==void 0&&n!==null&&l.parameterDescriptors.forEach(({name:T},N)=>{Bl(n,y,T,d+N,S)});for(let T=0;T<r.numberOfInputs;T+=1)for(let N=0;N<o[T];N+=1)x[T][N].byteLength===0&&(x[T][N]=new Float32Array(128));try{const T=v.map((O,E)=>_.activeInputs[E].size===0?[]:O),N=h(S/i.sampleRate,i.sampleRate,()=>b.process(T,x,y));if(m!==null)for(let O=0,E=0;O<r.numberOfOutputs;O+=1){for(let C=0;C<o[O];C+=1)s0(m,x[O],C,E+C,S);E+=o[O]}if(!N)break}catch(T){u.dispatchEvent(new ErrorEvent("processorerror",{colno:T.colno,filename:T.filename,lineno:T.lineno,message:T.message}));break}}return m},Nb=(u,n,i,r,o,l,h,c,d,p,m,_,b,v,x,y)=>(S,T,N)=>{const O=new WeakMap;let E=null;const C=async(U,R)=>{let z=m(U),V=null;const P=en(z,R),et=Array.isArray(T.outputChannelCount)?T.outputChannelCount:Array.from(T.outputChannelCount);if(_===null){const D=et.reduce((Z,H)=>Z+H,0),X=o(R,{channelCount:Math.max(1,D),channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:Math.max(1,D)}),w=[];for(let Z=0;Z<U.numberOfOutputs;Z+=1)w.push(r(R,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:et[Z]}));const J=h(R,{channelCount:T.channelCount,channelCountMode:T.channelCountMode,channelInterpretation:T.channelInterpretation,gain:1});J.connect=n.bind(null,w),J.disconnect=d.bind(null,w),V=[X,w,J]}else P||(z=new _(R,S));if(O.set(R,V===null?z:V[2]),V!==null){if(E===null){if(N===void 0)throw new Error("Missing the processor constructor.");if(b===null)throw new Error("Missing the native OfflineAudioContext constructor.");const H=U.channelCount*U.numberOfInputs,ht=N.parameterDescriptors===void 0?0:N.parameterDescriptors.length,tt=H+ht;E=Cb(U,tt===0?null:await(async()=>{const B=new b(tt,Math.ceil(U.context.length/128)*128,R.sampleRate),F=[],ut=[];for(let vt=0;vt<T.numberOfInputs;vt+=1)F.push(h(B,{channelCount:T.channelCount,channelCountMode:T.channelCountMode,channelInterpretation:T.channelInterpretation,gain:1})),ut.push(o(B,{channelCount:T.channelCount,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:T.channelCount}));const ct=await Promise.all(Array.from(U.parameters.values()).map(async vt=>{const St=l(B,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:vt.value});return await v(B,vt,St.offset),St})),rt=r(B,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:Math.max(1,H+ht)});for(let vt=0;vt<T.numberOfInputs;vt+=1){F[vt].connect(ut[vt]);for(let St=0;St<T.channelCount;St+=1)ut[vt].connect(rt,St,vt*T.channelCount+St)}for(const[vt,St]of ct.entries())St.connect(rt,0,H+vt),St.start(0);return rt.connect(B.destination),await Promise.all(F.map(vt=>x(U,B,vt))),y(B)})(),R,T,et,N,p)}const D=await E,X=i(R,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),[w,J,Z]=V;D!==null&&(X.buffer=D,X.start(0)),X.connect(w);for(let H=0,ht=0;H<U.numberOfOutputs;H+=1){const tt=J[H];for(let j=0;j<et[H];j+=1)w.connect(tt,ht+j,j);ht+=et[H]}return Z}if(P)for(const[D,X]of U.parameters.entries())await u(R,X,z.parameters.get(D));else for(const[D,X]of U.parameters.entries())await v(R,X,z.parameters.get(D));return await x(U,R,z),z};return{render(U,R){c(R,U);const z=O.get(R);return z!==void 0?Promise.resolve(z):C(U,R)}}},Eb=(u,n,i,r,o,l,h,c,d,p,m,_,b,v,x,y,S,T,N,O)=>class extends x{constructor(C,U){super(C,U),this._nativeContext=C,this._audioWorklet=u===void 0?void 0:{addModule:(R,z)=>u(this,R,z)}}get audioWorklet(){return this._audioWorklet}createAnalyser(){return new n(this)}createBiquadFilter(){return new o(this)}createBuffer(C,U,R){return new i({length:U,numberOfChannels:C,sampleRate:R})}createBufferSource(){return new r(this)}createChannelMerger(C=6){return new l(this,{numberOfInputs:C})}createChannelSplitter(C=6){return new h(this,{numberOfOutputs:C})}createConstantSource(){return new c(this)}createConvolver(){return new d(this)}createDelay(C=1){return new m(this,{maxDelayTime:C})}createDynamicsCompressor(){return new _(this)}createGain(){return new b(this)}createIIRFilter(C,U){return new v(this,{feedback:U,feedforward:C})}createOscillator(){return new y(this)}createPanner(){return new S(this)}createPeriodicWave(C,U,R={disableNormalization:!1}){return new T(this,{...R,imag:U,real:C})}createStereoPanner(){return new N(this)}createWaveShaper(){return new O(this)}decodeAudioData(C,U,R){return p(this._nativeContext,C).then(z=>(typeof U=="function"&&U(z),z),z=>{throw typeof R=="function"&&R(z),z})}},Ob={Q:1,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",detune:0,frequency:350,gain:0,type:"lowpass"},Mb=(u,n,i,r,o,l,h,c)=>class extends u{constructor(p,m){const _=l(p),b={...Ob,...m},v=o(_,b),x=h(_),y=x?i():null;super(p,!1,v,y),this._Q=n(this,x,v.Q,rn,fn),this._detune=n(this,x,v.detune,1200*Math.log2(rn),-1200*Math.log2(rn)),this._frequency=n(this,x,v.frequency,p.sampleRate/2,0),this._gain=n(this,x,v.gain,40*Math.log10(rn),fn),this._nativeBiquadFilterNode=v,c(this,1)}get detune(){return this._detune}get frequency(){return this._frequency}get gain(){return this._gain}get Q(){return this._Q}get type(){return this._nativeBiquadFilterNode.type}set type(p){this._nativeBiquadFilterNode.type=p}getFrequencyResponse(p,m,_){try{this._nativeBiquadFilterNode.getFrequencyResponse(p,m,_)}catch(b){throw b.code===11?r():b}if(p.length!==m.length||m.length!==_.length)throw r()}},Db=(u,n,i,r,o)=>()=>{const l=new WeakMap,h=async(c,d)=>{let p=i(c);const m=en(p,d);if(!m){const _={Q:p.Q.value,channelCount:p.channelCount,channelCountMode:p.channelCountMode,channelInterpretation:p.channelInterpretation,detune:p.detune.value,frequency:p.frequency.value,gain:p.gain.value,type:p.type};p=n(d,_)}return l.set(d,p),m?(await u(d,c.Q,p.Q),await u(d,c.detune,p.detune),await u(d,c.frequency,p.frequency),await u(d,c.gain,p.gain)):(await r(d,c.Q,p.Q),await r(d,c.detune,p.detune),await r(d,c.frequency,p.frequency),await r(d,c.gain,p.gain)),await o(c,d,p),p};return{render(c,d){const p=l.get(d);return p!==void 0?Promise.resolve(p):h(c,d)}}},Rb=(u,n)=>(i,r)=>{const o=n.get(i);if(o!==void 0)return o;const l=u.get(i);if(l!==void 0)return l;try{const h=r();return h instanceof Promise?(u.set(i,h),h.catch(()=>!1).then(c=>(u.delete(i),n.set(i,c),c))):(n.set(i,h),h)}catch{return n.set(i,!1),!1}},zb={channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:6},jb=(u,n,i,r,o)=>class extends u{constructor(h,c){const d=r(h),p={...zb,...c},m=i(d,p),_=o(d)?n():null;super(h,!1,m,_)}},Ub=(u,n,i)=>()=>{const r=new WeakMap,o=async(l,h)=>{let c=n(l);if(!en(c,h)){const p={channelCount:c.channelCount,channelCountMode:c.channelCountMode,channelInterpretation:c.channelInterpretation,numberOfInputs:c.numberOfInputs};c=u(h,p)}return r.set(h,c),await i(l,h,c),c};return{render(l,h){const c=r.get(h);return c!==void 0?Promise.resolve(c):o(l,h)}}},Bb={channelCount:6,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:6},Ib=(u,n,i,r,o,l)=>class extends u{constructor(c,d){const p=r(c),m=l({...Bb,...d}),_=i(p,m),b=o(p)?n():null;super(c,!1,_,b)}},qb=(u,n,i)=>()=>{const r=new WeakMap,o=async(l,h)=>{let c=n(l);if(!en(c,h)){const p={channelCount:c.channelCount,channelCountMode:c.channelCountMode,channelInterpretation:c.channelInterpretation,numberOfOutputs:c.numberOfOutputs};c=u(h,p)}return r.set(h,c),await i(l,h,c),c};return{render(l,h){const c=r.get(h);return c!==void 0?Promise.resolve(c):o(l,h)}}},Vb=u=>(n,i,r)=>u(i,n,r),Lb=u=>(n,i,r=0,o=0)=>{const l=n[r];if(l===void 0)throw u();return Ul(i)?l.connect(i,0,o):l.connect(i,0)},Fb=u=>(n,i)=>{const r=u(n,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),o=n.createBuffer(1,2,44100);return r.buffer=o,r.loop=!0,r.connect(i),r.start(),()=>{r.stop(),r.disconnect(i)}},Hb={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",offset:1},Gb=(u,n,i,r,o,l,h)=>class extends u{constructor(d,p){const m=o(d),_={...Hb,...p},b=r(m,_),v=l(m),x=v?i():null;super(d,!1,b,x),this._constantSourceNodeRenderer=x,this._nativeConstantSourceNode=b,this._offset=n(this,v,b.offset,rn,fn),this._onended=null}get offset(){return this._offset}get onended(){return this._onended}set onended(d){const p=typeof d=="function"?h(this,d):null;this._nativeConstantSourceNode.onended=p;const m=this._nativeConstantSourceNode.onended;this._onended=m!==null&&m===p?d:m}start(d=0){if(this._nativeConstantSourceNode.start(d),this._constantSourceNodeRenderer!==null&&(this._constantSourceNodeRenderer.start=d),this.context.state!=="closed"){zr(this);const p=()=>{this._nativeConstantSourceNode.removeEventListener("ended",p),Ai(this)&&to(this)};this._nativeConstantSourceNode.addEventListener("ended",p)}}stop(d=0){this._nativeConstantSourceNode.stop(d),this._constantSourceNodeRenderer!==null&&(this._constantSourceNodeRenderer.stop=d)}},Zb=(u,n,i,r,o)=>()=>{const l=new WeakMap;let h=null,c=null;const d=async(p,m)=>{let _=i(p);const b=en(_,m);if(!b){const v={channelCount:_.channelCount,channelCountMode:_.channelCountMode,channelInterpretation:_.channelInterpretation,offset:_.offset.value};_=n(m,v),h!==null&&_.start(h),c!==null&&_.stop(c)}return l.set(m,_),b?await u(m,p.offset,_.offset):await r(m,p.offset,_.offset),await o(p,m,_),_};return{set start(p){h=p},set stop(p){c=p},render(p,m){const _=l.get(m);return _!==void 0?Promise.resolve(_):d(p,m)}}},Yb=u=>n=>(u[0]=n,u[0]),Pb={buffer:null,channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",disableNormalization:!1},Xb=(u,n,i,r,o,l)=>class extends u{constructor(c,d){const p=r(c),m={...Pb,...d},_=i(p,m),v=o(p)?n():null;super(c,!1,_,v),this._isBufferNullified=!1,this._nativeConvolverNode=_,m.buffer!==null&&l(this,m.buffer.duration)}get buffer(){return this._isBufferNullified?null:this._nativeConvolverNode.buffer}set buffer(c){if(this._nativeConvolverNode.buffer=c,c===null&&this._nativeConvolverNode.buffer!==null){const d=this._nativeConvolverNode.context;this._nativeConvolverNode.buffer=d.createBuffer(1,1,d.sampleRate),this._isBufferNullified=!0,l(this,0)}else this._isBufferNullified=!1,l(this,this._nativeConvolverNode.buffer===null?0:this._nativeConvolverNode.buffer.duration)}get normalize(){return this._nativeConvolverNode.normalize}set normalize(c){this._nativeConvolverNode.normalize=c}},Wb=(u,n,i)=>()=>{const r=new WeakMap,o=async(l,h)=>{let c=n(l);if(!en(c,h)){const p={buffer:c.buffer,channelCount:c.channelCount,channelCountMode:c.channelCountMode,channelInterpretation:c.channelInterpretation,disableNormalization:!c.normalize};c=u(h,p)}return r.set(h,c),Fr(c)?await i(l,h,c.inputs[0]):await i(l,h,c),c};return{render(l,h){const c=r.get(h);return c!==void 0?Promise.resolve(c):o(l,h)}}},Qb=(u,n)=>(i,r,o)=>{if(n===null)throw new Error("Missing the native OfflineAudioContext constructor.");try{return new n(i,r,o)}catch(l){throw l.name==="SyntaxError"?u():l}},Kb=()=>new DOMException("","DataCloneError"),Qg=u=>{const{port1:n,port2:i}=new MessageChannel;return new Promise(r=>{const o=()=>{i.onmessage=null,n.close(),i.close(),r()};i.onmessage=()=>o();try{n.postMessage(u,[u])}catch{}finally{o()}})},Jb=(u,n,i,r,o,l,h,c,d,p,m)=>(_,b)=>{const v=h(_)?_:l(_);if(o.has(b)){const x=i();return Promise.reject(x)}try{o.add(b)}catch{}return n(d,()=>d(v))?v.decodeAudioData(b).then(x=>(Qg(b).catch(()=>{}),n(c,()=>c(x))||m(x),u.add(x),x)):new Promise((x,y)=>{const S=async()=>{try{await Qg(b)}catch{}},T=N=>{y(N),S()};try{v.decodeAudioData(b,N=>{typeof N.copyFromChannel!="function"&&(p(N),af(N)),u.add(N),S().then(()=>x(N))},N=>{T(N===null?r():N)})}catch(N){T(N)}})},$b=(u,n,i,r,o,l,h,c)=>(d,p)=>{const m=n.get(d);if(m===void 0)throw new Error("Missing the expected cycle count.");const _=l(d.context),b=c(_);if(m===p){if(n.delete(d),!b&&h(d)){const v=r(d),{outputs:x}=i(d);for(const y of x)if(no(y)){const S=r(y[0]);u(v,S,y[1],y[2])}else{const S=o(y[0]);v.connect(S,y[1])}}}else n.set(d,m-p)},t2={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",delayTime:0,maxDelayTime:1},e2=(u,n,i,r,o,l,h)=>class extends u{constructor(d,p){const m=o(d),_={...t2,...p},b=r(m,_),v=l(m),x=v?i(_.maxDelayTime):null;super(d,!1,b,x),this._delayTime=n(this,v,b.delayTime),h(this,_.maxDelayTime)}get delayTime(){return this._delayTime}},n2=(u,n,i,r,o)=>l=>{const h=new WeakMap,c=async(d,p)=>{let m=i(d);const _=en(m,p);if(!_){const b={channelCount:m.channelCount,channelCountMode:m.channelCountMode,channelInterpretation:m.channelInterpretation,delayTime:m.delayTime.value,maxDelayTime:l};m=n(p,b)}return h.set(p,m),_?await u(p,d.delayTime,m.delayTime):await r(p,d.delayTime,m.delayTime),await o(d,p,m),m};return{render(d,p){const m=h.get(p);return m!==void 0?Promise.resolve(m):c(d,p)}}},i2=u=>(n,i,r,o)=>u(n[o],l=>l[0]===i&&l[1]===r),s2=u=>(n,i)=>{u(n).delete(i)},r2=u=>"delayTime"in u,a2=(u,n,i)=>function r(o,l){const h=Rl(l)?l:i(u,l);if(r2(h))return[];if(o[0]===h)return[o];if(o.includes(h))return[];const{outputs:c}=n(h);return Array.from(c).map(d=>r([...o,h],d[0])).reduce((d,p)=>d.concat(p),[])},wl=(u,n,i)=>{const r=n[i];if(r===void 0)throw u();return r},o2=u=>(n,i=void 0,r=void 0,o=0)=>i===void 0?n.forEach(l=>l.disconnect()):typeof i=="number"?wl(u,n,i).disconnect():Ul(i)?r===void 0?n.forEach(l=>l.disconnect(i)):o===void 0?wl(u,n,r).disconnect(i,0):wl(u,n,r).disconnect(i,0,o):r===void 0?n.forEach(l=>l.disconnect(i)):wl(u,n,r).disconnect(i,0),l2={attack:.003,channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",knee:30,ratio:12,release:.25,threshold:-24},u2=(u,n,i,r,o,l,h,c)=>class extends u{constructor(p,m){const _=l(p),b={...l2,...m},v=r(_,b),x=h(_),y=x?i():null;super(p,!1,v,y),this._attack=n(this,x,v.attack),this._knee=n(this,x,v.knee),this._nativeDynamicsCompressorNode=v,this._ratio=n(this,x,v.ratio),this._release=n(this,x,v.release),this._threshold=n(this,x,v.threshold),c(this,.006)}get attack(){return this._attack}get channelCount(){return this._nativeDynamicsCompressorNode.channelCount}set channelCount(p){const m=this._nativeDynamicsCompressorNode.channelCount;if(this._nativeDynamicsCompressorNode.channelCount=p,p>2)throw this._nativeDynamicsCompressorNode.channelCount=m,o()}get channelCountMode(){return this._nativeDynamicsCompressorNode.channelCountMode}set channelCountMode(p){const m=this._nativeDynamicsCompressorNode.channelCountMode;if(this._nativeDynamicsCompressorNode.channelCountMode=p,p==="max")throw this._nativeDynamicsCompressorNode.channelCountMode=m,o()}get knee(){return this._knee}get ratio(){return this._ratio}get reduction(){return typeof this._nativeDynamicsCompressorNode.reduction.value=="number"?this._nativeDynamicsCompressorNode.reduction.value:this._nativeDynamicsCompressorNode.reduction}get release(){return this._release}get threshold(){return this._threshold}},c2=(u,n,i,r,o)=>()=>{const l=new WeakMap,h=async(c,d)=>{let p=i(c);const m=en(p,d);if(!m){const _={attack:p.attack.value,channelCount:p.channelCount,channelCountMode:p.channelCountMode,channelInterpretation:p.channelInterpretation,knee:p.knee.value,ratio:p.ratio.value,release:p.release.value,threshold:p.threshold.value};p=n(d,_)}return l.set(d,p),m?(await u(d,c.attack,p.attack),await u(d,c.knee,p.knee),await u(d,c.ratio,p.ratio),await u(d,c.release,p.release),await u(d,c.threshold,p.threshold)):(await r(d,c.attack,p.attack),await r(d,c.knee,p.knee),await r(d,c.ratio,p.ratio),await r(d,c.release,p.release),await r(d,c.threshold,p.threshold)),await o(c,d,p),p};return{render(c,d){const p=l.get(d);return p!==void 0?Promise.resolve(p):h(c,d)}}},h2=()=>new DOMException("","EncodingError"),f2=u=>n=>new Promise((i,r)=>{if(u===null){r(new SyntaxError);return}const o=u.document.head;if(o===null)r(new SyntaxError);else{const l=u.document.createElement("script"),h=new Blob([n],{type:"application/javascript"}),c=URL.createObjectURL(h),d=u.onerror,p=()=>{u.onerror=d,URL.revokeObjectURL(c)};u.onerror=(m,_,b,v,x)=>{if(_===c||_===u.location.href&&b===1&&v===1)return p(),r(x),!1;if(d!==null)return d(m,_,b,v,x)},l.onerror=()=>{p(),r(new SyntaxError)},l.onload=()=>{p(),i()},l.src=c,l.type="module",o.appendChild(l)}}),d2=u=>class{constructor(i){this._nativeEventTarget=i,this._listeners=new WeakMap}addEventListener(i,r,o){if(r!==null){let l=this._listeners.get(r);l===void 0&&(l=u(this,r),typeof r=="function"&&this._listeners.set(r,l)),this._nativeEventTarget.addEventListener(i,l,o)}}dispatchEvent(i){return this._nativeEventTarget.dispatchEvent(i)}removeEventListener(i,r,o){const l=r===null?void 0:this._listeners.get(r);this._nativeEventTarget.removeEventListener(i,l===void 0?null:l,o)}},p2=u=>(n,i,r)=>{Object.defineProperties(u,{currentFrame:{configurable:!0,get(){return Math.round(n*i)}},currentTime:{configurable:!0,get(){return n}}});try{return r()}finally{u!==null&&(delete u.currentFrame,delete u.currentTime)}},m2=u=>async n=>{try{const i=await fetch(n);if(i.ok)return[await i.text(),i.url]}catch{}throw u()},g2={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",gain:1},_2=(u,n,i,r,o,l)=>class extends u{constructor(c,d){const p=o(c),m={...g2,...d},_=r(p,m),b=l(p),v=b?i():null;super(c,!1,_,v),this._gain=n(this,b,_.gain,rn,fn)}get gain(){return this._gain}},v2=(u,n,i,r,o)=>()=>{const l=new WeakMap,h=async(c,d)=>{let p=i(c);const m=en(p,d);if(!m){const _={channelCount:p.channelCount,channelCountMode:p.channelCountMode,channelInterpretation:p.channelInterpretation,gain:p.gain.value};p=n(d,_)}return l.set(d,p),m?await u(d,c.gain,p.gain):await r(d,c.gain,p.gain),await o(c,d,p),p};return{render(c,d){const p=l.get(d);return p!==void 0?Promise.resolve(p):h(c,d)}}},y2=(u,n)=>i=>n(u,i),b2=u=>n=>{const i=u(n);if(i.renderer===null)throw new Error("Missing the renderer of the given AudioNode in the audio graph.");return i.renderer},S2=u=>n=>{var i;return(i=u.get(n))!==null&&i!==void 0?i:0},x2=u=>n=>{const i=u(n);if(i.renderer===null)throw new Error("Missing the renderer of the given AudioParam in the audio graph.");return i.renderer},T2=u=>n=>u.get(n),Ze=()=>new DOMException("","InvalidStateError"),w2=u=>n=>{const i=u.get(n);if(i===void 0)throw Ze();return i},A2=(u,n)=>i=>{let r=u.get(i);if(r!==void 0)return r;if(n===null)throw new Error("Missing the native OfflineAudioContext constructor.");return r=new n(1,1,44100),u.set(i,r),r},k2=u=>n=>{const i=u.get(n);if(i===void 0)throw new Error("The context has no set of AudioWorkletNodes.");return i},Zl=()=>new DOMException("","InvalidAccessError"),C2=u=>{u.getFrequencyResponse=(n=>(i,r,o)=>{if(i.length!==r.length||r.length!==o.length)throw Zl();return n.call(u,i,r,o)})(u.getFrequencyResponse)},N2={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers"},E2=(u,n,i,r,o,l)=>class extends u{constructor(c,d){const p=r(c),m=o(p),_={...N2,...d},b=n(p,m?null:c.baseLatency,_),v=m?i(_.feedback,_.feedforward):null;super(c,!1,b,v),C2(b),this._nativeIIRFilterNode=b,l(this,1)}getFrequencyResponse(c,d,p){return this._nativeIIRFilterNode.getFrequencyResponse(c,d,p)}},r0=(u,n,i,r,o,l,h,c,d,p,m)=>{const _=p.length;let b=c;for(let v=0;v<_;v+=1){let x=i[0]*p[v];for(let y=1;y<o;y+=1){const S=b-y&d-1;x+=i[y]*l[S],x-=u[y]*h[S]}for(let y=o;y<r;y+=1)x+=i[y]*l[b-y&d-1];for(let y=o;y<n;y+=1)x-=u[y]*h[b-y&d-1];l[b]=p[v],h[b]=x,b=b+1&d-1,m[v]=x}return b},O2=(u,n,i,r)=>{const o=i instanceof Float64Array?i:new Float64Array(i),l=r instanceof Float64Array?r:new Float64Array(r),h=o.length,c=l.length,d=Math.min(h,c);if(o[0]!==1){for(let x=0;x<h;x+=1)l[x]/=o[0];for(let x=1;x<c;x+=1)o[x]/=o[0]}const p=32,m=new Float32Array(p),_=new Float32Array(p),b=n.createBuffer(u.numberOfChannels,u.length,u.sampleRate),v=u.numberOfChannels;for(let x=0;x<v;x+=1){const y=u.getChannelData(x),S=b.getChannelData(x);m.fill(0),_.fill(0),r0(o,h,l,c,d,m,_,0,p,y,S)}return b},M2=(u,n,i,r,o)=>(l,h)=>{const c=new WeakMap;let d=null;const p=async(m,_)=>{let b=null,v=n(m);const x=en(v,_);if(_.createIIRFilter===void 0?b=u(_,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}):x||(v=_.createIIRFilter(h,l)),c.set(_,b===null?v:b),b!==null){if(d===null){if(i===null)throw new Error("Missing the native OfflineAudioContext constructor.");const S=new i(m.context.destination.channelCount,m.context.length,_.sampleRate);d=(async()=>{await r(m,S,S.destination);const T=await o(S);return O2(T,_,l,h)})()}const y=await d;return b.buffer=y,b.start(0),b}return await r(m,_,v),v};return{render(m,_){const b=c.get(_);return b!==void 0?Promise.resolve(b):p(m,_)}}},D2=(u,n,i,r,o,l)=>h=>(c,d)=>{const p=u.get(c);if(p===void 0){if(!h&&l(c)){const m=r(c),{outputs:_}=i(c);for(const b of _)if(no(b)){const v=r(b[0]);n(m,v,b[1],b[2])}else{const v=o(b[0]);m.disconnect(v,b[1])}}u.set(c,d)}else u.set(c,p+d)},R2=(u,n)=>i=>{const r=u.get(i);return n(r)||n(i)},z2=(u,n)=>i=>u.has(i)||n(i),j2=(u,n)=>i=>u.has(i)||n(i),U2=(u,n)=>i=>{const r=u.get(i);return n(r)||n(i)},B2=u=>n=>u!==null&&n instanceof u,I2=u=>n=>u!==null&&typeof u.AudioNode=="function"&&n instanceof u.AudioNode,q2=u=>n=>u!==null&&typeof u.AudioParam=="function"&&n instanceof u.AudioParam,V2=(u,n)=>i=>u(i)||n(i),L2=u=>n=>u!==null&&n instanceof u,F2=u=>u!==null&&u.isSecureContext,H2=(u,n,i,r)=>class extends u{constructor(l,h){const c=i(l),d=n(c,h);if(r(c))throw TypeError();super(l,!0,d,null),this._nativeMediaElementAudioSourceNode=d}get mediaElement(){return this._nativeMediaElementAudioSourceNode.mediaElement}},G2={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers"},Z2=(u,n,i,r)=>class extends u{constructor(l,h){const c=i(l);if(r(c))throw new TypeError;const d={...G2,...h},p=n(c,d);super(l,!1,p,null),this._nativeMediaStreamAudioDestinationNode=p}get stream(){return this._nativeMediaStreamAudioDestinationNode.stream}},Y2=(u,n,i,r)=>class extends u{constructor(l,h){const c=i(l),d=n(c,h);if(r(c))throw new TypeError;super(l,!0,d,null),this._nativeMediaStreamAudioSourceNode=d}get mediaStream(){return this._nativeMediaStreamAudioSourceNode.mediaStream}},P2=(u,n,i)=>class extends u{constructor(o,l){const h=i(o),c=n(h,l);super(o,!0,c,null)}},X2=(u,n,i,r,o,l)=>class extends i{constructor(c,d){super(c),this._nativeContext=c,Hl.set(this,c),r(c)&&o.set(c,new Set),this._destination=new u(this,d),this._listener=n(this,c),this._onstatechange=null}get currentTime(){return this._nativeContext.currentTime}get destination(){return this._destination}get listener(){return this._listener}get onstatechange(){return this._onstatechange}set onstatechange(c){const d=typeof c=="function"?l(this,c):null;this._nativeContext.onstatechange=d;const p=this._nativeContext.onstatechange;this._onstatechange=p!==null&&p===d?c:p}get sampleRate(){return this._nativeContext.sampleRate}get state(){return this._nativeContext.state}},Ka=u=>{const n=new Uint32Array([1179011410,40,1163280727,544501094,16,131073,44100,176400,1048580,1635017060,4,0]);try{const i=u.decodeAudioData(n.buffer,()=>{});return i===void 0?!1:(i.catch(()=>{}),!0)}catch{}return!1},W2=(u,n)=>(i,r,o)=>{const l=new Set;return i.connect=(h=>(c,d=0,p=0)=>{const m=l.size===0;if(n(c))return h.call(i,c,d,p),u(l,[c,d,p],_=>_[0]===c&&_[1]===d&&_[2]===p,!0),m&&r(),c;h.call(i,c,d),u(l,[c,d],_=>_[0]===c&&_[1]===d,!0),m&&r()})(i.connect),i.disconnect=(h=>(c,d,p)=>{const m=l.size>0;if(c===void 0)h.apply(i),l.clear();else if(typeof c=="number"){h.call(i,c);for(const b of l)b[1]===c&&l.delete(b)}else{n(c)?h.call(i,c,d,p):h.call(i,c,d);for(const b of l)b[0]===c&&(d===void 0||b[1]===d)&&(p===void 0||b[2]===p)&&l.delete(b)}const _=l.size===0;m&&_&&o()})(i.disconnect),i},ye=(u,n,i)=>{const r=n[i];r!==void 0&&r!==u[i]&&(u[i]=r)},qe=(u,n)=>{ye(u,n,"channelCount"),ye(u,n,"channelCountMode"),ye(u,n,"channelInterpretation")},Kg=u=>typeof u.getFloatTimeDomainData=="function",Q2=u=>{u.getFloatTimeDomainData=n=>{const i=new Uint8Array(n.length);u.getByteTimeDomainData(i);const r=Math.max(i.length,u.fftSize);for(let o=0;o<r;o+=1)n[o]=(i[o]-128)*.0078125;return n}},K2=(u,n)=>(i,r)=>{const o=i.createAnalyser();if(qe(o,r),!(r.maxDecibels>r.minDecibels))throw n();return ye(o,r,"fftSize"),ye(o,r,"maxDecibels"),ye(o,r,"minDecibels"),ye(o,r,"smoothingTimeConstant"),u(Kg,()=>Kg(o))||Q2(o),o},J2=u=>u===null?null:u.hasOwnProperty("AudioBuffer")?u.AudioBuffer:null,Ae=(u,n,i)=>{const r=n[i];r!==void 0&&r!==u[i].value&&(u[i].value=r)},$2=u=>{u.start=(n=>{let i=!1;return(r=0,o=0,l)=>{if(i)throw Ze();n.call(u,r,o,l),i=!0}})(u.start)},uf=u=>{u.start=(n=>(i=0,r=0,o)=>{if(typeof o=="number"&&o<0||r<0||i<0)throw new RangeError("The parameters can't be negative.");n.call(u,i,r,o)})(u.start)},cf=u=>{u.stop=(n=>(i=0)=>{if(i<0)throw new RangeError("The parameter can't be negative.");n.call(u,i)})(u.stop)},tS=(u,n,i,r,o,l,h,c,d,p,m)=>(_,b)=>{const v=_.createBufferSource();return qe(v,b),Ae(v,b,"playbackRate"),ye(v,b,"buffer"),ye(v,b,"loop"),ye(v,b,"loopEnd"),ye(v,b,"loopStart"),n(i,()=>i(_))||$2(v),n(r,()=>r(_))||d(v),n(o,()=>o(_))||p(v,_),n(l,()=>l(_))||uf(v),n(h,()=>h(_))||m(v,_),n(c,()=>c(_))||cf(v),u(_,v),v},eS=u=>u===null?null:u.hasOwnProperty("AudioContext")?u.AudioContext:u.hasOwnProperty("webkitAudioContext")?u.webkitAudioContext:null,nS=(u,n)=>(i,r,o)=>{const l=i.destination;if(l.channelCount!==r)try{l.channelCount=r}catch{}o&&l.channelCountMode!=="explicit"&&(l.channelCountMode="explicit"),l.maxChannelCount===0&&Object.defineProperty(l,"maxChannelCount",{value:r});const h=u(i,{channelCount:r,channelCountMode:l.channelCountMode,channelInterpretation:l.channelInterpretation,gain:1});return n(h,"channelCount",c=>()=>c.call(h),c=>d=>{c.call(h,d);try{l.channelCount=d}catch(p){if(d>l.maxChannelCount)throw p}}),n(h,"channelCountMode",c=>()=>c.call(h),c=>d=>{c.call(h,d),l.channelCountMode=d}),n(h,"channelInterpretation",c=>()=>c.call(h),c=>d=>{c.call(h,d),l.channelInterpretation=d}),Object.defineProperty(h,"maxChannelCount",{get:()=>l.maxChannelCount}),h.connect(l),h},iS=u=>u===null?null:u.hasOwnProperty("AudioWorkletNode")?u.AudioWorkletNode:null,sS=u=>{const{port1:n}=new MessageChannel;try{n.postMessage(u)}finally{n.close()}},rS=(u,n,i,r,o)=>(l,h,c,d,p,m)=>{if(c!==null)try{const _=new c(l,d,m),b=new Map;let v=null;if(Object.defineProperties(_,{channelCount:{get:()=>m.channelCount,set:()=>{throw u()}},channelCountMode:{get:()=>"explicit",set:()=>{throw u()}},onprocessorerror:{get:()=>v,set:x=>{typeof v=="function"&&_.removeEventListener("processorerror",v),v=typeof x=="function"?x:null,typeof v=="function"&&_.addEventListener("processorerror",v)}}}),_.addEventListener=(x=>(...y)=>{if(y[0]==="processorerror"){const S=typeof y[1]=="function"?y[1]:typeof y[1]=="object"&&y[1]!==null&&typeof y[1].handleEvent=="function"?y[1].handleEvent:null;if(S!==null){const T=b.get(y[1]);T!==void 0?y[1]=T:(y[1]=N=>{N.type==="error"?(Object.defineProperties(N,{type:{value:"processorerror"}}),S(N)):S(new ErrorEvent(y[0],{...N}))},b.set(S,y[1]))}}return x.call(_,"error",y[1],y[2]),x.call(_,...y)})(_.addEventListener),_.removeEventListener=(x=>(...y)=>{if(y[0]==="processorerror"){const S=b.get(y[1]);S!==void 0&&(b.delete(y[1]),y[1]=S)}return x.call(_,"error",y[1],y[2]),x.call(_,y[0],y[1],y[2])})(_.removeEventListener),m.numberOfOutputs!==0){const x=i(l,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});return _.connect(x).connect(l.destination),o(_,()=>x.disconnect(),()=>x.connect(l.destination))}return _}catch(_){throw _.code===11?r():_}if(p===void 0)throw r();return sS(m),n(l,h,p,m)},a0=(u,n)=>u===null?512:Math.max(512,Math.min(16384,Math.pow(2,Math.round(Math.log2(u*n))))),aS=u=>new Promise((n,i)=>{const{port1:r,port2:o}=new MessageChannel;r.onmessage=({data:l})=>{r.close(),o.close(),n(l)},r.onmessageerror=({data:l})=>{r.close(),o.close(),i(l)},o.postMessage(u)}),oS=async(u,n)=>{const i=await aS(n);return new u(i)},lS=(u,n,i,r)=>{let o=Xh.get(u);o===void 0&&(o=new WeakMap,Xh.set(u,o));const l=oS(i,r);return o.set(n,l),l},uS=(u,n,i,r,o,l,h,c,d,p,m,_,b)=>(v,x,y,S)=>{if(S.numberOfInputs===0&&S.numberOfOutputs===0)throw d();const T=Array.isArray(S.outputChannelCount)?S.outputChannelCount:Array.from(S.outputChannelCount);if(T.some(Q=>Q<1))throw d();if(T.length!==S.numberOfOutputs)throw n();if(S.channelCountMode!=="explicit")throw d();const N=S.channelCount*S.numberOfInputs,O=T.reduce((Q,K)=>Q+K,0),E=y.parameterDescriptors===void 0?0:y.parameterDescriptors.length;if(N+E>6||O>6)throw d();const C=new MessageChannel,U=[],R=[];for(let Q=0;Q<S.numberOfInputs;Q+=1)U.push(h(v,{channelCount:S.channelCount,channelCountMode:S.channelCountMode,channelInterpretation:S.channelInterpretation,gain:1})),R.push(o(v,{channelCount:S.channelCount,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:S.channelCount}));const z=[];if(y.parameterDescriptors!==void 0)for(const{defaultValue:Q,maxValue:K,minValue:q,name:I}of y.parameterDescriptors){const Y=l(v,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:S.parameterData[I]!==void 0?S.parameterData[I]:Q===void 0?0:Q});Object.defineProperties(Y.offset,{defaultValue:{get:()=>Q===void 0?0:Q},maxValue:{get:()=>K===void 0?rn:K},minValue:{get:()=>q===void 0?fn:q}}),z.push(Y)}const V=r(v,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:Math.max(1,N+E)}),P=a0(x,v.sampleRate),et=c(v,P,N+E,Math.max(1,O)),D=o(v,{channelCount:Math.max(1,O),channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:Math.max(1,O)}),X=[];for(let Q=0;Q<S.numberOfOutputs;Q+=1)X.push(r(v,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:T[Q]}));for(let Q=0;Q<S.numberOfInputs;Q+=1){U[Q].connect(R[Q]);for(let K=0;K<S.channelCount;K+=1)R[Q].connect(V,K,Q*S.channelCount+K)}const w=new i0(y.parameterDescriptors===void 0?[]:y.parameterDescriptors.map(({name:Q},K)=>{const q=z[K];return q.connect(V,0,N+K),q.start(0),[Q,q.offset]}));V.connect(et);let J=S.channelInterpretation,Z=null;const H=S.numberOfOutputs===0?[et]:X,ht={get bufferSize(){return P},get channelCount(){return S.channelCount},set channelCount(Q){throw i()},get channelCountMode(){return S.channelCountMode},set channelCountMode(Q){throw i()},get channelInterpretation(){return J},set channelInterpretation(Q){for(const K of U)K.channelInterpretation=Q;J=Q},get context(){return et.context},get inputs(){return U},get numberOfInputs(){return S.numberOfInputs},get numberOfOutputs(){return S.numberOfOutputs},get onprocessorerror(){return Z},set onprocessorerror(Q){typeof Z=="function"&&ht.removeEventListener("processorerror",Z),Z=typeof Q=="function"?Q:null,typeof Z=="function"&&ht.addEventListener("processorerror",Z)},get parameters(){return w},get port(){return C.port2},addEventListener(...Q){return et.addEventListener(Q[0],Q[1],Q[2])},connect:u.bind(null,H),disconnect:p.bind(null,H),dispatchEvent(...Q){return et.dispatchEvent(Q[0])},removeEventListener(...Q){return et.removeEventListener(Q[0],Q[1],Q[2])}},tt=new Map;C.port1.addEventListener=(Q=>(...K)=>{if(K[0]==="message"){const q=typeof K[1]=="function"?K[1]:typeof K[1]=="object"&&K[1]!==null&&typeof K[1].handleEvent=="function"?K[1].handleEvent:null;if(q!==null){const I=tt.get(K[1]);I!==void 0?K[1]=I:(K[1]=Y=>{m(v.currentTime,v.sampleRate,()=>q(Y))},tt.set(q,K[1]))}}return Q.call(C.port1,K[0],K[1],K[2])})(C.port1.addEventListener),C.port1.removeEventListener=(Q=>(...K)=>{if(K[0]==="message"){const q=tt.get(K[1]);q!==void 0&&(tt.delete(K[1]),K[1]=q)}return Q.call(C.port1,K[0],K[1],K[2])})(C.port1.removeEventListener);let j=null;Object.defineProperty(C.port1,"onmessage",{get:()=>j,set:Q=>{typeof j=="function"&&C.port1.removeEventListener("message",j),j=typeof Q=="function"?Q:null,typeof j=="function"&&(C.port1.addEventListener("message",j),C.port1.start())}}),y.prototype.port=C.port1;let B=null;lS(v,ht,y,S).then(Q=>B=Q);const ut=Il(S.numberOfInputs,S.channelCount),ct=Il(S.numberOfOutputs,T),rt=y.parameterDescriptors===void 0?[]:y.parameterDescriptors.reduce((Q,{name:K})=>({...Q,[K]:new Float32Array(128)}),{});let vt=!0;const St=()=>{S.numberOfOutputs>0&&et.disconnect(D);for(let Q=0,K=0;Q<S.numberOfOutputs;Q+=1){const q=X[Q];for(let I=0;I<T[Q];I+=1)D.disconnect(q,K+I,I);K+=T[Q]}},ot=new Map;et.onaudioprocess=({inputBuffer:Q,outputBuffer:K})=>{if(B!==null){const q=_(ht);for(let I=0;I<P;I+=128){for(let Y=0;Y<S.numberOfInputs;Y+=1)for(let ft=0;ft<S.channelCount;ft+=1)Bl(Q,ut[Y],ft,ft,I);y.parameterDescriptors!==void 0&&y.parameterDescriptors.forEach(({name:Y},ft)=>{Bl(Q,rt,Y,N+ft,I)});for(let Y=0;Y<S.numberOfInputs;Y+=1)for(let ft=0;ft<T[Y];ft+=1)ct[Y][ft].byteLength===0&&(ct[Y][ft]=new Float32Array(128));try{const Y=ut.map((pt,nt)=>{if(q[nt].size>0)return ot.set(nt,P/128),pt;const Tt=ot.get(nt);return Tt===void 0?[]:(pt.every(bt=>bt.every(Ct=>Ct===0))&&(Tt===1?ot.delete(nt):ot.set(nt,Tt-1)),pt)});vt=m(v.currentTime+I/v.sampleRate,v.sampleRate,()=>B.process(Y,ct,rt));for(let pt=0,nt=0;pt<S.numberOfOutputs;pt+=1){for(let _t=0;_t<T[pt];_t+=1)s0(K,ct[pt],_t,nt+_t,I);nt+=T[pt]}}catch(Y){vt=!1,ht.dispatchEvent(new ErrorEvent("processorerror",{colno:Y.colno,filename:Y.filename,lineno:Y.lineno,message:Y.message}))}if(!vt){for(let Y=0;Y<S.numberOfInputs;Y+=1){U[Y].disconnect(R[Y]);for(let ft=0;ft<S.channelCount;ft+=1)R[I].disconnect(V,ft,Y*S.channelCount+ft)}if(y.parameterDescriptors!==void 0){const Y=y.parameterDescriptors.length;for(let ft=0;ft<Y;ft+=1){const pt=z[ft];pt.disconnect(V,0,N+ft),pt.stop()}}V.disconnect(et),et.onaudioprocess=null,At?St():ue();break}}}};let At=!1;const Et=h(v,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0}),Bt=()=>et.connect(Et).connect(v.destination),ue=()=>{et.disconnect(Et),Et.disconnect()},$t=()=>{if(vt){ue(),S.numberOfOutputs>0&&et.connect(D);for(let Q=0,K=0;Q<S.numberOfOutputs;Q+=1){const q=X[Q];for(let I=0;I<T[Q];I+=1)D.connect(q,K+I,I);K+=T[Q]}}At=!0},A=()=>{vt&&(Bt(),St()),At=!1};return Bt(),b(ht,$t,A)},o0=(u,n)=>{const i=u.createBiquadFilter();return qe(i,n),Ae(i,n,"Q"),Ae(i,n,"detune"),Ae(i,n,"frequency"),Ae(i,n,"gain"),ye(i,n,"type"),i},cS=(u,n)=>(i,r)=>{const o=i.createChannelMerger(r.numberOfInputs);return u!==null&&u.name==="webkitAudioContext"&&n(i,o),qe(o,r),o},hS=u=>{const n=u.numberOfOutputs;Object.defineProperty(u,"channelCount",{get:()=>n,set:i=>{if(i!==n)throw Ze()}}),Object.defineProperty(u,"channelCountMode",{get:()=>"explicit",set:i=>{if(i!=="explicit")throw Ze()}}),Object.defineProperty(u,"channelInterpretation",{get:()=>"discrete",set:i=>{if(i!=="discrete")throw Ze()}})},io=(u,n)=>{const i=u.createChannelSplitter(n.numberOfOutputs);return qe(i,n),hS(i),i},fS=(u,n,i,r,o)=>(l,h)=>{if(l.createConstantSource===void 0)return i(l,h);const c=l.createConstantSource();return qe(c,h),Ae(c,h,"offset"),n(r,()=>r(l))||uf(c),n(o,()=>o(l))||cf(c),u(l,c),c},Hr=(u,n)=>(u.connect=n.connect.bind(n),u.disconnect=n.disconnect.bind(n),u),dS=(u,n,i,r)=>(o,{offset:l,...h})=>{const c=o.createBuffer(1,2,44100),d=n(o,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),p=i(o,{...h,gain:l}),m=c.getChannelData(0);m[0]=1,m[1]=1,d.buffer=c,d.loop=!0;const _={get bufferSize(){},get channelCount(){return p.channelCount},set channelCount(x){p.channelCount=x},get channelCountMode(){return p.channelCountMode},set channelCountMode(x){p.channelCountMode=x},get channelInterpretation(){return p.channelInterpretation},set channelInterpretation(x){p.channelInterpretation=x},get context(){return p.context},get inputs(){return[]},get numberOfInputs(){return d.numberOfInputs},get numberOfOutputs(){return p.numberOfOutputs},get offset(){return p.gain},get onended(){return d.onended},set onended(x){d.onended=x},addEventListener(...x){return d.addEventListener(x[0],x[1],x[2])},dispatchEvent(...x){return d.dispatchEvent(x[0])},removeEventListener(...x){return d.removeEventListener(x[0],x[1],x[2])},start(x=0){d.start.call(d,x)},stop(x=0){d.stop.call(d,x)}},b=()=>d.connect(p),v=()=>d.disconnect(p);return u(o,d),r(Hr(_,p),b,v)},pS=(u,n)=>(i,r)=>{const o=i.createConvolver();if(qe(o,r),r.disableNormalization===o.normalize&&(o.normalize=!r.disableNormalization),ye(o,r,"buffer"),r.channelCount>2||(n(o,"channelCount",l=>()=>l.call(o),l=>h=>{if(h>2)throw u();return l.call(o,h)}),r.channelCountMode==="max"))throw u();return n(o,"channelCountMode",l=>()=>l.call(o),l=>h=>{if(h==="max")throw u();return l.call(o,h)}),o},l0=(u,n)=>{const i=u.createDelay(n.maxDelayTime);return qe(i,n),Ae(i,n,"delayTime"),i},mS=u=>(n,i)=>{const r=n.createDynamicsCompressor();if(qe(r,i),i.channelCount>2||i.channelCountMode==="max")throw u();return Ae(r,i,"attack"),Ae(r,i,"knee"),Ae(r,i,"ratio"),Ae(r,i,"release"),Ae(r,i,"threshold"),r},pn=(u,n)=>{const i=u.createGain();return qe(i,n),Ae(i,n,"gain"),i},gS=u=>(n,i,r)=>{if(n.createIIRFilter===void 0)return u(n,i,r);const o=n.createIIRFilter(r.feedforward,r.feedback);return qe(o,r),o};function _S(u,n){const i=n[0]*n[0]+n[1]*n[1];return[(u[0]*n[0]+u[1]*n[1])/i,(u[1]*n[0]-u[0]*n[1])/i]}function vS(u,n){return[u[0]*n[0]-u[1]*n[1],u[0]*n[1]+u[1]*n[0]]}function Jg(u,n){let i=[0,0];for(let r=u.length-1;r>=0;r-=1)i=vS(i,n),i[0]+=u[r];return i}const yS=(u,n,i,r)=>(o,l,{channelCount:h,channelCountMode:c,channelInterpretation:d,feedback:p,feedforward:m})=>{const _=a0(l,o.sampleRate),b=p instanceof Float64Array?p:new Float64Array(p),v=m instanceof Float64Array?m:new Float64Array(m),x=b.length,y=v.length,S=Math.min(x,y);if(x===0||x>20)throw r();if(b[0]===0)throw n();if(y===0||y>20)throw r();if(v[0]===0)throw n();if(b[0]!==1){for(let z=0;z<y;z+=1)v[z]/=b[0];for(let z=1;z<x;z+=1)b[z]/=b[0]}const T=i(o,_,h,h);T.channelCount=h,T.channelCountMode=c,T.channelInterpretation=d;const N=32,O=[],E=[],C=[];for(let z=0;z<h;z+=1){O.push(0);const V=new Float32Array(N),P=new Float32Array(N);V.fill(0),P.fill(0),E.push(V),C.push(P)}T.onaudioprocess=z=>{const V=z.inputBuffer,P=z.outputBuffer,et=V.numberOfChannels;for(let D=0;D<et;D+=1){const X=V.getChannelData(D),w=P.getChannelData(D);O[D]=r0(b,x,v,y,S,E[D],C[D],O[D],N,X,w)}};const U=o.sampleRate/2;return Hr({get bufferSize(){return _},get channelCount(){return T.channelCount},set channelCount(z){T.channelCount=z},get channelCountMode(){return T.channelCountMode},set channelCountMode(z){T.channelCountMode=z},get channelInterpretation(){return T.channelInterpretation},set channelInterpretation(z){T.channelInterpretation=z},get context(){return T.context},get inputs(){return[T]},get numberOfInputs(){return T.numberOfInputs},get numberOfOutputs(){return T.numberOfOutputs},addEventListener(...z){return T.addEventListener(z[0],z[1],z[2])},dispatchEvent(...z){return T.dispatchEvent(z[0])},getFrequencyResponse(z,V,P){if(z.length!==V.length||V.length!==P.length)throw u();const et=z.length;for(let D=0;D<et;D+=1){const X=-Math.PI*(z[D]/U),w=[Math.cos(X),Math.sin(X)],J=Jg(v,w),Z=Jg(b,w),H=_S(J,Z);V[D]=Math.sqrt(H[0]*H[0]+H[1]*H[1]),P[D]=Math.atan2(H[1],H[0])}},removeEventListener(...z){return T.removeEventListener(z[0],z[1],z[2])}},T)},bS=(u,n)=>u.createMediaElementSource(n.mediaElement),SS=(u,n)=>{const i=u.createMediaStreamDestination();return qe(i,n),i.numberOfOutputs===1&&Object.defineProperty(i,"numberOfOutputs",{get:()=>0}),i},xS=(u,{mediaStream:n})=>{const i=n.getAudioTracks();i.sort((l,h)=>l.id<h.id?-1:l.id>h.id?1:0);const r=i.slice(0,1),o=u.createMediaStreamSource(new MediaStream(r));return Object.defineProperty(o,"mediaStream",{value:n}),o},TS=(u,n)=>(i,{mediaStreamTrack:r})=>{if(typeof i.createMediaStreamTrackSource=="function")return i.createMediaStreamTrackSource(r);const o=new MediaStream([r]),l=i.createMediaStreamSource(o);if(r.kind!=="audio")throw u();if(n(i))throw new TypeError;return l},wS=u=>u===null?null:u.hasOwnProperty("OfflineAudioContext")?u.OfflineAudioContext:u.hasOwnProperty("webkitOfflineAudioContext")?u.webkitOfflineAudioContext:null,AS=(u,n,i,r,o,l)=>(h,c)=>{const d=h.createOscillator();return qe(d,c),Ae(d,c,"detune"),Ae(d,c,"frequency"),c.periodicWave!==void 0?d.setPeriodicWave(c.periodicWave):ye(d,c,"type"),n(i,()=>i(h))||uf(d),n(r,()=>r(h))||l(d,h),n(o,()=>o(h))||cf(d),u(h,d),d},kS=u=>(n,i)=>{const r=n.createPanner();return r.orientationX===void 0?u(n,i):(qe(r,i),Ae(r,i,"orientationX"),Ae(r,i,"orientationY"),Ae(r,i,"orientationZ"),Ae(r,i,"positionX"),Ae(r,i,"positionY"),Ae(r,i,"positionZ"),ye(r,i,"coneInnerAngle"),ye(r,i,"coneOuterAngle"),ye(r,i,"coneOuterGain"),ye(r,i,"distanceModel"),ye(r,i,"maxDistance"),ye(r,i,"panningModel"),ye(r,i,"refDistance"),ye(r,i,"rolloffFactor"),r)},CS=(u,n,i,r,o,l,h,c,d,p)=>(m,{coneInnerAngle:_,coneOuterAngle:b,coneOuterGain:v,distanceModel:x,maxDistance:y,orientationX:S,orientationY:T,orientationZ:N,panningModel:O,positionX:E,positionY:C,positionZ:U,refDistance:R,rolloffFactor:z,...V})=>{const P=m.createPanner();if(V.channelCount>2||V.channelCountMode==="max")throw h();qe(P,V);const et={channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete"},D=i(m,{...et,channelInterpretation:"speakers",numberOfInputs:6}),X=r(m,{...V,gain:1}),w=r(m,{...et,gain:1}),J=r(m,{...et,gain:0}),Z=r(m,{...et,gain:0}),H=r(m,{...et,gain:0}),ht=r(m,{...et,gain:0}),tt=r(m,{...et,gain:0}),j=o(m,256,6,1),B=l(m,{...et,curve:new Float32Array([1,1]),oversample:"none"});let F=[S,T,N],ut=[E,C,U];const ct=new Float32Array(1);j.onaudioprocess=({inputBuffer:ot})=>{const At=[d(ot,ct,0),d(ot,ct,1),d(ot,ct,2)];At.some((Bt,ue)=>Bt!==F[ue])&&(P.setOrientation(...At),F=At);const Et=[d(ot,ct,3),d(ot,ct,4),d(ot,ct,5)];Et.some((Bt,ue)=>Bt!==ut[ue])&&(P.setPosition(...Et),ut=Et)},Object.defineProperty(J.gain,"defaultValue",{get:()=>0}),Object.defineProperty(Z.gain,"defaultValue",{get:()=>0}),Object.defineProperty(H.gain,"defaultValue",{get:()=>0}),Object.defineProperty(ht.gain,"defaultValue",{get:()=>0}),Object.defineProperty(tt.gain,"defaultValue",{get:()=>0});const rt={get bufferSize(){},get channelCount(){return P.channelCount},set channelCount(ot){if(ot>2)throw h();X.channelCount=ot,P.channelCount=ot},get channelCountMode(){return P.channelCountMode},set channelCountMode(ot){if(ot==="max")throw h();X.channelCountMode=ot,P.channelCountMode=ot},get channelInterpretation(){return P.channelInterpretation},set channelInterpretation(ot){X.channelInterpretation=ot,P.channelInterpretation=ot},get coneInnerAngle(){return P.coneInnerAngle},set coneInnerAngle(ot){P.coneInnerAngle=ot},get coneOuterAngle(){return P.coneOuterAngle},set coneOuterAngle(ot){P.coneOuterAngle=ot},get coneOuterGain(){return P.coneOuterGain},set coneOuterGain(ot){if(ot<0||ot>1)throw n();P.coneOuterGain=ot},get context(){return P.context},get distanceModel(){return P.distanceModel},set distanceModel(ot){P.distanceModel=ot},get inputs(){return[X]},get maxDistance(){return P.maxDistance},set maxDistance(ot){if(ot<0)throw new RangeError;P.maxDistance=ot},get numberOfInputs(){return P.numberOfInputs},get numberOfOutputs(){return P.numberOfOutputs},get orientationX(){return w.gain},get orientationY(){return J.gain},get orientationZ(){return Z.gain},get panningModel(){return P.panningModel},set panningModel(ot){P.panningModel=ot},get positionX(){return H.gain},get positionY(){return ht.gain},get positionZ(){return tt.gain},get refDistance(){return P.refDistance},set refDistance(ot){if(ot<0)throw new RangeError;P.refDistance=ot},get rolloffFactor(){return P.rolloffFactor},set rolloffFactor(ot){if(ot<0)throw new RangeError;P.rolloffFactor=ot},addEventListener(...ot){return X.addEventListener(ot[0],ot[1],ot[2])},dispatchEvent(...ot){return X.dispatchEvent(ot[0])},removeEventListener(...ot){return X.removeEventListener(ot[0],ot[1],ot[2])}};_!==rt.coneInnerAngle&&(rt.coneInnerAngle=_),b!==rt.coneOuterAngle&&(rt.coneOuterAngle=b),v!==rt.coneOuterGain&&(rt.coneOuterGain=v),x!==rt.distanceModel&&(rt.distanceModel=x),y!==rt.maxDistance&&(rt.maxDistance=y),S!==rt.orientationX.value&&(rt.orientationX.value=S),T!==rt.orientationY.value&&(rt.orientationY.value=T),N!==rt.orientationZ.value&&(rt.orientationZ.value=N),O!==rt.panningModel&&(rt.panningModel=O),E!==rt.positionX.value&&(rt.positionX.value=E),C!==rt.positionY.value&&(rt.positionY.value=C),U!==rt.positionZ.value&&(rt.positionZ.value=U),R!==rt.refDistance&&(rt.refDistance=R),z!==rt.rolloffFactor&&(rt.rolloffFactor=z),(F[0]!==1||F[1]!==0||F[2]!==0)&&P.setOrientation(...F),(ut[0]!==0||ut[1]!==0||ut[2]!==0)&&P.setPosition(...ut);const vt=()=>{X.connect(P),u(X,B,0,0),B.connect(w).connect(D,0,0),B.connect(J).connect(D,0,1),B.connect(Z).connect(D,0,2),B.connect(H).connect(D,0,3),B.connect(ht).connect(D,0,4),B.connect(tt).connect(D,0,5),D.connect(j).connect(m.destination)},St=()=>{X.disconnect(P),c(X,B,0,0),B.disconnect(w),w.disconnect(D),B.disconnect(J),J.disconnect(D),B.disconnect(Z),Z.disconnect(D),B.disconnect(H),H.disconnect(D),B.disconnect(ht),ht.disconnect(D),B.disconnect(tt),tt.disconnect(D),D.disconnect(j),j.disconnect(m.destination)};return p(Hr(rt,P),vt,St)},NS=u=>(n,{disableNormalization:i,imag:r,real:o})=>{const l=r instanceof Float32Array?r:new Float32Array(r),h=o instanceof Float32Array?o:new Float32Array(o),c=n.createPeriodicWave(h,l,{disableNormalization:i});if(Array.from(r).length<2)throw u();return c},so=(u,n,i,r)=>u.createScriptProcessor(n,i,r),ES=(u,n)=>(i,r)=>{const o=r.channelCountMode;if(o==="clamped-max")throw n();if(i.createStereoPanner===void 0)return u(i,r);const l=i.createStereoPanner();return qe(l,r),Ae(l,r,"pan"),Object.defineProperty(l,"channelCountMode",{get:()=>o,set:h=>{if(h!==o)throw n()}}),l},OS=(u,n,i,r,o,l)=>{const c=new Float32Array([1,1]),d=Math.PI/2,p={channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete"},m={...p,oversample:"none"},_=(x,y,S,T)=>{const N=new Float32Array(16385),O=new Float32Array(16385);for(let V=0;V<16385;V+=1){const P=V/16384*d;N[V]=Math.cos(P),O[V]=Math.sin(P)}const E=i(x,{...p,gain:0}),C=r(x,{...m,curve:N}),U=r(x,{...m,curve:c}),R=i(x,{...p,gain:0}),z=r(x,{...m,curve:O});return{connectGraph(){y.connect(E),y.connect(U.inputs===void 0?U:U.inputs[0]),y.connect(R),U.connect(S),S.connect(C.inputs===void 0?C:C.inputs[0]),S.connect(z.inputs===void 0?z:z.inputs[0]),C.connect(E.gain),z.connect(R.gain),E.connect(T,0,0),R.connect(T,0,1)},disconnectGraph(){y.disconnect(E),y.disconnect(U.inputs===void 0?U:U.inputs[0]),y.disconnect(R),U.disconnect(S),S.disconnect(C.inputs===void 0?C:C.inputs[0]),S.disconnect(z.inputs===void 0?z:z.inputs[0]),C.disconnect(E.gain),z.disconnect(R.gain),E.disconnect(T,0,0),R.disconnect(T,0,1)}}},b=(x,y,S,T)=>{const N=new Float32Array(16385),O=new Float32Array(16385),E=new Float32Array(16385),C=new Float32Array(16385),U=Math.floor(16385/2);for(let H=0;H<16385;H+=1)if(H>U){const ht=(H-U)/(16384-U)*d;N[H]=Math.cos(ht),O[H]=Math.sin(ht),E[H]=0,C[H]=1}else{const ht=H/(16384-U)*d;N[H]=1,O[H]=0,E[H]=Math.cos(ht),C[H]=Math.sin(ht)}const R=n(x,{channelCount:2,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:2}),z=i(x,{...p,gain:0}),V=r(x,{...m,curve:N}),P=i(x,{...p,gain:0}),et=r(x,{...m,curve:O}),D=r(x,{...m,curve:c}),X=i(x,{...p,gain:0}),w=r(x,{...m,curve:E}),J=i(x,{...p,gain:0}),Z=r(x,{...m,curve:C});return{connectGraph(){y.connect(R),y.connect(D.inputs===void 0?D:D.inputs[0]),R.connect(z,0),R.connect(P,0),R.connect(X,1),R.connect(J,1),D.connect(S),S.connect(V.inputs===void 0?V:V.inputs[0]),S.connect(et.inputs===void 0?et:et.inputs[0]),S.connect(w.inputs===void 0?w:w.inputs[0]),S.connect(Z.inputs===void 0?Z:Z.inputs[0]),V.connect(z.gain),et.connect(P.gain),w.connect(X.gain),Z.connect(J.gain),z.connect(T,0,0),X.connect(T,0,0),P.connect(T,0,1),J.connect(T,0,1)},disconnectGraph(){y.disconnect(R),y.disconnect(D.inputs===void 0?D:D.inputs[0]),R.disconnect(z,0),R.disconnect(P,0),R.disconnect(X,1),R.disconnect(J,1),D.disconnect(S),S.disconnect(V.inputs===void 0?V:V.inputs[0]),S.disconnect(et.inputs===void 0?et:et.inputs[0]),S.disconnect(w.inputs===void 0?w:w.inputs[0]),S.disconnect(Z.inputs===void 0?Z:Z.inputs[0]),V.disconnect(z.gain),et.disconnect(P.gain),w.disconnect(X.gain),Z.disconnect(J.gain),z.disconnect(T,0,0),X.disconnect(T,0,0),P.disconnect(T,0,1),J.disconnect(T,0,1)}}},v=(x,y,S,T,N)=>{if(y===1)return _(x,S,T,N);if(y===2)return b(x,S,T,N);throw o()};return(x,{channelCount:y,channelCountMode:S,pan:T,...N})=>{if(S==="max")throw o();const O=u(x,{...N,channelCount:1,channelCountMode:S,numberOfInputs:2}),E=i(x,{...N,channelCount:y,channelCountMode:S,gain:1}),C=i(x,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:T});let{connectGraph:U,disconnectGraph:R}=v(x,y,E,C,O);Object.defineProperty(C.gain,"defaultValue",{get:()=>0}),Object.defineProperty(C.gain,"maxValue",{get:()=>1}),Object.defineProperty(C.gain,"minValue",{get:()=>-1});const z={get bufferSize(){},get channelCount(){return E.channelCount},set channelCount(D){E.channelCount!==D&&(V&&R(),{connectGraph:U,disconnectGraph:R}=v(x,D,E,C,O),V&&U()),E.channelCount=D},get channelCountMode(){return E.channelCountMode},set channelCountMode(D){if(D==="clamped-max"||D==="max")throw o();E.channelCountMode=D},get channelInterpretation(){return E.channelInterpretation},set channelInterpretation(D){E.channelInterpretation=D},get context(){return E.context},get inputs(){return[E]},get numberOfInputs(){return E.numberOfInputs},get numberOfOutputs(){return E.numberOfOutputs},get pan(){return C.gain},addEventListener(...D){return E.addEventListener(D[0],D[1],D[2])},dispatchEvent(...D){return E.dispatchEvent(D[0])},removeEventListener(...D){return E.removeEventListener(D[0],D[1],D[2])}};let V=!1;const P=()=>{U(),V=!0},et=()=>{R(),V=!1};return l(Hr(z,O),P,et)}},MS=(u,n,i,r,o,l,h)=>(c,d)=>{const p=c.createWaveShaper();if(l!==null&&l.name==="webkitAudioContext"&&c.createGain().gain.automationRate===void 0)return i(c,d);qe(p,d);const m=d.curve===null||d.curve instanceof Float32Array?d.curve:new Float32Array(d.curve);if(m!==null&&m.length<2)throw n();ye(p,{curve:m},"curve"),ye(p,d,"oversample");let _=null,b=!1;return h(p,"curve",y=>()=>y.call(p),y=>S=>(y.call(p,S),b&&(r(S)&&_===null?_=u(c,p):!r(S)&&_!==null&&(_(),_=null)),S)),o(p,()=>{b=!0,r(p.curve)&&(_=u(c,p))},()=>{b=!1,_!==null&&(_(),_=null)})},DS=(u,n,i,r,o)=>(l,{curve:h,oversample:c,...d})=>{const p=l.createWaveShaper(),m=l.createWaveShaper();qe(p,d),qe(m,d);const _=i(l,{...d,gain:1}),b=i(l,{...d,gain:-1}),v=i(l,{...d,gain:1}),x=i(l,{...d,gain:-1});let y=null,S=!1,T=null;const N={get bufferSize(){},get channelCount(){return p.channelCount},set channelCount(C){_.channelCount=C,b.channelCount=C,p.channelCount=C,v.channelCount=C,m.channelCount=C,x.channelCount=C},get channelCountMode(){return p.channelCountMode},set channelCountMode(C){_.channelCountMode=C,b.channelCountMode=C,p.channelCountMode=C,v.channelCountMode=C,m.channelCountMode=C,x.channelCountMode=C},get channelInterpretation(){return p.channelInterpretation},set channelInterpretation(C){_.channelInterpretation=C,b.channelInterpretation=C,p.channelInterpretation=C,v.channelInterpretation=C,m.channelInterpretation=C,x.channelInterpretation=C},get context(){return p.context},get curve(){return T},set curve(C){if(C!==null&&C.length<2)throw n();if(C===null)p.curve=C,m.curve=C;else{const U=C.length,R=new Float32Array(U+2-U%2),z=new Float32Array(U+2-U%2);R[0]=C[0],z[0]=-C[U-1];const V=Math.ceil((U+1)/2),P=(U+1)/2-1;for(let et=1;et<V;et+=1){const D=et/V*P,X=Math.floor(D),w=Math.ceil(D);R[et]=X===w?C[X]:(1-(D-X))*C[X]+(1-(w-D))*C[w],z[et]=X===w?-C[U-1-X]:-((1-(D-X))*C[U-1-X])-(1-(w-D))*C[U-1-w]}R[V]=U%2===1?C[V-1]:(C[V-2]+C[V-1])/2,p.curve=R,m.curve=z}T=C,S&&(r(T)&&y===null?y=u(l,_):y!==null&&(y(),y=null))},get inputs(){return[_]},get numberOfInputs(){return p.numberOfInputs},get numberOfOutputs(){return p.numberOfOutputs},get oversample(){return p.oversample},set oversample(C){p.oversample=C,m.oversample=C},addEventListener(...C){return _.addEventListener(C[0],C[1],C[2])},dispatchEvent(...C){return _.dispatchEvent(C[0])},removeEventListener(...C){return _.removeEventListener(C[0],C[1],C[2])}};h!==null&&(N.curve=h instanceof Float32Array?h:new Float32Array(h)),c!==N.oversample&&(N.oversample=c);const O=()=>{_.connect(p).connect(v),_.connect(b).connect(m).connect(x).connect(v),S=!0,r(T)&&(y=u(l,_))},E=()=>{_.disconnect(p),p.disconnect(v),_.disconnect(b),b.disconnect(m),m.disconnect(x),x.disconnect(v),S=!1,y!==null&&(y(),y=null)};return o(Hr(N,v),O,E)},on=()=>new DOMException("","NotSupportedError"),RS={numberOfChannels:1},zS=(u,n,i,r,o)=>class extends u{constructor(h,c,d){let p;if(typeof h=="number"&&c!==void 0&&d!==void 0)p={length:c,numberOfChannels:h,sampleRate:d};else if(typeof h=="object")p=h;else throw new Error("The given parameters are not valid.");const{length:m,numberOfChannels:_,sampleRate:b}={...RS,...p},v=r(_,m,b);n(Ka,()=>Ka(v))||v.addEventListener("statechange",(()=>{let x=0;const y=S=>{this._state==="running"&&(x>0?(v.removeEventListener("statechange",y),S.stopImmediatePropagation(),this._waitForThePromiseToSettle(S)):x+=1)};return y})()),super(v,_),this._length=m,this._nativeOfflineAudioContext=v,this._state=null}get length(){return this._nativeOfflineAudioContext.length===void 0?this._length:this._nativeOfflineAudioContext.length}get state(){return this._state===null?this._nativeOfflineAudioContext.state:this._state}startRendering(){return this._state==="running"?Promise.reject(i()):(this._state="running",o(this.destination,this._nativeOfflineAudioContext).finally(()=>{this._state=null,$_(this)}))}_waitForThePromiseToSettle(h){this._state===null?this._nativeOfflineAudioContext.dispatchEvent(h):setTimeout(()=>this._waitForThePromiseToSettle(h))}},jS={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",detune:0,frequency:440,periodicWave:void 0,type:"sine"},US=(u,n,i,r,o,l,h)=>class extends u{constructor(d,p){const m=o(d),_={...jS,...p},b=i(m,_),v=l(m),x=v?r():null,y=d.sampleRate/2;super(d,!1,b,x),this._detune=n(this,v,b.detune,153600,-153600),this._frequency=n(this,v,b.frequency,y,-y),this._nativeOscillatorNode=b,this._onended=null,this._oscillatorNodeRenderer=x,this._oscillatorNodeRenderer!==null&&_.periodicWave!==void 0&&(this._oscillatorNodeRenderer.periodicWave=_.periodicWave)}get detune(){return this._detune}get frequency(){return this._frequency}get onended(){return this._onended}set onended(d){const p=typeof d=="function"?h(this,d):null;this._nativeOscillatorNode.onended=p;const m=this._nativeOscillatorNode.onended;this._onended=m!==null&&m===p?d:m}get type(){return this._nativeOscillatorNode.type}set type(d){this._nativeOscillatorNode.type=d,this._oscillatorNodeRenderer!==null&&(this._oscillatorNodeRenderer.periodicWave=null)}setPeriodicWave(d){this._nativeOscillatorNode.setPeriodicWave(d),this._oscillatorNodeRenderer!==null&&(this._oscillatorNodeRenderer.periodicWave=d)}start(d=0){if(this._nativeOscillatorNode.start(d),this._oscillatorNodeRenderer!==null&&(this._oscillatorNodeRenderer.start=d),this.context.state!=="closed"){zr(this);const p=()=>{this._nativeOscillatorNode.removeEventListener("ended",p),Ai(this)&&to(this)};this._nativeOscillatorNode.addEventListener("ended",p)}}stop(d=0){this._nativeOscillatorNode.stop(d),this._oscillatorNodeRenderer!==null&&(this._oscillatorNodeRenderer.stop=d)}},BS=(u,n,i,r,o)=>()=>{const l=new WeakMap;let h=null,c=null,d=null;const p=async(m,_)=>{let b=i(m);const v=en(b,_);if(!v){const x={channelCount:b.channelCount,channelCountMode:b.channelCountMode,channelInterpretation:b.channelInterpretation,detune:b.detune.value,frequency:b.frequency.value,periodicWave:h===null?void 0:h,type:b.type};b=n(_,x),c!==null&&b.start(c),d!==null&&b.stop(d)}return l.set(_,b),v?(await u(_,m.detune,b.detune),await u(_,m.frequency,b.frequency)):(await r(_,m.detune,b.detune),await r(_,m.frequency,b.frequency)),await o(m,_,b),b};return{set periodicWave(m){h=m},set start(m){c=m},set stop(m){d=m},render(m,_){const b=l.get(_);return b!==void 0?Promise.resolve(b):p(m,_)}}},IS={channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",coneInnerAngle:360,coneOuterAngle:360,coneOuterGain:0,distanceModel:"inverse",maxDistance:1e4,orientationX:1,orientationY:0,orientationZ:0,panningModel:"equalpower",positionX:0,positionY:0,positionZ:0,refDistance:1,rolloffFactor:1},qS=(u,n,i,r,o,l,h)=>class extends u{constructor(d,p){const m=o(d),_={...IS,...p},b=i(m,_),v=l(m),x=v?r():null;super(d,!1,b,x),this._nativePannerNode=b,this._orientationX=n(this,v,b.orientationX,rn,fn),this._orientationY=n(this,v,b.orientationY,rn,fn),this._orientationZ=n(this,v,b.orientationZ,rn,fn),this._positionX=n(this,v,b.positionX,rn,fn),this._positionY=n(this,v,b.positionY,rn,fn),this._positionZ=n(this,v,b.positionZ,rn,fn),h(this,1)}get coneInnerAngle(){return this._nativePannerNode.coneInnerAngle}set coneInnerAngle(d){this._nativePannerNode.coneInnerAngle=d}get coneOuterAngle(){return this._nativePannerNode.coneOuterAngle}set coneOuterAngle(d){this._nativePannerNode.coneOuterAngle=d}get coneOuterGain(){return this._nativePannerNode.coneOuterGain}set coneOuterGain(d){this._nativePannerNode.coneOuterGain=d}get distanceModel(){return this._nativePannerNode.distanceModel}set distanceModel(d){this._nativePannerNode.distanceModel=d}get maxDistance(){return this._nativePannerNode.maxDistance}set maxDistance(d){this._nativePannerNode.maxDistance=d}get orientationX(){return this._orientationX}get orientationY(){return this._orientationY}get orientationZ(){return this._orientationZ}get panningModel(){return this._nativePannerNode.panningModel}set panningModel(d){this._nativePannerNode.panningModel=d}get positionX(){return this._positionX}get positionY(){return this._positionY}get positionZ(){return this._positionZ}get refDistance(){return this._nativePannerNode.refDistance}set refDistance(d){this._nativePannerNode.refDistance=d}get rolloffFactor(){return this._nativePannerNode.rolloffFactor}set rolloffFactor(d){this._nativePannerNode.rolloffFactor=d}},VS=(u,n,i,r,o,l,h,c,d,p)=>()=>{const m=new WeakMap;let _=null;const b=async(v,x)=>{let y=null,S=l(v);const T={channelCount:S.channelCount,channelCountMode:S.channelCountMode,channelInterpretation:S.channelInterpretation},N={...T,coneInnerAngle:S.coneInnerAngle,coneOuterAngle:S.coneOuterAngle,coneOuterGain:S.coneOuterGain,distanceModel:S.distanceModel,maxDistance:S.maxDistance,panningModel:S.panningModel,refDistance:S.refDistance,rolloffFactor:S.rolloffFactor},O=en(S,x);if("bufferSize"in S)y=r(x,{...T,gain:1});else if(!O){const E={...N,orientationX:S.orientationX.value,orientationY:S.orientationY.value,orientationZ:S.orientationZ.value,positionX:S.positionX.value,positionY:S.positionY.value,positionZ:S.positionZ.value};S=o(x,E)}if(m.set(x,y===null?S:y),y!==null){if(_===null){if(h===null)throw new Error("Missing the native OfflineAudioContext constructor.");const et=new h(6,v.context.length,x.sampleRate),D=n(et,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:6});D.connect(et.destination),_=(async()=>{const X=await Promise.all([v.orientationX,v.orientationY,v.orientationZ,v.positionX,v.positionY,v.positionZ].map(async(w,J)=>{const Z=i(et,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:J===0?1:0});return await c(et,w,Z.offset),Z}));for(let w=0;w<6;w+=1)X[w].connect(D,0,w),X[w].start(0);return p(et)})()}const E=await _,C=r(x,{...T,gain:1});await d(v,x,C);const U=[];for(let et=0;et<E.numberOfChannels;et+=1)U.push(E.getChannelData(et));let R=[U[0][0],U[1][0],U[2][0]],z=[U[3][0],U[4][0],U[5][0]],V=r(x,{...T,gain:1}),P=o(x,{...N,orientationX:R[0],orientationY:R[1],orientationZ:R[2],positionX:z[0],positionY:z[1],positionZ:z[2]});C.connect(V).connect(P.inputs[0]),P.connect(y);for(let et=128;et<E.length;et+=128){const D=[U[0][et],U[1][et],U[2][et]],X=[U[3][et],U[4][et],U[5][et]];if(D.some((w,J)=>w!==R[J])||X.some((w,J)=>w!==z[J])){R=D,z=X;const w=et/x.sampleRate;V.gain.setValueAtTime(0,w),V=r(x,{...T,gain:0}),P=o(x,{...N,orientationX:R[0],orientationY:R[1],orientationZ:R[2],positionX:z[0],positionY:z[1],positionZ:z[2]}),V.gain.setValueAtTime(1,w),C.connect(V).connect(P.inputs[0]),P.connect(y)}}return y}return O?(await u(x,v.orientationX,S.orientationX),await u(x,v.orientationY,S.orientationY),await u(x,v.orientationZ,S.orientationZ),await u(x,v.positionX,S.positionX),await u(x,v.positionY,S.positionY),await u(x,v.positionZ,S.positionZ)):(await c(x,v.orientationX,S.orientationX),await c(x,v.orientationY,S.orientationY),await c(x,v.orientationZ,S.orientationZ),await c(x,v.positionX,S.positionX),await c(x,v.positionY,S.positionY),await c(x,v.positionZ,S.positionZ)),Fr(S)?await d(v,x,S.inputs[0]):await d(v,x,S),S};return{render(v,x){const y=m.get(x);return y!==void 0?Promise.resolve(y):b(v,x)}}},LS={disableNormalization:!1},FS=(u,n,i,r)=>class u0{constructor(l,h){const c=n(l),d=r({...LS,...h}),p=u(c,d);return i.add(p),p}static[Symbol.hasInstance](l){return l!==null&&typeof l=="object"&&Object.getPrototypeOf(l)===u0.prototype||i.has(l)}},HS=(u,n)=>(i,r,o)=>(u(r).replay(o),n(r,i,o)),GS=(u,n,i)=>async(r,o,l)=>{const h=u(r);await Promise.all(h.activeInputs.map((c,d)=>Array.from(c).map(async([p,m])=>{const b=await n(p).render(p,o),v=r.context.destination;!i(p)&&(r!==v||!i(r))&&b.connect(l,m,d)})).reduce((c,d)=>[...c,...d],[]))},ZS=(u,n,i)=>async(r,o,l)=>{const h=n(r);await Promise.all(Array.from(h.activeInputs).map(async([c,d])=>{const m=await u(c).render(c,o);i(c)||m.connect(l,d)}))},YS=(u,n,i,r)=>o=>u(Ka,()=>Ka(o))?Promise.resolve(u(r,r)).then(l=>{if(!l){const h=i(o,512,0,1);o.oncomplete=()=>{h.onaudioprocess=null,h.disconnect()},h.onaudioprocess=()=>o.currentTime,h.connect(o.destination)}return o.startRendering()}):new Promise(l=>{const h=n(o,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});o.oncomplete=c=>{h.disconnect(),l(c.renderedBuffer)},h.connect(o.destination),o.startRendering()}),PS=u=>(n,i)=>{u.set(n,i)},XS=u=>(n,i)=>u.set(n,i),WS=(u,n,i,r,o,l,h,c)=>(d,p)=>i(d).render(d,p).then(()=>Promise.all(Array.from(r(p)).map(m=>i(m).render(m,p)))).then(()=>o(p)).then(m=>(typeof m.copyFromChannel!="function"?(h(m),af(m)):n(l,()=>l(m))||c(m),u.add(m),m)),QS={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers",pan:0},KS=(u,n,i,r,o,l)=>class extends u{constructor(c,d){const p=o(c),m={...QS,...d},_=i(p,m),b=l(p),v=b?r():null;super(c,!1,_,v),this._pan=n(this,b,_.pan)}get pan(){return this._pan}},JS=(u,n,i,r,o)=>()=>{const l=new WeakMap,h=async(c,d)=>{let p=i(c);const m=en(p,d);if(!m){const _={channelCount:p.channelCount,channelCountMode:p.channelCountMode,channelInterpretation:p.channelInterpretation,pan:p.pan.value};p=n(d,_)}return l.set(d,p),m?await u(d,c.pan,p.pan):await r(d,c.pan,p.pan),Fr(p)?await o(c,d,p.inputs[0]):await o(c,d,p),p};return{render(c,d){const p=l.get(d);return p!==void 0?Promise.resolve(p):h(c,d)}}},$S=u=>()=>{if(u===null)return!1;try{new u({length:1,sampleRate:44100})}catch{return!1}return!0},tx=(u,n)=>async()=>{if(u===null)return!0;if(n===null)return!1;const i=new Blob(['class A extends AudioWorkletProcessor{process(i){this.port.postMessage(i,[i[0][0].buffer])}}registerProcessor("a",A)'],{type:"application/javascript; charset=utf-8"}),r=new n(1,128,44100),o=URL.createObjectURL(i);let l=!1,h=!1;try{await r.audioWorklet.addModule(o);const c=new u(r,"a",{numberOfOutputs:0}),d=r.createOscillator();c.port.onmessage=()=>l=!0,c.onprocessorerror=()=>h=!0,d.connect(c),d.start(0),await r.startRendering(),await new Promise(p=>setTimeout(p))}catch{}finally{URL.revokeObjectURL(o)}return l&&!h},ex=(u,n)=>()=>{if(n===null)return Promise.resolve(!1);const i=new n(1,1,44100),r=u(i,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});return new Promise(o=>{i.oncomplete=()=>{r.disconnect(),o(i.currentTime!==0)},i.startRendering()})},nx=()=>new DOMException("","UnknownError"),ix={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",curve:null,oversample:"none"},sx=(u,n,i,r,o,l,h)=>class extends u{constructor(d,p){const m=o(d),_={...ix,...p},b=i(m,_),x=l(m)?r():null;super(d,!0,b,x),this._isCurveNullified=!1,this._nativeWaveShaperNode=b,h(this,1)}get curve(){return this._isCurveNullified?null:this._nativeWaveShaperNode.curve}set curve(d){if(d===null)this._isCurveNullified=!0,this._nativeWaveShaperNode.curve=new Float32Array([0,0]);else{if(d.length<2)throw n();this._isCurveNullified=!1,this._nativeWaveShaperNode.curve=d}}get oversample(){return this._nativeWaveShaperNode.oversample}set oversample(d){this._nativeWaveShaperNode.oversample=d}},rx=(u,n,i)=>()=>{const r=new WeakMap,o=async(l,h)=>{let c=n(l);if(!en(c,h)){const p={channelCount:c.channelCount,channelCountMode:c.channelCountMode,channelInterpretation:c.channelInterpretation,curve:c.curve,oversample:c.oversample};c=u(h,p)}return r.set(h,c),Fr(c)?await i(l,h,c.inputs[0]):await i(l,h,c),c};return{render(l,h){const c=r.get(h);return c!==void 0?Promise.resolve(c):o(l,h)}}},ax=()=>typeof window>"u"?null:window,ox=(u,n)=>i=>{i.copyFromChannel=(r,o,l=0)=>{const h=u(l),c=u(o);if(c>=i.numberOfChannels)throw n();const d=i.length,p=i.getChannelData(c),m=r.length;for(let _=h<0?-h:0;_+h<d&&_<m;_+=1)r[_]=p[_+h]},i.copyToChannel=(r,o,l=0)=>{const h=u(l),c=u(o);if(c>=i.numberOfChannels)throw n();const d=i.length,p=i.getChannelData(c),m=r.length;for(let _=h<0?-h:0;_+h<d&&_<m;_+=1)p[_+h]=r[_]}},lx=u=>n=>{n.copyFromChannel=(i=>(r,o,l=0)=>{const h=u(l),c=u(o);if(h<n.length)return i.call(n,r,c,h)})(n.copyFromChannel),n.copyToChannel=(i=>(r,o,l=0)=>{const h=u(l),c=u(o);if(h<n.length)return i.call(n,r,c,h)})(n.copyToChannel)},ux=u=>(n,i)=>{const r=i.createBuffer(1,1,44100);n.buffer===null&&(n.buffer=r),u(n,"buffer",o=>()=>{const l=o.call(n);return l===r?null:l},o=>l=>o.call(n,l===null?r:l))},cx=(u,n)=>(i,r)=>{r.channelCount=1,r.channelCountMode="explicit",Object.defineProperty(r,"channelCount",{get:()=>1,set:()=>{throw u()}}),Object.defineProperty(r,"channelCountMode",{get:()=>"explicit",set:()=>{throw u()}});const o=i.createBufferSource();n(r,()=>{const c=r.numberOfInputs;for(let d=0;d<c;d+=1)o.connect(r,0,d)},()=>o.disconnect(r))},c0=(u,n,i)=>u.copyFromChannel===void 0?u.getChannelData(i)[0]:(u.copyFromChannel(n,i),n[0]),h0=u=>{if(u===null)return!1;const n=u.length;return n%2!==0?u[Math.floor(n/2)]!==0:u[n/2-1]+u[n/2]!==0},ro=(u,n,i,r)=>{let o=u;for(;!o.hasOwnProperty(n);)o=Object.getPrototypeOf(o);const{get:l,set:h}=Object.getOwnPropertyDescriptor(o,n);Object.defineProperty(u,n,{get:i(l),set:r(h)})},hx=u=>({...u,outputChannelCount:u.outputChannelCount!==void 0?u.outputChannelCount:u.numberOfInputs===1&&u.numberOfOutputs===1?[u.channelCount]:Array.from({length:u.numberOfOutputs},()=>1)}),fx=u=>({...u,channelCount:u.numberOfOutputs}),dx=u=>{const{imag:n,real:i}=u;return n===void 0?i===void 0?{...u,imag:[0,0],real:[0,0]}:{...u,imag:Array.from(i,()=>0),real:i}:i===void 0?{...u,imag:n,real:Array.from(n,()=>0)}:{...u,imag:n,real:i}},f0=(u,n,i)=>{try{u.setValueAtTime(n,i)}catch(r){if(r.code!==9)throw r;f0(u,n,i+1e-7)}},px=u=>{const n=u.createBufferSource();n.start();try{n.start()}catch{return!0}return!1},mx=u=>{const n=u.createBufferSource(),i=u.createBuffer(1,1,44100);n.buffer=i;try{n.start(0,1)}catch{return!1}return!0},gx=u=>{const n=u.createBufferSource();n.start();try{n.stop()}catch{return!1}return!0},hf=u=>{const n=u.createOscillator();try{n.start(-1)}catch(i){return i instanceof RangeError}return!1},d0=u=>{const n=u.createBuffer(1,1,44100),i=u.createBufferSource();i.buffer=n,i.start(),i.stop();try{return i.stop(),!0}catch{return!1}},ff=u=>{const n=u.createOscillator();try{n.stop(-1)}catch(i){return i instanceof RangeError}return!1},_x=u=>{const{port1:n,port2:i}=new MessageChannel;try{n.postMessage(u)}finally{n.close(),i.close()}},vx=u=>{u.start=(n=>(i=0,r=0,o)=>{const l=u.buffer,h=l===null?r:Math.min(l.duration,r);l!==null&&h>l.duration-.5/u.context.sampleRate?n.call(u,i,0,0):n.call(u,i,h,o)})(u.start)},p0=(u,n)=>{const i=n.createGain();u.connect(i);const r=(o=>()=>{o.call(u,i),u.removeEventListener("ended",r)})(u.disconnect);u.addEventListener("ended",r),Hr(u,i),u.stop=(o=>{let l=!1;return(h=0)=>{if(l)try{o.call(u,h)}catch{i.gain.setValueAtTime(0,h)}else o.call(u,h),l=!0}})(u.stop)},Gr=(u,n)=>i=>{const r={value:u};return Object.defineProperties(i,{currentTarget:r,target:r}),typeof n=="function"?n.call(u,i):n.handleEvent.call(u,i)},yx=q1(qs),bx=Z1(qs),Sx=i2(Gl),m0=new WeakMap,xx=S2(m0),Wn=Rb(new Map,new WeakMap),ii=ax(),g0=K2(Wn,si),df=b2(an),Qe=GS(an,df,Us),Tx=Q1(g0,_e,Qe),pe=w2(Hl),Ci=wS(ii),le=L2(Ci),_0=new WeakMap,v0=d2(Gr),ao=eS(ii),pf=B2(ao),mf=I2(ii),y0=q2(ii),Ja=iS(ii),Oe=Sb(V1(Y_),G1(yx,bx,zl,Sx,jl,an,xx,$a,_e,qs,Ai,Us,Nl),Wn,D2(Yh,jl,an,_e,Qa,Ai),si,Zl,on,$b(zl,Yh,an,_e,Qa,pe,Ai,le),a2(_0,an,Xn),v0,pe,pf,mf,y0,le,Ja),wx=W1(Oe,Tx,si,g0,pe,le),gf=new WeakSet,$g=J2(ii),b0=Yb(new Uint32Array(1)),_f=ox(b0,si),vf=lx(b0),S0=J1(gf,Wn,on,$g,Ci,$S($g),_f,vf),Yl=Y1(pn),x0=ZS(df,eo,Us),ri=Vb(x0),Zr=tS(Yl,Wn,px,mx,gx,hf,d0,ff,vx,ux(ro),p0),ai=HS(x2(eo),x0),Ax=eb(ri,Zr,_e,ai,Qe),Qn=xb(L1(P_),_0,rf,Tb,R1,z1,j1,U1,B1,Hh,G_,ao,f0),kx=tb(Oe,Ax,Qn,Ze,Zr,pe,le,Gr),Cx=cb(Oe,hb,si,Ze,nS(pn,ro),pe,le,Qe),Nx=Db(ri,o0,_e,ai,Qe),Vs=XS(m0),Ex=Mb(Oe,Qn,Nx,Zl,o0,pe,le,Vs),os=W2(qs,mf),Ox=cx(Ze,os),ls=cS(ao,Ox),Mx=Ub(ls,_e,Qe),Dx=jb(Oe,Mx,ls,pe,le),Rx=qb(io,_e,Qe),zx=Ib(Oe,Rx,io,pe,le,fx),jx=dS(Yl,Zr,pn,os),Yr=fS(Yl,Wn,jx,hf,ff),Ux=Zb(ri,Yr,_e,ai,Qe),Bx=Gb(Oe,Qn,Ux,Yr,pe,le,Gr),T0=pS(on,ro),Ix=Wb(T0,_e,Qe),qx=Xb(Oe,Ix,T0,pe,le,Vs),Vx=n2(ri,l0,_e,ai,Qe),Lx=e2(Oe,Qn,Vx,l0,pe,le,Vs),w0=mS(on),Fx=c2(ri,w0,_e,ai,Qe),Hx=u2(Oe,Qn,Fx,w0,on,pe,le,Vs),Gx=v2(ri,pn,_e,ai,Qe),Zx=_2(Oe,Qn,Gx,pn,pe,le),Yx=yS(Zl,Ze,so,on),Pl=YS(Wn,pn,so,ex(pn,Ci)),Px=M2(Zr,_e,Ci,Qe,Pl),Xx=gS(Yx),Wx=E2(Oe,Xx,Px,pe,le,Vs),Qx=fb(Qn,ls,Yr,so,on,c0,le,ro),A0=new WeakMap,Kx=X2(Cx,Qx,v0,le,A0,Gr),k0=AS(Yl,Wn,hf,d0,ff,p0),Jx=BS(ri,k0,_e,ai,Qe),$x=US(Oe,Qn,k0,Jx,pe,le,Gr),C0=Fb(Zr),tT=DS(C0,Ze,pn,h0,os),Xl=MS(C0,Ze,tT,h0,os,ao,ro),eT=CS(zl,Ze,ls,pn,so,Xl,on,jl,c0,os),N0=kS(eT),nT=VS(ri,ls,Yr,pn,N0,_e,Ci,ai,Qe,Pl),iT=qS(Oe,Qn,N0,nT,pe,le,Vs),sT=NS(si),rT=FS(sT,pe,new WeakSet,dx),aT=OS(ls,io,pn,Xl,on,os),E0=ES(aT,on),oT=JS(ri,E0,_e,ai,Qe),lT=KS(Oe,Qn,E0,oT,pe,le),uT=rx(Xl,_e,Qe),cT=sx(Oe,Ze,Xl,uT,pe,le,Vs),O0=F2(ii),yf=p2(ii),M0=new WeakMap,hT=A2(M0,Ci),fT=O0?H1(Wn,on,f2(ii),yf,m2(I1),pe,hT,le,Ja,new WeakMap,new WeakMap,tx(Ja,Ci),ii):void 0,dT=V2(pf,le),pT=Jb(gf,Wn,Kb,h2,new WeakSet,pe,dT,Dl,Ka,_f,vf),D0=Eb(fT,wx,S0,kx,Ex,Dx,zx,Bx,qx,pT,Lx,Hx,Zx,Wx,Kx,$x,iT,rT,lT,cT),mT=H2(Oe,bS,pe,le),gT=Z2(Oe,SS,pe,le),_T=Y2(Oe,xS,pe,le),vT=TS(Ze,le),yT=P2(Oe,vT,pe),bT=ub(D0,Ze,on,nx,mT,gT,_T,yT,ao),bf=k2(A0),ST=P1(bf),R0=Lb(si),xT=s2(bf),z0=o2(si),j0=new WeakMap,TT=y2(j0,Xn),wT=uS(R0,si,Ze,ls,io,Yr,pn,so,on,z0,yf,TT,os),AT=rS(Ze,wT,pn,on,os),kT=Nb(ri,R0,Zr,ls,io,Yr,pn,xT,z0,yf,_e,Ja,Ci,ai,Qe,Pl),CT=T2(M0),NT=PS(j0),t_=O0?Ab(ST,Oe,Qn,kT,AT,an,CT,pe,le,Ja,hx,NT,_x,Gr):void 0,ET=Qb(on,Ci),OT=WS(gf,Wn,df,bf,Pl,Dl,_f,vf),MT=zS(D0,Wn,Ze,ET,OT),DT=R2(Hl,pf),RT=z2(sf,mf),zT=j2(rf,y0),jT=U2(Hl,le);function Bn(u){return u===void 0}function Pt(u){return u!==void 0}function UT(u){return typeof u=="function"}function ss(u){return typeof u=="number"}function zs(u){return Object.prototype.toString.call(u)==="[object Object]"&&u.constructor===Object}function BT(u){return typeof u=="boolean"}function An(u){return Array.isArray(u)}function ki(u){return typeof u=="string"}function Al(u){return ki(u)&&/^([a-g]{1}(?:b|#|x|bb)?)(-?[0-9]+)/i.test(u)}function Rt(u,n){if(!u)throw new Error(n)}function rs(u,n,i=1/0){if(!(n<=u&&u<=i))throw new RangeError(`Value must be within [${n}, ${i}], got: ${u}`)}function U0(u){!u.isOffline&&u.state!=="running"&&Wl('The AudioContext is "suspended". Invoke Tone.start() from a user action to start the audio.')}let B0=!1,e_=!1;function n_(u){B0=u}function IT(u){Bn(u)&&B0&&!e_&&(e_=!0,Wl("Events scheduled inside of scheduled callbacks should use the passed in scheduling time. See https://github.com/Tonejs/Tone.js/wiki/Accurate-Timing"))}let I0=console;function qT(...u){I0.log(...u)}function Wl(...u){I0.warn(...u)}function VT(u){return new bT(u)}function LT(u,n,i){return new MT(u,n,i)}const Tn=typeof self=="object"?self:null,FT=Tn&&(Tn.hasOwnProperty("AudioContext")||Tn.hasOwnProperty("webkitAudioContext"));function HT(u,n,i){return Rt(Pt(t_),"AudioWorkletNode only works in a secure context (https or localhost)"),new(u instanceof Tn?.BaseAudioContext?Tn?.AudioWorkletNode:t_)(u,n,i)}function Kn(u,n,i,r){var o=arguments.length,l=o<3?n:r===null?r=Object.getOwnPropertyDescriptor(n,i):r,h;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")l=Reflect.decorate(u,n,i,r);else for(var c=u.length-1;c>=0;c--)(h=u[c])&&(l=(o<3?h(l):o>3?h(n,i,l):h(n,i))||l);return o>3&&l&&Object.defineProperty(n,i,l),l}function je(u,n,i,r){function o(l){return l instanceof i?l:new i(function(h){h(l)})}return new(i||(i=Promise))(function(l,h){function c(m){try{p(r.next(m))}catch(_){h(_)}}function d(m){try{p(r.throw(m))}catch(_){h(_)}}function p(m){m.done?l(m.value):o(m.value).then(c,d)}p((r=r.apply(u,n||[])).next())})}class GT{constructor(n,i,r,o){this._callback=n,this._type=i,this._minimumUpdateInterval=Math.max(128/(o||44100),.001),this.updateInterval=r,this._createClock()}_createWorker(){const n=new Blob([`
			// the initial timeout time
			let timeoutTime =  ${(this._updateInterval*1e3).toFixed(1)};
			// onmessage callback
			self.onmessage = function(msg){
				timeoutTime = parseInt(msg.data);
			};
			// the tick function which posts a message
			// and schedules a new tick
			function tick(){
				setTimeout(tick, timeoutTime);
				self.postMessage('tick');
			}
			// call tick initially
			tick();
			`],{type:"text/javascript"}),i=URL.createObjectURL(n),r=new Worker(i);r.onmessage=this._callback.bind(this),this._worker=r}_createTimeout(){this._timeout=setTimeout(()=>{this._createTimeout(),this._callback()},this._updateInterval*1e3)}_createClock(){if(this._type==="worker")try{this._createWorker()}catch{this._type="timeout",this._createClock()}else this._type==="timeout"&&this._createTimeout()}_disposeClock(){this._timeout&&clearTimeout(this._timeout),this._worker&&(this._worker.terminate(),this._worker.onmessage=null)}get updateInterval(){return this._updateInterval}set updateInterval(n){var i;this._updateInterval=Math.max(n,this._minimumUpdateInterval),this._type==="worker"&&((i=this._worker)===null||i===void 0||i.postMessage(this._updateInterval*1e3))}get type(){return this._type}set type(n){this._disposeClock(),this._type=n,this._createClock()}dispose(){this._disposeClock()}}function Bs(u){return zT(u)}function is(u){return RT(u)}function El(u){return jT(u)}function Nr(u){return DT(u)}function ZT(u){return u instanceof S0}function YT(u,n){return u==="value"||Bs(n)||is(n)||ZT(n)}function js(u,...n){if(!n.length)return u;const i=n.shift();if(zs(u)&&zs(i))for(const r in i)YT(r,i[r])?u[r]=i[r]:zs(i[r])?(u[r]||Object.assign(u,{[r]:{}}),js(u[r],i[r])):Object.assign(u,{[r]:i[r]});return js(u,...n)}function PT(u,n){return u.length===n.length&&u.every((i,r)=>n[r]===i)}function It(u,n,i=[],r){const o={},l=Array.from(n);if(zs(l[0])&&r&&!Reflect.has(l[0],r)&&(Object.keys(l[0]).some(c=>Reflect.has(u,c))||(js(o,{[r]:l[0]}),i.splice(i.indexOf(r),1),l.shift())),l.length===1&&zs(l[0]))js(o,l[0]);else for(let h=0;h<i.length;h++)Pt(l[h])&&(o[i[h]]=l[h]);return js(u,o)}function XT(u){return u.constructor.getDefaults()}function Dr(u,n){return Bn(u)?n:u}function Kh(u,n){return n.forEach(i=>{Reflect.has(u,i)&&delete u[i]}),u}/**
 * Tone.js
 * @author Yotam Mann
 * @license http://opensource.org/licenses/MIT MIT License
 * @copyright 2014-2024 Yotam Mann
 */class Ni{constructor(){this.debug=!1,this._wasDisposed=!1}static getDefaults(){return{}}log(...n){(this.debug||Tn&&this.toString()===Tn.TONE_DEBUG_CLASS)&&qT(this,...n)}dispose(){return this._wasDisposed=!0,this}get disposed(){return this._wasDisposed}toString(){return this.name}}Ni.version=H_;const Sf=1e-6;function jr(u,n){return u>n+Sf}function Jh(u,n){return jr(u,n)||Zn(u,n)}function ql(u,n){return u+Sf<n}function Zn(u,n){return Math.abs(u-n)<Sf}function WT(u,n,i){return Math.max(Math.min(u,i),n)}class In extends Ni{constructor(){super(),this.name="Timeline",this._timeline=[];const n=It(In.getDefaults(),arguments,["memory"]);this.memory=n.memory,this.increasing=n.increasing}static getDefaults(){return{memory:1/0,increasing:!1}}get length(){return this._timeline.length}add(n){if(Rt(Reflect.has(n,"time"),"Timeline: events must have a time attribute"),n.time=n.time.valueOf(),this.increasing&&this.length){const i=this._timeline[this.length-1];Rt(Jh(n.time,i.time),"The time must be greater than or equal to the last scheduled time"),this._timeline.push(n)}else{const i=this._search(n.time);this._timeline.splice(i+1,0,n)}if(this.length>this.memory){const i=this.length-this.memory;this._timeline.splice(0,i)}return this}remove(n){const i=this._timeline.indexOf(n);return i!==-1&&this._timeline.splice(i,1),this}get(n,i="time"){const r=this._search(n,i);return r!==-1?this._timeline[r]:null}peek(){return this._timeline[0]}shift(){return this._timeline.shift()}getAfter(n,i="time"){const r=this._search(n,i);return r+1<this._timeline.length?this._timeline[r+1]:null}getBefore(n){const i=this._timeline.length;if(i>0&&this._timeline[i-1].time<n)return this._timeline[i-1];const r=this._search(n);return r-1>=0?this._timeline[r-1]:null}cancel(n){if(this._timeline.length>1){let i=this._search(n);if(i>=0)if(Zn(this._timeline[i].time,n)){for(let r=i;r>=0&&Zn(this._timeline[r].time,n);r--)i=r;this._timeline=this._timeline.slice(0,i)}else this._timeline=this._timeline.slice(0,i+1);else this._timeline=[]}else this._timeline.length===1&&Jh(this._timeline[0].time,n)&&(this._timeline=[]);return this}cancelBefore(n){const i=this._search(n);return i>=0&&(this._timeline=this._timeline.slice(i+1)),this}previousEvent(n){const i=this._timeline.indexOf(n);return i>0?this._timeline[i-1]:null}_search(n,i="time"){if(this._timeline.length===0)return-1;let r=0;const o=this._timeline.length;let l=o;if(o>0&&this._timeline[o-1][i]<=n)return o-1;for(;r<l;){let h=Math.floor(r+(l-r)/2);const c=this._timeline[h],d=this._timeline[h+1];if(Zn(c[i],n)){for(let p=h;p<this._timeline.length;p++){const m=this._timeline[p];if(Zn(m[i],n))h=p;else break}return h}else{if(ql(c[i],n)&&jr(d[i],n))return h;jr(c[i],n)?l=h:r=h+1}}return-1}_iterate(n,i=0,r=this._timeline.length-1){this._timeline.slice(i,r+1).forEach(n)}forEach(n){return this._iterate(n),this}forEachBefore(n,i){const r=this._search(n);return r!==-1&&this._iterate(i,0,r),this}forEachAfter(n,i){const r=this._search(n);return this._iterate(i,r+1),this}forEachBetween(n,i,r){let o=this._search(n),l=this._search(i);return o!==-1&&l!==-1?(this._timeline[o].time!==n&&(o+=1),this._timeline[l].time===i&&(l-=1),this._iterate(r,o,l)):o===-1&&this._iterate(r,0,l),this}forEachFrom(n,i){let r=this._search(n);for(;r>=0&&this._timeline[r].time>=n;)r--;return this._iterate(i,r+1),this}forEachAtTime(n,i){const r=this._search(n);if(r!==-1&&Zn(this._timeline[r].time,n)){let o=r;for(let l=r;l>=0&&Zn(this._timeline[l].time,n);l--)o=l;this._iterate(l=>{i(l)},o,r)}return this}dispose(){return super.dispose(),this._timeline=[],this}}const q0=[];function Ql(u){q0.push(u)}function QT(u){q0.forEach(n=>n(u))}const V0=[];function Kl(u){V0.push(u)}function KT(u){V0.forEach(n=>n(u))}class oo extends Ni{constructor(){super(...arguments),this.name="Emitter"}on(n,i){return n.split(/\W+/).forEach(o=>{Bn(this._events)&&(this._events={}),this._events.hasOwnProperty(o)||(this._events[o]=[]),this._events[o].push(i)}),this}once(n,i){const r=(...o)=>{i(...o),this.off(n,r)};return this.on(n,r),this}off(n,i){return n.split(/\W+/).forEach(o=>{if(Bn(this._events)&&(this._events={}),this._events.hasOwnProperty(o))if(Bn(i))this._events[o]=[];else{const l=this._events[o];for(let h=l.length-1;h>=0;h--)l[h]===i&&l.splice(h,1)}}),this}emit(n,...i){if(this._events&&this._events.hasOwnProperty(n)){const r=this._events[n].slice(0);for(let o=0,l=r.length;o<l;o++)r[o].apply(this,i)}return this}static mixin(n){["on","once","off","emit"].forEach(i=>{const r=Object.getOwnPropertyDescriptor(oo.prototype,i);Object.defineProperty(n.prototype,i,r)})}dispose(){return super.dispose(),this._events=void 0,this}}class L0 extends oo{constructor(){super(...arguments),this.isOffline=!1}toJSON(){return{}}}class lo extends L0{constructor(){var n,i;super(),this.name="Context",this._constants=new Map,this._timeouts=new In,this._timeoutIds=0,this._initialized=!1,this._closeStarted=!1,this.isOffline=!1,this._workletPromise=null;const r=It(lo.getDefaults(),arguments,["context"]);r.context?(this._context=r.context,this._latencyHint=((n=arguments[0])===null||n===void 0?void 0:n.latencyHint)||""):(this._context=VT({latencyHint:r.latencyHint}),this._latencyHint=r.latencyHint),this._ticker=new GT(this.emit.bind(this,"tick"),r.clockSource,r.updateInterval,this._context.sampleRate),this.on("tick",this._timeoutLoop.bind(this)),this._context.onstatechange=()=>{this.emit("statechange",this.state)},this[!((i=arguments[0])===null||i===void 0)&&i.hasOwnProperty("updateInterval")?"_lookAhead":"lookAhead"]=r.lookAhead}static getDefaults(){return{clockSource:"worker",latencyHint:"interactive",lookAhead:.1,updateInterval:.05}}initialize(){return this._initialized||(QT(this),this._initialized=!0),this}createAnalyser(){return this._context.createAnalyser()}createOscillator(){return this._context.createOscillator()}createBufferSource(){return this._context.createBufferSource()}createBiquadFilter(){return this._context.createBiquadFilter()}createBuffer(n,i,r){return this._context.createBuffer(n,i,r)}createChannelMerger(n){return this._context.createChannelMerger(n)}createChannelSplitter(n){return this._context.createChannelSplitter(n)}createConstantSource(){return this._context.createConstantSource()}createConvolver(){return this._context.createConvolver()}createDelay(n){return this._context.createDelay(n)}createDynamicsCompressor(){return this._context.createDynamicsCompressor()}createGain(){return this._context.createGain()}createIIRFilter(n,i){return this._context.createIIRFilter(n,i)}createPanner(){return this._context.createPanner()}createPeriodicWave(n,i,r){return this._context.createPeriodicWave(n,i,r)}createStereoPanner(){return this._context.createStereoPanner()}createWaveShaper(){return this._context.createWaveShaper()}createMediaStreamSource(n){return Rt(Nr(this._context),"Not available if OfflineAudioContext"),this._context.createMediaStreamSource(n)}createMediaElementSource(n){return Rt(Nr(this._context),"Not available if OfflineAudioContext"),this._context.createMediaElementSource(n)}createMediaStreamDestination(){return Rt(Nr(this._context),"Not available if OfflineAudioContext"),this._context.createMediaStreamDestination()}decodeAudioData(n){return this._context.decodeAudioData(n)}get currentTime(){return this._context.currentTime}get state(){return this._context.state}get sampleRate(){return this._context.sampleRate}get listener(){return this.initialize(),this._listener}set listener(n){Rt(!this._initialized,"The listener cannot be set after initialization."),this._listener=n}get transport(){return this.initialize(),this._transport}set transport(n){Rt(!this._initialized,"The transport cannot be set after initialization."),this._transport=n}get draw(){return this.initialize(),this._draw}set draw(n){Rt(!this._initialized,"Draw cannot be set after initialization."),this._draw=n}get destination(){return this.initialize(),this._destination}set destination(n){Rt(!this._initialized,"The destination cannot be set after initialization."),this._destination=n}createAudioWorkletNode(n,i){return HT(this.rawContext,n,i)}addAudioWorkletModule(n){return je(this,void 0,void 0,function*(){Rt(Pt(this.rawContext.audioWorklet),"AudioWorkletNode is only available in a secure context (https or localhost)"),this._workletPromise||(this._workletPromise=this.rawContext.audioWorklet.addModule(n)),yield this._workletPromise})}workletsAreReady(){return je(this,void 0,void 0,function*(){(yield this._workletPromise)?this._workletPromise:Promise.resolve()})}get updateInterval(){return this._ticker.updateInterval}set updateInterval(n){this._ticker.updateInterval=n}get clockSource(){return this._ticker.type}set clockSource(n){this._ticker.type=n}get lookAhead(){return this._lookAhead}set lookAhead(n){this._lookAhead=n,this.updateInterval=n?n/2:.01}get latencyHint(){return this._latencyHint}get rawContext(){return this._context}now(){return this._context.currentTime+this._lookAhead}immediate(){return this._context.currentTime}resume(){return Nr(this._context)?this._context.resume():Promise.resolve()}close(){return je(this,void 0,void 0,function*(){Nr(this._context)&&this.state!=="closed"&&!this._closeStarted&&(this._closeStarted=!0,yield this._context.close()),this._initialized&&KT(this)})}getConstant(n){if(this._constants.has(n))return this._constants.get(n);{const i=this._context.createBuffer(1,128,this._context.sampleRate),r=i.getChannelData(0);for(let l=0;l<r.length;l++)r[l]=n;const o=this._context.createBufferSource();return o.channelCount=1,o.channelCountMode="explicit",o.buffer=i,o.loop=!0,o.start(0),this._constants.set(n,o),o}}dispose(){return super.dispose(),this._ticker.dispose(),this._timeouts.dispose(),Object.keys(this._constants).map(n=>this._constants[n].disconnect()),this.close(),this}_timeoutLoop(){const n=this.now();this._timeouts.forEachBefore(n,i=>{i.callback(),this._timeouts.remove(i)})}setTimeout(n,i){this._timeoutIds++;const r=this.now();return this._timeouts.add({callback:n,id:this._timeoutIds,time:r+i}),this._timeoutIds}clearTimeout(n){return this._timeouts.forEach(i=>{i.id===n&&this._timeouts.remove(i)}),this}clearInterval(n){return this.clearTimeout(n)}setInterval(n,i){const r=++this._timeoutIds,o=()=>{const l=this.now();this._timeouts.add({callback:()=>{n(),o()},id:r,time:l+i})};return o(),r}}class JT extends L0{constructor(){super(...arguments),this.lookAhead=0,this.latencyHint=0,this.isOffline=!1}createAnalyser(){return{}}createOscillator(){return{}}createBufferSource(){return{}}createBiquadFilter(){return{}}createBuffer(n,i,r){return{}}createChannelMerger(n){return{}}createChannelSplitter(n){return{}}createConstantSource(){return{}}createConvolver(){return{}}createDelay(n){return{}}createDynamicsCompressor(){return{}}createGain(){return{}}createIIRFilter(n,i){return{}}createPanner(){return{}}createPeriodicWave(n,i,r){return{}}createStereoPanner(){return{}}createWaveShaper(){return{}}createMediaStreamSource(n){return{}}createMediaElementSource(n){return{}}createMediaStreamDestination(){return{}}decodeAudioData(n){return Promise.resolve({})}createAudioWorkletNode(n,i){return{}}get rawContext(){return{}}addAudioWorkletModule(n){return je(this,void 0,void 0,function*(){return Promise.resolve()})}resume(){return Promise.resolve()}setTimeout(n,i){return 0}clearTimeout(n){return this}setInterval(n,i){return 0}clearInterval(n){return this}getConstant(n){return{}}get currentTime(){return 0}get state(){return{}}get sampleRate(){return 0}get listener(){return{}}get transport(){return{}}get draw(){return{}}set draw(n){}get destination(){return{}}set destination(n){}now(){return 0}immediate(){return 0}}function ke(u,n){An(n)?n.forEach(i=>ke(u,i)):Object.defineProperty(u,n,{enumerable:!0,writable:!1})}function F0(u,n){An(n)?n.forEach(i=>F0(u,i)):Object.defineProperty(u,n,{writable:!0})}const oe=()=>{};class ge extends Ni{constructor(){super(),this.name="ToneAudioBuffer",this.onload=oe;const n=It(ge.getDefaults(),arguments,["url","onload","onerror"]);this.reverse=n.reverse,this.onload=n.onload,ki(n.url)?this.load(n.url).catch(n.onerror):n.url&&this.set(n.url)}static getDefaults(){return{onerror:oe,onload:oe,reverse:!1}}get sampleRate(){return this._buffer?this._buffer.sampleRate:Yn().sampleRate}set(n){return n instanceof ge?n.loaded?this._buffer=n.get():n.onload=()=>{this.set(n),this.onload(this)}:this._buffer=n,this._reversed&&this._reverse(),this}get(){return this._buffer}load(n){return je(this,void 0,void 0,function*(){const i=ge.load(n).then(r=>{this.set(r),this.onload(this)});ge.downloads.push(i);try{yield i}finally{const r=ge.downloads.indexOf(i);ge.downloads.splice(r,1)}return this})}dispose(){return super.dispose(),this._buffer=void 0,this}fromArray(n){const i=An(n)&&n[0].length>0,r=i?n.length:1,o=i?n[0].length:n.length,l=Yn(),h=l.createBuffer(r,o,l.sampleRate),c=!i&&r===1?[n]:n;for(let d=0;d<r;d++)h.copyToChannel(c[d],d);return this._buffer=h,this}toMono(n){if(ss(n))this.fromArray(this.toArray(n));else{let i=new Float32Array(this.length);const r=this.numberOfChannels;for(let o=0;o<r;o++){const l=this.toArray(o);for(let h=0;h<l.length;h++)i[h]+=l[h]}i=i.map(o=>o/r),this.fromArray(i)}return this}toArray(n){if(ss(n))return this.getChannelData(n);if(this.numberOfChannels===1)return this.toArray(0);{const i=[];for(let r=0;r<this.numberOfChannels;r++)i[r]=this.getChannelData(r);return i}}getChannelData(n){return this._buffer?this._buffer.getChannelData(n):new Float32Array(0)}slice(n,i=this.duration){Rt(this.loaded,"Buffer is not loaded");const r=Math.floor(n*this.sampleRate),o=Math.floor(i*this.sampleRate);Rt(r<o,"The start time must be less than the end time");const l=o-r,h=Yn().createBuffer(this.numberOfChannels,l,this.sampleRate);for(let c=0;c<this.numberOfChannels;c++)h.copyToChannel(this.getChannelData(c).subarray(r,o),c);return new ge(h)}_reverse(){if(this.loaded)for(let n=0;n<this.numberOfChannels;n++)this.getChannelData(n).reverse();return this}get loaded(){return this.length>0}get duration(){return this._buffer?this._buffer.duration:0}get length(){return this._buffer?this._buffer.length:0}get numberOfChannels(){return this._buffer?this._buffer.numberOfChannels:0}get reverse(){return this._reversed}set reverse(n){this._reversed!==n&&(this._reversed=n,this._reverse())}static fromArray(n){return new ge().fromArray(n)}static fromUrl(n){return je(this,void 0,void 0,function*(){return yield new ge().load(n)})}static load(n){return je(this,void 0,void 0,function*(){const i=ge.baseUrl===""||ge.baseUrl.endsWith("/")?ge.baseUrl:ge.baseUrl+"/",r=yield fetch(i+n);if(!r.ok)throw new Error(`could not load url: ${n}`);const o=yield r.arrayBuffer();return yield Yn().decodeAudioData(o)})}static supportsType(n){const i=n.split("."),r=i[i.length-1];return document.createElement("audio").canPlayType("audio/"+r)!==""}static loaded(){return je(this,void 0,void 0,function*(){for(yield Promise.resolve();ge.downloads.length;)yield ge.downloads[0]})}}ge.baseUrl="";ge.downloads=[];class xf extends lo{constructor(){super({clockSource:"offline",context:El(arguments[0])?arguments[0]:LT(arguments[0],arguments[1]*arguments[2],arguments[2]),lookAhead:0,updateInterval:El(arguments[0])?128/arguments[0].sampleRate:128/arguments[2]}),this.name="OfflineContext",this._currentTime=0,this.isOffline=!0,this._duration=El(arguments[0])?arguments[0].length/arguments[0].sampleRate:arguments[1]}now(){return this._currentTime}get currentTime(){return this._currentTime}_renderClock(n){return je(this,void 0,void 0,function*(){let i=0;for(;this._duration-this._currentTime>=0;){this.emit("tick"),this._currentTime+=128/this.sampleRate,i++;const r=Math.floor(this.sampleRate/128);n&&i%r===0&&(yield new Promise(o=>setTimeout(o,1)))}})}render(){return je(this,arguments,void 0,function*(n=!0){yield this.workletsAreReady(),yield this._renderClock(n);const i=yield this._context.startRendering();return new ge(i)})}close(){return Promise.resolve()}}const H0=new JT;let Ds=H0;function Yn(){return Ds===H0&&FT&&$T(new lo),Ds}function $T(u,n=!1){n&&Ds.dispose(),Nr(u)?Ds=new lo(u):El(u)?Ds=new xf(u):Ds=u}function tw(){return Ds.resume()}if(Tn&&!Tn.TONE_SILENCE_LOGGING){const n=` * Tone.js v${H_} * `;console.log(`%c${n}`,"background: #000; color: #fff")}function ew(u){return Math.pow(10,u/20)}function nw(u){return 20*(Math.log(u)/Math.LN10)}function G0(u){return Math.pow(2,u/12)}let Jl=440;function iw(){return Jl}function sw(u){Jl=u}function Rs(u){return Math.round(Z0(u))}function Z0(u){return 69+12*Math.log2(u/Jl)}function Y0(u){return Jl*Math.pow(2,(u-69)/12)}class Tf extends Ni{constructor(n,i,r){super(),this.defaultUnits="s",this._val=i,this._units=r,this.context=n,this._expressions=this._getExpressions()}_getExpressions(){return{hz:{method:n=>this._frequencyToUnits(parseFloat(n)),regexp:/^(\d+(?:\.\d+)?)hz$/i},i:{method:n=>this._ticksToUnits(parseInt(n,10)),regexp:/^(\d+)i$/i},m:{method:n=>this._beatsToUnits(parseInt(n,10)*this._getTimeSignature()),regexp:/^(\d+)m$/i},n:{method:(n,i)=>{const r=parseInt(n,10),o=i==="."?1.5:1;return r===1?this._beatsToUnits(this._getTimeSignature())*o:this._beatsToUnits(4/r)*o},regexp:/^(\d+)n(\.?)$/i},number:{method:n=>this._expressions[this.defaultUnits].method.call(this,n),regexp:/^(\d+(?:\.\d+)?)$/},s:{method:n=>this._secondsToUnits(parseFloat(n)),regexp:/^(\d+(?:\.\d+)?)s$/},samples:{method:n=>parseInt(n,10)/this.context.sampleRate,regexp:/^(\d+)samples$/},t:{method:n=>{const i=parseInt(n,10);return this._beatsToUnits(8/(Math.floor(i)*3))},regexp:/^(\d+)t$/i},tr:{method:(n,i,r)=>{let o=0;return n&&n!=="0"&&(o+=this._beatsToUnits(this._getTimeSignature()*parseFloat(n))),i&&i!=="0"&&(o+=this._beatsToUnits(parseFloat(i))),r&&r!=="0"&&(o+=this._beatsToUnits(parseFloat(r)/4)),o},regexp:/^(\d+(?:\.\d+)?):(\d+(?:\.\d+)?):?(\d+(?:\.\d+)?)?$/}}}valueOf(){if(this._val instanceof Tf&&this.fromType(this._val),Bn(this._val))return this._noArg();if(ki(this._val)&&Bn(this._units)){for(const n in this._expressions)if(this._expressions[n].regexp.test(this._val.trim())){this._units=n;break}}else if(zs(this._val)){let n=0;for(const i in this._val)if(Pt(this._val[i])){const r=this._val[i],o=new this.constructor(this.context,i).valueOf()*r;n+=o}return n}if(Pt(this._units)){const n=this._expressions[this._units],i=this._val.toString().trim().match(n.regexp);return i?n.method.apply(this,i.slice(1)):n.method.call(this,this._val)}else return ki(this._val)?parseFloat(this._val):this._val}_frequencyToUnits(n){return 1/n}_beatsToUnits(n){return 60/this._getBpm()*n}_secondsToUnits(n){return n}_ticksToUnits(n){return n*this._beatsToUnits(1)/this._getPPQ()}_noArg(){return this._now()}_getBpm(){return this.context.transport.bpm.value}_getTimeSignature(){return this.context.transport.timeSignature}_getPPQ(){return this.context.transport.PPQ}fromType(n){switch(this._units=void 0,this.defaultUnits){case"s":this._val=n.toSeconds();break;case"i":this._val=n.toTicks();break;case"hz":this._val=n.toFrequency();break;case"midi":this._val=n.toMidi();break}return this}toFrequency(){return 1/this.toSeconds()}toSamples(){return this.toSeconds()*this.context.sampleRate}toMilliseconds(){return this.toSeconds()*1e3}}class Pn extends Tf{constructor(){super(...arguments),this.name="TimeClass"}_getExpressions(){return Object.assign(super._getExpressions(),{now:{method:n=>this._now()+new this.constructor(this.context,n).valueOf(),regexp:/^\+(.+)/},quantize:{method:n=>{const i=new Pn(this.context,n).valueOf();return this._secondsToUnits(this.context.transport.nextSubdivision(i))},regexp:/^@(.+)/}})}quantize(n,i=1){const r=new this.constructor(this.context,n).valueOf(),o=this.valueOf(),c=Math.round(o/r)*r-o;return o+c*i}toNotation(){const n=this.toSeconds(),i=["1m"];for(let l=1;l<9;l++){const h=Math.pow(2,l);i.push(h+"n."),i.push(h+"n"),i.push(h+"t")}i.push("0");let r=i[0],o=new Pn(this.context,i[0]).toSeconds();return i.forEach(l=>{const h=new Pn(this.context,l).toSeconds();Math.abs(h-n)<Math.abs(o-n)&&(r=l,o=h)}),r}toBarsBeatsSixteenths(){const n=this._beatsToUnits(1);let i=this.valueOf()/n;i=parseFloat(i.toFixed(4));const r=Math.floor(i/this._getTimeSignature());let o=i%1*4;i=Math.floor(i)%this._getTimeSignature();const l=o.toString();return l.length>3&&(o=parseFloat(parseFloat(l).toFixed(3))),[r,i,o].join(":")}toTicks(){const n=this._beatsToUnits(1);return this.valueOf()/n*this._getPPQ()}toSeconds(){return this.valueOf()}toMidi(){return Rs(this.toFrequency())}_now(){return this.context.now()}}class wn extends Pn{constructor(){super(...arguments),this.name="Frequency",this.defaultUnits="hz"}static get A4(){return iw()}static set A4(n){sw(n)}_getExpressions(){return Object.assign({},super._getExpressions(),{midi:{regexp:/^(\d+(?:\.\d+)?midi)/,method(n){return this.defaultUnits==="midi"?n:wn.mtof(n)}},note:{regexp:/^([a-g]{1}(?:b|#|##|x|bb|###|#x|x#|bbb)?)(-?[0-9]+)/i,method(n,i){const o=rw[n.toLowerCase()]+(parseInt(i,10)+1)*12;return this.defaultUnits==="midi"?o:wn.mtof(o)}},tr:{regexp:/^(\d+(?:\.\d+)?):(\d+(?:\.\d+)?):?(\d+(?:\.\d+)?)?/,method(n,i,r){let o=1;return n&&n!=="0"&&(o*=this._beatsToUnits(this._getTimeSignature()*parseFloat(n))),i&&i!=="0"&&(o*=this._beatsToUnits(parseFloat(i))),r&&r!=="0"&&(o*=this._beatsToUnits(parseFloat(r)/4)),o}}})}transpose(n){return new wn(this.context,this.valueOf()*G0(n))}harmonize(n){return n.map(i=>this.transpose(i))}toMidi(){return Rs(this.valueOf())}toNote(){const n=this.toFrequency(),i=Math.log2(n/wn.A4);let r=Math.round(12*i)+57;const o=Math.floor(r/12);return o<0&&(r+=-12*o),aw[r%12]+o.toString()}toSeconds(){return 1/super.toSeconds()}toTicks(){const n=this._beatsToUnits(1),i=this.valueOf()/n;return Math.floor(i*this._getPPQ())}_noArg(){return 0}_frequencyToUnits(n){return n}_ticksToUnits(n){return 1/(n*60/(this._getBpm()*this._getPPQ()))}_beatsToUnits(n){return 1/super._beatsToUnits(n)}_secondsToUnits(n){return 1/n}static mtof(n){return Y0(n)}static ftom(n){return Rs(n)}}const rw={cbbb:-3,cbb:-2,cb:-1,c:0,"c#":1,cx:2,"c##":2,"c###":3,"cx#":3,"c#x":3,dbbb:-1,dbb:0,db:1,d:2,"d#":3,dx:4,"d##":4,"d###":5,"dx#":5,"d#x":5,ebbb:1,ebb:2,eb:3,e:4,"e#":5,ex:6,"e##":6,"e###":7,"ex#":7,"e#x":7,fbbb:2,fbb:3,fb:4,f:5,"f#":6,fx:7,"f##":7,"f###":8,"fx#":8,"f#x":8,gbbb:4,gbb:5,gb:6,g:7,"g#":8,gx:9,"g##":9,"g###":10,"gx#":10,"g#x":10,abbb:6,abb:7,ab:8,a:9,"a#":10,ax:11,"a##":11,"a###":12,"ax#":12,"a#x":12,bbbb:8,bbb:9,bb:10,b:11,"b#":12,bx:13,"b##":13,"b###":14,"bx#":14,"b#x":14},aw=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"];class Wa extends Pn{constructor(){super(...arguments),this.name="TransportTime"}_now(){return this.context.transport.seconds}}class dn extends Ni{constructor(){super();const n=It(dn.getDefaults(),arguments,["context"]);this.defaultContext?this.context=this.defaultContext:this.context=n.context}static getDefaults(){return{context:Yn()}}now(){return this.context.currentTime+this.context.lookAhead}immediate(){return this.context.currentTime}get sampleTime(){return 1/this.context.sampleRate}get blockTime(){return 128/this.context.sampleRate}toSeconds(n){return IT(n),new Pn(this.context,n).toSeconds()}toFrequency(n){return new wn(this.context,n).toFrequency()}toTicks(n){return new Wa(this.context,n).toTicks()}_getPartialProperties(n){const i=this.get();return Object.keys(i).forEach(r=>{Bn(n[r])&&delete i[r]}),i}get(){const n=XT(this);return Object.keys(n).forEach(i=>{if(Reflect.has(this,i)){const r=this[i];Pt(r)&&Pt(r.value)&&Pt(r.setValueAtTime)?n[i]=r.value:r instanceof dn?n[i]=r._getPartialProperties(n[i]):An(r)||ss(r)||ki(r)||BT(r)?n[i]=r:delete n[i]}}),n}set(n){return Object.keys(n).forEach(i=>{Reflect.has(this,i)&&Pt(this[i])&&(this[i]&&Pt(this[i].value)&&Pt(this[i].setValueAtTime)?this[i].value!==n[i]&&(this[i].value=n[i]):this[i]instanceof dn?this[i].set(n[i]):this[i]=n[i])}),this}}class wf extends In{constructor(n="stopped"){super(),this.name="StateTimeline",this._initial=n,this.setStateAtTime(this._initial,0)}getValueAtTime(n){const i=this.get(n);return i!==null?i.state:this._initial}setStateAtTime(n,i,r){return rs(i,0),this.add(Object.assign({},r,{state:n,time:i})),this}getLastState(n,i){const r=this._search(i);for(let o=r;o>=0;o--){const l=this._timeline[o];if(l.state===n)return l}}getNextState(n,i){const r=this._search(i);if(r!==-1)for(let o=r;o<this._timeline.length;o++){const l=this._timeline[o];if(l.state===n)return l}}}class Se extends dn{constructor(){const n=It(Se.getDefaults(),arguments,["param","units","convert"]);for(super(n),this.name="Param",this.overridden=!1,this._minOutput=1e-7,Rt(Pt(n.param)&&(Bs(n.param)||n.param instanceof Se),"param must be an AudioParam");!Bs(n.param);)n.param=n.param._param;this._swappable=Pt(n.swappable)?n.swappable:!1,this._swappable?(this.input=this.context.createGain(),this._param=n.param,this.input.connect(this._param)):this._param=this.input=n.param,this._events=new In(1e3),this._initialValue=this._param.defaultValue,this.units=n.units,this.convert=n.convert,this._minValue=n.minValue,this._maxValue=n.maxValue,Pt(n.value)&&n.value!==this._toType(this._initialValue)&&this.setValueAtTime(n.value,0)}static getDefaults(){return Object.assign(dn.getDefaults(),{convert:!0,units:"number"})}get value(){const n=this.now();return this.getValueAtTime(n)}set value(n){this.cancelScheduledValues(this.now()),this.setValueAtTime(n,this.now())}get minValue(){return Pt(this._minValue)?this._minValue:this.units==="time"||this.units==="frequency"||this.units==="normalRange"||this.units==="positive"||this.units==="transportTime"||this.units==="ticks"||this.units==="bpm"||this.units==="hertz"||this.units==="samples"?0:this.units==="audioRange"?-1:this.units==="decibels"?-1/0:this._param.minValue}get maxValue(){return Pt(this._maxValue)?this._maxValue:this.units==="normalRange"||this.units==="audioRange"?1:this._param.maxValue}_is(n,i){return this.units===i}_assertRange(n){return Pt(this.maxValue)&&Pt(this.minValue)&&rs(n,this._fromType(this.minValue),this._fromType(this.maxValue)),n}_fromType(n){return this.convert&&!this.overridden?this._is(n,"time")?this.toSeconds(n):this._is(n,"decibels")?ew(n):this._is(n,"frequency")?this.toFrequency(n):n:this.overridden?0:n}_toType(n){return this.convert&&this.units==="decibels"?nw(n):n}setValueAtTime(n,i){const r=this.toSeconds(i),o=this._fromType(n);return Rt(isFinite(o)&&isFinite(r),`Invalid argument(s) to setValueAtTime: ${JSON.stringify(n)}, ${JSON.stringify(i)}`),this._assertRange(o),this.log(this.units,"setValueAtTime",n,r),this._events.add({time:r,type:"setValueAtTime",value:o}),this._param.setValueAtTime(o,r),this}getValueAtTime(n){const i=Math.max(this.toSeconds(n),0),r=this._events.getAfter(i),o=this._events.get(i);let l=this._initialValue;if(o===null)l=this._initialValue;else if(o.type==="setTargetAtTime"&&(r===null||r.type==="setValueAtTime")){const h=this._events.getBefore(o.time);let c;h===null?c=this._initialValue:c=h.value,o.type==="setTargetAtTime"&&(l=this._exponentialApproach(o.time,c,o.value,o.constant,i))}else if(r===null)l=o.value;else if(r.type==="linearRampToValueAtTime"||r.type==="exponentialRampToValueAtTime"){let h=o.value;if(o.type==="setTargetAtTime"){const c=this._events.getBefore(o.time);c===null?h=this._initialValue:h=c.value}r.type==="linearRampToValueAtTime"?l=this._linearInterpolate(o.time,h,r.time,r.value,i):l=this._exponentialInterpolate(o.time,h,r.time,r.value,i)}else l=o.value;return this._toType(l)}setRampPoint(n){n=this.toSeconds(n);let i=this.getValueAtTime(n);return this.cancelAndHoldAtTime(n),this._fromType(i)===0&&(i=this._toType(this._minOutput)),this.setValueAtTime(i,n),this}linearRampToValueAtTime(n,i){const r=this._fromType(n),o=this.toSeconds(i);return Rt(isFinite(r)&&isFinite(o),`Invalid argument(s) to linearRampToValueAtTime: ${JSON.stringify(n)}, ${JSON.stringify(i)}`),this._assertRange(r),this._events.add({time:o,type:"linearRampToValueAtTime",value:r}),this.log(this.units,"linearRampToValueAtTime",n,o),this._param.linearRampToValueAtTime(r,o),this}exponentialRampToValueAtTime(n,i){let r=this._fromType(n);r=Zn(r,0)?this._minOutput:r,this._assertRange(r);const o=this.toSeconds(i);return Rt(isFinite(r)&&isFinite(o),`Invalid argument(s) to exponentialRampToValueAtTime: ${JSON.stringify(n)}, ${JSON.stringify(i)}`),this._events.add({time:o,type:"exponentialRampToValueAtTime",value:r}),this.log(this.units,"exponentialRampToValueAtTime",n,o),this._param.exponentialRampToValueAtTime(r,o),this}exponentialRampTo(n,i,r){return r=this.toSeconds(r),this.setRampPoint(r),this.exponentialRampToValueAtTime(n,r+this.toSeconds(i)),this}linearRampTo(n,i,r){return r=this.toSeconds(r),this.setRampPoint(r),this.linearRampToValueAtTime(n,r+this.toSeconds(i)),this}targetRampTo(n,i,r){return r=this.toSeconds(r),this.setRampPoint(r),this.exponentialApproachValueAtTime(n,r,i),this}exponentialApproachValueAtTime(n,i,r){i=this.toSeconds(i),r=this.toSeconds(r);const o=Math.log(r+1)/Math.log(200);return this.setTargetAtTime(n,i,o),this.cancelAndHoldAtTime(i+r*.9),this.linearRampToValueAtTime(n,i+r),this}setTargetAtTime(n,i,r){const o=this._fromType(n);Rt(isFinite(r)&&r>0,"timeConstant must be a number greater than 0");const l=this.toSeconds(i);return this._assertRange(o),Rt(isFinite(o)&&isFinite(l),`Invalid argument(s) to setTargetAtTime: ${JSON.stringify(n)}, ${JSON.stringify(i)}`),this._events.add({constant:r,time:l,type:"setTargetAtTime",value:o}),this.log(this.units,"setTargetAtTime",n,l,r),this._param.setTargetAtTime(o,l,r),this}setValueCurveAtTime(n,i,r,o=1){r=this.toSeconds(r),i=this.toSeconds(i);const l=this._fromType(n[0])*o;this.setValueAtTime(this._toType(l),i);const h=r/(n.length-1);for(let c=1;c<n.length;c++){const d=this._fromType(n[c])*o;this.linearRampToValueAtTime(this._toType(d),i+c*h)}return this}cancelScheduledValues(n){const i=this.toSeconds(n);return Rt(isFinite(i),`Invalid argument to cancelScheduledValues: ${JSON.stringify(n)}`),this._events.cancel(i),this._param.cancelScheduledValues(i),this.log(this.units,"cancelScheduledValues",i),this}cancelAndHoldAtTime(n){const i=this.toSeconds(n),r=this._fromType(this.getValueAtTime(i));Rt(isFinite(i),`Invalid argument to cancelAndHoldAtTime: ${JSON.stringify(n)}`),this.log(this.units,"cancelAndHoldAtTime",i,"value="+r);const o=this._events.get(i),l=this._events.getAfter(i);return o&&Zn(o.time,i)?l?(this._param.cancelScheduledValues(l.time),this._events.cancel(l.time)):(this._param.cancelAndHoldAtTime(i),this._events.cancel(i+this.sampleTime)):l&&(this._param.cancelScheduledValues(l.time),this._events.cancel(l.time),l.type==="linearRampToValueAtTime"?this.linearRampToValueAtTime(this._toType(r),i):l.type==="exponentialRampToValueAtTime"&&this.exponentialRampToValueAtTime(this._toType(r),i)),this._events.add({time:i,type:"setValueAtTime",value:r}),this._param.setValueAtTime(r,i),this}rampTo(n,i=.1,r){return this.units==="frequency"||this.units==="bpm"||this.units==="decibels"?this.exponentialRampTo(n,i,r):this.linearRampTo(n,i,r),this}apply(n){const i=this.context.currentTime;n.setValueAtTime(this.getValueAtTime(i),i);const r=this._events.get(i);if(r&&r.type==="setTargetAtTime"){const o=this._events.getAfter(r.time),l=o?o.time:i+2,h=(l-i)/10;for(let c=i;c<l;c+=h)n.linearRampToValueAtTime(this.getValueAtTime(c),c)}return this._events.forEachAfter(this.context.currentTime,o=>{o.type==="cancelScheduledValues"?n.cancelScheduledValues(o.time):o.type==="setTargetAtTime"?n.setTargetAtTime(o.value,o.time,o.constant):n[o.type](o.value,o.time)}),this}setParam(n){Rt(this._swappable,"The Param must be assigned as 'swappable' in the constructor");const i=this.input;return i.disconnect(this._param),this.apply(n),this._param=n,i.connect(this._param),this}dispose(){return super.dispose(),this._events.dispose(),this}get defaultValue(){return this._toType(this._param.defaultValue)}_exponentialApproach(n,i,r,o,l){return r+(i-r)*Math.exp(-(l-n)/o)}_linearInterpolate(n,i,r,o,l){return i+(o-i)*((l-n)/(r-n))}_exponentialInterpolate(n,i,r,o,l){return i*Math.pow(o/i,(l-n)/(r-n))}}class Zt extends dn{constructor(){super(...arguments),this._internalChannels=[]}get numberOfInputs(){return Pt(this.input)?Bs(this.input)||this.input instanceof Se?1:this.input.numberOfInputs:0}get numberOfOutputs(){return Pt(this.output)?this.output.numberOfOutputs:0}_isAudioNode(n){return Pt(n)&&(n instanceof Zt||is(n))}_getInternalNodes(){const n=this._internalChannels.slice(0);return this._isAudioNode(this.input)&&n.push(this.input),this._isAudioNode(this.output)&&this.input!==this.output&&n.push(this.output),n}_setChannelProperties(n){this._getInternalNodes().forEach(r=>{r.channelCount=n.channelCount,r.channelCountMode=n.channelCountMode,r.channelInterpretation=n.channelInterpretation})}_getChannelProperties(){const n=this._getInternalNodes();Rt(n.length>0,"ToneAudioNode does not have any internal nodes");const i=n[0];return{channelCount:i.channelCount,channelCountMode:i.channelCountMode,channelInterpretation:i.channelInterpretation}}get channelCount(){return this._getChannelProperties().channelCount}set channelCount(n){const i=this._getChannelProperties();this._setChannelProperties(Object.assign(i,{channelCount:n}))}get channelCountMode(){return this._getChannelProperties().channelCountMode}set channelCountMode(n){const i=this._getChannelProperties();this._setChannelProperties(Object.assign(i,{channelCountMode:n}))}get channelInterpretation(){return this._getChannelProperties().channelInterpretation}set channelInterpretation(n){const i=this._getChannelProperties();this._setChannelProperties(Object.assign(i,{channelInterpretation:n}))}connect(n,i=0,r=0){return Ls(this,n,i,r),this}toDestination(){return this.connect(this.context.destination),this}toMaster(){return Wl("toMaster() has been renamed toDestination()"),this.toDestination()}disconnect(n,i=0,r=0){return ow(this,n,i,r),this}chain(...n){return $h(this,...n),this}fan(...n){return n.forEach(i=>this.connect(i)),this}dispose(){return super.dispose(),Pt(this.input)&&(this.input instanceof Zt?this.input.dispose():is(this.input)&&this.input.disconnect()),Pt(this.output)&&(this.output instanceof Zt?this.output.dispose():is(this.output)&&this.output.disconnect()),this._internalChannels=[],this}}function $h(...u){const n=u.shift();u.reduce((i,r)=>(i instanceof Zt?i.connect(r):is(i)&&Ls(i,r),r),n)}function Ls(u,n,i=0,r=0){for(Rt(Pt(u),"Cannot connect from undefined node"),Rt(Pt(n),"Cannot connect to undefined node"),(n instanceof Zt||is(n))&&Rt(n.numberOfInputs>0,"Cannot connect to node with no inputs"),Rt(u.numberOfOutputs>0,"Cannot connect from node with no outputs");n instanceof Zt||n instanceof Se;)Pt(n.input)&&(n=n.input);for(;u instanceof Zt;)Pt(u.output)&&(u=u.output);Bs(n)?u.connect(n,i):u.connect(n,i,r)}function ow(u,n,i=0,r=0){if(Pt(n))for(;n instanceof Zt;)n=n.input;for(;!is(u);)Pt(u.output)&&(u=u.output);Bs(n)?u.disconnect(n,i):is(n)?u.disconnect(n,i,r):u.disconnect()}class tn extends Zt{constructor(){const n=It(tn.getDefaults(),arguments,["gain","units"]);super(n),this.name="Gain",this._gainNode=this.context.createGain(),this.input=this._gainNode,this.output=this._gainNode,this.gain=new Se({context:this.context,convert:n.convert,param:this._gainNode.gain,units:n.units,value:n.gain,minValue:n.minValue,maxValue:n.maxValue}),ke(this,"gain")}static getDefaults(){return Object.assign(Zt.getDefaults(),{convert:!0,gain:1,units:"gain"})}dispose(){return super.dispose(),this._gainNode.disconnect(),this.gain.dispose(),this}}class Ur extends Zt{constructor(n){super(n),this.onended=oe,this._startTime=-1,this._stopTime=-1,this._timeout=-1,this.output=new tn({context:this.context,gain:0}),this._gainNode=this.output,this.getStateAtTime=function(i){const r=this.toSeconds(i);return this._startTime!==-1&&r>=this._startTime&&(this._stopTime===-1||r<=this._stopTime)?"started":"stopped"},this._fadeIn=n.fadeIn,this._fadeOut=n.fadeOut,this._curve=n.curve,this.onended=n.onended}static getDefaults(){return Object.assign(Zt.getDefaults(),{curve:"linear",fadeIn:0,fadeOut:0,onended:oe})}_startGain(n,i=1){Rt(this._startTime===-1,"Source cannot be started more than once");const r=this.toSeconds(this._fadeIn);return this._startTime=n+r,this._startTime=Math.max(this._startTime,this.context.currentTime),r>0?(this._gainNode.gain.setValueAtTime(0,n),this._curve==="linear"?this._gainNode.gain.linearRampToValueAtTime(i,n+r):this._gainNode.gain.exponentialApproachValueAtTime(i,n,r)):this._gainNode.gain.setValueAtTime(i,n),this}stop(n){return this.log("stop",n),this._stopGain(this.toSeconds(n)),this}_stopGain(n){Rt(this._startTime!==-1,"'start' must be called before 'stop'"),this.cancelStop();const i=this.toSeconds(this._fadeOut);return this._stopTime=this.toSeconds(n)+i,this._stopTime=Math.max(this._stopTime,this.now()),i>0?this._curve==="linear"?this._gainNode.gain.linearRampTo(0,i,n):this._gainNode.gain.targetRampTo(0,i,n):(this._gainNode.gain.cancelAndHoldAtTime(n),this._gainNode.gain.setValueAtTime(0,n)),this.context.clearTimeout(this._timeout),this._timeout=this.context.setTimeout(()=>{const r=this._curve==="exponential"?i*2:0;this._stopSource(this.now()+r),this._onended()},this._stopTime-this.context.currentTime),this}_onended(){if(this.onended!==oe&&(this.onended(this),this.onended=oe,!this.context.isOffline)){const n=()=>this.dispose();typeof requestIdleCallback<"u"?requestIdleCallback(n):setTimeout(n,10)}}get state(){return this.getStateAtTime(this.now())}cancelStop(){return this.log("cancelStop"),Rt(this._startTime!==-1,"Source is not started"),this._gainNode.gain.cancelScheduledValues(this._startTime+this.sampleTime),this.context.clearTimeout(this._timeout),this._stopTime=-1,this}dispose(){return super.dispose(),this._gainNode.dispose(),this.onended=oe,this}}class Af extends Ur{constructor(){const n=It(Af.getDefaults(),arguments,["offset"]);super(n),this.name="ToneConstantSource",this._source=this.context.createConstantSource(),Ls(this._source,this._gainNode),this.offset=new Se({context:this.context,convert:n.convert,param:this._source.offset,units:n.units,value:n.offset,minValue:n.minValue,maxValue:n.maxValue})}static getDefaults(){return Object.assign(Ur.getDefaults(),{convert:!0,offset:1,units:"number"})}start(n){const i=this.toSeconds(n);return this.log("start",i),this._startGain(i),this._source.start(i),this}_stopSource(n){this._source.stop(n)}dispose(){return super.dispose(),this.state==="started"&&this.stop(),this._source.disconnect(),this.offset.dispose(),this}}class Ye extends Zt{constructor(){const n=It(Ye.getDefaults(),arguments,["value","units"]);super(n),this.name="Signal",this.override=!0,this.output=this._constantSource=new Af({context:this.context,convert:n.convert,offset:n.value,units:n.units,minValue:n.minValue,maxValue:n.maxValue}),this._constantSource.start(0),this.input=this._param=this._constantSource.offset}static getDefaults(){return Object.assign(Zt.getDefaults(),{convert:!0,units:"number",value:0})}connect(n,i=0,r=0){return kf(this,n,i,r),this}dispose(){return super.dispose(),this._param.dispose(),this._constantSource.dispose(),this}setValueAtTime(n,i){return this._param.setValueAtTime(n,i),this}getValueAtTime(n){return this._param.getValueAtTime(n)}setRampPoint(n){return this._param.setRampPoint(n),this}linearRampToValueAtTime(n,i){return this._param.linearRampToValueAtTime(n,i),this}exponentialRampToValueAtTime(n,i){return this._param.exponentialRampToValueAtTime(n,i),this}exponentialRampTo(n,i,r){return this._param.exponentialRampTo(n,i,r),this}linearRampTo(n,i,r){return this._param.linearRampTo(n,i,r),this}targetRampTo(n,i,r){return this._param.targetRampTo(n,i,r),this}exponentialApproachValueAtTime(n,i,r){return this._param.exponentialApproachValueAtTime(n,i,r),this}setTargetAtTime(n,i,r){return this._param.setTargetAtTime(n,i,r),this}setValueCurveAtTime(n,i,r,o){return this._param.setValueCurveAtTime(n,i,r,o),this}cancelScheduledValues(n){return this._param.cancelScheduledValues(n),this}cancelAndHoldAtTime(n){return this._param.cancelAndHoldAtTime(n),this}rampTo(n,i,r){return this._param.rampTo(n,i,r),this}get value(){return this._param.value}set value(n){this._param.value=n}get convert(){return this._param.convert}set convert(n){this._param.convert=n}get units(){return this._param.units}get overridden(){return this._param.overridden}set overridden(n){this._param.overridden=n}get maxValue(){return this._param.maxValue}get minValue(){return this._param.minValue}apply(n){return this._param.apply(n),this}}function kf(u,n,i,r){(n instanceof Se||Bs(n)||n instanceof Ye&&n.override)&&(n.cancelScheduledValues(0),n.setValueAtTime(0,0),n instanceof Ye&&(n.overridden=!0)),Ls(u,n,i,r)}class Cf extends Se{constructor(){const n=It(Cf.getDefaults(),arguments,["value"]);super(n),this.name="TickParam",this._events=new In(1/0),this._multiplier=1,this._multiplier=n.multiplier,this._events.cancel(0),this._events.add({ticks:0,time:0,type:"setValueAtTime",value:this._fromType(n.value)}),this.setValueAtTime(n.value,0)}static getDefaults(){return Object.assign(Se.getDefaults(),{multiplier:1,units:"hertz",value:1})}setTargetAtTime(n,i,r){i=this.toSeconds(i),this.setRampPoint(i);const o=this._fromType(n),l=this._events.get(i),h=Math.round(Math.max(1/r,1));for(let c=0;c<=h;c++){const d=r*c+i,p=this._exponentialApproach(l.time,l.value,o,r,d);this.linearRampToValueAtTime(this._toType(p),d)}return this}setValueAtTime(n,i){const r=this.toSeconds(i);super.setValueAtTime(n,i);const o=this._events.get(r),l=this._events.previousEvent(o),h=this._getTicksUntilEvent(l,r);return o.ticks=Math.max(h,0),this}linearRampToValueAtTime(n,i){const r=this.toSeconds(i);super.linearRampToValueAtTime(n,i);const o=this._events.get(r),l=this._events.previousEvent(o),h=this._getTicksUntilEvent(l,r);return o.ticks=Math.max(h,0),this}exponentialRampToValueAtTime(n,i){i=this.toSeconds(i);const r=this._fromType(n),o=this._events.get(i),l=Math.round(Math.max((i-o.time)*10,1)),h=(i-o.time)/l;for(let c=0;c<=l;c++){const d=h*c+o.time,p=this._exponentialInterpolate(o.time,o.value,i,r,d);this.linearRampToValueAtTime(this._toType(p),d)}return this}_getTicksUntilEvent(n,i){if(n===null)n={ticks:0,time:0,type:"setValueAtTime",value:0};else if(Bn(n.ticks)){const h=this._events.previousEvent(n);n.ticks=this._getTicksUntilEvent(h,n.time)}const r=this._fromType(this.getValueAtTime(n.time));let o=this._fromType(this.getValueAtTime(i));const l=this._events.get(i);return l&&l.time===i&&l.type==="setValueAtTime"&&(o=this._fromType(this.getValueAtTime(i-this.sampleTime))),.5*(i-n.time)*(r+o)+n.ticks}getTicksAtTime(n){const i=this.toSeconds(n),r=this._events.get(i);return Math.max(this._getTicksUntilEvent(r,i),0)}getDurationOfTicks(n,i){const r=this.toSeconds(i),o=this.getTicksAtTime(i);return this.getTimeOfTick(o+n)-r}getTimeOfTick(n){const i=this._events.get(n,"ticks"),r=this._events.getAfter(n,"ticks");if(i&&i.ticks===n)return i.time;if(i&&r&&r.type==="linearRampToValueAtTime"&&i.value!==r.value){const o=this._fromType(this.getValueAtTime(i.time)),h=(this._fromType(this.getValueAtTime(r.time))-o)/(r.time-i.time),c=Math.sqrt(Math.pow(o,2)-2*h*(i.ticks-n)),d=(-o+c)/h,p=(-o-c)/h;return(d>0?d:p)+i.time}else return i?i.value===0?1/0:i.time+(n-i.ticks)/i.value:n/this._initialValue}ticksToTime(n,i){return this.getDurationOfTicks(n,i)}timeToTicks(n,i){const r=this.toSeconds(i),o=this.toSeconds(n),l=this.getTicksAtTime(r);return this.getTicksAtTime(r+o)-l}_fromType(n){return this.units==="bpm"&&this.multiplier?1/(60/n/this.multiplier):super._fromType(n)}_toType(n){return this.units==="bpm"&&this.multiplier?n/this.multiplier*60:super._toType(n)}get multiplier(){return this._multiplier}set multiplier(n){const i=this.value;this._multiplier=n,this.cancelScheduledValues(0),this.setValueAtTime(i,0)}}class Nf extends Ye{constructor(){const n=It(Nf.getDefaults(),arguments,["value"]);super(n),this.name="TickSignal",this.input=this._param=new Cf({context:this.context,convert:n.convert,multiplier:n.multiplier,param:this._constantSource.offset,units:n.units,value:n.value})}static getDefaults(){return Object.assign(Ye.getDefaults(),{multiplier:1,units:"hertz",value:1})}ticksToTime(n,i){return this._param.ticksToTime(n,i)}timeToTicks(n,i){return this._param.timeToTicks(n,i)}getTimeOfTick(n){return this._param.getTimeOfTick(n)}getDurationOfTicks(n,i){return this._param.getDurationOfTicks(n,i)}getTicksAtTime(n){return this._param.getTicksAtTime(n)}get multiplier(){return this._param.multiplier}set multiplier(n){this._param.multiplier=n}dispose(){return super.dispose(),this._param.dispose(),this}}class Ef extends dn{constructor(){const n=It(Ef.getDefaults(),arguments,["frequency"]);super(n),this.name="TickSource",this._state=new wf,this._tickOffset=new In,this._ticksAtTime=new In,this._secondsAtTime=new In,this.frequency=new Nf({context:this.context,units:n.units,value:n.frequency}),ke(this,"frequency"),this._state.setStateAtTime("stopped",0),this.setTicksAtTime(0,0)}static getDefaults(){return Object.assign({frequency:1,units:"hertz"},dn.getDefaults())}get state(){return this.getStateAtTime(this.now())}start(n,i){const r=this.toSeconds(n);return this._state.getValueAtTime(r)!=="started"&&(this._state.setStateAtTime("started",r),Pt(i)&&this.setTicksAtTime(i,r),this._ticksAtTime.cancel(r),this._secondsAtTime.cancel(r)),this}stop(n){const i=this.toSeconds(n);if(this._state.getValueAtTime(i)==="stopped"){const r=this._state.get(i);r&&r.time>0&&(this._tickOffset.cancel(r.time),this._state.cancel(r.time))}return this._state.cancel(i),this._state.setStateAtTime("stopped",i),this.setTicksAtTime(0,i),this._ticksAtTime.cancel(i),this._secondsAtTime.cancel(i),this}pause(n){const i=this.toSeconds(n);return this._state.getValueAtTime(i)==="started"&&(this._state.setStateAtTime("paused",i),this._ticksAtTime.cancel(i),this._secondsAtTime.cancel(i)),this}cancel(n){return n=this.toSeconds(n),this._state.cancel(n),this._tickOffset.cancel(n),this._ticksAtTime.cancel(n),this._secondsAtTime.cancel(n),this}getTicksAtTime(n){const i=this.toSeconds(n),r=this._state.getLastState("stopped",i),o=this._ticksAtTime.get(i),l={state:"paused",time:i};this._state.add(l);let h=o||r,c=o?o.ticks:0,d=null;return this._state.forEachBetween(h.time,i+this.sampleTime,p=>{let m=h.time;const _=this._tickOffset.get(p.time);_&&_.time>=h.time&&(c=_.ticks,m=_.time),h.state==="started"&&p.state!=="started"&&(c+=this.frequency.getTicksAtTime(p.time)-this.frequency.getTicksAtTime(m),p.time!==l.time&&(d={state:p.state,time:p.time,ticks:c})),h=p}),this._state.remove(l),d&&this._ticksAtTime.add(d),c}get ticks(){return this.getTicksAtTime(this.now())}set ticks(n){this.setTicksAtTime(n,this.now())}get seconds(){return this.getSecondsAtTime(this.now())}set seconds(n){const i=this.now(),r=this.frequency.timeToTicks(n,i);this.setTicksAtTime(r,i)}getSecondsAtTime(n){n=this.toSeconds(n);const i=this._state.getLastState("stopped",n),r={state:"paused",time:n};this._state.add(r);const o=this._secondsAtTime.get(n);let l=o||i,h=o?o.seconds:0,c=null;return this._state.forEachBetween(l.time,n+this.sampleTime,d=>{let p=l.time;const m=this._tickOffset.get(d.time);m&&m.time>=l.time&&(h=m.seconds,p=m.time),l.state==="started"&&d.state!=="started"&&(h+=d.time-p,d.time!==r.time&&(c={state:d.state,time:d.time,seconds:h})),l=d}),this._state.remove(r),c&&this._secondsAtTime.add(c),h}setTicksAtTime(n,i){return i=this.toSeconds(i),this._tickOffset.cancel(i),this._tickOffset.add({seconds:this.frequency.getDurationOfTicks(n,i),ticks:n,time:i}),this._ticksAtTime.cancel(i),this._secondsAtTime.cancel(i),this}getStateAtTime(n){return n=this.toSeconds(n),this._state.getValueAtTime(n)}getTimeOfTick(n,i=this.now()){const r=this._tickOffset.get(i),o=this._state.get(i),l=Math.max(r.time,o.time),h=this.frequency.getTicksAtTime(l)+n-r.ticks;return this.frequency.getTimeOfTick(h)}forEachTickBetween(n,i,r){let o=this._state.get(n);this._state.forEachBetween(n,i,h=>{o&&o.state==="started"&&h.state!=="started"&&this.forEachTickBetween(Math.max(o.time,n),h.time-this.sampleTime,r),o=h});let l=null;if(o&&o.state==="started"){const h=Math.max(o.time,n),c=this.frequency.getTicksAtTime(h),d=this.frequency.getTicksAtTime(o.time),p=c-d;let m=Math.ceil(p)-p;m=Zn(m,1)?0:m;let _=this.frequency.getTimeOfTick(c+m);for(;_<i;){try{r(_,Math.round(this.getTicksAtTime(_)))}catch(b){l=b;break}_+=this.frequency.getDurationOfTicks(1,_)}}if(l)throw l;return this}dispose(){return super.dispose(),this._state.dispose(),this._tickOffset.dispose(),this._ticksAtTime.dispose(),this._secondsAtTime.dispose(),this.frequency.dispose(),this}}class $l extends dn{constructor(){const n=It($l.getDefaults(),arguments,["callback","frequency"]);super(n),this.name="Clock",this.callback=oe,this._lastUpdate=0,this._state=new wf("stopped"),this._boundLoop=this._loop.bind(this),this.callback=n.callback,this._tickSource=new Ef({context:this.context,frequency:n.frequency,units:n.units}),this._lastUpdate=0,this.frequency=this._tickSource.frequency,ke(this,"frequency"),this._state.setStateAtTime("stopped",0),this.context.on("tick",this._boundLoop)}static getDefaults(){return Object.assign(dn.getDefaults(),{callback:oe,frequency:1,units:"hertz"})}get state(){return this._state.getValueAtTime(this.now())}start(n,i){U0(this.context);const r=this.toSeconds(n);return this.log("start",r),this._state.getValueAtTime(r)!=="started"&&(this._state.setStateAtTime("started",r),this._tickSource.start(r,i),r<this._lastUpdate&&this.emit("start",r,i)),this}stop(n){const i=this.toSeconds(n);return this.log("stop",i),this._state.cancel(i),this._state.setStateAtTime("stopped",i),this._tickSource.stop(i),i<this._lastUpdate&&this.emit("stop",i),this}pause(n){const i=this.toSeconds(n);return this._state.getValueAtTime(i)==="started"&&(this._state.setStateAtTime("paused",i),this._tickSource.pause(i),i<this._lastUpdate&&this.emit("pause",i)),this}get ticks(){return Math.ceil(this.getTicksAtTime(this.now()))}set ticks(n){this._tickSource.ticks=n}get seconds(){return this._tickSource.seconds}set seconds(n){this._tickSource.seconds=n}getSecondsAtTime(n){return this._tickSource.getSecondsAtTime(n)}setTicksAtTime(n,i){return this._tickSource.setTicksAtTime(n,i),this}getTimeOfTick(n,i=this.now()){return this._tickSource.getTimeOfTick(n,i)}getTicksAtTime(n){return this._tickSource.getTicksAtTime(n)}nextTickTime(n,i){const r=this.toSeconds(i),o=this.getTicksAtTime(r);return this._tickSource.getTimeOfTick(o+n,r)}_loop(){const n=this._lastUpdate,i=this.now();this._lastUpdate=i,this.log("loop",n,i),n!==i&&(this._state.forEachBetween(n,i,r=>{switch(r.state){case"started":const o=this._tickSource.getTicksAtTime(r.time);this.emit("start",r.time,o);break;case"stopped":r.time!==0&&this.emit("stop",r.time);break;case"paused":this.emit("pause",r.time);break}}),this._tickSource.forEachTickBetween(n,i,(r,o)=>{this.callback(r,o)}))}getStateAtTime(n){const i=this.toSeconds(n);return this._state.getValueAtTime(i)}dispose(){return super.dispose(),this.context.off("tick",this._boundLoop),this._tickSource.dispose(),this._state.dispose(),this}}oo.mixin($l);class Pr extends Zt{constructor(){const n=It(Pr.getDefaults(),arguments,["volume"]);super(n),this.name="Volume",this.input=this.output=new tn({context:this.context,gain:n.volume,units:"decibels"}),this.volume=this.output.gain,ke(this,"volume"),this._unmutedVolume=n.volume,this.mute=n.mute}static getDefaults(){return Object.assign(Zt.getDefaults(),{mute:!1,volume:0})}get mute(){return this.volume.value===-1/0}set mute(n){!this.mute&&n?(this._unmutedVolume=this.volume.value,this.volume.value=-1/0):this.mute&&!n&&(this.volume.value=this._unmutedVolume)}dispose(){return super.dispose(),this.input.dispose(),this.volume.dispose(),this}}class Of extends Zt{constructor(){const n=It(Of.getDefaults(),arguments);super(n),this.name="Destination",this.input=new Pr({context:this.context}),this.output=new tn({context:this.context}),this.volume=this.input.volume,$h(this.input,this.output,this.context.rawContext.destination),this.mute=n.mute,this._internalChannels=[this.input,this.context.rawContext.destination,this.output]}static getDefaults(){return Object.assign(Zt.getDefaults(),{mute:!1,volume:0})}get mute(){return this.input.mute}set mute(n){this.input.mute=n}chain(...n){return this.input.disconnect(),n.unshift(this.input),n.push(this.output),$h(...n),this}get maxChannelCount(){return this.context.rawContext.destination.maxChannelCount}dispose(){return super.dispose(),this.volume.dispose(),this}}Ql(u=>{u.destination=new Of({context:u})});Kl(u=>{u.destination.dispose()});class lw extends Zt{constructor(){super(...arguments),this.name="Listener",this.positionX=new Se({context:this.context,param:this.context.rawContext.listener.positionX}),this.positionY=new Se({context:this.context,param:this.context.rawContext.listener.positionY}),this.positionZ=new Se({context:this.context,param:this.context.rawContext.listener.positionZ}),this.forwardX=new Se({context:this.context,param:this.context.rawContext.listener.forwardX}),this.forwardY=new Se({context:this.context,param:this.context.rawContext.listener.forwardY}),this.forwardZ=new Se({context:this.context,param:this.context.rawContext.listener.forwardZ}),this.upX=new Se({context:this.context,param:this.context.rawContext.listener.upX}),this.upY=new Se({context:this.context,param:this.context.rawContext.listener.upY}),this.upZ=new Se({context:this.context,param:this.context.rawContext.listener.upZ})}static getDefaults(){return Object.assign(Zt.getDefaults(),{positionX:0,positionY:0,positionZ:0,forwardX:0,forwardY:0,forwardZ:-1,upX:0,upY:1,upZ:0})}dispose(){return super.dispose(),this.positionX.dispose(),this.positionY.dispose(),this.positionZ.dispose(),this.forwardX.dispose(),this.forwardY.dispose(),this.forwardZ.dispose(),this.upX.dispose(),this.upY.dispose(),this.upZ.dispose(),this}}Ql(u=>{u.listener=new lw({context:u})});Kl(u=>{u.listener.dispose()});class Mf extends Ni{constructor(){super(),this.name="ToneAudioBuffers",this._buffers=new Map,this._loadingCount=0;const n=It(Mf.getDefaults(),arguments,["urls","onload","baseUrl"],"urls");this.baseUrl=n.baseUrl,Object.keys(n.urls).forEach(i=>{this._loadingCount++;const r=n.urls[i];this.add(i,r,this._bufferLoaded.bind(this,n.onload),n.onerror)})}static getDefaults(){return{baseUrl:"",onerror:oe,onload:oe,urls:{}}}has(n){return this._buffers.has(n.toString())}get(n){return Rt(this.has(n),`ToneAudioBuffers has no buffer named: ${n}`),this._buffers.get(n.toString())}_bufferLoaded(n){this._loadingCount--,this._loadingCount===0&&n&&n()}get loaded(){return Array.from(this._buffers).every(([n,i])=>i.loaded)}add(n,i,r=oe,o=oe){return ki(i)?(this.baseUrl&&i.trim().substring(0,11).toLowerCase()==="data:audio/"&&(this.baseUrl=""),this._buffers.set(n.toString(),new ge(this.baseUrl+i,r,o))):this._buffers.set(n.toString(),new ge(i,r,o)),this}dispose(){return super.dispose(),this._buffers.forEach(n=>n.dispose()),this._buffers.clear(),this}}class Vl extends wn{constructor(){super(...arguments),this.name="MidiClass",this.defaultUnits="midi"}_frequencyToUnits(n){return Rs(super._frequencyToUnits(n))}_ticksToUnits(n){return Rs(super._ticksToUnits(n))}_beatsToUnits(n){return Rs(super._beatsToUnits(n))}_secondsToUnits(n){return Rs(super._secondsToUnits(n))}toMidi(){return this.valueOf()}toFrequency(){return Y0(this.toMidi())}transpose(n){return new Vl(this.context,this.toMidi()+n)}}class Or extends Wa{constructor(){super(...arguments),this.name="Ticks",this.defaultUnits="i"}_now(){return this.context.transport.ticks}_beatsToUnits(n){return this._getPPQ()*n}_secondsToUnits(n){return Math.floor(n/(60/this._getBpm())*this._getPPQ())}_ticksToUnits(n){return n}toTicks(){return this.valueOf()}toSeconds(){return this.valueOf()/this._getPPQ()*(60/this._getBpm())}}class uw extends dn{constructor(){super(...arguments),this.name="Draw",this.expiration=.25,this.anticipation=.008,this._events=new In,this._boundDrawLoop=this._drawLoop.bind(this),this._animationFrame=-1}schedule(n,i){return this._events.add({callback:n,time:this.toSeconds(i)}),this._events.length===1&&(this._animationFrame=requestAnimationFrame(this._boundDrawLoop)),this}cancel(n){return this._events.cancel(this.toSeconds(n)),this}_drawLoop(){const n=this.context.currentTime;this._events.forEachBefore(n+this.anticipation,i=>{n-i.time<=this.expiration&&i.callback(),this._events.remove(i)}),this._events.length>0&&(this._animationFrame=requestAnimationFrame(this._boundDrawLoop))}dispose(){return super.dispose(),this._events.dispose(),cancelAnimationFrame(this._animationFrame),this}}Ql(u=>{u.draw=new uw({context:u})});Kl(u=>{u.draw.dispose()});class cw extends Ni{constructor(){super(...arguments),this.name="IntervalTimeline",this._root=null,this._length=0}add(n){Rt(Pt(n.time),"Events must have a time property"),Rt(Pt(n.duration),"Events must have a duration parameter"),n.time=n.time.valueOf();let i=new hw(n.time,n.time+n.duration,n);for(this._root===null?this._root=i:this._root.insert(i),this._length++;i!==null;)i.updateHeight(),i.updateMax(),this._rebalance(i),i=i.parent;return this}remove(n){if(this._root!==null){const i=[];this._root.search(n.time,i);for(const r of i)if(r.event===n){this._removeNode(r),this._length--;break}}return this}get length(){return this._length}cancel(n){return this.forEachFrom(n,i=>this.remove(i)),this}_setRoot(n){this._root=n,this._root!==null&&(this._root.parent=null)}_replaceNodeInParent(n,i){n.parent!==null?(n.isLeftChild()?n.parent.left=i:n.parent.right=i,this._rebalance(n.parent)):this._setRoot(i)}_removeNode(n){if(n.left===null&&n.right===null)this._replaceNodeInParent(n,null);else if(n.right===null)this._replaceNodeInParent(n,n.left);else if(n.left===null)this._replaceNodeInParent(n,n.right);else{const i=n.getBalance();let r,o=null;if(i>0)if(n.left.right===null)r=n.left,r.right=n.right,o=r;else{for(r=n.left.right;r.right!==null;)r=r.right;r.parent&&(r.parent.right=r.left,o=r.parent,r.left=n.left,r.right=n.right)}else if(n.right.left===null)r=n.right,r.left=n.left,o=r;else{for(r=n.right.left;r.left!==null;)r=r.left;r.parent&&(r.parent.left=r.right,o=r.parent,r.left=n.left,r.right=n.right)}n.parent!==null?n.isLeftChild()?n.parent.left=r:n.parent.right=r:this._setRoot(r),o&&this._rebalance(o)}n.dispose()}_rotateLeft(n){const i=n.parent,r=n.isLeftChild(),o=n.right;o&&(n.right=o.left,o.left=n),i!==null?r?i.left=o:i.right=o:this._setRoot(o)}_rotateRight(n){const i=n.parent,r=n.isLeftChild(),o=n.left;o&&(n.left=o.right,o.right=n),i!==null?r?i.left=o:i.right=o:this._setRoot(o)}_rebalance(n){const i=n.getBalance();i>1&&n.left?n.left.getBalance()<0?this._rotateLeft(n.left):this._rotateRight(n):i<-1&&n.right&&(n.right.getBalance()>0?this._rotateRight(n.right):this._rotateLeft(n))}get(n){if(this._root!==null){const i=[];if(this._root.search(n,i),i.length>0){let r=i[0];for(let o=1;o<i.length;o++)i[o].low>r.low&&(r=i[o]);return r.event}}return null}forEach(n){if(this._root!==null){const i=[];this._root.traverse(r=>i.push(r)),i.forEach(r=>{r.event&&n(r.event)})}return this}forEachAtTime(n,i){if(this._root!==null){const r=[];this._root.search(n,r),r.forEach(o=>{o.event&&i(o.event)})}return this}forEachFrom(n,i){if(this._root!==null){const r=[];this._root.searchAfter(n,r),r.forEach(o=>{o.event&&i(o.event)})}return this}dispose(){return super.dispose(),this._root!==null&&this._root.traverse(n=>n.dispose()),this._root=null,this}}class hw{constructor(n,i,r){this._left=null,this._right=null,this.parent=null,this.height=0,this.event=r,this.low=n,this.high=i,this.max=this.high}insert(n){n.low<=this.low?this.left===null?this.left=n:this.left.insert(n):this.right===null?this.right=n:this.right.insert(n)}search(n,i){n>this.max||(this.left!==null&&this.left.search(n,i),this.low<=n&&this.high>n&&i.push(this),!(this.low>n)&&this.right!==null&&this.right.search(n,i))}searchAfter(n,i){this.low>=n&&(i.push(this),this.left!==null&&this.left.searchAfter(n,i)),this.right!==null&&this.right.searchAfter(n,i)}traverse(n){n(this),this.left!==null&&this.left.traverse(n),this.right!==null&&this.right.traverse(n)}updateHeight(){this.left!==null&&this.right!==null?this.height=Math.max(this.left.height,this.right.height)+1:this.right!==null?this.height=this.right.height+1:this.left!==null?this.height=this.left.height+1:this.height=0}updateMax(){this.max=this.high,this.left!==null&&(this.max=Math.max(this.max,this.left.max)),this.right!==null&&(this.max=Math.max(this.max,this.right.max))}getBalance(){let n=0;return this.left!==null&&this.right!==null?n=this.left.height-this.right.height:this.left!==null?n=this.left.height+1:this.right!==null&&(n=-(this.right.height+1)),n}isLeftChild(){return this.parent!==null&&this.parent.left===this}get left(){return this._left}set left(n){this._left=n,n!==null&&(n.parent=this),this.updateHeight(),this.updateMax()}get right(){return this._right}set right(n){this._right=n,n!==null&&(n.parent=this),this.updateHeight(),this.updateMax()}dispose(){this.parent=null,this._left=null,this._right=null,this.event=null}}class fw extends Ni{constructor(n){super(),this.name="TimelineValue",this._timeline=new In({memory:10}),this._initialValue=n}set(n,i){return this._timeline.add({value:n,time:i}),this}get(n){const i=this._timeline.get(n);return i?i.value:this._initialValue}}class Br extends Zt{constructor(){super(It(Br.getDefaults(),arguments,["context"]))}connect(n,i=0,r=0){return kf(this,n,i,r),this}}class uo extends Br{constructor(){const n=It(uo.getDefaults(),arguments,["mapping","length"]);super(n),this.name="WaveShaper",this._shaper=this.context.createWaveShaper(),this.input=this._shaper,this.output=this._shaper,An(n.mapping)||n.mapping instanceof Float32Array?this.curve=Float32Array.from(n.mapping):UT(n.mapping)&&this.setMap(n.mapping,n.length)}static getDefaults(){return Object.assign(Ye.getDefaults(),{length:1024})}setMap(n,i=1024){const r=new Float32Array(i);for(let o=0,l=i;o<l;o++){const h=o/(l-1)*2-1;r[o]=n(h,o)}return this.curve=r,this}get curve(){return this._shaper.curve}set curve(n){this._shaper.curve=n}get oversample(){return this._shaper.oversample}set oversample(n){const i=["none","2x","4x"].some(r=>r.includes(n));Rt(i,"oversampling must be either 'none', '2x', or '4x'"),this._shaper.oversample=n}dispose(){return super.dispose(),this._shaper.disconnect(),this}}class Df extends Br{constructor(){const n=It(Df.getDefaults(),arguments,["value"]);super(n),this.name="Pow",this._exponentScaler=this.input=this.output=new uo({context:this.context,mapping:this._expFunc(n.value),length:8192}),this._exponent=n.value}static getDefaults(){return Object.assign(Br.getDefaults(),{value:1})}_expFunc(n){return i=>Math.pow(Math.abs(i),n)}get value(){return this._exponent}set value(n){this._exponent=n,this._exponentScaler.setMap(this._expFunc(this._exponent))}dispose(){return super.dispose(),this._exponentScaler.dispose(),this}}class as{constructor(n,i){this.id=as._eventId++,this._remainderTime=0;const r=Object.assign(as.getDefaults(),i);this.transport=n,this.callback=r.callback,this._once=r.once,this.time=Math.floor(r.time),this._remainderTime=r.time-this.time}static getDefaults(){return{callback:oe,once:!1,time:0}}get floatTime(){return this.time+this._remainderTime}invoke(n){if(this.callback){const i=this.transport.bpm.getDurationOfTicks(1,n);this.callback(n+this._remainderTime*i),this._once&&this.transport.clear(this.id)}}dispose(){return this.callback=void 0,this}}as._eventId=0;class Rf extends as{constructor(n,i){super(n,i),this._currentId=-1,this._nextId=-1,this._nextTick=this.time,this._boundRestart=this._restart.bind(this);const r=Object.assign(Rf.getDefaults(),i);this.duration=r.duration,this._interval=r.interval,this._nextTick=r.time,this.transport.on("start",this._boundRestart),this.transport.on("loopStart",this._boundRestart),this.transport.on("ticks",this._boundRestart),this.context=this.transport.context,this._restart()}static getDefaults(){return Object.assign({},as.getDefaults(),{duration:1/0,interval:1,once:!1})}invoke(n){this._createEvents(n),super.invoke(n)}_createEvent(){return ql(this._nextTick,this.floatTime+this.duration)?this.transport.scheduleOnce(this.invoke.bind(this),new Or(this.context,this._nextTick).toSeconds()):-1}_createEvents(n){ql(this._nextTick+this._interval,this.floatTime+this.duration)&&(this._nextTick+=this._interval,this._currentId=this._nextId,this._nextId=this.transport.scheduleOnce(this.invoke.bind(this),new Or(this.context,this._nextTick).toSeconds()))}_restart(n){this.transport.clear(this._currentId),this.transport.clear(this._nextId),this._nextTick=this.floatTime;const i=this.transport.getTicksAtTime(n);jr(i,this.time)&&(this._nextTick=this.floatTime+Math.ceil((i-this.floatTime)/this._interval)*this._interval),this._currentId=this._createEvent(),this._nextTick+=this._interval,this._nextId=this._createEvent()}dispose(){return super.dispose(),this.transport.clear(this._currentId),this.transport.clear(this._nextId),this.transport.off("start",this._boundRestart),this.transport.off("loopStart",this._boundRestart),this.transport.off("ticks",this._boundRestart),this}}class tu extends dn{constructor(){const n=It(tu.getDefaults(),arguments);super(n),this.name="Transport",this._loop=new fw(!1),this._loopStart=0,this._loopEnd=0,this._scheduledEvents={},this._timeline=new In,this._repeatedEvents=new cw,this._syncedSignals=[],this._swingAmount=0,this._ppq=n.ppq,this._clock=new $l({callback:this._processTick.bind(this),context:this.context,frequency:0,units:"bpm"}),this._bindClockEvents(),this.bpm=this._clock.frequency,this._clock.frequency.multiplier=n.ppq,this.bpm.setValueAtTime(n.bpm,0),ke(this,"bpm"),this._timeSignature=n.timeSignature,this._swingTicks=n.ppq/2}static getDefaults(){return Object.assign(dn.getDefaults(),{bpm:120,loopEnd:"4m",loopStart:0,ppq:192,swing:0,swingSubdivision:"8n",timeSignature:4})}_processTick(n,i){if(this._loop.get(n)&&i>=this._loopEnd&&(this.emit("loopEnd",n),this._clock.setTicksAtTime(this._loopStart,n),i=this._loopStart,this.emit("loopStart",n,this._clock.getSecondsAtTime(n)),this.emit("loop",n)),this._swingAmount>0&&i%this._ppq!==0&&i%(this._swingTicks*2)!==0){const r=i%(this._swingTicks*2)/(this._swingTicks*2),o=Math.sin(r*Math.PI)*this._swingAmount;n+=new Or(this.context,this._swingTicks*2/3).toSeconds()*o}n_(!0),this._timeline.forEachAtTime(i,r=>r.invoke(n)),n_(!1)}schedule(n,i){const r=new as(this,{callback:n,time:new Wa(this.context,i).toTicks()});return this._addEvent(r,this._timeline)}scheduleRepeat(n,i,r,o=1/0){const l=new Rf(this,{callback:n,duration:new Pn(this.context,o).toTicks(),interval:new Pn(this.context,i).toTicks(),time:new Wa(this.context,r).toTicks()});return this._addEvent(l,this._repeatedEvents)}scheduleOnce(n,i){const r=new as(this,{callback:n,once:!0,time:new Wa(this.context,i).toTicks()});return this._addEvent(r,this._timeline)}clear(n){if(this._scheduledEvents.hasOwnProperty(n)){const i=this._scheduledEvents[n.toString()];i.timeline.remove(i.event),i.event.dispose(),delete this._scheduledEvents[n.toString()]}return this}_addEvent(n,i){return this._scheduledEvents[n.id.toString()]={event:n,timeline:i},i.add(n),n.id}cancel(n=0){const i=this.toTicks(n);return this._timeline.forEachFrom(i,r=>this.clear(r.id)),this._repeatedEvents.forEachFrom(i,r=>this.clear(r.id)),this}_bindClockEvents(){this._clock.on("start",(n,i)=>{i=new Or(this.context,i).toSeconds(),this.emit("start",n,i)}),this._clock.on("stop",n=>{this.emit("stop",n)}),this._clock.on("pause",n=>{this.emit("pause",n)})}get state(){return this._clock.getStateAtTime(this.now())}start(n,i){this.context.resume();let r;return Pt(i)&&(r=this.toTicks(i)),this._clock.start(n,r),this}stop(n){return this._clock.stop(n),this}pause(n){return this._clock.pause(n),this}toggle(n){return n=this.toSeconds(n),this._clock.getStateAtTime(n)!=="started"?this.start(n):this.stop(n),this}get timeSignature(){return this._timeSignature}set timeSignature(n){An(n)&&(n=n[0]/n[1]*4),this._timeSignature=n}get loopStart(){return new Pn(this.context,this._loopStart,"i").toSeconds()}set loopStart(n){this._loopStart=this.toTicks(n)}get loopEnd(){return new Pn(this.context,this._loopEnd,"i").toSeconds()}set loopEnd(n){this._loopEnd=this.toTicks(n)}get loop(){return this._loop.get(this.now())}set loop(n){this._loop.set(n,this.now())}setLoopPoints(n,i){return this.loopStart=n,this.loopEnd=i,this}get swing(){return this._swingAmount}set swing(n){this._swingAmount=n}get swingSubdivision(){return new Or(this.context,this._swingTicks).toNotation()}set swingSubdivision(n){this._swingTicks=this.toTicks(n)}get position(){const n=this.now(),i=this._clock.getTicksAtTime(n);return new Or(this.context,i).toBarsBeatsSixteenths()}set position(n){const i=this.toTicks(n);this.ticks=i}get seconds(){return this._clock.seconds}set seconds(n){const i=this.now(),r=this._clock.frequency.timeToTicks(n,i);this.ticks=r}get progress(){if(this.loop){const n=this.now();return(this._clock.getTicksAtTime(n)-this._loopStart)/(this._loopEnd-this._loopStart)}else return 0}get ticks(){return this._clock.ticks}set ticks(n){if(this._clock.ticks!==n){const i=this.now();if(this.state==="started"){const r=this._clock.getTicksAtTime(i),o=this._clock.frequency.getDurationOfTicks(Math.ceil(r)-r,i),l=i+o;this.emit("stop",l),this._clock.setTicksAtTime(n,l),this.emit("start",l,this._clock.getSecondsAtTime(l))}else this.emit("ticks",i),this._clock.setTicksAtTime(n,i)}}getTicksAtTime(n){return this._clock.getTicksAtTime(n)}getSecondsAtTime(n){return this._clock.getSecondsAtTime(n)}get PPQ(){return this._clock.frequency.multiplier}set PPQ(n){this._clock.frequency.multiplier=n}nextSubdivision(n){if(n=this.toTicks(n),this.state!=="started")return 0;{const i=this.now(),r=this.getTicksAtTime(i),o=n-r%n;return this._clock.nextTickTime(o,i)}}syncSignal(n,i){const r=this.now();let o=this.bpm,l=1/(60/o.getValueAtTime(r)/this.PPQ),h=[];if(n.units==="time"){const d=.015625/l,p=new tn(d),m=new Df(-1),_=new tn(d);o.chain(p,m,_),o=_,l=1/l,h=[p,m,_]}i||(n.getValueAtTime(r)!==0?i=n.getValueAtTime(r)/l:i=0);const c=new tn(i);return o.connect(c),c.connect(n._param),h.push(c),this._syncedSignals.push({initial:n.value,nodes:h,signal:n}),n.value=0,this}unsyncSignal(n){for(let i=this._syncedSignals.length-1;i>=0;i--){const r=this._syncedSignals[i];r.signal===n&&(r.nodes.forEach(o=>o.dispose()),r.signal.value=r.initial,this._syncedSignals.splice(i,1))}return this}dispose(){return super.dispose(),this._clock.dispose(),F0(this,"bpm"),this._timeline.dispose(),this._repeatedEvents.dispose(),this}}oo.mixin(tu);Ql(u=>{u.transport=new tu({context:u})});Kl(u=>{u.transport.dispose()});class kn extends Zt{constructor(n){super(n),this.input=void 0,this._state=new wf("stopped"),this._synced=!1,this._scheduled=[],this._syncedStart=oe,this._syncedStop=oe,this._state.memory=100,this._state.increasing=!0,this._volume=this.output=new Pr({context:this.context,mute:n.mute,volume:n.volume}),this.volume=this._volume.volume,ke(this,"volume"),this.onstop=n.onstop}static getDefaults(){return Object.assign(Zt.getDefaults(),{mute:!1,onstop:oe,volume:0})}get state(){return this._synced?this.context.transport.state==="started"?this._state.getValueAtTime(this.context.transport.seconds):"stopped":this._state.getValueAtTime(this.now())}get mute(){return this._volume.mute}set mute(n){this._volume.mute=n}_clampToCurrentTime(n){return this._synced?n:Math.max(n,this.context.currentTime)}start(n,i,r){let o=Bn(n)&&this._synced?this.context.transport.seconds:this.toSeconds(n);if(o=this._clampToCurrentTime(o),!this._synced&&this._state.getValueAtTime(o)==="started")Rt(jr(o,this._state.get(o).time),"Start time must be strictly greater than previous start time"),this._state.cancel(o),this._state.setStateAtTime("started",o),this.log("restart",o),this.restart(o,i,r);else if(this.log("start",o),this._state.setStateAtTime("started",o),this._synced){const l=this._state.get(o);l&&(l.offset=this.toSeconds(Dr(i,0)),l.duration=r?this.toSeconds(r):void 0);const h=this.context.transport.schedule(c=>{this._start(c,i,r)},o);this._scheduled.push(h),this.context.transport.state==="started"&&this.context.transport.getSecondsAtTime(this.immediate())>o&&this._syncedStart(this.now(),this.context.transport.seconds)}else U0(this.context),this._start(o,i,r);return this}stop(n){let i=Bn(n)&&this._synced?this.context.transport.seconds:this.toSeconds(n);if(i=this._clampToCurrentTime(i),this._state.getValueAtTime(i)==="started"||Pt(this._state.getNextState("started",i))){if(this.log("stop",i),!this._synced)this._stop(i);else{const r=this.context.transport.schedule(this._stop.bind(this),i);this._scheduled.push(r)}this._state.cancel(i),this._state.setStateAtTime("stopped",i)}return this}restart(n,i,r){return n=this.toSeconds(n),this._state.getValueAtTime(n)==="started"&&(this._state.cancel(n),this._restart(n,i,r)),this}sync(){return this._synced||(this._synced=!0,this._syncedStart=(n,i)=>{if(jr(i,0)){const r=this._state.get(i);if(r&&r.state==="started"&&r.time!==i){const o=i-this.toSeconds(r.time);let l;r.duration&&(l=this.toSeconds(r.duration)-o),this._start(n,this.toSeconds(r.offset)+o,l)}}},this._syncedStop=n=>{const i=this.context.transport.getSecondsAtTime(Math.max(n-this.sampleTime,0));this._state.getValueAtTime(i)==="started"&&this._stop(n)},this.context.transport.on("start",this._syncedStart),this.context.transport.on("loopStart",this._syncedStart),this.context.transport.on("stop",this._syncedStop),this.context.transport.on("pause",this._syncedStop),this.context.transport.on("loopEnd",this._syncedStop)),this}unsync(){return this._synced&&(this.context.transport.off("stop",this._syncedStop),this.context.transport.off("pause",this._syncedStop),this.context.transport.off("loopEnd",this._syncedStop),this.context.transport.off("start",this._syncedStart),this.context.transport.off("loopStart",this._syncedStart)),this._synced=!1,this._scheduled.forEach(n=>this.context.transport.clear(n)),this._scheduled=[],this._state.cancel(0),this._stop(0),this}dispose(){return super.dispose(),this.onstop=oe,this.unsync(),this._volume.dispose(),this._state.dispose(),this}}class eu extends Ur{constructor(){const n=It(eu.getDefaults(),arguments,["url","onload"]);super(n),this.name="ToneBufferSource",this._source=this.context.createBufferSource(),this._internalChannels=[this._source],this._sourceStarted=!1,this._sourceStopped=!1,Ls(this._source,this._gainNode),this._source.onended=()=>this._stopSource(),this.playbackRate=new Se({context:this.context,param:this._source.playbackRate,units:"positive",value:n.playbackRate}),this.loop=n.loop,this.loopStart=n.loopStart,this.loopEnd=n.loopEnd,this._buffer=new ge(n.url,n.onload,n.onerror),this._internalChannels.push(this._source)}static getDefaults(){return Object.assign(Ur.getDefaults(),{url:new ge,loop:!1,loopEnd:0,loopStart:0,onload:oe,onerror:oe,playbackRate:1})}get fadeIn(){return this._fadeIn}set fadeIn(n){this._fadeIn=n}get fadeOut(){return this._fadeOut}set fadeOut(n){this._fadeOut=n}get curve(){return this._curve}set curve(n){this._curve=n}start(n,i,r,o=1){Rt(this.buffer.loaded,"buffer is either not set or not loaded");const l=this.toSeconds(n);this._startGain(l,o),this.loop?i=Dr(i,this.loopStart):i=Dr(i,0);let h=Math.max(this.toSeconds(i),0);if(this.loop){const c=this.toSeconds(this.loopEnd)||this.buffer.duration,d=this.toSeconds(this.loopStart),p=c-d;Jh(h,c)&&(h=(h-d)%p+d),Zn(h,this.buffer.duration)&&(h=0)}if(this._source.buffer=this.buffer.get(),this._source.loopEnd=this.toSeconds(this.loopEnd)||this.buffer.duration,ql(h,this.buffer.duration)&&(this._sourceStarted=!0,this._source.start(l,h)),Pt(r)){let c=this.toSeconds(r);c=Math.max(c,0),this.stop(l+c)}return this}_stopSource(n){!this._sourceStopped&&this._sourceStarted&&(this._sourceStopped=!0,this._source.stop(this.toSeconds(n)),this._onended())}get loopStart(){return this._source.loopStart}set loopStart(n){this._source.loopStart=this.toSeconds(n)}get loopEnd(){return this._source.loopEnd}set loopEnd(n){this._source.loopEnd=this.toSeconds(n)}get buffer(){return this._buffer}set buffer(n){this._buffer.set(n)}get loop(){return this._source.loop}set loop(n){this._source.loop=n,this._sourceStarted&&this.cancelStop()}dispose(){return super.dispose(),this._source.onended=null,this._source.disconnect(),this._buffer.dispose(),this.playbackRate.dispose(),this}}function Fs(u,n){return je(this,void 0,void 0,function*(){const i=n/u.context.sampleRate,r=new xf(1,i,u.context.sampleRate);return new u.constructor(Object.assign(u.get(),{frequency:2/i,detune:0,context:r})).toDestination().start(0),(yield r.render()).getChannelData(0)})}class zf extends Ur{constructor(){const n=It(zf.getDefaults(),arguments,["frequency","type"]);super(n),this.name="ToneOscillatorNode",this._oscillator=this.context.createOscillator(),this._internalChannels=[this._oscillator],Ls(this._oscillator,this._gainNode),this.type=n.type,this.frequency=new Se({context:this.context,param:this._oscillator.frequency,units:"frequency",value:n.frequency}),this.detune=new Se({context:this.context,param:this._oscillator.detune,units:"cents",value:n.detune}),ke(this,["frequency","detune"])}static getDefaults(){return Object.assign(Ur.getDefaults(),{detune:0,frequency:440,type:"sine"})}start(n){const i=this.toSeconds(n);return this.log("start",i),this._startGain(i),this._oscillator.start(i),this}_stopSource(n){this._oscillator.stop(n)}setPeriodicWave(n){return this._oscillator.setPeriodicWave(n),this}get type(){return this._oscillator.type}set type(n){this._oscillator.type=n}dispose(){return super.dispose(),this.state==="started"&&this.stop(),this._oscillator.disconnect(),this.frequency.dispose(),this.detune.dispose(),this}}class ze extends kn{constructor(){const n=It(ze.getDefaults(),arguments,["frequency","type"]);super(n),this.name="Oscillator",this._oscillator=null,this.frequency=new Ye({context:this.context,units:"frequency",value:n.frequency}),ke(this,"frequency"),this.detune=new Ye({context:this.context,units:"cents",value:n.detune}),ke(this,"detune"),this._partials=n.partials,this._partialCount=n.partialCount,this._type=n.type,n.partialCount&&n.type!=="custom"&&(this._type=this.baseType+n.partialCount.toString()),this.phase=n.phase}static getDefaults(){return Object.assign(kn.getDefaults(),{detune:0,frequency:440,partialCount:0,partials:[],phase:0,type:"sine"})}_start(n){const i=this.toSeconds(n),r=new zf({context:this.context,onended:()=>this.onstop(this)});this._oscillator=r,this._wave?this._oscillator.setPeriodicWave(this._wave):this._oscillator.type=this._type,this._oscillator.connect(this.output),this.frequency.connect(this._oscillator.frequency),this.detune.connect(this._oscillator.detune),this._oscillator.start(i)}_stop(n){const i=this.toSeconds(n);this._oscillator&&this._oscillator.stop(i)}_restart(n){const i=this.toSeconds(n);return this.log("restart",i),this._oscillator&&this._oscillator.cancelStop(),this._state.cancel(i),this}syncFrequency(){return this.context.transport.syncSignal(this.frequency),this}unsyncFrequency(){return this.context.transport.unsyncSignal(this.frequency),this}_getCachedPeriodicWave(){if(this._type==="custom")return ze._periodicWaveCache.find(i=>i.phase===this._phase&&PT(i.partials,this._partials));{const n=ze._periodicWaveCache.find(i=>i.type===this._type&&i.phase===this._phase);return this._partialCount=n?n.partialCount:this._partialCount,n}}get type(){return this._type}set type(n){this._type=n;const i=["sine","square","sawtooth","triangle"].indexOf(n)!==-1;if(this._phase===0&&i)this._wave=void 0,this._partialCount=0,this._oscillator!==null&&(this._oscillator.type=n);else{const r=this._getCachedPeriodicWave();if(Pt(r)){const{partials:o,wave:l}=r;this._wave=l,this._partials=o,this._oscillator!==null&&this._oscillator.setPeriodicWave(this._wave)}else{const[o,l]=this._getRealImaginary(n,this._phase),h=this.context.createPeriodicWave(o,l);this._wave=h,this._oscillator!==null&&this._oscillator.setPeriodicWave(this._wave),ze._periodicWaveCache.push({imag:l,partialCount:this._partialCount,partials:this._partials,phase:this._phase,real:o,type:this._type,wave:this._wave}),ze._periodicWaveCache.length>100&&ze._periodicWaveCache.shift()}}}get baseType(){return this._type.replace(this.partialCount.toString(),"")}set baseType(n){this.partialCount&&this._type!=="custom"&&n!=="custom"?this.type=n+this.partialCount:this.type=n}get partialCount(){return this._partialCount}set partialCount(n){rs(n,0);let i=this._type;const r=/^(sine|triangle|square|sawtooth)(\d+)$/.exec(this._type);if(r&&(i=r[1]),this._type!=="custom")n===0?this.type=i:this.type=i+n.toString();else{const o=new Float32Array(n);this._partials.forEach((l,h)=>o[h]=l),this._partials=Array.from(o),this.type=this._type}}_getRealImaginary(n,i){let o=2048;const l=new Float32Array(o),h=new Float32Array(o);let c=1;if(n==="custom"){if(c=this._partials.length+1,this._partialCount=this._partials.length,o=c,this._partials.length===0)return[l,h]}else{const d=/^(sine|triangle|square|sawtooth)(\d+)$/.exec(n);d?(c=parseInt(d[2],10)+1,this._partialCount=parseInt(d[2],10),n=d[1],c=Math.max(c,2),o=c):this._partialCount=0,this._partials=[]}for(let d=1;d<o;++d){const p=2/(d*Math.PI);let m;switch(n){case"sine":m=d<=c?1:0,this._partials[d-1]=m;break;case"square":m=d&1?2*p:0,this._partials[d-1]=m;break;case"sawtooth":m=p*(d&1?1:-1),this._partials[d-1]=m;break;case"triangle":d&1?m=2*(p*p)*(d-1>>1&1?-1:1):m=0,this._partials[d-1]=m;break;case"custom":m=this._partials[d-1];break;default:throw new TypeError("Oscillator: invalid type: "+n)}m!==0?(l[d]=-m*Math.sin(i*d),h[d]=m*Math.cos(i*d)):(l[d]=0,h[d]=0)}return[l,h]}_inverseFFT(n,i,r){let o=0;const l=n.length;for(let h=0;h<l;h++)o+=n[h]*Math.cos(h*r)+i[h]*Math.sin(h*r);return o}getInitialValue(){const[n,i]=this._getRealImaginary(this._type,0);let r=0;const o=Math.PI*2,l=32;for(let h=0;h<l;h++)r=Math.max(this._inverseFFT(n,i,h/l*o),r);return WT(-this._inverseFFT(n,i,this._phase)/r,-1,1)}get partials(){return this._partials.slice(0,this.partialCount)}set partials(n){this._partials=n,this._partialCount=this._partials.length,n.length&&(this.type="custom")}get phase(){return this._phase*(180/Math.PI)}set phase(n){this._phase=n*Math.PI/180,this.type=this._type}asArray(){return je(this,arguments,void 0,function*(n=1024){return Fs(this,n)})}dispose(){return super.dispose(),this._oscillator!==null&&this._oscillator.dispose(),this._wave=void 0,this.frequency.dispose(),this.detune.dispose(),this}}ze._periodicWaveCache=[];class dw extends Br{constructor(){super(...arguments),this.name="AudioToGain",this._norm=new uo({context:this.context,mapping:n=>(n+1)/2}),this.input=this._norm,this.output=this._norm}dispose(){return super.dispose(),this._norm.dispose(),this}}class Ir extends Ye{constructor(){const n=It(Ir.getDefaults(),arguments,["value"]);super(n),this.name="Multiply",this.override=!1,this._mult=this.input=this.output=new tn({context:this.context,minValue:n.minValue,maxValue:n.maxValue}),this.factor=this._param=this._mult.gain,this.factor.setValueAtTime(n.value,0)}static getDefaults(){return Object.assign(Ye.getDefaults(),{value:0})}dispose(){return super.dispose(),this._mult.dispose(),this}}class nu extends kn{constructor(){const n=It(nu.getDefaults(),arguments,["frequency","type","modulationType"]);super(n),this.name="AMOscillator",this._modulationScale=new dw({context:this.context}),this._modulationNode=new tn({context:this.context}),this._carrier=new ze({context:this.context,detune:n.detune,frequency:n.frequency,onstop:()=>this.onstop(this),phase:n.phase,type:n.type}),this.frequency=this._carrier.frequency,this.detune=this._carrier.detune,this._modulator=new ze({context:this.context,phase:n.phase,type:n.modulationType}),this.harmonicity=new Ir({context:this.context,units:"positive",value:n.harmonicity}),this.frequency.chain(this.harmonicity,this._modulator.frequency),this._modulator.chain(this._modulationScale,this._modulationNode.gain),this._carrier.chain(this._modulationNode,this.output),ke(this,["frequency","detune","harmonicity"])}static getDefaults(){return Object.assign(ze.getDefaults(),{harmonicity:1,modulationType:"square"})}_start(n){this._modulator.start(n),this._carrier.start(n)}_stop(n){this._modulator.stop(n),this._carrier.stop(n)}_restart(n){this._modulator.restart(n),this._carrier.restart(n)}get type(){return this._carrier.type}set type(n){this._carrier.type=n}get baseType(){return this._carrier.baseType}set baseType(n){this._carrier.baseType=n}get partialCount(){return this._carrier.partialCount}set partialCount(n){this._carrier.partialCount=n}get modulationType(){return this._modulator.type}set modulationType(n){this._modulator.type=n}get phase(){return this._carrier.phase}set phase(n){this._carrier.phase=n,this._modulator.phase=n}get partials(){return this._carrier.partials}set partials(n){this._carrier.partials=n}asArray(){return je(this,arguments,void 0,function*(n=1024){return Fs(this,n)})}dispose(){return super.dispose(),this.frequency.dispose(),this.detune.dispose(),this.harmonicity.dispose(),this._carrier.dispose(),this._modulator.dispose(),this._modulationNode.dispose(),this._modulationScale.dispose(),this}}class iu extends kn{constructor(){const n=It(iu.getDefaults(),arguments,["frequency","type","modulationType"]);super(n),this.name="FMOscillator",this._modulationNode=new tn({context:this.context,gain:0}),this._carrier=new ze({context:this.context,detune:n.detune,frequency:0,onstop:()=>this.onstop(this),phase:n.phase,type:n.type}),this.detune=this._carrier.detune,this.frequency=new Ye({context:this.context,units:"frequency",value:n.frequency}),this._modulator=new ze({context:this.context,phase:n.phase,type:n.modulationType}),this.harmonicity=new Ir({context:this.context,units:"positive",value:n.harmonicity}),this.modulationIndex=new Ir({context:this.context,units:"positive",value:n.modulationIndex}),this.frequency.connect(this._carrier.frequency),this.frequency.chain(this.harmonicity,this._modulator.frequency),this.frequency.chain(this.modulationIndex,this._modulationNode),this._modulator.connect(this._modulationNode.gain),this._modulationNode.connect(this._carrier.frequency),this._carrier.connect(this.output),this.detune.connect(this._modulator.detune),ke(this,["modulationIndex","frequency","detune","harmonicity"])}static getDefaults(){return Object.assign(ze.getDefaults(),{harmonicity:1,modulationIndex:2,modulationType:"square"})}_start(n){this._modulator.start(n),this._carrier.start(n)}_stop(n){this._modulator.stop(n),this._carrier.stop(n)}_restart(n){return this._modulator.restart(n),this._carrier.restart(n),this}get type(){return this._carrier.type}set type(n){this._carrier.type=n}get baseType(){return this._carrier.baseType}set baseType(n){this._carrier.baseType=n}get partialCount(){return this._carrier.partialCount}set partialCount(n){this._carrier.partialCount=n}get modulationType(){return this._modulator.type}set modulationType(n){this._modulator.type=n}get phase(){return this._carrier.phase}set phase(n){this._carrier.phase=n,this._modulator.phase=n}get partials(){return this._carrier.partials}set partials(n){this._carrier.partials=n}asArray(){return je(this,arguments,void 0,function*(n=1024){return Fs(this,n)})}dispose(){return super.dispose(),this.frequency.dispose(),this.harmonicity.dispose(),this._carrier.dispose(),this._modulator.dispose(),this._modulationNode.dispose(),this.modulationIndex.dispose(),this}}class co extends kn{constructor(){const n=It(co.getDefaults(),arguments,["frequency","width"]);super(n),this.name="PulseOscillator",this._widthGate=new tn({context:this.context,gain:0}),this._thresh=new uo({context:this.context,mapping:i=>i<=0?-1:1}),this.width=new Ye({context:this.context,units:"audioRange",value:n.width}),this._triangle=new ze({context:this.context,detune:n.detune,frequency:n.frequency,onstop:()=>this.onstop(this),phase:n.phase,type:"triangle"}),this.frequency=this._triangle.frequency,this.detune=this._triangle.detune,this._triangle.chain(this._thresh,this.output),this.width.chain(this._widthGate,this._thresh),ke(this,["width","frequency","detune"])}static getDefaults(){return Object.assign(kn.getDefaults(),{detune:0,frequency:440,phase:0,type:"pulse",width:.2})}_start(n){n=this.toSeconds(n),this._triangle.start(n),this._widthGate.gain.setValueAtTime(1,n)}_stop(n){n=this.toSeconds(n),this._triangle.stop(n),this._widthGate.gain.cancelScheduledValues(n),this._widthGate.gain.setValueAtTime(0,n)}_restart(n){this._triangle.restart(n),this._widthGate.gain.cancelScheduledValues(n),this._widthGate.gain.setValueAtTime(1,n)}get phase(){return this._triangle.phase}set phase(n){this._triangle.phase=n}get type(){return"pulse"}get baseType(){return"pulse"}get partials(){return[]}get partialCount(){return 0}set carrierType(n){this._triangle.type=n}asArray(){return je(this,arguments,void 0,function*(n=1024){return Fs(this,n)})}dispose(){return super.dispose(),this._triangle.dispose(),this.width.dispose(),this._widthGate.dispose(),this._thresh.dispose(),this}}class su extends kn{constructor(){const n=It(su.getDefaults(),arguments,["frequency","type","spread"]);super(n),this.name="FatOscillator",this._oscillators=[],this.frequency=new Ye({context:this.context,units:"frequency",value:n.frequency}),this.detune=new Ye({context:this.context,units:"cents",value:n.detune}),this._spread=n.spread,this._type=n.type,this._phase=n.phase,this._partials=n.partials,this._partialCount=n.partialCount,this.count=n.count,ke(this,["frequency","detune"])}static getDefaults(){return Object.assign(ze.getDefaults(),{count:3,spread:20,type:"sawtooth"})}_start(n){n=this.toSeconds(n),this._forEach(i=>i.start(n))}_stop(n){n=this.toSeconds(n),this._forEach(i=>i.stop(n))}_restart(n){this._forEach(i=>i.restart(n))}_forEach(n){for(let i=0;i<this._oscillators.length;i++)n(this._oscillators[i],i)}get type(){return this._type}set type(n){this._type=n,this._forEach(i=>i.type=n)}get spread(){return this._spread}set spread(n){if(this._spread=n,this._oscillators.length>1){const i=-n/2,r=n/(this._oscillators.length-1);this._forEach((o,l)=>o.detune.value=i+r*l)}}get count(){return this._oscillators.length}set count(n){if(rs(n,1),this._oscillators.length!==n){this._forEach(i=>i.dispose()),this._oscillators=[];for(let i=0;i<n;i++){const r=new ze({context:this.context,volume:-6-n*1.1,type:this._type,phase:this._phase+i/n*360,partialCount:this._partialCount,onstop:i===0?()=>this.onstop(this):oe});this.type==="custom"&&(r.partials=this._partials),this.frequency.connect(r.frequency),this.detune.connect(r.detune),r.detune.overridden=!1,r.connect(this.output),this._oscillators[i]=r}this.spread=this._spread,this.state==="started"&&this._forEach(i=>i.start())}}get phase(){return this._phase}set phase(n){this._phase=n,this._forEach((i,r)=>i.phase=this._phase+r/this.count*360)}get baseType(){return this._oscillators[0].baseType}set baseType(n){this._forEach(i=>i.baseType=n),this._type=this._oscillators[0].type}get partials(){return this._oscillators[0].partials}set partials(n){this._partials=n,this._partialCount=this._partials.length,n.length&&(this._type="custom",this._forEach(i=>i.partials=n))}get partialCount(){return this._oscillators[0].partialCount}set partialCount(n){this._partialCount=n,this._forEach(i=>i.partialCount=n),this._type=this._oscillators[0].type}asArray(){return je(this,arguments,void 0,function*(n=1024){return Fs(this,n)})}dispose(){return super.dispose(),this.frequency.dispose(),this.detune.dispose(),this._forEach(n=>n.dispose()),this}}class ru extends kn{constructor(){const n=It(ru.getDefaults(),arguments,["frequency","modulationFrequency"]);super(n),this.name="PWMOscillator",this.sourceType="pwm",this._scale=new Ir({context:this.context,value:2}),this._pulse=new co({context:this.context,frequency:n.modulationFrequency}),this._pulse.carrierType="sine",this.modulationFrequency=this._pulse.frequency,this._modulator=new ze({context:this.context,detune:n.detune,frequency:n.frequency,onstop:()=>this.onstop(this),phase:n.phase}),this.frequency=this._modulator.frequency,this.detune=this._modulator.detune,this._modulator.chain(this._scale,this._pulse.width),this._pulse.connect(this.output),ke(this,["modulationFrequency","frequency","detune"])}static getDefaults(){return Object.assign(kn.getDefaults(),{detune:0,frequency:440,modulationFrequency:.4,phase:0,type:"pwm"})}_start(n){n=this.toSeconds(n),this._modulator.start(n),this._pulse.start(n)}_stop(n){n=this.toSeconds(n),this._modulator.stop(n),this._pulse.stop(n)}_restart(n){this._modulator.restart(n),this._pulse.restart(n)}get type(){return"pwm"}get baseType(){return"pwm"}get partials(){return[]}get partialCount(){return 0}get phase(){return this._modulator.phase}set phase(n){this._modulator.phase=n}asArray(){return je(this,arguments,void 0,function*(n=1024){return Fs(this,n)})}dispose(){return super.dispose(),this._pulse.dispose(),this._scale.dispose(),this._modulator.dispose(),this}}const i_={am:nu,fat:su,fm:iu,oscillator:ze,pulse:co,pwm:ru};class Ll extends kn{constructor(){const n=It(Ll.getDefaults(),arguments,["frequency","type"]);super(n),this.name="OmniOscillator",this.frequency=new Ye({context:this.context,units:"frequency",value:n.frequency}),this.detune=new Ye({context:this.context,units:"cents",value:n.detune}),ke(this,["frequency","detune"]),this.set(n)}static getDefaults(){return Object.assign(ze.getDefaults(),iu.getDefaults(),nu.getDefaults(),su.getDefaults(),co.getDefaults(),ru.getDefaults())}_start(n){this._oscillator.start(n)}_stop(n){this._oscillator.stop(n)}_restart(n){return this._oscillator.restart(n),this}get type(){let n="";return["am","fm","fat"].some(i=>this._sourceType===i)&&(n=this._sourceType),n+this._oscillator.type}set type(n){n.substr(0,2)==="fm"?(this._createNewOscillator("fm"),this._oscillator=this._oscillator,this._oscillator.type=n.substr(2)):n.substr(0,2)==="am"?(this._createNewOscillator("am"),this._oscillator=this._oscillator,this._oscillator.type=n.substr(2)):n.substr(0,3)==="fat"?(this._createNewOscillator("fat"),this._oscillator=this._oscillator,this._oscillator.type=n.substr(3)):n==="pwm"?(this._createNewOscillator("pwm"),this._oscillator=this._oscillator):n==="pulse"?this._createNewOscillator("pulse"):(this._createNewOscillator("oscillator"),this._oscillator=this._oscillator,this._oscillator.type=n)}get partials(){return this._oscillator.partials}set partials(n){!this._getOscType(this._oscillator,"pulse")&&!this._getOscType(this._oscillator,"pwm")&&(this._oscillator.partials=n)}get partialCount(){return this._oscillator.partialCount}set partialCount(n){!this._getOscType(this._oscillator,"pulse")&&!this._getOscType(this._oscillator,"pwm")&&(this._oscillator.partialCount=n)}set(n){return Reflect.has(n,"type")&&n.type&&(this.type=n.type),super.set(n),this}_createNewOscillator(n){if(n!==this._sourceType){this._sourceType=n;const i=i_[n],r=this.now();if(this._oscillator){const o=this._oscillator;o.stop(r),this.context.setTimeout(()=>o.dispose(),this.blockTime)}this._oscillator=new i({context:this.context}),this.frequency.connect(this._oscillator.frequency),this.detune.connect(this._oscillator.detune),this._oscillator.connect(this.output),this._oscillator.onstop=()=>this.onstop(this),this.state==="started"&&this._oscillator.start(r)}}get phase(){return this._oscillator.phase}set phase(n){this._oscillator.phase=n}get sourceType(){return this._sourceType}set sourceType(n){let i="sine";this._oscillator.type!=="pwm"&&this._oscillator.type!=="pulse"&&(i=this._oscillator.type),n==="fm"?this.type="fm"+i:n==="am"?this.type="am"+i:n==="fat"?this.type="fat"+i:n==="oscillator"?this.type=i:n==="pulse"?this.type="pulse":n==="pwm"&&(this.type="pwm")}_getOscType(n,i){return n instanceof i_[i]}get baseType(){return this._oscillator.baseType}set baseType(n){!this._getOscType(this._oscillator,"pulse")&&!this._getOscType(this._oscillator,"pwm")&&n!=="pulse"&&n!=="pwm"&&(this._oscillator.baseType=n)}get width(){if(this._getOscType(this._oscillator,"pulse"))return this._oscillator.width}get count(){if(this._getOscType(this._oscillator,"fat"))return this._oscillator.count}set count(n){this._getOscType(this._oscillator,"fat")&&ss(n)&&(this._oscillator.count=n)}get spread(){if(this._getOscType(this._oscillator,"fat"))return this._oscillator.spread}set spread(n){this._getOscType(this._oscillator,"fat")&&ss(n)&&(this._oscillator.spread=n)}get modulationType(){if(this._getOscType(this._oscillator,"fm")||this._getOscType(this._oscillator,"am"))return this._oscillator.modulationType}set modulationType(n){(this._getOscType(this._oscillator,"fm")||this._getOscType(this._oscillator,"am"))&&ki(n)&&(this._oscillator.modulationType=n)}get modulationIndex(){if(this._getOscType(this._oscillator,"fm"))return this._oscillator.modulationIndex}get harmonicity(){if(this._getOscType(this._oscillator,"fm")||this._getOscType(this._oscillator,"am"))return this._oscillator.harmonicity}get modulationFrequency(){if(this._getOscType(this._oscillator,"pwm"))return this._oscillator.modulationFrequency}asArray(){return je(this,arguments,void 0,function*(n=1024){return Fs(this,n)})}dispose(){return super.dispose(),this.detune.dispose(),this.frequency.dispose(),this._oscillator.dispose(),this}}function P0(u,n=1/0){const i=new WeakMap;return function(r,o){Reflect.defineProperty(r,o,{configurable:!0,enumerable:!0,get:function(){return i.get(this)},set:function(l){rs(l,u,n),i.set(this,l)}})}}function Ei(u,n=1/0){const i=new WeakMap;return function(r,o){Reflect.defineProperty(r,o,{configurable:!0,enumerable:!0,get:function(){return i.get(this)},set:function(l){rs(this.toSeconds(l),u,n),i.set(this,l)}})}}class au extends kn{constructor(){const n=It(au.getDefaults(),arguments,["url","onload"]);super(n),this.name="Player",this._activeSources=new Set,this._buffer=new ge({onload:this._onload.bind(this,n.onload),onerror:n.onerror,reverse:n.reverse,url:n.url}),this.autostart=n.autostart,this._loop=n.loop,this._loopStart=n.loopStart,this._loopEnd=n.loopEnd,this._playbackRate=n.playbackRate,this.fadeIn=n.fadeIn,this.fadeOut=n.fadeOut}static getDefaults(){return Object.assign(kn.getDefaults(),{autostart:!1,fadeIn:0,fadeOut:0,loop:!1,loopEnd:0,loopStart:0,onload:oe,onerror:oe,playbackRate:1,reverse:!1})}load(n){return je(this,void 0,void 0,function*(){return yield this._buffer.load(n),this._onload(),this})}_onload(n=oe){n(),this.autostart&&this.start()}_onSourceEnd(n){this.onstop(this),this._activeSources.delete(n),this._activeSources.size===0&&!this._synced&&this._state.getValueAtTime(this.now())==="started"&&(this._state.cancel(this.now()),this._state.setStateAtTime("stopped",this.now()))}start(n,i,r){return super.start(n,i,r),this}_start(n,i,r){this._loop?i=Dr(i,this._loopStart):i=Dr(i,0);const o=this.toSeconds(i),l=r;r=Dr(r,Math.max(this._buffer.duration-o,0));let h=this.toSeconds(r);h=h/this._playbackRate,n=this.toSeconds(n);const c=new eu({url:this._buffer,context:this.context,fadeIn:this.fadeIn,fadeOut:this.fadeOut,loop:this._loop,loopEnd:this._loopEnd,loopStart:this._loopStart,onended:this._onSourceEnd.bind(this),playbackRate:this._playbackRate}).connect(this.output);!this._loop&&!this._synced&&(this._state.cancel(n+h),this._state.setStateAtTime("stopped",n+h,{implicitEnd:!0})),this._activeSources.add(c),this._loop&&Bn(l)?c.start(n,o):c.start(n,o,h-this.toSeconds(this.fadeOut))}_stop(n){const i=this.toSeconds(n);this._activeSources.forEach(r=>r.stop(i))}restart(n,i,r){return super.restart(n,i,r),this}_restart(n,i,r){var o;(o=[...this._activeSources].pop())===null||o===void 0||o.stop(n),this._start(n,i,r)}seek(n,i){const r=this.toSeconds(i);if(this._state.getValueAtTime(r)==="started"){const o=this.toSeconds(n);this._stop(r),this._start(r,o)}return this}setLoopPoints(n,i){return this.loopStart=n,this.loopEnd=i,this}get loopStart(){return this._loopStart}set loopStart(n){this._loopStart=n,this.buffer.loaded&&rs(this.toSeconds(n),0,this.buffer.duration),this._activeSources.forEach(i=>{i.loopStart=n})}get loopEnd(){return this._loopEnd}set loopEnd(n){this._loopEnd=n,this.buffer.loaded&&rs(this.toSeconds(n),0,this.buffer.duration),this._activeSources.forEach(i=>{i.loopEnd=n})}get buffer(){return this._buffer}set buffer(n){this._buffer.set(n)}get loop(){return this._loop}set loop(n){if(this._loop!==n&&(this._loop=n,this._activeSources.forEach(i=>{i.loop=n}),n)){const i=this._state.getNextState("stopped",this.now());i&&this._state.cancel(i.time)}}get playbackRate(){return this._playbackRate}set playbackRate(n){this._playbackRate=n;const i=this.now(),r=this._state.getNextState("stopped",i);r&&r.implicitEnd&&(this._state.cancel(r.time),this._activeSources.forEach(o=>o.cancelStop())),this._activeSources.forEach(o=>{o.playbackRate.setValueAtTime(n,i)})}get reverse(){return this._buffer.reverse}set reverse(n){this._buffer.reverse=n}get loaded(){return this._buffer.loaded}dispose(){return super.dispose(),this._activeSources.forEach(n=>n.dispose()),this._activeSources.clear(),this._buffer.dispose(),this}}Kn([Ei(0)],au.prototype,"fadeIn",void 0);Kn([Ei(0)],au.prototype,"fadeOut",void 0);class us extends Zt{constructor(){const n=It(us.getDefaults(),arguments,["attack","decay","sustain","release"]);super(n),this.name="Envelope",this._sig=new Ye({context:this.context,value:0}),this.output=this._sig,this.input=void 0,this.attack=n.attack,this.decay=n.decay,this.sustain=n.sustain,this.release=n.release,this.attackCurve=n.attackCurve,this.releaseCurve=n.releaseCurve,this.decayCurve=n.decayCurve}static getDefaults(){return Object.assign(Zt.getDefaults(),{attack:.01,attackCurve:"linear",decay:.1,decayCurve:"exponential",release:1,releaseCurve:"exponential",sustain:.5})}get value(){return this.getValueAtTime(this.now())}_getCurve(n,i){if(ki(n))return n;{let r;for(r in kl)if(kl[r][i]===n)return r;return n}}_setCurve(n,i,r){if(ki(r)&&Reflect.has(kl,r)){const o=kl[r];zs(o)?n!=="_decayCurve"&&(this[n]=o[i]):this[n]=o}else if(An(r)&&n!=="_decayCurve")this[n]=r;else throw new Error("Envelope: invalid curve: "+r)}get attackCurve(){return this._getCurve(this._attackCurve,"In")}set attackCurve(n){this._setCurve("_attackCurve","In",n)}get releaseCurve(){return this._getCurve(this._releaseCurve,"Out")}set releaseCurve(n){this._setCurve("_releaseCurve","Out",n)}get decayCurve(){return this._getCurve(this._decayCurve,"Out")}set decayCurve(n){this._setCurve("_decayCurve","Out",n)}triggerAttack(n,i=1){this.log("triggerAttack",n,i),n=this.toSeconds(n);let o=this.toSeconds(this.attack);const l=this.toSeconds(this.decay),h=this.getValueAtTime(n);if(h>0){const c=1/o;o=(1-h)/c}if(o<this.sampleTime)this._sig.cancelScheduledValues(n),this._sig.setValueAtTime(i,n);else if(this._attackCurve==="linear")this._sig.linearRampTo(i,o,n);else if(this._attackCurve==="exponential")this._sig.targetRampTo(i,o,n);else{this._sig.cancelAndHoldAtTime(n);let c=this._attackCurve;for(let d=1;d<c.length;d++)if(c[d-1]<=h&&h<=c[d]){c=this._attackCurve.slice(d),c[0]=h;break}this._sig.setValueCurveAtTime(c,n,o,i)}if(l&&this.sustain<1){const c=i*this.sustain,d=n+o;this.log("decay",d),this._decayCurve==="linear"?this._sig.linearRampToValueAtTime(c,l+d):this._sig.exponentialApproachValueAtTime(c,d,l)}return this}triggerRelease(n){this.log("triggerRelease",n),n=this.toSeconds(n);const i=this.getValueAtTime(n);if(i>0){const r=this.toSeconds(this.release);r<this.sampleTime?this._sig.setValueAtTime(0,n):this._releaseCurve==="linear"?this._sig.linearRampTo(0,r,n):this._releaseCurve==="exponential"?this._sig.targetRampTo(0,r,n):(Rt(An(this._releaseCurve),"releaseCurve must be either 'linear', 'exponential' or an array"),this._sig.cancelAndHoldAtTime(n),this._sig.setValueCurveAtTime(this._releaseCurve,n,r,i))}return this}getValueAtTime(n){return this._sig.getValueAtTime(n)}triggerAttackRelease(n,i,r=1){return i=this.toSeconds(i),this.triggerAttack(i,r),this.triggerRelease(i+this.toSeconds(n)),this}cancel(n){return this._sig.cancelScheduledValues(this.toSeconds(n)),this}connect(n,i=0,r=0){return kf(this,n,i,r),this}asArray(){return je(this,arguments,void 0,function*(n=1024){const i=n/this.context.sampleRate,r=new xf(1,i,this.context.sampleRate),o=this.toSeconds(this.attack)+this.toSeconds(this.decay),l=o+this.toSeconds(this.release),h=l*.1,c=l+h,d=new this.constructor(Object.assign(this.get(),{attack:i*this.toSeconds(this.attack)/c,decay:i*this.toSeconds(this.decay)/c,release:i*this.toSeconds(this.release)/c,context:r}));return d._sig.toDestination(),d.triggerAttackRelease(i*(o+h)/c,0),(yield r.render()).getChannelData(0)})}dispose(){return super.dispose(),this._sig.dispose(),this}}Kn([Ei(0)],us.prototype,"attack",void 0);Kn([Ei(0)],us.prototype,"decay",void 0);Kn([P0(0,1)],us.prototype,"sustain",void 0);Kn([Ei(0)],us.prototype,"release",void 0);const kl=(()=>{let n,i;const r=[];for(n=0;n<128;n++)r[n]=Math.sin(n/127*(Math.PI/2));const o=[],l=6.4;for(n=0;n<127;n++){i=n/127;const b=Math.sin(i*(Math.PI*2)*l-Math.PI/2)+1;o[n]=b/10+i*.83}o[127]=1;const h=[],c=5;for(n=0;n<128;n++)h[n]=Math.ceil(n/127*c)/c;const d=[];for(n=0;n<128;n++)i=n/127,d[n]=.5*(1-Math.cos(Math.PI*i));const p=[];for(n=0;n<128;n++){i=n/127;const b=Math.pow(i,3)*4+.2,v=Math.cos(b*Math.PI*2*i);p[n]=Math.abs(v*(1-i))}function m(b){const v=new Array(b.length);for(let x=0;x<b.length;x++)v[x]=1-b[x];return v}function _(b){return b.slice(0).reverse()}return{bounce:{In:m(p),Out:p},cosine:{In:r,Out:_(r)},exponential:"exponential",linear:"linear",ripple:{In:o,Out:m(o)},sine:{In:d,Out:m(d)},step:{In:h,Out:m(h)}}})();let qr=class X0 extends Zt{constructor(){const n=It(X0.getDefaults(),arguments);super(n),this._scheduledEvents=[],this._synced=!1,this._original_triggerAttack=this.triggerAttack,this._original_triggerRelease=this.triggerRelease,this._syncedRelease=i=>this._original_triggerRelease(i),this._volume=this.output=new Pr({context:this.context,volume:n.volume}),this.volume=this._volume.volume,ke(this,"volume")}static getDefaults(){return Object.assign(Zt.getDefaults(),{volume:0})}sync(){return this._syncState()&&(this._syncMethod("triggerAttack",1),this._syncMethod("triggerRelease",0),this.context.transport.on("stop",this._syncedRelease),this.context.transport.on("pause",this._syncedRelease),this.context.transport.on("loopEnd",this._syncedRelease)),this}_syncState(){let n=!1;return this._synced||(this._synced=!0,n=!0),n}_syncMethod(n,i){const r=this["_original_"+n]=this[n];this[n]=(...o)=>{const l=o[i],h=this.context.transport.schedule(c=>{o[i]=c,r.apply(this,o)},l);this._scheduledEvents.push(h)}}unsync(){return this._scheduledEvents.forEach(n=>this.context.transport.clear(n)),this._scheduledEvents=[],this._synced&&(this._synced=!1,this.triggerAttack=this._original_triggerAttack,this.triggerRelease=this._original_triggerRelease,this.context.transport.off("stop",this._syncedRelease),this.context.transport.off("pause",this._syncedRelease),this.context.transport.off("loopEnd",this._syncedRelease)),this}triggerAttackRelease(n,i,r,o){const l=this.toSeconds(r),h=this.toSeconds(i);return this.triggerAttack(n,l,o),this.triggerRelease(l+h),this}dispose(){return super.dispose(),this._volume.dispose(),this.unsync(),this._scheduledEvents=[],this}};class Is extends qr{constructor(){const n=It(Is.getDefaults(),arguments);super(n),this.portamento=n.portamento,this.onsilence=n.onsilence}static getDefaults(){return Object.assign(qr.getDefaults(),{detune:0,onsilence:oe,portamento:0})}triggerAttack(n,i,r=1){this.log("triggerAttack",n,i,r);const o=this.toSeconds(i);return this._triggerEnvelopeAttack(o,r),this.setNote(n,o),this}triggerRelease(n){this.log("triggerRelease",n);const i=this.toSeconds(n);return this._triggerEnvelopeRelease(i),this}setNote(n,i){const r=this.toSeconds(i),o=n instanceof wn?n.toFrequency():n;if(this.portamento>0&&this.getLevelAtTime(r)>.05){const l=this.toSeconds(this.portamento);this.frequency.exponentialRampTo(o,l,r)}else this.frequency.setValueAtTime(o,r);return this}}Kn([Ei(0)],Is.prototype,"portamento",void 0);class jf extends us{constructor(){super(It(jf.getDefaults(),arguments,["attack","decay","sustain","release"])),this.name="AmplitudeEnvelope",this._gainNode=new tn({context:this.context,gain:0}),this.output=this._gainNode,this.input=this._gainNode,this._sig.connect(this._gainNode.gain),this.output=this._gainNode,this.input=this._gainNode}dispose(){return super.dispose(),this._gainNode.dispose(),this}}class Vr extends Is{constructor(){const n=It(Vr.getDefaults(),arguments);super(n),this.name="Synth",this.oscillator=new Ll(Object.assign({context:this.context,detune:n.detune,onstop:()=>this.onsilence(this)},n.oscillator)),this.frequency=this.oscillator.frequency,this.detune=this.oscillator.detune,this.envelope=new jf(Object.assign({context:this.context},n.envelope)),this.oscillator.chain(this.envelope,this.output),ke(this,["oscillator","frequency","detune","envelope"])}static getDefaults(){return Object.assign(Is.getDefaults(),{envelope:Object.assign(Kh(us.getDefaults(),Object.keys(Zt.getDefaults())),{attack:.005,decay:.1,release:1,sustain:.3}),oscillator:Object.assign(Kh(Ll.getDefaults(),[...Object.keys(kn.getDefaults()),"frequency","detune"]),{type:"triangle"})})}_triggerEnvelopeAttack(n,i){if(this.envelope.triggerAttack(n,i),this.oscillator.start(n),this.envelope.sustain===0){const r=this.toSeconds(this.envelope.attack),o=this.toSeconds(this.envelope.decay);this.oscillator.stop(n+r+o)}}_triggerEnvelopeRelease(n){this.envelope.triggerRelease(n),this.oscillator.stop(n+this.toSeconds(this.envelope.release))}getLevelAtTime(n){return n=this.toSeconds(n),this.envelope.getValueAtTime(n)}dispose(){return super.dispose(),this.oscillator.dispose(),this.envelope.dispose(),this}}class ou extends Vr{constructor(){const n=It(ou.getDefaults(),arguments);super(n),this.name="MembraneSynth",this.portamento=0,this.pitchDecay=n.pitchDecay,this.octaves=n.octaves,ke(this,["oscillator","envelope"])}static getDefaults(){return js(Is.getDefaults(),Vr.getDefaults(),{envelope:{attack:.001,attackCurve:"exponential",decay:.4,release:1.4,sustain:.01},octaves:10,oscillator:{type:"sine"},pitchDecay:.05})}setNote(n,i){const r=this.toSeconds(i),o=this.toFrequency(n instanceof wn?n.toFrequency():n),l=o*this.octaves;return this.oscillator.frequency.setValueAtTime(l,r),this.oscillator.frequency.exponentialRampToValueAtTime(o,r+this.toSeconds(this.pitchDecay)),this}dispose(){return super.dispose(),this}}Kn([P0(0)],ou.prototype,"octaves",void 0);Kn([Ei(0)],ou.prototype,"pitchDecay",void 0);const W0=new Set;function Uf(u){W0.add(u)}function Q0(u,n){const i=`registerProcessor("${u}", ${n})`;W0.add(i)}const pw=`
	/**
	 * The base AudioWorkletProcessor for use in Tone.js. Works with the {@link ToneAudioWorklet}. 
	 */
	class ToneAudioWorkletProcessor extends AudioWorkletProcessor {

		constructor(options) {
			
			super(options);
			/**
			 * If the processor was disposed or not. Keep alive until it's disposed.
			 */
			this.disposed = false;
		   	/** 
			 * The number of samples in the processing block
			 */
			this.blockSize = 128;
			/**
			 * the sample rate
			 */
			this.sampleRate = sampleRate;

			this.port.onmessage = (event) => {
				// when it receives a dispose 
				if (event.data === "dispose") {
					this.disposed = true;
				}
			};
		}
	}
`;Uf(pw);const mw=`
	/**
	 * Abstract class for a single input/output processor. 
	 * has a 'generate' function which processes one sample at a time
	 */
	class SingleIOProcessor extends ToneAudioWorkletProcessor {

		constructor(options) {
			super(Object.assign(options, {
				numberOfInputs: 1,
				numberOfOutputs: 1
			}));
			/**
			 * Holds the name of the parameter and a single value of that
			 * parameter at the current sample
			 * @type { [name: string]: number }
			 */
			this.params = {}
		}

		/**
		 * Generate an output sample from the input sample and parameters
		 * @abstract
		 * @param input number
		 * @param channel number
		 * @param parameters { [name: string]: number }
		 * @returns number
		 */
		generate(){}

		/**
		 * Update the private params object with the 
		 * values of the parameters at the given index
		 * @param parameters { [name: string]: Float32Array },
		 * @param index number
		 */
		updateParams(parameters, index) {
			for (const paramName in parameters) {
				const param = parameters[paramName];
				if (param.length > 1) {
					this.params[paramName] = parameters[paramName][index];
				} else {
					this.params[paramName] = parameters[paramName][0];
				}
			}
		}

		/**
		 * Process a single frame of the audio
		 * @param inputs Float32Array[][]
		 * @param outputs Float32Array[][]
		 */
		process(inputs, outputs, parameters) {
			const input = inputs[0];
			const output = outputs[0];
			// get the parameter values
			const channelCount = Math.max(input && input.length || 0, output.length);
			for (let sample = 0; sample < this.blockSize; sample++) {
				this.updateParams(parameters, sample);
				for (let channel = 0; channel < channelCount; channel++) {
					const inputSample = input && input.length ? input[channel][sample] : 0;
					output[channel][sample] = this.generate(inputSample, channel, this.params);
				}
			}
			return !this.disposed;
		}
	};
`;Uf(mw);const gw=`
	/**
	 * A multichannel buffer for use within an AudioWorkletProcessor as a delay line
	 */
	class DelayLine {
		
		constructor(size, channels) {
			this.buffer = [];
			this.writeHead = []
			this.size = size;

			// create the empty channels
			for (let i = 0; i < channels; i++) {
				this.buffer[i] = new Float32Array(this.size);
				this.writeHead[i] = 0;
			}
		}

		/**
		 * Push a value onto the end
		 * @param channel number
		 * @param value number
		 */
		push(channel, value) {
			this.writeHead[channel] += 1;
			if (this.writeHead[channel] > this.size) {
				this.writeHead[channel] = 0;
			}
			this.buffer[channel][this.writeHead[channel]] = value;
		}

		/**
		 * Get the recorded value of the channel given the delay
		 * @param channel number
		 * @param delay number delay samples
		 */
		get(channel, delay) {
			let readHead = this.writeHead[channel] - Math.floor(delay);
			if (readHead < 0) {
				readHead += this.size;
			}
			return this.buffer[channel][readHead];
		}
	}
`;Uf(gw);const _w="feedback-comb-filter",vw=`
	class FeedbackCombFilterWorklet extends SingleIOProcessor {

		constructor(options) {
			super(options);
			this.delayLine = new DelayLine(this.sampleRate, options.channelCount || 2);
		}

		static get parameterDescriptors() {
			return [{
				name: "delayTime",
				defaultValue: 0.1,
				minValue: 0,
				maxValue: 1,
				automationRate: "k-rate"
			}, {
				name: "feedback",
				defaultValue: 0.5,
				minValue: 0,
				maxValue: 0.9999,
				automationRate: "k-rate"
			}];
		}

		generate(input, channel, parameters) {
			const delayedSample = this.delayLine.get(channel, parameters.delayTime * this.sampleRate);
			this.delayLine.push(channel, input + delayedSample * parameters.feedback);
			return delayedSample;
		}
	}
`;Q0(_w,vw);class Bf extends qr{constructor(){const n=It(Bf.getDefaults(),arguments,["voice","options"]);super(n),this.name="PolySynth",this._availableVoices=[],this._activeVoices=[],this._voices=[],this._gcTimeout=-1,this._averageActiveVoices=0,this._syncedRelease=o=>this.releaseAll(o),Rt(!ss(n.voice),"DEPRECATED: The polyphony count is no longer the first argument.");const i=n.voice.getDefaults();this.options=Object.assign(i,n.options),this.voice=n.voice,this.maxPolyphony=n.maxPolyphony,this._dummyVoice=this._getNextAvailableVoice();const r=this._voices.indexOf(this._dummyVoice);this._voices.splice(r,1),this._gcTimeout=this.context.setInterval(this._collectGarbage.bind(this),1)}static getDefaults(){return Object.assign(qr.getDefaults(),{maxPolyphony:32,options:{},voice:Vr})}get activeVoices(){return this._activeVoices.length}_makeVoiceAvailable(n){this._availableVoices.push(n);const i=this._activeVoices.findIndex(r=>r.voice===n);this._activeVoices.splice(i,1)}_getNextAvailableVoice(){if(this._availableVoices.length)return this._availableVoices.shift();if(this._voices.length<this.maxPolyphony){const n=new this.voice(Object.assign(this.options,{context:this.context,onsilence:this._makeVoiceAvailable.bind(this)}));return Rt(n instanceof Is,"Voice must extend Monophonic class"),n.connect(this.output),this._voices.push(n),n}else Wl("Max polyphony exceeded. Note dropped.")}_collectGarbage(){if(this._averageActiveVoices=Math.max(this._averageActiveVoices*.95,this.activeVoices),this._availableVoices.length&&this._voices.length>Math.ceil(this._averageActiveVoices+1)){const n=this._availableVoices.shift(),i=this._voices.indexOf(n);this._voices.splice(i,1),this.context.isOffline||n.dispose()}}_triggerAttack(n,i,r){n.forEach(o=>{const l=new Vl(this.context,o).toMidi(),h=this._getNextAvailableVoice();h&&(h.triggerAttack(o,i,r),this._activeVoices.push({midi:l,voice:h,released:!1}),this.log("triggerAttack",o,i))})}_triggerRelease(n,i){n.forEach(r=>{const o=new Vl(this.context,r).toMidi(),l=this._activeVoices.find(({midi:h,released:c})=>h===o&&!c);l&&(l.voice.triggerRelease(i),l.released=!0,this.log("triggerRelease",r,i))})}_scheduleEvent(n,i,r,o){Rt(!this.disposed,"Synth was already disposed"),r<=this.now()?n==="attack"?this._triggerAttack(i,r,o):this._triggerRelease(i,r):this.context.setTimeout(()=>{this.disposed||this._scheduleEvent(n,i,r,o)},r-this.now())}triggerAttack(n,i,r){Array.isArray(n)||(n=[n]);const o=this.toSeconds(i);return this._scheduleEvent("attack",n,o,r),this}triggerRelease(n,i){Array.isArray(n)||(n=[n]);const r=this.toSeconds(i);return this._scheduleEvent("release",n,r),this}triggerAttackRelease(n,i,r,o){const l=this.toSeconds(r);if(this.triggerAttack(n,l,o),An(i)){Rt(An(n),"If the duration is an array, the notes must also be an array"),n=n;for(let h=0;h<n.length;h++){const c=i[Math.min(h,i.length-1)],d=this.toSeconds(c);Rt(d>0,"The duration must be greater than 0"),this.triggerRelease(n[h],l+d)}}else{const h=this.toSeconds(i);Rt(h>0,"The duration must be greater than 0"),this.triggerRelease(n,l+h)}return this}sync(){return this._syncState()&&(this._syncMethod("triggerAttack",1),this._syncMethod("triggerRelease",1),this.context.transport.on("stop",this._syncedRelease),this.context.transport.on("pause",this._syncedRelease),this.context.transport.on("loopEnd",this._syncedRelease)),this}set(n){const i=Kh(n,["onsilence","context"]);return this.options=js(this.options,i),this._voices.forEach(r=>r.set(i)),this._dummyVoice.set(i),this}get(){return this._dummyVoice.get()}releaseAll(n){const i=this.toSeconds(n);return this._activeVoices.forEach(({voice:r})=>{r.triggerRelease(i)}),this}dispose(){return super.dispose(),this._dummyVoice.dispose(),this._voices.forEach(n=>n.dispose()),this._activeVoices=[],this._availableVoices=[],this.context.clearInterval(this._gcTimeout),this}}class Lr extends qr{constructor(){const n=It(Lr.getDefaults(),arguments,["urls","onload","baseUrl"],"urls");super(n),this.name="Sampler",this._activeSources=new Map;const i={};Object.keys(n.urls).forEach(r=>{const o=parseInt(r,10);if(Rt(Al(r)||ss(o)&&isFinite(o),`url key is neither a note or midi pitch: ${r}`),Al(r)){const l=new wn(this.context,r).toMidi();i[l]=n.urls[r]}else ss(o)&&isFinite(o)&&(i[o]=n.urls[o])}),this._buffers=new Mf({urls:i,onload:n.onload,baseUrl:n.baseUrl,onerror:n.onerror}),this.attack=n.attack,this.release=n.release,this.curve=n.curve,this._buffers.loaded&&Promise.resolve().then(n.onload)}static getDefaults(){return Object.assign(qr.getDefaults(),{attack:0,baseUrl:"",curve:"exponential",onload:oe,onerror:oe,release:.1,urls:{}})}_findClosest(n){let r=0;for(;r<96;){if(this._buffers.has(n+r))return-r;if(this._buffers.has(n-r))return r;r++}throw new Error(`No available buffers for note: ${n}`)}triggerAttack(n,i,r=1){return this.log("triggerAttack",n,i,r),Array.isArray(n)||(n=[n]),n.forEach(o=>{const l=Z0(new wn(this.context,o).toFrequency()),h=Math.round(l),c=l-h,d=this._findClosest(h),p=h-d,m=this._buffers.get(p),_=G0(d+c),b=new eu({url:m,context:this.context,curve:this.curve,fadeIn:this.attack,fadeOut:this.release,playbackRate:_}).connect(this.output);b.start(i,0,m.duration/_,r),An(this._activeSources.get(h))||this._activeSources.set(h,[]),this._activeSources.get(h).push(b),b.onended=()=>{if(this._activeSources&&this._activeSources.has(h)){const v=this._activeSources.get(h),x=v.indexOf(b);x!==-1&&v.splice(x,1)}}}),this}triggerRelease(n,i){return this.log("triggerRelease",n,i),Array.isArray(n)||(n=[n]),n.forEach(r=>{const o=new wn(this.context,r).toMidi();if(this._activeSources.has(o)&&this._activeSources.get(o).length){const l=this._activeSources.get(o);i=this.toSeconds(i),l.forEach(h=>{h.stop(i)}),this._activeSources.set(o,[])}}),this}releaseAll(n){const i=this.toSeconds(n);return this._activeSources.forEach(r=>{for(;r.length;)r.shift().stop(i)}),this}sync(){return this._syncState()&&(this._syncMethod("triggerAttack",1),this._syncMethod("triggerRelease",1)),this}triggerAttackRelease(n,i,r,o=1){const l=this.toSeconds(r);return this.triggerAttack(n,l,o),An(i)?(Rt(An(n),"notes must be an array when duration is array"),n.forEach((h,c)=>{const d=i[Math.min(c,i.length-1)];this.triggerRelease(h,l+this.toSeconds(d))})):this.triggerRelease(n,l+this.toSeconds(i)),this}add(n,i,r){if(Rt(Al(n)||isFinite(n),`note must be a pitch or midi: ${n}`),Al(n)){const o=new wn(this.context,n).toMidi();this._buffers.add(o,i,r)}else this._buffers.add(n,i,r);return this}get loaded(){return this._buffers.loaded}dispose(){return super.dispose(),this._buffers.dispose(),this._activeSources.forEach(n=>{n.forEach(i=>i.dispose())}),this._activeSources.clear(),this}}Kn([Ei(0)],Lr.prototype,"attack",void 0);Kn([Ei(0)],Lr.prototype,"release",void 0);class If extends Zt{constructor(){const n=It(If.getDefaults(),arguments,["pan"]);super(n),this.name="Panner",this._panner=this.context.createStereoPanner(),this.input=this._panner,this.output=this._panner,this.pan=new Se({context:this.context,param:this._panner.pan,value:n.pan,minValue:-1,maxValue:1}),this._panner.channelCount=n.channelCount,this._panner.channelCountMode="explicit",ke(this,"pan")}static getDefaults(){return Object.assign(Zt.getDefaults(),{pan:0,channelCount:1})}dispose(){return super.dispose(),this._panner.disconnect(),this.pan.dispose(),this}}const yw="bit-crusher",bw=`
	class BitCrusherWorklet extends SingleIOProcessor {

		static get parameterDescriptors() {
			return [{
				name: "bits",
				defaultValue: 12,
				minValue: 1,
				maxValue: 16,
				automationRate: 'k-rate'
			}];
		}

		generate(input, _channel, parameters) {
			const step = Math.pow(0.5, parameters.bits - 1);
			const val = step * Math.floor(input / step + 0.5);
			return val;
		}
	}
`;Q0(yw,bw);class Re extends Zt{constructor(){const n=It(Re.getDefaults(),arguments,["solo"]);super(n),this.name="Solo",this.input=this.output=new tn({context:this.context}),Re._allSolos.has(this.context)||Re._allSolos.set(this.context,new Set),Re._allSolos.get(this.context).add(this),this.solo=n.solo}static getDefaults(){return Object.assign(Zt.getDefaults(),{solo:!1})}get solo(){return this._isSoloed()}set solo(n){n?this._addSolo():this._removeSolo(),Re._allSolos.get(this.context).forEach(i=>i._updateSolo())}get muted(){return this.input.gain.value===0}_addSolo(){Re._soloed.has(this.context)||Re._soloed.set(this.context,new Set),Re._soloed.get(this.context).add(this)}_removeSolo(){Re._soloed.has(this.context)&&Re._soloed.get(this.context).delete(this)}_isSoloed(){return Re._soloed.has(this.context)&&Re._soloed.get(this.context).has(this)}_noSolos(){return!Re._soloed.has(this.context)||Re._soloed.has(this.context)&&Re._soloed.get(this.context).size===0}_updateSolo(){this._isSoloed()?this.input.gain.value=1:this._noSolos()?this.input.gain.value=1:this.input.gain.value=0}dispose(){return super.dispose(),Re._allSolos.get(this.context).delete(this),this._removeSolo(),this}}Re._allSolos=new Map;Re._soloed=new Map;class qf extends Zt{constructor(){const n=It(qf.getDefaults(),arguments,["pan","volume"]);super(n),this.name="PanVol",this._panner=this.input=new If({context:this.context,pan:n.pan,channelCount:n.channelCount}),this.pan=this._panner.pan,this._volume=this.output=new Pr({context:this.context,volume:n.volume}),this.volume=this._volume.volume,this._panner.connect(this._volume),this.mute=n.mute,ke(this,["pan","volume"])}static getDefaults(){return Object.assign(Zt.getDefaults(),{mute:!1,pan:0,volume:0,channelCount:1})}get mute(){return this._volume.mute}set mute(n){this._volume.mute=n}dispose(){return super.dispose(),this._panner.dispose(),this.pan.dispose(),this._volume.dispose(),this.volume.dispose(),this}}class Mr extends Zt{constructor(){const n=It(Mr.getDefaults(),arguments,["volume","pan"]);super(n),this.name="Channel",this._solo=this.input=new Re({solo:n.solo,context:this.context}),this._panVol=this.output=new qf({context:this.context,pan:n.pan,volume:n.volume,mute:n.mute,channelCount:n.channelCount}),this.pan=this._panVol.pan,this.volume=this._panVol.volume,this._solo.connect(this._panVol),ke(this,["pan","volume"])}static getDefaults(){return Object.assign(Zt.getDefaults(),{pan:0,volume:0,mute:!1,solo:!1,channelCount:1})}get solo(){return this._solo.solo}set solo(n){this._solo.solo=n}get muted(){return this._solo.muted||this.mute}get mute(){return this._panVol.mute}set mute(n){this._panVol.mute=n}_getBus(n){return Mr.buses.has(n)||Mr.buses.set(n,new tn({context:this.context})),Mr.buses.get(n)}send(n,i=0){const r=this._getBus(n),o=new tn({context:this.context,units:"decibels",gain:i});return this.connect(o),o.connect(r),o}receive(n){return this._getBus(n).connect(this),this}dispose(){return super.dispose(),this._panVol.dispose(),this.pan.dispose(),this.volume.dispose(),this._solo.dispose(),this}}Mr.buses=new Map;const sn=Yn().transport,Sw=Yn().destination;Yn().destination;Yn().listener;const xw=Yn().draw,Th=Yn();function s_(){return ge.loaded()}var Es={},Cl={},wh,r_;function Tw(){if(r_)return wh;r_=1;function u(o){var l=new r(o),h=l.readChunk();if(h.id!="MThd")throw"Bad MIDI file.  Expected 'MHdr', got: '"+h.id+"'";for(var c=n(h.data),d=[],p=0;!l.eof()&&p<c.numTracks;p++){var m=l.readChunk();if(m.id!="MTrk")throw"Bad MIDI file.  Expected 'MTrk', got: '"+m.id+"'";var _=i(m.data);d.push(_)}return{header:c,tracks:d}}function n(o){var l=new r(o),h=l.readUInt16(),c=l.readUInt16(),d={format:h,numTracks:c},p=l.readUInt16();return p&32768?(d.framesPerSecond=256-(p>>8),d.ticksPerFrame=p&255):d.ticksPerBeat=p,d}function i(o){for(var l=new r(o),h=[];!l.eof();){var c=p();h.push(c)}return h;var d;function p(){var m={};m.deltaTime=l.readVarInt();var _=l.readUInt8();if((_&240)===240)if(_===255){m.meta=!0;var b=l.readUInt8(),v=l.readVarInt();switch(b){case 0:if(m.type="sequenceNumber",v!==2)throw"Expected length for sequenceNumber event is 2, got "+v;return m.number=l.readUInt16(),m;case 1:return m.type="text",m.text=l.readString(v),m;case 2:return m.type="copyrightNotice",m.text=l.readString(v),m;case 3:return m.type="trackName",m.text=l.readString(v),m;case 4:return m.type="instrumentName",m.text=l.readString(v),m;case 5:return m.type="lyrics",m.text=l.readString(v),m;case 6:return m.type="marker",m.text=l.readString(v),m;case 7:return m.type="cuePoint",m.text=l.readString(v),m;case 32:if(m.type="channelPrefix",v!=1)throw"Expected length for channelPrefix event is 1, got "+v;return m.channel=l.readUInt8(),m;case 33:if(m.type="portPrefix",v!=1)throw"Expected length for portPrefix event is 1, got "+v;return m.port=l.readUInt8(),m;case 47:if(m.type="endOfTrack",v!=0)throw"Expected length for endOfTrack event is 0, got "+v;return m;case 81:if(m.type="setTempo",v!=3)throw"Expected length for setTempo event is 3, got "+v;return m.microsecondsPerBeat=l.readUInt24(),m;case 84:if(m.type="smpteOffset",v!=5)throw"Expected length for smpteOffset event is 5, got "+v;var x=l.readUInt8(),y={0:24,32:25,64:29,96:30};return m.frameRate=y[x&96],m.hour=x&31,m.min=l.readUInt8(),m.sec=l.readUInt8(),m.frame=l.readUInt8(),m.subFrame=l.readUInt8(),m;case 88:if(m.type="timeSignature",v!=2&&v!=4)throw"Expected length for timeSignature event is 4 or 2, got "+v;return m.numerator=l.readUInt8(),m.denominator=1<<l.readUInt8(),v===4?(m.metronome=l.readUInt8(),m.thirtyseconds=l.readUInt8()):(m.metronome=36,m.thirtyseconds=8),m;case 89:if(m.type="keySignature",v!=2)throw"Expected length for keySignature event is 2, got "+v;return m.key=l.readInt8(),m.scale=l.readUInt8(),m;case 127:return m.type="sequencerSpecific",m.data=l.readBytes(v),m;default:return m.type="unknownMeta",m.data=l.readBytes(v),m.metatypeByte=b,m}}else if(_==240){m.type="sysEx";var v=l.readVarInt();return m.data=l.readBytes(v),m}else if(_==247){m.type="endSysEx";var v=l.readVarInt();return m.data=l.readBytes(v),m}else throw"Unrecognised MIDI event type byte: "+_;else{var S;if((_&128)===0){if(d===null)throw"Running status byte encountered before status byte";S=_,_=d,m.running=!0}else S=l.readUInt8(),d=_;var T=_>>4;switch(m.channel=_&15,T){case 8:return m.type="noteOff",m.noteNumber=S,m.velocity=l.readUInt8(),m;case 9:var N=l.readUInt8();return m.type=N===0?"noteOff":"noteOn",m.noteNumber=S,m.velocity=N,N===0&&(m.byte9=!0),m;case 10:return m.type="noteAftertouch",m.noteNumber=S,m.amount=l.readUInt8(),m;case 11:return m.type="controller",m.controllerType=S,m.value=l.readUInt8(),m;case 12:return m.type="programChange",m.programNumber=S,m;case 13:return m.type="channelAftertouch",m.amount=S,m;case 14:return m.type="pitchBend",m.value=S+(l.readUInt8()<<7)-8192,m;default:throw"Unrecognised MIDI event type: "+T}}}}function r(o){this.buffer=o,this.bufferLen=this.buffer.length,this.pos=0}return r.prototype.eof=function(){return this.pos>=this.bufferLen},r.prototype.readUInt8=function(){var o=this.buffer[this.pos];return this.pos+=1,o},r.prototype.readInt8=function(){var o=this.readUInt8();return o&128?o-256:o},r.prototype.readUInt16=function(){var o=this.readUInt8(),l=this.readUInt8();return(o<<8)+l},r.prototype.readInt16=function(){var o=this.readUInt16();return o&32768?o-65536:o},r.prototype.readUInt24=function(){var o=this.readUInt8(),l=this.readUInt8(),h=this.readUInt8();return(o<<16)+(l<<8)+h},r.prototype.readInt24=function(){var o=this.readUInt24();return o&8388608?o-16777216:o},r.prototype.readUInt32=function(){var o=this.readUInt8(),l=this.readUInt8(),h=this.readUInt8(),c=this.readUInt8();return(o<<24)+(l<<16)+(h<<8)+c},r.prototype.readBytes=function(o){var l=this.buffer.slice(this.pos,this.pos+o);return this.pos+=o,l},r.prototype.readString=function(o){var l=this.readBytes(o);return String.fromCharCode.apply(null,l)},r.prototype.readVarInt=function(){for(var o=0;!this.eof();){var l=this.readUInt8();if(l&128)o+=l&127,o<<=7;else return o+l}return o},r.prototype.readChunk=function(){var o=this.readString(4),l=this.readUInt32(),h=this.readBytes(l);return{id:o,length:l,data:h}},wh=u,wh}var Ah,a_;function ww(){if(a_)return Ah;a_=1;function u(l,h){if(typeof l!="object")throw"Invalid MIDI data";h=h||{};var c=l.header||{},d=l.tracks||[],p,m=d.length,_=new o;for(n(_,c,m),p=0;p<m;p++)i(_,d[p],h);return _.buffer}function n(l,h,c){var d=h.format==null?1:h.format,p=128;h.timeDivision?p=h.timeDivision:h.ticksPerFrame&&h.framesPerSecond?p=-(h.framesPerSecond&255)<<8|h.ticksPerFrame&255:h.ticksPerBeat&&(p=h.ticksPerBeat&32767);var m=new o;m.writeUInt16(d),m.writeUInt16(c),m.writeUInt16(p),l.writeChunk("MThd",m.buffer)}function i(l,h,c){var d=new o,p,m=h.length,_=null;for(p=0;p<m;p++)(c.running===!1||!c.running&&!h[p].running)&&(_=null),_=r(d,h[p],_,c.useByte9ForNoteOff);l.writeChunk("MTrk",d.buffer)}function r(l,h,c,d){var p=h.type,m=h.deltaTime,_=h.text||"",b=h.data||[],v=null;switch(l.writeVarInt(m),p){case"sequenceNumber":l.writeUInt8(255),l.writeUInt8(0),l.writeVarInt(2),l.writeUInt16(h.number);break;case"text":l.writeUInt8(255),l.writeUInt8(1),l.writeVarInt(_.length),l.writeString(_);break;case"copyrightNotice":l.writeUInt8(255),l.writeUInt8(2),l.writeVarInt(_.length),l.writeString(_);break;case"trackName":l.writeUInt8(255),l.writeUInt8(3),l.writeVarInt(_.length),l.writeString(_);break;case"instrumentName":l.writeUInt8(255),l.writeUInt8(4),l.writeVarInt(_.length),l.writeString(_);break;case"lyrics":l.writeUInt8(255),l.writeUInt8(5),l.writeVarInt(_.length),l.writeString(_);break;case"marker":l.writeUInt8(255),l.writeUInt8(6),l.writeVarInt(_.length),l.writeString(_);break;case"cuePoint":l.writeUInt8(255),l.writeUInt8(7),l.writeVarInt(_.length),l.writeString(_);break;case"channelPrefix":l.writeUInt8(255),l.writeUInt8(32),l.writeVarInt(1),l.writeUInt8(h.channel);break;case"portPrefix":l.writeUInt8(255),l.writeUInt8(33),l.writeVarInt(1),l.writeUInt8(h.port);break;case"endOfTrack":l.writeUInt8(255),l.writeUInt8(47),l.writeVarInt(0);break;case"setTempo":l.writeUInt8(255),l.writeUInt8(81),l.writeVarInt(3),l.writeUInt24(h.microsecondsPerBeat);break;case"smpteOffset":l.writeUInt8(255),l.writeUInt8(84),l.writeVarInt(5);var x={24:0,25:32,29:64,30:96},y=h.hour&31|x[h.frameRate];l.writeUInt8(y),l.writeUInt8(h.min),l.writeUInt8(h.sec),l.writeUInt8(h.frame),l.writeUInt8(h.subFrame);break;case"timeSignature":l.writeUInt8(255),l.writeUInt8(88),l.writeVarInt(4),l.writeUInt8(h.numerator);var S=Math.floor(Math.log(h.denominator)/Math.LN2)&255;l.writeUInt8(S),l.writeUInt8(h.metronome),l.writeUInt8(h.thirtyseconds||8);break;case"keySignature":l.writeUInt8(255),l.writeUInt8(89),l.writeVarInt(2),l.writeInt8(h.key),l.writeUInt8(h.scale);break;case"sequencerSpecific":l.writeUInt8(255),l.writeUInt8(127),l.writeVarInt(b.length),l.writeBytes(b);break;case"unknownMeta":h.metatypeByte!=null&&(l.writeUInt8(255),l.writeUInt8(h.metatypeByte),l.writeVarInt(b.length),l.writeBytes(b));break;case"sysEx":l.writeUInt8(240),l.writeVarInt(b.length),l.writeBytes(b);break;case"endSysEx":l.writeUInt8(247),l.writeVarInt(b.length),l.writeBytes(b);break;case"noteOff":var T=d!==!1&&h.byte9||d&&h.velocity==0?144:128;v=T|h.channel,v!==c&&l.writeUInt8(v),l.writeUInt8(h.noteNumber),l.writeUInt8(h.velocity);break;case"noteOn":v=144|h.channel,v!==c&&l.writeUInt8(v),l.writeUInt8(h.noteNumber),l.writeUInt8(h.velocity);break;case"noteAftertouch":v=160|h.channel,v!==c&&l.writeUInt8(v),l.writeUInt8(h.noteNumber),l.writeUInt8(h.amount);break;case"controller":v=176|h.channel,v!==c&&l.writeUInt8(v),l.writeUInt8(h.controllerType),l.writeUInt8(h.value);break;case"programChange":v=192|h.channel,v!==c&&l.writeUInt8(v),l.writeUInt8(h.programNumber);break;case"channelAftertouch":v=208|h.channel,v!==c&&l.writeUInt8(v),l.writeUInt8(h.amount);break;case"pitchBend":v=224|h.channel,v!==c&&l.writeUInt8(v);var N=8192+h.value,O=N&127,E=N>>7&127;l.writeUInt8(O),l.writeUInt8(E);break;default:throw"Unrecognized event type: "+p}return v}function o(){this.buffer=[]}return o.prototype.writeUInt8=function(l){this.buffer.push(l&255)},o.prototype.writeInt8=o.prototype.writeUInt8,o.prototype.writeUInt16=function(l){var h=l>>8&255,c=l&255;this.writeUInt8(h),this.writeUInt8(c)},o.prototype.writeInt16=o.prototype.writeUInt16,o.prototype.writeUInt24=function(l){var h=l>>16&255,c=l>>8&255,d=l&255;this.writeUInt8(h),this.writeUInt8(c),this.writeUInt8(d)},o.prototype.writeInt24=o.prototype.writeUInt24,o.prototype.writeUInt32=function(l){var h=l>>24&255,c=l>>16&255,d=l>>8&255,p=l&255;this.writeUInt8(h),this.writeUInt8(c),this.writeUInt8(d),this.writeUInt8(p)},o.prototype.writeInt32=o.prototype.writeUInt32,o.prototype.writeBytes=function(l){this.buffer=this.buffer.concat(Array.prototype.slice.call(l,0))},o.prototype.writeString=function(l){var h,c=l.length,d=[];for(h=0;h<c;h++)d.push(l.codePointAt(h));this.writeBytes(d)},o.prototype.writeVarInt=function(l){if(l<0)throw"Cannot write negative variable-length integer";if(l<=127)this.writeUInt8(l);else{var h=l,c=[];for(c.push(h&127),h>>=7;h;){var d=h&127|128;c.push(d),h>>=7}this.writeBytes(c.reverse())}},o.prototype.writeChunk=function(l,h){this.writeString(l),this.writeUInt32(h.length),this.writeBytes(h)},Ah=u,Ah}var o_;function K0(){return o_||(o_=1,Cl.parseMidi=Tw(),Cl.writeMidi=ww()),Cl}var kh={},Os={},l_;function J0(){if(l_)return Os;l_=1,Object.defineProperty(Os,"__esModule",{value:!0}),Os.insert=Os.search=void 0;function u(i,r,o){o===void 0&&(o="ticks");var l=0,h=i.length,c=h;if(h>0&&i[h-1][o]<=r)return h-1;for(;l<c;){var d=Math.floor(l+(c-l)/2),p=i[d],m=i[d+1];if(p[o]===r){for(var _=d;_<i.length;_++){var b=i[_];b[o]===r&&(d=_)}return d}else{if(p[o]<r&&m[o]>r)return d;p[o]>r?c=d:p[o]<r&&(l=d+1)}}return-1}Os.search=u;function n(i,r,o){if(o===void 0&&(o="ticks"),i.length){var l=u(i,r[o],o);i.splice(l+1,0,r)}else i.push(r)}return Os.insert=n,Os}var u_;function tf(){return u_||(u_=1,(function(u){Object.defineProperty(u,"__esModule",{value:!0}),u.Header=u.keySignatureKeys=void 0;var n=J0(),i=new WeakMap;u.keySignatureKeys=["Cb","Gb","Db","Ab","Eb","Bb","F","C","G","D","A","E","B","F#","C#"];var r=(function(){function o(l){var h=this;if(this.tempos=[],this.timeSignatures=[],this.keySignatures=[],this.meta=[],this.name="",i.set(this,480),l){i.set(this,l.header.ticksPerBeat),l.tracks.forEach(function(d){d.forEach(function(p){p.meta&&(p.type==="timeSignature"?h.timeSignatures.push({ticks:p.absoluteTime,timeSignature:[p.numerator,p.denominator]}):p.type==="setTempo"?h.tempos.push({bpm:6e7/p.microsecondsPerBeat,ticks:p.absoluteTime}):p.type==="keySignature"&&h.keySignatures.push({key:u.keySignatureKeys[p.key+7],scale:p.scale===0?"major":"minor",ticks:p.absoluteTime}))})});var c=0;l.tracks[0].forEach(function(d){c+=d.deltaTime,d.meta&&(d.type==="trackName"?h.name=d.text:(d.type==="text"||d.type==="cuePoint"||d.type==="marker"||d.type==="lyrics")&&h.meta.push({text:d.text,ticks:c,type:d.type}))}),this.update()}}return o.prototype.update=function(){var l=this,h=0,c=0;this.tempos.sort(function(d,p){return d.ticks-p.ticks}),this.tempos.forEach(function(d,p){var m=p>0?l.tempos[p-1].bpm:l.tempos[0].bpm,_=d.ticks/l.ppq-c,b=60/m*_;d.time=b+h,h=d.time,c+=_}),this.timeSignatures.sort(function(d,p){return d.ticks-p.ticks}),this.timeSignatures.forEach(function(d,p){var m=p>0?l.timeSignatures[p-1]:l.timeSignatures[0],_=(d.ticks-m.ticks)/l.ppq,b=_/m.timeSignature[0]/(m.timeSignature[1]/4);m.measures=m.measures||0,d.measures=b+m.measures})},o.prototype.ticksToSeconds=function(l){var h=(0,n.search)(this.tempos,l);if(h!==-1){var c=this.tempos[h],d=c.time,p=(l-c.ticks)/this.ppq;return d+60/c.bpm*p}else{var m=l/this.ppq;return 60/120*m}},o.prototype.ticksToMeasures=function(l){var h=(0,n.search)(this.timeSignatures,l);if(h!==-1){var c=this.timeSignatures[h],d=(l-c.ticks)/this.ppq;return c.measures+d/(c.timeSignature[0]/c.timeSignature[1])/4}else return l/this.ppq/4},Object.defineProperty(o.prototype,"ppq",{get:function(){return i.get(this)},enumerable:!1,configurable:!0}),o.prototype.secondsToTicks=function(l){var h=(0,n.search)(this.tempos,l,"time");if(h!==-1){var c=this.tempos[h],d=c.time,p=l-d,m=p/(60/c.bpm);return Math.round(c.ticks+m*this.ppq)}else{var _=l/.5;return Math.round(_*this.ppq)}},o.prototype.toJSON=function(){return{keySignatures:this.keySignatures,meta:this.meta,name:this.name,ppq:this.ppq,tempos:this.tempos.map(function(l){return{bpm:l.bpm,ticks:l.ticks}}),timeSignatures:this.timeSignatures}},o.prototype.fromJSON=function(l){this.name=l.name,this.tempos=l.tempos.map(function(h){return Object.assign({},h)}),this.timeSignatures=l.timeSignatures.map(function(h){return Object.assign({},h)}),this.keySignatures=l.keySignatures.map(function(h){return Object.assign({},h)}),this.meta=l.meta.map(function(h){return Object.assign({},h)}),i.set(this,l.ppq),this.update()},o.prototype.setTempo=function(l){this.tempos=[{bpm:l,ticks:0}],this.update()},o})();u.Header=r})(kh)),kh}var Ga={},Ch={},c_;function $0(){return c_||(c_=1,(function(u){Object.defineProperty(u,"__esModule",{value:!0}),u.ControlChange=u.controlChangeIds=u.controlChangeNames=void 0,u.controlChangeNames={1:"modulationWheel",2:"breath",4:"footController",5:"portamentoTime",7:"volume",8:"balance",10:"pan",64:"sustain",65:"portamentoTime",66:"sostenuto",67:"softPedal",68:"legatoFootswitch",84:"portamentoControl"},u.controlChangeIds=Object.keys(u.controlChangeNames).reduce(function(o,l){return o[u.controlChangeNames[l]]=l,o},{});var n=new WeakMap,i=new WeakMap,r=(function(){function o(l,h){n.set(this,h),i.set(this,l.controllerType),this.ticks=l.absoluteTime,this.value=l.value}return Object.defineProperty(o.prototype,"number",{get:function(){return i.get(this)},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"name",{get:function(){return u.controlChangeNames[this.number]?u.controlChangeNames[this.number]:null},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"time",{get:function(){var l=n.get(this);return l.ticksToSeconds(this.ticks)},set:function(l){var h=n.get(this);this.ticks=h.secondsToTicks(l)},enumerable:!1,configurable:!0}),o.prototype.toJSON=function(){return{number:this.number,ticks:this.ticks,time:this.time,value:this.value}},o})();u.ControlChange=r})(Ch)),Ch}var Za={},h_;function Aw(){if(h_)return Za;h_=1,Object.defineProperty(Za,"__esModule",{value:!0}),Za.createControlChanges=void 0;var u=$0();function n(){return new Proxy({},{get:function(i,r){if(i[r])return i[r];if(u.controlChangeIds.hasOwnProperty(r))return i[u.controlChangeIds[r]]},set:function(i,r,o){return u.controlChangeIds.hasOwnProperty(r)?i[u.controlChangeIds[r]]=o:i[r]=o,!0}})}return Za.createControlChanges=n,Za}var Ya={},f_;function kw(){if(f_)return Ya;f_=1,Object.defineProperty(Ya,"__esModule",{value:!0}),Ya.PitchBend=void 0;var u=new WeakMap,n=(function(){function i(r,o){u.set(this,o),this.ticks=r.absoluteTime,this.value=r.value}return Object.defineProperty(i.prototype,"time",{get:function(){var r=u.get(this);return r.ticksToSeconds(this.ticks)},set:function(r){var o=u.get(this);this.ticks=o.secondsToTicks(r)},enumerable:!1,configurable:!0}),i.prototype.toJSON=function(){return{ticks:this.ticks,time:this.time,value:this.value}},i})();return Ya.PitchBend=n,Ya}var Pa={},Ti={},d_;function Cw(){return d_||(d_=1,Object.defineProperty(Ti,"__esModule",{value:!0}),Ti.DrumKitByPatchID=Ti.InstrumentFamilyByID=Ti.instrumentByPatchID=void 0,Ti.instrumentByPatchID=["acoustic grand piano","bright acoustic piano","electric grand piano","honky-tonk piano","electric piano 1","electric piano 2","harpsichord","clavi","celesta","glockenspiel","music box","vibraphone","marimba","xylophone","tubular bells","dulcimer","drawbar organ","percussive organ","rock organ","church organ","reed organ","accordion","harmonica","tango accordion","acoustic guitar (nylon)","acoustic guitar (steel)","electric guitar (jazz)","electric guitar (clean)","electric guitar (muted)","overdriven guitar","distortion guitar","guitar harmonics","acoustic bass","electric bass (finger)","electric bass (pick)","fretless bass","slap bass 1","slap bass 2","synth bass 1","synth bass 2","violin","viola","cello","contrabass","tremolo strings","pizzicato strings","orchestral harp","timpani","string ensemble 1","string ensemble 2","synthstrings 1","synthstrings 2","choir aahs","voice oohs","synth voice","orchestra hit","trumpet","trombone","tuba","muted trumpet","french horn","brass section","synthbrass 1","synthbrass 2","soprano sax","alto sax","tenor sax","baritone sax","oboe","english horn","bassoon","clarinet","piccolo","flute","recorder","pan flute","blown bottle","shakuhachi","whistle","ocarina","lead 1 (square)","lead 2 (sawtooth)","lead 3 (calliope)","lead 4 (chiff)","lead 5 (charang)","lead 6 (voice)","lead 7 (fifths)","lead 8 (bass + lead)","pad 1 (new age)","pad 2 (warm)","pad 3 (polysynth)","pad 4 (choir)","pad 5 (bowed)","pad 6 (metallic)","pad 7 (halo)","pad 8 (sweep)","fx 1 (rain)","fx 2 (soundtrack)","fx 3 (crystal)","fx 4 (atmosphere)","fx 5 (brightness)","fx 6 (goblins)","fx 7 (echoes)","fx 8 (sci-fi)","sitar","banjo","shamisen","koto","kalimba","bag pipe","fiddle","shanai","tinkle bell","agogo","steel drums","woodblock","taiko drum","melodic tom","synth drum","reverse cymbal","guitar fret noise","breath noise","seashore","bird tweet","telephone ring","helicopter","applause","gunshot"],Ti.InstrumentFamilyByID=["piano","chromatic percussion","organ","guitar","bass","strings","ensemble","brass","reed","pipe","synth lead","synth pad","synth effects","world","percussive","sound effects"],Ti.DrumKitByPatchID={0:"standard kit",8:"room kit",16:"power kit",24:"electronic kit",25:"tr-808 kit",32:"jazz kit",40:"brush kit",48:"orchestra kit",56:"sound fx kit"}),Ti}var p_;function Nw(){if(p_)return Pa;p_=1,Object.defineProperty(Pa,"__esModule",{value:!0}),Pa.Instrument=void 0;var u=Cw(),n=new WeakMap,i=(function(){function r(o,l){if(this.number=0,n.set(this,l),this.number=0,o){var h=o.find(function(c){return c.type==="programChange"});h&&(this.number=h.programNumber)}}return Object.defineProperty(r.prototype,"name",{get:function(){return this.percussion?u.DrumKitByPatchID[this.number]:u.instrumentByPatchID[this.number]},set:function(o){var l=u.instrumentByPatchID.indexOf(o);l!==-1&&(this.number=l)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"family",{get:function(){return this.percussion?"drums":u.InstrumentFamilyByID[Math.floor(this.number/8)]},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"percussion",{get:function(){var o=n.get(this);return o.channel===9},enumerable:!1,configurable:!0}),r.prototype.toJSON=function(){return{family:this.family,number:this.number,name:this.name}},r.prototype.fromJSON=function(o){this.number=o.number},r})();return Pa.Instrument=i,Pa}var Xa={},m_;function Ew(){if(m_)return Xa;m_=1,Object.defineProperty(Xa,"__esModule",{value:!0}),Xa.Note=void 0;function u(h){var c=Math.floor(h/12)-1;return n(h)+c.toString()}function n(h){var c=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"],d=h%12;return c[d]}function i(h){var c=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"];return c.indexOf(h)}var r=(function(){var h=/^([a-g]{1}(?:b|#|x|bb)?)(-?[0-9]+)/i,c={cbb:-2,cb:-1,c:0,"c#":1,cx:2,dbb:0,db:1,d:2,"d#":3,dx:4,ebb:2,eb:3,e:4,"e#":5,ex:6,fbb:3,fb:4,f:5,"f#":6,fx:7,gbb:5,gb:6,g:7,"g#":8,gx:9,abb:7,ab:8,a:9,"a#":10,ax:11,bbb:9,bb:10,b:11,"b#":12,bx:13};return function(d){var p=h.exec(d),m=p[1],_=p[2],b=c[m.toLowerCase()];return b+(parseInt(_,10)+1)*12}})(),o=new WeakMap,l=(function(){function h(c,d,p){o.set(this,p),this.midi=c.midi,this.velocity=c.velocity,this.noteOffVelocity=d.velocity,this.ticks=c.ticks,this.durationTicks=d.ticks-c.ticks}return Object.defineProperty(h.prototype,"name",{get:function(){return u(this.midi)},set:function(c){this.midi=r(c)},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"octave",{get:function(){return Math.floor(this.midi/12)-1},set:function(c){var d=c-this.octave;this.midi+=d*12},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"pitch",{get:function(){return n(this.midi)},set:function(c){this.midi=12*(this.octave+1)+i(c)},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"duration",{get:function(){var c=o.get(this);return c.ticksToSeconds(this.ticks+this.durationTicks)-c.ticksToSeconds(this.ticks)},set:function(c){var d=o.get(this),p=d.secondsToTicks(this.time+c);this.durationTicks=p-this.ticks},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"time",{get:function(){var c=o.get(this);return c.ticksToSeconds(this.ticks)},set:function(c){var d=o.get(this);this.ticks=d.secondsToTicks(c)},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"bars",{get:function(){var c=o.get(this);return c.ticksToMeasures(this.ticks)},enumerable:!1,configurable:!0}),h.prototype.toJSON=function(){return{duration:this.duration,durationTicks:this.durationTicks,midi:this.midi,name:this.name,ticks:this.ticks,time:this.time,velocity:this.velocity}},h})();return Xa.Note=l,Xa}var g_;function __(){if(g_)return Ga;g_=1,Object.defineProperty(Ga,"__esModule",{value:!0}),Ga.Track=void 0;var u=J0(),n=$0(),i=Aw(),r=kw(),o=Nw(),l=Ew(),h=new WeakMap,c=(function(){function d(p,m){var _=this;if(this.name="",this.notes=[],this.controlChanges=(0,i.createControlChanges)(),this.pitchBends=[],h.set(this,m),p){var b=p.find(function(E){return E.type==="trackName"});this.name=b?b.text:""}if(this.instrument=new o.Instrument(p,this),this.channel=0,p){for(var v=p.filter(function(E){return E.type==="noteOn"}),x=p.filter(function(E){return E.type==="noteOff"}),y=function(){var E=v.shift();S.channel=E.channel;var C=x.findIndex(function(R){return R.noteNumber===E.noteNumber&&R.absoluteTime>=E.absoluteTime});if(C!==-1){var U=x.splice(C,1)[0];S.addNote({durationTicks:U.absoluteTime-E.absoluteTime,midi:E.noteNumber,noteOffVelocity:U.velocity/127,ticks:E.absoluteTime,velocity:E.velocity/127})}},S=this;v.length;)y();var T=p.filter(function(E){return E.type==="controller"});T.forEach(function(E){_.addCC({number:E.controllerType,ticks:E.absoluteTime,value:E.value/127})});var N=p.filter(function(E){return E.type==="pitchBend"});N.forEach(function(E){_.addPitchBend({ticks:E.absoluteTime,value:E.value/Math.pow(2,13)})});var O=p.find(function(E){return E.type==="endOfTrack"});this.endOfTrackTicks=O!==void 0?O.absoluteTime:void 0}}return d.prototype.addNote=function(p){var m=h.get(this),_=new l.Note({midi:0,ticks:0,velocity:1},{ticks:0,velocity:0},m);return Object.assign(_,p),(0,u.insert)(this.notes,_,"ticks"),this},d.prototype.addCC=function(p){var m=h.get(this),_=new n.ControlChange({controllerType:p.number},m);return delete p.number,Object.assign(_,p),Array.isArray(this.controlChanges[_.number])||(this.controlChanges[_.number]=[]),(0,u.insert)(this.controlChanges[_.number],_,"ticks"),this},d.prototype.addPitchBend=function(p){var m=h.get(this),_=new r.PitchBend({},m);return Object.assign(_,p),(0,u.insert)(this.pitchBends,_,"ticks"),this},Object.defineProperty(d.prototype,"duration",{get:function(){if(!this.notes.length)return 0;for(var p=this.notes[this.notes.length-1].time+this.notes[this.notes.length-1].duration,m=0;m<this.notes.length-1;m++){var _=this.notes[m].time+this.notes[m].duration;p<_&&(p=_)}return p},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"durationTicks",{get:function(){if(!this.notes.length)return 0;for(var p=this.notes[this.notes.length-1].ticks+this.notes[this.notes.length-1].durationTicks,m=0;m<this.notes.length-1;m++){var _=this.notes[m].ticks+this.notes[m].durationTicks;p<_&&(p=_)}return p},enumerable:!1,configurable:!0}),d.prototype.fromJSON=function(p){var m=this;this.name=p.name,this.channel=p.channel,this.instrument=new o.Instrument(void 0,this),this.instrument.fromJSON(p.instrument),p.endOfTrackTicks!==void 0&&(this.endOfTrackTicks=p.endOfTrackTicks);for(var _ in p.controlChanges)p.controlChanges[_]&&p.controlChanges[_].forEach(function(b){m.addCC({number:b.number,ticks:b.ticks,value:b.value})});p.notes.forEach(function(b){m.addNote({durationTicks:b.durationTicks,midi:b.midi,ticks:b.ticks,velocity:b.velocity})})},d.prototype.toJSON=function(){for(var p={},m=0;m<127;m++)this.controlChanges.hasOwnProperty(m)&&(p[m]=this.controlChanges[m].map(function(b){return b.toJSON()}));var _={channel:this.channel,controlChanges:p,pitchBends:this.pitchBends.map(function(b){return b.toJSON()}),instrument:this.instrument.toJSON(),name:this.name,notes:this.notes.map(function(b){return b.toJSON()})};return this.endOfTrackTicks!==void 0&&(_.endOfTrackTicks=this.endOfTrackTicks),_},d})();return Ga.Track=c,Ga}var Ms={};function Ow(u){var n=[];return tv(u,n),n}function tv(u,n){for(var i=0;i<u.length;i++){var r=u[i];Array.isArray(r)?tv(r,n):n.push(r)}}const Mw=Object.freeze(Object.defineProperty({__proto__:null,flatten:Ow},Symbol.toStringTag,{value:"Module"})),Dw=F_(Mw);var v_;function Rw(){if(v_)return Ms;v_=1;var u=Ms&&Ms.__spreadArray||function(T,N,O){if(O||arguments.length===2)for(var E=0,C=N.length,U;E<C;E++)(U||!(E in N))&&(U||(U=Array.prototype.slice.call(N,0,E)),U[E]=N[E]);return T.concat(U||Array.prototype.slice.call(N))};Object.defineProperty(Ms,"__esModule",{value:!0}),Ms.encode=void 0;var n=K0(),i=tf(),r=Dw;function o(T,N){return[{absoluteTime:T.ticks,channel:N,deltaTime:0,noteNumber:T.midi,type:"noteOn",velocity:Math.floor(T.velocity*127)},{absoluteTime:T.ticks+T.durationTicks,channel:N,deltaTime:0,noteNumber:T.midi,type:"noteOff",velocity:Math.floor(T.noteOffVelocity*127)}]}function l(T){return(0,r.flatten)(T.notes.map(function(N){return o(N,T.channel)}))}function h(T,N){return{absoluteTime:T.ticks,channel:N,controllerType:T.number,deltaTime:0,type:"controller",value:Math.floor(T.value*127)}}function c(T){for(var N=[],O=0;O<127;O++)T.controlChanges.hasOwnProperty(O)&&T.controlChanges[O].forEach(function(E){N.push(h(E,T.channel))});return N}function d(T,N){return{absoluteTime:T.ticks,channel:N,deltaTime:0,type:"pitchBend",value:T.value}}function p(T){var N=[];return T.pitchBends.forEach(function(O){N.push(d(O,T.channel))}),N}function m(T){return{absoluteTime:0,channel:T.channel,deltaTime:0,programNumber:T.instrument.number,type:"programChange"}}function _(T){return{absoluteTime:0,deltaTime:0,meta:!0,text:T,type:"trackName"}}function b(T){return{absoluteTime:T.ticks,deltaTime:0,meta:!0,microsecondsPerBeat:Math.floor(6e7/T.bpm),type:"setTempo"}}function v(T){return{absoluteTime:T.ticks,deltaTime:0,denominator:T.timeSignature[1],meta:!0,metronome:24,numerator:T.timeSignature[0],thirtyseconds:8,type:"timeSignature"}}function x(T){var N=i.keySignatureKeys.indexOf(T.key);return{absoluteTime:T.ticks,deltaTime:0,key:N+7,meta:!0,scale:T.scale==="major"?0:1,type:"keySignature"}}function y(T){return{absoluteTime:T.ticks,deltaTime:0,meta:!0,text:T.text,type:T.type}}function S(T){var N={header:{format:1,numTracks:T.tracks.length+1,ticksPerBeat:T.header.ppq},tracks:u([u(u(u(u([{absoluteTime:0,deltaTime:0,meta:!0,text:T.header.name,type:"trackName"}],T.header.keySignatures.map(function(O){return x(O)}),!0),T.header.meta.map(function(O){return y(O)}),!0),T.header.tempos.map(function(O){return b(O)}),!0),T.header.timeSignatures.map(function(O){return v(O)}),!0)],T.tracks.map(function(O){return u(u(u([_(O.name),m(O)],l(O),!0),c(O),!0),p(O),!0)}),!0)};return N.tracks=N.tracks.map(function(O){O=O.sort(function(C,U){return C.absoluteTime-U.absoluteTime});var E=0;return O.forEach(function(C){C.deltaTime=C.absoluteTime-E,E=C.absoluteTime,delete C.absoluteTime}),O.push({deltaTime:0,meta:!0,type:"endOfTrack"}),O}),new Uint8Array((0,n.writeMidi)(N))}return Ms.encode=S,Ms}var y_;function zw(){return y_||(y_=1,(function(u){var n=Es&&Es.__awaiter||function(_,b,v,x){function y(S){return S instanceof v?S:new v(function(T){T(S)})}return new(v||(v=Promise))(function(S,T){function N(C){try{E(x.next(C))}catch(U){T(U)}}function O(C){try{E(x.throw(C))}catch(U){T(U)}}function E(C){C.done?S(C.value):y(C.value).then(N,O)}E((x=x.apply(_,b||[])).next())})},i=Es&&Es.__generator||function(_,b){var v={label:0,sent:function(){if(S[0]&1)throw S[1];return S[1]},trys:[],ops:[]},x,y,S,T;return T={next:N(0),throw:N(1),return:N(2)},typeof Symbol=="function"&&(T[Symbol.iterator]=function(){return this}),T;function N(E){return function(C){return O([E,C])}}function O(E){if(x)throw new TypeError("Generator is already executing.");for(;v;)try{if(x=1,y&&(S=E[0]&2?y.return:E[0]?y.throw||((S=y.return)&&S.call(y),0):y.next)&&!(S=S.call(y,E[1])).done)return S;switch(y=0,S&&(E=[E[0]&2,S.value]),E[0]){case 0:case 1:S=E;break;case 4:return v.label++,{value:E[1],done:!1};case 5:v.label++,y=E[1],E=[0];continue;case 7:E=v.ops.pop(),v.trys.pop();continue;default:if(S=v.trys,!(S=S.length>0&&S[S.length-1])&&(E[0]===6||E[0]===2)){v=0;continue}if(E[0]===3&&(!S||E[1]>S[0]&&E[1]<S[3])){v.label=E[1];break}if(E[0]===6&&v.label<S[1]){v.label=S[1],S=E;break}if(S&&v.label<S[2]){v.label=S[2],v.ops.push(E);break}S[2]&&v.ops.pop(),v.trys.pop();continue}E=b.call(_,v)}catch(C){E=[6,C],y=0}finally{x=S=0}if(E[0]&5)throw E[1];return{value:E[0]?E[1]:void 0,done:!0}}};Object.defineProperty(u,"__esModule",{value:!0}),u.Header=u.Track=u.Midi=void 0;var r=K0(),o=tf(),l=__(),h=Rw(),c=(function(){function _(b){var v=this,x=null;if(b){var y=b instanceof ArrayBuffer?new Uint8Array(b):b;x=(0,r.parseMidi)(y),x.tracks.forEach(function(S){var T=0;S.forEach(function(N){T+=N.deltaTime,N.absoluteTime=T})}),x.tracks=m(x.tracks)}this.header=new o.Header(x),this.tracks=[],b&&(this.tracks=x.tracks.map(function(S){return new l.Track(S,v.header)}),x.header.format===1&&this.tracks[0].duration===0&&this.tracks.shift())}return _.fromUrl=function(b){return n(this,void 0,void 0,function(){var v,x;return i(this,function(y){switch(y.label){case 0:return[4,fetch(b)];case 1:return v=y.sent(),v.ok?[4,v.arrayBuffer()]:[3,3];case 2:return x=y.sent(),[2,new _(x)];case 3:throw new Error("Could not load '".concat(b,"'"))}})})},Object.defineProperty(_.prototype,"name",{get:function(){return this.header.name},set:function(b){this.header.name=b},enumerable:!1,configurable:!0}),Object.defineProperty(_.prototype,"duration",{get:function(){var b=this.tracks.map(function(v){return v.duration});return Math.max.apply(Math,b)},enumerable:!1,configurable:!0}),Object.defineProperty(_.prototype,"durationTicks",{get:function(){var b=this.tracks.map(function(v){return v.durationTicks});return Math.max.apply(Math,b)},enumerable:!1,configurable:!0}),_.prototype.addTrack=function(){var b=new l.Track(void 0,this.header);return this.tracks.push(b),b},_.prototype.toArray=function(){return(0,h.encode)(this)},_.prototype.toJSON=function(){return{header:this.header.toJSON(),tracks:this.tracks.map(function(b){return b.toJSON()})}},_.prototype.fromJSON=function(b){var v=this;this.header=new o.Header,this.header.fromJSON(b.header),this.tracks=b.tracks.map(function(x){var y=new l.Track(void 0,v.header);return y.fromJSON(x),y})},_.prototype.clone=function(){var b=new _;return b.fromJSON(this.toJSON()),b},_})();u.Midi=c;var d=__();Object.defineProperty(u,"Track",{enumerable:!0,get:function(){return d.Track}});var p=tf();Object.defineProperty(u,"Header",{enumerable:!0,get:function(){return p.Header}});function m(_){for(var b=[],v=0;v<_.length;v++)for(var x=b.length,y=new Map,S=Array(16).fill(0),T=0,N=_[v];T<N.length;T++){var O=N[T],E=x,C=O.channel;if(C!==void 0){O.type==="programChange"&&(S[C]=O.programNumber);var U=S[C],R="".concat(U," ").concat(C);y.has(R)?E=y.get(R):(E=x+y.size,y.set(R,E))}b[E]||b.push([]),b[E].push(O)}return b}})(Es)),Es}var Gn=zw();function ns(u){throw new Error('Could not dynamically require "'+u+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Nh={exports:{}};/*!

JSZip v3.10.1 - A JavaScript class for generating and reading zip files
<http://stuartk.com/jszip>

(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

JSZip uses the library pako released under the MIT license :
https://github.com/nodeca/pako/blob/main/LICENSE
*/var b_;function jw(){return b_||(b_=1,(function(u,n){(function(i){u.exports=i()})(function(){return(function i(r,o,l){function h(p,m){if(!o[p]){if(!r[p]){var _=typeof ns=="function"&&ns;if(!m&&_)return _(p,!0);if(c)return c(p,!0);var b=new Error("Cannot find module '"+p+"'");throw b.code="MODULE_NOT_FOUND",b}var v=o[p]={exports:{}};r[p][0].call(v.exports,function(x){var y=r[p][1][x];return h(y||x)},v,v.exports,i,r,o,l)}return o[p].exports}for(var c=typeof ns=="function"&&ns,d=0;d<l.length;d++)h(l[d]);return h})({1:[function(i,r,o){var l=i("./utils"),h=i("./support"),c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";o.encode=function(d){for(var p,m,_,b,v,x,y,S=[],T=0,N=d.length,O=N,E=l.getTypeOf(d)!=="string";T<d.length;)O=N-T,_=E?(p=d[T++],m=T<N?d[T++]:0,T<N?d[T++]:0):(p=d.charCodeAt(T++),m=T<N?d.charCodeAt(T++):0,T<N?d.charCodeAt(T++):0),b=p>>2,v=(3&p)<<4|m>>4,x=1<O?(15&m)<<2|_>>6:64,y=2<O?63&_:64,S.push(c.charAt(b)+c.charAt(v)+c.charAt(x)+c.charAt(y));return S.join("")},o.decode=function(d){var p,m,_,b,v,x,y=0,S=0,T="data:";if(d.substr(0,T.length)===T)throw new Error("Invalid base64 input, it looks like a data url.");var N,O=3*(d=d.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(d.charAt(d.length-1)===c.charAt(64)&&O--,d.charAt(d.length-2)===c.charAt(64)&&O--,O%1!=0)throw new Error("Invalid base64 input, bad content length.");for(N=h.uint8array?new Uint8Array(0|O):new Array(0|O);y<d.length;)p=c.indexOf(d.charAt(y++))<<2|(b=c.indexOf(d.charAt(y++)))>>4,m=(15&b)<<4|(v=c.indexOf(d.charAt(y++)))>>2,_=(3&v)<<6|(x=c.indexOf(d.charAt(y++))),N[S++]=p,v!==64&&(N[S++]=m),x!==64&&(N[S++]=_);return N}},{"./support":30,"./utils":32}],2:[function(i,r,o){var l=i("./external"),h=i("./stream/DataWorker"),c=i("./stream/Crc32Probe"),d=i("./stream/DataLengthProbe");function p(m,_,b,v,x){this.compressedSize=m,this.uncompressedSize=_,this.crc32=b,this.compression=v,this.compressedContent=x}p.prototype={getContentWorker:function(){var m=new h(l.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new d("data_length")),_=this;return m.on("end",function(){if(this.streamInfo.data_length!==_.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),m},getCompressedWorker:function(){return new h(l.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},p.createWorkerFrom=function(m,_,b){return m.pipe(new c).pipe(new d("uncompressedSize")).pipe(_.compressWorker(b)).pipe(new d("compressedSize")).withStreamInfo("compression",_)},r.exports=p},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(i,r,o){var l=i("./stream/GenericWorker");o.STORE={magic:"\0\0",compressWorker:function(){return new l("STORE compression")},uncompressWorker:function(){return new l("STORE decompression")}},o.DEFLATE=i("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(i,r,o){var l=i("./utils"),h=(function(){for(var c,d=[],p=0;p<256;p++){c=p;for(var m=0;m<8;m++)c=1&c?3988292384^c>>>1:c>>>1;d[p]=c}return d})();r.exports=function(c,d){return c!==void 0&&c.length?l.getTypeOf(c)!=="string"?(function(p,m,_,b){var v=h,x=b+_;p^=-1;for(var y=b;y<x;y++)p=p>>>8^v[255&(p^m[y])];return-1^p})(0|d,c,c.length,0):(function(p,m,_,b){var v=h,x=b+_;p^=-1;for(var y=b;y<x;y++)p=p>>>8^v[255&(p^m.charCodeAt(y))];return-1^p})(0|d,c,c.length,0):0}},{"./utils":32}],5:[function(i,r,o){o.base64=!1,o.binary=!1,o.dir=!1,o.createFolders=!0,o.date=null,o.compression=null,o.compressionOptions=null,o.comment=null,o.unixPermissions=null,o.dosPermissions=null},{}],6:[function(i,r,o){var l=null;l=typeof Promise<"u"?Promise:i("lie"),r.exports={Promise:l}},{lie:37}],7:[function(i,r,o){var l=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",h=i("pako"),c=i("./utils"),d=i("./stream/GenericWorker"),p=l?"uint8array":"array";function m(_,b){d.call(this,"FlateWorker/"+_),this._pako=null,this._pakoAction=_,this._pakoOptions=b,this.meta={}}o.magic="\b\0",c.inherits(m,d),m.prototype.processChunk=function(_){this.meta=_.meta,this._pako===null&&this._createPako(),this._pako.push(c.transformTo(p,_.data),!1)},m.prototype.flush=function(){d.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},m.prototype.cleanUp=function(){d.prototype.cleanUp.call(this),this._pako=null},m.prototype._createPako=function(){this._pako=new h[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var _=this;this._pako.onData=function(b){_.push({data:b,meta:_.meta})}},o.compressWorker=function(_){return new m("Deflate",_)},o.uncompressWorker=function(){return new m("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(i,r,o){function l(v,x){var y,S="";for(y=0;y<x;y++)S+=String.fromCharCode(255&v),v>>>=8;return S}function h(v,x,y,S,T,N){var O,E,C=v.file,U=v.compression,R=N!==p.utf8encode,z=c.transformTo("string",N(C.name)),V=c.transformTo("string",p.utf8encode(C.name)),P=C.comment,et=c.transformTo("string",N(P)),D=c.transformTo("string",p.utf8encode(P)),X=V.length!==C.name.length,w=D.length!==P.length,J="",Z="",H="",ht=C.dir,tt=C.date,j={crc32:0,compressedSize:0,uncompressedSize:0};x&&!y||(j.crc32=v.crc32,j.compressedSize=v.compressedSize,j.uncompressedSize=v.uncompressedSize);var B=0;x&&(B|=8),R||!X&&!w||(B|=2048);var F=0,ut=0;ht&&(F|=16),T==="UNIX"?(ut=798,F|=(function(rt,vt){var St=rt;return rt||(St=vt?16893:33204),(65535&St)<<16})(C.unixPermissions,ht)):(ut=20,F|=(function(rt){return 63&(rt||0)})(C.dosPermissions)),O=tt.getUTCHours(),O<<=6,O|=tt.getUTCMinutes(),O<<=5,O|=tt.getUTCSeconds()/2,E=tt.getUTCFullYear()-1980,E<<=4,E|=tt.getUTCMonth()+1,E<<=5,E|=tt.getUTCDate(),X&&(Z=l(1,1)+l(m(z),4)+V,J+="up"+l(Z.length,2)+Z),w&&(H=l(1,1)+l(m(et),4)+D,J+="uc"+l(H.length,2)+H);var ct="";return ct+=`
\0`,ct+=l(B,2),ct+=U.magic,ct+=l(O,2),ct+=l(E,2),ct+=l(j.crc32,4),ct+=l(j.compressedSize,4),ct+=l(j.uncompressedSize,4),ct+=l(z.length,2),ct+=l(J.length,2),{fileRecord:_.LOCAL_FILE_HEADER+ct+z+J,dirRecord:_.CENTRAL_FILE_HEADER+l(ut,2)+ct+l(et.length,2)+"\0\0\0\0"+l(F,4)+l(S,4)+z+J+et}}var c=i("../utils"),d=i("../stream/GenericWorker"),p=i("../utf8"),m=i("../crc32"),_=i("../signature");function b(v,x,y,S){d.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=x,this.zipPlatform=y,this.encodeFileName=S,this.streamFiles=v,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}c.inherits(b,d),b.prototype.push=function(v){var x=v.meta.percent||0,y=this.entriesCount,S=this._sources.length;this.accumulate?this.contentBuffer.push(v):(this.bytesWritten+=v.data.length,d.prototype.push.call(this,{data:v.data,meta:{currentFile:this.currentFile,percent:y?(x+100*(y-S-1))/y:100}}))},b.prototype.openedSource=function(v){this.currentSourceOffset=this.bytesWritten,this.currentFile=v.file.name;var x=this.streamFiles&&!v.file.dir;if(x){var y=h(v,x,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:y.fileRecord,meta:{percent:0}})}else this.accumulate=!0},b.prototype.closedSource=function(v){this.accumulate=!1;var x=this.streamFiles&&!v.file.dir,y=h(v,x,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(y.dirRecord),x)this.push({data:(function(S){return _.DATA_DESCRIPTOR+l(S.crc32,4)+l(S.compressedSize,4)+l(S.uncompressedSize,4)})(v),meta:{percent:100}});else for(this.push({data:y.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},b.prototype.flush=function(){for(var v=this.bytesWritten,x=0;x<this.dirRecords.length;x++)this.push({data:this.dirRecords[x],meta:{percent:100}});var y=this.bytesWritten-v,S=(function(T,N,O,E,C){var U=c.transformTo("string",C(E));return _.CENTRAL_DIRECTORY_END+"\0\0\0\0"+l(T,2)+l(T,2)+l(N,4)+l(O,4)+l(U.length,2)+U})(this.dirRecords.length,y,v,this.zipComment,this.encodeFileName);this.push({data:S,meta:{percent:100}})},b.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},b.prototype.registerPrevious=function(v){this._sources.push(v);var x=this;return v.on("data",function(y){x.processChunk(y)}),v.on("end",function(){x.closedSource(x.previous.streamInfo),x._sources.length?x.prepareNextSource():x.end()}),v.on("error",function(y){x.error(y)}),this},b.prototype.resume=function(){return!!d.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},b.prototype.error=function(v){var x=this._sources;if(!d.prototype.error.call(this,v))return!1;for(var y=0;y<x.length;y++)try{x[y].error(v)}catch{}return!0},b.prototype.lock=function(){d.prototype.lock.call(this);for(var v=this._sources,x=0;x<v.length;x++)v[x].lock()},r.exports=b},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(i,r,o){var l=i("../compressions"),h=i("./ZipFileWorker");o.generateWorker=function(c,d,p){var m=new h(d.streamFiles,p,d.platform,d.encodeFileName),_=0;try{c.forEach(function(b,v){_++;var x=(function(N,O){var E=N||O,C=l[E];if(!C)throw new Error(E+" is not a valid compression method !");return C})(v.options.compression,d.compression),y=v.options.compressionOptions||d.compressionOptions||{},S=v.dir,T=v.date;v._compressWorker(x,y).withStreamInfo("file",{name:b,dir:S,date:T,comment:v.comment||"",unixPermissions:v.unixPermissions,dosPermissions:v.dosPermissions}).pipe(m)}),m.entriesCount=_}catch(b){m.error(b)}return m}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(i,r,o){function l(){if(!(this instanceof l))return new l;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var h=new l;for(var c in this)typeof this[c]!="function"&&(h[c]=this[c]);return h}}(l.prototype=i("./object")).loadAsync=i("./load"),l.support=i("./support"),l.defaults=i("./defaults"),l.version="3.10.1",l.loadAsync=function(h,c){return new l().loadAsync(h,c)},l.external=i("./external"),r.exports=l},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(i,r,o){var l=i("./utils"),h=i("./external"),c=i("./utf8"),d=i("./zipEntries"),p=i("./stream/Crc32Probe"),m=i("./nodejsUtils");function _(b){return new h.Promise(function(v,x){var y=b.decompressed.getContentWorker().pipe(new p);y.on("error",function(S){x(S)}).on("end",function(){y.streamInfo.crc32!==b.decompressed.crc32?x(new Error("Corrupted zip : CRC32 mismatch")):v()}).resume()})}r.exports=function(b,v){var x=this;return v=l.extend(v||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:c.utf8decode}),m.isNode&&m.isStream(b)?h.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):l.prepareContent("the loaded zip file",b,!0,v.optimizedBinaryString,v.base64).then(function(y){var S=new d(v);return S.load(y),S}).then(function(y){var S=[h.Promise.resolve(y)],T=y.files;if(v.checkCRC32)for(var N=0;N<T.length;N++)S.push(_(T[N]));return h.Promise.all(S)}).then(function(y){for(var S=y.shift(),T=S.files,N=0;N<T.length;N++){var O=T[N],E=O.fileNameStr,C=l.resolve(O.fileNameStr);x.file(C,O.decompressed,{binary:!0,optimizedBinaryString:!0,date:O.date,dir:O.dir,comment:O.fileCommentStr.length?O.fileCommentStr:null,unixPermissions:O.unixPermissions,dosPermissions:O.dosPermissions,createFolders:v.createFolders}),O.dir||(x.file(C).unsafeOriginalName=E)}return S.zipComment.length&&(x.comment=S.zipComment),x})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(i,r,o){var l=i("../utils"),h=i("../stream/GenericWorker");function c(d,p){h.call(this,"Nodejs stream input adapter for "+d),this._upstreamEnded=!1,this._bindStream(p)}l.inherits(c,h),c.prototype._bindStream=function(d){var p=this;(this._stream=d).pause(),d.on("data",function(m){p.push({data:m,meta:{percent:0}})}).on("error",function(m){p.isPaused?this.generatedError=m:p.error(m)}).on("end",function(){p.isPaused?p._upstreamEnded=!0:p.end()})},c.prototype.pause=function(){return!!h.prototype.pause.call(this)&&(this._stream.pause(),!0)},c.prototype.resume=function(){return!!h.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},r.exports=c},{"../stream/GenericWorker":28,"../utils":32}],13:[function(i,r,o){var l=i("readable-stream").Readable;function h(c,d,p){l.call(this,d),this._helper=c;var m=this;c.on("data",function(_,b){m.push(_)||m._helper.pause(),p&&p(b)}).on("error",function(_){m.emit("error",_)}).on("end",function(){m.push(null)})}i("../utils").inherits(h,l),h.prototype._read=function(){this._helper.resume()},r.exports=h},{"../utils":32,"readable-stream":16}],14:[function(i,r,o){r.exports={isNode:typeof Buffer<"u",newBufferFrom:function(l,h){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(l,h);if(typeof l=="number")throw new Error('The "data" argument must not be a number');return new Buffer(l,h)},allocBuffer:function(l){if(Buffer.alloc)return Buffer.alloc(l);var h=new Buffer(l);return h.fill(0),h},isBuffer:function(l){return Buffer.isBuffer(l)},isStream:function(l){return l&&typeof l.on=="function"&&typeof l.pause=="function"&&typeof l.resume=="function"}}},{}],15:[function(i,r,o){function l(C,U,R){var z,V=c.getTypeOf(U),P=c.extend(R||{},m);P.date=P.date||new Date,P.compression!==null&&(P.compression=P.compression.toUpperCase()),typeof P.unixPermissions=="string"&&(P.unixPermissions=parseInt(P.unixPermissions,8)),P.unixPermissions&&16384&P.unixPermissions&&(P.dir=!0),P.dosPermissions&&16&P.dosPermissions&&(P.dir=!0),P.dir&&(C=T(C)),P.createFolders&&(z=S(C))&&N.call(this,z,!0);var et=V==="string"&&P.binary===!1&&P.base64===!1;R&&R.binary!==void 0||(P.binary=!et),(U instanceof _&&U.uncompressedSize===0||P.dir||!U||U.length===0)&&(P.base64=!1,P.binary=!0,U="",P.compression="STORE",V="string");var D=null;D=U instanceof _||U instanceof d?U:x.isNode&&x.isStream(U)?new y(C,U):c.prepareContent(C,U,P.binary,P.optimizedBinaryString,P.base64);var X=new b(C,D,P);this.files[C]=X}var h=i("./utf8"),c=i("./utils"),d=i("./stream/GenericWorker"),p=i("./stream/StreamHelper"),m=i("./defaults"),_=i("./compressedObject"),b=i("./zipObject"),v=i("./generate"),x=i("./nodejsUtils"),y=i("./nodejs/NodejsStreamInputAdapter"),S=function(C){C.slice(-1)==="/"&&(C=C.substring(0,C.length-1));var U=C.lastIndexOf("/");return 0<U?C.substring(0,U):""},T=function(C){return C.slice(-1)!=="/"&&(C+="/"),C},N=function(C,U){return U=U!==void 0?U:m.createFolders,C=T(C),this.files[C]||l.call(this,C,null,{dir:!0,createFolders:U}),this.files[C]};function O(C){return Object.prototype.toString.call(C)==="[object RegExp]"}var E={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(C){var U,R,z;for(U in this.files)z=this.files[U],(R=U.slice(this.root.length,U.length))&&U.slice(0,this.root.length)===this.root&&C(R,z)},filter:function(C){var U=[];return this.forEach(function(R,z){C(R,z)&&U.push(z)}),U},file:function(C,U,R){if(arguments.length!==1)return C=this.root+C,l.call(this,C,U,R),this;if(O(C)){var z=C;return this.filter(function(P,et){return!et.dir&&z.test(P)})}var V=this.files[this.root+C];return V&&!V.dir?V:null},folder:function(C){if(!C)return this;if(O(C))return this.filter(function(V,P){return P.dir&&C.test(V)});var U=this.root+C,R=N.call(this,U),z=this.clone();return z.root=R.name,z},remove:function(C){C=this.root+C;var U=this.files[C];if(U||(C.slice(-1)!=="/"&&(C+="/"),U=this.files[C]),U&&!U.dir)delete this.files[C];else for(var R=this.filter(function(V,P){return P.name.slice(0,C.length)===C}),z=0;z<R.length;z++)delete this.files[R[z].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(C){var U,R={};try{if((R=c.extend(C||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:h.utf8encode})).type=R.type.toLowerCase(),R.compression=R.compression.toUpperCase(),R.type==="binarystring"&&(R.type="string"),!R.type)throw new Error("No output type specified.");c.checkSupport(R.type),R.platform!=="darwin"&&R.platform!=="freebsd"&&R.platform!=="linux"&&R.platform!=="sunos"||(R.platform="UNIX"),R.platform==="win32"&&(R.platform="DOS");var z=R.comment||this.comment||"";U=v.generateWorker(this,R,z)}catch(V){(U=new d("error")).error(V)}return new p(U,R.type||"string",R.mimeType)},generateAsync:function(C,U){return this.generateInternalStream(C).accumulate(U)},generateNodeStream:function(C,U){return(C=C||{}).type||(C.type="nodebuffer"),this.generateInternalStream(C).toNodejsStream(U)}};r.exports=E},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(i,r,o){r.exports=i("stream")},{stream:void 0}],17:[function(i,r,o){var l=i("./DataReader");function h(c){l.call(this,c);for(var d=0;d<this.data.length;d++)c[d]=255&c[d]}i("../utils").inherits(h,l),h.prototype.byteAt=function(c){return this.data[this.zero+c]},h.prototype.lastIndexOfSignature=function(c){for(var d=c.charCodeAt(0),p=c.charCodeAt(1),m=c.charCodeAt(2),_=c.charCodeAt(3),b=this.length-4;0<=b;--b)if(this.data[b]===d&&this.data[b+1]===p&&this.data[b+2]===m&&this.data[b+3]===_)return b-this.zero;return-1},h.prototype.readAndCheckSignature=function(c){var d=c.charCodeAt(0),p=c.charCodeAt(1),m=c.charCodeAt(2),_=c.charCodeAt(3),b=this.readData(4);return d===b[0]&&p===b[1]&&m===b[2]&&_===b[3]},h.prototype.readData=function(c){if(this.checkOffset(c),c===0)return[];var d=this.data.slice(this.zero+this.index,this.zero+this.index+c);return this.index+=c,d},r.exports=h},{"../utils":32,"./DataReader":18}],18:[function(i,r,o){var l=i("../utils");function h(c){this.data=c,this.length=c.length,this.index=0,this.zero=0}h.prototype={checkOffset:function(c){this.checkIndex(this.index+c)},checkIndex:function(c){if(this.length<this.zero+c||c<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+c+"). Corrupted zip ?")},setIndex:function(c){this.checkIndex(c),this.index=c},skip:function(c){this.setIndex(this.index+c)},byteAt:function(){},readInt:function(c){var d,p=0;for(this.checkOffset(c),d=this.index+c-1;d>=this.index;d--)p=(p<<8)+this.byteAt(d);return this.index+=c,p},readString:function(c){return l.transformTo("string",this.readData(c))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var c=this.readInt(4);return new Date(Date.UTC(1980+(c>>25&127),(c>>21&15)-1,c>>16&31,c>>11&31,c>>5&63,(31&c)<<1))}},r.exports=h},{"../utils":32}],19:[function(i,r,o){var l=i("./Uint8ArrayReader");function h(c){l.call(this,c)}i("../utils").inherits(h,l),h.prototype.readData=function(c){this.checkOffset(c);var d=this.data.slice(this.zero+this.index,this.zero+this.index+c);return this.index+=c,d},r.exports=h},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(i,r,o){var l=i("./DataReader");function h(c){l.call(this,c)}i("../utils").inherits(h,l),h.prototype.byteAt=function(c){return this.data.charCodeAt(this.zero+c)},h.prototype.lastIndexOfSignature=function(c){return this.data.lastIndexOf(c)-this.zero},h.prototype.readAndCheckSignature=function(c){return c===this.readData(4)},h.prototype.readData=function(c){this.checkOffset(c);var d=this.data.slice(this.zero+this.index,this.zero+this.index+c);return this.index+=c,d},r.exports=h},{"../utils":32,"./DataReader":18}],21:[function(i,r,o){var l=i("./ArrayReader");function h(c){l.call(this,c)}i("../utils").inherits(h,l),h.prototype.readData=function(c){if(this.checkOffset(c),c===0)return new Uint8Array(0);var d=this.data.subarray(this.zero+this.index,this.zero+this.index+c);return this.index+=c,d},r.exports=h},{"../utils":32,"./ArrayReader":17}],22:[function(i,r,o){var l=i("../utils"),h=i("../support"),c=i("./ArrayReader"),d=i("./StringReader"),p=i("./NodeBufferReader"),m=i("./Uint8ArrayReader");r.exports=function(_){var b=l.getTypeOf(_);return l.checkSupport(b),b!=="string"||h.uint8array?b==="nodebuffer"?new p(_):h.uint8array?new m(l.transformTo("uint8array",_)):new c(l.transformTo("array",_)):new d(_)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(i,r,o){o.LOCAL_FILE_HEADER="PK",o.CENTRAL_FILE_HEADER="PK",o.CENTRAL_DIRECTORY_END="PK",o.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",o.ZIP64_CENTRAL_DIRECTORY_END="PK",o.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(i,r,o){var l=i("./GenericWorker"),h=i("../utils");function c(d){l.call(this,"ConvertWorker to "+d),this.destType=d}h.inherits(c,l),c.prototype.processChunk=function(d){this.push({data:h.transformTo(this.destType,d.data),meta:d.meta})},r.exports=c},{"../utils":32,"./GenericWorker":28}],25:[function(i,r,o){var l=i("./GenericWorker"),h=i("../crc32");function c(){l.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}i("../utils").inherits(c,l),c.prototype.processChunk=function(d){this.streamInfo.crc32=h(d.data,this.streamInfo.crc32||0),this.push(d)},r.exports=c},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(i,r,o){var l=i("../utils"),h=i("./GenericWorker");function c(d){h.call(this,"DataLengthProbe for "+d),this.propName=d,this.withStreamInfo(d,0)}l.inherits(c,h),c.prototype.processChunk=function(d){if(d){var p=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=p+d.data.length}h.prototype.processChunk.call(this,d)},r.exports=c},{"../utils":32,"./GenericWorker":28}],27:[function(i,r,o){var l=i("../utils"),h=i("./GenericWorker");function c(d){h.call(this,"DataWorker");var p=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,d.then(function(m){p.dataIsReady=!0,p.data=m,p.max=m&&m.length||0,p.type=l.getTypeOf(m),p.isPaused||p._tickAndRepeat()},function(m){p.error(m)})}l.inherits(c,h),c.prototype.cleanUp=function(){h.prototype.cleanUp.call(this),this.data=null},c.prototype.resume=function(){return!!h.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,l.delay(this._tickAndRepeat,[],this)),!0)},c.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(l.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},c.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var d=null,p=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":d=this.data.substring(this.index,p);break;case"uint8array":d=this.data.subarray(this.index,p);break;case"array":case"nodebuffer":d=this.data.slice(this.index,p)}return this.index=p,this.push({data:d,meta:{percent:this.max?this.index/this.max*100:0}})},r.exports=c},{"../utils":32,"./GenericWorker":28}],28:[function(i,r,o){function l(h){this.name=h||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}l.prototype={push:function(h){this.emit("data",h)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(h){this.emit("error",h)}return!0},error:function(h){return!this.isFinished&&(this.isPaused?this.generatedError=h:(this.isFinished=!0,this.emit("error",h),this.previous&&this.previous.error(h),this.cleanUp()),!0)},on:function(h,c){return this._listeners[h].push(c),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(h,c){if(this._listeners[h])for(var d=0;d<this._listeners[h].length;d++)this._listeners[h][d].call(this,c)},pipe:function(h){return h.registerPrevious(this)},registerPrevious:function(h){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=h.streamInfo,this.mergeStreamInfo(),this.previous=h;var c=this;return h.on("data",function(d){c.processChunk(d)}),h.on("end",function(){c.end()}),h.on("error",function(d){c.error(d)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var h=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),h=!0),this.previous&&this.previous.resume(),!h},flush:function(){},processChunk:function(h){this.push(h)},withStreamInfo:function(h,c){return this.extraStreamInfo[h]=c,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var h in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,h)&&(this.streamInfo[h]=this.extraStreamInfo[h])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var h="Worker "+this.name;return this.previous?this.previous+" -> "+h:h}},r.exports=l},{}],29:[function(i,r,o){var l=i("../utils"),h=i("./ConvertWorker"),c=i("./GenericWorker"),d=i("../base64"),p=i("../support"),m=i("../external"),_=null;if(p.nodestream)try{_=i("../nodejs/NodejsStreamOutputAdapter")}catch{}function b(x,y){return new m.Promise(function(S,T){var N=[],O=x._internalType,E=x._outputType,C=x._mimeType;x.on("data",function(U,R){N.push(U),y&&y(R)}).on("error",function(U){N=[],T(U)}).on("end",function(){try{var U=(function(R,z,V){switch(R){case"blob":return l.newBlob(l.transformTo("arraybuffer",z),V);case"base64":return d.encode(z);default:return l.transformTo(R,z)}})(E,(function(R,z){var V,P=0,et=null,D=0;for(V=0;V<z.length;V++)D+=z[V].length;switch(R){case"string":return z.join("");case"array":return Array.prototype.concat.apply([],z);case"uint8array":for(et=new Uint8Array(D),V=0;V<z.length;V++)et.set(z[V],P),P+=z[V].length;return et;case"nodebuffer":return Buffer.concat(z);default:throw new Error("concat : unsupported type '"+R+"'")}})(O,N),C);S(U)}catch(R){T(R)}N=[]}).resume()})}function v(x,y,S){var T=y;switch(y){case"blob":case"arraybuffer":T="uint8array";break;case"base64":T="string"}try{this._internalType=T,this._outputType=y,this._mimeType=S,l.checkSupport(T),this._worker=x.pipe(new h(T)),x.lock()}catch(N){this._worker=new c("error"),this._worker.error(N)}}v.prototype={accumulate:function(x){return b(this,x)},on:function(x,y){var S=this;return x==="data"?this._worker.on(x,function(T){y.call(S,T.data,T.meta)}):this._worker.on(x,function(){l.delay(y,arguments,S)}),this},resume:function(){return l.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(x){if(l.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new _(this,{objectMode:this._outputType!=="nodebuffer"},x)}},r.exports=v},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(i,r,o){if(o.base64=!0,o.array=!0,o.string=!0,o.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",o.nodebuffer=typeof Buffer<"u",o.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")o.blob=!1;else{var l=new ArrayBuffer(0);try{o.blob=new Blob([l],{type:"application/zip"}).size===0}catch{try{var h=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);h.append(l),o.blob=h.getBlob("application/zip").size===0}catch{o.blob=!1}}}try{o.nodestream=!!i("readable-stream").Readable}catch{o.nodestream=!1}},{"readable-stream":16}],31:[function(i,r,o){for(var l=i("./utils"),h=i("./support"),c=i("./nodejsUtils"),d=i("./stream/GenericWorker"),p=new Array(256),m=0;m<256;m++)p[m]=252<=m?6:248<=m?5:240<=m?4:224<=m?3:192<=m?2:1;p[254]=p[254]=1;function _(){d.call(this,"utf-8 decode"),this.leftOver=null}function b(){d.call(this,"utf-8 encode")}o.utf8encode=function(v){return h.nodebuffer?c.newBufferFrom(v,"utf-8"):(function(x){var y,S,T,N,O,E=x.length,C=0;for(N=0;N<E;N++)(64512&(S=x.charCodeAt(N)))==55296&&N+1<E&&(64512&(T=x.charCodeAt(N+1)))==56320&&(S=65536+(S-55296<<10)+(T-56320),N++),C+=S<128?1:S<2048?2:S<65536?3:4;for(y=h.uint8array?new Uint8Array(C):new Array(C),N=O=0;O<C;N++)(64512&(S=x.charCodeAt(N)))==55296&&N+1<E&&(64512&(T=x.charCodeAt(N+1)))==56320&&(S=65536+(S-55296<<10)+(T-56320),N++),S<128?y[O++]=S:(S<2048?y[O++]=192|S>>>6:(S<65536?y[O++]=224|S>>>12:(y[O++]=240|S>>>18,y[O++]=128|S>>>12&63),y[O++]=128|S>>>6&63),y[O++]=128|63&S);return y})(v)},o.utf8decode=function(v){return h.nodebuffer?l.transformTo("nodebuffer",v).toString("utf-8"):(function(x){var y,S,T,N,O=x.length,E=new Array(2*O);for(y=S=0;y<O;)if((T=x[y++])<128)E[S++]=T;else if(4<(N=p[T]))E[S++]=65533,y+=N-1;else{for(T&=N===2?31:N===3?15:7;1<N&&y<O;)T=T<<6|63&x[y++],N--;1<N?E[S++]=65533:T<65536?E[S++]=T:(T-=65536,E[S++]=55296|T>>10&1023,E[S++]=56320|1023&T)}return E.length!==S&&(E.subarray?E=E.subarray(0,S):E.length=S),l.applyFromCharCode(E)})(v=l.transformTo(h.uint8array?"uint8array":"array",v))},l.inherits(_,d),_.prototype.processChunk=function(v){var x=l.transformTo(h.uint8array?"uint8array":"array",v.data);if(this.leftOver&&this.leftOver.length){if(h.uint8array){var y=x;(x=new Uint8Array(y.length+this.leftOver.length)).set(this.leftOver,0),x.set(y,this.leftOver.length)}else x=this.leftOver.concat(x);this.leftOver=null}var S=(function(N,O){var E;for((O=O||N.length)>N.length&&(O=N.length),E=O-1;0<=E&&(192&N[E])==128;)E--;return E<0||E===0?O:E+p[N[E]]>O?E:O})(x),T=x;S!==x.length&&(h.uint8array?(T=x.subarray(0,S),this.leftOver=x.subarray(S,x.length)):(T=x.slice(0,S),this.leftOver=x.slice(S,x.length))),this.push({data:o.utf8decode(T),meta:v.meta})},_.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:o.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},o.Utf8DecodeWorker=_,l.inherits(b,d),b.prototype.processChunk=function(v){this.push({data:o.utf8encode(v.data),meta:v.meta})},o.Utf8EncodeWorker=b},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(i,r,o){var l=i("./support"),h=i("./base64"),c=i("./nodejsUtils"),d=i("./external");function p(y){return y}function m(y,S){for(var T=0;T<y.length;++T)S[T]=255&y.charCodeAt(T);return S}i("setimmediate"),o.newBlob=function(y,S){o.checkSupport("blob");try{return new Blob([y],{type:S})}catch{try{var T=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return T.append(y),T.getBlob(S)}catch{throw new Error("Bug : can't construct the Blob.")}}};var _={stringifyByChunk:function(y,S,T){var N=[],O=0,E=y.length;if(E<=T)return String.fromCharCode.apply(null,y);for(;O<E;)S==="array"||S==="nodebuffer"?N.push(String.fromCharCode.apply(null,y.slice(O,Math.min(O+T,E)))):N.push(String.fromCharCode.apply(null,y.subarray(O,Math.min(O+T,E)))),O+=T;return N.join("")},stringifyByChar:function(y){for(var S="",T=0;T<y.length;T++)S+=String.fromCharCode(y[T]);return S},applyCanBeUsed:{uint8array:(function(){try{return l.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}})(),nodebuffer:(function(){try{return l.nodebuffer&&String.fromCharCode.apply(null,c.allocBuffer(1)).length===1}catch{return!1}})()}};function b(y){var S=65536,T=o.getTypeOf(y),N=!0;if(T==="uint8array"?N=_.applyCanBeUsed.uint8array:T==="nodebuffer"&&(N=_.applyCanBeUsed.nodebuffer),N)for(;1<S;)try{return _.stringifyByChunk(y,T,S)}catch{S=Math.floor(S/2)}return _.stringifyByChar(y)}function v(y,S){for(var T=0;T<y.length;T++)S[T]=y[T];return S}o.applyFromCharCode=b;var x={};x.string={string:p,array:function(y){return m(y,new Array(y.length))},arraybuffer:function(y){return x.string.uint8array(y).buffer},uint8array:function(y){return m(y,new Uint8Array(y.length))},nodebuffer:function(y){return m(y,c.allocBuffer(y.length))}},x.array={string:b,array:p,arraybuffer:function(y){return new Uint8Array(y).buffer},uint8array:function(y){return new Uint8Array(y)},nodebuffer:function(y){return c.newBufferFrom(y)}},x.arraybuffer={string:function(y){return b(new Uint8Array(y))},array:function(y){return v(new Uint8Array(y),new Array(y.byteLength))},arraybuffer:p,uint8array:function(y){return new Uint8Array(y)},nodebuffer:function(y){return c.newBufferFrom(new Uint8Array(y))}},x.uint8array={string:b,array:function(y){return v(y,new Array(y.length))},arraybuffer:function(y){return y.buffer},uint8array:p,nodebuffer:function(y){return c.newBufferFrom(y)}},x.nodebuffer={string:b,array:function(y){return v(y,new Array(y.length))},arraybuffer:function(y){return x.nodebuffer.uint8array(y).buffer},uint8array:function(y){return v(y,new Uint8Array(y.length))},nodebuffer:p},o.transformTo=function(y,S){if(S=S||"",!y)return S;o.checkSupport(y);var T=o.getTypeOf(S);return x[T][y](S)},o.resolve=function(y){for(var S=y.split("/"),T=[],N=0;N<S.length;N++){var O=S[N];O==="."||O===""&&N!==0&&N!==S.length-1||(O===".."?T.pop():T.push(O))}return T.join("/")},o.getTypeOf=function(y){return typeof y=="string"?"string":Object.prototype.toString.call(y)==="[object Array]"?"array":l.nodebuffer&&c.isBuffer(y)?"nodebuffer":l.uint8array&&y instanceof Uint8Array?"uint8array":l.arraybuffer&&y instanceof ArrayBuffer?"arraybuffer":void 0},o.checkSupport=function(y){if(!l[y.toLowerCase()])throw new Error(y+" is not supported by this platform")},o.MAX_VALUE_16BITS=65535,o.MAX_VALUE_32BITS=-1,o.pretty=function(y){var S,T,N="";for(T=0;T<(y||"").length;T++)N+="\\x"+((S=y.charCodeAt(T))<16?"0":"")+S.toString(16).toUpperCase();return N},o.delay=function(y,S,T){setImmediate(function(){y.apply(T||null,S||[])})},o.inherits=function(y,S){function T(){}T.prototype=S.prototype,y.prototype=new T},o.extend=function(){var y,S,T={};for(y=0;y<arguments.length;y++)for(S in arguments[y])Object.prototype.hasOwnProperty.call(arguments[y],S)&&T[S]===void 0&&(T[S]=arguments[y][S]);return T},o.prepareContent=function(y,S,T,N,O){return d.Promise.resolve(S).then(function(E){return l.blob&&(E instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(E))!==-1)&&typeof FileReader<"u"?new d.Promise(function(C,U){var R=new FileReader;R.onload=function(z){C(z.target.result)},R.onerror=function(z){U(z.target.error)},R.readAsArrayBuffer(E)}):E}).then(function(E){var C=o.getTypeOf(E);return C?(C==="arraybuffer"?E=o.transformTo("uint8array",E):C==="string"&&(O?E=h.decode(E):T&&N!==!0&&(E=(function(U){return m(U,l.uint8array?new Uint8Array(U.length):new Array(U.length))})(E))),E):d.Promise.reject(new Error("Can't read the data of '"+y+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(i,r,o){var l=i("./reader/readerFor"),h=i("./utils"),c=i("./signature"),d=i("./zipEntry"),p=i("./support");function m(_){this.files=[],this.loadOptions=_}m.prototype={checkSignature:function(_){if(!this.reader.readAndCheckSignature(_)){this.reader.index-=4;var b=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+h.pretty(b)+", expected "+h.pretty(_)+")")}},isSignature:function(_,b){var v=this.reader.index;this.reader.setIndex(_);var x=this.reader.readString(4)===b;return this.reader.setIndex(v),x},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var _=this.reader.readData(this.zipCommentLength),b=p.uint8array?"uint8array":"array",v=h.transformTo(b,_);this.zipComment=this.loadOptions.decodeFileName(v)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var _,b,v,x=this.zip64EndOfCentralSize-44;0<x;)_=this.reader.readInt(2),b=this.reader.readInt(4),v=this.reader.readData(b),this.zip64ExtensibleData[_]={id:_,length:b,value:v}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var _,b;for(_=0;_<this.files.length;_++)b=this.files[_],this.reader.setIndex(b.localHeaderOffset),this.checkSignature(c.LOCAL_FILE_HEADER),b.readLocalPart(this.reader),b.handleUTF8(),b.processAttributes()},readCentralDir:function(){var _;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(c.CENTRAL_FILE_HEADER);)(_=new d({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(_);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var _=this.reader.lastIndexOfSignature(c.CENTRAL_DIRECTORY_END);if(_<0)throw this.isSignature(0,c.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(_);var b=_;if(this.checkSignature(c.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===h.MAX_VALUE_16BITS||this.diskWithCentralDirStart===h.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===h.MAX_VALUE_16BITS||this.centralDirRecords===h.MAX_VALUE_16BITS||this.centralDirSize===h.MAX_VALUE_32BITS||this.centralDirOffset===h.MAX_VALUE_32BITS){if(this.zip64=!0,(_=this.reader.lastIndexOfSignature(c.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(_),this.checkSignature(c.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,c.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(c.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(c.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var v=this.centralDirOffset+this.centralDirSize;this.zip64&&(v+=20,v+=12+this.zip64EndOfCentralSize);var x=b-v;if(0<x)this.isSignature(b,c.CENTRAL_FILE_HEADER)||(this.reader.zero=x);else if(x<0)throw new Error("Corrupted zip: missing "+Math.abs(x)+" bytes.")},prepareReader:function(_){this.reader=l(_)},load:function(_){this.prepareReader(_),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},r.exports=m},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(i,r,o){var l=i("./reader/readerFor"),h=i("./utils"),c=i("./compressedObject"),d=i("./crc32"),p=i("./utf8"),m=i("./compressions"),_=i("./support");function b(v,x){this.options=v,this.loadOptions=x}b.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(v){var x,y;if(v.skip(22),this.fileNameLength=v.readInt(2),y=v.readInt(2),this.fileName=v.readData(this.fileNameLength),v.skip(y),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((x=(function(S){for(var T in m)if(Object.prototype.hasOwnProperty.call(m,T)&&m[T].magic===S)return m[T];return null})(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+h.pretty(this.compressionMethod)+" unknown (inner file : "+h.transformTo("string",this.fileName)+")");this.decompressed=new c(this.compressedSize,this.uncompressedSize,this.crc32,x,v.readData(this.compressedSize))},readCentralPart:function(v){this.versionMadeBy=v.readInt(2),v.skip(2),this.bitFlag=v.readInt(2),this.compressionMethod=v.readString(2),this.date=v.readDate(),this.crc32=v.readInt(4),this.compressedSize=v.readInt(4),this.uncompressedSize=v.readInt(4);var x=v.readInt(2);if(this.extraFieldsLength=v.readInt(2),this.fileCommentLength=v.readInt(2),this.diskNumberStart=v.readInt(2),this.internalFileAttributes=v.readInt(2),this.externalFileAttributes=v.readInt(4),this.localHeaderOffset=v.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");v.skip(x),this.readExtraFields(v),this.parseZIP64ExtraField(v),this.fileComment=v.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var v=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),v==0&&(this.dosPermissions=63&this.externalFileAttributes),v==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var v=l(this.extraFields[1].value);this.uncompressedSize===h.MAX_VALUE_32BITS&&(this.uncompressedSize=v.readInt(8)),this.compressedSize===h.MAX_VALUE_32BITS&&(this.compressedSize=v.readInt(8)),this.localHeaderOffset===h.MAX_VALUE_32BITS&&(this.localHeaderOffset=v.readInt(8)),this.diskNumberStart===h.MAX_VALUE_32BITS&&(this.diskNumberStart=v.readInt(4))}},readExtraFields:function(v){var x,y,S,T=v.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});v.index+4<T;)x=v.readInt(2),y=v.readInt(2),S=v.readData(y),this.extraFields[x]={id:x,length:y,value:S};v.setIndex(T)},handleUTF8:function(){var v=_.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=p.utf8decode(this.fileName),this.fileCommentStr=p.utf8decode(this.fileComment);else{var x=this.findExtraFieldUnicodePath();if(x!==null)this.fileNameStr=x;else{var y=h.transformTo(v,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(y)}var S=this.findExtraFieldUnicodeComment();if(S!==null)this.fileCommentStr=S;else{var T=h.transformTo(v,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(T)}}},findExtraFieldUnicodePath:function(){var v=this.extraFields[28789];if(v){var x=l(v.value);return x.readInt(1)!==1||d(this.fileName)!==x.readInt(4)?null:p.utf8decode(x.readData(v.length-5))}return null},findExtraFieldUnicodeComment:function(){var v=this.extraFields[25461];if(v){var x=l(v.value);return x.readInt(1)!==1||d(this.fileComment)!==x.readInt(4)?null:p.utf8decode(x.readData(v.length-5))}return null}},r.exports=b},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(i,r,o){function l(x,y,S){this.name=x,this.dir=S.dir,this.date=S.date,this.comment=S.comment,this.unixPermissions=S.unixPermissions,this.dosPermissions=S.dosPermissions,this._data=y,this._dataBinary=S.binary,this.options={compression:S.compression,compressionOptions:S.compressionOptions}}var h=i("./stream/StreamHelper"),c=i("./stream/DataWorker"),d=i("./utf8"),p=i("./compressedObject"),m=i("./stream/GenericWorker");l.prototype={internalStream:function(x){var y=null,S="string";try{if(!x)throw new Error("No output type specified.");var T=(S=x.toLowerCase())==="string"||S==="text";S!=="binarystring"&&S!=="text"||(S="string"),y=this._decompressWorker();var N=!this._dataBinary;N&&!T&&(y=y.pipe(new d.Utf8EncodeWorker)),!N&&T&&(y=y.pipe(new d.Utf8DecodeWorker))}catch(O){(y=new m("error")).error(O)}return new h(y,S,"")},async:function(x,y){return this.internalStream(x).accumulate(y)},nodeStream:function(x,y){return this.internalStream(x||"nodebuffer").toNodejsStream(y)},_compressWorker:function(x,y){if(this._data instanceof p&&this._data.compression.magic===x.magic)return this._data.getCompressedWorker();var S=this._decompressWorker();return this._dataBinary||(S=S.pipe(new d.Utf8EncodeWorker)),p.createWorkerFrom(S,x,y)},_decompressWorker:function(){return this._data instanceof p?this._data.getContentWorker():this._data instanceof m?this._data:new c(this._data)}};for(var _=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],b=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},v=0;v<_.length;v++)l.prototype[_[v]]=b;r.exports=l},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(i,r,o){(function(l){var h,c,d=l.MutationObserver||l.WebKitMutationObserver;if(d){var p=0,m=new d(x),_=l.document.createTextNode("");m.observe(_,{characterData:!0}),h=function(){_.data=p=++p%2}}else if(l.setImmediate||l.MessageChannel===void 0)h="document"in l&&"onreadystatechange"in l.document.createElement("script")?function(){var y=l.document.createElement("script");y.onreadystatechange=function(){x(),y.onreadystatechange=null,y.parentNode.removeChild(y),y=null},l.document.documentElement.appendChild(y)}:function(){setTimeout(x,0)};else{var b=new l.MessageChannel;b.port1.onmessage=x,h=function(){b.port2.postMessage(0)}}var v=[];function x(){var y,S;c=!0;for(var T=v.length;T;){for(S=v,v=[],y=-1;++y<T;)S[y]();T=v.length}c=!1}r.exports=function(y){v.push(y)!==1||c||h()}}).call(this,typeof xl<"u"?xl:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(i,r,o){var l=i("immediate");function h(){}var c={},d=["REJECTED"],p=["FULFILLED"],m=["PENDING"];function _(T){if(typeof T!="function")throw new TypeError("resolver must be a function");this.state=m,this.queue=[],this.outcome=void 0,T!==h&&y(this,T)}function b(T,N,O){this.promise=T,typeof N=="function"&&(this.onFulfilled=N,this.callFulfilled=this.otherCallFulfilled),typeof O=="function"&&(this.onRejected=O,this.callRejected=this.otherCallRejected)}function v(T,N,O){l(function(){var E;try{E=N(O)}catch(C){return c.reject(T,C)}E===T?c.reject(T,new TypeError("Cannot resolve promise with itself")):c.resolve(T,E)})}function x(T){var N=T&&T.then;if(T&&(typeof T=="object"||typeof T=="function")&&typeof N=="function")return function(){N.apply(T,arguments)}}function y(T,N){var O=!1;function E(R){O||(O=!0,c.reject(T,R))}function C(R){O||(O=!0,c.resolve(T,R))}var U=S(function(){N(C,E)});U.status==="error"&&E(U.value)}function S(T,N){var O={};try{O.value=T(N),O.status="success"}catch(E){O.status="error",O.value=E}return O}(r.exports=_).prototype.finally=function(T){if(typeof T!="function")return this;var N=this.constructor;return this.then(function(O){return N.resolve(T()).then(function(){return O})},function(O){return N.resolve(T()).then(function(){throw O})})},_.prototype.catch=function(T){return this.then(null,T)},_.prototype.then=function(T,N){if(typeof T!="function"&&this.state===p||typeof N!="function"&&this.state===d)return this;var O=new this.constructor(h);return this.state!==m?v(O,this.state===p?T:N,this.outcome):this.queue.push(new b(O,T,N)),O},b.prototype.callFulfilled=function(T){c.resolve(this.promise,T)},b.prototype.otherCallFulfilled=function(T){v(this.promise,this.onFulfilled,T)},b.prototype.callRejected=function(T){c.reject(this.promise,T)},b.prototype.otherCallRejected=function(T){v(this.promise,this.onRejected,T)},c.resolve=function(T,N){var O=S(x,N);if(O.status==="error")return c.reject(T,O.value);var E=O.value;if(E)y(T,E);else{T.state=p,T.outcome=N;for(var C=-1,U=T.queue.length;++C<U;)T.queue[C].callFulfilled(N)}return T},c.reject=function(T,N){T.state=d,T.outcome=N;for(var O=-1,E=T.queue.length;++O<E;)T.queue[O].callRejected(N);return T},_.resolve=function(T){return T instanceof this?T:c.resolve(new this(h),T)},_.reject=function(T){var N=new this(h);return c.reject(N,T)},_.all=function(T){var N=this;if(Object.prototype.toString.call(T)!=="[object Array]")return this.reject(new TypeError("must be an array"));var O=T.length,E=!1;if(!O)return this.resolve([]);for(var C=new Array(O),U=0,R=-1,z=new this(h);++R<O;)V(T[R],R);return z;function V(P,et){N.resolve(P).then(function(D){C[et]=D,++U!==O||E||(E=!0,c.resolve(z,C))},function(D){E||(E=!0,c.reject(z,D))})}},_.race=function(T){var N=this;if(Object.prototype.toString.call(T)!=="[object Array]")return this.reject(new TypeError("must be an array"));var O=T.length,E=!1;if(!O)return this.resolve([]);for(var C=-1,U=new this(h);++C<O;)R=T[C],N.resolve(R).then(function(z){E||(E=!0,c.resolve(U,z))},function(z){E||(E=!0,c.reject(U,z))});var R;return U}},{immediate:36}],38:[function(i,r,o){var l={};(0,i("./lib/utils/common").assign)(l,i("./lib/deflate"),i("./lib/inflate"),i("./lib/zlib/constants")),r.exports=l},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(i,r,o){var l=i("./zlib/deflate"),h=i("./utils/common"),c=i("./utils/strings"),d=i("./zlib/messages"),p=i("./zlib/zstream"),m=Object.prototype.toString,_=0,b=-1,v=0,x=8;function y(T){if(!(this instanceof y))return new y(T);this.options=h.assign({level:b,method:x,chunkSize:16384,windowBits:15,memLevel:8,strategy:v,to:""},T||{});var N=this.options;N.raw&&0<N.windowBits?N.windowBits=-N.windowBits:N.gzip&&0<N.windowBits&&N.windowBits<16&&(N.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new p,this.strm.avail_out=0;var O=l.deflateInit2(this.strm,N.level,N.method,N.windowBits,N.memLevel,N.strategy);if(O!==_)throw new Error(d[O]);if(N.header&&l.deflateSetHeader(this.strm,N.header),N.dictionary){var E;if(E=typeof N.dictionary=="string"?c.string2buf(N.dictionary):m.call(N.dictionary)==="[object ArrayBuffer]"?new Uint8Array(N.dictionary):N.dictionary,(O=l.deflateSetDictionary(this.strm,E))!==_)throw new Error(d[O]);this._dict_set=!0}}function S(T,N){var O=new y(N);if(O.push(T,!0),O.err)throw O.msg||d[O.err];return O.result}y.prototype.push=function(T,N){var O,E,C=this.strm,U=this.options.chunkSize;if(this.ended)return!1;E=N===~~N?N:N===!0?4:0,typeof T=="string"?C.input=c.string2buf(T):m.call(T)==="[object ArrayBuffer]"?C.input=new Uint8Array(T):C.input=T,C.next_in=0,C.avail_in=C.input.length;do{if(C.avail_out===0&&(C.output=new h.Buf8(U),C.next_out=0,C.avail_out=U),(O=l.deflate(C,E))!==1&&O!==_)return this.onEnd(O),!(this.ended=!0);C.avail_out!==0&&(C.avail_in!==0||E!==4&&E!==2)||(this.options.to==="string"?this.onData(c.buf2binstring(h.shrinkBuf(C.output,C.next_out))):this.onData(h.shrinkBuf(C.output,C.next_out)))}while((0<C.avail_in||C.avail_out===0)&&O!==1);return E===4?(O=l.deflateEnd(this.strm),this.onEnd(O),this.ended=!0,O===_):E!==2||(this.onEnd(_),!(C.avail_out=0))},y.prototype.onData=function(T){this.chunks.push(T)},y.prototype.onEnd=function(T){T===_&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=h.flattenChunks(this.chunks)),this.chunks=[],this.err=T,this.msg=this.strm.msg},o.Deflate=y,o.deflate=S,o.deflateRaw=function(T,N){return(N=N||{}).raw=!0,S(T,N)},o.gzip=function(T,N){return(N=N||{}).gzip=!0,S(T,N)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(i,r,o){var l=i("./zlib/inflate"),h=i("./utils/common"),c=i("./utils/strings"),d=i("./zlib/constants"),p=i("./zlib/messages"),m=i("./zlib/zstream"),_=i("./zlib/gzheader"),b=Object.prototype.toString;function v(y){if(!(this instanceof v))return new v(y);this.options=h.assign({chunkSize:16384,windowBits:0,to:""},y||{});var S=this.options;S.raw&&0<=S.windowBits&&S.windowBits<16&&(S.windowBits=-S.windowBits,S.windowBits===0&&(S.windowBits=-15)),!(0<=S.windowBits&&S.windowBits<16)||y&&y.windowBits||(S.windowBits+=32),15<S.windowBits&&S.windowBits<48&&(15&S.windowBits)==0&&(S.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new m,this.strm.avail_out=0;var T=l.inflateInit2(this.strm,S.windowBits);if(T!==d.Z_OK)throw new Error(p[T]);this.header=new _,l.inflateGetHeader(this.strm,this.header)}function x(y,S){var T=new v(S);if(T.push(y,!0),T.err)throw T.msg||p[T.err];return T.result}v.prototype.push=function(y,S){var T,N,O,E,C,U,R=this.strm,z=this.options.chunkSize,V=this.options.dictionary,P=!1;if(this.ended)return!1;N=S===~~S?S:S===!0?d.Z_FINISH:d.Z_NO_FLUSH,typeof y=="string"?R.input=c.binstring2buf(y):b.call(y)==="[object ArrayBuffer]"?R.input=new Uint8Array(y):R.input=y,R.next_in=0,R.avail_in=R.input.length;do{if(R.avail_out===0&&(R.output=new h.Buf8(z),R.next_out=0,R.avail_out=z),(T=l.inflate(R,d.Z_NO_FLUSH))===d.Z_NEED_DICT&&V&&(U=typeof V=="string"?c.string2buf(V):b.call(V)==="[object ArrayBuffer]"?new Uint8Array(V):V,T=l.inflateSetDictionary(this.strm,U)),T===d.Z_BUF_ERROR&&P===!0&&(T=d.Z_OK,P=!1),T!==d.Z_STREAM_END&&T!==d.Z_OK)return this.onEnd(T),!(this.ended=!0);R.next_out&&(R.avail_out!==0&&T!==d.Z_STREAM_END&&(R.avail_in!==0||N!==d.Z_FINISH&&N!==d.Z_SYNC_FLUSH)||(this.options.to==="string"?(O=c.utf8border(R.output,R.next_out),E=R.next_out-O,C=c.buf2string(R.output,O),R.next_out=E,R.avail_out=z-E,E&&h.arraySet(R.output,R.output,O,E,0),this.onData(C)):this.onData(h.shrinkBuf(R.output,R.next_out)))),R.avail_in===0&&R.avail_out===0&&(P=!0)}while((0<R.avail_in||R.avail_out===0)&&T!==d.Z_STREAM_END);return T===d.Z_STREAM_END&&(N=d.Z_FINISH),N===d.Z_FINISH?(T=l.inflateEnd(this.strm),this.onEnd(T),this.ended=!0,T===d.Z_OK):N!==d.Z_SYNC_FLUSH||(this.onEnd(d.Z_OK),!(R.avail_out=0))},v.prototype.onData=function(y){this.chunks.push(y)},v.prototype.onEnd=function(y){y===d.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=h.flattenChunks(this.chunks)),this.chunks=[],this.err=y,this.msg=this.strm.msg},o.Inflate=v,o.inflate=x,o.inflateRaw=function(y,S){return(S=S||{}).raw=!0,x(y,S)},o.ungzip=x},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(i,r,o){var l=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";o.assign=function(d){for(var p=Array.prototype.slice.call(arguments,1);p.length;){var m=p.shift();if(m){if(typeof m!="object")throw new TypeError(m+"must be non-object");for(var _ in m)m.hasOwnProperty(_)&&(d[_]=m[_])}}return d},o.shrinkBuf=function(d,p){return d.length===p?d:d.subarray?d.subarray(0,p):(d.length=p,d)};var h={arraySet:function(d,p,m,_,b){if(p.subarray&&d.subarray)d.set(p.subarray(m,m+_),b);else for(var v=0;v<_;v++)d[b+v]=p[m+v]},flattenChunks:function(d){var p,m,_,b,v,x;for(p=_=0,m=d.length;p<m;p++)_+=d[p].length;for(x=new Uint8Array(_),p=b=0,m=d.length;p<m;p++)v=d[p],x.set(v,b),b+=v.length;return x}},c={arraySet:function(d,p,m,_,b){for(var v=0;v<_;v++)d[b+v]=p[m+v]},flattenChunks:function(d){return[].concat.apply([],d)}};o.setTyped=function(d){d?(o.Buf8=Uint8Array,o.Buf16=Uint16Array,o.Buf32=Int32Array,o.assign(o,h)):(o.Buf8=Array,o.Buf16=Array,o.Buf32=Array,o.assign(o,c))},o.setTyped(l)},{}],42:[function(i,r,o){var l=i("./common"),h=!0,c=!0;try{String.fromCharCode.apply(null,[0])}catch{h=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{c=!1}for(var d=new l.Buf8(256),p=0;p<256;p++)d[p]=252<=p?6:248<=p?5:240<=p?4:224<=p?3:192<=p?2:1;function m(_,b){if(b<65537&&(_.subarray&&c||!_.subarray&&h))return String.fromCharCode.apply(null,l.shrinkBuf(_,b));for(var v="",x=0;x<b;x++)v+=String.fromCharCode(_[x]);return v}d[254]=d[254]=1,o.string2buf=function(_){var b,v,x,y,S,T=_.length,N=0;for(y=0;y<T;y++)(64512&(v=_.charCodeAt(y)))==55296&&y+1<T&&(64512&(x=_.charCodeAt(y+1)))==56320&&(v=65536+(v-55296<<10)+(x-56320),y++),N+=v<128?1:v<2048?2:v<65536?3:4;for(b=new l.Buf8(N),y=S=0;S<N;y++)(64512&(v=_.charCodeAt(y)))==55296&&y+1<T&&(64512&(x=_.charCodeAt(y+1)))==56320&&(v=65536+(v-55296<<10)+(x-56320),y++),v<128?b[S++]=v:(v<2048?b[S++]=192|v>>>6:(v<65536?b[S++]=224|v>>>12:(b[S++]=240|v>>>18,b[S++]=128|v>>>12&63),b[S++]=128|v>>>6&63),b[S++]=128|63&v);return b},o.buf2binstring=function(_){return m(_,_.length)},o.binstring2buf=function(_){for(var b=new l.Buf8(_.length),v=0,x=b.length;v<x;v++)b[v]=_.charCodeAt(v);return b},o.buf2string=function(_,b){var v,x,y,S,T=b||_.length,N=new Array(2*T);for(v=x=0;v<T;)if((y=_[v++])<128)N[x++]=y;else if(4<(S=d[y]))N[x++]=65533,v+=S-1;else{for(y&=S===2?31:S===3?15:7;1<S&&v<T;)y=y<<6|63&_[v++],S--;1<S?N[x++]=65533:y<65536?N[x++]=y:(y-=65536,N[x++]=55296|y>>10&1023,N[x++]=56320|1023&y)}return m(N,x)},o.utf8border=function(_,b){var v;for((b=b||_.length)>_.length&&(b=_.length),v=b-1;0<=v&&(192&_[v])==128;)v--;return v<0||v===0?b:v+d[_[v]]>b?v:b}},{"./common":41}],43:[function(i,r,o){r.exports=function(l,h,c,d){for(var p=65535&l|0,m=l>>>16&65535|0,_=0;c!==0;){for(c-=_=2e3<c?2e3:c;m=m+(p=p+h[d++]|0)|0,--_;);p%=65521,m%=65521}return p|m<<16|0}},{}],44:[function(i,r,o){r.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(i,r,o){var l=(function(){for(var h,c=[],d=0;d<256;d++){h=d;for(var p=0;p<8;p++)h=1&h?3988292384^h>>>1:h>>>1;c[d]=h}return c})();r.exports=function(h,c,d,p){var m=l,_=p+d;h^=-1;for(var b=p;b<_;b++)h=h>>>8^m[255&(h^c[b])];return-1^h}},{}],46:[function(i,r,o){var l,h=i("../utils/common"),c=i("./trees"),d=i("./adler32"),p=i("./crc32"),m=i("./messages"),_=0,b=4,v=0,x=-2,y=-1,S=4,T=2,N=8,O=9,E=286,C=30,U=19,R=2*E+1,z=15,V=3,P=258,et=P+V+1,D=42,X=113,w=1,J=2,Z=3,H=4;function ht(A,Q){return A.msg=m[Q],Q}function tt(A){return(A<<1)-(4<A?9:0)}function j(A){for(var Q=A.length;0<=--Q;)A[Q]=0}function B(A){var Q=A.state,K=Q.pending;K>A.avail_out&&(K=A.avail_out),K!==0&&(h.arraySet(A.output,Q.pending_buf,Q.pending_out,K,A.next_out),A.next_out+=K,Q.pending_out+=K,A.total_out+=K,A.avail_out-=K,Q.pending-=K,Q.pending===0&&(Q.pending_out=0))}function F(A,Q){c._tr_flush_block(A,0<=A.block_start?A.block_start:-1,A.strstart-A.block_start,Q),A.block_start=A.strstart,B(A.strm)}function ut(A,Q){A.pending_buf[A.pending++]=Q}function ct(A,Q){A.pending_buf[A.pending++]=Q>>>8&255,A.pending_buf[A.pending++]=255&Q}function rt(A,Q){var K,q,I=A.max_chain_length,Y=A.strstart,ft=A.prev_length,pt=A.nice_match,nt=A.strstart>A.w_size-et?A.strstart-(A.w_size-et):0,_t=A.window,Tt=A.w_mask,bt=A.prev,Ct=A.strstart+P,jt=_t[Y+ft-1],yt=_t[Y+ft];A.prev_length>=A.good_match&&(I>>=2),pt>A.lookahead&&(pt=A.lookahead);do if(_t[(K=Q)+ft]===yt&&_t[K+ft-1]===jt&&_t[K]===_t[Y]&&_t[++K]===_t[Y+1]){Y+=2,K++;do;while(_t[++Y]===_t[++K]&&_t[++Y]===_t[++K]&&_t[++Y]===_t[++K]&&_t[++Y]===_t[++K]&&_t[++Y]===_t[++K]&&_t[++Y]===_t[++K]&&_t[++Y]===_t[++K]&&_t[++Y]===_t[++K]&&Y<Ct);if(q=P-(Ct-Y),Y=Ct-P,ft<q){if(A.match_start=Q,pt<=(ft=q))break;jt=_t[Y+ft-1],yt=_t[Y+ft]}}while((Q=bt[Q&Tt])>nt&&--I!=0);return ft<=A.lookahead?ft:A.lookahead}function vt(A){var Q,K,q,I,Y,ft,pt,nt,_t,Tt,bt=A.w_size;do{if(I=A.window_size-A.lookahead-A.strstart,A.strstart>=bt+(bt-et)){for(h.arraySet(A.window,A.window,bt,bt,0),A.match_start-=bt,A.strstart-=bt,A.block_start-=bt,Q=K=A.hash_size;q=A.head[--Q],A.head[Q]=bt<=q?q-bt:0,--K;);for(Q=K=bt;q=A.prev[--Q],A.prev[Q]=bt<=q?q-bt:0,--K;);I+=bt}if(A.strm.avail_in===0)break;if(ft=A.strm,pt=A.window,nt=A.strstart+A.lookahead,_t=I,Tt=void 0,Tt=ft.avail_in,_t<Tt&&(Tt=_t),K=Tt===0?0:(ft.avail_in-=Tt,h.arraySet(pt,ft.input,ft.next_in,Tt,nt),ft.state.wrap===1?ft.adler=d(ft.adler,pt,Tt,nt):ft.state.wrap===2&&(ft.adler=p(ft.adler,pt,Tt,nt)),ft.next_in+=Tt,ft.total_in+=Tt,Tt),A.lookahead+=K,A.lookahead+A.insert>=V)for(Y=A.strstart-A.insert,A.ins_h=A.window[Y],A.ins_h=(A.ins_h<<A.hash_shift^A.window[Y+1])&A.hash_mask;A.insert&&(A.ins_h=(A.ins_h<<A.hash_shift^A.window[Y+V-1])&A.hash_mask,A.prev[Y&A.w_mask]=A.head[A.ins_h],A.head[A.ins_h]=Y,Y++,A.insert--,!(A.lookahead+A.insert<V)););}while(A.lookahead<et&&A.strm.avail_in!==0)}function St(A,Q){for(var K,q;;){if(A.lookahead<et){if(vt(A),A.lookahead<et&&Q===_)return w;if(A.lookahead===0)break}if(K=0,A.lookahead>=V&&(A.ins_h=(A.ins_h<<A.hash_shift^A.window[A.strstart+V-1])&A.hash_mask,K=A.prev[A.strstart&A.w_mask]=A.head[A.ins_h],A.head[A.ins_h]=A.strstart),K!==0&&A.strstart-K<=A.w_size-et&&(A.match_length=rt(A,K)),A.match_length>=V)if(q=c._tr_tally(A,A.strstart-A.match_start,A.match_length-V),A.lookahead-=A.match_length,A.match_length<=A.max_lazy_match&&A.lookahead>=V){for(A.match_length--;A.strstart++,A.ins_h=(A.ins_h<<A.hash_shift^A.window[A.strstart+V-1])&A.hash_mask,K=A.prev[A.strstart&A.w_mask]=A.head[A.ins_h],A.head[A.ins_h]=A.strstart,--A.match_length!=0;);A.strstart++}else A.strstart+=A.match_length,A.match_length=0,A.ins_h=A.window[A.strstart],A.ins_h=(A.ins_h<<A.hash_shift^A.window[A.strstart+1])&A.hash_mask;else q=c._tr_tally(A,0,A.window[A.strstart]),A.lookahead--,A.strstart++;if(q&&(F(A,!1),A.strm.avail_out===0))return w}return A.insert=A.strstart<V-1?A.strstart:V-1,Q===b?(F(A,!0),A.strm.avail_out===0?Z:H):A.last_lit&&(F(A,!1),A.strm.avail_out===0)?w:J}function ot(A,Q){for(var K,q,I;;){if(A.lookahead<et){if(vt(A),A.lookahead<et&&Q===_)return w;if(A.lookahead===0)break}if(K=0,A.lookahead>=V&&(A.ins_h=(A.ins_h<<A.hash_shift^A.window[A.strstart+V-1])&A.hash_mask,K=A.prev[A.strstart&A.w_mask]=A.head[A.ins_h],A.head[A.ins_h]=A.strstart),A.prev_length=A.match_length,A.prev_match=A.match_start,A.match_length=V-1,K!==0&&A.prev_length<A.max_lazy_match&&A.strstart-K<=A.w_size-et&&(A.match_length=rt(A,K),A.match_length<=5&&(A.strategy===1||A.match_length===V&&4096<A.strstart-A.match_start)&&(A.match_length=V-1)),A.prev_length>=V&&A.match_length<=A.prev_length){for(I=A.strstart+A.lookahead-V,q=c._tr_tally(A,A.strstart-1-A.prev_match,A.prev_length-V),A.lookahead-=A.prev_length-1,A.prev_length-=2;++A.strstart<=I&&(A.ins_h=(A.ins_h<<A.hash_shift^A.window[A.strstart+V-1])&A.hash_mask,K=A.prev[A.strstart&A.w_mask]=A.head[A.ins_h],A.head[A.ins_h]=A.strstart),--A.prev_length!=0;);if(A.match_available=0,A.match_length=V-1,A.strstart++,q&&(F(A,!1),A.strm.avail_out===0))return w}else if(A.match_available){if((q=c._tr_tally(A,0,A.window[A.strstart-1]))&&F(A,!1),A.strstart++,A.lookahead--,A.strm.avail_out===0)return w}else A.match_available=1,A.strstart++,A.lookahead--}return A.match_available&&(q=c._tr_tally(A,0,A.window[A.strstart-1]),A.match_available=0),A.insert=A.strstart<V-1?A.strstart:V-1,Q===b?(F(A,!0),A.strm.avail_out===0?Z:H):A.last_lit&&(F(A,!1),A.strm.avail_out===0)?w:J}function At(A,Q,K,q,I){this.good_length=A,this.max_lazy=Q,this.nice_length=K,this.max_chain=q,this.func=I}function Et(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=N,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new h.Buf16(2*R),this.dyn_dtree=new h.Buf16(2*(2*C+1)),this.bl_tree=new h.Buf16(2*(2*U+1)),j(this.dyn_ltree),j(this.dyn_dtree),j(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new h.Buf16(z+1),this.heap=new h.Buf16(2*E+1),j(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new h.Buf16(2*E+1),j(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function Bt(A){var Q;return A&&A.state?(A.total_in=A.total_out=0,A.data_type=T,(Q=A.state).pending=0,Q.pending_out=0,Q.wrap<0&&(Q.wrap=-Q.wrap),Q.status=Q.wrap?D:X,A.adler=Q.wrap===2?0:1,Q.last_flush=_,c._tr_init(Q),v):ht(A,x)}function ue(A){var Q=Bt(A);return Q===v&&(function(K){K.window_size=2*K.w_size,j(K.head),K.max_lazy_match=l[K.level].max_lazy,K.good_match=l[K.level].good_length,K.nice_match=l[K.level].nice_length,K.max_chain_length=l[K.level].max_chain,K.strstart=0,K.block_start=0,K.lookahead=0,K.insert=0,K.match_length=K.prev_length=V-1,K.match_available=0,K.ins_h=0})(A.state),Q}function $t(A,Q,K,q,I,Y){if(!A)return x;var ft=1;if(Q===y&&(Q=6),q<0?(ft=0,q=-q):15<q&&(ft=2,q-=16),I<1||O<I||K!==N||q<8||15<q||Q<0||9<Q||Y<0||S<Y)return ht(A,x);q===8&&(q=9);var pt=new Et;return(A.state=pt).strm=A,pt.wrap=ft,pt.gzhead=null,pt.w_bits=q,pt.w_size=1<<pt.w_bits,pt.w_mask=pt.w_size-1,pt.hash_bits=I+7,pt.hash_size=1<<pt.hash_bits,pt.hash_mask=pt.hash_size-1,pt.hash_shift=~~((pt.hash_bits+V-1)/V),pt.window=new h.Buf8(2*pt.w_size),pt.head=new h.Buf16(pt.hash_size),pt.prev=new h.Buf16(pt.w_size),pt.lit_bufsize=1<<I+6,pt.pending_buf_size=4*pt.lit_bufsize,pt.pending_buf=new h.Buf8(pt.pending_buf_size),pt.d_buf=1*pt.lit_bufsize,pt.l_buf=3*pt.lit_bufsize,pt.level=Q,pt.strategy=Y,pt.method=K,ue(A)}l=[new At(0,0,0,0,function(A,Q){var K=65535;for(K>A.pending_buf_size-5&&(K=A.pending_buf_size-5);;){if(A.lookahead<=1){if(vt(A),A.lookahead===0&&Q===_)return w;if(A.lookahead===0)break}A.strstart+=A.lookahead,A.lookahead=0;var q=A.block_start+K;if((A.strstart===0||A.strstart>=q)&&(A.lookahead=A.strstart-q,A.strstart=q,F(A,!1),A.strm.avail_out===0)||A.strstart-A.block_start>=A.w_size-et&&(F(A,!1),A.strm.avail_out===0))return w}return A.insert=0,Q===b?(F(A,!0),A.strm.avail_out===0?Z:H):(A.strstart>A.block_start&&(F(A,!1),A.strm.avail_out),w)}),new At(4,4,8,4,St),new At(4,5,16,8,St),new At(4,6,32,32,St),new At(4,4,16,16,ot),new At(8,16,32,32,ot),new At(8,16,128,128,ot),new At(8,32,128,256,ot),new At(32,128,258,1024,ot),new At(32,258,258,4096,ot)],o.deflateInit=function(A,Q){return $t(A,Q,N,15,8,0)},o.deflateInit2=$t,o.deflateReset=ue,o.deflateResetKeep=Bt,o.deflateSetHeader=function(A,Q){return A&&A.state?A.state.wrap!==2?x:(A.state.gzhead=Q,v):x},o.deflate=function(A,Q){var K,q,I,Y;if(!A||!A.state||5<Q||Q<0)return A?ht(A,x):x;if(q=A.state,!A.output||!A.input&&A.avail_in!==0||q.status===666&&Q!==b)return ht(A,A.avail_out===0?-5:x);if(q.strm=A,K=q.last_flush,q.last_flush=Q,q.status===D)if(q.wrap===2)A.adler=0,ut(q,31),ut(q,139),ut(q,8),q.gzhead?(ut(q,(q.gzhead.text?1:0)+(q.gzhead.hcrc?2:0)+(q.gzhead.extra?4:0)+(q.gzhead.name?8:0)+(q.gzhead.comment?16:0)),ut(q,255&q.gzhead.time),ut(q,q.gzhead.time>>8&255),ut(q,q.gzhead.time>>16&255),ut(q,q.gzhead.time>>24&255),ut(q,q.level===9?2:2<=q.strategy||q.level<2?4:0),ut(q,255&q.gzhead.os),q.gzhead.extra&&q.gzhead.extra.length&&(ut(q,255&q.gzhead.extra.length),ut(q,q.gzhead.extra.length>>8&255)),q.gzhead.hcrc&&(A.adler=p(A.adler,q.pending_buf,q.pending,0)),q.gzindex=0,q.status=69):(ut(q,0),ut(q,0),ut(q,0),ut(q,0),ut(q,0),ut(q,q.level===9?2:2<=q.strategy||q.level<2?4:0),ut(q,3),q.status=X);else{var ft=N+(q.w_bits-8<<4)<<8;ft|=(2<=q.strategy||q.level<2?0:q.level<6?1:q.level===6?2:3)<<6,q.strstart!==0&&(ft|=32),ft+=31-ft%31,q.status=X,ct(q,ft),q.strstart!==0&&(ct(q,A.adler>>>16),ct(q,65535&A.adler)),A.adler=1}if(q.status===69)if(q.gzhead.extra){for(I=q.pending;q.gzindex<(65535&q.gzhead.extra.length)&&(q.pending!==q.pending_buf_size||(q.gzhead.hcrc&&q.pending>I&&(A.adler=p(A.adler,q.pending_buf,q.pending-I,I)),B(A),I=q.pending,q.pending!==q.pending_buf_size));)ut(q,255&q.gzhead.extra[q.gzindex]),q.gzindex++;q.gzhead.hcrc&&q.pending>I&&(A.adler=p(A.adler,q.pending_buf,q.pending-I,I)),q.gzindex===q.gzhead.extra.length&&(q.gzindex=0,q.status=73)}else q.status=73;if(q.status===73)if(q.gzhead.name){I=q.pending;do{if(q.pending===q.pending_buf_size&&(q.gzhead.hcrc&&q.pending>I&&(A.adler=p(A.adler,q.pending_buf,q.pending-I,I)),B(A),I=q.pending,q.pending===q.pending_buf_size)){Y=1;break}Y=q.gzindex<q.gzhead.name.length?255&q.gzhead.name.charCodeAt(q.gzindex++):0,ut(q,Y)}while(Y!==0);q.gzhead.hcrc&&q.pending>I&&(A.adler=p(A.adler,q.pending_buf,q.pending-I,I)),Y===0&&(q.gzindex=0,q.status=91)}else q.status=91;if(q.status===91)if(q.gzhead.comment){I=q.pending;do{if(q.pending===q.pending_buf_size&&(q.gzhead.hcrc&&q.pending>I&&(A.adler=p(A.adler,q.pending_buf,q.pending-I,I)),B(A),I=q.pending,q.pending===q.pending_buf_size)){Y=1;break}Y=q.gzindex<q.gzhead.comment.length?255&q.gzhead.comment.charCodeAt(q.gzindex++):0,ut(q,Y)}while(Y!==0);q.gzhead.hcrc&&q.pending>I&&(A.adler=p(A.adler,q.pending_buf,q.pending-I,I)),Y===0&&(q.status=103)}else q.status=103;if(q.status===103&&(q.gzhead.hcrc?(q.pending+2>q.pending_buf_size&&B(A),q.pending+2<=q.pending_buf_size&&(ut(q,255&A.adler),ut(q,A.adler>>8&255),A.adler=0,q.status=X)):q.status=X),q.pending!==0){if(B(A),A.avail_out===0)return q.last_flush=-1,v}else if(A.avail_in===0&&tt(Q)<=tt(K)&&Q!==b)return ht(A,-5);if(q.status===666&&A.avail_in!==0)return ht(A,-5);if(A.avail_in!==0||q.lookahead!==0||Q!==_&&q.status!==666){var pt=q.strategy===2?(function(nt,_t){for(var Tt;;){if(nt.lookahead===0&&(vt(nt),nt.lookahead===0)){if(_t===_)return w;break}if(nt.match_length=0,Tt=c._tr_tally(nt,0,nt.window[nt.strstart]),nt.lookahead--,nt.strstart++,Tt&&(F(nt,!1),nt.strm.avail_out===0))return w}return nt.insert=0,_t===b?(F(nt,!0),nt.strm.avail_out===0?Z:H):nt.last_lit&&(F(nt,!1),nt.strm.avail_out===0)?w:J})(q,Q):q.strategy===3?(function(nt,_t){for(var Tt,bt,Ct,jt,yt=nt.window;;){if(nt.lookahead<=P){if(vt(nt),nt.lookahead<=P&&_t===_)return w;if(nt.lookahead===0)break}if(nt.match_length=0,nt.lookahead>=V&&0<nt.strstart&&(bt=yt[Ct=nt.strstart-1])===yt[++Ct]&&bt===yt[++Ct]&&bt===yt[++Ct]){jt=nt.strstart+P;do;while(bt===yt[++Ct]&&bt===yt[++Ct]&&bt===yt[++Ct]&&bt===yt[++Ct]&&bt===yt[++Ct]&&bt===yt[++Ct]&&bt===yt[++Ct]&&bt===yt[++Ct]&&Ct<jt);nt.match_length=P-(jt-Ct),nt.match_length>nt.lookahead&&(nt.match_length=nt.lookahead)}if(nt.match_length>=V?(Tt=c._tr_tally(nt,1,nt.match_length-V),nt.lookahead-=nt.match_length,nt.strstart+=nt.match_length,nt.match_length=0):(Tt=c._tr_tally(nt,0,nt.window[nt.strstart]),nt.lookahead--,nt.strstart++),Tt&&(F(nt,!1),nt.strm.avail_out===0))return w}return nt.insert=0,_t===b?(F(nt,!0),nt.strm.avail_out===0?Z:H):nt.last_lit&&(F(nt,!1),nt.strm.avail_out===0)?w:J})(q,Q):l[q.level].func(q,Q);if(pt!==Z&&pt!==H||(q.status=666),pt===w||pt===Z)return A.avail_out===0&&(q.last_flush=-1),v;if(pt===J&&(Q===1?c._tr_align(q):Q!==5&&(c._tr_stored_block(q,0,0,!1),Q===3&&(j(q.head),q.lookahead===0&&(q.strstart=0,q.block_start=0,q.insert=0))),B(A),A.avail_out===0))return q.last_flush=-1,v}return Q!==b?v:q.wrap<=0?1:(q.wrap===2?(ut(q,255&A.adler),ut(q,A.adler>>8&255),ut(q,A.adler>>16&255),ut(q,A.adler>>24&255),ut(q,255&A.total_in),ut(q,A.total_in>>8&255),ut(q,A.total_in>>16&255),ut(q,A.total_in>>24&255)):(ct(q,A.adler>>>16),ct(q,65535&A.adler)),B(A),0<q.wrap&&(q.wrap=-q.wrap),q.pending!==0?v:1)},o.deflateEnd=function(A){var Q;return A&&A.state?(Q=A.state.status)!==D&&Q!==69&&Q!==73&&Q!==91&&Q!==103&&Q!==X&&Q!==666?ht(A,x):(A.state=null,Q===X?ht(A,-3):v):x},o.deflateSetDictionary=function(A,Q){var K,q,I,Y,ft,pt,nt,_t,Tt=Q.length;if(!A||!A.state||(Y=(K=A.state).wrap)===2||Y===1&&K.status!==D||K.lookahead)return x;for(Y===1&&(A.adler=d(A.adler,Q,Tt,0)),K.wrap=0,Tt>=K.w_size&&(Y===0&&(j(K.head),K.strstart=0,K.block_start=0,K.insert=0),_t=new h.Buf8(K.w_size),h.arraySet(_t,Q,Tt-K.w_size,K.w_size,0),Q=_t,Tt=K.w_size),ft=A.avail_in,pt=A.next_in,nt=A.input,A.avail_in=Tt,A.next_in=0,A.input=Q,vt(K);K.lookahead>=V;){for(q=K.strstart,I=K.lookahead-(V-1);K.ins_h=(K.ins_h<<K.hash_shift^K.window[q+V-1])&K.hash_mask,K.prev[q&K.w_mask]=K.head[K.ins_h],K.head[K.ins_h]=q,q++,--I;);K.strstart=q,K.lookahead=V-1,vt(K)}return K.strstart+=K.lookahead,K.block_start=K.strstart,K.insert=K.lookahead,K.lookahead=0,K.match_length=K.prev_length=V-1,K.match_available=0,A.next_in=pt,A.input=nt,A.avail_in=ft,K.wrap=Y,v},o.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(i,r,o){r.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(i,r,o){r.exports=function(l,h){var c,d,p,m,_,b,v,x,y,S,T,N,O,E,C,U,R,z,V,P,et,D,X,w,J;c=l.state,d=l.next_in,w=l.input,p=d+(l.avail_in-5),m=l.next_out,J=l.output,_=m-(h-l.avail_out),b=m+(l.avail_out-257),v=c.dmax,x=c.wsize,y=c.whave,S=c.wnext,T=c.window,N=c.hold,O=c.bits,E=c.lencode,C=c.distcode,U=(1<<c.lenbits)-1,R=(1<<c.distbits)-1;t:do{O<15&&(N+=w[d++]<<O,O+=8,N+=w[d++]<<O,O+=8),z=E[N&U];e:for(;;){if(N>>>=V=z>>>24,O-=V,(V=z>>>16&255)===0)J[m++]=65535&z;else{if(!(16&V)){if((64&V)==0){z=E[(65535&z)+(N&(1<<V)-1)];continue e}if(32&V){c.mode=12;break t}l.msg="invalid literal/length code",c.mode=30;break t}P=65535&z,(V&=15)&&(O<V&&(N+=w[d++]<<O,O+=8),P+=N&(1<<V)-1,N>>>=V,O-=V),O<15&&(N+=w[d++]<<O,O+=8,N+=w[d++]<<O,O+=8),z=C[N&R];n:for(;;){if(N>>>=V=z>>>24,O-=V,!(16&(V=z>>>16&255))){if((64&V)==0){z=C[(65535&z)+(N&(1<<V)-1)];continue n}l.msg="invalid distance code",c.mode=30;break t}if(et=65535&z,O<(V&=15)&&(N+=w[d++]<<O,(O+=8)<V&&(N+=w[d++]<<O,O+=8)),v<(et+=N&(1<<V)-1)){l.msg="invalid distance too far back",c.mode=30;break t}if(N>>>=V,O-=V,(V=m-_)<et){if(y<(V=et-V)&&c.sane){l.msg="invalid distance too far back",c.mode=30;break t}if(X=T,(D=0)===S){if(D+=x-V,V<P){for(P-=V;J[m++]=T[D++],--V;);D=m-et,X=J}}else if(S<V){if(D+=x+S-V,(V-=S)<P){for(P-=V;J[m++]=T[D++],--V;);if(D=0,S<P){for(P-=V=S;J[m++]=T[D++],--V;);D=m-et,X=J}}}else if(D+=S-V,V<P){for(P-=V;J[m++]=T[D++],--V;);D=m-et,X=J}for(;2<P;)J[m++]=X[D++],J[m++]=X[D++],J[m++]=X[D++],P-=3;P&&(J[m++]=X[D++],1<P&&(J[m++]=X[D++]))}else{for(D=m-et;J[m++]=J[D++],J[m++]=J[D++],J[m++]=J[D++],2<(P-=3););P&&(J[m++]=J[D++],1<P&&(J[m++]=J[D++]))}break}}break}}while(d<p&&m<b);d-=P=O>>3,N&=(1<<(O-=P<<3))-1,l.next_in=d,l.next_out=m,l.avail_in=d<p?p-d+5:5-(d-p),l.avail_out=m<b?b-m+257:257-(m-b),c.hold=N,c.bits=O}},{}],49:[function(i,r,o){var l=i("../utils/common"),h=i("./adler32"),c=i("./crc32"),d=i("./inffast"),p=i("./inftrees"),m=1,_=2,b=0,v=-2,x=1,y=852,S=592;function T(D){return(D>>>24&255)+(D>>>8&65280)+((65280&D)<<8)+((255&D)<<24)}function N(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new l.Buf16(320),this.work=new l.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function O(D){var X;return D&&D.state?(X=D.state,D.total_in=D.total_out=X.total=0,D.msg="",X.wrap&&(D.adler=1&X.wrap),X.mode=x,X.last=0,X.havedict=0,X.dmax=32768,X.head=null,X.hold=0,X.bits=0,X.lencode=X.lendyn=new l.Buf32(y),X.distcode=X.distdyn=new l.Buf32(S),X.sane=1,X.back=-1,b):v}function E(D){var X;return D&&D.state?((X=D.state).wsize=0,X.whave=0,X.wnext=0,O(D)):v}function C(D,X){var w,J;return D&&D.state?(J=D.state,X<0?(w=0,X=-X):(w=1+(X>>4),X<48&&(X&=15)),X&&(X<8||15<X)?v:(J.window!==null&&J.wbits!==X&&(J.window=null),J.wrap=w,J.wbits=X,E(D))):v}function U(D,X){var w,J;return D?(J=new N,(D.state=J).window=null,(w=C(D,X))!==b&&(D.state=null),w):v}var R,z,V=!0;function P(D){if(V){var X;for(R=new l.Buf32(512),z=new l.Buf32(32),X=0;X<144;)D.lens[X++]=8;for(;X<256;)D.lens[X++]=9;for(;X<280;)D.lens[X++]=7;for(;X<288;)D.lens[X++]=8;for(p(m,D.lens,0,288,R,0,D.work,{bits:9}),X=0;X<32;)D.lens[X++]=5;p(_,D.lens,0,32,z,0,D.work,{bits:5}),V=!1}D.lencode=R,D.lenbits=9,D.distcode=z,D.distbits=5}function et(D,X,w,J){var Z,H=D.state;return H.window===null&&(H.wsize=1<<H.wbits,H.wnext=0,H.whave=0,H.window=new l.Buf8(H.wsize)),J>=H.wsize?(l.arraySet(H.window,X,w-H.wsize,H.wsize,0),H.wnext=0,H.whave=H.wsize):(J<(Z=H.wsize-H.wnext)&&(Z=J),l.arraySet(H.window,X,w-J,Z,H.wnext),(J-=Z)?(l.arraySet(H.window,X,w-J,J,0),H.wnext=J,H.whave=H.wsize):(H.wnext+=Z,H.wnext===H.wsize&&(H.wnext=0),H.whave<H.wsize&&(H.whave+=Z))),0}o.inflateReset=E,o.inflateReset2=C,o.inflateResetKeep=O,o.inflateInit=function(D){return U(D,15)},o.inflateInit2=U,o.inflate=function(D,X){var w,J,Z,H,ht,tt,j,B,F,ut,ct,rt,vt,St,ot,At,Et,Bt,ue,$t,A,Q,K,q,I=0,Y=new l.Buf8(4),ft=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!D||!D.state||!D.output||!D.input&&D.avail_in!==0)return v;(w=D.state).mode===12&&(w.mode=13),ht=D.next_out,Z=D.output,j=D.avail_out,H=D.next_in,J=D.input,tt=D.avail_in,B=w.hold,F=w.bits,ut=tt,ct=j,Q=b;t:for(;;)switch(w.mode){case x:if(w.wrap===0){w.mode=13;break}for(;F<16;){if(tt===0)break t;tt--,B+=J[H++]<<F,F+=8}if(2&w.wrap&&B===35615){Y[w.check=0]=255&B,Y[1]=B>>>8&255,w.check=c(w.check,Y,2,0),F=B=0,w.mode=2;break}if(w.flags=0,w.head&&(w.head.done=!1),!(1&w.wrap)||(((255&B)<<8)+(B>>8))%31){D.msg="incorrect header check",w.mode=30;break}if((15&B)!=8){D.msg="unknown compression method",w.mode=30;break}if(F-=4,A=8+(15&(B>>>=4)),w.wbits===0)w.wbits=A;else if(A>w.wbits){D.msg="invalid window size",w.mode=30;break}w.dmax=1<<A,D.adler=w.check=1,w.mode=512&B?10:12,F=B=0;break;case 2:for(;F<16;){if(tt===0)break t;tt--,B+=J[H++]<<F,F+=8}if(w.flags=B,(255&w.flags)!=8){D.msg="unknown compression method",w.mode=30;break}if(57344&w.flags){D.msg="unknown header flags set",w.mode=30;break}w.head&&(w.head.text=B>>8&1),512&w.flags&&(Y[0]=255&B,Y[1]=B>>>8&255,w.check=c(w.check,Y,2,0)),F=B=0,w.mode=3;case 3:for(;F<32;){if(tt===0)break t;tt--,B+=J[H++]<<F,F+=8}w.head&&(w.head.time=B),512&w.flags&&(Y[0]=255&B,Y[1]=B>>>8&255,Y[2]=B>>>16&255,Y[3]=B>>>24&255,w.check=c(w.check,Y,4,0)),F=B=0,w.mode=4;case 4:for(;F<16;){if(tt===0)break t;tt--,B+=J[H++]<<F,F+=8}w.head&&(w.head.xflags=255&B,w.head.os=B>>8),512&w.flags&&(Y[0]=255&B,Y[1]=B>>>8&255,w.check=c(w.check,Y,2,0)),F=B=0,w.mode=5;case 5:if(1024&w.flags){for(;F<16;){if(tt===0)break t;tt--,B+=J[H++]<<F,F+=8}w.length=B,w.head&&(w.head.extra_len=B),512&w.flags&&(Y[0]=255&B,Y[1]=B>>>8&255,w.check=c(w.check,Y,2,0)),F=B=0}else w.head&&(w.head.extra=null);w.mode=6;case 6:if(1024&w.flags&&(tt<(rt=w.length)&&(rt=tt),rt&&(w.head&&(A=w.head.extra_len-w.length,w.head.extra||(w.head.extra=new Array(w.head.extra_len)),l.arraySet(w.head.extra,J,H,rt,A)),512&w.flags&&(w.check=c(w.check,J,rt,H)),tt-=rt,H+=rt,w.length-=rt),w.length))break t;w.length=0,w.mode=7;case 7:if(2048&w.flags){if(tt===0)break t;for(rt=0;A=J[H+rt++],w.head&&A&&w.length<65536&&(w.head.name+=String.fromCharCode(A)),A&&rt<tt;);if(512&w.flags&&(w.check=c(w.check,J,rt,H)),tt-=rt,H+=rt,A)break t}else w.head&&(w.head.name=null);w.length=0,w.mode=8;case 8:if(4096&w.flags){if(tt===0)break t;for(rt=0;A=J[H+rt++],w.head&&A&&w.length<65536&&(w.head.comment+=String.fromCharCode(A)),A&&rt<tt;);if(512&w.flags&&(w.check=c(w.check,J,rt,H)),tt-=rt,H+=rt,A)break t}else w.head&&(w.head.comment=null);w.mode=9;case 9:if(512&w.flags){for(;F<16;){if(tt===0)break t;tt--,B+=J[H++]<<F,F+=8}if(B!==(65535&w.check)){D.msg="header crc mismatch",w.mode=30;break}F=B=0}w.head&&(w.head.hcrc=w.flags>>9&1,w.head.done=!0),D.adler=w.check=0,w.mode=12;break;case 10:for(;F<32;){if(tt===0)break t;tt--,B+=J[H++]<<F,F+=8}D.adler=w.check=T(B),F=B=0,w.mode=11;case 11:if(w.havedict===0)return D.next_out=ht,D.avail_out=j,D.next_in=H,D.avail_in=tt,w.hold=B,w.bits=F,2;D.adler=w.check=1,w.mode=12;case 12:if(X===5||X===6)break t;case 13:if(w.last){B>>>=7&F,F-=7&F,w.mode=27;break}for(;F<3;){if(tt===0)break t;tt--,B+=J[H++]<<F,F+=8}switch(w.last=1&B,F-=1,3&(B>>>=1)){case 0:w.mode=14;break;case 1:if(P(w),w.mode=20,X!==6)break;B>>>=2,F-=2;break t;case 2:w.mode=17;break;case 3:D.msg="invalid block type",w.mode=30}B>>>=2,F-=2;break;case 14:for(B>>>=7&F,F-=7&F;F<32;){if(tt===0)break t;tt--,B+=J[H++]<<F,F+=8}if((65535&B)!=(B>>>16^65535)){D.msg="invalid stored block lengths",w.mode=30;break}if(w.length=65535&B,F=B=0,w.mode=15,X===6)break t;case 15:w.mode=16;case 16:if(rt=w.length){if(tt<rt&&(rt=tt),j<rt&&(rt=j),rt===0)break t;l.arraySet(Z,J,H,rt,ht),tt-=rt,H+=rt,j-=rt,ht+=rt,w.length-=rt;break}w.mode=12;break;case 17:for(;F<14;){if(tt===0)break t;tt--,B+=J[H++]<<F,F+=8}if(w.nlen=257+(31&B),B>>>=5,F-=5,w.ndist=1+(31&B),B>>>=5,F-=5,w.ncode=4+(15&B),B>>>=4,F-=4,286<w.nlen||30<w.ndist){D.msg="too many length or distance symbols",w.mode=30;break}w.have=0,w.mode=18;case 18:for(;w.have<w.ncode;){for(;F<3;){if(tt===0)break t;tt--,B+=J[H++]<<F,F+=8}w.lens[ft[w.have++]]=7&B,B>>>=3,F-=3}for(;w.have<19;)w.lens[ft[w.have++]]=0;if(w.lencode=w.lendyn,w.lenbits=7,K={bits:w.lenbits},Q=p(0,w.lens,0,19,w.lencode,0,w.work,K),w.lenbits=K.bits,Q){D.msg="invalid code lengths set",w.mode=30;break}w.have=0,w.mode=19;case 19:for(;w.have<w.nlen+w.ndist;){for(;At=(I=w.lencode[B&(1<<w.lenbits)-1])>>>16&255,Et=65535&I,!((ot=I>>>24)<=F);){if(tt===0)break t;tt--,B+=J[H++]<<F,F+=8}if(Et<16)B>>>=ot,F-=ot,w.lens[w.have++]=Et;else{if(Et===16){for(q=ot+2;F<q;){if(tt===0)break t;tt--,B+=J[H++]<<F,F+=8}if(B>>>=ot,F-=ot,w.have===0){D.msg="invalid bit length repeat",w.mode=30;break}A=w.lens[w.have-1],rt=3+(3&B),B>>>=2,F-=2}else if(Et===17){for(q=ot+3;F<q;){if(tt===0)break t;tt--,B+=J[H++]<<F,F+=8}F-=ot,A=0,rt=3+(7&(B>>>=ot)),B>>>=3,F-=3}else{for(q=ot+7;F<q;){if(tt===0)break t;tt--,B+=J[H++]<<F,F+=8}F-=ot,A=0,rt=11+(127&(B>>>=ot)),B>>>=7,F-=7}if(w.have+rt>w.nlen+w.ndist){D.msg="invalid bit length repeat",w.mode=30;break}for(;rt--;)w.lens[w.have++]=A}}if(w.mode===30)break;if(w.lens[256]===0){D.msg="invalid code -- missing end-of-block",w.mode=30;break}if(w.lenbits=9,K={bits:w.lenbits},Q=p(m,w.lens,0,w.nlen,w.lencode,0,w.work,K),w.lenbits=K.bits,Q){D.msg="invalid literal/lengths set",w.mode=30;break}if(w.distbits=6,w.distcode=w.distdyn,K={bits:w.distbits},Q=p(_,w.lens,w.nlen,w.ndist,w.distcode,0,w.work,K),w.distbits=K.bits,Q){D.msg="invalid distances set",w.mode=30;break}if(w.mode=20,X===6)break t;case 20:w.mode=21;case 21:if(6<=tt&&258<=j){D.next_out=ht,D.avail_out=j,D.next_in=H,D.avail_in=tt,w.hold=B,w.bits=F,d(D,ct),ht=D.next_out,Z=D.output,j=D.avail_out,H=D.next_in,J=D.input,tt=D.avail_in,B=w.hold,F=w.bits,w.mode===12&&(w.back=-1);break}for(w.back=0;At=(I=w.lencode[B&(1<<w.lenbits)-1])>>>16&255,Et=65535&I,!((ot=I>>>24)<=F);){if(tt===0)break t;tt--,B+=J[H++]<<F,F+=8}if(At&&(240&At)==0){for(Bt=ot,ue=At,$t=Et;At=(I=w.lencode[$t+((B&(1<<Bt+ue)-1)>>Bt)])>>>16&255,Et=65535&I,!(Bt+(ot=I>>>24)<=F);){if(tt===0)break t;tt--,B+=J[H++]<<F,F+=8}B>>>=Bt,F-=Bt,w.back+=Bt}if(B>>>=ot,F-=ot,w.back+=ot,w.length=Et,At===0){w.mode=26;break}if(32&At){w.back=-1,w.mode=12;break}if(64&At){D.msg="invalid literal/length code",w.mode=30;break}w.extra=15&At,w.mode=22;case 22:if(w.extra){for(q=w.extra;F<q;){if(tt===0)break t;tt--,B+=J[H++]<<F,F+=8}w.length+=B&(1<<w.extra)-1,B>>>=w.extra,F-=w.extra,w.back+=w.extra}w.was=w.length,w.mode=23;case 23:for(;At=(I=w.distcode[B&(1<<w.distbits)-1])>>>16&255,Et=65535&I,!((ot=I>>>24)<=F);){if(tt===0)break t;tt--,B+=J[H++]<<F,F+=8}if((240&At)==0){for(Bt=ot,ue=At,$t=Et;At=(I=w.distcode[$t+((B&(1<<Bt+ue)-1)>>Bt)])>>>16&255,Et=65535&I,!(Bt+(ot=I>>>24)<=F);){if(tt===0)break t;tt--,B+=J[H++]<<F,F+=8}B>>>=Bt,F-=Bt,w.back+=Bt}if(B>>>=ot,F-=ot,w.back+=ot,64&At){D.msg="invalid distance code",w.mode=30;break}w.offset=Et,w.extra=15&At,w.mode=24;case 24:if(w.extra){for(q=w.extra;F<q;){if(tt===0)break t;tt--,B+=J[H++]<<F,F+=8}w.offset+=B&(1<<w.extra)-1,B>>>=w.extra,F-=w.extra,w.back+=w.extra}if(w.offset>w.dmax){D.msg="invalid distance too far back",w.mode=30;break}w.mode=25;case 25:if(j===0)break t;if(rt=ct-j,w.offset>rt){if((rt=w.offset-rt)>w.whave&&w.sane){D.msg="invalid distance too far back",w.mode=30;break}vt=rt>w.wnext?(rt-=w.wnext,w.wsize-rt):w.wnext-rt,rt>w.length&&(rt=w.length),St=w.window}else St=Z,vt=ht-w.offset,rt=w.length;for(j<rt&&(rt=j),j-=rt,w.length-=rt;Z[ht++]=St[vt++],--rt;);w.length===0&&(w.mode=21);break;case 26:if(j===0)break t;Z[ht++]=w.length,j--,w.mode=21;break;case 27:if(w.wrap){for(;F<32;){if(tt===0)break t;tt--,B|=J[H++]<<F,F+=8}if(ct-=j,D.total_out+=ct,w.total+=ct,ct&&(D.adler=w.check=w.flags?c(w.check,Z,ct,ht-ct):h(w.check,Z,ct,ht-ct)),ct=j,(w.flags?B:T(B))!==w.check){D.msg="incorrect data check",w.mode=30;break}F=B=0}w.mode=28;case 28:if(w.wrap&&w.flags){for(;F<32;){if(tt===0)break t;tt--,B+=J[H++]<<F,F+=8}if(B!==(4294967295&w.total)){D.msg="incorrect length check",w.mode=30;break}F=B=0}w.mode=29;case 29:Q=1;break t;case 30:Q=-3;break t;case 31:return-4;case 32:default:return v}return D.next_out=ht,D.avail_out=j,D.next_in=H,D.avail_in=tt,w.hold=B,w.bits=F,(w.wsize||ct!==D.avail_out&&w.mode<30&&(w.mode<27||X!==4))&&et(D,D.output,D.next_out,ct-D.avail_out)?(w.mode=31,-4):(ut-=D.avail_in,ct-=D.avail_out,D.total_in+=ut,D.total_out+=ct,w.total+=ct,w.wrap&&ct&&(D.adler=w.check=w.flags?c(w.check,Z,ct,D.next_out-ct):h(w.check,Z,ct,D.next_out-ct)),D.data_type=w.bits+(w.last?64:0)+(w.mode===12?128:0)+(w.mode===20||w.mode===15?256:0),(ut==0&&ct===0||X===4)&&Q===b&&(Q=-5),Q)},o.inflateEnd=function(D){if(!D||!D.state)return v;var X=D.state;return X.window&&(X.window=null),D.state=null,b},o.inflateGetHeader=function(D,X){var w;return D&&D.state?(2&(w=D.state).wrap)==0?v:((w.head=X).done=!1,b):v},o.inflateSetDictionary=function(D,X){var w,J=X.length;return D&&D.state?(w=D.state).wrap!==0&&w.mode!==11?v:w.mode===11&&h(1,X,J,0)!==w.check?-3:et(D,X,J,J)?(w.mode=31,-4):(w.havedict=1,b):v},o.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(i,r,o){var l=i("../utils/common"),h=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],c=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],d=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],p=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];r.exports=function(m,_,b,v,x,y,S,T){var N,O,E,C,U,R,z,V,P,et=T.bits,D=0,X=0,w=0,J=0,Z=0,H=0,ht=0,tt=0,j=0,B=0,F=null,ut=0,ct=new l.Buf16(16),rt=new l.Buf16(16),vt=null,St=0;for(D=0;D<=15;D++)ct[D]=0;for(X=0;X<v;X++)ct[_[b+X]]++;for(Z=et,J=15;1<=J&&ct[J]===0;J--);if(J<Z&&(Z=J),J===0)return x[y++]=20971520,x[y++]=20971520,T.bits=1,0;for(w=1;w<J&&ct[w]===0;w++);for(Z<w&&(Z=w),D=tt=1;D<=15;D++)if(tt<<=1,(tt-=ct[D])<0)return-1;if(0<tt&&(m===0||J!==1))return-1;for(rt[1]=0,D=1;D<15;D++)rt[D+1]=rt[D]+ct[D];for(X=0;X<v;X++)_[b+X]!==0&&(S[rt[_[b+X]]++]=X);if(R=m===0?(F=vt=S,19):m===1?(F=h,ut-=257,vt=c,St-=257,256):(F=d,vt=p,-1),D=w,U=y,ht=X=B=0,E=-1,C=(j=1<<(H=Z))-1,m===1&&852<j||m===2&&592<j)return 1;for(;;){for(z=D-ht,P=S[X]<R?(V=0,S[X]):S[X]>R?(V=vt[St+S[X]],F[ut+S[X]]):(V=96,0),N=1<<D-ht,w=O=1<<H;x[U+(B>>ht)+(O-=N)]=z<<24|V<<16|P|0,O!==0;);for(N=1<<D-1;B&N;)N>>=1;if(N!==0?(B&=N-1,B+=N):B=0,X++,--ct[D]==0){if(D===J)break;D=_[b+S[X]]}if(Z<D&&(B&C)!==E){for(ht===0&&(ht=Z),U+=w,tt=1<<(H=D-ht);H+ht<J&&!((tt-=ct[H+ht])<=0);)H++,tt<<=1;if(j+=1<<H,m===1&&852<j||m===2&&592<j)return 1;x[E=B&C]=Z<<24|H<<16|U-y|0}}return B!==0&&(x[U+B]=D-ht<<24|64<<16|0),T.bits=Z,0}},{"../utils/common":41}],51:[function(i,r,o){r.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(i,r,o){var l=i("../utils/common"),h=0,c=1;function d(I){for(var Y=I.length;0<=--Y;)I[Y]=0}var p=0,m=29,_=256,b=_+1+m,v=30,x=19,y=2*b+1,S=15,T=16,N=7,O=256,E=16,C=17,U=18,R=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],z=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],V=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],P=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],et=new Array(2*(b+2));d(et);var D=new Array(2*v);d(D);var X=new Array(512);d(X);var w=new Array(256);d(w);var J=new Array(m);d(J);var Z,H,ht,tt=new Array(v);function j(I,Y,ft,pt,nt){this.static_tree=I,this.extra_bits=Y,this.extra_base=ft,this.elems=pt,this.max_length=nt,this.has_stree=I&&I.length}function B(I,Y){this.dyn_tree=I,this.max_code=0,this.stat_desc=Y}function F(I){return I<256?X[I]:X[256+(I>>>7)]}function ut(I,Y){I.pending_buf[I.pending++]=255&Y,I.pending_buf[I.pending++]=Y>>>8&255}function ct(I,Y,ft){I.bi_valid>T-ft?(I.bi_buf|=Y<<I.bi_valid&65535,ut(I,I.bi_buf),I.bi_buf=Y>>T-I.bi_valid,I.bi_valid+=ft-T):(I.bi_buf|=Y<<I.bi_valid&65535,I.bi_valid+=ft)}function rt(I,Y,ft){ct(I,ft[2*Y],ft[2*Y+1])}function vt(I,Y){for(var ft=0;ft|=1&I,I>>>=1,ft<<=1,0<--Y;);return ft>>>1}function St(I,Y,ft){var pt,nt,_t=new Array(S+1),Tt=0;for(pt=1;pt<=S;pt++)_t[pt]=Tt=Tt+ft[pt-1]<<1;for(nt=0;nt<=Y;nt++){var bt=I[2*nt+1];bt!==0&&(I[2*nt]=vt(_t[bt]++,bt))}}function ot(I){var Y;for(Y=0;Y<b;Y++)I.dyn_ltree[2*Y]=0;for(Y=0;Y<v;Y++)I.dyn_dtree[2*Y]=0;for(Y=0;Y<x;Y++)I.bl_tree[2*Y]=0;I.dyn_ltree[2*O]=1,I.opt_len=I.static_len=0,I.last_lit=I.matches=0}function At(I){8<I.bi_valid?ut(I,I.bi_buf):0<I.bi_valid&&(I.pending_buf[I.pending++]=I.bi_buf),I.bi_buf=0,I.bi_valid=0}function Et(I,Y,ft,pt){var nt=2*Y,_t=2*ft;return I[nt]<I[_t]||I[nt]===I[_t]&&pt[Y]<=pt[ft]}function Bt(I,Y,ft){for(var pt=I.heap[ft],nt=ft<<1;nt<=I.heap_len&&(nt<I.heap_len&&Et(Y,I.heap[nt+1],I.heap[nt],I.depth)&&nt++,!Et(Y,pt,I.heap[nt],I.depth));)I.heap[ft]=I.heap[nt],ft=nt,nt<<=1;I.heap[ft]=pt}function ue(I,Y,ft){var pt,nt,_t,Tt,bt=0;if(I.last_lit!==0)for(;pt=I.pending_buf[I.d_buf+2*bt]<<8|I.pending_buf[I.d_buf+2*bt+1],nt=I.pending_buf[I.l_buf+bt],bt++,pt===0?rt(I,nt,Y):(rt(I,(_t=w[nt])+_+1,Y),(Tt=R[_t])!==0&&ct(I,nt-=J[_t],Tt),rt(I,_t=F(--pt),ft),(Tt=z[_t])!==0&&ct(I,pt-=tt[_t],Tt)),bt<I.last_lit;);rt(I,O,Y)}function $t(I,Y){var ft,pt,nt,_t=Y.dyn_tree,Tt=Y.stat_desc.static_tree,bt=Y.stat_desc.has_stree,Ct=Y.stat_desc.elems,jt=-1;for(I.heap_len=0,I.heap_max=y,ft=0;ft<Ct;ft++)_t[2*ft]!==0?(I.heap[++I.heap_len]=jt=ft,I.depth[ft]=0):_t[2*ft+1]=0;for(;I.heap_len<2;)_t[2*(nt=I.heap[++I.heap_len]=jt<2?++jt:0)]=1,I.depth[nt]=0,I.opt_len--,bt&&(I.static_len-=Tt[2*nt+1]);for(Y.max_code=jt,ft=I.heap_len>>1;1<=ft;ft--)Bt(I,_t,ft);for(nt=Ct;ft=I.heap[1],I.heap[1]=I.heap[I.heap_len--],Bt(I,_t,1),pt=I.heap[1],I.heap[--I.heap_max]=ft,I.heap[--I.heap_max]=pt,_t[2*nt]=_t[2*ft]+_t[2*pt],I.depth[nt]=(I.depth[ft]>=I.depth[pt]?I.depth[ft]:I.depth[pt])+1,_t[2*ft+1]=_t[2*pt+1]=nt,I.heap[1]=nt++,Bt(I,_t,1),2<=I.heap_len;);I.heap[--I.heap_max]=I.heap[1],(function(yt,xt){var qt,Ut,Qt,zt,me,ie,Jt=xt.dyn_tree,Ce=xt.max_code,cs=xt.stat_desc.static_tree,qn=xt.stat_desc.has_stree,Yt=xt.stat_desc.extra_bits,ce=xt.stat_desc.extra_base,fe=xt.stat_desc.max_length,te=0;for(zt=0;zt<=S;zt++)yt.bl_count[zt]=0;for(Jt[2*yt.heap[yt.heap_max]+1]=0,qt=yt.heap_max+1;qt<y;qt++)fe<(zt=Jt[2*Jt[2*(Ut=yt.heap[qt])+1]+1]+1)&&(zt=fe,te++),Jt[2*Ut+1]=zt,Ce<Ut||(yt.bl_count[zt]++,me=0,ce<=Ut&&(me=Yt[Ut-ce]),ie=Jt[2*Ut],yt.opt_len+=ie*(zt+me),qn&&(yt.static_len+=ie*(cs[2*Ut+1]+me)));if(te!==0){do{for(zt=fe-1;yt.bl_count[zt]===0;)zt--;yt.bl_count[zt]--,yt.bl_count[zt+1]+=2,yt.bl_count[fe]--,te-=2}while(0<te);for(zt=fe;zt!==0;zt--)for(Ut=yt.bl_count[zt];Ut!==0;)Ce<(Qt=yt.heap[--qt])||(Jt[2*Qt+1]!==zt&&(yt.opt_len+=(zt-Jt[2*Qt+1])*Jt[2*Qt],Jt[2*Qt+1]=zt),Ut--)}})(I,Y),St(_t,jt,I.bl_count)}function A(I,Y,ft){var pt,nt,_t=-1,Tt=Y[1],bt=0,Ct=7,jt=4;for(Tt===0&&(Ct=138,jt=3),Y[2*(ft+1)+1]=65535,pt=0;pt<=ft;pt++)nt=Tt,Tt=Y[2*(pt+1)+1],++bt<Ct&&nt===Tt||(bt<jt?I.bl_tree[2*nt]+=bt:nt!==0?(nt!==_t&&I.bl_tree[2*nt]++,I.bl_tree[2*E]++):bt<=10?I.bl_tree[2*C]++:I.bl_tree[2*U]++,_t=nt,jt=(bt=0)===Tt?(Ct=138,3):nt===Tt?(Ct=6,3):(Ct=7,4))}function Q(I,Y,ft){var pt,nt,_t=-1,Tt=Y[1],bt=0,Ct=7,jt=4;for(Tt===0&&(Ct=138,jt=3),pt=0;pt<=ft;pt++)if(nt=Tt,Tt=Y[2*(pt+1)+1],!(++bt<Ct&&nt===Tt)){if(bt<jt)for(;rt(I,nt,I.bl_tree),--bt!=0;);else nt!==0?(nt!==_t&&(rt(I,nt,I.bl_tree),bt--),rt(I,E,I.bl_tree),ct(I,bt-3,2)):bt<=10?(rt(I,C,I.bl_tree),ct(I,bt-3,3)):(rt(I,U,I.bl_tree),ct(I,bt-11,7));_t=nt,jt=(bt=0)===Tt?(Ct=138,3):nt===Tt?(Ct=6,3):(Ct=7,4)}}d(tt);var K=!1;function q(I,Y,ft,pt){ct(I,(p<<1)+(pt?1:0),3),(function(nt,_t,Tt,bt){At(nt),ut(nt,Tt),ut(nt,~Tt),l.arraySet(nt.pending_buf,nt.window,_t,Tt,nt.pending),nt.pending+=Tt})(I,Y,ft)}o._tr_init=function(I){K||((function(){var Y,ft,pt,nt,_t,Tt=new Array(S+1);for(nt=pt=0;nt<m-1;nt++)for(J[nt]=pt,Y=0;Y<1<<R[nt];Y++)w[pt++]=nt;for(w[pt-1]=nt,nt=_t=0;nt<16;nt++)for(tt[nt]=_t,Y=0;Y<1<<z[nt];Y++)X[_t++]=nt;for(_t>>=7;nt<v;nt++)for(tt[nt]=_t<<7,Y=0;Y<1<<z[nt]-7;Y++)X[256+_t++]=nt;for(ft=0;ft<=S;ft++)Tt[ft]=0;for(Y=0;Y<=143;)et[2*Y+1]=8,Y++,Tt[8]++;for(;Y<=255;)et[2*Y+1]=9,Y++,Tt[9]++;for(;Y<=279;)et[2*Y+1]=7,Y++,Tt[7]++;for(;Y<=287;)et[2*Y+1]=8,Y++,Tt[8]++;for(St(et,b+1,Tt),Y=0;Y<v;Y++)D[2*Y+1]=5,D[2*Y]=vt(Y,5);Z=new j(et,R,_+1,b,S),H=new j(D,z,0,v,S),ht=new j(new Array(0),V,0,x,N)})(),K=!0),I.l_desc=new B(I.dyn_ltree,Z),I.d_desc=new B(I.dyn_dtree,H),I.bl_desc=new B(I.bl_tree,ht),I.bi_buf=0,I.bi_valid=0,ot(I)},o._tr_stored_block=q,o._tr_flush_block=function(I,Y,ft,pt){var nt,_t,Tt=0;0<I.level?(I.strm.data_type===2&&(I.strm.data_type=(function(bt){var Ct,jt=4093624447;for(Ct=0;Ct<=31;Ct++,jt>>>=1)if(1&jt&&bt.dyn_ltree[2*Ct]!==0)return h;if(bt.dyn_ltree[18]!==0||bt.dyn_ltree[20]!==0||bt.dyn_ltree[26]!==0)return c;for(Ct=32;Ct<_;Ct++)if(bt.dyn_ltree[2*Ct]!==0)return c;return h})(I)),$t(I,I.l_desc),$t(I,I.d_desc),Tt=(function(bt){var Ct;for(A(bt,bt.dyn_ltree,bt.l_desc.max_code),A(bt,bt.dyn_dtree,bt.d_desc.max_code),$t(bt,bt.bl_desc),Ct=x-1;3<=Ct&&bt.bl_tree[2*P[Ct]+1]===0;Ct--);return bt.opt_len+=3*(Ct+1)+5+5+4,Ct})(I),nt=I.opt_len+3+7>>>3,(_t=I.static_len+3+7>>>3)<=nt&&(nt=_t)):nt=_t=ft+5,ft+4<=nt&&Y!==-1?q(I,Y,ft,pt):I.strategy===4||_t===nt?(ct(I,2+(pt?1:0),3),ue(I,et,D)):(ct(I,4+(pt?1:0),3),(function(bt,Ct,jt,yt){var xt;for(ct(bt,Ct-257,5),ct(bt,jt-1,5),ct(bt,yt-4,4),xt=0;xt<yt;xt++)ct(bt,bt.bl_tree[2*P[xt]+1],3);Q(bt,bt.dyn_ltree,Ct-1),Q(bt,bt.dyn_dtree,jt-1)})(I,I.l_desc.max_code+1,I.d_desc.max_code+1,Tt+1),ue(I,I.dyn_ltree,I.dyn_dtree)),ot(I),pt&&At(I)},o._tr_tally=function(I,Y,ft){return I.pending_buf[I.d_buf+2*I.last_lit]=Y>>>8&255,I.pending_buf[I.d_buf+2*I.last_lit+1]=255&Y,I.pending_buf[I.l_buf+I.last_lit]=255&ft,I.last_lit++,Y===0?I.dyn_ltree[2*ft]++:(I.matches++,Y--,I.dyn_ltree[2*(w[ft]+_+1)]++,I.dyn_dtree[2*F(Y)]++),I.last_lit===I.lit_bufsize-1},o._tr_align=function(I){ct(I,2,3),rt(I,O,et),(function(Y){Y.bi_valid===16?(ut(Y,Y.bi_buf),Y.bi_buf=0,Y.bi_valid=0):8<=Y.bi_valid&&(Y.pending_buf[Y.pending++]=255&Y.bi_buf,Y.bi_buf>>=8,Y.bi_valid-=8)})(I)}},{"../utils/common":41}],53:[function(i,r,o){r.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(i,r,o){(function(l){(function(h,c){if(!h.setImmediate){var d,p,m,_,b=1,v={},x=!1,y=h.document,S=Object.getPrototypeOf&&Object.getPrototypeOf(h);S=S&&S.setTimeout?S:h,d={}.toString.call(h.process)==="[object process]"?function(E){process.nextTick(function(){N(E)})}:(function(){if(h.postMessage&&!h.importScripts){var E=!0,C=h.onmessage;return h.onmessage=function(){E=!1},h.postMessage("","*"),h.onmessage=C,E}})()?(_="setImmediate$"+Math.random()+"$",h.addEventListener?h.addEventListener("message",O,!1):h.attachEvent("onmessage",O),function(E){h.postMessage(_+E,"*")}):h.MessageChannel?((m=new MessageChannel).port1.onmessage=function(E){N(E.data)},function(E){m.port2.postMessage(E)}):y&&"onreadystatechange"in y.createElement("script")?(p=y.documentElement,function(E){var C=y.createElement("script");C.onreadystatechange=function(){N(E),C.onreadystatechange=null,p.removeChild(C),C=null},p.appendChild(C)}):function(E){setTimeout(N,0,E)},S.setImmediate=function(E){typeof E!="function"&&(E=new Function(""+E));for(var C=new Array(arguments.length-1),U=0;U<C.length;U++)C[U]=arguments[U+1];var R={callback:E,args:C};return v[b]=R,d(b),b++},S.clearImmediate=T}function T(E){delete v[E]}function N(E){if(x)setTimeout(N,0,E);else{var C=v[E];if(C){x=!0;try{(function(U){var R=U.callback,z=U.args;switch(z.length){case 0:R();break;case 1:R(z[0]);break;case 2:R(z[0],z[1]);break;case 3:R(z[0],z[1],z[2]);break;default:R.apply(c,z)}})(C)}finally{T(E),x=!1}}}}function O(E){E.source===h&&typeof E.data=="string"&&E.data.indexOf(_)===0&&N(+E.data.slice(_.length))}})(typeof self>"u"?l===void 0?this:l:self)}).call(this,typeof xl<"u"?xl:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})})(Nh)),Nh.exports}var Uw=jw();const Bw=Fl(Uw);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iw=u=>u.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),qw=u=>u.replace(/^([A-Z])|[\s-_]+(\w)/g,(n,i,r)=>r?r.toUpperCase():i.toLowerCase()),S_=u=>{const n=qw(u);return n.charAt(0).toUpperCase()+n.slice(1)},ev=(...u)=>u.filter((n,i,r)=>!!n&&n.trim()!==""&&r.indexOf(n)===i).join(" ").trim(),Vw=u=>{for(const n in u)if(n.startsWith("aria-")||n==="role"||n==="title")return!0};/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Lw={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fw=wt.forwardRef(({color:u="currentColor",size:n=24,strokeWidth:i=2,absoluteStrokeWidth:r,className:o="",children:l,iconNode:h,...c},d)=>wt.createElement("svg",{ref:d,...Lw,width:n,height:n,stroke:u,strokeWidth:r?Number(i)*24/Number(n):i,className:ev("lucide",o),...!l&&!Vw(c)&&{"aria-hidden":"true"},...c},[...h.map(([p,m])=>wt.createElement(p,m)),...Array.isArray(l)?l:[l]]));/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ue=(u,n)=>{const i=wt.forwardRef(({className:r,...o},l)=>wt.createElement(Fw,{ref:l,iconNode:n,className:ev(`lucide-${Iw(S_(u))}`,`lucide-${u}`,r),...o}));return i.displayName=S_(u),i};/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hw=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Vf=Ue("chevron-down",Hw);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gw=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Zw=Ue("chevron-right",Gw);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yw=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],nv=Ue("chevron-up",Yw);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pw=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],x_=Ue("circle-alert",Pw);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xw=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Ww=Ue("circle-check",Xw);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qw=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Kw=Ue("circle-question-mark",Qw);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jw=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],$w=Ue("info",Jw);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tA=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],iv=Ue("loader-circle",tA);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eA=[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]],Lf=Ue("music",eA);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nA=[["rect",{x:"14",y:"3",width:"5",height:"18",rx:"1",key:"kaeet6"}],["rect",{x:"5",y:"3",width:"5",height:"18",rx:"1",key:"1wsw3u"}]],iA=Ue("pause",nA);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sA=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],rA=Ue("play",sA);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aA=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],oA=Ue("refresh-cw",aA);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lA=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],uA=Ue("settings",lA);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cA=[["path",{d:"M10 8h4",key:"1sr2af"}],["path",{d:"M12 21v-9",key:"17s77i"}],["path",{d:"M12 8V3",key:"13r4qs"}],["path",{d:"M17 16h4",key:"h1uq16"}],["path",{d:"M19 12V3",key:"o1uvq1"}],["path",{d:"M19 21v-5",key:"qua636"}],["path",{d:"M3 14h4",key:"bcjad9"}],["path",{d:"M5 10V3",key:"cb8scm"}],["path",{d:"M5 21v-7",key:"1w1uti"}]],hA=Ue("sliders-vertical",cA);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fA=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]],dA=Ue("square",fA);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pA=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],mA=Ue("trash-2",pA);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gA=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],_A=Ue("upload",gA);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vA=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]],yA=Ue("volume-2",vA);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bA=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]],SA=Ue("volume-x",bA);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xA=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Ff=Ue("x",xA);var Eh={exports:{}},Oh={exports:{}},Mh,T_;function TA(){if(T_)return Mh;T_=1;function u(i){return i>64&&i<91?i-65:i>96&&i<123?i-71:i>47&&i<58?i+4:i===43?62:i===47?63:0}function n(i,r){for(var o=i.replace(/[^A-Za-z0-9\+\/]/g,""),l=o.length,h=r?Math.ceil((l*3+1>>2)/r)*r:l*3+1>>2,c=new Uint8Array(h),d,p,m=0,_=0,b=0;b<l;b++)if(p=b&3,m|=u(o.charCodeAt(b))<<18-6*p,p===3||l-b===1){for(d=0;d<3&&_<h;d++,_++)c[_]=m>>>(16>>>d&24)&255;m=0}return c}return Mh={decode:n},Mh}var Dh,w_;function wA(){return w_||(w_=1,Dh=function(u,n){return new Promise(function(i,r){var o=new XMLHttpRequest;n&&(o.responseType=n),o.open("GET",u),o.onload=function(){o.status===200?i(o.response):r(Error(o.statusText))},o.onerror=function(){r(Error("Network Error"))},o.send()})}),Dh}var A_;function AA(){return A_||(A_=1,(function(u){var n=TA(),i=wA();function r(R){return function(z){return typeof z=="string"&&R.test(z)}}function o(R,z){return typeof R=="string"?R+z:typeof R=="function"?R(z):z}function l(R,z,V,P){var et=h(z)?c:d(z)?p:m(z)?_:b(z)?v:x(z)?y:S(z)?T:N(z)?O:E(z)?C:null,D=V||{};return et?et(R,z,D):P?Promise.resolve(P):Promise.reject("Source not valid ("+z+")")}l.fetch=i;function h(R){return R instanceof ArrayBuffer}function c(R,z,V){return new Promise(function(P,et){R.decodeAudioData(z,function(D){P(D)},function(){et("Can't decode audio data ("+z.slice(0,30)+"...)")})})}var d=r(/\.(mp3|wav|ogg)(\?.*)?$/i);function p(R,z,V){var P=o(V.from,z);return l(R,l.fetch(P,"arraybuffer"),V)}function m(R){return R&&typeof R.then=="function"}function _(R,z,V){return z.then(function(P){return l(R,P,V)})}var b=Array.isArray;function v(R,z,V){return Promise.all(z.map(function(P){return l(R,P,V,P)}))}function x(R){return R&&typeof R=="object"}function y(R,z,V){var P={},et=Object.keys(z).map(function(D){if(V.only&&V.only.indexOf(D)===-1)return null;var X=z[D];return l(R,X,V,X).then(function(w){P[D]=w})});return Promise.all(et).then(function(){return P})}var S=r(/\.json(\?.*)?$/i);function T(R,z,V){var P=o(V.from,z);return l(R,l.fetch(P,"text").then(JSON.parse),V)}var N=r(/^data:audio/);function O(R,z,V){var P=z.indexOf(",");return l(R,n.decode(z.slice(P+1)).buffer,V)}var E=r(/\.js(\?.*)?$/i);function C(R,z,V){var P=o(V.from,z);return l(R,l.fetch(P,"text").then(U),V)}function U(R){var z=R.indexOf("MIDI.Soundfont.");if(z<0)throw Error("Invalid MIDI.js Soundfont format");z=R.indexOf("=",z)+2;var V=R.lastIndexOf(",");return JSON.parse(R.slice(z,V)+"}")}u.exports&&(u.exports=l),typeof window<"u"&&(window.loadAudio=l)})(Oh)),Oh.exports}var Rh={exports:{}},zh,k_;function kA(){if(k_)return zh;k_=1,zh=u;function u(c){var d=c.createGain(),p=d._voltage=r(c),m=o(p),_=o(p),b=o(p);return d._startAmount=o(_),d._endAmount=o(b),d._multiplier=o(m),d._multiplier.connect(d),d._startAmount.connect(d),d._endAmount.connect(d),d.value=m.gain,d.startValue=_.gain,d.endValue=b.gain,d.startValue.value=0,d.endValue.value=0,Object.defineProperties(d,n),d}var n={attack:{value:0,writable:!0},decay:{value:0,writable:!0},sustain:{value:1,writable:!0},release:{value:0,writable:!0},getReleaseDuration:{value:function(){return this.release}},start:{value:function(c){var d=this._multiplier.gain,p=this._startAmount.gain,m=this._endAmount.gain;this._voltage.start(c),this._decayFrom=this._decayFrom=c+this.attack,this._startedAt=c;var _=this.sustain;d.cancelScheduledValues(c),p.cancelScheduledValues(c),m.cancelScheduledValues(c),m.setValueAtTime(0,c),this.attack?(d.setValueAtTime(0,c),d.linearRampToValueAtTime(1,c+this.attack),p.setValueAtTime(1,c),p.linearRampToValueAtTime(0,c+this.attack)):(d.setValueAtTime(1,c),p.setValueAtTime(0,c)),this.decay&&d.setTargetAtTime(_,this._decayFrom,l(this.decay))}},stop:{value:function(c,d){d&&(c=c-this.release);var p=c+this.release;if(this.release){var m=this._multiplier.gain,_=this._startAmount.gain,b=this._endAmount.gain;m.cancelScheduledValues(c),_.cancelScheduledValues(c),b.cancelScheduledValues(c);var v=l(this.release);if(this.attack&&c<this._decayFrom){var x=h(0,1,this._startedAt,this._decayFrom,c);m.linearRampToValueAtTime(x,c),_.linearRampToValueAtTime(1-x,c),_.setTargetAtTime(0,c,v)}b.setTargetAtTime(1,c,v),m.setTargetAtTime(0,c,v)}return this._voltage.stop(p),p}},onended:{get:function(){return this._voltage.onended},set:function(c){this._voltage.onended=c}}},i=new Float32Array([1,1]);function r(c){var d=c.createBufferSource(),p=c.createBuffer(1,2,c.sampleRate);return p.getChannelData(0).set(i),d.buffer=p,d.loop=!0,d}function o(c){var d=c.context.createGain();return c.connect(d),d}function l(c){return Math.log(c+1)/Math.log(100)}function h(c,d,p,m,_){var b=d-c,v=m-p,x=_-p,y=x/v,S=c+y*b;return S<=c&&(S=c),S>=d&&(S=d),S}return zh}var jh,C_;function CA(){if(C_)return jh;C_=1;var u=kA(),n={},i={gain:1,attack:.01,decay:.1,sustain:.9,release:.3,loop:!1,cents:0,loopStart:0,loopEnd:0};function r(d,p,m){var _=!1,b=0,v={},x=d.createGain();x.gain.value=1;var y=Object.assign({},i,m),S={context:d,out:x,opts:y};return p instanceof AudioBuffer?S.buffer=p:S.buffers=p,S.start=function(O,E,C){if(S.buffer&&O!==null)return S.start(null,O,E);var U=O?S.buffers[O]:S.buffer;if(U){if(!_){console.warn("SamplePlayer not connected to any node.");return}}else{console.warn("Buffer "+O+" not found.");return}var R=C||n;E=Math.max(d.currentTime,E||0),S.emit("start",E,O,R);var z=N(O,U,R);return z.id=T(O,z),z.env.start(E),z.source.start(E),S.emit("started",E,z.id,z),R.duration&&z.stop(E+R.duration),z},S.play=function(O,E,C){return S.start(O,E,C)},S.stop=function(O,E){var C;return E=E||Object.keys(v),E.map(function(U){return C=v[U],C?(C.stop(O),C.id):null})},S.connect=function(O){return _=!0,x.connect(O),S},S.emit=function(O,E,C,U){S.onevent&&S.onevent(O,E,C,U);var R=S["on"+O];R&&R(E,C,U)},S;function T(O,E){return E.id=b++,v[E.id]=E,E.source.onended=function(){var C=d.currentTime;E.source.disconnect(),E.env.disconnect(),E.disconnect(),S.emit("ended",C,E.id,E)},E.id}function N(O,E,C){var U=d.createGain();return U.gain.value=0,U.connect(x),U.env=h(d,C,y),U.env.connect(U.gain),U.source=d.createBufferSource(),U.source.buffer=E,U.source.connect(U),U.source.loop=C.loop||y.loop,U.source.playbackRate.value=c(C.cents||y.cents),U.source.loopStart=C.loopStart||y.loopStart,U.source.loopEnd=C.loopEnd||y.loopEnd,U.stop=function(R){var z=R||d.currentTime;S.emit("stop",z,O);var V=U.env.stop(z);U.source.stop(V)},U}}function o(d){return typeof d=="number"}var l=["attack","decay","sustain","release"];function h(d,p,m){var _=u(d),b=p.adsr||m.adsr;return l.forEach(function(v,x){b?_[v]=b[x]:_[v]=p[v]||m[v]}),_.value.value=o(p.gain)?p.gain:o(m.gain)?m.gain:1,_}function c(d){return d?Math.pow(2,d/1200):1}return jh=r,jh}var Uh,N_;function NA(){if(N_)return Uh;N_=1,Uh=function(n){return n.on=function(i,r){if(arguments.length===1&&typeof i=="function")return n.on("event",i);var o="on"+i,l=n[o];return n[o]=l?u(l,r):r,n},n};function u(n,i){return function(r,o,l,h){n(r,o,l,h),i(r,o,l,h)}}return Uh}var Bh,E_;function EA(){if(E_)return Bh;E_=1;var u=/^([a-gA-G])(#{1,}|b{1,}|x{1,}|)(-?\d*)\s*(.*)\s*$/;function n(){return u}var i=[0,2,4,5,7,9,11];function r(c,d,p){if(typeof c!="string")return null;var m=u.exec(c);if(!m||!d&&m[4])return null;var _={letter:m[1].toUpperCase(),acc:m[2].replace(/x/g,"##")};return _.pc=_.letter+_.acc,_.step=(_.letter.charCodeAt(0)+3)%7,_.alt=_.acc[0]==="b"?-_.acc.length:_.acc.length,_.chroma=i[_.step]+_.alt,m[3]&&(_.oct=+m[3],_.midi=_.chroma+12*(_.oct+1),_.freq=o(_.midi,p)),d&&(_.tonicOf=m[4]),_}function o(c,d){return Math.pow(2,(c-69)/12)*(d||440)}var l={parse:r,regex:n,midiToFreq:o},h=["letter","acc","pc","step","alt","chroma","oct","midi","freq"];return h.forEach(function(c){l[c]=function(d){var p=r(d);return p&&typeof p[c]<"u"?p[c]:null}}),Bh=l,Bh}var Ih,O_;function OA(){if(O_)return Ih;O_=1;var u=EA(),n=function(o){return o!==null&&o!==[]&&o>=0&&o<129},i=function(o){return n(o)?+o:u.midi(o)};Ih=function(o){if(o.buffers){var l=o.opts.map,h=typeof l=="function"?l:i,c=function(p){return p?h(p)||p:null};o.buffers=r(o.buffers,c);var d=o.start;o.start=function(p,m,_){var b=c(p),v=b%1;return v&&(b=Math.floor(b),_=Object.assign(_||{},{cents:Math.floor(v*100)})),d(b,m,_)}}return o};function r(o,l){return Object.keys(o).reduce(function(h,c){return h[l(c)]=o[c],h},{})}return Ih}var qh,M_;function MA(){if(M_)return qh;M_=1;var u=Array.isArray,n=function(r){return r&&typeof r=="object"},i={};return qh=function(r){return r.schedule=function(o,l){var h=r.context.currentTime,c=o<h?h:o;r.emit("schedule",c,l);var d,p,m,_;return l.map(function(b){if(b)u(b)?(d=b[0],p=b[1]):(d=b.time,p=b);else return null;return n(p)?(m=p.name||p.key||p.note||p.midi||null,_=p):(m=p,_=i),r.start(m,c+(d||0),_)})},r},qh}var Vh={exports:{}},D_;function DA(){return D_||(D_=1,(function(u,n){(function(i){u.exports=i()})(function(){return(function i(r,o,l){function h(p,m){if(!o[p]){if(!r[p]){var _=typeof ns=="function"&&ns;if(!m&&_)return _(p,!0);if(c)return c(p,!0);var b=new Error("Cannot find module '"+p+"'");throw b.code="MODULE_NOT_FOUND",b}var v=o[p]={exports:{}};r[p][0].call(v.exports,function(x){var y=r[p][1][x];return h(y||x)},v,v.exports,i,r,o,l)}return o[p].exports}for(var c=typeof ns=="function"&&ns,d=0;d<l.length;d++)h(l[d]);return h})({1:[function(i,r,o){Object.defineProperty(o,"__esModule",{value:!0}),o.default=function(l){function h(c){if(this._event=c,this._data=c.data,this.receivedTime=c.receivedTime,this._data&&this._data.length<2){console.warn("Illegal MIDI message of length",this._data.length);return}switch(this._messageCode=c.data[0]&240,this.channel=c.data[0]&15,this._messageCode){case 128:this.messageType="noteoff",this.key=c.data[1]&127,this.velocity=c.data[2]&127;break;case 144:this.messageType="noteon",this.key=c.data[1]&127,this.velocity=c.data[2]&127;break;case 160:this.messageType="keypressure",this.key=c.data[1]&127,this.pressure=c.data[2]&127;break;case 176:this.messageType="controlchange",this.controllerNumber=c.data[1]&127,this.controllerValue=c.data[2]&127,this.controllerNumber===120&&this.controllerValue===0?this.channelModeMessage="allsoundoff":this.controllerNumber===121?this.channelModeMessage="resetallcontrollers":this.controllerNumber===122?this.controllerValue===0?this.channelModeMessage="localcontroloff":this.channelModeMessage="localcontrolon":this.controllerNumber===123&&this.controllerValue===0?this.channelModeMessage="allnotesoff":this.controllerNumber===124&&this.controllerValue===0?this.channelModeMessage="omnimodeoff":this.controllerNumber===125&&this.controllerValue===0?this.channelModeMessage="omnimodeon":this.controllerNumber===126?this.channelModeMessage="monomodeon":this.controllerNumber===127&&(this.channelModeMessage="polymodeon");break;case 192:this.messageType="programchange",this.program=c.data[1];break;case 208:this.messageType="channelpressure",this.pressure=c.data[1]&127;break;case 224:this.messageType="pitchbendchange";var d=c.data[2]&127,p=c.data[1]&127;this.pitchBend=(d<<8)+p;break}}return new h(l)},r.exports=o.default},{}]},{},[1])(1)})})(Vh)),Vh.exports}var Lh,R_;function RA(){if(R_)return Lh;R_=1;var u=DA();return Lh=function(n){return n.listenToMidi=function(i,r){var o={},l=r||{},h=l.gain||function(c){return c/127};return i.onmidimessage=function(c){var d=c.messageType?c:u(c);if(d.messageType==="noteon"&&d.velocity===0&&(d.messageType="noteoff"),!(l.channel&&d.channel!==l.channel))switch(d.messageType){case"noteon":o[d.key]=n.play(d.key,0,{gain:h(d.velocity)});break;case"noteoff":o[d.key]&&(o[d.key].stop(),delete o[d.key]);break}},n},n},Lh}var z_;function zA(){return z_||(z_=1,(function(u){var n=CA(),i=NA(),r=OA(),o=MA(),l=RA();function h(c,d,p){return l(o(r(i(n(c,d,p)))))}u.exports&&(u.exports=h),typeof window<"u"&&(window.SamplePlayer=h)})(Rh)),Rh.exports}function j_(u,n){return Array(n+1).join(u)}function Hf(u){return typeof u=="number"}function jA(u){return typeof u=="string"}function UA(u){return typeof u<"u"}function sv(u,n){return Math.pow(2,(u-69)/12)*(n||440)}var rv=/^([a-gA-G])(#{1,}|b{1,}|x{1,}|)(-?\d*)\s*(.*)\s*$/;function BA(){return rv}var IA=[0,2,4,5,7,9,11];function Oi(u,n,i){if(typeof u!="string")return null;var r=rv.exec(u);if(!r||!n&&r[4])return null;var o={letter:r[1].toUpperCase(),acc:r[2].replace(/x/g,"##")};o.pc=o.letter+o.acc,o.step=(o.letter.charCodeAt(0)+3)%7,o.alt=o.acc[0]==="b"?-o.acc.length:o.acc.length;var l=IA[o.step]+o.alt;return o.chroma=l<0?12+l:l%12,r[3]&&(o.oct=+r[3],o.midi=l+12*(o.oct+1),o.freq=sv(o.midi,i)),n&&(o.tonicOf=r[4]),o}var qA="CDEFGAB";function VA(u){return Hf(u)?u<0?j_("b",-u):j_("#",u):""}function LA(u){return Hf(u)?""+u:""}function av(u,n,i){return u===null||typeof u>"u"?null:u.step?av(u.step,u.alt,u.oct):u<0||u>6?null:qA.charAt(u)+VA(n)+LA(i)}function ov(u){if((Hf(u)||jA(u))&&u>=0&&u<128)return+u;var n=Oi(u);return n&&UA(n.midi)?n.midi:null}function FA(u,n){var i=ov(u);return i===null?null:sv(i,n)}function HA(u){return(Oi(u)||{}).letter}function GA(u){return(Oi(u)||{}).acc}function ZA(u){return(Oi(u)||{}).pc}function YA(u){return(Oi(u)||{}).step}function PA(u){return(Oi(u)||{}).alt}function XA(u){return(Oi(u)||{}).chroma}function WA(u){return(Oi(u)||{}).oct}const QA=Object.freeze(Object.defineProperty({__proto__:null,acc:GA,alt:PA,build:av,chroma:XA,freq:FA,letter:HA,midi:ov,oct:WA,parse:Oi,pc:ZA,regex:BA,step:YA},Symbol.toStringTag,{value:"Module"})),KA=F_(QA);var Fh,U_;function JA(){if(U_)return Fh;U_=1;var u=KA;function n(o,l){if(console.warn("new Soundfont() is deprected"),console.log("Please use Soundfont.instrument() instead of new Soundfont().instrument()"),!(this instanceof n))return new n(o);this.nameToUrl=l||n.nameToUrl,this.ctx=o,this.instruments={},this.promises=[]}n.prototype.onready=function(o){console.warn("deprecated API"),console.log("Please use Promise.all(Soundfont.instrument(), Soundfont.instrument()).then() instead of new Soundfont().onready()"),Promise.all(this.promises).then(o)},n.prototype.instrument=function(o,l){console.warn("new Soundfont().instrument() is deprecated."),console.log("Please use Soundfont.instrument() instead.");var h=this.ctx;if(o=o||"default",o in this.instruments)return this.instruments[o];var c={name:o,play:r(h,l)};if(this.instruments[o]=c,o!=="default"){var d=n.instrument(h,o,l).then(function(p){return c.play=p.play,c});this.promises.push(d),c.onready=function(p){console.warn("onready is deprecated. Use Soundfont.instrument().then()"),d.then(p)}}else c.onready=function(p){console.warn("onready is deprecated. Use Soundfont.instrument().then()"),p()};return c};function i(o,l,h){return console.warn("Soundfont.loadBuffers is deprecate."),console.log("Use Soundfont.instrument(..) and get buffers properties from the result."),n.instrument(o,l,h).then(function(c){return c.buffers})}n.loadBuffers=i;function r(o,l){return l=l||{},function(h,c,d,p){console.warn("The oscillator player is deprecated."),console.log("Starting with version 0.9.0 you will have to wait until the soundfont is loaded to play sounds.");var m=h>0&&h<129?+h:u.midi(h),_=m?u.midiToFreq(m,440):null;if(_){d=d||.2,p=p||{};var b=p.destination||l.destination||o.destination,v=p.vcoType||l.vcoType||"sine",x=p.gain||l.gain||.4,y=o.createOscillator();y.type=v,y.frequency.value=_;var S=o.createGain();return S.gain.value=x,y.connect(S),S.connect(b),y.start(c),d>0&&y.stop(c+d),y}}}return n.noteToMidi=u.midi,Fh=n,Fh}var B_;function $A(){return B_||(B_=1,(function(u){var n=AA(),i=zA();function r(c,d,p){if(arguments.length===1)return function(x,y){return r(c,x,y)};var m=p||{},_=m.isSoundfontURL||o,b=m.nameToUrl||l,v=_(d)?d:b(d,m.soundfont,m.format);return n(c,v,{only:m.only||m.notes}).then(function(x){var y=i(c,x,m).connect(m.destination?m.destination:c.destination);return y.url=v,y.name=d,y})}function o(c){return/\.js(\?.*)?$/i.test(c)}function l(c,d,p){return p=p==="ogg"?p:"mp3",d=d==="FluidR3_GM"?d:"MusyngKite","https://gleitz.github.io/midi-js-soundfonts/"+d+"/"+c+"-"+p+".js"}var h=JA();h.instrument=r,h.nameToUrl=l,u.exports&&(u.exports=h),typeof window<"u"&&(window.Soundfont=h)})(Eh)),Eh.exports}var tk=$A();const ek=Fl(tk),nk=[{key:"Space",description:"Play / Pause"},{key:"Shift + Wheel",description:"Piano Roll Horizontal Scroll"},{key:"Ctrl + Wheel",description:"Piano Roll Horizontal Zoom"},{key:"Alt + Wheel",description:"Piano Roll Vertical Zoom"}],ik=()=>{const[u,n]=wt.useState(!1),i=wt.useRef(null);return wt.useEffect(()=>{const r=o=>{i.current&&!i.current.contains(o.target)&&n(!1)};return u&&document.addEventListener("mousedown",r),()=>{document.removeEventListener("mousedown",r)}},[u]),L.jsxs("div",{className:"relative",ref:i,children:[L.jsx("button",{onClick:()=>n(!u),className:`p-2 rounded-full transition-colors ${u?"bg-surface text-primary":"text-muted hover:text-text hover:bg-surface"}`,title:"Keyboard Shortcuts",children:L.jsx(Kw,{className:"w-5 h-5"})}),u&&L.jsx("div",{className:"absolute right-0 top-full mt-2 w-80 bg-surface border border-border rounded-xl shadow-xl z-50 animate-in fade-in zoom-in-95 duration-200",children:L.jsxs("div",{className:"p-4",children:[L.jsx("h3",{className:"font-semibold mb-3 text-lg",children:"Keyboard Shortcuts"}),L.jsx("div",{className:"space-y-3",children:nk.map((r,o)=>L.jsxs("div",{className:"flex justify-between items-center text-sm",children:[L.jsx("span",{className:"font-mono bg-background px-2 py-1 rounded border border-border text-xs text-primary",children:r.key}),L.jsx("span",{className:"text-muted",children:r.description})]},o))})]})})]})},sk=()=>L.jsx("header",{className:"glass-header mb-8",children:L.jsxs("div",{className:"container mx-auto px-4 h-16 flex items-center justify-between",children:[L.jsxs("div",{className:"flex items-center gap-3",children:[L.jsx("div",{className:"p-2 bg-primary/10 rounded-lg",children:L.jsx(Lf,{className:"w-6 h-6 text-primary"})}),L.jsxs("h1",{className:"text-xl font-bold bg-gradient-to-r from-primary to-accent bg-clip-text text-transparent",children:["ConcertAI HUB ",L.jsx("span",{className:"text-sm font-medium text-muted ml-2",children:"ver.2.4"})]})]}),L.jsx("div",{className:"flex items-center gap-4",children:L.jsx(ik,{})})]})}),rk=({onMidiUpload:u})=>{const n=async l=>{if(l)try{const h=await l.arrayBuffer(),c=new Gn.Midi(h);u(c)}catch(h){console.error("Error parsing MIDI:",h)}},i=l=>{n(l.target.files[0])},r=l=>{l.preventDefault(),l.stopPropagation();const h=l.dataTransfer.files[0];h&&(h.name.endsWith(".mid")||h.name.endsWith(".midi"))&&n(h)},o=l=>{l.preventDefault(),l.stopPropagation()};return L.jsx("div",{className:"p-10 border-2 border-dashed border-border rounded-xl bg-surface/30 hover:bg-surface/50 transition-colors group cursor-pointer h-full flex flex-col items-center justify-center",onDrop:r,onDragOver:o,children:L.jsxs("div",{className:"flex flex-col items-center justify-center gap-6 text-center max-w-md",children:[L.jsx("div",{className:"p-4 bg-primary/10 rounded-full group-hover:scale-110 transition-transform duration-300",children:L.jsx(_A,{className:"w-10 h-10 text-primary"})}),L.jsxs("div",{children:[L.jsx("h3",{className:"text-2xl font-semibold mb-2",children:"Upload MIDI File"}),L.jsx("p",{className:"text-base text-muted",children:"Drag and drop or click to browse"})]}),L.jsxs("div",{className:"flex items-center gap-4 w-full",children:[L.jsxs("label",{className:"flex-1",children:[L.jsx("input",{type:"file",hidden:!0,accept:".mid,.midi",onChange:i}),L.jsxs("div",{className:"btn-primary w-full cursor-pointer flex items-center justify-center gap-2 py-3",children:[L.jsx(Lf,{className:"w-5 h-5"}),L.jsx("span",{children:"Select File"})]})]}),L.jsx("span",{className:"text-sm text-muted font-medium",children:"OR"}),L.jsx("button",{className:"btn-secondary flex-1 py-3",children:"Sample"})]})]})})},ak=({selectedModel:u,setSelectedModel:n,modelInfo:i,debugMode:r})=>{const[o,l]=wt.useState(!1),h=wt.useMemo(()=>i?Object.values(i):[],[i]);wt.useEffect(()=>{h.length>0&&!u&&n(h[0].model_name)},[h,n]);const c=p=>{n(p),l(!1)},d=wt.useMemo(()=>h.find(p=>p.model_name===u),[h,u]);return L.jsxs("div",{className:"w-full",children:[r&&L.jsxs("div",{className:"border border-dashed border-red-500 p-2 mb-2 text-xs font-mono whitespace-pre-wrap break-all",children:[L.jsx("div",{className:"font-bold",children:"DEBUG INFO"}),`modelInfo prop: ${JSON.stringify(i)}
`,`models array (internal): ${JSON.stringify(h.map(p=>p.model_name))}
`,`selectedModel prop: ${u}
`,`selectedModelObject (internal): ${d?d.model_name:"undefined"}`]}),d?L.jsxs("div",{children:[L.jsx("div",{className:"text-xs font-medium text-muted uppercase tracking-wider mb-1.5",children:"Model"}),L.jsxs("button",{onClick:()=>l(!0),className:"w-full p-4 text-left bg-surface border border-border rounded-lg hover:bg-surface/80 transition-colors group relative",children:[L.jsx("div",{className:"font-bold text-lg group-hover:text-primary transition-colors",children:d.model_name}),L.jsx("div",{className:"text-sm text-muted mt-1",children:d.description}),L.jsxs("div",{className:"text-xs text-muted mt-2 pt-2 border-t border-border/50",children:["Instruments: ",Array.isArray(d?.tag?.instruments)?d.tag.instruments.join(", "):d?.tag?.instruments]}),L.jsx(Zw,{className:"absolute right-4 top-1/2 -translate-y-1/2 w-5 h-5 text-muted group-hover:text-primary transition-colors"})]})]}):L.jsx("div",{className:"text-muted animate-pulse",children:"Loading models..."}),o&&L.jsxs("div",{className:"fixed inset-0 z-[100] flex justify-end",children:[L.jsx("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-sm animate-in fade-in duration-200",onClick:()=>l(!1)}),L.jsxs("div",{className:"relative w-full max-w-md bg-background border-l border-border shadow-2xl h-full overflow-y-auto animate-in slide-in-from-right duration-300",children:[L.jsxs("div",{className:"sticky top-0 bg-background/95 backdrop-blur border-b border-border p-4 flex items-center justify-between z-10",children:[L.jsx("h2",{className:"text-xl font-bold",children:"Select a Model"}),L.jsx("button",{onClick:()=>l(!1),className:"p-2 hover:bg-surface rounded-full transition-colors",children:L.jsx(Ff,{className:"w-5 h-5"})})]}),L.jsx("div",{className:"p-4 space-y-3",children:h.map(p=>L.jsxs("button",{onClick:()=>c(p.model_name),className:`w-full p-4 text-left border rounded-lg transition-all duration-200 ${u===p.model_name?"bg-primary/10 border-primary ring-1 ring-primary":"bg-surface border-border hover:border-primary/50 hover:bg-surface/80"}`,children:[L.jsx("div",{className:`font-bold ${u===p.model_name?"text-primary":"text-text"}`,children:p.model_name}),L.jsx("div",{className:"text-sm text-muted mt-1",children:p.description}),L.jsxs("div",{className:"text-xs text-muted mt-2",children:["Instruments: ",Array.isArray(p?.tag?.instruments)?p.tag.instruments.join(", "):p?.tag?.instruments]})]},p.model_name))})]})]})]})},I_=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"],q_=["M","m"],ok=({open:u,onClose:n,onSave:i,currentKey:r})=>{const[o,l]=wt.useState("C"),[h,c]=wt.useState("M");wt.useEffect(()=>{if(u&&r){const[m,_]=r.split(" ");I_.includes(m)&&l(m),q_.includes(_)&&c(_)}},[u,r]);const d=()=>{i(`${o} ${h}`),n()};if(!u)return null;const p=({items:m,selected:_,onChange:b})=>L.jsx("div",{className:"flex flex-wrap justify-center gap-2 mb-4",children:m.map(v=>L.jsx("button",{onClick:()=>b(v),className:`px-3 py-1.5 rounded-md text-sm font-medium transition-all duration-200 ${_===v?"bg-primary text-white shadow-lg shadow-primary/25":"bg-surface border border-border text-text hover:bg-surface/80 hover:border-primary/50"}`,children:v},v))});return L.jsxs("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4",children:[L.jsx("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-sm animate-in fade-in duration-200",onClick:n}),L.jsxs("div",{className:"relative w-full max-w-md bg-background border border-border rounded-xl shadow-2xl overflow-hidden animate-in zoom-in-95 duration-200 flex flex-col",children:[L.jsxs("div",{className:"p-4 border-b border-border flex items-center justify-between bg-surface/30",children:[L.jsx("h2",{className:"text-xl font-bold",children:"Select Key"}),L.jsx("button",{onClick:n,className:"p-2 hover:bg-surface rounded-full transition-colors",children:L.jsx(Ff,{className:"w-5 h-5"})})]}),L.jsxs("div",{className:"p-6",children:[L.jsx("div",{className:"mb-6 p-4 bg-surface border border-border rounded-lg text-center",children:L.jsxs("div",{className:"text-4xl font-bold text-primary",children:[o," ",h]})}),L.jsxs("div",{className:"space-y-6",children:[L.jsxs("div",{children:[L.jsx("h3",{className:"text-sm font-medium text-muted uppercase tracking-wider mb-3 text-center",children:"Root"}),L.jsx(p,{items:I_,selected:o,onChange:l})]}),L.jsxs("div",{children:[L.jsx("h3",{className:"text-sm font-medium text-muted uppercase tracking-wider mb-3 text-center",children:"Scale"}),L.jsx(p,{items:q_,selected:h,onChange:c})]})]})]}),L.jsxs("div",{className:"p-4 border-t border-border bg-surface/30 flex justify-end gap-3",children:[L.jsx("button",{onClick:n,className:"btn-secondary",children:"Cancel"}),L.jsx("button",{onClick:d,className:"btn-primary",children:"Save Key"})]})]})]})},lk=({instrument:u,setInstrument:n,tempo:i,setTempo:r,selectedModel:o,setSelectedModel:l,modelInfo:h,debugMode:c,keySelection:d,setKey:p,selectedInstruments:m,setSelectedInstruments:_})=>{const[b,v]=wt.useState(!0),[x,y]=wt.useState(!1),S=h?h.find(E=>E.model_name===o):null,T=S?.tag?.instruments?Array.isArray(S.tag.instruments)?S.tag.instruments:[S.tag.instruments]:[];wt.useEffect(()=>{T.length>0?_([T[0]]):_([])},[o,h]);const N=E=>{m.includes(E)?_(m.filter(C=>C!==E)):_([...m,E])},O=E=>{const C=E.target.value;(C===""||Number.isInteger(Number(C))&&C>=0)&&r(C)};return L.jsxs("div",{className:"border border-border rounded-xl overflow-hidden bg-surface/30",children:[L.jsxs("button",{onClick:()=>v(!b),className:"w-full px-4 py-3 flex items-center justify-between bg-surface/50 hover:bg-surface transition-colors",children:[L.jsxs("div",{className:"flex items-center gap-2 font-medium",children:[L.jsx(uA,{className:"w-4 h-4 text-primary"}),L.jsx("span",{children:"Basic Settings"})]}),b?L.jsx(nv,{className:"w-4 h-4 text-muted"}):L.jsx(Vf,{className:"w-4 h-4 text-muted"})]}),b&&L.jsxs("div",{className:"p-4 space-y-4 border-t border-border",children:[L.jsx(ak,{selectedModel:o,setSelectedModel:l,modelInfo:h,debugMode:c}),L.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[L.jsxs("div",{className:"space-y-1.5",children:[L.jsx("label",{className:"text-sm font-medium text-muted",children:"Tempo (BPM)"}),L.jsx("input",{type:"number",value:i,onChange:O,min:"0",className:"input-field"})]}),L.jsxs("div",{className:"space-y-1.5",children:[L.jsx("label",{className:"text-sm font-medium text-muted",children:"Key"}),L.jsxs("button",{onClick:()=>y(!0),className:"w-full p-2.5 bg-surface border border-border rounded-lg text-left hover:bg-surface/80 transition-colors flex items-center justify-between",children:[L.jsx("span",{className:"font-medium",children:d}),L.jsx(Lf,{className:"w-4 h-4 text-muted"})]})]})]}),T.length>0&&L.jsxs("div",{className:"space-y-2",children:[L.jsx("label",{className:"text-sm font-medium text-muted",children:"Generate Instruments"}),L.jsx("div",{className:"flex flex-wrap gap-2",children:T.map(E=>L.jsx("button",{onClick:()=>N(E),className:`px-3 py-1.5 rounded-md text-sm font-medium transition-all duration-200 ${m.includes(E)?"bg-primary text-white shadow-lg shadow-primary/25":"bg-surface border border-border text-text hover:bg-surface/80 hover:border-primary/50"}`,children:E},E))})]})]}),L.jsx(ok,{open:x,onClose:()=>y(!1),onSave:p,currentKey:d})]})},uk=({temperature:u,setTemperature:n,p:i,setP:r,numGems:o,setNumGems:l,rules:h})=>{const[c,d]=wt.useState(!1);return L.jsxs("div",{className:"border border-border rounded-xl overflow-hidden bg-surface/30",children:[L.jsxs("button",{onClick:()=>d(!c),className:"w-full px-4 py-3 flex items-center justify-between bg-surface/50 hover:bg-surface transition-colors",children:[L.jsxs("div",{className:"flex items-center gap-2 font-medium",children:[L.jsx(hA,{className:"w-4 h-4 text-primary"}),L.jsx("span",{children:"Advanced Settings"})]}),c?L.jsx(nv,{className:"w-4 h-4 text-muted"}):L.jsx(Vf,{className:"w-4 h-4 text-muted"})]}),c&&L.jsxs("div",{className:"p-4 space-y-6 border-t border-border",children:[(!h||h.temperature!==!1)&&L.jsxs("div",{className:"space-y-3",children:[L.jsxs("div",{className:"flex justify-between items-center",children:[L.jsx("label",{className:"text-sm font-medium text-muted",children:"Temperature"}),L.jsx("span",{className:"text-xs font-mono bg-surface px-2 py-1 rounded border border-border",children:u})]}),L.jsx("input",{type:"range",min:"0.1",max:"1.5",step:"0.05",value:u,onChange:p=>n(parseFloat(p.target.value)),className:"w-full h-2 bg-surface rounded-lg appearance-none cursor-pointer accent-primary"})]}),(!h||h.top_p!==!1)&&L.jsxs("div",{className:"space-y-3",children:[L.jsxs("div",{className:"flex justify-between items-center",children:[L.jsx("label",{className:"text-sm font-medium text-muted",children:"Top-p"}),L.jsx("span",{className:"text-xs font-mono bg-surface px-2 py-1 rounded border border-border",children:i})]}),L.jsx("input",{type:"range",min:"0.8",max:"1.0",step:"0.01",value:i,onChange:p=>r(parseFloat(p.target.value)),className:"w-full h-2 bg-surface rounded-lg appearance-none cursor-pointer accent-primary"})]}),(!h||h.number_of_generation!==!1)&&L.jsxs("div",{className:"space-y-3",children:[L.jsxs("div",{className:"flex justify-between items-center",children:[L.jsx("label",{className:"text-sm font-medium text-muted",children:"Number of Gems"}),L.jsx("span",{className:"text-xs font-mono bg-surface px-2 py-1 rounded border border-border",children:o})]}),L.jsx("input",{type:"range",min:"1",max:"8",step:"1",value:o,onChange:p=>l(parseInt(p.target.value)),className:"w-full h-2 bg-surface rounded-lg appearance-none cursor-pointer accent-primary"})]})]})]})},ck=({onPlay:u,onPause:n,onStop:i,onGenerate:r,isGenerating:o,playbackState:l,progress:h,duration:c,generatedMidis:d,selectedGeneratedMidi:p,onSelectedGeneratedMidiChange:m})=>L.jsxs("div",{className:"space-y-6",children:[L.jsxs("div",{className:"flex items-center gap-4 flex-wrap",children:[L.jsxs("div",{className:"flex items-center gap-2 bg-surface border border-border rounded-lg p-1",children:[L.jsx("button",{onClick:u,disabled:l==="playing",className:`p-2 rounded-md transition-colors ${l==="playing"?"text-primary bg-primary/10":"text-text hover:bg-white/5 disabled:opacity-50 disabled:cursor-not-allowed"}`,title:"Play",children:L.jsx(rA,{className:"w-5 h-5 fill-current"})}),L.jsx("button",{onClick:n,disabled:l!=="playing",className:`p-2 rounded-md transition-colors ${l==="paused"?"text-primary bg-primary/10":"text-text hover:bg-white/5 disabled:opacity-50 disabled:cursor-not-allowed"}`,title:"Pause",children:L.jsx(iA,{className:"w-5 h-5 fill-current"})}),L.jsx("button",{onClick:i,disabled:l==="stopped",className:"p-2 rounded-md transition-colors text-text hover:bg-white/5 disabled:opacity-50 disabled:cursor-not-allowed",title:"Stop",children:L.jsx(dA,{className:"w-5 h-5 fill-current"})})]}),L.jsx("button",{onClick:r,disabled:o,className:"btn-primary flex items-center gap-2 min-w-[120px] justify-center",children:o?L.jsx(iv,{className:"w-5 h-5 animate-spin"}):"Generate"}),d.length>1&&L.jsxs("div",{className:"relative min-w-[160px]",children:[L.jsx("select",{value:p,onChange:_=>m(Number(_.target.value)),className:"input-field appearance-none cursor-pointer",children:d.map((_,b)=>L.jsxs("option",{value:b,children:["Variation ",b+1]},b))}),L.jsx(Vf,{className:"absolute right-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted pointer-events-none"})]})]}),L.jsxs("div",{className:"space-y-2",children:[L.jsxs("div",{className:"flex justify-between text-xs text-muted font-medium uppercase tracking-wider",children:[L.jsx("span",{children:"Playback Progress"}),L.jsxs("span",{children:[Math.floor(h*100),"%"]})]}),L.jsx("div",{className:"relative h-2 bg-surface border border-border rounded-full overflow-hidden",children:L.jsx("div",{className:"absolute top-0 left-0 h-full bg-primary transition-all duration-100 ease-linear",style:{width:`${h*100}%`}})})]})]}),hk=["C","C#","D","D#","E","E#","F","F#","G","G#","A","A#","B","Cb","Db","Eb","Fb","Gb","Ab","Bb"],fk=["/C","/C#","/D","/D#","/E","/E#","/F","/F#","/G","/G#","/A","/A#","/B","/B#","/Db","/Eb","/Fb","/Gb","/Ab","/Bb","/Cb","None"],dk=["None","m","7","maj7","m7","dim","aug","m7b5","b5","sus2","sus4","6","m6","9","maj9","m9","11","13","add9"],pk=({open:u,onClose:n,onSave:i,chord:r})=>{const[o,l]=wt.useState("C"),[h,c]=wt.useState("None"),[d,p]=wt.useState("None");wt.useEffect(()=>{u&&(l(r?.root||"C"),c(r?.quality||"None"),p(r?.base||"None"))},[u,r]);const m=()=>{i({root:o,quality:h,base:d}),n()},_=()=>`${o}${h==="None"?"":h}${d==="None"?"":d}`;if(!u)return null;const b=({items:v,selected:x,onChange:y})=>L.jsx("div",{className:"flex flex-wrap justify-center gap-2 mb-4",children:v.map(S=>L.jsx("button",{onClick:()=>y(S),className:`px-3 py-1.5 rounded-md text-sm font-medium transition-all duration-200 ${x===S?"bg-primary text-white shadow-lg shadow-primary/25":"bg-surface border border-border text-text hover:bg-surface/80 hover:border-primary/50"}`,children:S},S))});return L.jsxs("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4",children:[L.jsx("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-sm animate-in fade-in duration-200",onClick:n}),L.jsxs("div",{className:"relative w-full max-w-2xl bg-background border border-border rounded-xl shadow-2xl overflow-hidden animate-in zoom-in-95 duration-200 max-h-[90vh] flex flex-col",children:[L.jsxs("div",{className:"p-4 border-b border-border flex items-center justify-between bg-surface/30",children:[L.jsx("h2",{className:"text-xl font-bold",children:"Select Chord"}),L.jsx("button",{onClick:n,className:"p-2 hover:bg-surface rounded-full transition-colors",children:L.jsx(Ff,{className:"w-5 h-5"})})]}),L.jsxs("div",{className:"p-6 overflow-y-auto",children:[L.jsx("div",{className:"mb-6 p-4 bg-surface border border-border rounded-lg text-center",children:L.jsx("div",{className:"text-4xl font-bold text-primary",children:_()})}),L.jsxs("div",{className:"space-y-6",children:[L.jsxs("div",{children:[L.jsx("h3",{className:"text-sm font-medium text-muted uppercase tracking-wider mb-3 text-center",children:"Roots"}),L.jsx(b,{items:hk,selected:o,onChange:l})]}),L.jsxs("div",{children:[L.jsx("h3",{className:"text-sm font-medium text-muted uppercase tracking-wider mb-3 text-center",children:"Qualities"}),L.jsx(b,{items:dk,selected:h,onChange:c})]}),L.jsxs("div",{children:[L.jsx("h3",{className:"text-sm font-medium text-muted uppercase tracking-wider mb-3 text-center",children:"Bases"}),L.jsx(b,{items:fk,selected:d,onChange:p})]})]})]}),L.jsxs("div",{className:"p-4 border-t border-border bg-surface/30 flex justify-end gap-3",children:[L.jsx("button",{onClick:n,className:"btn-secondary",children:"Cancel"}),L.jsx("button",{onClick:m,className:"btn-primary",children:"Save Chord"})]})]})]})},mk=50,gk=({totalMeasures:u,pixelsPerMeasure:n,onChordsChange:i})=>{const[r,o]=wt.useState({}),[l,h]=wt.useState(!1),[c,d]=wt.useState(null),p=(v,x)=>{d(`${v}-${x}`),h(!0)},m=()=>{h(!1),d(null)},_=v=>{const x={...r,[c]:v};o(x),i&&i(x)},b=v=>{if(!v)return"";const x=v.quality==="None"?"":v.quality,y=v.base==="None"?"":v.base;return`${v.root}${x}${y}`};return L.jsxs("div",{children:[L.jsx("div",{className:"flex relative bg-background border-b border-border",style:{width:`${u*n}px`,height:`${mk}px`},children:Array.from({length:u}).map((v,x)=>L.jsx("div",{className:"h-full border-r border-border flex",style:{width:`${n}px`},children:Array.from({length:4}).map((y,S)=>L.jsx("div",{onDoubleClick:()=>p(x,S),className:`
                                    h-full flex items-center justify-center cursor-pointer transition-colors
                                    ${S<3?"border-r border-border/30 border-dashed":""}
                                    ${r[`${x}-${S}`]?"bg-primary/20 hover:bg-primary/30":"hover:bg-surface"}
                                `,style:{width:`${n/4}px`},children:L.jsx("span",{className:"text-xs font-medium text-text select-none",children:b(r[`${x}-${S}`])})},S))},x))}),L.jsx(pk,{open:l,onClose:m,onSave:_,chord:r[c]})]})},_k=30,vk=({note:u,pixelsPerSecond:n,verticalZoom:i})=>{const r=20*i,o=(127-u.midi)*r,l=u.time*n,h=u.duration*n;return L.jsx("div",{className:"absolute bg-primary rounded-sm z-10 flex items-center justify-center overflow-hidden shadow-sm border border-white/10",style:{top:`${o}px`,left:`${l}px`,width:`${h}px`,height:`${r-1}px`},children:h>20&&L.jsx("span",{className:"text-[10px] text-white font-medium select-none truncate px-1",children:u.name})})},V_=wt.forwardRef(({midiData:u,progress:n,duration:i,generationLength:r,setGenerationLength:o,onSeek:l,onChordsChange:h,onMute:c,onSolo:d,onDelete:p,onClear:m,trackMutes:_,trackSolos:b,selectionEnabled:v=!0},x)=>{const[y,S]=wt.useState([0,0]),[T,N]=wt.useState(1),[O,E]=wt.useState(1),[C,U]=wt.useState({}),[R,z]=wt.useState(0);wt.useEffect(()=>{h&&h(C)},[C,h]),wt.useEffect(()=>{z(0)},[u]);const V=80*T,P=20*O,et=u?.tracks[R],D=et?et.notes:[],X=_?_[R]:!1,w=b?b[R]:!1,J=u?.header.tempos[0]?.bpm||120,Z=u?.header.timeSignatures[0]?.timeSignature||[4,4],H=60/J*Z[0],ht=H*V,tt=i,j=tt>0?Math.ceil(tt/H):12,B=j*ht,F=128*P,ut=n*tt*V,ct=wt.useRef(null);wt.useImperativeHandle(x,()=>({getSelectedNotes:()=>{if(!u||y[0]===0&&y[1]===0)return[];const St=y[0]*H,ot=(y[1]+1)*H;return D.filter(Et=>Et.time>=St&&Et.time<ot)},getPastNotes:(St=8)=>{if(!u||y[0]===0&&y[1]===0)return[];const ot=y[0]*H,At=Math.max(0,(y[0]-St)*H);return D.filter(Et=>Et.time>=At&&Et.time<ot)},getFutureNotes:(St=8)=>{if(!u||y[0]===0&&y[1]===0)return[];const ot=(y[1]+1)*H,At=(y[1]+1+St)*H;return D.filter(Et=>Et.time>=ot&&Et.time<At)},getSelectedRange:()=>y})),wt.useEffect(()=>{const St=ct.current,ot=At=>{if(At.preventDefault(),At.ctrlKey){const Et=At.deltaY>0?.9:1.1;N(Bt=>Math.max(.1,Math.min(Bt*Et,5)))}else if(At.altKey){const Et=At.deltaY>0?.9:1.1;E(Bt=>Math.max(.1,Math.min(Bt*Et,5)))}else At.shiftKey?St.scrollLeft+=At.deltaY:St.scrollTop+=At.deltaY};return St&&St.addEventListener("wheel",ot,{passive:!1}),()=>{St&&St.removeEventListener("wheel",ot)}},[]),wt.useEffect(()=>{if(u&&ct.current&&D.length>0){const St=Math.min(...D.map($t=>$t.midi)),Et=(127-(Math.max(...D.map($t=>$t.midi))+St)/2)*P,Bt=ct.current.clientHeight,ue=Et-Bt/2;ct.current.scrollTop=ue}},[u,O,P,R]);const rt=St=>{const ot=St.currentTarget.getBoundingClientRect(),Et=(St.clientX-ot.left)/V;l&&l(Et)},vt=St=>{if(v)if(y[0]===0&&y[1]===0)S([St,St]);else if(St>=y[0]&&St<=y[1])S([0,0]);else{const ot=Math.min(y[0],St),At=Math.max(y[1],St);S([ot,At])}};return L.jsxs("div",{className:"flex flex-col h-full p-4",children:[L.jsxs("div",{className:"flex items-center gap-6 mb-4",children:[L.jsxs("div",{className:"flex items-center gap-3",children:[L.jsx("span",{className:"text-sm font-medium text-muted",children:"H-Zoom"}),L.jsx("input",{type:"range",min:"0.1",max:"5",step:"0.1",value:T,onChange:St=>N(parseFloat(St.target.value)),className:"w-32 h-2 bg-surface rounded-lg appearance-none cursor-pointer accent-primary"})]}),L.jsxs("div",{className:"flex items-center gap-3",children:[L.jsx("span",{className:"text-sm font-medium text-muted",children:"V-Zoom"}),L.jsx("input",{type:"range",min:"0.1",max:"5",step:"0.1",value:O,onChange:St=>E(parseFloat(St.target.value)),className:"w-32 h-2 bg-surface rounded-lg appearance-none cursor-pointer accent-primary"})]}),u&&u.tracks.length>0&&L.jsxs(L.Fragment,{children:[L.jsxs("div",{className:"flex items-center gap-3",children:[L.jsx("span",{className:"text-sm font-medium text-muted",children:"Track"}),L.jsx("select",{value:R,onChange:St=>z(parseInt(St.target.value)),className:"bg-surface text-text border border-border rounded px-2 py-1 text-sm focus:outline-none focus:border-primary",children:u.tracks.map((St,ot)=>L.jsxs("option",{value:ot,children:[ot+1,": ",St.name||St.instrument.name||`Track ${ot+1}`]},ot))})]}),L.jsxs("div",{className:"flex items-center gap-2 border-l border-border pl-4",children:[L.jsx("button",{onClick:()=>c&&c(R),className:`p-2 rounded hover:bg-surface transition-colors ${X?"text-red-500":"text-muted"}`,title:X?"Unmute Track":"Mute Track",children:X?L.jsx(SA,{size:18}):L.jsx(yA,{size:18})}),L.jsx("button",{onClick:()=>d&&d(R),className:`p-2 rounded hover:bg-surface transition-colors ${w?"text-yellow-500":"text-muted"}`,title:w?"Unsolo Track":"Solo Track",children:L.jsx("span",{className:"font-bold text-sm",children:"S"})}),L.jsx("button",{onClick:()=>p&&p(R),className:"p-2 rounded hover:bg-red-500/20 text-muted hover:text-red-500 transition-colors",title:"Delete Track",children:L.jsx(mA,{size:18})})]})]}),L.jsx("div",{className:"ml-auto",children:L.jsxs("button",{onClick:m,className:"flex items-center gap-2 px-3 py-1.5 bg-surface hover:bg-surface/80 text-text rounded border border-border transition-colors text-sm",title:"Clear All",children:[L.jsx(oA,{size:14}),L.jsx("span",{children:"Clear"})]})})]}),L.jsxs("div",{className:"flex-1 border border-border rounded-lg overflow-auto relative bg-surface/20",ref:ct,children:[L.jsx("div",{className:"sticky top-0 left-0 flex bg-background z-20 border-b border-border",style:{width:`${B}px`,height:`${_k}px`},children:Array.from({length:j}).map((St,ot)=>L.jsx("div",{className:`
                                border-r border-border text-xs flex items-center justify-center cursor-pointer transition-colors
                                ${ot>=y[0]&&ot<=y[1]?"bg-primary/30 text-primary font-bold":"text-muted hover:bg-surface"}
                            `,style:{width:`${ht}px`},onClick:()=>vt(ot),children:ot+1},ot))}),L.jsx("div",{className:"sticky top-[30px] left-0 z-20 bg-background border-b border-border",style:{width:`${B}px`},children:L.jsx(gk,{totalMeasures:j,pixelsPerMeasure:ht,onChordsChange:U})}),L.jsxs("div",{onClick:rt,className:"relative cursor-pointer",style:{width:`${B}px`,height:`${F}px`},children:[Array.from({length:j}).map((St,ot)=>L.jsx("div",{className:`absolute top-0 h-full border-r border-border/30 ${ot<r?"bg-primary/5":""}`,style:{left:`${ot*ht}px`,width:`${ht}px`}},ot)),y[0]!==0||y[1]!==0?L.jsx("div",{className:"absolute top-0 h-full bg-primary/20 pointer-events-none z-[2]",style:{left:`${y[0]*ht}px`,width:`${(y[1]-y[0]+1)*ht}px`}}):null,D.map((St,ot)=>L.jsx(vk,{note:St,pixelsPerSecond:V,verticalZoom:O},ot)),L.jsx("div",{className:"absolute top-0 h-full w-0.5 bg-red-500 z-20 pointer-events-none shadow-[0_0_10px_rgba(239,68,68,0.5)]",style:{left:`${ut}px`}})]}),!u&&L.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 text-muted pointer-events-none",children:"Piano Roll Area"})]})]})}),yk=["acoustic_grand_piano","bright_acoustic_piano","electric_grand_piano","honkytonk_piano","electric_piano_1","electric_piano_2","harpsichord","clavinet","celesta","glockenspiel","music_box","vibraphone","marimba","xylophone","tubular_bells","dulcimer","drawbar_organ","percussive_organ","rock_organ","church_organ","reed_organ","accordion","harmonica","tango_accordion","acoustic_guitar_nylon","acoustic_guitar_steel","electric_guitar_jazz","electric_guitar_clean","electric_guitar_muted","overdriven_guitar","distortion_guitar","guitar_harmonics","acoustic_bass","electric_bass_finger","electric_bass_pick","fretless_bass","slap_bass_1","slap_bass_2","synth_bass_1","synth_bass_2","violin","viola","cello","contrabass","tremolo_strings","pizzicato_strings","orchestral_harp","timpani","string_ensemble_1","string_ensemble_2","synth_strings_1","synth_strings_2","choir_aahs","voice_oohs","synth_choir","orchestra_hit","trumpet","trombone","tuba","muted_trumpet","french_horn","brass_section","synth_brass_1","synth_brass_2","soprano_sax","alto_sax","tenor_sax","baritone_sax","oboe","english_horn","bassoon","clarinet","piccolo","flute","recorder","pan_flute","blown_bottle","shakuhachi","whistle","ocarina","lead_1_square","lead_2_sawtooth","lead_3_calliope","lead_4_chiff","lead_5_charang","lead_6_voice","lead_7_fifths","lead_8_bass__lead","pad_1_new_age","pad_2_warm","pad_3_polysynth","pad_4_choir","pad_5_bowed","pad_6_metallic","pad_7_halo","pad_8_sweep","fx_1_rain","fx_2_soundtrack","fx_3_crystal","fx_4_atmosphere","fx_5_brightness","fx_6_goblins","fx_7_echoes","fx_8_scifi","sitar","banjo","shamisen","koto","kalimba","bagpipe","fiddle","shanai","tinkle_bell","agogo","steel_drums","woodblock","taiko_drum","melodic_tom","synth_drum","reverse_cymbal","guitar_fret_noise","breath_noise","seashore","bird_tweet","telephone_ring","helicopter","applause","gunshot"],L_="https://c4dde3cb6edc.ngrok-free.app";function bk(){const[u,n]=wt.useState(!1);wt.useEffect(()=>{new URLSearchParams(window.location.search).get("debug")==="true"&&prompt("Enter debug code:")==="963964"&&n(!0)},[]);const[i,r]=wt.useState(null),[o,l]=wt.useState(null),[h,c]=wt.useState("stopped"),[d,p]=wt.useState(0),[m,_]=wt.useState(!1),[b,v]=wt.useState(12),[x,y]=wt.useState("piano"),[S,T]=wt.useState(120),[N,O]=wt.useState(""),[E,C]=wt.useState(.95),[U,R]=wt.useState(.95),[z,V]=wt.useState(3),[P,et]=wt.useState("C M"),[D,X]=wt.useState([]),[w,J]=wt.useState([]),[Z,H]=wt.useState([]),[ht,tt]=wt.useState(0),[j,B]=wt.useState({open:!1,message:"",severity:"info"}),[F,ut]=wt.useState(!1),[ct,rt]=wt.useState({}),[vt,St]=wt.useState(null),[ot,At]=wt.useState({}),[Et,Bt]=wt.useState({}),ue=wt.useRef([]),$t=wt.useRef();wt.useEffect(()=>{(async()=>{try{const xt=await fetch(`${L_}/model_info`,{method:"POST"});if(!xt.ok)throw new Error(`Network response was not ok: ${xt.statusText}`);const qt=await xt.json(),Ut=Object.values(qt);J(Ut)}catch(xt){console.error("Failed to fetch model info:",xt),B({open:!0,message:`Failed to load model list: ${xt.message}`,severity:"error"})}})()},[]);const[A,Q]=wt.useState([]);wt.useEffect(()=>{if(console.log("Instrument loading effect running"),_(!1),A.forEach(xt=>{xt.type==="tone"&&xt.player.dispose(),xt.gain&&xt.gain.disconnect()}),!i){console.log("No midiData, resetting instruments"),Q([]),_(!0);return}return(async()=>{const xt=i.tracks.map(async(qt,Ut)=>{const Qt=qt.instrument.number,zt=qt.instrument.percussion||qt.channel===9,me=Th.createGain();Ls(me,Sw);let ie,Jt;if(console.log(`Loading track ${Ut}: Program ${Qt}, Drum: ${zt}`),zt)Jt="tone",console.log("Loading Salamander Drumkit..."),ie=new Lr({urls:{35:"kick_OH_FF_1.wav",36:"kick2_OH_FF_1.wav",37:"snareStick_OH_F_1.wav",38:"snare_OH_FF_1.wav",40:"snare2_OH_FF_1.wav",41:"loTom_OH_FF_1.wav",42:"hihatClosed_OH_F_1.wav",43:"loTom_OH_FF_6.wav",44:"hihatFoot_OH_MP_1.wav",45:"hiTom_OH_FF_1.wav",46:"hihatOpen_OH_FF_1.wav",47:"hiTom_OH_FF_1.wav",48:"hiTom_OH_FF_4.wav",49:"crash1_OH_FF_1.wav",50:"hiTom_OH_FF_8.wav",51:"ride1_OH_FF_1.wav",52:"china1_OH_FF_1.wav",53:"ride1Bell_OH_F_1.wav",55:"splash1_OH_F_1.wav",57:"crash2_OH_FF_1.wav",59:"ride2_OH_FF_1.wav"},baseUrl:"drums/OH/",onload:()=>{console.log("Salamander Drumkit loaded!")}}),ie.connect(me),await s_();else if(Qt>=0&&Qt<=7)Jt="tone",ie=new Lr({urls:{A0:"A0.mp3",C1:"C1.mp3","D#1":"Ds1.mp3","F#1":"Fs1.mp3",A1:"A1.mp3",C2:"C2.mp3","D#2":"Ds2.mp3","F#2":"Fs2.mp3",A2:"A2.mp3",C3:"C3.mp3","D#3":"Ds3.mp3","F#3":"Fs3.mp3",A3:"A3.mp3",C4:"C4.mp3","D#4":"Ds4.mp3","F#4":"Fs4.mp3",A4:"A4.mp3",C5:"C5.mp3","D#5":"Ds5.mp3","F#5":"Fs5.mp3",A5:"A5.mp3",C6:"C6.mp3"},release:1,baseUrl:"https://tonejs.github.io/audio/salamander/"}),ie.connect(me),await s_();else{Jt="soundfont";const Ce=yk[Qt]||"acoustic_grand_piano";console.log(`Fetching Soundfont: ${Ce}`);try{ie=await ek.instrument(Th.rawContext,Ce,{destination:me,soundfont:"FluidR3_GM"})}catch(cs){console.error(`Failed to load soundfont ${Ce}, falling back to synth`,cs),Jt="tone",ie=new Bf(Vr),ie.connect(me)}}return{player:ie,gain:me,type:Jt}});try{const qt=await Promise.all(xt);console.log("All instruments loaded"),Q(qt),_(!0)}catch(qt){console.error("Error loading instruments:",qt),_(!0)}})(),()=>{}},[i]),wt.useEffect(()=>{const yt=Object.values(Et).some(xt=>xt);A.forEach((xt,qt)=>{if(xt&&xt.gain){let Ut=!0;yt?Ut=Et[qt]:Ut=!ot[qt],xt.gain.gain.value=Ut?1:0}})},[ot,Et,A]),wt.useEffect(()=>{if(console.log("Scheduling effect running",{midiData:!!i,samplerLoaded:m,instrumentsLength:A.length,tracksLength:i?.tracks.length}),i&&m&&A.length===i.tracks.length){console.log("Starting scheduling..."),ue.current.forEach(xt=>sn.clear(xt)),ue.current=[];const yt=[];i.tracks.forEach((xt,qt)=>{const Ut=A[qt];Ut&&xt.notes.forEach(Qt=>{const zt=sn.schedule(me=>{Ut.type==="tone"?Ut.player.triggerAttackRelease(Qt.name,Qt.duration,me,Qt.velocity):Ut.type==="soundfont"&&Ut.player.play(Qt.name,me,{duration:Qt.duration,gain:Qt.velocity})},Qt.time);yt.push(zt)})}),console.log(`Scheduled ${yt.length} events`),ue.current=yt,sn.loop=!0,sn.loopStart=0,sn.loopEnd=i.duration}},[i,m,A]),wt.useEffect(()=>{sn.bpm.value=S},[S]);const K=yt=>{h!=="stopped"&&Y(),At({}),r(yt),l(yt),H([]),yt.header.tempos.length>0&&T(Math.round(yt.header.tempos[0].bpm))},q=async()=>{console.log("handlePlay called",{midiData:!!i,samplerLoaded:m}),!(!i||!m)&&(Th.state!=="running"&&await tw(),sn.start(),c("playing"))},I=()=>{sn.pause(),c("paused")},Y=()=>{sn.stop(),sn.position=0,p(0),c("stopped")},ft=yt=>{sn.position=yt,p(sn.progress)},pt=yt=>{if(!yt)return"";const xt=yt.quality==="None"?"":yt.quality,qt=yt.base==="None"?"":yt.base;return`${yt.root}${xt}${qt}`},nt=async()=>{if(!N){B({open:!0,message:"Please select a model from the Settings dropdown first.",severity:"warning"});return}const yt=w.find(Yt=>Yt.model_name===N),xt=yt?.tag?.model,qt=yt?.rule||{};if(!o&&xt!=="pretrained"){B({open:!0,message:"Please upload a MIDI file first.",severity:"warning"});return}const Ut=$t.current?.getSelectedNotes()||[],Qt=$t.current?.getSelectedRange()||[0,0],zt=Qt[0]!==0||Qt[1]!==0;if(!zt&&xt!=="pretrained"&&!qt.gen_measure_count){B({open:!0,message:"",severity:"warning"});return}if(qt.gen_measure_count&&!zt){B({open:!0,message:"",severity:"warning"});return}ut(!0),B({open:!0,message:"Generating... Please wait.",severity:"info"}),H([]);const me=new Gn.Midi,ie=me.addTrack();Ut.forEach(Yt=>{ie.addNote({midi:Yt.midi,time:Yt.time,duration:Yt.duration,velocity:Yt.velocity})});const Jt=new Blob([me.toArray()],{type:"audio/midi"}),Ce={model_type:N,program:D,tempo:S,task:"MUSICGEM",p:U,temperature:E,split_measure:99,key:P.replace(" ",""),num_gems:z};if(qt.gen_measure_count&&zt){const Yt=Qt[1]-Qt[0]+1;Ce.generate_count=Yt}if(xt==="sft"&&o){const Yt=Ut.reduce((mn,Vn)=>Math.max(mn,Vn.time+Vn.duration),0),ce=o?.header.tempos[0]?.bpm||120,te=(o?.header.timeSignatures[0]?.timeSignature||[4,4])[0],xe=60/ce,hs=xe*te,oi=Object.entries(ct).map(([mn,Vn])=>{const[Cn,Ve]=mn.split("-").map(Number),Ke=Cn*hs+Ve*xe;return{chord:Vn,startTime:Ke}}).filter(mn=>mn.startTime>=Yt);Ce.chord_item=oi.map(mn=>pt(mn.chord)),Ce.chord_times=oi.map(mn=>mn.startTime-Yt)}u&&St({meta:Ce});const cs=new Blob([JSON.stringify(Ce,null,2)],{type:"application/json"}),qn=new FormData;if(qn.append("midi",Jt,"input.mid"),qn.append("meta_json",cs,"meta.json"),qt.send_context_past){const Yt=$t.current?.getPastNotes(8)||[];if(Yt.length>0){const ce=new Gn.Midi,fe=ce.addTrack();Yt.forEach(xe=>{fe.addNote({midi:xe.midi,time:xe.time,duration:xe.duration,velocity:xe.velocity})});const te=new Blob([ce.toArray()],{type:"audio/midi"});qn.append("past_midi",te,"past.mid")}}if(qt.send_context_condition&&Ut.length>0){const Yt=new Gn.Midi,ce=Yt.addTrack();Ut.forEach(te=>{ce.addNote({midi:te.midi,time:te.time,duration:te.duration,velocity:te.velocity})});const fe=new Blob([Yt.toArray()],{type:"audio/midi"});qn.append("conditions_midi",fe,"conditions.mid")}if(qt.send_context_future){const Yt=$t.current?.getFutureNotes(8)||[];if(Yt.length>0){const ce=new Gn.Midi,fe=ce.addTrack();Yt.forEach(xe=>{fe.addNote({midi:xe.midi,time:xe.time,duration:xe.duration,velocity:xe.velocity})});const te=new Blob([ce.toArray()],{type:"audio/midi"});qn.append("future_midi",te,"future.mid")}}try{const Yt=await fetch(`${L_}/generate`,{method:"POST",body:qn});if(Yt.ok){const ce=Yt.headers.get("content-type");if(ce&&ce.includes("application/zip")){const fe=await Yt.blob(),te=await Bw.loadAsync(fe),xe=[],hs=[];te.forEach((mn,Vn)=>{Vn.name.endsWith(".mid")?xe.push(Vn.async("arraybuffer").then(Cn=>new Gn.Midi(Cn))):Vn.name.endsWith(".json")&&hs.push(Vn.async("string"))});const Mi=await Promise.all(xe),oi=await Promise.all(hs);oi.length>0?B({open:!0,message:oi.join(`
`),severity:"info"}):Mi.length>0?(H(Mi),tt(0),B({open:!0,message:`Successfully generated ${Mi.length} MIDI file(s).`,severity:"success"})):B({open:!0,message:"Generation complete, but no relevant files were produced.",severity:"warning"})}else if(ce&&(ce.includes("audio/midi")||ce.includes("application/x-midi"))){const te=await(await Yt.blob()).arrayBuffer(),xe=new Gn.Midi(te);H([xe]),tt(0),B({open:!0,message:"Successfully generated MIDI file.",severity:"success"})}else try{const te=await(await Yt.blob()).arrayBuffer(),xe=new Gn.Midi(te);H([xe]),tt(0),B({open:!0,message:"Successfully generated MIDI file (fallback).",severity:"success"})}catch{B({open:!0,message:`Unknown response format: ${ce}`,severity:"error"})}}else{const ce=await Yt.text();console.error("Generation failed response:",ce);let fe=ce;try{const te=JSON.parse(ce);te.detail&&(fe=typeof te.detail=="object"?JSON.stringify(te.detail,null,2):te.detail)}catch{}B({open:!0,message:`Generation failed: ${fe||Yt.statusText}`,severity:"error"})}}catch(Yt){console.error("Error during generation:",Yt),B({open:!0,message:`An error occurred: ${Yt.message}`,severity:"error"})}finally{ut(!1)}};wt.useEffect(()=>{const xt=w.find(Ut=>Ut.model_name===N)?.tag?.model,qt=Z[ht];if(!(!xt||!qt)){if(xt==="pretrained")r(qt);else if(xt==="sft"){const Ut=new Gn.Midi;Ut.header=o.header;const zt=$t.current.getSelectedNotes().reduce((ie,Jt)=>Math.max(ie,Jt.time+Jt.duration),0),me=Ut.addTrack();o.tracks.forEach((ie,Jt)=>{ot[Jt]||ie.notes.forEach(Ce=>{Ce.time<zt&&me.addNote(Ce)})}),qt.tracks.forEach(ie=>{ie.notes.forEach(Jt=>{me.addNote({...Jt,time:Jt.time+zt})})}),r(Ut)}}},[Z,ht,o,w,N,ot]),wt.useEffect(()=>{if(h==="playing"){const yt=sn.scheduleRepeat(xt=>{xw.schedule(()=>p(sn.progress),xt)},"16n");return()=>sn.clear(yt)}},[h]),wt.useEffect(()=>{const yt=xt=>{xt.code==="Space"&&(xt.preventDefault(),h==="playing"?I():q())};return window.addEventListener("keydown",yt),()=>window.removeEventListener("keydown",yt)},[h,q,I]);const _t=yt=>{At(xt=>({...xt,[yt]:!xt[yt]}))},Tt=yt=>{Bt(xt=>({...xt,[yt]:!xt[yt]}))},bt=yt=>{if(!i)return;const xt={...i};xt.tracks.splice(yt,1),r({...xt}),At(qt=>{const Ut={};return Object.keys(qt).forEach(Qt=>{const zt=parseInt(Qt);zt<yt?Ut[zt]=qt[zt]:zt>yt&&(Ut[zt-1]=qt[zt])}),Ut})},Ct=()=>{r(null),l(null),H([]),Q([]),Q([]),At({}),Bt({}),Y()},jt=i?i.duration:0;return L.jsxs("div",{className:"h-screen bg-background text-text flex flex-col overflow-hidden",children:[j.open&&L.jsxs("div",{className:`fixed top-4 right-4 z-[100] p-4 rounded-lg shadow-lg border flex items-start gap-3 max-w-md animate-in slide-in-from-right-5 fade-in duration-300 ${j.severity==="error"?"bg-red-900/90 border-red-700 text-red-100":j.severity==="warning"?"bg-yellow-900/90 border-yellow-700 text-yellow-100":j.severity==="success"?"bg-green-900/90 border-green-700 text-green-100":"bg-blue-900/90 border-blue-700 text-blue-100"}`,children:[j.severity==="error"&&L.jsx(x_,{className:"w-5 h-5 shrink-0"}),j.severity==="warning"&&L.jsx(x_,{className:"w-5 h-5 shrink-0"}),j.severity==="success"&&L.jsx(Ww,{className:"w-5 h-5 shrink-0"}),j.severity==="info"&&L.jsx($w,{className:"w-5 h-5 shrink-0"}),L.jsx("div",{className:"flex-1 text-sm whitespace-pre-wrap break-all",children:j.message}),L.jsx("button",{onClick:()=>B({...j,open:!1}),className:"text-white/70 hover:text-white",children:""})]}),L.jsx(sk,{}),L.jsx("main",{className:"flex-1 container mx-auto px-4 pb-4 max-w-[1600px] overflow-hidden",children:m?L.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-6 h-full",children:[L.jsxs("div",{className:"lg:col-span-4 space-y-6 overflow-y-auto pr-2 pb-2",children:[L.jsxs("div",{className:"card space-y-6",children:[L.jsx(lk,{tempo:S,setTempo:T,selectedModel:N,setSelectedModel:O,modelInfo:w,debugMode:u,keySelection:P,setKey:et,selectedInstruments:D,setSelectedInstruments:X}),L.jsx(uk,{temperature:E,setTemperature:C,p:U,setP:R,numGems:z,setNumGems:V,rules:w.find(yt=>yt.model_name===N)?.rule})]}),L.jsx("div",{className:"card",children:L.jsx(ck,{onPlay:q,onPause:I,onStop:Y,onGenerate:nt,isGenerating:F,playbackState:h,progress:d,duration:jt,generatedMidis:Z,selectedGeneratedMidi:ht,onSelectedGeneratedMidiChange:tt})}),u&&vt&&L.jsxs("div",{className:"p-4 border border-dashed border-border bg-surface/30 rounded-lg",children:[L.jsx("h6",{className:"text-lg font-semibold mb-2",children:"Debug Information"}),L.jsx("pre",{className:"whitespace-pre-wrap break-all text-xs font-mono text-muted",children:JSON.stringify(vt,null,2)})]})]}),L.jsx("div",{className:"lg:col-span-8 h-full flex flex-col min-h-[400px]",children:L.jsx("div",{className:"card h-full flex flex-col p-0 overflow-hidden",children:i?L.jsx(V_,{ref:$t,midiData:i,progress:d,duration:jt,generationLength:b,setGenerationLength:v,onSeek:ft,onChordsChange:rt,onMute:_t,onSolo:Tt,onDelete:bt,onClear:Ct,trackMutes:ot,trackSolos:Et,selectionEnabled:w.find(yt=>yt.model_name===N)?.rule?.gen_measure_count===!0}):L.jsx("div",{className:"h-full p-6",children:(()=>{const yt=w.find(Ut=>Ut.model_name===N),xt=yt?.rule?.input_midi!==!1,qt=yt?.rule?.gen_measure_count===!0;if(xt)return L.jsx(rk,{onMidiUpload:K});{new Gn.Midi().addTrack();const Qt=new Gn.Midi;return Qt.addTrack(),L.jsx(V_,{ref:$t,midiData:Qt,progress:d,duration:jt,generationLength:b,setGenerationLength:v,onSeek:ft,onChordsChange:rt,onMute:_t,onSolo:Tt,onDelete:bt,onClear:Ct,trackMutes:ot,trackSolos:Et,selectionEnabled:qt})}})()})})})]}):L.jsxs("div",{className:"flex flex-col justify-center items-center h-full gap-4",children:[L.jsx(iv,{className:"w-12 h-12 animate-spin text-primary"}),L.jsx("p",{className:"text-xl text-muted",children:"Loading Samples..."})]})})]})}E1.createRoot(document.getElementById("root")).render(L.jsx(S1.StrictMode,{children:L.jsx(bk,{})}));
