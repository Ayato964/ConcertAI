<!DOCTYPE html>
<html lang="ja">

<head>
  <meta charset="UTF-8" />
  <title>MORTM Melody Generator</title>
  <link rel="stylesheet" href="style.css" />
  <script src="https://cdn.jsdelivr.net/npm/tone@14.8.49/build/Tone.js"></script>
  <script src="jsmidgen.js"></script>
</head>

<body>
  <div id="app">
    <header>
      <div class="header-left">
        <h1>MORTM Melody Generator</h1>
        <div class="model-tabs">
          <button class="model-tab active" data-model="mortm4omni">MORTM 4omni – SAX</button>
          <button class="model-tab" data-model="mortm4arrange">MORTM 4 arrange – SAX</button>
          <button class="model-tab" data-model="mortm4piano">MORTM 4 – PIANO</button>
        </div>
      </div>
      <div class="header-right">
        <div class="status-indicator">
          <span class="status-dot"></span>
          <span class="status-text">準備完了</span>
        </div>
      </div>
    </header>

    <div id="controls">
      <div id="controls-top-row">
        <div class="control-group">
          <label for="input-select">入力MIDI:</label>
          <select id="input-select">
            <option value="">--サンプルを選択--</option>
            <option value="sample1">サンプル1</option>
            <option value="sample2">サンプル2</option>
            <option value="sample3">サンプル3</option>
            <option value="upload">アップロード</option>
          </select>
          <input type="file" id="file-input" accept=".mid,.midi" style="display:none" />
        </div>
        <div class="control-group">
          <label for="resolution-select">分割:</label>
          <select id="resolution-select">
            <option value="1/4">1/4</option>
            <option value="1/8">1/8</option>
            <option value="1/16" selected>1/16</option>
            <option value="1/32">1/32</option>
            <option value="1/64">1/64</option>
            <option value="1/4t">1/4(３連符)</option>
            <option value="1/8t">1/8(３連符)</option>
            <option value="1/16t">1/16(３連符)</option>
            <option value="1/32t">1/32(３連符)</option>
            <option value="1/64t">1/64(３連符)</option>
          </select>
        </div>
        <div class="control-group">
          <label for="instrument-select">楽器:</label>
          <select id="instrument-select">
            <option value="piano">ピアノ</option>
            <option value="sax">サックス</option>
          </select>
        </div>
      </div>

      <div id="controls-bottom-row">
        <div id="advanced-settings">
          <button id="advanced-toggle" type="button">高度な設定</button>
          <div id="advanced-panel" style="display:none">
            <label for="temperature">温度:
              <input type="range" id="temperature" min="0.1" max="1.0" step="0.1" value="0.5" />
            </label>
            <label for="num-outputs">回答数:
              <input type="number" id="num-outputs" min="1" max="5" value="3" />
            </label>
          </div>
        </div>
        <div id="action-buttons">
          <button id="play-btn" type="button" disabled>▶ 再生</button>
          <button id="stop-btn" type="button" disabled>⏹ 停止</button>
          <button id="generate-btn" type="button" disabled>✨ 生成</button>
        </div>
      </div>
    </div>

    <div id="candidates-container" style="display:none"></div>

    <div id="pianoroll-container" style="display:none;">
      <p>ピアノロールは現在実装中です。</p>
    </div>

    <div id="download-container"></div>

    <div id="log-container"></div>
  </div>

  <!-- サンプル音源のプリロード -->
  <div id="audio-preload" style="display:none;">
    <!-- ピアノサンプル音源 -->
    <audio id="piano-c4" src="https://tonejs.github.io/audio/salamander/C4.mp3" preload="auto"></audio>
    <audio id="piano-c5" src="https://tonejs.github.io/audio/salamander/C5.mp3" preload="auto"></audio>
    <audio id="piano-c6" src="https://tonejs.github.io/audio/salamander/C6.mp3" preload="auto"></audio>

    <!-- サックスサンプル音源（代替としてより良い音色のシンセを使用） -->
  </div>

  <script src="script.js"></script>
</body>

</html>